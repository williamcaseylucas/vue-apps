/**
 * Make a map and return a function for checking if a key
 * is in that map.
 * IMPORTANT: all calls of this function must be prefixed with
 * \/\*#\_\_PURE\_\_\*\/
 * So that rollup can tree-shake them if necessary.
 */
function makeMap(str, expectsLowerCase) {
    const map = Object.create(null);
    const list = str.split(',');
    for (let i = 0; i < list.length; i++) {
        map[list[i]] = true;
    }
    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];
}

const GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +
    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +
    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';
const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);

/**
 * On the client we only need to offer special cases for boolean attributes that
 * have different names from their corresponding dom properties:
 * - itemscope -> N/A
 * - allowfullscreen -> allowFullscreen
 * - formnovalidate -> formNoValidate
 * - ismap -> isMap
 * - nomodule -> noModule
 * - novalidate -> noValidate
 * - readonly -> readOnly
 */
const specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
const isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);

function normalizeStyle(value) {
    if (isArray(value)) {
        const res = {};
        for (let i = 0; i < value.length; i++) {
            const item = value[i];
            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);
            if (normalized) {
                for (const key in normalized) {
                    res[key] = normalized[key];
                }
            }
        }
        return res;
    }
    else if (isObject$1(value)) {
        return value;
    }
}
const listDelimiterRE = /;(?![^(]*\))/g;
const propertyDelimiterRE = /:(.+)/;
function parseStringStyle(cssText) {
    const ret = {};
    cssText.split(listDelimiterRE).forEach(item => {
        if (item) {
            const tmp = item.split(propertyDelimiterRE);
            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
        }
    });
    return ret;
}
function normalizeClass(value) {
    let res = '';
    if (isString(value)) {
        res = value;
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            const normalized = normalizeClass(value[i]);
            if (normalized) {
                res += normalized + ' ';
            }
        }
    }
    else if (isObject$1(value)) {
        for (const name in value) {
            if (value[name]) {
                res += name + ' ';
            }
        }
    }
    return res.trim();
}

/**
 * For converting {{ interpolation }} values to displayed strings.
 * @private
 */
const toDisplayString = (val) => {
    return val == null
        ? ''
        : isObject$1(val)
            ? JSON.stringify(val, replacer, 2)
            : String(val);
};
const replacer = (_key, val) => {
    if (isMap(val)) {
        return {
            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {
                entries[`${key} =>`] = val;
                return entries;
            }, {})
        };
    }
    else if (isSet(val)) {
        return {
            [`Set(${val.size})`]: [...val.values()]
        };
    }
    else if (isObject$1(val) && !isArray(val) && !isPlainObject(val)) {
        return String(val);
    }
    return val;
};
const EMPTY_OBJ = {};
const EMPTY_ARR = [];
const NOOP = () => { };
/**
 * Always return false.
 */
const NO = () => false;
const onRE = /^on[^a-z]/;
const isOn = (key) => onRE.test(key);
const isModelListener = (key) => key.startsWith('onUpdate:');
const extend = Object.assign;
const remove = (arr, el) => {
    const i = arr.indexOf(el);
    if (i > -1) {
        arr.splice(i, 1);
    }
};
const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
const hasOwn = (val, key) => hasOwnProperty$1.call(val, key);
const isArray = Array.isArray;
const isMap = (val) => toTypeString(val) === '[object Map]';
const isSet = (val) => toTypeString(val) === '[object Set]';
const isFunction = (val) => typeof val === 'function';
const isString = (val) => typeof val === 'string';
const isSymbol = (val) => typeof val === 'symbol';
const isObject$1 = (val) => val !== null && typeof val === 'object';
const isPromise$1 = (val) => {
    return isObject$1(val) && isFunction(val.then) && isFunction(val.catch);
};
const objectToString = Object.prototype.toString;
const toTypeString = (value) => objectToString.call(value);
const toRawType = (value) => {
    // extract "RawType" from strings like "[object RawType]"
    return toTypeString(value).slice(8, -1);
};
const isPlainObject = (val) => toTypeString(val) === '[object Object]';
const isIntegerKey = (key) => isString(key) &&
    key !== 'NaN' &&
    key[0] !== '-' &&
    '' + parseInt(key, 10) === key;
const isReservedProp = /*#__PURE__*/ makeMap(
// the leading comma is intentional so empty string "" is also included
',key,ref,' +
    'onVnodeBeforeMount,onVnodeMounted,' +
    'onVnodeBeforeUpdate,onVnodeUpdated,' +
    'onVnodeBeforeUnmount,onVnodeUnmounted');
const cacheStringFunction = (fn) => {
    const cache = Object.create(null);
    return ((str) => {
        const hit = cache[str];
        return hit || (cache[str] = fn(str));
    });
};
const camelizeRE = /-(\w)/g;
/**
 * @private
 */
const camelize = cacheStringFunction((str) => {
    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));
});
const hyphenateRE = /\B([A-Z])/g;
/**
 * @private
 */
const hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());
/**
 * @private
 */
const capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));
/**
 * @private
 */
const toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));
// compare whether a value has changed, accounting for NaN.
const hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);
const invokeArrayFns = (fns, arg) => {
    for (let i = 0; i < fns.length; i++) {
        fns[i](arg);
    }
};
const def = (obj, key, value) => {
    Object.defineProperty(obj, key, {
        configurable: true,
        enumerable: false,
        value
    });
};
const toNumber = (val) => {
    const n = parseFloat(val);
    return isNaN(n) ? val : n;
};
let _globalThis;
const getGlobalThis = () => {
    return (_globalThis ||
        (_globalThis =
            typeof globalThis !== 'undefined'
                ? globalThis
                : typeof self !== 'undefined'
                    ? self
                    : typeof window !== 'undefined'
                        ? window
                        : typeof global !== 'undefined'
                            ? global
                            : {}));
};

const targetMap = new WeakMap();
const effectStack = [];
let activeEffect;
const ITERATE_KEY = Symbol('');
const MAP_KEY_ITERATE_KEY = Symbol('');
function isEffect(fn) {
    return fn && fn._isEffect === true;
}
function effect(fn, options = EMPTY_OBJ) {
    if (isEffect(fn)) {
        fn = fn.raw;
    }
    const effect = createReactiveEffect(fn, options);
    if (!options.lazy) {
        effect();
    }
    return effect;
}
function stop(effect) {
    if (effect.active) {
        cleanup(effect);
        if (effect.options.onStop) {
            effect.options.onStop();
        }
        effect.active = false;
    }
}
let uid$2 = 0;
function createReactiveEffect(fn, options) {
    const effect = function reactiveEffect() {
        if (!effect.active) {
            return options.scheduler ? undefined : fn();
        }
        if (!effectStack.includes(effect)) {
            cleanup(effect);
            try {
                enableTracking();
                effectStack.push(effect);
                activeEffect = effect;
                return fn();
            }
            finally {
                effectStack.pop();
                resetTracking();
                activeEffect = effectStack[effectStack.length - 1];
            }
        }
    };
    effect.id = uid$2++;
    effect.allowRecurse = !!options.allowRecurse;
    effect._isEffect = true;
    effect.active = true;
    effect.raw = fn;
    effect.deps = [];
    effect.options = options;
    return effect;
}
function cleanup(effect) {
    const { deps } = effect;
    if (deps.length) {
        for (let i = 0; i < deps.length; i++) {
            deps[i].delete(effect);
        }
        deps.length = 0;
    }
}
let shouldTrack = true;
const trackStack = [];
function pauseTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = false;
}
function enableTracking() {
    trackStack.push(shouldTrack);
    shouldTrack = true;
}
function resetTracking() {
    const last = trackStack.pop();
    shouldTrack = last === undefined ? true : last;
}
function track(target, type, key) {
    if (!shouldTrack || activeEffect === undefined) {
        return;
    }
    let depsMap = targetMap.get(target);
    if (!depsMap) {
        targetMap.set(target, (depsMap = new Map()));
    }
    let dep = depsMap.get(key);
    if (!dep) {
        depsMap.set(key, (dep = new Set()));
    }
    if (!dep.has(activeEffect)) {
        dep.add(activeEffect);
        activeEffect.deps.push(dep);
    }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
    const depsMap = targetMap.get(target);
    if (!depsMap) {
        // never been tracked
        return;
    }
    const effects = new Set();
    const add = (effectsToAdd) => {
        if (effectsToAdd) {
            effectsToAdd.forEach(effect => {
                if (effect !== activeEffect || effect.allowRecurse) {
                    effects.add(effect);
                }
            });
        }
    };
    if (type === "clear" /* CLEAR */) {
        // collection being cleared
        // trigger all effects for target
        depsMap.forEach(add);
    }
    else if (key === 'length' && isArray(target)) {
        depsMap.forEach((dep, key) => {
            if (key === 'length' || key >= newValue) {
                add(dep);
            }
        });
    }
    else {
        // schedule runs for SET | ADD | DELETE
        if (key !== void 0) {
            add(depsMap.get(key));
        }
        // also run for iteration key on ADD | DELETE | Map.SET
        switch (type) {
            case "add" /* ADD */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                else if (isIntegerKey(key)) {
                    // new index added to array -> length changes
                    add(depsMap.get('length'));
                }
                break;
            case "delete" /* DELETE */:
                if (!isArray(target)) {
                    add(depsMap.get(ITERATE_KEY));
                    if (isMap(target)) {
                        add(depsMap.get(MAP_KEY_ITERATE_KEY));
                    }
                }
                break;
            case "set" /* SET */:
                if (isMap(target)) {
                    add(depsMap.get(ITERATE_KEY));
                }
                break;
        }
    }
    const run = (effect) => {
        if (effect.options.scheduler) {
            effect.options.scheduler(effect);
        }
        else {
            effect();
        }
    };
    effects.forEach(run);
}

const isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);
const builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)
    .map(key => Symbol[key])
    .filter(isSymbol));
const get = /*#__PURE__*/ createGetter();
const shallowGet = /*#__PURE__*/ createGetter(false, true);
const readonlyGet = /*#__PURE__*/ createGetter(true);
const shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);
const arrayInstrumentations = {};
['includes', 'indexOf', 'lastIndexOf'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        const arr = toRaw(this);
        for (let i = 0, l = this.length; i < l; i++) {
            track(arr, "get" /* GET */, i + '');
        }
        // we run the method using the original args first (which may be reactive)
        const res = method.apply(arr, args);
        if (res === -1 || res === false) {
            // if that didn't work, run it again using raw values.
            return method.apply(arr, args.map(toRaw));
        }
        else {
            return res;
        }
    };
});
['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {
    const method = Array.prototype[key];
    arrayInstrumentations[key] = function (...args) {
        pauseTracking();
        const res = method.apply(this, args);
        resetTracking();
        return res;
    };
});
function createGetter(isReadonly = false, shallow = false) {
    return function get(target, key, receiver) {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */ &&
            receiver ===
                (isReadonly
                    ? shallow
                        ? shallowReadonlyMap
                        : readonlyMap
                    : shallow
                        ? shallowReactiveMap
                        : reactiveMap).get(target)) {
            return target;
        }
        const targetIsArray = isArray(target);
        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {
            return Reflect.get(arrayInstrumentations, key, receiver);
        }
        const res = Reflect.get(target, key, receiver);
        if (isSymbol(key)
            ? builtInSymbols.has(key)
            : isNonTrackableKeys(key)) {
            return res;
        }
        if (!isReadonly) {
            track(target, "get" /* GET */, key);
        }
        if (shallow) {
            return res;
        }
        if (isRef(res)) {
            // ref unwrapping - does not apply for Array + integer key.
            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);
            return shouldUnwrap ? res.value : res;
        }
        if (isObject$1(res)) {
            // Convert returned value into a proxy as well. we do the isObject check
            // here to avoid invalid value warning. Also need to lazy access readonly
            // and reactive here to avoid circular dependency.
            return isReadonly ? readonly(res) : reactive(res);
        }
        return res;
    };
}
const set = /*#__PURE__*/ createSetter();
const shallowSet = /*#__PURE__*/ createSetter(true);
function createSetter(shallow = false) {
    return function set(target, key, value, receiver) {
        let oldValue = target[key];
        if (!shallow) {
            value = toRaw(value);
            oldValue = toRaw(oldValue);
            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {
                oldValue.value = value;
                return true;
            }
        }
        const hadKey = isArray(target) && isIntegerKey(key)
            ? Number(key) < target.length
            : hasOwn(target, key);
        const result = Reflect.set(target, key, value, receiver);
        // don't trigger if target is something up in the prototype chain of original
        if (target === toRaw(receiver)) {
            if (!hadKey) {
                trigger(target, "add" /* ADD */, key, value);
            }
            else if (hasChanged(value, oldValue)) {
                trigger(target, "set" /* SET */, key, value);
            }
        }
        return result;
    };
}
function deleteProperty(target, key) {
    const hadKey = hasOwn(target, key);
    target[key];
    const result = Reflect.deleteProperty(target, key);
    if (result && hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function has(target, key) {
    const result = Reflect.has(target, key);
    if (!isSymbol(key) || !builtInSymbols.has(key)) {
        track(target, "has" /* HAS */, key);
    }
    return result;
}
function ownKeys(target) {
    track(target, "iterate" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);
    return Reflect.ownKeys(target);
}
const mutableHandlers = {
    get,
    set,
    deleteProperty,
    has,
    ownKeys
};
const readonlyHandlers = {
    get: readonlyGet,
    set(target, key) {
        return true;
    },
    deleteProperty(target, key) {
        return true;
    }
};
const shallowReactiveHandlers = extend({}, mutableHandlers, {
    get: shallowGet,
    set: shallowSet
});
// Props handlers are special in the sense that it should not unwrap top-level
// refs (in order to allow refs to be explicitly passed down), but should
// retain the reactivity of the normal readonly object.
extend({}, readonlyHandlers, {
    get: shallowReadonlyGet
});

const toReactive = (value) => isObject$1(value) ? reactive(value) : value;
const toReadonly = (value) => isObject$1(value) ? readonly(value) : value;
const toShallow = (value) => value;
const getProto = (v) => Reflect.getPrototypeOf(v);
function get$1(target, key, isReadonly = false, isShallow = false) {
    // #1772: readonly(reactive(Map)) should return readonly + reactive version
    // of the value
    target = target["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "get" /* GET */, key);
    }
    !isReadonly && track(rawTarget, "get" /* GET */, rawKey);
    const { has } = getProto(rawTarget);
    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    if (has.call(rawTarget, key)) {
        return wrap(target.get(key));
    }
    else if (has.call(rawTarget, rawKey)) {
        return wrap(target.get(rawKey));
    }
}
function has$1(key, isReadonly = false) {
    const target = this["__v_raw" /* RAW */];
    const rawTarget = toRaw(target);
    const rawKey = toRaw(key);
    if (key !== rawKey) {
        !isReadonly && track(rawTarget, "has" /* HAS */, key);
    }
    !isReadonly && track(rawTarget, "has" /* HAS */, rawKey);
    return key === rawKey
        ? target.has(key)
        : target.has(key) || target.has(rawKey);
}
function size(target, isReadonly = false) {
    target = target["__v_raw" /* RAW */];
    !isReadonly && track(toRaw(target), "iterate" /* ITERATE */, ITERATE_KEY);
    return Reflect.get(target, 'size', target);
}
function add(value) {
    value = toRaw(value);
    const target = toRaw(this);
    const proto = getProto(target);
    const hadKey = proto.has.call(target, value);
    if (!hadKey) {
        target.add(value);
        trigger(target, "add" /* ADD */, value, value);
    }
    return this;
}
function set$1(key, value) {
    value = toRaw(value);
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    const oldValue = get.call(target, key);
    target.set(key, value);
    if (!hadKey) {
        trigger(target, "add" /* ADD */, key, value);
    }
    else if (hasChanged(value, oldValue)) {
        trigger(target, "set" /* SET */, key, value);
    }
    return this;
}
function deleteEntry(key) {
    const target = toRaw(this);
    const { has, get } = getProto(target);
    let hadKey = has.call(target, key);
    if (!hadKey) {
        key = toRaw(key);
        hadKey = has.call(target, key);
    }
    get ? get.call(target, key) : undefined;
    // forward the operation before queueing reactions
    const result = target.delete(key);
    if (hadKey) {
        trigger(target, "delete" /* DELETE */, key, undefined);
    }
    return result;
}
function clear() {
    const target = toRaw(this);
    const hadItems = target.size !== 0;
    // forward the operation before queueing reactions
    const result = target.clear();
    if (hadItems) {
        trigger(target, "clear" /* CLEAR */, undefined, undefined);
    }
    return result;
}
function createForEach(isReadonly, isShallow) {
    return function forEach(callback, thisArg) {
        const observed = this;
        const target = observed["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly && track(rawTarget, "iterate" /* ITERATE */, ITERATE_KEY);
        return target.forEach((value, key) => {
            // important: make sure the callback is
            // 1. invoked with the reactive map as `this` and 3rd arg
            // 2. the value received should be a corresponding reactive/readonly.
            return callback.call(thisArg, wrap(value), wrap(key), observed);
        });
    };
}
function createIterableMethod(method, isReadonly, isShallow) {
    return function (...args) {
        const target = this["__v_raw" /* RAW */];
        const rawTarget = toRaw(target);
        const targetIsMap = isMap(rawTarget);
        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);
        const isKeyOnly = method === 'keys' && targetIsMap;
        const innerIterator = target[method](...args);
        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
        !isReadonly &&
            track(rawTarget, "iterate" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
        // return a wrapped iterator which returns observed versions of the
        // values emitted from the real iterator
        return {
            // iterator protocol
            next() {
                const { value, done } = innerIterator.next();
                return done
                    ? { value, done }
                    : {
                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
                        done
                    };
            },
            // iterable protocol
            [Symbol.iterator]() {
                return this;
            }
        };
    };
}
function createReadonlyMethod(type) {
    return function (...args) {
        return type === "delete" /* DELETE */ ? false : this;
    };
}
const mutableInstrumentations = {
    get(key) {
        return get$1(this, key);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
};
const shallowInstrumentations = {
    get(key) {
        return get$1(this, key, false, true);
    },
    get size() {
        return size(this);
    },
    has: has$1,
    add,
    set: set$1,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
};
const readonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, false)
};
const shallowReadonlyInstrumentations = {
    get(key) {
        return get$1(this, key, true, true);
    },
    get size() {
        return size(this, true);
    },
    has(key) {
        return has$1.call(this, key, true);
    },
    add: createReadonlyMethod("add" /* ADD */),
    set: createReadonlyMethod("set" /* SET */),
    delete: createReadonlyMethod("delete" /* DELETE */),
    clear: createReadonlyMethod("clear" /* CLEAR */),
    forEach: createForEach(true, true)
};
const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];
iteratorMethods.forEach(method => {
    mutableInstrumentations[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations[method] = createIterableMethod(method, true, false);
    shallowInstrumentations[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);
});
function createInstrumentationGetter(isReadonly, shallow) {
    const instrumentations = shallow
        ? isReadonly
            ? shallowReadonlyInstrumentations
            : shallowInstrumentations
        : isReadonly
            ? readonlyInstrumentations
            : mutableInstrumentations;
    return (target, key, receiver) => {
        if (key === "__v_isReactive" /* IS_REACTIVE */) {
            return !isReadonly;
        }
        else if (key === "__v_isReadonly" /* IS_READONLY */) {
            return isReadonly;
        }
        else if (key === "__v_raw" /* RAW */) {
            return target;
        }
        return Reflect.get(hasOwn(instrumentations, key) && key in target
            ? instrumentations
            : target, key, receiver);
    };
}
const mutableCollectionHandlers = {
    get: createInstrumentationGetter(false, false)
};
const shallowCollectionHandlers = {
    get: createInstrumentationGetter(false, true)
};
const readonlyCollectionHandlers = {
    get: createInstrumentationGetter(true, false)
};

const reactiveMap = new WeakMap();
const shallowReactiveMap = new WeakMap();
const readonlyMap = new WeakMap();
const shallowReadonlyMap = new WeakMap();
function targetTypeMap(rawType) {
    switch (rawType) {
        case 'Object':
        case 'Array':
            return 1 /* COMMON */;
        case 'Map':
        case 'Set':
        case 'WeakMap':
        case 'WeakSet':
            return 2 /* COLLECTION */;
        default:
            return 0 /* INVALID */;
    }
}
function getTargetType(value) {
    return value["__v_skip" /* SKIP */] || !Object.isExtensible(value)
        ? 0 /* INVALID */
        : targetTypeMap(toRawType(value));
}
function reactive(target) {
    // if trying to observe a readonly proxy, return the readonly version.
    if (target && target["__v_isReadonly" /* IS_READONLY */]) {
        return target;
    }
    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
/**
 * Return a shallowly-reactive copy of the original object, where only the root
 * level properties are reactive. It also does not auto-unwrap refs (even at the
 * root level).
 */
function shallowReactive(target) {
    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
/**
 * Creates a readonly copy of the original object. Note the returned copy is not
 * made reactive, but `readonly` can be called on an already reactive object.
 */
function readonly(target) {
    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {
    if (!isObject$1(target)) {
        return target;
    }
    // target is already a Proxy, return it.
    // exception: calling readonly() on a reactive object
    if (target["__v_raw" /* RAW */] &&
        !(isReadonly && target["__v_isReactive" /* IS_REACTIVE */])) {
        return target;
    }
    // target already has corresponding Proxy
    const existingProxy = proxyMap.get(target);
    if (existingProxy) {
        return existingProxy;
    }
    // only a whitelist of value types can be observed.
    const targetType = getTargetType(target);
    if (targetType === 0 /* INVALID */) {
        return target;
    }
    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
    proxyMap.set(target, proxy);
    return proxy;
}
function isReactive(value) {
    if (isReadonly(value)) {
        return isReactive(value["__v_raw" /* RAW */]);
    }
    return !!(value && value["__v_isReactive" /* IS_REACTIVE */]);
}
function isReadonly(value) {
    return !!(value && value["__v_isReadonly" /* IS_READONLY */]);
}
function isProxy(value) {
    return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
    return ((observed && toRaw(observed["__v_raw" /* RAW */])) || observed);
}
function isRef(r) {
    return Boolean(r && r.__v_isRef === true);
}
function unref(ref) {
    return isRef(ref) ? ref.value : ref;
}
const shallowUnwrapHandlers = {
    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),
    set: (target, key, value, receiver) => {
        const oldValue = target[key];
        if (isRef(oldValue) && !isRef(value)) {
            oldValue.value = value;
            return true;
        }
        else {
            return Reflect.set(target, key, value, receiver);
        }
    }
};
function proxyRefs(objectWithRefs) {
    return isReactive(objectWithRefs)
        ? objectWithRefs
        : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
class ObjectRefImpl {
    constructor(_object, _key) {
        this._object = _object;
        this._key = _key;
        this.__v_isRef = true;
    }
    get value() {
        return this._object[this._key];
    }
    set value(newVal) {
        this._object[this._key] = newVal;
    }
}
function toRef(object, key) {
    return isRef(object[key])
        ? object[key]
        : new ObjectRefImpl(object, key);
}

class ComputedRefImpl {
    constructor(getter, _setter, isReadonly) {
        this._setter = _setter;
        this._dirty = true;
        this.__v_isRef = true;
        this.effect = effect(getter, {
            lazy: true,
            scheduler: () => {
                if (!this._dirty) {
                    this._dirty = true;
                    trigger(toRaw(this), "set" /* SET */, 'value');
                }
            }
        });
        this["__v_isReadonly" /* IS_READONLY */] = isReadonly;
    }
    get value() {
        // the computed ref may get wrapped by other proxies e.g. readonly() #3376
        const self = toRaw(this);
        if (self._dirty) {
            self._value = this.effect();
            self._dirty = false;
        }
        track(self, "get" /* GET */, 'value');
        return self._value;
    }
    set value(newValue) {
        this._setter(newValue);
    }
}
function computed$1(getterOrOptions) {
    let getter;
    let setter;
    if (isFunction(getterOrOptions)) {
        getter = getterOrOptions;
        setter = NOOP;
    }
    else {
        getter = getterOrOptions.get;
        setter = getterOrOptions.set;
    }
    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);
}

const stack = [];
function warn(msg, ...args) {
    // avoid props formatting or warn handler tracking deps that might be mutated
    // during patch, leading to infinite recursion.
    pauseTracking();
    const instance = stack.length ? stack[stack.length - 1].component : null;
    const appWarnHandler = instance && instance.appContext.config.warnHandler;
    const trace = getComponentTrace();
    if (appWarnHandler) {
        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [
            msg + args.join(''),
            instance && instance.proxy,
            trace
                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)
                .join('\n'),
            trace
        ]);
    }
    else {
        const warnArgs = [`[Vue warn]: ${msg}`, ...args];
        /* istanbul ignore if */
        if (trace.length &&
            // avoid spamming console during tests
            !false) {
            warnArgs.push(`\n`, ...formatTrace(trace));
        }
        console.warn(...warnArgs);
    }
    resetTracking();
}
function getComponentTrace() {
    let currentVNode = stack[stack.length - 1];
    if (!currentVNode) {
        return [];
    }
    // we can't just use the stack because it will be incomplete during updates
    // that did not start from the root. Re-construct the parent chain using
    // instance parent pointers.
    const normalizedStack = [];
    while (currentVNode) {
        const last = normalizedStack[0];
        if (last && last.vnode === currentVNode) {
            last.recurseCount++;
        }
        else {
            normalizedStack.push({
                vnode: currentVNode,
                recurseCount: 0
            });
        }
        const parentInstance = currentVNode.component && currentVNode.component.parent;
        currentVNode = parentInstance && parentInstance.vnode;
    }
    return normalizedStack;
}
/* istanbul ignore next */
function formatTrace(trace) {
    const logs = [];
    trace.forEach((entry, i) => {
        logs.push(...(i === 0 ? [] : [`\n`]), ...formatTraceEntry(entry));
    });
    return logs;
}
function formatTraceEntry({ vnode, recurseCount }) {
    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
    const isRoot = vnode.component ? vnode.component.parent == null : false;
    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
    const close = `>` + postfix;
    return vnode.props
        ? [open, ...formatProps(vnode.props), close]
        : [open + close];
}
/* istanbul ignore next */
function formatProps(props) {
    const res = [];
    const keys = Object.keys(props);
    keys.slice(0, 3).forEach(key => {
        res.push(...formatProp(key, props[key]));
    });
    if (keys.length > 3) {
        res.push(` ...`);
    }
    return res;
}
/* istanbul ignore next */
function formatProp(key, value, raw) {
    if (isString(value)) {
        value = JSON.stringify(value);
        return raw ? value : [`${key}=${value}`];
    }
    else if (typeof value === 'number' ||
        typeof value === 'boolean' ||
        value == null) {
        return raw ? value : [`${key}=${value}`];
    }
    else if (isRef(value)) {
        value = formatProp(key, toRaw(value.value), true);
        return raw ? value : [`${key}=Ref<`, value, `>`];
    }
    else if (isFunction(value)) {
        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
    }
    else {
        value = toRaw(value);
        return raw ? value : [`${key}=`, value];
    }
}
function callWithErrorHandling(fn, instance, type, args) {
    let res;
    try {
        res = args ? fn(...args) : fn();
    }
    catch (err) {
        handleError(err, instance, type);
    }
    return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
    if (isFunction(fn)) {
        const res = callWithErrorHandling(fn, instance, type, args);
        if (res && isPromise$1(res)) {
            res.catch(err => {
                handleError(err, instance, type);
            });
        }
        return res;
    }
    const values = [];
    for (let i = 0; i < fn.length; i++) {
        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
    }
    return values;
}
function handleError(err, instance, type, throwInDev = true) {
    const contextVNode = instance ? instance.vnode : null;
    if (instance) {
        let cur = instance.parent;
        // the exposed instance is the render proxy to keep it consistent with 2.x
        const exposedInstance = instance.proxy;
        // in production the hook receives only the error code
        const errorInfo = type;
        while (cur) {
            const errorCapturedHooks = cur.ec;
            if (errorCapturedHooks) {
                for (let i = 0; i < errorCapturedHooks.length; i++) {
                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
                        return;
                    }
                }
            }
            cur = cur.parent;
        }
        // app-level handling
        const appErrorHandler = instance.appContext.config.errorHandler;
        if (appErrorHandler) {
            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);
            return;
        }
    }
    logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode, throwInDev = true) {
    {
        // recover in prod to reduce the impact on end-user
        console.error(err);
    }
}

let isFlushing = false;
let isFlushPending = false;
const queue = [];
let flushIndex = 0;
const pendingPreFlushCbs = [];
let activePreFlushCbs = null;
let preFlushIndex = 0;
const pendingPostFlushCbs = [];
let activePostFlushCbs = null;
let postFlushIndex = 0;
const resolvedPromise = Promise.resolve();
let currentFlushPromise = null;
let currentPreFlushParentJob = null;
const RECURSION_LIMIT = 100;
function nextTick(fn) {
    const p = currentFlushPromise || resolvedPromise;
    return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
// #2768
// Use binary-search to find a suitable position in the queue,
// so that the queue maintains the increasing order of job's id,
// which can prevent the job from being skipped and also can avoid repeated patching.
function findInsertionIndex(job) {
    // the start index should be `flushIndex + 1`
    let start = flushIndex + 1;
    let end = queue.length;
    const jobId = getId(job);
    while (start < end) {
        const middle = (start + end) >>> 1;
        const middleJobId = getId(queue[middle]);
        middleJobId < jobId ? (start = middle + 1) : (end = middle);
    }
    return start;
}
function queueJob(job) {
    // the dedupe search uses the startIndex argument of Array.includes()
    // by default the search index includes the current job that is being run
    // so it cannot recursively trigger itself again.
    // if the job is a watch() callback, the search will start with a +1 index to
    // allow it recursively trigger itself - it is the user's responsibility to
    // ensure it doesn't end up in an infinite loop.
    if ((!queue.length ||
        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&
        job !== currentPreFlushParentJob) {
        const pos = findInsertionIndex(job);
        if (pos > -1) {
            queue.splice(pos, 0, job);
        }
        else {
            queue.push(job);
        }
        queueFlush();
    }
}
function queueFlush() {
    if (!isFlushing && !isFlushPending) {
        isFlushPending = true;
        currentFlushPromise = resolvedPromise.then(flushJobs);
    }
}
function invalidateJob(job) {
    const i = queue.indexOf(job);
    if (i > flushIndex) {
        queue.splice(i, 1);
    }
}
function queueCb(cb, activeQueue, pendingQueue, index) {
    if (!isArray(cb)) {
        if (!activeQueue ||
            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {
            pendingQueue.push(cb);
        }
    }
    else {
        // if cb is an array, it is a component lifecycle hook which can only be
        // triggered by a job, which is already deduped in the main queue, so
        // we can skip duplicate check here to improve perf
        pendingQueue.push(...cb);
    }
    queueFlush();
}
function queuePreFlushCb(cb) {
    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);
}
function queuePostFlushCb(cb) {
    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);
}
function flushPreFlushCbs(seen, parentJob = null) {
    if (pendingPreFlushCbs.length) {
        currentPreFlushParentJob = parentJob;
        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];
        pendingPreFlushCbs.length = 0;
        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {
            activePreFlushCbs[preFlushIndex]();
        }
        activePreFlushCbs = null;
        preFlushIndex = 0;
        currentPreFlushParentJob = null;
        // recursively flush until it drains
        flushPreFlushCbs(seen, parentJob);
    }
}
function flushPostFlushCbs(seen) {
    if (pendingPostFlushCbs.length) {
        const deduped = [...new Set(pendingPostFlushCbs)];
        pendingPostFlushCbs.length = 0;
        // #1947 already has active queue, nested flushPostFlushCbs call
        if (activePostFlushCbs) {
            activePostFlushCbs.push(...deduped);
            return;
        }
        activePostFlushCbs = deduped;
        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));
        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
            activePostFlushCbs[postFlushIndex]();
        }
        activePostFlushCbs = null;
        postFlushIndex = 0;
    }
}
const getId = (job) => job.id == null ? Infinity : job.id;
function flushJobs(seen) {
    isFlushPending = false;
    isFlushing = true;
    flushPreFlushCbs(seen);
    // Sort queue before flush.
    // This ensures that:
    // 1. Components are updated from parent to child. (because parent is always
    //    created before the child so its render effect will have smaller
    //    priority number)
    // 2. If a component is unmounted during a parent component's update,
    //    its update can be skipped.
    queue.sort((a, b) => getId(a) - getId(b));
    try {
        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
            const job = queue[flushIndex];
            if (job) {
                if (("production" !== 'production')) ;
                callWithErrorHandling(job, null, 14 /* SCHEDULER */);
            }
        }
    }
    finally {
        flushIndex = 0;
        queue.length = 0;
        flushPostFlushCbs();
        isFlushing = false;
        currentFlushPromise = null;
        // some postFlushCb queued jobs!
        // keep flushing until it drains.
        if (queue.length || pendingPostFlushCbs.length) {
            flushJobs(seen);
        }
    }
}
function checkRecursiveUpdates(seen, fn) {
    if (!seen.has(fn)) {
        seen.set(fn, 1);
    }
    else {
        const count = seen.get(fn);
        if (count > RECURSION_LIMIT) {
            throw new Error(`Maximum recursive updates exceeded. ` +
                `This means you have a reactive effect that is mutating its own ` +
                `dependencies and thus recursively triggering itself. Possible sources ` +
                `include component template, render function, updated hook or ` +
                `watcher source function.`);
        }
        else {
            seen.set(fn, count + 1);
        }
    }
}

let devtools;
function setDevtoolsHook(hook) {
    devtools = hook;
}
function devtoolsInitApp(app, version) {
    // TODO queue if devtools is undefined
    if (!devtools)
        return;
    devtools.emit("app:init" /* APP_INIT */, app, version, {
        Fragment,
        Text,
        Comment,
        Static
    });
}
function devtoolsUnmountApp(app) {
    if (!devtools)
        return;
    devtools.emit("app:unmount" /* APP_UNMOUNT */, app);
}
const devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */);
const devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */);
const devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */);
function createDevtoolsComponentHook(hook) {
    return (component) => {
        if (!devtools)
            return;
        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);
    };
}
function devtoolsComponentEmit(component, event, params) {
    if (!devtools)
        return;
    devtools.emit("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}

function emit(instance, event, ...rawArgs) {
    const props = instance.vnode.props || EMPTY_OBJ;
    let args = rawArgs;
    const isModelListener = event.startsWith('update:');
    // for v-model update:xxx events, apply modifiers on args
    const modelArg = isModelListener && event.slice(7);
    if (modelArg && modelArg in props) {
        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;
        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;
        if (trim) {
            args = rawArgs.map(a => a.trim());
        }
        else if (number) {
            args = rawArgs.map(toNumber);
        }
    }
    if (__VUE_PROD_DEVTOOLS__) {
        devtoolsComponentEmit(instance, event, args);
    }
    let handlerName;
    let handler = props[(handlerName = toHandlerKey(event))] ||
        // also try camelCase event handler (#2249)
        props[(handlerName = toHandlerKey(camelize(event)))];
    // for v-model update:xxx events, also trigger kebab-case equivalent
    // for props passed via kebab-case
    if (!handler && isModelListener) {
        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];
    }
    if (handler) {
        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
    const onceHandler = props[handlerName + `Once`];
    if (onceHandler) {
        if (!instance.emitted) {
            (instance.emitted = {})[handlerName] = true;
        }
        else if (instance.emitted[handlerName]) {
            return;
        }
        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);
    }
}
function normalizeEmitsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__emits !== undefined) {
        return comp.__emits;
    }
    const raw = comp.emits;
    let normalized = {};
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendEmits = (raw) => {
            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);
            if (normalizedFromExtend) {
                hasExtends = true;
                extend(normalized, normalizedFromExtend);
            }
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendEmits);
        }
        if (comp.extends) {
            extendEmits(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendEmits);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__emits = null);
    }
    if (isArray(raw)) {
        raw.forEach(key => (normalized[key] = null));
    }
    else {
        extend(normalized, raw);
    }
    return (comp.__emits = normalized);
}
// Check if an incoming prop key is a declared emit event listener.
// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are
// both considered matched listeners.
function isEmitListener(options, key) {
    if (!options || !isOn(key)) {
        return false;
    }
    key = key.slice(2).replace(/Once$/, '');
    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||
        hasOwn(options, hyphenate(key)) ||
        hasOwn(options, key));
}

let isRenderingCompiledSlot = 0;
const setCompiledSlotRendering = (n) => (isRenderingCompiledSlot += n);

/**
 * mark the current rendering instance for asset resolution (e.g.
 * resolveComponent, resolveDirective) during render
 */
let currentRenderingInstance = null;
let currentScopeId = null;
/**
 * Note: rendering calls maybe nested. The function returns the parent rendering
 * instance if present, which should be restored after the render is done:
 *
 * ```js
 * const prev = setCurrentRenderingInstance(i)
 * // ...render
 * setCurrentRenderingInstance(prev)
 * ```
 */
function setCurrentRenderingInstance(instance) {
    const prev = currentRenderingInstance;
    currentRenderingInstance = instance;
    currentScopeId = (instance && instance.type.__scopeId) || null;
    return prev;
}
/**
 * Set scope id when creating hoisted vnodes.
 * @private compiler helper
 */
function pushScopeId(id) {
    currentScopeId = id;
}
/**
 * Technically we no longer need this after 3.0.8 but we need to keep the same
 * API for backwards compat w/ code generated by compilers.
 * @private
 */
function popScopeId() {
    currentScopeId = null;
}
/**
 * Only for backwards compat
 * @private
 */
const withScopeId = (_id) => withCtx;
/**
 * Wrap a slot function to memoize current rendering instance
 * @private compiler helper
 */
function withCtx(fn, ctx = currentRenderingInstance) {
    if (!ctx)
        return fn;
    const renderFnWithContext = (...args) => {
        // If a user calls a compiled slot inside a template expression (#1745), it
        // can mess up block tracking, so by default we need to push a null block to
        // avoid that. This isn't necessary if rendering a compiled `<slot>`.
        if (!isRenderingCompiledSlot) {
            openBlock(true /* null block that disables tracking */);
        }
        const prevInstance = setCurrentRenderingInstance(ctx);
        const res = fn(...args);
        setCurrentRenderingInstance(prevInstance);
        if (!isRenderingCompiledSlot) {
            closeBlock();
        }
        return res;
    };
    // mark this as a compiled slot function.
    // this is used in vnode.ts -> normalizeChildren() to set the slot
    // rendering flag.
    renderFnWithContext._c = true;
    return renderFnWithContext;
}

/**
 * dev only flag to track whether $attrs was used during render.
 * If $attrs was used during render then the warning for failed attrs
 * fallthrough can be suppressed.
 */
let accessedAttrs = false;
function markAttrsAccessed() {
    accessedAttrs = true;
}
function renderComponentRoot(instance) {
    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx } = instance;
    let result;
    const prev = setCurrentRenderingInstance(instance);
    try {
        let fallthroughAttrs;
        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
            // withProxy is a proxy with a different `has` trap only for
            // runtime-compiled render functions using `with` block.
            const proxyToUse = withProxy || proxy;
            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));
            fallthroughAttrs = attrs;
        }
        else {
            // functional
            const render = Component;
            // in dev, mark attrs accessed if optional props (attrs === props)
            if (("production" !== 'production') && attrs === props) ;
            result = normalizeVNode(render.length > 1
                ? render(props, ("production" !== 'production')
                    ? {
                        get attrs() {
                            markAttrsAccessed();
                            return attrs;
                        },
                        slots,
                        emit
                    }
                    : { attrs, slots, emit })
                : render(props, null /* we know it doesn't need it */));
            fallthroughAttrs = Component.props
                ? attrs
                : getFunctionalFallthrough(attrs);
        }
        // attr merging
        // in dev mode, comments are preserved, and it's possible for a template
        // to have comments along side the root element which makes it a fragment
        let root = result;
        let setRoot = undefined;
        if (("production" !== 'production') &&
            result.patchFlag > 0 &&
            result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) ;
        if (Component.inheritAttrs !== false && fallthroughAttrs) {
            const keys = Object.keys(fallthroughAttrs);
            const { shapeFlag } = root;
            if (keys.length) {
                if (shapeFlag & 1 /* ELEMENT */ ||
                    shapeFlag & 6 /* COMPONENT */) {
                    if (propsOptions && keys.some(isModelListener)) {
                        // If a v-model listener (onUpdate:xxx) has a corresponding declared
                        // prop, it indicates this component expects to handle v-model and
                        // it should not fallthrough.
                        // related: #1543, #1643, #1989
                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
                    }
                    root = cloneVNode(root, fallthroughAttrs);
                }
                else if (("production" !== 'production') && !accessedAttrs && root.type !== Comment) ;
            }
        }
        // inherit directives
        if (vnode.dirs) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
        }
        // inherit transition data
        if (vnode.transition) {
            if (("production" !== 'production') && !isElementRoot(root)) ;
            root.transition = vnode.transition;
        }
        if (("production" !== 'production') && setRoot) ;
        else {
            result = root;
        }
    }
    catch (err) {
        blockStack.length = 0;
        handleError(err, instance, 1 /* RENDER_FUNCTION */);
        result = createVNode(Comment);
    }
    setCurrentRenderingInstance(prev);
    return result;
}
/**
 * dev only
 * In dev mode, template root level comments are rendered, which turns the
 * template into a fragment root, but we need to locate the single element
 * root for attrs and scope id processing.
 */
const getChildRoot = (vnode) => {
    const rawChildren = vnode.children;
    const dynamicChildren = vnode.dynamicChildren;
    const childRoot = filterSingleRoot(rawChildren);
    if (!childRoot) {
        return [vnode, undefined];
    }
    const index = rawChildren.indexOf(childRoot);
    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
    const setRoot = (updatedRoot) => {
        rawChildren[index] = updatedRoot;
        if (dynamicChildren) {
            if (dynamicIndex > -1) {
                dynamicChildren[dynamicIndex] = updatedRoot;
            }
            else if (updatedRoot.patchFlag > 0) {
                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];
            }
        }
    };
    return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
    let singleRoot;
    for (let i = 0; i < children.length; i++) {
        const child = children[i];
        if (isVNode(child)) {
            // ignore user comment
            if (child.type !== Comment || child.children === 'v-if') {
                if (singleRoot) {
                    // has more than 1 non-comment child, return now
                    return;
                }
                else {
                    singleRoot = child;
                }
            }
        }
        else {
            return;
        }
    }
    return singleRoot;
}
const getFunctionalFallthrough = (attrs) => {
    let res;
    for (const key in attrs) {
        if (key === 'class' || key === 'style' || isOn(key)) {
            (res || (res = {}))[key] = attrs[key];
        }
    }
    return res;
};
const filterModelListeners = (attrs, props) => {
    const res = {};
    for (const key in attrs) {
        if (!isModelListener(key) || !(key.slice(9) in props)) {
            res[key] = attrs[key];
        }
    }
    return res;
};
const isElementRoot = (vnode) => {
    return (vnode.shapeFlag & 6 /* COMPONENT */ ||
        vnode.shapeFlag & 1 /* ELEMENT */ ||
        vnode.type === Comment // potential v-if branch switch
    );
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
    const { props: prevProps, children: prevChildren, component } = prevVNode;
    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;
    const emits = component.emitsOptions;
    // force child update for runtime directive or transition on component vnode.
    if (nextVNode.dirs || nextVNode.transition) {
        return true;
    }
    if (optimized && patchFlag >= 0) {
        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {
            // slot content that references values that might have changed,
            // e.g. in a v-for
            return true;
        }
        if (patchFlag & 16 /* FULL_PROPS */) {
            if (!prevProps) {
                return !!nextProps;
            }
            // presence of this flag indicates props are always non-null
            return hasPropsChanged(prevProps, nextProps, emits);
        }
        else if (patchFlag & 8 /* PROPS */) {
            const dynamicProps = nextVNode.dynamicProps;
            for (let i = 0; i < dynamicProps.length; i++) {
                const key = dynamicProps[i];
                if (nextProps[key] !== prevProps[key] &&
                    !isEmitListener(emits, key)) {
                    return true;
                }
            }
        }
    }
    else {
        // this path is only taken by manually written render functions
        // so presence of any children leads to a forced update
        if (prevChildren || nextChildren) {
            if (!nextChildren || !nextChildren.$stable) {
                return true;
            }
        }
        if (prevProps === nextProps) {
            return false;
        }
        if (!prevProps) {
            return !!nextProps;
        }
        if (!nextProps) {
            return true;
        }
        return hasPropsChanged(prevProps, nextProps, emits);
    }
    return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
    const nextKeys = Object.keys(nextProps);
    if (nextKeys.length !== Object.keys(prevProps).length) {
        return true;
    }
    for (let i = 0; i < nextKeys.length; i++) {
        const key = nextKeys[i];
        if (nextProps[key] !== prevProps[key] &&
            !isEmitListener(emitsOptions, key)) {
            return true;
        }
    }
    return false;
}
function updateHOCHostEl({ vnode, parent }, el // HostNode
) {
    while (parent && parent.subTree === vnode) {
        (vnode = parent.vnode).el = el;
        parent = parent.parent;
    }
}

const isSuspense = (type) => type.__isSuspense;
function normalizeSuspenseChildren(vnode) {
    const { shapeFlag, children } = vnode;
    let content;
    let fallback;
    if (shapeFlag & 32 /* SLOTS_CHILDREN */) {
        content = normalizeSuspenseSlot(children.default);
        fallback = normalizeSuspenseSlot(children.fallback);
    }
    else {
        content = normalizeSuspenseSlot(children);
        fallback = normalizeVNode(null);
    }
    return {
        content,
        fallback
    };
}
function normalizeSuspenseSlot(s) {
    if (isFunction(s)) {
        s = s();
    }
    if (isArray(s)) {
        const singleChild = filterSingleRoot(s);
        s = singleChild;
    }
    return normalizeVNode(s);
}
function queueEffectWithSuspense(fn, suspense) {
    if (suspense && suspense.pendingBranch) {
        if (isArray(fn)) {
            suspense.effects.push(...fn);
        }
        else {
            suspense.effects.push(fn);
        }
    }
    else {
        queuePostFlushCb(fn);
    }
}

function initProps(instance, rawProps, isStateful, // result of bitwise flag comparison
isSSR = false) {
    const props = {};
    const attrs = {};
    def(attrs, InternalObjectKey, 1);
    instance.propsDefaults = Object.create(null);
    setFullProps(instance, rawProps, props, attrs);
    if (isStateful) {
        // stateful
        instance.props = isSSR ? props : shallowReactive(props);
    }
    else {
        if (!instance.type.props) {
            // functional w/ optional props, props === attrs
            instance.props = attrs;
        }
        else {
            // functional w/ declared props
            instance.props = props;
        }
    }
    instance.attrs = attrs;
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
    const { props, attrs, vnode: { patchFlag } } = instance;
    const rawCurrentProps = toRaw(props);
    const [options] = instance.propsOptions;
    if (
    // always force full diff in dev
    // - #1942 if hmr is enabled with sfc component
    // - vite#872 non-sfc component used by sfc component
    (optimized || patchFlag > 0) &&
        !(patchFlag & 16 /* FULL_PROPS */)) {
        if (patchFlag & 8 /* PROPS */) {
            // Compiler-generated props & no keys change, just set the updated
            // the props.
            const propsToUpdate = instance.vnode.dynamicProps;
            for (let i = 0; i < propsToUpdate.length; i++) {
                const key = propsToUpdate[i];
                // PROPS flag guarantees rawProps to be non-null
                const value = rawProps[key];
                if (options) {
                    // attr / props separation was done on init and will be consistent
                    // in this code path, so just check if attrs have it.
                    if (hasOwn(attrs, key)) {
                        attrs[key] = value;
                    }
                    else {
                        const camelizedKey = camelize(key);
                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance);
                    }
                }
                else {
                    attrs[key] = value;
                }
            }
        }
    }
    else {
        // full props update.
        setFullProps(instance, rawProps, props, attrs);
        // in case of dynamic props, check if we need to delete keys from
        // the props object
        let kebabKey;
        for (const key in rawCurrentProps) {
            if (!rawProps ||
                // for camelCase
                (!hasOwn(rawProps, key) &&
                    // it's possible the original props was passed in as kebab-case
                    // and converted to camelCase (#955)
                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {
                if (options) {
                    if (rawPrevProps &&
                        // for camelCase
                        (rawPrevProps[key] !== undefined ||
                            // for kebab-case
                            rawPrevProps[kebabKey] !== undefined)) {
                        props[key] = resolvePropValue(options, rawProps || EMPTY_OBJ, key, undefined, instance);
                    }
                }
                else {
                    delete props[key];
                }
            }
        }
        // in the case of functional component w/o props declaration, props and
        // attrs point to the same object so it should already have been updated.
        if (attrs !== rawCurrentProps) {
            for (const key in attrs) {
                if (!rawProps || !hasOwn(rawProps, key)) {
                    delete attrs[key];
                }
            }
        }
    }
    // trigger updates for $attrs in case it's used in component slots
    trigger(instance, "set" /* SET */, '$attrs');
}
function setFullProps(instance, rawProps, props, attrs) {
    const [options, needCastKeys] = instance.propsOptions;
    if (rawProps) {
        for (const key in rawProps) {
            const value = rawProps[key];
            // key, ref are reserved and never passed down
            if (isReservedProp(key)) {
                continue;
            }
            // prop option names are camelized during normalization, so to support
            // kebab -> camel conversion here we need to camelize the key.
            let camelKey;
            if (options && hasOwn(options, (camelKey = camelize(key)))) {
                props[camelKey] = value;
            }
            else if (!isEmitListener(instance.emitsOptions, key)) {
                // Any non-declared (either as a prop or an emitted event) props are put
                // into a separate `attrs` object for spreading. Make sure to preserve
                // original key casing
                attrs[key] = value;
            }
        }
    }
    if (needCastKeys) {
        const rawCurrentProps = toRaw(props);
        for (let i = 0; i < needCastKeys.length; i++) {
            const key = needCastKeys[i];
            props[key] = resolvePropValue(options, rawCurrentProps, key, rawCurrentProps[key], instance);
        }
    }
}
function resolvePropValue(options, props, key, value, instance) {
    const opt = options[key];
    if (opt != null) {
        const hasDefault = hasOwn(opt, 'default');
        // default values
        if (hasDefault && value === undefined) {
            const defaultValue = opt.default;
            if (opt.type !== Function && isFunction(defaultValue)) {
                const { propsDefaults } = instance;
                if (key in propsDefaults) {
                    value = propsDefaults[key];
                }
                else {
                    setCurrentInstance(instance);
                    value = propsDefaults[key] = defaultValue(props);
                    setCurrentInstance(null);
                }
            }
            else {
                value = defaultValue;
            }
        }
        // boolean casting
        if (opt[0 /* shouldCast */]) {
            if (!hasOwn(props, key) && !hasDefault) {
                value = false;
            }
            else if (opt[1 /* shouldCastTrue */] &&
                (value === '' || value === hyphenate(key))) {
                value = true;
            }
        }
    }
    return value;
}
function normalizePropsOptions(comp, appContext, asMixin = false) {
    if (!appContext.deopt && comp.__props) {
        return comp.__props;
    }
    const raw = comp.props;
    const normalized = {};
    const needCastKeys = [];
    // apply mixin/extends props
    let hasExtends = false;
    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {
        const extendProps = (raw) => {
            hasExtends = true;
            const [props, keys] = normalizePropsOptions(raw, appContext, true);
            extend(normalized, props);
            if (keys)
                needCastKeys.push(...keys);
        };
        if (!asMixin && appContext.mixins.length) {
            appContext.mixins.forEach(extendProps);
        }
        if (comp.extends) {
            extendProps(comp.extends);
        }
        if (comp.mixins) {
            comp.mixins.forEach(extendProps);
        }
    }
    if (!raw && !hasExtends) {
        return (comp.__props = EMPTY_ARR);
    }
    if (isArray(raw)) {
        for (let i = 0; i < raw.length; i++) {
            const normalizedKey = camelize(raw[i]);
            if (validatePropName(normalizedKey)) {
                normalized[normalizedKey] = EMPTY_OBJ;
            }
        }
    }
    else if (raw) {
        for (const key in raw) {
            const normalizedKey = camelize(key);
            if (validatePropName(normalizedKey)) {
                const opt = raw[key];
                const prop = (normalized[normalizedKey] =
                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);
                if (prop) {
                    const booleanIndex = getTypeIndex(Boolean, prop.type);
                    const stringIndex = getTypeIndex(String, prop.type);
                    prop[0 /* shouldCast */] = booleanIndex > -1;
                    prop[1 /* shouldCastTrue */] =
                        stringIndex < 0 || booleanIndex < stringIndex;
                    // if the prop needs boolean casting or default value
                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {
                        needCastKeys.push(normalizedKey);
                    }
                }
            }
        }
    }
    return (comp.__props = [normalized, needCastKeys]);
}
function validatePropName(key) {
    if (key[0] !== '$') {
        return true;
    }
    return false;
}
// use function string name to check type constructors
// so that it works across vms / iframes.
function getType(ctor) {
    const match = ctor && ctor.toString().match(/^\s*function (\w+)/);
    return match ? match[1] : '';
}
function isSameType(a, b) {
    return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
    if (isArray(expectedTypes)) {
        return expectedTypes.findIndex(t => isSameType(t, type));
    }
    else if (isFunction(expectedTypes)) {
        return isSameType(expectedTypes, type) ? 0 : -1;
    }
    return -1;
}

function injectHook(type, hook, target = currentInstance, prepend = false) {
    if (target) {
        const hooks = target[type] || (target[type] = []);
        // cache the error handling wrapper for injected hooks so the same hook
        // can be properly deduped by the scheduler. "__weh" stands for "with error
        // handling".
        const wrappedHook = hook.__weh ||
            (hook.__weh = (...args) => {
                if (target.isUnmounted) {
                    return;
                }
                // disable tracking inside all lifecycle hooks
                // since they can potentially be called inside effects.
                pauseTracking();
                // Set currentInstance during hook invocation.
                // This assumes the hook does not synchronously trigger other hooks, which
                // can only be false when the user does something really funky.
                setCurrentInstance(target);
                const res = callWithAsyncErrorHandling(hook, target, type, args);
                setCurrentInstance(null);
                resetTracking();
                return res;
            });
        if (prepend) {
            hooks.unshift(wrappedHook);
        }
        else {
            hooks.push(wrappedHook);
        }
        return wrappedHook;
    }
}
const createHook = (lifecycle) => (hook, target = currentInstance) => 
// post-create lifecycle registrations are noops during SSR
!isInSSRComponentSetup && injectHook(lifecycle, hook, target);
const onBeforeMount = createHook("bm" /* BEFORE_MOUNT */);
const onMounted = createHook("m" /* MOUNTED */);
const onBeforeUpdate = createHook("bu" /* BEFORE_UPDATE */);
const onUpdated = createHook("u" /* UPDATED */);
const onBeforeUnmount = createHook("bum" /* BEFORE_UNMOUNT */);
const onUnmounted = createHook("um" /* UNMOUNTED */);
const onRenderTriggered = createHook("rtg" /* RENDER_TRIGGERED */);
const onRenderTracked = createHook("rtc" /* RENDER_TRACKED */);
const onErrorCaptured = (hook, target = currentInstance) => {
    injectHook("ec" /* ERROR_CAPTURED */, hook, target);
};
// initial value for watchers to trigger on undefined initial values
const INITIAL_WATCHER_VALUE = {};
// implementation
function watch(source, cb, options) {
    return doWatch(source, cb, options);
}
function doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {
    let getter;
    let forceTrigger = false;
    if (isRef(source)) {
        getter = () => source.value;
        forceTrigger = !!source._shallow;
    }
    else if (isReactive(source)) {
        getter = () => source;
        deep = true;
    }
    else if (isArray(source)) {
        getter = () => source.map(s => {
            if (isRef(s)) {
                return s.value;
            }
            else if (isReactive(s)) {
                return traverse(s);
            }
            else if (isFunction(s)) {
                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */, [
                    instance && instance.proxy
                ]);
            }
            else ;
        });
    }
    else if (isFunction(source)) {
        if (cb) {
            // getter with cb
            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */, [
                instance && instance.proxy
            ]);
        }
        else {
            // no cb -> simple effect
            getter = () => {
                if (instance && instance.isUnmounted) {
                    return;
                }
                if (cleanup) {
                    cleanup();
                }
                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);
            };
        }
    }
    else {
        getter = NOOP;
    }
    if (cb && deep) {
        const baseGetter = getter;
        getter = () => traverse(baseGetter());
    }
    let cleanup;
    let onInvalidate = (fn) => {
        cleanup = runner.options.onStop = () => {
            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);
        };
    };
    let oldValue = isArray(source) ? [] : INITIAL_WATCHER_VALUE;
    const job = () => {
        if (!runner.active) {
            return;
        }
        if (cb) {
            // watch(source, cb)
            const newValue = runner();
            if (deep || forceTrigger || hasChanged(newValue, oldValue)) {
                // cleanup before running cb again
                if (cleanup) {
                    cleanup();
                }
                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [
                    newValue,
                    // pass undefined as the old value when it's changed for the first time
                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,
                    onInvalidate
                ]);
                oldValue = newValue;
            }
        }
        else {
            // watchEffect
            runner();
        }
    };
    // important: mark the job as a watcher callback so that scheduler knows
    // it is allowed to self-trigger (#1727)
    job.allowRecurse = !!cb;
    let scheduler;
    if (flush === 'sync') {
        scheduler = job;
    }
    else if (flush === 'post') {
        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);
    }
    else {
        // default: 'pre'
        scheduler = () => {
            if (!instance || instance.isMounted) {
                queuePreFlushCb(job);
            }
            else {
                // with 'pre' option, the first call must happen before
                // the component is mounted so it is called synchronously.
                job();
            }
        };
    }
    const runner = effect(getter, {
        lazy: true,
        onTrack,
        onTrigger,
        scheduler
    });
    recordInstanceBoundEffect(runner, instance);
    // initial run
    if (cb) {
        if (immediate) {
            job();
        }
        else {
            oldValue = runner();
        }
    }
    else if (flush === 'post') {
        queuePostRenderEffect(runner, instance && instance.suspense);
    }
    else {
        runner();
    }
    return () => {
        stop(runner);
        if (instance) {
            remove(instance.effects, runner);
        }
    };
}
// this.$watch
function instanceWatch(source, cb, options) {
    const publicThis = this.proxy;
    const getter = isString(source)
        ? () => publicThis[source]
        : source.bind(publicThis);
    return doWatch(getter, cb.bind(publicThis), options, this);
}
function traverse(value, seen = new Set()) {
    if (!isObject$1(value) || seen.has(value)) {
        return value;
    }
    seen.add(value);
    if (isRef(value)) {
        traverse(value.value, seen);
    }
    else if (isArray(value)) {
        for (let i = 0; i < value.length; i++) {
            traverse(value[i], seen);
        }
    }
    else if (isSet(value) || isMap(value)) {
        value.forEach((v) => {
            traverse(v, seen);
        });
    }
    else {
        for (const key in value) {
            traverse(value[key], seen);
        }
    }
    return value;
}

const isKeepAlive = (vnode) => vnode.type.__isKeepAlive;
function onActivated(hook, target) {
    registerKeepAliveHook(hook, "a" /* ACTIVATED */, target);
}
function onDeactivated(hook, target) {
    registerKeepAliveHook(hook, "da" /* DEACTIVATED */, target);
}
function registerKeepAliveHook(hook, type, target = currentInstance) {
    // cache the deactivate branch check wrapper for injected hooks so the same
    // hook can be properly deduped by the scheduler. "__wdc" stands for "with
    // deactivation check".
    const wrappedHook = hook.__wdc ||
        (hook.__wdc = () => {
            // only fire the hook if the target instance is NOT in a deactivated branch.
            let current = target;
            while (current) {
                if (current.isDeactivated) {
                    return;
                }
                current = current.parent;
            }
            hook();
        });
    injectHook(type, wrappedHook, target);
    // In addition to registering it on the target instance, we walk up the parent
    // chain and register it on all ancestor instances that are keep-alive roots.
    // This avoids the need to walk the entire component tree when invoking these
    // hooks, and more importantly, avoids the need to track child components in
    // arrays.
    if (target) {
        let current = target.parent;
        while (current && current.parent) {
            if (isKeepAlive(current.parent.vnode)) {
                injectToKeepAliveRoot(wrappedHook, type, target, current);
            }
            current = current.parent;
        }
    }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
    // injectHook wraps the original for error handling, so make sure to remove
    // the wrapped version.
    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);
    onUnmounted(() => {
        remove(keepAliveRoot[type], injected);
    }, target);
}

const isInternalKey = (key) => key[0] === '_' || key === '$stable';
const normalizeSlotValue = (value) => isArray(value)
    ? value.map(normalizeVNode)
    : [normalizeVNode(value)];
const normalizeSlot = (key, rawSlot, ctx) => withCtx((props) => {
    return normalizeSlotValue(rawSlot(props));
}, ctx);
const normalizeObjectSlots = (rawSlots, slots) => {
    const ctx = rawSlots._ctx;
    for (const key in rawSlots) {
        if (isInternalKey(key))
            continue;
        const value = rawSlots[key];
        if (isFunction(value)) {
            slots[key] = normalizeSlot(key, value, ctx);
        }
        else if (value != null) {
            const normalized = normalizeSlotValue(value);
            slots[key] = () => normalized;
        }
    }
};
const normalizeVNodeSlots = (instance, children) => {
    const normalized = normalizeSlotValue(children);
    instance.slots.default = () => normalized;
};
const initSlots = (instance, children) => {
    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            instance.slots = children;
            // make compiler marker non-enumerable
            def(children, '_', type);
        }
        else {
            normalizeObjectSlots(children, (instance.slots = {}));
        }
    }
    else {
        instance.slots = {};
        if (children) {
            normalizeVNodeSlots(instance, children);
        }
    }
    def(instance.slots, InternalObjectKey, 1);
};
const updateSlots = (instance, children, optimized) => {
    const { vnode, slots } = instance;
    let needDeletionCheck = true;
    let deletionComparisonTarget = EMPTY_OBJ;
    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {
        const type = children._;
        if (type) {
            // compiled slots.
            if (optimized && type === 1 /* STABLE */) {
                // compiled AND stable.
                // no need to update, and skip stale slots removal.
                needDeletionCheck = false;
            }
            else {
                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip
                // normalization.
                extend(slots, children);
                // #2893
                // when rendering the optimized slots by manually written render function,
                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,
                // i.e. let the `renderSlot` create the bailed Fragment
                if (!optimized && type === 1 /* STABLE */) {
                    delete slots._;
                }
            }
        }
        else {
            needDeletionCheck = !children.$stable;
            normalizeObjectSlots(children, slots);
        }
        deletionComparisonTarget = children;
    }
    else if (children) {
        // non slot object children (direct value) passed to a component
        normalizeVNodeSlots(instance, children);
        deletionComparisonTarget = { default: 1 };
    }
    // delete stale slots
    if (needDeletionCheck) {
        for (const key in slots) {
            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {
                delete slots[key];
            }
        }
    }
};
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
    const bindings = vnode.dirs;
    const oldBindings = prevVNode && prevVNode.dirs;
    for (let i = 0; i < bindings.length; i++) {
        const binding = bindings[i];
        if (oldBindings) {
            binding.oldValue = oldBindings[i].value;
        }
        const hook = binding.dir[name];
        if (hook) {
            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [
                vnode.el,
                binding,
                vnode,
                prevVNode
            ]);
        }
    }
}

function createAppContext() {
    return {
        app: null,
        config: {
            isNativeTag: NO,
            performance: false,
            globalProperties: {},
            optionMergeStrategies: {},
            isCustomElement: NO,
            errorHandler: undefined,
            warnHandler: undefined
        },
        mixins: [],
        components: {},
        directives: {},
        provides: Object.create(null)
    };
}
let uid = 0;
function createAppAPI(render, hydrate) {
    return function createApp(rootComponent, rootProps = null) {
        if (rootProps != null && !isObject$1(rootProps)) {
            rootProps = null;
        }
        const context = createAppContext();
        const installedPlugins = new Set();
        let isMounted = false;
        const app = (context.app = {
            _uid: uid++,
            _component: rootComponent,
            _props: rootProps,
            _container: null,
            _context: context,
            version,
            get config() {
                return context.config;
            },
            set config(v) {
            },
            use(plugin, ...options) {
                if (installedPlugins.has(plugin)) ;
                else if (plugin && isFunction(plugin.install)) {
                    installedPlugins.add(plugin);
                    plugin.install(app, ...options);
                }
                else if (isFunction(plugin)) {
                    installedPlugins.add(plugin);
                    plugin(app, ...options);
                }
                else ;
                return app;
            },
            mixin(mixin) {
                if (__VUE_OPTIONS_API__) {
                    if (!context.mixins.includes(mixin)) {
                        context.mixins.push(mixin);
                        // global mixin with props/emits de-optimizes props/emits
                        // normalization caching.
                        if (mixin.props || mixin.emits) {
                            context.deopt = true;
                        }
                    }
                }
                return app;
            },
            component(name, component) {
                if (!component) {
                    return context.components[name];
                }
                context.components[name] = component;
                return app;
            },
            directive(name, directive) {
                if (!directive) {
                    return context.directives[name];
                }
                context.directives[name] = directive;
                return app;
            },
            mount(rootContainer, isHydrate, isSVG) {
                if (!isMounted) {
                    const vnode = createVNode(rootComponent, rootProps);
                    // store app context on the root VNode.
                    // this will be set on the root instance on initial mount.
                    vnode.appContext = context;
                    if (isHydrate && hydrate) {
                        hydrate(vnode, rootContainer);
                    }
                    else {
                        render(vnode, rootContainer, isSVG);
                    }
                    isMounted = true;
                    app._container = rootContainer;
                    rootContainer.__vue_app__ = app;
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsInitApp(app, version);
                    }
                    return vnode.component.proxy;
                }
            },
            unmount() {
                if (isMounted) {
                    render(null, app._container);
                    if (__VUE_PROD_DEVTOOLS__) {
                        devtoolsUnmountApp(app);
                    }
                    delete app._container.__vue_app__;
                }
            },
            provide(key, value) {
                // TypeScript doesn't allow symbols as index type
                // https://github.com/Microsoft/TypeScript/issues/24587
                context.provides[key] = value;
                return app;
            }
        });
        return app;
    };
}

/**
 * This is only called in esm-bundler builds.
 * It is called when a renderer is created, in `baseCreateRenderer` so that
 * importing runtime-core is side-effects free.
 *
 * istanbul-ignore-next
 */
function initFeatureFlags() {
    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {
        getGlobalThis().__VUE_OPTIONS_API__ = true;
    }
    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {
        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;
    }
}

const isAsyncWrapper = (i) => !!i.type.__asyncLoader;

const prodEffectOptions = {
    scheduler: queueJob,
    // #1801, #2043 component render effects should allow recursive updates
    allowRecurse: true
};
const queuePostRenderEffect = queueEffectWithSuspense
    ;
const setRef = (rawRef, oldRawRef, parentSuspense, vnode) => {
    if (isArray(rawRef)) {
        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode));
        return;
    }
    let value;
    if (!vnode) {
        // means unmount
        value = null;
    }
    else if (isAsyncWrapper(vnode)) {
        // when mounting async components, nothing needs to be done,
        // because the template ref is forwarded to inner component
        return;
    }
    else if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {
        value = vnode.component.exposed || vnode.component.proxy;
    }
    else {
        value = vnode.el;
    }
    const { i: owner, r: ref } = rawRef;
    const oldRef = oldRawRef && oldRawRef.r;
    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;
    const setupState = owner.setupState;
    // unset old ref
    if (oldRef != null && oldRef !== ref) {
        if (isString(oldRef)) {
            refs[oldRef] = null;
            if (hasOwn(setupState, oldRef)) {
                setupState[oldRef] = null;
            }
        }
        else if (isRef(oldRef)) {
            oldRef.value = null;
        }
    }
    if (isString(ref)) {
        const doSet = () => {
            refs[ref] = value;
            if (hasOwn(setupState, ref)) {
                setupState[ref] = value;
            }
        };
        // #1789: for non-null values, set them after render
        // null values means this is unmount and it should not overwrite another
        // ref with the same key
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isRef(ref)) {
        const doSet = () => {
            ref.value = value;
        };
        if (value) {
            doSet.id = -1;
            queuePostRenderEffect(doSet, parentSuspense);
        }
        else {
            doSet();
        }
    }
    else if (isFunction(ref)) {
        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);
    }
    else ;
};
/**
 * The createRenderer function accepts two generic arguments:
 * HostNode and HostElement, corresponding to Node and Element types in the
 * host environment. For example, for runtime-dom, HostNode would be the DOM
 * `Node` interface and HostElement would be the DOM `Element` interface.
 *
 * Custom renderers can pass in the platform specific types like this:
 *
 * ``` js
 * const { render, createApp } = createRenderer<Node, Element>({
 *   patchProp,
 *   ...nodeOps
 * })
 * ```
 */
function createRenderer(options) {
    return baseCreateRenderer(options);
}
// implementation
function baseCreateRenderer(options, createHydrationFns) {
    // compile-time feature flags check
    {
        initFeatureFlags();
    }
    if (__VUE_PROD_DEVTOOLS__) {
        const target = getGlobalThis();
        target.__VUE__ = true;
        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__);
    }
    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;
    // Note: functions inside this closure should use `const xxx = () => {}`
    // style in order to prevent being inlined by minifiers.
    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = false) => {
        // patching & not same type, unmount old tree
        if (n1 && !isSameVNodeType(n1, n2)) {
            anchor = getNextHostNode(n1);
            unmount(n1, parentComponent, parentSuspense, true);
            n1 = null;
        }
        if (n2.patchFlag === -2 /* BAIL */) {
            optimized = false;
            n2.dynamicChildren = null;
        }
        const { type, ref, shapeFlag } = n2;
        switch (type) {
            case Text:
                processText(n1, n2, container, anchor);
                break;
            case Comment:
                processCommentNode(n1, n2, container, anchor);
                break;
            case Static:
                if (n1 == null) {
                    mountStaticNode(n2, container, anchor, isSVG);
                }
                break;
            case Fragment:
                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                break;
            default:
                if (shapeFlag & 1 /* ELEMENT */) {
                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 6 /* COMPONENT */) {
                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (shapeFlag & 64 /* TELEPORT */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else if (shapeFlag & 128 /* SUSPENSE */) {
                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);
                }
                else ;
        }
        // set ref
        if (ref != null && parentComponent) {
            setRef(ref, n1 && n1.ref, parentSuspense, n2);
        }
    };
    const processText = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);
        }
        else {
            const el = (n2.el = n1.el);
            if (n2.children !== n1.children) {
                hostSetText(el, n2.children);
            }
        }
    };
    const processCommentNode = (n1, n2, container, anchor) => {
        if (n1 == null) {
            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);
        }
        else {
            // there's no support for dynamic comments
            n2.el = n1.el;
        }
    };
    const mountStaticNode = (n2, container, anchor, isSVG) => {
        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);
    };
    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostInsert(el, container, nextSibling);
            el = next;
        }
        hostInsert(anchor, container, nextSibling);
    };
    const removeStaticNode = ({ el, anchor }) => {
        let next;
        while (el && el !== anchor) {
            next = hostNextSibling(el);
            hostRemove(el);
            el = next;
        }
        hostRemove(anchor);
    };
    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        isSVG = isSVG || n2.type === 'svg';
        if (n1 == null) {
            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
    };
    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let el;
        let vnodeHook;
        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;
        if (vnode.el &&
            hostCloneNode !== undefined &&
            patchFlag === -1 /* HOISTED */) {
            // If a vnode has non-null el, it means it's being reused.
            // Only static vnodes can be reused, so its mounted DOM nodes should be
            // exactly the same, and we can simply do a clone here.
            // only do this in production since cloned trees cannot be HMR updated.
            el = vnode.el = hostCloneNode(vnode.el);
        }
        else {
            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);
            // mount children first, since some props may rely on child content
            // being already rendered, e.g. `<select value>`
            if (shapeFlag & 8 /* TEXT_CHILDREN */) {
                hostSetElementText(el, vnode.children);
            }
            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized || !!vnode.dynamicChildren);
            }
            if (dirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'created');
            }
            // props
            if (props) {
                for (const key in props) {
                    if (!isReservedProp(key)) {
                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
                if ((vnodeHook = props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parentComponent, vnode);
                }
            }
            // scopeId
            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
        }
        if (__VUE_PROD_DEVTOOLS__) {
            Object.defineProperty(el, '__vnode', {
                value: vnode,
                enumerable: false
            });
            Object.defineProperty(el, '__vueParentComponent', {
                value: parentComponent,
                enumerable: false
            });
        }
        if (dirs) {
            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');
        }
        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved
        // #1689 For inside suspense + suspense resolved case, just call it
        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&
            transition &&
            !transition.persisted;
        if (needCallTransitionHooks) {
            transition.beforeEnter(el);
        }
        hostInsert(el, container, anchor);
        if ((vnodeHook = props && props.onVnodeMounted) ||
            needCallTransitionHooks ||
            dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                needCallTransitionHooks && transition.enter(el);
                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');
            }, parentSuspense);
        }
    };
    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {
        if (scopeId) {
            hostSetScopeId(el, scopeId);
        }
        if (slotScopeIds) {
            for (let i = 0; i < slotScopeIds.length; i++) {
                hostSetScopeId(el, slotScopeIds[i]);
            }
        }
        if (parentComponent) {
            let subTree = parentComponent.subTree;
            if (vnode === subTree) {
                const parentVNode = parentComponent.vnode;
                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
            }
        }
    };
    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds, start = 0) => {
        for (let i = start; i < children.length; i++) {
            const child = (children[i] = optimized
                ? cloneIfMounted(children[i])
                : normalizeVNode(children[i]));
            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, optimized, slotScopeIds);
        }
    };
    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const el = (n2.el = n1.el);
        let { patchFlag, dynamicChildren, dirs } = n2;
        // #1426 take the old vnode's patch flag into account since user may clone a
        // compiler-generated vnode, which de-opts to FULL_PROPS
        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;
        const oldProps = n1.props || EMPTY_OBJ;
        const newProps = n2.props || EMPTY_OBJ;
        let vnodeHook;
        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {
            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        }
        if (dirs) {
            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');
        }
        if (patchFlag > 0) {
            // the presence of a patchFlag means this element's render code was
            // generated by the compiler and can take the fast path.
            // in this path old node and new node are guaranteed to have the same shape
            // (i.e. at the exact same position in the source template)
            if (patchFlag & 16 /* FULL_PROPS */) {
                // element props contain dynamic keys, full diff needed
                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
            }
            else {
                // class
                // this flag is matched when the element has dynamic class bindings.
                if (patchFlag & 2 /* CLASS */) {
                    if (oldProps.class !== newProps.class) {
                        hostPatchProp(el, 'class', null, newProps.class, isSVG);
                    }
                }
                // style
                // this flag is matched when the element has dynamic style bindings
                if (patchFlag & 4 /* STYLE */) {
                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);
                }
                // props
                // This flag is matched when the element has dynamic prop/attr bindings
                // other than class and style. The keys of dynamic prop/attrs are saved for
                // faster iteration.
                // Note dynamic keys like :[foo]="bar" will cause this optimization to
                // bail out and go through a full diff because we need to unset the old key
                if (patchFlag & 8 /* PROPS */) {
                    // if the flag is present then dynamicProps must be non-null
                    const propsToUpdate = n2.dynamicProps;
                    for (let i = 0; i < propsToUpdate.length; i++) {
                        const key = propsToUpdate[i];
                        const prev = oldProps[key];
                        const next = newProps[key];
                        if (next !== prev ||
                            (hostForcePatchProp && hostForcePatchProp(el, key))) {
                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);
                        }
                    }
                }
            }
            // text
            // This flag is matched when the element has only dynamic text children.
            if (patchFlag & 1 /* TEXT */) {
                if (n1.children !== n2.children) {
                    hostSetElementText(el, n2.children);
                }
            }
        }
        else if (!optimized && dynamicChildren == null) {
            // unoptimized, full diff
            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);
        }
        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';
        if (dynamicChildren) {
            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);
        }
        else if (!optimized) {
            // full diff
            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);
        }
        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');
            }, parentSuspense);
        }
    };
    // The fast path for blocks.
    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {
        for (let i = 0; i < newChildren.length; i++) {
            const oldVNode = oldChildren[i];
            const newVNode = newChildren[i];
            // Determine the container (parent element) for the patch.
            const container = 
            // - In the case of a Fragment, we need to provide the actual parent
            // of the Fragment itself so it can move its children.
            oldVNode.type === Fragment ||
                // - In the case of different nodes, there is going to be a replacement
                // which also requires the correct parent container
                !isSameVNodeType(oldVNode, newVNode) ||
                // - In the case of a component, it could contain anything.
                oldVNode.shapeFlag & 6 /* COMPONENT */ ||
                oldVNode.shapeFlag & 64 /* TELEPORT */
                ? hostParentNode(oldVNode.el)
                : // In other cases, the parent container is not actually used so we
                    // just pass the block element here to avoid a DOM parentNode call.
                    fallbackContainer;
            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);
        }
    };
    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {
        if (oldProps !== newProps) {
            for (const key in newProps) {
                // empty string is not valid prop
                if (isReservedProp(key))
                    continue;
                const next = newProps[key];
                const prev = oldProps[key];
                if (next !== prev ||
                    (hostForcePatchProp && hostForcePatchProp(el, key))) {
                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                }
            }
            if (oldProps !== EMPTY_OBJ) {
                for (const key in oldProps) {
                    if (!isReservedProp(key) && !(key in newProps)) {
                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);
                    }
                }
            }
        }
    };
    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));
        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));
        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;
        if (patchFlag > 0) {
            optimized = true;
        }
        // check if this is a slot fragment with :slotted scope ids
        if (fragmentSlotScopeIds) {
            slotScopeIds = slotScopeIds
                ? slotScopeIds.concat(fragmentSlotScopeIds)
                : fragmentSlotScopeIds;
        }
        if (n1 == null) {
            hostInsert(fragmentStartAnchor, container, anchor);
            hostInsert(fragmentEndAnchor, container, anchor);
            // a fragment can only have array children
            // since they are either generated by the compiler, or implicitly created
            // from arrays.
            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        else {
            if (patchFlag > 0 &&
                patchFlag & 64 /* STABLE_FRAGMENT */ &&
                dynamicChildren &&
                // #2715 the previous fragment could've been a BAILed one as a result
                // of renderSlot() with no valid children
                n1.dynamicChildren) {
                // a stable fragment (template root or <template v-for>) doesn't need to
                // patch children order, but it may contain dynamicChildren.
                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);
                if (
                // #2080 if the stable fragment has a key, it's a <template v-for> that may
                //  get moved around. Make sure all root level vnodes inherit el.
                // #2134 or if it's a component root, it may also get moved around
                // as the component is being moved.
                n2.key != null ||
                    (parentComponent && n2 === parentComponent.subTree)) {
                    traverseStaticChildren(n1, n2, true /* shallow */);
                }
            }
            else {
                // keyed / unkeyed, or manual fragments.
                // for keyed & unkeyed, since they are compiler generated from v-for,
                // each child is guaranteed to be a block so the fragment will never
                // have dynamicChildren.
                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
        }
    };
    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        n2.slotScopeIds = slotScopeIds;
        if (n1 == null) {
            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {
                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);
            }
            else {
                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);
            }
        }
        else {
            updateComponent(n1, n2, optimized);
        }
    };
    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {
        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));
        // inject renderer internals for keepAlive
        if (isKeepAlive(initialVNode)) {
            instance.ctx.renderer = internals;
        }
        setupComponent(instance);
        // setup() is async. This component relies on async logic to be resolved
        // before proceeding
        if (instance.asyncDep) {
            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
            // Give it a placeholder if this is not hydration
            // TODO handle self-defined fallback
            if (!initialVNode.el) {
                const placeholder = (instance.subTree = createVNode(Comment));
                processCommentNode(null, placeholder, container, anchor);
            }
            return;
        }
        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);
    };
    const updateComponent = (n1, n2, optimized) => {
        const instance = (n2.component = n1.component);
        if (shouldUpdateComponent(n1, n2, optimized)) {
            if (instance.asyncDep &&
                !instance.asyncResolved) {
                updateComponentPreRender(instance, n2, optimized);
                return;
            }
            else {
                // normal update
                instance.next = n2;
                // in case the child component is also queued, remove it to avoid
                // double updating the same child component in the same flush.
                invalidateJob(instance.update);
                // instance.update is the reactive effect runner.
                instance.update();
            }
        }
        else {
            // no update needed. just copy over properties
            n2.component = n1.component;
            n2.el = n1.el;
            instance.vnode = n2;
        }
    };
    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {
        // create reactive effect for rendering
        instance.update = effect(function componentEffect() {
            if (!instance.isMounted) {
                let vnodeHook;
                const { el, props } = initialVNode;
                const { bm, m, parent } = instance;
                // beforeMount hook
                if (bm) {
                    invokeArrayFns(bm);
                }
                // onVnodeBeforeMount
                if ((vnodeHook = props && props.onVnodeBeforeMount)) {
                    invokeVNodeHook(vnodeHook, parent, initialVNode);
                }
                const subTree = (instance.subTree = renderComponentRoot(instance));
                if (el && hydrateNode) {
                    // vnode has adopted host node - perform hydration instead of mount.
                    hydrateNode(initialVNode.el, subTree, instance, parentSuspense, null);
                }
                else {
                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);
                    initialVNode.el = subTree.el;
                }
                // mounted hook
                if (m) {
                    queuePostRenderEffect(m, parentSuspense);
                }
                // onVnodeMounted
                if ((vnodeHook = props && props.onVnodeMounted)) {
                    const scopedInitialVNode = initialVNode;
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, scopedInitialVNode);
                    }, parentSuspense);
                }
                // activated hook for keep-alive roots.
                // #1742 activated hook must be accessed after first render
                // since the hook may be injected by a child keep-alive
                const { a } = instance;
                if (a &&
                    initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
                    queuePostRenderEffect(a, parentSuspense);
                }
                instance.isMounted = true;
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentAdded(instance);
                }
                // #2458: deference mount-only object parameters to prevent memleaks
                initialVNode = container = anchor = null;
            }
            else {
                // updateComponent
                // This is triggered by mutation of component's own state (next: null)
                // OR parent calling processComponent (next: VNode)
                let { next, bu, u, parent, vnode } = instance;
                let originNext = next;
                let vnodeHook;
                if (next) {
                    next.el = vnode.el;
                    updateComponentPreRender(instance, next, optimized);
                }
                else {
                    next = vnode;
                }
                // beforeUpdate hook
                if (bu) {
                    invokeArrayFns(bu);
                }
                // onVnodeBeforeUpdate
                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {
                    invokeVNodeHook(vnodeHook, parent, next, vnode);
                }
                const nextTree = renderComponentRoot(instance);
                const prevTree = instance.subTree;
                instance.subTree = nextTree;
                patch(prevTree, nextTree, 
                // parent may have changed if it's in a teleport
                hostParentNode(prevTree.el), 
                // anchor may have changed if it's in a fragment
                getNextHostNode(prevTree), instance, parentSuspense, isSVG);
                next.el = nextTree.el;
                if (originNext === null) {
                    // self-triggered update. In case of HOC, update parent component
                    // vnode el. HOC is indicated by parent instance's subTree pointing
                    // to child component's vnode
                    updateHOCHostEl(instance, nextTree.el);
                }
                // updated hook
                if (u) {
                    queuePostRenderEffect(u, parentSuspense);
                }
                // onVnodeUpdated
                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {
                    queuePostRenderEffect(() => {
                        invokeVNodeHook(vnodeHook, parent, next, vnode);
                    }, parentSuspense);
                }
                if (__VUE_PROD_DEVTOOLS__) {
                    devtoolsComponentUpdated(instance);
                }
            }
        }, prodEffectOptions);
    };
    const updateComponentPreRender = (instance, nextVNode, optimized) => {
        nextVNode.component = instance;
        const prevProps = instance.vnode.props;
        instance.vnode = nextVNode;
        instance.next = null;
        updateProps(instance, nextVNode.props, prevProps, optimized);
        updateSlots(instance, nextVNode.children, optimized);
        pauseTracking();
        // props update may have triggered pre-flush watchers.
        // flush them before the render update.
        flushPreFlushCbs(undefined, instance.update);
        resetTracking();
    };
    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {
        const c1 = n1 && n1.children;
        const prevShapeFlag = n1 ? n1.shapeFlag : 0;
        const c2 = n2.children;
        const { patchFlag, shapeFlag } = n2;
        // fast path
        if (patchFlag > 0) {
            if (patchFlag & 128 /* KEYED_FRAGMENT */) {
                // this could be either fully-keyed or mixed (some keyed some not)
                // presence of patchFlag means children are guaranteed to be arrays
                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {
                // unkeyed
                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                return;
            }
        }
        // children has 3 possibilities: text, array or no children.
        if (shapeFlag & 8 /* TEXT_CHILDREN */) {
            // text children fast path
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                unmountChildren(c1, parentComponent, parentSuspense);
            }
            if (c2 !== c1) {
                hostSetElementText(container, c2);
            }
        }
        else {
            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {
                // prev children was array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    // two arrays, cannot assume anything, do full diff
                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else {
                    // no new children, just unmount old
                    unmountChildren(c1, parentComponent, parentSuspense, true);
                }
            }
            else {
                // prev children was text OR null
                // new children is array OR null
                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {
                    hostSetElementText(container, '');
                }
                // mount new if array
                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {
                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
            }
        }
    };
    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        c1 = c1 || EMPTY_ARR;
        c2 = c2 || EMPTY_ARR;
        const oldLength = c1.length;
        const newLength = c2.length;
        const commonLength = Math.min(oldLength, newLength);
        let i;
        for (i = 0; i < commonLength; i++) {
            const nextChild = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
        }
        if (oldLength > newLength) {
            // remove old
            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
        }
        else {
            // mount new
            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);
        }
    };
    // can be all-keyed or mixed
    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {
        let i = 0;
        const l2 = c2.length;
        let e1 = c1.length - 1; // prev ending index
        let e2 = l2 - 1; // next ending index
        // 1. sync from start
        // (a b) c
        // (a b) d e
        while (i <= e1 && i <= e2) {
            const n1 = c1[i];
            const n2 = (c2[i] = optimized
                ? cloneIfMounted(c2[i])
                : normalizeVNode(c2[i]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            i++;
        }
        // 2. sync from end
        // a (b c)
        // d e (b c)
        while (i <= e1 && i <= e2) {
            const n1 = c1[e1];
            const n2 = (c2[e2] = optimized
                ? cloneIfMounted(c2[e2])
                : normalizeVNode(c2[e2]));
            if (isSameVNodeType(n1, n2)) {
                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
            }
            else {
                break;
            }
            e1--;
            e2--;
        }
        // 3. common sequence + mount
        // (a b)
        // (a b) c
        // i = 2, e1 = 1, e2 = 2
        // (a b)
        // c (a b)
        // i = 0, e1 = -1, e2 = 0
        if (i > e1) {
            if (i <= e2) {
                const nextPos = e2 + 1;
                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
                while (i <= e2) {
                    patch(null, (c2[i] = optimized
                        ? cloneIfMounted(c2[i])
                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    i++;
                }
            }
        }
        // 4. common sequence + unmount
        // (a b) c
        // (a b)
        // i = 2, e1 = 2, e2 = 1
        // a (b c)
        // (b c)
        // i = 0, e1 = 0, e2 = -1
        else if (i > e2) {
            while (i <= e1) {
                unmount(c1[i], parentComponent, parentSuspense, true);
                i++;
            }
        }
        // 5. unknown sequence
        // [i ... e1 + 1]: a b [c d e] f g
        // [i ... e2 + 1]: a b [e d c h] f g
        // i = 2, e1 = 4, e2 = 5
        else {
            const s1 = i; // prev starting index
            const s2 = i; // next starting index
            // 5.1 build key:index map for newChildren
            const keyToNewIndexMap = new Map();
            for (i = s2; i <= e2; i++) {
                const nextChild = (c2[i] = optimized
                    ? cloneIfMounted(c2[i])
                    : normalizeVNode(c2[i]));
                if (nextChild.key != null) {
                    keyToNewIndexMap.set(nextChild.key, i);
                }
            }
            // 5.2 loop through old children left to be patched and try to patch
            // matching nodes & remove nodes that are no longer present
            let j;
            let patched = 0;
            const toBePatched = e2 - s2 + 1;
            let moved = false;
            // used to track whether any node has moved
            let maxNewIndexSoFar = 0;
            // works as Map<newIndex, oldIndex>
            // Note that oldIndex is offset by +1
            // and oldIndex = 0 is a special value indicating the new node has
            // no corresponding old node.
            // used for determining longest stable subsequence
            const newIndexToOldIndexMap = new Array(toBePatched);
            for (i = 0; i < toBePatched; i++)
                newIndexToOldIndexMap[i] = 0;
            for (i = s1; i <= e1; i++) {
                const prevChild = c1[i];
                if (patched >= toBePatched) {
                    // all new children have been patched so this can only be a removal
                    unmount(prevChild, parentComponent, parentSuspense, true);
                    continue;
                }
                let newIndex;
                if (prevChild.key != null) {
                    newIndex = keyToNewIndexMap.get(prevChild.key);
                }
                else {
                    // key-less node, try to locate a key-less node of the same type
                    for (j = s2; j <= e2; j++) {
                        if (newIndexToOldIndexMap[j - s2] === 0 &&
                            isSameVNodeType(prevChild, c2[j])) {
                            newIndex = j;
                            break;
                        }
                    }
                }
                if (newIndex === undefined) {
                    unmount(prevChild, parentComponent, parentSuspense, true);
                }
                else {
                    newIndexToOldIndexMap[newIndex - s2] = i + 1;
                    if (newIndex >= maxNewIndexSoFar) {
                        maxNewIndexSoFar = newIndex;
                    }
                    else {
                        moved = true;
                    }
                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                    patched++;
                }
            }
            // 5.3 move and mount
            // generate longest stable subsequence only when nodes have moved
            const increasingNewIndexSequence = moved
                ? getSequence(newIndexToOldIndexMap)
                : EMPTY_ARR;
            j = increasingNewIndexSequence.length - 1;
            // looping backwards so that we can use last patched node as anchor
            for (i = toBePatched - 1; i >= 0; i--) {
                const nextIndex = s2 + i;
                const nextChild = c2[nextIndex];
                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
                if (newIndexToOldIndexMap[i] === 0) {
                    // mount new
                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);
                }
                else if (moved) {
                    // move if:
                    // There is no stable subsequence (e.g. a reverse)
                    // OR current node is not among the stable sequence
                    if (j < 0 || i !== increasingNewIndexSequence[j]) {
                        move(nextChild, container, anchor, 2 /* REORDER */);
                    }
                    else {
                        j--;
                    }
                }
            }
        }
    };
    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {
        const { el, type, transition, children, shapeFlag } = vnode;
        if (shapeFlag & 6 /* COMPONENT */) {
            move(vnode.component.subTree, container, anchor, moveType);
            return;
        }
        if (shapeFlag & 128 /* SUSPENSE */) {
            vnode.suspense.move(container, anchor, moveType);
            return;
        }
        if (shapeFlag & 64 /* TELEPORT */) {
            type.move(vnode, container, anchor, internals);
            return;
        }
        if (type === Fragment) {
            hostInsert(el, container, anchor);
            for (let i = 0; i < children.length; i++) {
                move(children[i], container, anchor, moveType);
            }
            hostInsert(vnode.anchor, container, anchor);
            return;
        }
        if (type === Static) {
            moveStaticNode(vnode, container, anchor);
            return;
        }
        // single nodes
        const needTransition = moveType !== 2 /* REORDER */ &&
            shapeFlag & 1 /* ELEMENT */ &&
            transition;
        if (needTransition) {
            if (moveType === 0 /* ENTER */) {
                transition.beforeEnter(el);
                hostInsert(el, container, anchor);
                queuePostRenderEffect(() => transition.enter(el), parentSuspense);
            }
            else {
                const { leave, delayLeave, afterLeave } = transition;
                const remove = () => hostInsert(el, container, anchor);
                const performLeave = () => {
                    leave(el, () => {
                        remove();
                        afterLeave && afterLeave();
                    });
                };
                if (delayLeave) {
                    delayLeave(el, remove, performLeave);
                }
                else {
                    performLeave();
                }
            }
        }
        else {
            hostInsert(el, container, anchor);
        }
    };
    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {
        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;
        // unset ref
        if (ref != null) {
            setRef(ref, null, parentSuspense, null);
        }
        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {
            parentComponent.ctx.deactivate(vnode);
            return;
        }
        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;
        let vnodeHook;
        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {
            invokeVNodeHook(vnodeHook, parentComponent, vnode);
        }
        if (shapeFlag & 6 /* COMPONENT */) {
            unmountComponent(vnode.component, parentSuspense, doRemove);
        }
        else {
            if (shapeFlag & 128 /* SUSPENSE */) {
                vnode.suspense.unmount(parentSuspense, doRemove);
                return;
            }
            if (shouldInvokeDirs) {
                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');
            }
            if (shapeFlag & 64 /* TELEPORT */) {
                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
            }
            else if (dynamicChildren &&
                // #1153: fast path should not be taken for non-stable (v-for) fragments
                (type !== Fragment ||
                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {
                // fast path for block nodes: only need to unmount dynamic children.
                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
            }
            else if ((type === Fragment &&
                (patchFlag & 128 /* KEYED_FRAGMENT */ ||
                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||
                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {
                unmountChildren(children, parentComponent, parentSuspense);
            }
            if (doRemove) {
                remove(vnode);
            }
        }
        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
            queuePostRenderEffect(() => {
                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
                shouldInvokeDirs &&
                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');
            }, parentSuspense);
        }
    };
    const remove = vnode => {
        const { type, el, anchor, transition } = vnode;
        if (type === Fragment) {
            removeFragment(el, anchor);
            return;
        }
        if (type === Static) {
            removeStaticNode(vnode);
            return;
        }
        const performRemove = () => {
            hostRemove(el);
            if (transition && !transition.persisted && transition.afterLeave) {
                transition.afterLeave();
            }
        };
        if (vnode.shapeFlag & 1 /* ELEMENT */ &&
            transition &&
            !transition.persisted) {
            const { leave, delayLeave } = transition;
            const performLeave = () => leave(el, performRemove);
            if (delayLeave) {
                delayLeave(vnode.el, performRemove, performLeave);
            }
            else {
                performLeave();
            }
        }
        else {
            performRemove();
        }
    };
    const removeFragment = (cur, end) => {
        // For fragments, directly remove all contained DOM nodes.
        // (fragment child nodes cannot have transition)
        let next;
        while (cur !== end) {
            next = hostNextSibling(cur);
            hostRemove(cur);
            cur = next;
        }
        hostRemove(end);
    };
    const unmountComponent = (instance, parentSuspense, doRemove) => {
        const { bum, effects, update, subTree, um } = instance;
        // beforeUnmount hook
        if (bum) {
            invokeArrayFns(bum);
        }
        if (effects) {
            for (let i = 0; i < effects.length; i++) {
                stop(effects[i]);
            }
        }
        // update may be null if a component is unmounted before its async
        // setup has resolved.
        if (update) {
            stop(update);
            unmount(subTree, instance, parentSuspense, doRemove);
        }
        // unmounted hook
        if (um) {
            queuePostRenderEffect(um, parentSuspense);
        }
        queuePostRenderEffect(() => {
            instance.isUnmounted = true;
        }, parentSuspense);
        // A component with async dep inside a pending suspense is unmounted before
        // its async dep resolves. This should remove the dep from the suspense, and
        // cause the suspense to resolve immediately if that was the last dep.
        if (parentSuspense &&
            parentSuspense.pendingBranch &&
            !parentSuspense.isUnmounted &&
            instance.asyncDep &&
            !instance.asyncResolved &&
            instance.suspenseId === parentSuspense.pendingId) {
            parentSuspense.deps--;
            if (parentSuspense.deps === 0) {
                parentSuspense.resolve();
            }
        }
        if (__VUE_PROD_DEVTOOLS__) {
            devtoolsComponentRemoved(instance);
        }
    };
    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {
        for (let i = start; i < children.length; i++) {
            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
        }
    };
    const getNextHostNode = vnode => {
        if (vnode.shapeFlag & 6 /* COMPONENT */) {
            return getNextHostNode(vnode.component.subTree);
        }
        if (vnode.shapeFlag & 128 /* SUSPENSE */) {
            return vnode.suspense.next();
        }
        return hostNextSibling((vnode.anchor || vnode.el));
    };
    const render = (vnode, container, isSVG) => {
        if (vnode == null) {
            if (container._vnode) {
                unmount(container._vnode, null, null, true);
            }
        }
        else {
            patch(container._vnode || null, vnode, container, null, null, null, isSVG);
        }
        flushPostFlushCbs();
        container._vnode = vnode;
    };
    const internals = {
        p: patch,
        um: unmount,
        m: move,
        r: remove,
        mt: mountComponent,
        mc: mountChildren,
        pc: patchChildren,
        pbc: patchBlockChildren,
        n: getNextHostNode,
        o: options
    };
    let hydrate;
    let hydrateNode;
    if (createHydrationFns) {
        [hydrate, hydrateNode] = createHydrationFns(internals);
    }
    return {
        render,
        hydrate,
        createApp: createAppAPI(render, hydrate)
    };
}
function invokeVNodeHook(hook, instance, vnode, prevVNode = null) {
    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [
        vnode,
        prevVNode
    ]);
}
/**
 * #1156
 * When a component is HMR-enabled, we need to make sure that all static nodes
 * inside a block also inherit the DOM element from the previous tree so that
 * HMR updates (which are full updates) can retrieve the element for patching.
 *
 * #2080
 * Inside keyed `template` fragment static children, if a fragment is moved,
 * the children will always moved so that need inherit el form previous nodes
 * to ensure correct moved position.
 */
function traverseStaticChildren(n1, n2, shallow = false) {
    const ch1 = n1.children;
    const ch2 = n2.children;
    if (isArray(ch1) && isArray(ch2)) {
        for (let i = 0; i < ch1.length; i++) {
            // this is only called in the optimized path so array children are
            // guaranteed to be vnodes
            const c1 = ch1[i];
            let c2 = ch2[i];
            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {
                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {
                    c2 = ch2[i] = cloneIfMounted(ch2[i]);
                    c2.el = c1.el;
                }
                if (!shallow)
                    traverseStaticChildren(c1, c2);
            }
        }
    }
}
// https://en.wikipedia.org/wiki/Longest_increasing_subsequence
function getSequence(arr) {
    const p = arr.slice();
    const result = [0];
    let i, j, u, v, c;
    const len = arr.length;
    for (i = 0; i < len; i++) {
        const arrI = arr[i];
        if (arrI !== 0) {
            j = result[result.length - 1];
            if (arr[j] < arrI) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = ((u + v) / 2) | 0;
                if (arr[result[c]] < arrI) {
                    u = c + 1;
                }
                else {
                    v = c;
                }
            }
            if (arrI < arr[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
    }
    u = result.length;
    v = result[u - 1];
    while (u-- > 0) {
        result[u] = v;
        v = p[v];
    }
    return result;
}

const isTeleport = (type) => type.__isTeleport;
const NULL_DYNAMIC_COMPONENT = Symbol();

const Fragment = Symbol(undefined);
const Text = Symbol(undefined);
const Comment = Symbol(undefined);
const Static = Symbol(undefined);
// Since v-if and v-for are the two possible ways node structure can dynamically
// change, once we consider v-if branches and each v-for fragment a block, we
// can divide a template into nested blocks, and within each block the node
// structure would be stable. This allows us to skip most children diffing
// and only worry about the dynamic nodes (indicated by patch flags).
const blockStack = [];
let currentBlock = null;
/**
 * Open a block.
 * This must be called before `createBlock`. It cannot be part of `createBlock`
 * because the children of the block are evaluated before `createBlock` itself
 * is called. The generated code typically looks like this:
 *
 * ```js
 * function render() {
 *   return (openBlock(),createBlock('div', null, [...]))
 * }
 * ```
 * disableTracking is true when creating a v-for fragment block, since a v-for
 * fragment always diffs its children.
 *
 * @private
 */
function openBlock(disableTracking = false) {
    blockStack.push((currentBlock = disableTracking ? null : []));
}
function closeBlock() {
    blockStack.pop();
    currentBlock = blockStack[blockStack.length - 1] || null;
}
/**
 * Create a block root vnode. Takes the same exact arguments as `createVNode`.
 * A block root keeps track of dynamic nodes within the block in the
 * `dynamicChildren` array.
 *
 * @private
 */
function createBlock(type, props, children, patchFlag, dynamicProps) {
    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);
    // save current block children on the block vnode
    vnode.dynamicChildren = currentBlock || EMPTY_ARR;
    // close block
    closeBlock();
    // a block is always going to be patched, so track it as a child of its
    // parent block
    if (currentBlock) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function isVNode(value) {
    return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
    return n1.type === n2.type && n1.key === n2.key;
}
const InternalObjectKey = `__vInternal`;
const normalizeKey = ({ key }) => key != null ? key : null;
const normalizeRef = ({ ref }) => {
    return (ref != null
        ? isString(ref) || isRef(ref) || isFunction(ref)
            ? { i: currentRenderingInstance, r: ref }
            : ref
        : null);
};
const createVNode = (_createVNode);
function _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {
    if (!type || type === NULL_DYNAMIC_COMPONENT) {
        type = Comment;
    }
    if (isVNode(type)) {
        // createVNode receiving an existing vnode. This happens in cases like
        // <component :is="vnode"/>
        // #2078 make sure to merge refs during the clone instead of overwriting it
        const cloned = cloneVNode(type, props, true /* mergeRef: true */);
        if (children) {
            normalizeChildren(cloned, children);
        }
        return cloned;
    }
    // class component normalization.
    if (isClassComponent(type)) {
        type = type.__vccOpts;
    }
    // class & style normalization.
    if (props) {
        // for reactive or proxy objects, we need to clone it to enable mutation.
        if (isProxy(props) || InternalObjectKey in props) {
            props = extend({}, props);
        }
        let { class: klass, style } = props;
        if (klass && !isString(klass)) {
            props.class = normalizeClass(klass);
        }
        if (isObject$1(style)) {
            // reactive state objects need to be cloned since they are likely to be
            // mutated
            if (isProxy(style) && !isArray(style)) {
                style = extend({}, style);
            }
            props.style = normalizeStyle(style);
        }
    }
    // encode the vnode type information into a bitmap
    const shapeFlag = isString(type)
        ? 1 /* ELEMENT */
        : isSuspense(type)
            ? 128 /* SUSPENSE */
            : isTeleport(type)
                ? 64 /* TELEPORT */
                : isObject$1(type)
                    ? 4 /* STATEFUL_COMPONENT */
                    : isFunction(type)
                        ? 2 /* FUNCTIONAL_COMPONENT */
                        : 0;
    const vnode = {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type,
        props,
        key: props && normalizeKey(props),
        ref: props && normalizeRef(props),
        scopeId: currentScopeId,
        slotScopeIds: null,
        children: null,
        component: null,
        suspense: null,
        ssContent: null,
        ssFallback: null,
        dirs: null,
        transition: null,
        el: null,
        anchor: null,
        target: null,
        targetAnchor: null,
        staticCount: 0,
        shapeFlag,
        patchFlag,
        dynamicProps,
        dynamicChildren: null,
        appContext: null
    };
    normalizeChildren(vnode, children);
    // normalize suspense children
    if (shapeFlag & 128 /* SUSPENSE */) {
        const { content, fallback } = normalizeSuspenseChildren(vnode);
        vnode.ssContent = content;
        vnode.ssFallback = fallback;
    }
    if (// avoid a block node from tracking itself
        !isBlockNode &&
        // has current parent block
        currentBlock &&
        // presence of a patch flag indicates this node needs patching on updates.
        // component nodes also should always be patched, because even if the
        // component doesn't need to update, it needs to persist the instance on to
        // the next vnode so that it can be properly unmounted later.
        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&
        // the EVENTS flag is only for hydration and if it is the only flag, the
        // vnode should not be considered dynamic due to handler caching.
        patchFlag !== 32 /* HYDRATE_EVENTS */) {
        currentBlock.push(vnode);
    }
    return vnode;
}
function cloneVNode(vnode, extraProps, mergeRef = false) {
    // This is intentionally NOT using spread or extend to avoid the runtime
    // key enumeration cost.
    const { props, ref, patchFlag, children } = vnode;
    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
    return {
        __v_isVNode: true,
        ["__v_skip" /* SKIP */]: true,
        type: vnode.type,
        props: mergedProps,
        key: mergedProps && normalizeKey(mergedProps),
        ref: extraProps && extraProps.ref
            ? // #2078 in the case of <component :is="vnode" ref="extra"/>
                // if the vnode itself already has a ref, cloneVNode will need to merge
                // the refs so the single vnode can be set on multiple refs
                mergeRef && ref
                    ? isArray(ref)
                        ? ref.concat(normalizeRef(extraProps))
                        : [ref, normalizeRef(extraProps)]
                    : normalizeRef(extraProps)
            : ref,
        scopeId: vnode.scopeId,
        slotScopeIds: vnode.slotScopeIds,
        children: children,
        target: vnode.target,
        targetAnchor: vnode.targetAnchor,
        staticCount: vnode.staticCount,
        shapeFlag: vnode.shapeFlag,
        // if the vnode is cloned with extra props, we can no longer assume its
        // existing patch flag to be reliable and need to add the FULL_PROPS flag.
        // note: perserve flag for fragments since they use the flag for children
        // fast paths only.
        patchFlag: extraProps && vnode.type !== Fragment
            ? patchFlag === -1 // hoisted node
                ? 16 /* FULL_PROPS */
                : patchFlag | 16 /* FULL_PROPS */
            : patchFlag,
        dynamicProps: vnode.dynamicProps,
        dynamicChildren: vnode.dynamicChildren,
        appContext: vnode.appContext,
        dirs: vnode.dirs,
        transition: vnode.transition,
        // These should technically only be non-null on mounted VNodes. However,
        // they *should* be copied for kept-alive vnodes. So we just always copy
        // them since them being non-null during a mount doesn't affect the logic as
        // they will simply be overwritten.
        component: vnode.component,
        suspense: vnode.suspense,
        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
        el: vnode.el,
        anchor: vnode.anchor
    };
}
/**
 * @private
 */
function createTextVNode(text = ' ', flag = 0) {
    return createVNode(Text, null, text, flag);
}
function normalizeVNode(child) {
    if (child == null || typeof child === 'boolean') {
        // empty placeholder
        return createVNode(Comment);
    }
    else if (isArray(child)) {
        // fragment
        return createVNode(Fragment, null, child);
    }
    else if (typeof child === 'object') {
        // already vnode, this should be the most common since compiled templates
        // always produce all-vnode children arrays
        return child.el === null ? child : cloneVNode(child);
    }
    else {
        // strings and numbers
        return createVNode(Text, null, String(child));
    }
}
// optimized normalization for template-compiled render fns
function cloneIfMounted(child) {
    return child.el === null ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
    let type = 0;
    const { shapeFlag } = vnode;
    if (children == null) {
        children = null;
    }
    else if (isArray(children)) {
        type = 16 /* ARRAY_CHILDREN */;
    }
    else if (typeof children === 'object') {
        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {
            // Normalize slot to plain children for plain element and Teleport
            const slot = children.default;
            if (slot) {
                // _c marker is added by withCtx() indicating this is a compiled slot
                slot._c && setCompiledSlotRendering(1);
                normalizeChildren(vnode, slot());
                slot._c && setCompiledSlotRendering(-1);
            }
            return;
        }
        else {
            type = 32 /* SLOTS_CHILDREN */;
            const slotFlag = children._;
            if (!slotFlag && !(InternalObjectKey in children)) {
                children._ctx = currentRenderingInstance;
            }
            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {
                // a child component receives forwarded slots from the parent.
                // its slot type is determined by its parent's slot type.
                if (currentRenderingInstance.vnode.patchFlag & 1024 /* DYNAMIC_SLOTS */) {
                    children._ = 2 /* DYNAMIC */;
                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;
                }
                else {
                    children._ = 1 /* STABLE */;
                }
            }
        }
    }
    else if (isFunction(children)) {
        children = { default: children, _ctx: currentRenderingInstance };
        type = 32 /* SLOTS_CHILDREN */;
    }
    else {
        children = String(children);
        // force teleport children to array so it can be moved around
        if (shapeFlag & 64 /* TELEPORT */) {
            type = 16 /* ARRAY_CHILDREN */;
            children = [createTextVNode(children)];
        }
        else {
            type = 8 /* TEXT_CHILDREN */;
        }
    }
    vnode.children = children;
    vnode.shapeFlag |= type;
}
function mergeProps(...args) {
    const ret = extend({}, args[0]);
    for (let i = 1; i < args.length; i++) {
        const toMerge = args[i];
        for (const key in toMerge) {
            if (key === 'class') {
                if (ret.class !== toMerge.class) {
                    ret.class = normalizeClass([ret.class, toMerge.class]);
                }
            }
            else if (key === 'style') {
                ret.style = normalizeStyle([ret.style, toMerge.style]);
            }
            else if (isOn(key)) {
                const existing = ret[key];
                const incoming = toMerge[key];
                if (existing !== incoming) {
                    ret[key] = existing
                        ? [].concat(existing, toMerge[key])
                        : incoming;
                }
            }
            else if (key !== '') {
                ret[key] = toMerge[key];
            }
        }
    }
    return ret;
}

function provide(key, value) {
    if (!currentInstance) ;
    else {
        let provides = currentInstance.provides;
        // by default an instance inherits its parent's provides object
        // but when it needs to provide values of its own, it creates its
        // own provides object using parent provides object as prototype.
        // this way in `inject` we can simply look up injections from direct
        // parent and let the prototype chain do the work.
        const parentProvides = currentInstance.parent && currentInstance.parent.provides;
        if (parentProvides === provides) {
            provides = currentInstance.provides = Object.create(parentProvides);
        }
        // TS doesn't allow symbol as index type
        provides[key] = value;
    }
}
function inject(key, defaultValue, treatDefaultAsFactory = false) {
    // fallback to `currentRenderingInstance` so that this can be called in
    // a functional component
    const instance = currentInstance || currentRenderingInstance;
    if (instance) {
        // #2400
        // to support `app.use` plugins,
        // fallback to appContext's `provides` if the intance is at root
        const provides = instance.parent == null
            ? instance.vnode.appContext && instance.vnode.appContext.provides
            : instance.parent.provides;
        if (provides && key in provides) {
            // TS doesn't allow symbol as index type
            return provides[key];
        }
        else if (arguments.length > 1) {
            return treatDefaultAsFactory && isFunction(defaultValue)
                ? defaultValue()
                : defaultValue;
        }
        else ;
    }
}
let shouldCacheAccess = true;
function applyOptions(instance, options, deferredData = [], deferredWatch = [], deferredProvide = [], asMixin = false) {
    const { 
    // composition
    mixins, extends: extendsOptions, 
    // state
    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, 
    // assets
    components, directives, 
    // lifecycle
    beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, 
    // public API
    expose } = options;
    const publicThis = instance.proxy;
    const ctx = instance.ctx;
    const globalMixins = instance.appContext.mixins;
    if (asMixin && render && instance.render === NOOP) {
        instance.render = render;
    }
    // applyOptions is called non-as-mixin once per instance
    if (!asMixin) {
        shouldCacheAccess = false;
        callSyncHook('beforeCreate', "bc" /* BEFORE_CREATE */, options, instance, globalMixins);
        shouldCacheAccess = true;
        // global mixins are applied first
        applyMixins(instance, globalMixins, deferredData, deferredWatch, deferredProvide);
    }
    // extending a base component...
    if (extendsOptions) {
        applyOptions(instance, extendsOptions, deferredData, deferredWatch, deferredProvide, true);
    }
    // local mixins
    if (mixins) {
        applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide);
    }
    // options initialization order (to be consistent with Vue 2):
    // - props (already done outside of this function)
    // - inject
    // - methods
    // - data (deferred since it relies on `this` access)
    // - computed
    // - watch (deferred since it relies on `this` access)
    if (injectOptions) {
        if (isArray(injectOptions)) {
            for (let i = 0; i < injectOptions.length; i++) {
                const key = injectOptions[i];
                ctx[key] = inject(key);
            }
        }
        else {
            for (const key in injectOptions) {
                const opt = injectOptions[key];
                if (isObject$1(opt)) {
                    ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);
                }
                else {
                    ctx[key] = inject(opt);
                }
            }
        }
    }
    if (methods) {
        for (const key in methods) {
            const methodHandler = methods[key];
            if (isFunction(methodHandler)) {
                // In dev mode, we use the `createRenderContext` function to define methods to the proxy target,
                // and those are read-only but reconfigurable, so it needs to be redefined here
                {
                    ctx[key] = methodHandler.bind(publicThis);
                }
            }
        }
    }
    if (!asMixin) {
        if (deferredData.length) {
            deferredData.forEach(dataFn => resolveData(instance, dataFn, publicThis));
        }
        if (dataOptions) {
            // @ts-ignore dataOptions is not fully type safe
            resolveData(instance, dataOptions, publicThis);
        }
    }
    else if (dataOptions) {
        deferredData.push(dataOptions);
    }
    if (computedOptions) {
        for (const key in computedOptions) {
            const opt = computedOptions[key];
            const get = isFunction(opt)
                ? opt.bind(publicThis, publicThis)
                : isFunction(opt.get)
                    ? opt.get.bind(publicThis, publicThis)
                    : NOOP;
            const set = !isFunction(opt) && isFunction(opt.set)
                ? opt.set.bind(publicThis)
                : NOOP;
            const c = computed({
                get,
                set
            });
            Object.defineProperty(ctx, key, {
                enumerable: true,
                configurable: true,
                get: () => c.value,
                set: v => (c.value = v)
            });
        }
    }
    if (watchOptions) {
        deferredWatch.push(watchOptions);
    }
    if (!asMixin && deferredWatch.length) {
        deferredWatch.forEach(watchOptions => {
            for (const key in watchOptions) {
                createWatcher(watchOptions[key], ctx, publicThis, key);
            }
        });
    }
    if (provideOptions) {
        deferredProvide.push(provideOptions);
    }
    if (!asMixin && deferredProvide.length) {
        deferredProvide.forEach(provideOptions => {
            const provides = isFunction(provideOptions)
                ? provideOptions.call(publicThis)
                : provideOptions;
            Reflect.ownKeys(provides).forEach(key => {
                provide(key, provides[key]);
            });
        });
    }
    // asset options.
    // To reduce memory usage, only components with mixins or extends will have
    // resolved asset registry attached to instance.
    if (asMixin) {
        if (components) {
            extend(instance.components ||
                (instance.components = extend({}, instance.type.components)), components);
        }
        if (directives) {
            extend(instance.directives ||
                (instance.directives = extend({}, instance.type.directives)), directives);
        }
    }
    // lifecycle options
    if (!asMixin) {
        callSyncHook('created', "c" /* CREATED */, options, instance, globalMixins);
    }
    if (beforeMount) {
        onBeforeMount(beforeMount.bind(publicThis));
    }
    if (mounted) {
        onMounted(mounted.bind(publicThis));
    }
    if (beforeUpdate) {
        onBeforeUpdate(beforeUpdate.bind(publicThis));
    }
    if (updated) {
        onUpdated(updated.bind(publicThis));
    }
    if (activated) {
        onActivated(activated.bind(publicThis));
    }
    if (deactivated) {
        onDeactivated(deactivated.bind(publicThis));
    }
    if (errorCaptured) {
        onErrorCaptured(errorCaptured.bind(publicThis));
    }
    if (renderTracked) {
        onRenderTracked(renderTracked.bind(publicThis));
    }
    if (renderTriggered) {
        onRenderTriggered(renderTriggered.bind(publicThis));
    }
    if (beforeUnmount) {
        onBeforeUnmount(beforeUnmount.bind(publicThis));
    }
    if (unmounted) {
        onUnmounted(unmounted.bind(publicThis));
    }
    if (isArray(expose)) {
        if (!asMixin) {
            if (expose.length) {
                const exposed = instance.exposed || (instance.exposed = proxyRefs({}));
                expose.forEach(key => {
                    exposed[key] = toRef(publicThis, key);
                });
            }
            else if (!instance.exposed) {
                instance.exposed = EMPTY_OBJ;
            }
        }
    }
}
function callSyncHook(name, type, options, instance, globalMixins) {
    for (let i = 0; i < globalMixins.length; i++) {
        callHookWithMixinAndExtends(name, type, globalMixins[i], instance);
    }
    callHookWithMixinAndExtends(name, type, options, instance);
}
function callHookWithMixinAndExtends(name, type, options, instance) {
    const { extends: base, mixins } = options;
    const selfHook = options[name];
    if (base) {
        callHookWithMixinAndExtends(name, type, base, instance);
    }
    if (mixins) {
        for (let i = 0; i < mixins.length; i++) {
            callHookWithMixinAndExtends(name, type, mixins[i], instance);
        }
    }
    if (selfHook) {
        callWithAsyncErrorHandling(selfHook.bind(instance.proxy), instance, type);
    }
}
function applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide) {
    for (let i = 0; i < mixins.length; i++) {
        applyOptions(instance, mixins[i], deferredData, deferredWatch, deferredProvide, true);
    }
}
function resolveData(instance, dataFn, publicThis) {
    shouldCacheAccess = false;
    const data = dataFn.call(publicThis, publicThis);
    shouldCacheAccess = true;
    if (!isObject$1(data)) ;
    else if (instance.data === EMPTY_OBJ) {
        instance.data = reactive(data);
    }
    else {
        // existing data: this is a mixin or extends.
        extend(instance.data, data);
    }
}
function createWatcher(raw, ctx, publicThis, key) {
    const getter = key.includes('.')
        ? createPathGetter(publicThis, key)
        : () => publicThis[key];
    if (isString(raw)) {
        const handler = ctx[raw];
        if (isFunction(handler)) {
            watch(getter, handler);
        }
    }
    else if (isFunction(raw)) {
        watch(getter, raw.bind(publicThis));
    }
    else if (isObject$1(raw)) {
        if (isArray(raw)) {
            raw.forEach(r => createWatcher(r, ctx, publicThis, key));
        }
        else {
            const handler = isFunction(raw.handler)
                ? raw.handler.bind(publicThis)
                : ctx[raw.handler];
            if (isFunction(handler)) {
                watch(getter, handler, raw);
            }
        }
    }
    else ;
}
function createPathGetter(ctx, path) {
    const segments = path.split('.');
    return () => {
        let cur = ctx;
        for (let i = 0; i < segments.length && cur; i++) {
            cur = cur[segments[i]];
        }
        return cur;
    };
}
function resolveMergedOptions(instance) {
    const raw = instance.type;
    const { __merged, mixins, extends: extendsOptions } = raw;
    if (__merged)
        return __merged;
    const globalMixins = instance.appContext.mixins;
    if (!globalMixins.length && !mixins && !extendsOptions)
        return raw;
    const options = {};
    globalMixins.forEach(m => mergeOptions(options, m, instance));
    mergeOptions(options, raw, instance);
    return (raw.__merged = options);
}
function mergeOptions(to, from, instance) {
    const strats = instance.appContext.config.optionMergeStrategies;
    const { mixins, extends: extendsOptions } = from;
    extendsOptions && mergeOptions(to, extendsOptions, instance);
    mixins &&
        mixins.forEach((m) => mergeOptions(to, m, instance));
    for (const key in from) {
        if (strats && hasOwn(strats, key)) {
            to[key] = strats[key](to[key], from[key], instance.proxy, key);
        }
        else {
            to[key] = from[key];
        }
    }
}

/**
 * #2437 In Vue 3, functional components do not have a public instance proxy but
 * they exist in the internal parent chain. For code that relies on traversing
 * public $parent chains, skip functional ones and go to the parent instead.
 */
const getPublicInstance = (i) => {
    if (!i)
        return null;
    if (isStatefulComponent(i))
        return i.exposed ? i.exposed : i.proxy;
    return getPublicInstance(i.parent);
};
const publicPropertiesMap = extend(Object.create(null), {
    $: i => i,
    $el: i => i.vnode.el,
    $data: i => i.data,
    $props: i => (i.props),
    $attrs: i => (i.attrs),
    $slots: i => (i.slots),
    $refs: i => (i.refs),
    $parent: i => getPublicInstance(i.parent),
    $root: i => getPublicInstance(i.root),
    $emit: i => i.emit,
    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),
    $forceUpdate: i => () => queueJob(i.update),
    $nextTick: i => nextTick.bind(i.proxy),
    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)
});
const PublicInstanceProxyHandlers = {
    get({ _: instance }, key) {
        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;
        // let @vue/reactivity know it should never observe Vue public instances.
        if (key === "__v_skip" /* SKIP */) {
            return true;
        }
        // data / props / ctx
        // This getter gets called for every property access on the render context
        // during render and is a major hotspot. The most expensive part of this
        // is the multiple hasOwn() calls. It's much faster to do a simple property
        // access on a plain object, so we use an accessCache object (with null
        // prototype) to memoize what access type a key corresponds to.
        let normalizedProps;
        if (key[0] !== '$') {
            const n = accessCache[key];
            if (n !== undefined) {
                switch (n) {
                    case 0 /* SETUP */:
                        return setupState[key];
                    case 1 /* DATA */:
                        return data[key];
                    case 3 /* CONTEXT */:
                        return ctx[key];
                    case 2 /* PROPS */:
                        return props[key];
                    // default: just fallthrough
                }
            }
            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
                accessCache[key] = 0 /* SETUP */;
                return setupState[key];
            }
            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
                accessCache[key] = 1 /* DATA */;
                return data[key];
            }
            else if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (normalizedProps = instance.propsOptions[0]) &&
                hasOwn(normalizedProps, key)) {
                accessCache[key] = 2 /* PROPS */;
                return props[key];
            }
            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
                accessCache[key] = 3 /* CONTEXT */;
                return ctx[key];
            }
            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {
                accessCache[key] = 4 /* OTHER */;
            }
        }
        const publicGetter = publicPropertiesMap[key];
        let cssModule, globalProperties;
        // public $xxx properties
        if (publicGetter) {
            if (key === '$attrs') {
                track(instance, "get" /* GET */, key);
            }
            return publicGetter(instance);
        }
        else if (
        // css module (injected by vue-loader)
        (cssModule = type.__cssModules) &&
            (cssModule = cssModule[key])) {
            return cssModule;
        }
        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {
            // user may set custom properties to `this` that start with `$`
            accessCache[key] = 3 /* CONTEXT */;
            return ctx[key];
        }
        else if (
        // global properties
        ((globalProperties = appContext.config.globalProperties),
            hasOwn(globalProperties, key))) {
            return globalProperties[key];
        }
        else ;
    },
    set({ _: instance }, key, value) {
        const { data, setupState, ctx } = instance;
        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {
            setupState[key] = value;
        }
        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {
            data[key] = value;
        }
        else if (hasOwn(instance.props, key)) {
            return false;
        }
        if (key[0] === '$' && key.slice(1) in instance) {
            return false;
        }
        else {
            {
                ctx[key] = value;
            }
        }
        return true;
    },
    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {
        let normalizedProps;
        return (accessCache[key] !== undefined ||
            (data !== EMPTY_OBJ && hasOwn(data, key)) ||
            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||
            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||
            hasOwn(ctx, key) ||
            hasOwn(publicPropertiesMap, key) ||
            hasOwn(appContext.config.globalProperties, key));
    }
};
const RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {
    get(target, key) {
        // fast path for unscopables when using `with` block
        if (key === Symbol.unscopables) {
            return;
        }
        return PublicInstanceProxyHandlers.get(target, key, target);
    },
    has(_, key) {
        const has = key[0] !== '_' && !isGloballyWhitelisted(key);
        return has;
    }
});

const emptyAppContext = createAppContext();
let uid$1 = 0;
function createComponentInstance(vnode, parent, suspense) {
    const type = vnode.type;
    // inherit parent app context - or - if root, adopt from root vnode
    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
    const instance = {
        uid: uid$1++,
        vnode,
        type,
        parent,
        appContext,
        root: null,
        next: null,
        subTree: null,
        update: null,
        render: null,
        proxy: null,
        exposed: null,
        withProxy: null,
        effects: null,
        provides: parent ? parent.provides : Object.create(appContext.provides),
        accessCache: null,
        renderCache: [],
        // local resovled assets
        components: null,
        directives: null,
        // resolved props and emits options
        propsOptions: normalizePropsOptions(type, appContext),
        emitsOptions: normalizeEmitsOptions(type, appContext),
        // emit
        emit: null,
        emitted: null,
        // props default value
        propsDefaults: EMPTY_OBJ,
        // state
        ctx: EMPTY_OBJ,
        data: EMPTY_OBJ,
        props: EMPTY_OBJ,
        attrs: EMPTY_OBJ,
        slots: EMPTY_OBJ,
        refs: EMPTY_OBJ,
        setupState: EMPTY_OBJ,
        setupContext: null,
        // suspense related
        suspense,
        suspenseId: suspense ? suspense.pendingId : 0,
        asyncDep: null,
        asyncResolved: false,
        // lifecycle hooks
        // not using enums here because it results in computed properties
        isMounted: false,
        isUnmounted: false,
        isDeactivated: false,
        bc: null,
        c: null,
        bm: null,
        m: null,
        bu: null,
        u: null,
        um: null,
        bum: null,
        da: null,
        a: null,
        rtg: null,
        rtc: null,
        ec: null
    };
    {
        instance.ctx = { _: instance };
    }
    instance.root = parent ? parent.root : instance;
    instance.emit = emit.bind(null, instance);
    return instance;
}
let currentInstance = null;
const setCurrentInstance = (instance) => {
    currentInstance = instance;
};
function isStatefulComponent(instance) {
    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;
}
let isInSSRComponentSetup = false;
function setupComponent(instance, isSSR = false) {
    isInSSRComponentSetup = isSSR;
    const { props, children } = instance.vnode;
    const isStateful = isStatefulComponent(instance);
    initProps(instance, props, isStateful, isSSR);
    initSlots(instance, children);
    const setupResult = isStateful
        ? setupStatefulComponent(instance, isSSR)
        : undefined;
    isInSSRComponentSetup = false;
    return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
    const Component = instance.type;
    // 0. create render proxy property access cache
    instance.accessCache = Object.create(null);
    // 1. create public instance / render proxy
    // also mark it raw so it's never observed
    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);
    // 2. call setup()
    const { setup } = Component;
    if (setup) {
        const setupContext = (instance.setupContext =
            setup.length > 1 ? createSetupContext(instance) : null);
        currentInstance = instance;
        pauseTracking();
        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [instance.props, setupContext]);
        resetTracking();
        currentInstance = null;
        if (isPromise$1(setupResult)) {
            if (isSSR) {
                // return the promise so server-renderer can wait on it
                return setupResult
                    .then((resolvedResult) => {
                    handleSetupResult(instance, resolvedResult);
                })
                    .catch(e => {
                    handleError(e, instance, 0 /* SETUP_FUNCTION */);
                });
            }
            else {
                // async setup returned Promise.
                // bail here and wait for re-entry.
                instance.asyncDep = setupResult;
            }
        }
        else {
            handleSetupResult(instance, setupResult);
        }
    }
    else {
        finishComponentSetup(instance);
    }
}
function handleSetupResult(instance, setupResult, isSSR) {
    if (isFunction(setupResult)) {
        // setup returned an inline render function
        {
            instance.render = setupResult;
        }
    }
    else if (isObject$1(setupResult)) {
        // setup returned bindings.
        // assuming a render function compiled from template is present.
        if (__VUE_PROD_DEVTOOLS__) {
            instance.devtoolsRawSetupState = setupResult;
        }
        instance.setupState = proxyRefs(setupResult);
    }
    else ;
    finishComponentSetup(instance);
}
function finishComponentSetup(instance, isSSR) {
    const Component = instance.type;
    // template / render function normalization
    if (!instance.render) {
        instance.render = (Component.render || NOOP);
        // for runtime-compiled render functions using `with` blocks, the render
        // proxy used needs a different `has` handler which is more performant and
        // also only allows a whitelist of globals to fallthrough.
        if (instance.render._rc) {
            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
        }
    }
    // support for 2.x options
    if (__VUE_OPTIONS_API__) {
        currentInstance = instance;
        pauseTracking();
        applyOptions(instance, Component);
        resetTracking();
        currentInstance = null;
    }
}
function createSetupContext(instance) {
    const expose = exposed => {
        instance.exposed = proxyRefs(exposed);
    };
    {
        return {
            attrs: instance.attrs,
            slots: instance.slots,
            emit: instance.emit,
            expose
        };
    }
}
// record effects created during a component's setup() so that they can be
// stopped when the component unmounts
function recordInstanceBoundEffect(effect, instance = currentInstance) {
    if (instance) {
        (instance.effects || (instance.effects = [])).push(effect);
    }
}
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');
function getComponentName(Component) {
    return isFunction(Component)
        ? Component.displayName || Component.name
        : Component.name;
}
/* istanbul ignore next */
function formatComponentName(instance, Component, isRoot = false) {
    let name = getComponentName(Component);
    if (!name && Component.__file) {
        const match = Component.__file.match(/([^/\\]+)\.\w+$/);
        if (match) {
            name = match[1];
        }
    }
    if (!name && instance && instance.parent) {
        // try to infer the name based on reverse resolution
        const inferFromRegistry = (registry) => {
            for (const key in registry) {
                if (registry[key] === Component) {
                    return key;
                }
            }
        };
        name =
            inferFromRegistry(instance.components ||
                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
    }
    return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
    return isFunction(value) && '__vccOpts' in value;
}

function computed(getterOrOptions) {
    const c = computed$1(getterOrOptions);
    recordInstanceBoundEffect(c.effect);
    return c;
}

// Core API ------------------------------------------------------------------
const version = "3.0.11";

const svgNS = 'http://www.w3.org/2000/svg';
const doc = (typeof document !== 'undefined' ? document : null);
let tempContainer;
let tempSVGContainer;
const nodeOps = {
    insert: (child, parent, anchor) => {
        parent.insertBefore(child, anchor || null);
    },
    remove: child => {
        const parent = child.parentNode;
        if (parent) {
            parent.removeChild(child);
        }
    },
    createElement: (tag, isSVG, is, props) => {
        const el = isSVG
            ? doc.createElementNS(svgNS, tag)
            : doc.createElement(tag, is ? { is } : undefined);
        if (tag === 'select' && props && props.multiple != null) {
            el.setAttribute('multiple', props.multiple);
        }
        return el;
    },
    createText: text => doc.createTextNode(text),
    createComment: text => doc.createComment(text),
    setText: (node, text) => {
        node.nodeValue = text;
    },
    setElementText: (el, text) => {
        el.textContent = text;
    },
    parentNode: node => node.parentNode,
    nextSibling: node => node.nextSibling,
    querySelector: selector => doc.querySelector(selector),
    setScopeId(el, id) {
        el.setAttribute(id, '');
    },
    cloneNode(el) {
        const cloned = el.cloneNode(true);
        // #3072
        // - in `patchDOMProp`, we store the actual value in the `el._value` property.
        // - normally, elements using `:value` bindings will not be hoisted, but if
        //   the bound value is a constant, e.g. `:value="true"` - they do get
        //   hoisted.
        // - in production, hoisted nodes are cloned when subsequent inserts, but
        //   cloneNode() does not copy the custom property we attached.
        // - This may need to account for other custom DOM properties we attach to
        //   elements in addition to `_value` in the future.
        if (`_value` in el) {
            cloned._value = el._value;
        }
        return cloned;
    },
    // __UNSAFE__
    // Reason: innerHTML.
    // Static content here can only come from compiled templates.
    // As long as the user only uses trusted templates, this is safe.
    insertStaticContent(content, parent, anchor, isSVG) {
        const temp = isSVG
            ? tempSVGContainer ||
                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))
            : tempContainer || (tempContainer = doc.createElement('div'));
        temp.innerHTML = content;
        const first = temp.firstChild;
        let node = first;
        let last = node;
        while (node) {
            last = node;
            nodeOps.insert(node, parent, anchor);
            node = temp.firstChild;
        }
        return [first, last];
    }
};

// compiler should normalize class + :class bindings on the same element
// into a single binding ['staticClass', dynamic]
function patchClass(el, value, isSVG) {
    if (value == null) {
        value = '';
    }
    if (isSVG) {
        el.setAttribute('class', value);
    }
    else {
        // directly setting className should be faster than setAttribute in theory
        // if this is an element during a transition, take the temporary transition
        // classes into account.
        const transitionClasses = el._vtc;
        if (transitionClasses) {
            value = (value
                ? [value, ...transitionClasses]
                : [...transitionClasses]).join(' ');
        }
        el.className = value;
    }
}

function patchStyle(el, prev, next) {
    const style = el.style;
    if (!next) {
        el.removeAttribute('style');
    }
    else if (isString(next)) {
        if (prev !== next) {
            const current = style.display;
            style.cssText = next;
            // indicates that the `display` of the element is controlled by `v-show`,
            // so we always keep the current `display` value regardless of the `style` value,
            // thus handing over control to `v-show`.
            if ('_vod' in el) {
                style.display = current;
            }
        }
    }
    else {
        for (const key in next) {
            setStyle(style, key, next[key]);
        }
        if (prev && !isString(prev)) {
            for (const key in prev) {
                if (next[key] == null) {
                    setStyle(style, key, '');
                }
            }
        }
    }
}
const importantRE = /\s*!important$/;
function setStyle(style, name, val) {
    if (isArray(val)) {
        val.forEach(v => setStyle(style, name, v));
    }
    else {
        if (name.startsWith('--')) {
            // custom property definition
            style.setProperty(name, val);
        }
        else {
            const prefixed = autoPrefix(style, name);
            if (importantRE.test(val)) {
                // !important
                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');
            }
            else {
                style[prefixed] = val;
            }
        }
    }
}
const prefixes = ['Webkit', 'Moz', 'ms'];
const prefixCache = {};
function autoPrefix(style, rawName) {
    const cached = prefixCache[rawName];
    if (cached) {
        return cached;
    }
    let name = camelize(rawName);
    if (name !== 'filter' && name in style) {
        return (prefixCache[rawName] = name);
    }
    name = capitalize(name);
    for (let i = 0; i < prefixes.length; i++) {
        const prefixed = prefixes[i] + name;
        if (prefixed in style) {
            return (prefixCache[rawName] = prefixed);
        }
    }
    return rawName;
}

const xlinkNS = 'http://www.w3.org/1999/xlink';
function patchAttr(el, key, value, isSVG) {
    if (isSVG && key.startsWith('xlink:')) {
        if (value == null) {
            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
        }
        else {
            el.setAttributeNS(xlinkNS, key, value);
        }
    }
    else {
        // note we are only checking boolean attributes that don't have a
        // corresponding dom prop of the same name here.
        const isBoolean = isSpecialBooleanAttr(key);
        if (value == null || (isBoolean && value === false)) {
            el.removeAttribute(key);
        }
        else {
            el.setAttribute(key, isBoolean ? '' : value);
        }
    }
}

// __UNSAFE__
// functions. The user is responsible for using them with only trusted content.
function patchDOMProp(el, key, value, 
// the following args are passed only due to potential innerHTML/textContent
// overriding existing VNodes, in which case the old tree must be properly
// unmounted.
prevChildren, parentComponent, parentSuspense, unmountChildren) {
    if (key === 'innerHTML' || key === 'textContent') {
        if (prevChildren) {
            unmountChildren(prevChildren, parentComponent, parentSuspense);
        }
        el[key] = value == null ? '' : value;
        return;
    }
    if (key === 'value' && el.tagName !== 'PROGRESS') {
        // store value as _value as well since
        // non-string values will be stringified.
        el._value = value;
        const newValue = value == null ? '' : value;
        if (el.value !== newValue) {
            el.value = newValue;
        }
        return;
    }
    if (value === '' || value == null) {
        const type = typeof el[key];
        if (value === '' && type === 'boolean') {
            // e.g. <select multiple> compiles to { multiple: '' }
            el[key] = true;
            return;
        }
        else if (value == null && type === 'string') {
            // e.g. <div :id="null">
            el[key] = '';
            el.removeAttribute(key);
            return;
        }
        else if (type === 'number') {
            // e.g. <img :width="null">
            el[key] = 0;
            el.removeAttribute(key);
            return;
        }
    }
    // some properties perform value validation and throw
    try {
        el[key] = value;
    }
    catch (e) {
    }
}

// Async edge case fix requires storing an event listener's attach timestamp.
let _getNow = Date.now;
let skipTimestampCheck = false;
if (typeof window !== 'undefined') {
    // Determine what event timestamp the browser is using. Annoyingly, the
    // timestamp can either be hi-res (relative to page load) or low-res
    // (relative to UNIX epoch), so in order to compare time we have to use the
    // same timestamp type when saving the flush timestamp.
    if (_getNow() > document.createEvent('Event').timeStamp) {
        // if the low-res timestamp which is bigger than the event timestamp
        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,
        // and we need to use the hi-res version for event listeners as well.
        _getNow = () => performance.now();
    }
    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation
    // and does not fire microtasks in between event propagation, so safe to exclude.
    const ffMatch = navigator.userAgent.match(/firefox\/(\d+)/i);
    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);
}
// To avoid the overhead of repeatedly calling performance.now(), we cache
// and use the same timestamp for all event listeners attached in the same tick.
let cachedNow = 0;
const p$1 = Promise.resolve();
const reset = () => {
    cachedNow = 0;
};
const getNow = () => cachedNow || (p$1.then(reset), (cachedNow = _getNow()));
function addEventListener(el, event, handler, options) {
    el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
    el.removeEventListener(event, handler, options);
}
function patchEvent(el, rawName, prevValue, nextValue, instance = null) {
    // vei = vue event invokers
    const invokers = el._vei || (el._vei = {});
    const existingInvoker = invokers[rawName];
    if (nextValue && existingInvoker) {
        // patch
        existingInvoker.value = nextValue;
    }
    else {
        const [name, options] = parseName(rawName);
        if (nextValue) {
            // add
            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));
            addEventListener(el, name, invoker, options);
        }
        else if (existingInvoker) {
            // remove
            removeEventListener(el, name, existingInvoker, options);
            invokers[rawName] = undefined;
        }
    }
}
const optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
    let options;
    if (optionsModifierRE.test(name)) {
        options = {};
        let m;
        while ((m = name.match(optionsModifierRE))) {
            name = name.slice(0, name.length - m[0].length);
            options[m[0].toLowerCase()] = true;
        }
    }
    return [hyphenate(name.slice(2)), options];
}
function createInvoker(initialValue, instance) {
    const invoker = (e) => {
        // async edge case #6566: inner click event triggers patch, event handler
        // attached to outer element during patch, and triggered again. This
        // happens because browsers fire microtask ticks between event propagation.
        // the solution is simple: we save the timestamp when a handler is attached,
        // and the handler would only fire if the event passed to it was fired
        // AFTER it was attached.
        const timeStamp = e.timeStamp || _getNow();
        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {
            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);
        }
    };
    invoker.value = initialValue;
    invoker.attached = getNow();
    return invoker;
}
function patchStopImmediatePropagation(e, value) {
    if (isArray(value)) {
        const originalStop = e.stopImmediatePropagation;
        e.stopImmediatePropagation = () => {
            originalStop.call(e);
            e._stopped = true;
        };
        return value.map(fn => (e) => !e._stopped && fn(e));
    }
    else {
        return value;
    }
}

const nativeOnRE = /^on[a-z]/;
const forcePatchProp = (_, key) => key === 'value';
const patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {
    switch (key) {
        // special
        case 'class':
            patchClass(el, nextValue, isSVG);
            break;
        case 'style':
            patchStyle(el, prevValue, nextValue);
            break;
        default:
            if (isOn(key)) {
                // ignore v-model listeners
                if (!isModelListener(key)) {
                    patchEvent(el, key, prevValue, nextValue, parentComponent);
                }
            }
            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {
                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
            }
            else {
                // special case for <input v-model type="checkbox"> with
                // :true-value & :false-value
                // store value as dom properties since non-string values will be
                // stringified.
                if (key === 'true-value') {
                    el._trueValue = nextValue;
                }
                else if (key === 'false-value') {
                    el._falseValue = nextValue;
                }
                patchAttr(el, key, nextValue, isSVG);
            }
            break;
    }
};
function shouldSetAsProp(el, key, value, isSVG) {
    if (isSVG) {
        // most keys must be set as attribute on svg elements to work
        // ...except innerHTML
        if (key === 'innerHTML') {
            return true;
        }
        // or native onclick with function values
        if (key in el && nativeOnRE.test(key) && isFunction(value)) {
            return true;
        }
        return false;
    }
    // spellcheck and draggable are numerated attrs, however their
    // corresponding DOM properties are actually booleans - this leads to
    // setting it with a string "false" value leading it to be coerced to
    // `true`, so we need to always treat them as attributes.
    // Note that `contentEditable` doesn't have this problem: its DOM
    // property is also enumerated string values.
    if (key === 'spellcheck' || key === 'draggable') {
        return false;
    }
    // #1787, #2840 form property on form elements is readonly and must be set as
    // attribute.
    if (key === 'form') {
        return false;
    }
    // #1526 <input list> must be set as attribute
    if (key === 'list' && el.tagName === 'INPUT') {
        return false;
    }
    // #2766 <textarea type> must be set as attribute
    if (key === 'type' && el.tagName === 'TEXTAREA') {
        return false;
    }
    // native onclick with string value, must be set as attribute
    if (nativeOnRE.test(key) && isString(value)) {
        return false;
    }
    return key in el;
}

const rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);
// lazy create the renderer - this makes core renderer logic tree-shakable
// in case the user only imports reactivity utilities from Vue.
let renderer;
function ensureRenderer() {
    return renderer || (renderer = createRenderer(rendererOptions));
}
const createApp = ((...args) => {
    const app = ensureRenderer().createApp(...args);
    const { mount } = app;
    app.mount = (containerOrSelector) => {
        const container = normalizeContainer(containerOrSelector);
        if (!container)
            return;
        const component = app._component;
        if (!isFunction(component) && !component.render && !component.template) {
            component.template = container.innerHTML;
        }
        // clear content before mounting
        container.innerHTML = '';
        const proxy = mount(container, false, container instanceof SVGElement);
        if (container instanceof Element) {
            container.removeAttribute('v-cloak');
            container.setAttribute('data-v-app', '');
        }
        return proxy;
    };
    return app;
});
function normalizeContainer(container) {
    if (isString(container)) {
        const res = document.querySelector(container);
        return res;
    }
    return container;
}

var _imports_0 = "https://resources.realitymedia.digital/test-vue-app/dist/1a6ace377133f14a.png";

function getDevtoolsGlobalHook() {
    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;
}
function getTarget() {
    // @ts-ignore
    return typeof navigator !== 'undefined'
        ? window
        : typeof global !== 'undefined'
            ? global
            : {};
}

const HOOK_SETUP = 'devtools-plugin:setup';

function setupDevtoolsPlugin(pluginDescriptor, setupFn) {
    const hook = getDevtoolsGlobalHook();
    if (hook) {
        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);
    }
    else {
        const target = getTarget();
        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];
        list.push({
            pluginDescriptor,
            setupFn
        });
    }
}

/*!
 * vuex v4.0.1
 * (c) 2021 Evan You
 * @license MIT
 */

var storeKey = 'store';

/**
 * forEach for object
 */
function forEachValue (obj, fn) {
  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });
}

function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

function isPromise (val) {
  return val && typeof val.then === 'function'
}

function partial (fn, arg) {
  return function () {
    return fn(arg)
  }
}

function genericSubscribe (fn, subs, options) {
  if (subs.indexOf(fn) < 0) {
    options && options.prepend
      ? subs.unshift(fn)
      : subs.push(fn);
  }
  return function () {
    var i = subs.indexOf(fn);
    if (i > -1) {
      subs.splice(i, 1);
    }
  }
}

function resetStore (store, hot) {
  store._actions = Object.create(null);
  store._mutations = Object.create(null);
  store._wrappedGetters = Object.create(null);
  store._modulesNamespaceMap = Object.create(null);
  var state = store.state;
  // init all modules
  installModule(store, state, [], store._modules.root, true);
  // reset state
  resetStoreState(store, state, hot);
}

function resetStoreState (store, state, hot) {
  var oldState = store._state;

  // bind store public getters
  store.getters = {};
  // reset local getters cache
  store._makeLocalGettersCache = Object.create(null);
  var wrappedGetters = store._wrappedGetters;
  var computedObj = {};
  forEachValue(wrappedGetters, function (fn, key) {
    // use computed to leverage its lazy-caching mechanism
    // direct inline function use will lead to closure preserving oldState.
    // using partial to return function with only arguments preserved in closure environment.
    computedObj[key] = partial(fn, store);
    Object.defineProperty(store.getters, key, {
      // TODO: use `computed` when it's possible. at the moment we can't due to
      // https://github.com/vuejs/vuex/pull/1883
      get: function () { return computedObj[key](); },
      enumerable: true // for local getters
    });
  });

  store._state = reactive({
    data: state
  });

  // enable strict mode for new state
  if (store.strict) {
    enableStrictMode(store);
  }

  if (oldState) {
    if (hot) {
      // dispatch changes in all subscribed watchers
      // to force getter re-evaluation for hot reloading.
      store._withCommit(function () {
        oldState.data = null;
      });
    }
  }
}

function installModule (store, rootState, path, module, hot) {
  var isRoot = !path.length;
  var namespace = store._modules.getNamespace(path);

  // register in namespace map
  if (module.namespaced) {
    if (store._modulesNamespaceMap[namespace] && ("production" !== 'production')) {
      console.error(("[vuex] duplicate namespace " + namespace + " for the namespaced module " + (path.join('/'))));
    }
    store._modulesNamespaceMap[namespace] = module;
  }

  // set state
  if (!isRoot && !hot) {
    var parentState = getNestedState(rootState, path.slice(0, -1));
    var moduleName = path[path.length - 1];
    store._withCommit(function () {
      parentState[moduleName] = module.state;
    });
  }

  var local = module.context = makeLocalContext(store, namespace, path);

  module.forEachMutation(function (mutation, key) {
    var namespacedType = namespace + key;
    registerMutation(store, namespacedType, mutation, local);
  });

  module.forEachAction(function (action, key) {
    var type = action.root ? key : namespace + key;
    var handler = action.handler || action;
    registerAction(store, type, handler, local);
  });

  module.forEachGetter(function (getter, key) {
    var namespacedType = namespace + key;
    registerGetter(store, namespacedType, getter, local);
  });

  module.forEachChild(function (child, key) {
    installModule(store, rootState, path.concat(key), child, hot);
  });
}

/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */
function makeLocalContext (store, namespace, path) {
  var noNamespace = namespace === '';

  var local = {
    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
      }

      return store.dispatch(type, payload)
    },

    commit: noNamespace ? store.commit : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
      }

      store.commit(type, payload, options);
    }
  };

  // getters and state object must be gotten lazily
  // because they will be changed by state update
  Object.defineProperties(local, {
    getters: {
      get: noNamespace
        ? function () { return store.getters; }
        : function () { return makeLocalGetters(store, namespace); }
    },
    state: {
      get: function () { return getNestedState(store.state, path); }
    }
  });

  return local
}

function makeLocalGetters (store, namespace) {
  if (!store._makeLocalGettersCache[namespace]) {
    var gettersProxy = {};
    var splitPos = namespace.length;
    Object.keys(store.getters).forEach(function (type) {
      // skip if the target getter is not match this namespace
      if (type.slice(0, splitPos) !== namespace) { return }

      // extract local getter type
      var localType = type.slice(splitPos);

      // Add a port to the getters proxy.
      // Define as getter property because
      // we do not want to evaluate the getters in this time.
      Object.defineProperty(gettersProxy, localType, {
        get: function () { return store.getters[type]; },
        enumerable: true
      });
    });
    store._makeLocalGettersCache[namespace] = gettersProxy;
  }

  return store._makeLocalGettersCache[namespace]
}

function registerMutation (store, type, handler, local) {
  var entry = store._mutations[type] || (store._mutations[type] = []);
  entry.push(function wrappedMutationHandler (payload) {
    handler.call(store, local.state, payload);
  });
}

function registerAction (store, type, handler, local) {
  var entry = store._actions[type] || (store._actions[type] = []);
  entry.push(function wrappedActionHandler (payload) {
    var res = handler.call(store, {
      dispatch: local.dispatch,
      commit: local.commit,
      getters: local.getters,
      state: local.state,
      rootGetters: store.getters,
      rootState: store.state
    }, payload);
    if (!isPromise(res)) {
      res = Promise.resolve(res);
    }
    if (store._devtoolHook) {
      return res.catch(function (err) {
        store._devtoolHook.emit('vuex:error', err);
        throw err
      })
    } else {
      return res
    }
  });
}

function registerGetter (store, type, rawGetter, local) {
  if (store._wrappedGetters[type]) {
    return
  }
  store._wrappedGetters[type] = function wrappedGetter (store) {
    return rawGetter(
      local.state, // local state
      local.getters, // local getters
      store.state, // root state
      store.getters // root getters
    )
  };
}

function enableStrictMode (store) {
  watch(function () { return store._state.data; }, function () {
  }, { deep: true, flush: 'sync' });
}

function getNestedState (state, path) {
  return path.reduce(function (state, key) { return state[key]; }, state)
}

function unifyObjectStyle (type, payload, options) {
  if (isObject(type) && type.type) {
    options = payload;
    payload = type;
    type = type.type;
  }

  return { type: type, payload: payload, options: options }
}

var LABEL_VUEX_BINDINGS = 'vuex bindings';
var MUTATIONS_LAYER_ID = 'vuex:mutations';
var ACTIONS_LAYER_ID = 'vuex:actions';
var INSPECTOR_ID = 'vuex';

var actionId = 0;

function addDevtools (app, store) {
  setupDevtoolsPlugin(
    {
      id: 'org.vuejs.vuex',
      app: app,
      label: 'Vuex',
      homepage: 'https://next.vuex.vuejs.org/',
      logo: 'https://vuejs.org/images/icons/favicon-96x96.png',
      packageName: 'vuex',
      componentStateTypes: [LABEL_VUEX_BINDINGS]
    },
    function (api) {
      api.addTimelineLayer({
        id: MUTATIONS_LAYER_ID,
        label: 'Vuex Mutations',
        color: COLOR_LIME_500
      });

      api.addTimelineLayer({
        id: ACTIONS_LAYER_ID,
        label: 'Vuex Actions',
        color: COLOR_LIME_500
      });

      api.addInspector({
        id: INSPECTOR_ID,
        label: 'Vuex',
        icon: 'storage',
        treeFilterPlaceholder: 'Filter stores...'
      });

      api.on.getInspectorTree(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          if (payload.filter) {
            var nodes = [];
            flattenStoreForInspectorTree(nodes, store._modules.root, payload.filter, '');
            payload.rootNodes = nodes;
          } else {
            payload.rootNodes = [
              formatStoreForInspectorTree(store._modules.root, '')
            ];
          }
        }
      });

      api.on.getInspectorState(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          var modulePath = payload.nodeId;
          makeLocalGetters(store, modulePath);
          payload.state = formatStoreForInspectorState(
            getStoreModule(store._modules, modulePath),
            store._makeLocalGettersCache,
            modulePath
          );
        }
      });

      api.on.editInspectorState(function (payload) {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          var modulePath = payload.nodeId;
          var path = payload.path;
          if (modulePath !== 'root') {
            path = modulePath.split('/').filter(Boolean).concat( path);
          }
          store._withCommit(function () {
            payload.set(store._state.data, path, payload.state.value);
          });
        }
      });

      store.subscribe(function (mutation, state) {
        var data = {};

        if (mutation.payload) {
          data.payload = mutation.payload;
        }

        data.state = state;

        api.notifyComponentUpdate();
        api.sendInspectorTree(INSPECTOR_ID);
        api.sendInspectorState(INSPECTOR_ID);

        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: Date.now(),
            title: mutation.type,
            data: data
          }
        });
      });

      store.subscribeAction({
        before: function (action, state) {
          var data = {};
          if (action.payload) {
            data.payload = action.payload;
          }
          action._id = actionId++;
          action._time = Date.now();
          data.state = state;

          api.addTimelineEvent({
            layerId: ACTIONS_LAYER_ID,
            event: {
              time: action._time,
              title: action.type,
              groupId: action._id,
              subtitle: 'start',
              data: data
            }
          });
        },
        after: function (action, state) {
          var data = {};
          var duration = Date.now() - action._time;
          data.duration = {
            _custom: {
              type: 'duration',
              display: (duration + "ms"),
              tooltip: 'Action duration',
              value: duration
            }
          };
          if (action.payload) {
            data.payload = action.payload;
          }
          data.state = state;

          api.addTimelineEvent({
            layerId: ACTIONS_LAYER_ID,
            event: {
              time: Date.now(),
              title: action.type,
              groupId: action._id,
              subtitle: 'end',
              data: data
            }
          });
        }
      });
    }
  );
}

// extracted from tailwind palette
var COLOR_LIME_500 = 0x84cc16;
var COLOR_DARK = 0x666666;
var COLOR_WHITE = 0xffffff;

var TAG_NAMESPACED = {
  label: 'namespaced',
  textColor: COLOR_WHITE,
  backgroundColor: COLOR_DARK
};

/**
 * @param {string} path
 */
function extractNameFromPath (path) {
  return path && path !== 'root' ? path.split('/').slice(-2, -1)[0] : 'Root'
}

/**
 * @param {*} module
 * @return {import('@vue/devtools-api').CustomInspectorNode}
 */
function formatStoreForInspectorTree (module, path) {
  return {
    id: path || 'root',
    // all modules end with a `/`, we want the last segment only
    // cart/ -> cart
    // nested/cart/ -> cart
    label: extractNameFromPath(path),
    tags: module.namespaced ? [TAG_NAMESPACED] : [],
    children: Object.keys(module._children).map(function (moduleName) { return formatStoreForInspectorTree(
        module._children[moduleName],
        path + moduleName + '/'
      ); }
    )
  }
}

/**
 * @param {import('@vue/devtools-api').CustomInspectorNode[]} result
 * @param {*} module
 * @param {string} filter
 * @param {string} path
 */
function flattenStoreForInspectorTree (result, module, filter, path) {
  if (path.includes(filter)) {
    result.push({
      id: path || 'root',
      label: path.endsWith('/') ? path.slice(0, path.length - 1) : path || 'Root',
      tags: module.namespaced ? [TAG_NAMESPACED] : []
    });
  }
  Object.keys(module._children).forEach(function (moduleName) {
    flattenStoreForInspectorTree(result, module._children[moduleName], filter, path + moduleName + '/');
  });
}

/**
 * @param {*} module
 * @return {import('@vue/devtools-api').CustomInspectorState}
 */
function formatStoreForInspectorState (module, getters, path) {
  getters = path === 'root' ? getters : getters[path];
  var gettersKeys = Object.keys(getters);
  var storeState = {
    state: Object.keys(module.state).map(function (key) { return ({
      key: key,
      editable: true,
      value: module.state[key]
    }); })
  };

  if (gettersKeys.length) {
    storeState.getters = gettersKeys.map(function (key) { return ({
      key: key.endsWith('/') ? extractNameFromPath(key) : key,
      editable: false,
      value: getters[key]
    }); });
  }

  return storeState
}

function getStoreModule (moduleMap, path) {
  var names = path.split('/').filter(function (n) { return n; });
  return names.reduce(
    function (module, moduleName, i) {
      var child = module[moduleName];
      if (!child) {
        throw new Error(("Missing module \"" + moduleName + "\" for path \"" + path + "\"."))
      }
      return i === names.length - 1 ? child : child._children
    },
    path === 'root' ? moduleMap : moduleMap.root._children
  )
}

// Base data struct for store's module, package with some attribute and method
var Module = function Module (rawModule, runtime) {
  this.runtime = runtime;
  // Store some children item
  this._children = Object.create(null);
  // Store the origin module object which passed by programmer
  this._rawModule = rawModule;
  var rawState = rawModule.state;

  // Store the origin module's state
  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};
};

var prototypeAccessors$1 = { namespaced: { configurable: true } };

prototypeAccessors$1.namespaced.get = function () {
  return !!this._rawModule.namespaced
};

Module.prototype.addChild = function addChild (key, module) {
  this._children[key] = module;
};

Module.prototype.removeChild = function removeChild (key) {
  delete this._children[key];
};

Module.prototype.getChild = function getChild (key) {
  return this._children[key]
};

Module.prototype.hasChild = function hasChild (key) {
  return key in this._children
};

Module.prototype.update = function update (rawModule) {
  this._rawModule.namespaced = rawModule.namespaced;
  if (rawModule.actions) {
    this._rawModule.actions = rawModule.actions;
  }
  if (rawModule.mutations) {
    this._rawModule.mutations = rawModule.mutations;
  }
  if (rawModule.getters) {
    this._rawModule.getters = rawModule.getters;
  }
};

Module.prototype.forEachChild = function forEachChild (fn) {
  forEachValue(this._children, fn);
};

Module.prototype.forEachGetter = function forEachGetter (fn) {
  if (this._rawModule.getters) {
    forEachValue(this._rawModule.getters, fn);
  }
};

Module.prototype.forEachAction = function forEachAction (fn) {
  if (this._rawModule.actions) {
    forEachValue(this._rawModule.actions, fn);
  }
};

Module.prototype.forEachMutation = function forEachMutation (fn) {
  if (this._rawModule.mutations) {
    forEachValue(this._rawModule.mutations, fn);
  }
};

Object.defineProperties( Module.prototype, prototypeAccessors$1 );

var ModuleCollection = function ModuleCollection (rawRootModule) {
  // register root module (Vuex.Store options)
  this.register([], rawRootModule, false);
};

ModuleCollection.prototype.get = function get (path) {
  return path.reduce(function (module, key) {
    return module.getChild(key)
  }, this.root)
};

ModuleCollection.prototype.getNamespace = function getNamespace (path) {
  var module = this.root;
  return path.reduce(function (namespace, key) {
    module = module.getChild(key);
    return namespace + (module.namespaced ? key + '/' : '')
  }, '')
};

ModuleCollection.prototype.update = function update$1 (rawRootModule) {
  update([], this.root, rawRootModule);
};

ModuleCollection.prototype.register = function register (path, rawModule, runtime) {
    var this$1$1 = this;
    if ( runtime === void 0 ) runtime = true;

  var newModule = new Module(rawModule, runtime);
  if (path.length === 0) {
    this.root = newModule;
  } else {
    var parent = this.get(path.slice(0, -1));
    parent.addChild(path[path.length - 1], newModule);
  }

  // register nested modules
  if (rawModule.modules) {
    forEachValue(rawModule.modules, function (rawChildModule, key) {
      this$1$1.register(path.concat(key), rawChildModule, runtime);
    });
  }
};

ModuleCollection.prototype.unregister = function unregister (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];
  var child = parent.getChild(key);

  if (!child) {
    return
  }

  if (!child.runtime) {
    return
  }

  parent.removeChild(key);
};

ModuleCollection.prototype.isRegistered = function isRegistered (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];

  if (parent) {
    return parent.hasChild(key)
  }

  return false
};

function update (path, targetModule, newModule) {

  // update target module
  targetModule.update(newModule);

  // update nested modules
  if (newModule.modules) {
    for (var key in newModule.modules) {
      if (!targetModule.getChild(key)) {
        return
      }
      update(
        path.concat(key),
        targetModule.getChild(key),
        newModule.modules[key]
      );
    }
  }
}

function createStore (options) {
  return new Store(options)
}

var Store = function Store (options) {
  var this$1$1 = this;
  if ( options === void 0 ) options = {};

  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];
  var strict = options.strict; if ( strict === void 0 ) strict = false;
  var devtools = options.devtools;

  // store internal state
  this._committing = false;
  this._actions = Object.create(null);
  this._actionSubscribers = [];
  this._mutations = Object.create(null);
  this._wrappedGetters = Object.create(null);
  this._modules = new ModuleCollection(options);
  this._modulesNamespaceMap = Object.create(null);
  this._subscribers = [];
  this._makeLocalGettersCache = Object.create(null);
  this._devtools = devtools;

  // bind commit and dispatch to self
  var store = this;
  var ref = this;
  var dispatch = ref.dispatch;
  var commit = ref.commit;
  this.dispatch = function boundDispatch (type, payload) {
    return dispatch.call(store, type, payload)
  };
  this.commit = function boundCommit (type, payload, options) {
    return commit.call(store, type, payload, options)
  };

  // strict mode
  this.strict = strict;

  var state = this._modules.root.state;

  // init root module.
  // this also recursively registers all sub-modules
  // and collects all module getters inside this._wrappedGetters
  installModule(this, state, [], this._modules.root);

  // initialize the store state, which is responsible for the reactivity
  // (also registers _wrappedGetters as computed properties)
  resetStoreState(this, state);

  // apply plugins
  plugins.forEach(function (plugin) { return plugin(this$1$1); });
};

var prototypeAccessors = { state: { configurable: true } };

Store.prototype.install = function install (app, injectKey) {
  app.provide(injectKey || storeKey, this);
  app.config.globalProperties.$store = this;

  var useDevtools = this._devtools !== undefined
    ? this._devtools
    : __VUE_PROD_DEVTOOLS__;

  if (useDevtools) {
    addDevtools(app, this);
  }
};

prototypeAccessors.state.get = function () {
  return this._state.data
};

prototypeAccessors.state.set = function (v) {
};

Store.prototype.commit = function commit (_type, _payload, _options) {
    var this$1$1 = this;

  // check object-style commit
  var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;

  var mutation = { type: type, payload: payload };
  var entry = this._mutations[type];
  if (!entry) {
    return
  }
  this._withCommit(function () {
    entry.forEach(function commitIterator (handler) {
      handler(payload);
    });
  });

  this._subscribers
    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
    .forEach(function (sub) { return sub(mutation, this$1$1.state); });
};

Store.prototype.dispatch = function dispatch (_type, _payload) {
    var this$1$1 = this;

  // check object-style dispatch
  var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;

  var action = { type: type, payload: payload };
  var entry = this._actions[type];
  if (!entry) {
    return
  }

  try {
    this._actionSubscribers
      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe
      .filter(function (sub) { return sub.before; })
      .forEach(function (sub) { return sub.before(action, this$1$1.state); });
  } catch (e) {
  }

  var result = entry.length > 1
    ? Promise.all(entry.map(function (handler) { return handler(payload); }))
    : entry[0](payload);

  return new Promise(function (resolve, reject) {
    result.then(function (res) {
      try {
        this$1$1._actionSubscribers
          .filter(function (sub) { return sub.after; })
          .forEach(function (sub) { return sub.after(action, this$1$1.state); });
      } catch (e) {
      }
      resolve(res);
    }, function (error) {
      try {
        this$1$1._actionSubscribers
          .filter(function (sub) { return sub.error; })
          .forEach(function (sub) { return sub.error(action, this$1$1.state, error); });
      } catch (e) {
      }
      reject(error);
    });
  })
};

Store.prototype.subscribe = function subscribe (fn, options) {
  return genericSubscribe(fn, this._subscribers, options)
};

Store.prototype.subscribeAction = function subscribeAction (fn, options) {
  var subs = typeof fn === 'function' ? { before: fn } : fn;
  return genericSubscribe(subs, this._actionSubscribers, options)
};

Store.prototype.watch = function watch$1 (getter, cb, options) {
    var this$1$1 = this;
  return watch(function () { return getter(this$1$1.state, this$1$1.getters); }, cb, Object.assign({}, options))
};

Store.prototype.replaceState = function replaceState (state) {
    var this$1$1 = this;

  this._withCommit(function () {
    this$1$1._state.data = state;
  });
};

Store.prototype.registerModule = function registerModule (path, rawModule, options) {
    if ( options === void 0 ) options = {};

  if (typeof path === 'string') { path = [path]; }

  this._modules.register(path, rawModule);
  installModule(this, this.state, path, this._modules.get(path), options.preserveState);
  // reset store to update getters...
  resetStoreState(this, this.state);
};

Store.prototype.unregisterModule = function unregisterModule (path) {
    var this$1$1 = this;

  if (typeof path === 'string') { path = [path]; }

  this._modules.unregister(path);
  this._withCommit(function () {
    var parentState = getNestedState(this$1$1.state, path.slice(0, -1));
    delete parentState[path[path.length - 1]];
  });
  resetStore(this);
};

Store.prototype.hasModule = function hasModule (path) {
  if (typeof path === 'string') { path = [path]; }

  return this._modules.isRegistered(path)
};

Store.prototype.hotUpdate = function hotUpdate (newOptions) {
  this._modules.update(newOptions);
  resetStore(this, true);
};

Store.prototype._withCommit = function _withCommit (fn) {
  var committing = this._committing;
  this._committing = true;
  fn();
  this._committing = committing;
};

Object.defineProperties( Store.prototype, prototypeAccessors );

/**
 * Reduce the code which written in Vue.js for getting the state.
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
 * @param {Object}
 */
var mapState = normalizeNamespace(function (namespace, states) {
  var res = {};
  normalizeMap(states).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedState () {
      var state = this.$store.state;
      var getters = this.$store.getters;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapState', namespace);
        if (!module) {
          return
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      return typeof val === 'function'
        ? val.call(this, state, getters)
        : state[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for dispatch the action
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapActions = normalizeNamespace(function (namespace, actions) {
  var res = {};
  normalizeMap(actions).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedAction () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // get dispatch function from store
      var dispatch = this.$store.dispatch;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);
        if (!module) {
          return
        }
        dispatch = module.context.dispatch;
      }
      return typeof val === 'function'
        ? val.apply(this, [dispatch].concat(args))
        : dispatch.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Normalize the map
 * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
 * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
 * @param {Array|Object} map
 * @return {Object}
 */
function normalizeMap (map) {
  if (!isValidMap(map)) {
    return []
  }
  return Array.isArray(map)
    ? map.map(function (key) { return ({ key: key, val: key }); })
    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })
}

/**
 * Validate whether given map is valid or not
 * @param {*} map
 * @return {Boolean}
 */
function isValidMap (map) {
  return Array.isArray(map) || isObject(map)
}

/**
 * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
 * @param {Function} fn
 * @return {Function}
 */
function normalizeNamespace (fn) {
  return function (namespace, map) {
    if (typeof namespace !== 'string') {
      map = namespace;
      namespace = '';
    } else if (namespace.charAt(namespace.length - 1) !== '/') {
      namespace += '/';
    }
    return fn(namespace, map)
  }
}

/**
 * Search a special module from store by namespace. if module not exist, print error message.
 * @param {Object} store
 * @param {String} helper
 * @param {String} namespace
 * @return {Object}
 */
function getModuleByNamespace (store, helper, namespace) {
  var module = store._modulesNamespaceMap[namespace];
  return module
}

// defineProps({
//   msg: String
// })

var script$3 = {
    props: {
        msg: {
          type: String,
          required: true
        }
    },

    computed: mapState({
        count: state => state.count,
            // passing the string value 'count' is same as `state => state.count`
        countAlias: 'count',

    }),

    methods: {
        ...mapActions([
            'increment', // map `this.increment()` to `this.$store.dispatch('increment')`
        ]),

        inc() {
            this.increment();
            console.log(this.count);
        }
    },
    // setup (props) {

    // }
};

const _withId = /*#__PURE__*/withScopeId();

pushScopeId("data-v-19149540");
const _hoisted_1$3 = {
  "xr-layer": "",
  class: "fade"
};
const _hoisted_2$3 = /*#__PURE__*/createVNode("p", null, " Here's some more text just to make things not blank. ", -1 /* HOISTED */);
popScopeId();

const render = /*#__PURE__*/_withId((_ctx, _cache, $props, $setup, $data, $options) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", _hoisted_1$3, toDisplayString($props.msg), 1 /* TEXT */),
    _hoisted_2$3,
    createVNode("button", {
      "xr-layer": "",
      onClick: _cache[1] || (_cache[1] = (...args) => ($options.inc && $options.inc(...args)))
    }, "count is: " + toDisplayString(_ctx.count), 1 /* TEXT */)
  ], 64 /* STABLE_FRAGMENT */))
});

function styleInject(css, ref) {
  if ( ref === void 0 ) ref = {};
  var insertAt = ref.insertAt;

  if (!css || typeof document === 'undefined') { return; }

  var head = document.head || document.getElementsByTagName('head')[0];
  var style = document.createElement('style');
  style.type = 'text/css';

  if (insertAt === 'top') {
    if (head.firstChild) {
      head.insertBefore(style, head.firstChild);
    } else {
      head.appendChild(style);
    }
  } else {
    head.appendChild(style);
  }

  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }
}

var css_248z$3 = "\na[data-v-19149540] {\n  color: #b542b9;\n}\n*[data-v-19149540] {\n    line-height : normal;\n}\n.fade[data-v-19149540] {\n  color: #9803a5;\n  /* transition: color 1s; */\n}\n.fade[data-v-19149540]:hover {\n  color: #a78e06;\n}\np[data-v-19149540] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-19149540] {\n      /* text-align: center; */\n\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-19149540] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n/* button :hover {\n    background-color: -internal-light-dark(rgb(150, 150, 150), rgb(121, 121, 121));\n} */\n";
styleInject(css_248z$3);

script$3.render = render;
script$3.__scopeId = "data-v-19149540";

pushScopeId("data-v-0f637bab");
const _hoisted_1$2 = { id: "top" };
const _hoisted_2$2 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0
}, null, -1 /* HOISTED */);
popScopeId();


var script$2 = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1$2, [
    _hoisted_2$2,
    createVNode(script$3, { msg: "Networked Vue Component with Shared Button Count" })
  ]))
}
}

};

var css_248z$2 = "\n#top[data-v-0f637bab] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n  border: 5;\n  border-radius: 10px;\n  border-color: red;\n  width: 400px; height: 450px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-0f637bab] {\n    box-sizing: content-box;\n}\nimg[data-v-0f637bab] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z$2);

script$2.__scopeId = "data-v-0f637bab";

var THREE$1 = THREE;

var t = /*#__PURE__*/Object.freeze({
    __proto__: null,
    'default': THREE$1
});

class e{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e;}get width(){return this.x}set width(t){this.x=t;}get height(){return this.y}set height(t){this.y=t;}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y;return e*e+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*n+t.x,this.y=i*n+s*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}const r=[];for(let Oh=0;Oh<256;Oh++)r[Oh]=(Oh<16?"0":"")+Oh.toString(16);let n=1234567;const i={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return (r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]).toUpperCase()},clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return (t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return (1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(n=t%2147483647),n=16807*n%2147483647,(n-1)/2147483646},degToRad:function(t){return t*i.DEG2RAD},radToDeg:function(t){return t*i.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,r,n,i){const s=Math.cos,a=Math.sin,o=s(r/2),u=a(r/2),h=s((e+n)/2),c=a((e+n)/2),l=s((e-n)/2),p=a((e-n)/2),f=s((n-e)/2),d=a((n-e)/2);switch(i){case"XYX":t.set(o*c,u*l,u*p,o*h);break;case"YZY":t.set(u*p,o*c,u*l,o*h);break;case"ZXZ":t.set(u*l,u*p,o*c,o*h);break;case"XZX":t.set(o*c,u*d,u*f,o*h);break;case"YXY":t.set(u*f,o*c,u*d,o*h);break;case"ZYZ":t.set(u*d,u*f,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i);}}};class s{constructor(t=0,e=0,r=0,n=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=r,this._w=n;}static slerp(t,e,r,n){return r.copy(t).slerp(e,n)}static slerpFlat(t,e,r,n,i,s,a){let o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3];const l=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(c!==d||o!==l||u!==p||h!==f){let t=1-a;const e=o*l+u*p+h*f+c*d,r=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,e*r);t=Math.sin(t*s)/i,a=Math.sin(a*s)/i;}const i=a*r;if(o=o*t+l*i,u=u*t+p*i,h=h*t+f*i,c=c*t+d*i,t===1-a){const t=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=t,u*=t,h*=t,c*=t;}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c;}static multiplyQuaternionsFlat(t,e,r,n,i,s){const a=r[n],o=r[n+1],u=r[n+2],h=r[n+3],c=i[s],l=i[s+1],p=i[s+2],f=i[s+3];return t[e]=a*f+h*c+o*p-u*l,t[e+1]=o*f+h*l+u*c-a*p,t[e+2]=u*f+h*p+a*l-o*c,t[e+3]=h*f-a*c-o*l-u*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback();}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback();}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback();}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback();}set(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=t._x,n=t._y,i=t._z,s=t._order,a=Math.cos,o=Math.sin,u=a(r/2),h=a(n/2),c=a(i/2),l=o(r/2),p=o(n/2),f=o(i/2);switch(s){case"XYZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"YXZ":this._x=l*h*c+u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"ZXY":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c-l*p*f;break;case"ZYX":this._x=l*h*c-u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c+l*p*f;break;case"YZX":this._x=l*h*c+u*p*f,this._y=u*p*c+l*h*f,this._z=u*h*f-l*p*c,this._w=u*h*c-l*p*f;break;case"XZY":this._x=l*h*c-u*p*f,this._y=u*p*c-l*h*f,this._z=u*h*f+l*p*c,this._w=u*h*c+l*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s);}return !1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,r=e[0],n=e[4],i=e[8],s=e[1],a=e[5],o=e[9],u=e[2],h=e[6],c=e[10],l=r+a+c;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(h-o)*t,this._y=(i-u)*t,this._z=(s-n)*t;}else if(r>a&&r>c){const t=2*Math.sqrt(1+r-a-c);this._w=(h-o)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(i+u)/t;}else if(a>c){const t=2*Math.sqrt(1+a-r-c);this._w=(i-u)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(o+h)/t;}else {const t=2*Math.sqrt(1+c-r-a);this._w=(s-n)/t,this._x=(i+u)/t,this._y=(o+h)/t,this._z=.25*t;}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let r=t.dot(e)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(i.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const r=this.angleTo(t);if(0===r)return this;const n=Math.min(1,e/r);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const r=t._x,n=t._y,i=t._z,s=t._w,a=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+s*a+n*u-i*o,this._y=n*h+s*o+i*a-r*u,this._z=i*h+s*u+r*o-n*a,this._w=s*h-r*a-n*o-i*u,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const r=this._x,n=this._y,i=this._z,s=this._w;let a=s*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*r+e*this._x,this._y=t*n+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),h=Math.atan2(u,a),c=Math.sin((1-e)*h)/u,l=Math.sin(e*h)/u;return this._w=s*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class a{constructor(t=0,e=0,r=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=r;}set(t,e,r){return void 0===r&&(r=this.z),this.x=t,this.y=e,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(u.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(u.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,r=this.y,n=this.z,i=t.elements,s=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(t){const e=this.x,r=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,u=o*e+s*n-a*r,h=o*r+a*e-i*n,c=o*n+i*r-s*e,l=-i*e-s*r-a*n;return this.x=u*o+l*-i+h*-a-c*-s,this.y=h*o+l*-s+c*-i-u*-a,this.z=c*o+l*-a+u*-s-h*-i,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,r){return this.x=t.x+(e.x-t.x)*r,this.y=t.y+(e.y-t.y)*r,this.z=t.z+(e.z-t.z)*r,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const r=t.x,n=t.y,i=t.z,s=e.x,a=e.y,o=e.z;return this.x=n*o-i*a,this.y=i*s-r*o,this.z=r*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const r=t.dot(this)/e;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return o.copy(this).projectOnVector(t),this.sub(o)}reflect(t){return this.sub(o.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const r=this.dot(t)/e;return Math.acos(i.clamp(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,r){const n=Math.sin(e)*t;return this.x=n*Math.sin(r),this.y=Math.cos(e)*t,this.z=n*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,r){return this.x=t*Math.sin(e),this.y=r,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const o=new a,u=new s;class c{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u,h,c,l,p,f,d,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=r,y[12]=n,y[1]=i,y[5]=s,y[9]=a,y[13]=o,y[2]=u,y[6]=h,y[10]=c,y[14]=l,y[3]=p,y[7]=f,y[11]=d,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return (new c).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this}copyPosition(t){const e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this}extractBasis(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,r=t.elements,n=1/l.setFromMatrixColumn(t,0).length(),i=1/l.setFromMatrixColumn(t,1).length(),s=1/l.setFromMatrixColumn(t,2).length();return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=0,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=0,e[8]=r[8]*s,e[9]=r[9]*s,e[10]=r[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,r=t.x,n=t.y,i=t.z,s=Math.cos(r),a=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=r+n*u,e[5]=t-i*u,e[9]=-a*o,e[2]=i-t*u,e[6]=n+r*u,e[10]=s*o;}else if("YXZ"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t+i*a,e[4]=n*a-r,e[8]=s*u,e[1]=s*c,e[5]=s*h,e[9]=-a,e[2]=r*a-n,e[6]=i+t*a,e[10]=s*o;}else if("ZXY"===t.order){const t=o*h,r=o*c,n=u*h,i=u*c;e[0]=t-i*a,e[4]=-s*c,e[8]=n+r*a,e[1]=r+n*a,e[5]=s*h,e[9]=i-t*a,e[2]=-s*u,e[6]=a,e[10]=s*o;}else if("ZYX"===t.order){const t=s*h,r=s*c,n=a*h,i=a*c;e[0]=o*h,e[4]=n*u-r,e[8]=t*u+i,e[1]=o*c,e[5]=i*u+t,e[9]=r*u-n,e[2]=-u,e[6]=a*o,e[10]=s*o;}else if("YZX"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=i-t*c,e[8]=n*c+r,e[1]=c,e[5]=s*h,e[9]=-a*h,e[2]=-u*h,e[6]=r*c+n,e[10]=t-i*c;}else if("XZY"===t.order){const t=s*o,r=s*u,n=a*o,i=a*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=t*c+i,e[5]=s*h,e[9]=r*c-n,e[2]=n*c-r,e[6]=a*h,e[10]=i*c+t;}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(f,t,d)}lookAt(t,e,r){const n=this.elements;return g.subVectors(t,e),0===g.lengthSq()&&(g.z=1),g.normalize(),m.crossVectors(r,g),0===m.lengthSq()&&(1===Math.abs(r.z)?g.x+=1e-4:g.z+=1e-4,g.normalize(),m.crossVectors(r,g)),m.normalize(),y.crossVectors(g,m),n[0]=m.x,n[4]=y.x,n[8]=g.x,n[1]=m.y,n[5]=y.y,n[9]=g.y,n[2]=m.z,n[6]=y.z,n[10]=g.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],p=r[13],f=r[2],d=r[6],m=r[10],y=r[14],g=r[3],v=r[7],x=r[11],w=r[15],b=n[0],_=n[4],M=n[8],E=n[12],N=n[1],S=n[5],T=n[9],O=n[13],z=n[2],A=n[6],C=n[10],R=n[14],D=n[3],k=n[7],I=n[11],L=n[15];return i[0]=s*b+a*N+o*z+u*D,i[4]=s*_+a*S+o*A+u*k,i[8]=s*M+a*T+o*C+u*I,i[12]=s*E+a*O+o*R+u*L,i[1]=h*b+c*N+l*z+p*D,i[5]=h*_+c*S+l*A+p*k,i[9]=h*M+c*T+l*C+p*I,i[13]=h*E+c*O+l*R+p*L,i[2]=f*b+d*N+m*z+y*D,i[6]=f*_+d*S+m*A+y*k,i[10]=f*M+d*T+m*C+y*I,i[14]=f*E+d*O+m*R+y*L,i[3]=g*b+v*N+x*z+w*D,i[7]=g*_+v*S+x*A+w*k,i[11]=g*M+v*T+x*C+w*I,i[15]=g*E+v*O+x*R+w*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],p=t[14];return t[3]*(+i*o*c-n*u*c-i*a*l+r*u*l+n*a*p-r*o*p)+t[7]*(+e*o*p-e*u*l+i*s*l-n*s*p+n*u*h-i*o*h)+t[11]*(+e*u*c-e*a*p-i*s*c+r*s*p+i*a*h-r*u*h)+t[15]*(-n*a*h-e*o*c+e*a*l+n*s*c-r*s*l+r*o*h)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,r){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=r),this}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const r=this.elements,n=t.elements,i=n[0],s=n[1],a=n[2],o=n[3],u=n[4],h=n[5],c=n[6],l=n[7],p=n[8],f=n[9],d=n[10],m=n[11],y=n[12],g=n[13],v=n[14],x=n[15],w=f*v*l-g*d*l+g*c*m-h*v*m-f*c*x+h*d*x,b=y*d*l-p*v*l-y*c*m+u*v*m+p*c*x-u*d*x,_=p*g*l-y*f*l+y*h*m-u*g*m-p*h*x+u*f*x,M=y*f*c-p*g*c-y*h*d+u*g*d+p*h*v-u*f*v,E=i*w+s*b+a*_+o*M;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/E;return r[0]=w*N,r[1]=(g*d*o-f*v*o-g*a*m+s*v*m+f*a*x-s*d*x)*N,r[2]=(h*v*o-g*c*o+g*a*l-s*v*l-h*a*x+s*c*x)*N,r[3]=(f*c*o-h*d*o-f*a*l+s*d*l+h*a*m-s*c*m)*N,r[4]=b*N,r[5]=(p*v*o-y*d*o+y*a*m-i*v*m-p*a*x+i*d*x)*N,r[6]=(y*c*o-u*v*o-y*a*l+i*v*l+u*a*x-i*c*x)*N,r[7]=(u*d*o-p*c*o+p*a*l-i*d*l-u*a*m+i*c*m)*N,r[8]=_*N,r[9]=(y*f*o-p*g*o-y*s*m+i*g*m+p*s*x-i*f*x)*N,r[10]=(u*g*o-y*h*o+y*s*l-i*g*l-u*s*x+i*h*x)*N,r[11]=(p*h*o-u*f*o-p*s*l+i*f*l+u*s*m-i*h*m)*N,r[12]=M*N,r[13]=(p*g*a-y*f*a+y*s*d-i*g*d-p*s*v+i*f*v)*N,r[14]=(y*h*a-u*g*a-y*s*c+i*g*c+u*s*v-i*h*v)*N,r[15]=(u*f*a-p*h*a+p*s*c-i*f*c-u*s*d+i*h*d)*N,this}scale(t){const e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const r=Math.cos(e),n=Math.sin(e),i=1-r,s=t.x,a=t.y,o=t.z,u=i*s,h=i*a;return this.set(u*s+r,u*a-n*o,u*o+n*a,0,u*a+n*o,h*a+r,h*o-n*s,0,u*o-n*a,h*o+n*s,i*o*o+r,0,0,0,0,1),this}makeScale(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this}compose(t,e,r){const n=this.elements,i=e._x,s=e._y,a=e._z,o=e._w,u=i+i,h=s+s,c=a+a,l=i*u,p=i*h,f=i*c,d=s*h,m=s*c,y=a*c,g=o*u,v=o*h,x=o*c,w=r.x,b=r.y,_=r.z;return n[0]=(1-(d+y))*w,n[1]=(p+x)*w,n[2]=(f-v)*w,n[3]=0,n[4]=(p-x)*b,n[5]=(1-(l+y))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(f+v)*_,n[9]=(m-g)*_,n[10]=(1-(l+d))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,r){const n=this.elements;let i=l.set(n[0],n[1],n[2]).length();const s=l.set(n[4],n[5],n[6]).length(),a=l.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),t.x=n[12],t.y=n[13],t.z=n[14],p.copy(this);const o=1/i,u=1/s,h=1/a;return p.elements[0]*=o,p.elements[1]*=o,p.elements[2]*=o,p.elements[4]*=u,p.elements[5]*=u,p.elements[6]*=u,p.elements[8]*=h,p.elements[9]*=h,p.elements[10]*=h,e.setFromRotationMatrix(p),r.x=i,r.y=s,r.z=a,this}makePerspective(t,e,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,r,n,i,s){const a=this.elements,o=1/(e-t),u=1/(r-n),h=1/(s-i),c=(e+t)*o,l=(r+n)*u,p=(s+i)*h;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<16;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<16;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}const l=new a,p=new c,f=new a(0,0,0),d=new a(1,1,1),m=new a,y=new a,g=new a;new c;new s;const O=new e;class z{constructor(t,r){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new e(1/0,1/0),this.max=void 0!==r?r:new e(-1/0,-1/0);}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=O.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new e),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return void 0===r&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new e),r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return void 0===r&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new e),r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return O.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}class A{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new a(1/0,1/0,1/0),this.max=void 0!==e?e:new a(-1/0,-1/0,-1/0);}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.length;o<u;o+=3){const u=t[o],h=t[o+1],c=t[o+2];u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromBufferAttribute(t){let e=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=t.count;o<u;o++){const u=t.getX(o),h=t.getY(o),c=t.getZ(o);u<e&&(e=u),h<r&&(r=h),c<n&&(n=c),u>i&&(i=u),h>s&&(s=h),c>a&&(a=c);}return this.min.set(e,r,n),this.max.set(i,s,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const r=D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return (new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new a),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new a),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),k.copy(e.boundingBox),k.applyMatrix4(t.matrixWorld),this.union(k));const r=t.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(t){return !(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new a),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return !(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,D),D.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return !1;this.getCenter(j),q.subVectors(this.max,j),I.subVectors(t.a,j),L.subVectors(t.b,j),B.subVectors(t.c,j),F.subVectors(L,I),P.subVectors(B,L),U.subVectors(I,B);let e=[0,-F.z,F.y,0,-P.z,P.y,0,-U.z,U.y,F.z,0,-F.x,P.z,0,-P.x,U.z,0,-U.x,-F.y,F.x,0,-P.y,P.x,0,-U.y,U.x,0];return !!C(e,I,L,B,q)&&(e=[1,0,0,0,1,0,0,0,1],!!C(e,I,L,B,q)&&(H.crossVectors(F,P),e=[H.x,H.y,H.z],C(e,I,L,B,q)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new a),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return D.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(D).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(R[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),R[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),R[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),R[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),R[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),R[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),R[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),R[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(R)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function C(t,e,r,n,i){for(let s=0,a=t.length-3;s<=a;s+=3){V.fromArray(t,s);const a=i.x*Math.abs(V.x)+i.y*Math.abs(V.y)+i.z*Math.abs(V.z),o=e.dot(V),u=r.dot(V),h=n.dot(V);if(Math.max(-Math.max(o,u,h),Math.min(o,u,h))>a)return !1}return !0}const R=[new a,new a,new a,new a,new a,new a,new a,new a],D=new a,k=new A,I=new a,L=new a,B=new a,F=new a,P=new a,U=new a,j=new a,q=new a,H=new a,V=new a;new a;new a;new a;new a;new a;new a;new a;new a;new a;class rt{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.");}set(t,e,r,n,i,s,a,o,u){const h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return (new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,s=r[0],a=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],p=r[5],f=r[8],d=n[0],m=n[3],y=n[6],g=n[1],v=n[4],x=n[7],w=n[2],b=n[5],_=n[8];return i[0]=s*d+a*g+o*w,i[3]=s*m+a*v+o*b,i[6]=s*y+a*x+o*_,i[1]=u*d+h*g+c*w,i[4]=u*m+h*v+c*b,i[7]=u*y+h*x+c*_,i[2]=l*d+p*g+f*w,i[5]=l*m+p*v+f*b,i[8]=l*y+p*x+f*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],u=t[7],h=t[8];return e*s*h-e*a*u-r*i*h+r*a*o+n*i*u-n*s*o}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const r=t.elements,n=this.elements,i=r[0],s=r[1],a=r[2],o=r[3],u=r[4],h=r[5],c=r[6],l=r[7],p=r[8],f=p*u-h*l,d=h*c-p*o,m=l*o-u*c,y=i*f+s*d+a*m;if(0===y)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return n[0]=f*g,n[1]=(a*l-p*s)*g,n[2]=(h*s-a*u)*g,n[3]=d*g,n[4]=(p*i-a*c)*g,n[5]=(a*o-h*i)*g,n[6]=m*g,n[7]=(s*c-l*i)*g,n[8]=(u*i-s*o)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).getInverse(this).transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,n,i,s,a){const o=Math.cos(i),u=Math.sin(i);this.set(r*o,r*u,-r*(o*s+u*a)+s+t,-n*u,n*o,-n*(-u*s+o*a)+a+e,0,0,1);}scale(t,e){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*s+r*u,n[6]=e*a+r*h,n[1]=-r*i+e*o,n[4]=-r*s+e*u,n[7]=-r*a+e*h,this}translate(t,e){const r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}equals(t){const e=this.elements,r=t.elements;for(let n=0;n<9;n++)if(e[n]!==r[n])return !1;return !0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}}new a;new a;new rt;Object.freeze(new e(0,0));Object.freeze(new e(1,1));Object.freeze(new a(0,0,0));Object.freeze(new a(1,0,0));Object.freeze(new a(0,1,0));Object.freeze(new a(0,0,1));Object.freeze(new a(1,1,1));Object.freeze(new s);({RIGHT:Object.freeze(new a(1,0,0)),UP:Object.freeze(new a(0,1,0)),NEAR:Object.freeze(new a(0,0,1)),LEFT:Object.freeze(new a(-1,0,0)),DOWN:Object.freeze(new a(0,-1,0)),FAR:Object.freeze(new a(0,0,-1))});new a;(()=>{const t=2*Math.PI,e=new a(0,0,1),r=new s,n=new s,i=new a,o=new s;return function(s=1,a=1){var u=(Math.random()-.5)*t*s,h=Math.random()*t,c=Math.random()*Math.PI*a;return i.set(1,0,0).applyAxisAngle(e,h),r.setFromAxisAngle(e,u),n.setFromAxisAngle(i,c),o.multiplyQuaternions(n,r)}})();(()=>{const t=new a;return function(e,r,n){const i=t.set(e.x,e.y,e.z),s=r.dot(i),a=t.copy(r).multiplyScalar(s),o=n.set(a.x,a.y,a.z,e.w).normalize();return s<0&&(o.x=-o.x,o.y=-o.y,o.z=-o.z,o.w=-o.w),o}})();new z,new z,new e,new e;new a,new a,new a,new a,new a,new a,new a;var Xt=function(t){return function(e){return 1-t(1-e)}},Qt=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},Jt=Xt,Kt=Qt,te=function(t){return function(e){return Math.pow(e,t)}},ee=function(t){return function(e){return e*e*((t+1)*e-t)}},re=function(t){var e=ee(t);return function(t){return (t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ne=te(2),ie=Xt(ne),se=Qt(ne),ae=function(t){return 1-Math.sin(Math.acos(t))},oe=Xt(ae),ue=Qt(oe),he=ee(1.525),ce=Xt(he),le=Qt(he),pe=re(1.525),fe=function(t){var e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},de="undefined"!=typeof Float32Array,me=function(t,e){return 1-3*e+3*t},ye=function(t,e){return 3*e-6*t},ge=function(t){return 3*t},ve=function(t,e,r){return 3*me(e,r)*t*t+2*ye(e,r)*t+ge(e)},xe=function(t,e,r){return ((me(e,r)*t+ye(e,r))*t+ge(e))*t};Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:Xt,mirrored:Qt,createReversedEasing:Jt,createMirroredEasing:Kt,createExpoIn:te,createBackIn:ee,createAnticipateEasing:re,linear:function(t){return t},easeIn:ne,easeOut:ie,easeInOut:se,circIn:ae,circOut:oe,circInOut:ue,backIn:he,backOut:ce,backInOut:le,anticipate:pe,bounceOut:fe,bounceIn:function(t){return 1-fe(1-t)},bounceInOut:function(t){return t<.5?.5*(1-fe(1-2*t)):.5*fe(2*t-1)+.5},cubicBezier:function(t,e,r,n){var i=de?new Float32Array(11):new Array(11),s=function(e){for(var n,s,a,o=0,u=1;10!==u&&i[u]<=e;++u)o+=.1;return --u,n=(e-i[u])/(i[u+1]-i[u]),(a=ve(s=o+.1*n,t,r))>=.001?function(e,n){for(var i=0,s=0;i<8;++i){if(0===(s=ve(n,t,r)))return n;n-=(xe(n,t,r)-e)/s;}return n}(e,s):0===a?s:function(e,n,i){var s,a,o=0;do{(s=xe(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a;}while(Math.abs(s)>1e-7&&++o<10);return a}(e,o,o+.1)};return function(){for(var e=0;e<11;++e)i[e]=xe(.1*e,t,r);}(),function(i){return t===e&&r===n?i:0===i?0:1===i?1:xe(s(i),e,n)}}});function Te(t){return "number"==typeof t}function Oe(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function ze(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Ae(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Ce(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Re(t){return "string"==typeof t}var De=Array.isArray;function ke(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Ie(t){return Array.isArray(t)||ke(t)}function Le(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Be(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Fe(t){return t&&!0===t.constructor.prototype.isRange||!1}function Pe(t){return t&&!0===t.constructor.prototype.isIndex||!1}function Ue(t){return "boolean"==typeof t}function je(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function qe(t){return t&&!0===t.constructor.prototype.isHelp||!1}function He(t){return "function"==typeof t}function Ve(t){return t instanceof Date}function $e(t){return t instanceof RegExp}function Ge(t){return !(!t||"object"!=typeof t||t.constructor!==Object||ze(t)||Ae(t))}function We(t){return null===t}function Ye(t){return void 0===t}function Ze(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function Xe(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function Qe(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function Je(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function Ke(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function tr(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function er(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function rr(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function nr(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function ir(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function sr(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function ar(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function or(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function ur(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function hr(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function cr(t){return t&&!0===t.constructor.prototype.isChain||!1}function lr(t){var e=typeof t;return "object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":Oe(t)?"BigNumber":ze(t)?"Complex":Ae(t)?"Fraction":ke(t)?"Matrix":Ce(t)?"Unit":Pe(t)?"Index":Fe(t)?"Range":je(t)?"ResultSet":ir(t)?t.type:cr(t)?"Chain":qe(t)?"Help":"Object":"function"===e?"Function":e}function pr(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return pr(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Oe(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return fr(t,pr)}function fr(t,e){var r={};for(var n in t)wr(t,n)&&(r[n]=e(t[n]));return r}function dr(t,e){for(var r in e)wr(e,r)&&(t[r]=e[r]);return t}function yr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e))return !1;if(t.length!==e.length)return !1;for(n=0,i=t.length;n<i;n++)if(!yr(t[n],e[n]))return !1;return !0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return !1;for(r in t)if(!(r in e)||!yr(t[r],e[r]))return !1;for(r in e)if(!(r in t)||!yr(t[r],e[r]))return !1;return !0}return t===e}function wr(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Sr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zr=function(){function t(){return !0}function e(){return !1}function r(){}function n(){var i=[{name:"number",test:function(t){return "number"==typeof t}},{name:"string",test:function(t){return "string"==typeof t}},{name:"boolean",test:function(t){return "boolean"==typeof t}},{name:"Function",test:function(t){return "function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return "object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],s={name:"any",test:t},a=[],o=[],u={types:i,conversions:o,ignore:a};function h(t){var e=Y(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return s;var r=Y(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(t){return t===s?999:u.types.indexOf(t)}function l(t){var e=Y(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim();}else {if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e;}var i=r.join(","),s=t.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function f(t,e){var r=l(t);if(e===r)return t;for(var n=0;n<u.conversions.length;n++){var i=u.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(M);return (t.restParam?"...":"")+e.join("|")})).join(",")}function m(t,e){var r=0===t.indexOf("..."),n=(r?t.length>3?t.slice(3):"any":t).split("|").map(P).filter(U).filter(F),i=C(e,n),s=n.map((function(t){var e=h(t);return {name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var r=h(t.from);return {name:t.from,typeIndex:c(r),test:r.test,conversion:t,conversionIndex:e.indexOf(t)}}));return {types:s.concat(a),restParam:r}}function y(t,e,r){var n=[];return ""!==t.trim()&&(n=t.split(",").map(P).map((function(t,e,n){var i=m(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),n.some(q)?null:{params:n,fn:e}}function g(t){var e=V(t);return !!e&&e.restParam}function v(t){return t.types.some((function(t){return null!=t.conversion}))}function x(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){var r=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(t){return r(t)||n(t)}}var i=e.types.map((function(t){return h(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return !0;return !1}}return t}function w(t){var e,r,n;if(g(t)){var i=(e=H(t).map(x)).length,s=x(V(t)),a=function(t){for(var e=i;e<t.length;e++)if(!s(t[e]))return !1;return !0};return function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=x(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=x(t[0]),n=x(t[1]),function(t){return r(t[0])&&n(t[1])&&2===t.length}):(e=t.map(x),function(t){for(var r=0;r<e.length;r++)if(!e[r](t[r]))return !1;return t.length===e.length})}function b(t,e){return e<t.params.length?t.params[e]:g(t.params)?V(t.params):null}function _(t,e,r){var n=b(t,e);return (n?r?n.types.filter(E):n.types:[]).map(M)}function M(t){return t.name}function E(t){return null===t.conversion||void 0===t.conversion}function N(t,e){var r=Z(X(t,(function(t){return _(t,e,!1)})));return -1!==r.indexOf("any")?["any"]:r}function S(t,e,r){var n,i,s,a=t||"unnamed",o=r;for(s=0;s<e.length;s++){var u=o.filter((function(t){var r=x(b(t,s));return (s<t.params.length||g(t.params))&&r(e[s])}));if(0===u.length){if((i=N(o,s)).length>0){var h=l(e[s]);return (n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+h+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:h,expected:i},n}}else o=u;}var c=o.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=N(o,s),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},n;var p=Math.max.apply(null,c);return e.length>p?((n=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(l)},n)}function T(t){for(var e=999,r=0;r<t.types.length;r++)E(t.types[r])&&(e=Math.min(e,t.types[r].typeIndex));return e}function O(t){for(var e=999,r=0;r<t.types.length;r++)E(t.types[r])||(e=Math.min(e,t.types[r].conversionIndex));return e}function z(t,e){var r;return 0!=(r=t.restParam-e.restParam)||0!=(r=v(t)-v(e))||0!=(r=T(t)-T(e))?r:O(t)-O(e)}function A(t,e){var r,n,i=Math.min(t.params.length,e.params.length);if(0!=(n=t.params.some(v)-e.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(t.params[r])-v(e.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=z(t.params[r],e.params[r])))return n;return t.params.length-e.params.length}function C(t,e){var r={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||r[t.from]||(r[t.from]=t);})),Object.keys(r).map((function(t){return r[t]}))}function R(t,e){var r=e;if(t.some(v)){var n=g(t),i=t.map(D);r=function(){for(var t=[],r=n?arguments.length-1:arguments.length,s=0;s<r;s++)t[s]=i[s](arguments[s]);return n&&(t[r]=arguments[r].map(i[r])),e.apply(this,t)};}var s=r;if(g(t)){var a=t.length-1;s=function(){return r.apply(this,$(arguments,0,a).concat([$(arguments,a)]))};}return s}function D(t){var e,r,n,i,s=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(s.push(h(t.conversion.from).test),a.push(t.conversion.convert));})),a.length){case 0:return function(t){return t};case 1:return e=s[0],n=a[0],function(t){return e(t)?n(t):t};case 2:return e=s[0],r=s[1],n=a[0],i=a[1],function(t){return e(t)?n(t):r(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(s[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(v)||I(t.params,!0).forEach((function(r){e[d(r)]=t.fn;}));})),e}function I(t,e){function r(t,n,i){if(n<t.length){var s,a=t[n],o=e?a.types.filter(E):a.types;if(a.restParam){var u=o.filter(E);s=u.length<o.length?[u,o]:[o];}else s=o.map((function(t){return [t]}));return X(s,(function(e){return r(t,n+1,i.concat([e]))}))}return [i.map((function(e,r){return {types:e,restParam:r===t.length-1&&g(t)}}))]}return r(t,0,[])}function L(t,e){for(var r=Math.max(t.params.length,e.params.length),n=0;n<r;n++)if(!W(_(t,n,!0),_(e,n,!0)))return !1;var i=t.params.length,s=e.params.length,a=g(t.params),o=g(e.params);return a?o?i===s:s>=i:o?i>=s:i===s}function B(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(t){return y(t,n[t],u.conversions)})).filter(j).forEach((function(t){var e=Y(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t);}));var s=X(i,(function(t){return (t?I(t.params,!1):[]).map((function(e){return {params:e,fn:t.fn}}))})).filter(j);s.sort(A);var a=s[0]&&s[0].params.length<=2&&!g(s[0].params),o=s[1]&&s[1].params.length<=2&&!g(s[1].params),h=s[2]&&s[2].params.length<=2&&!g(s[2].params),c=s[3]&&s[3].params.length<=2&&!g(s[3].params),l=s[4]&&s[4].params.length<=2&&!g(s[4].params),p=s[5]&&s[5].params.length<=2&&!g(s[5].params),f=a&&o&&h&&c&&l&&p,m=s.map((function(t){return w(t.params)})),v=a?x(s[0].params[0]):e,b=o?x(s[1].params[0]):e,_=h?x(s[2].params[0]):e,M=c?x(s[3].params[0]):e,E=l?x(s[4].params[0]):e,N=p?x(s[5].params[0]):e,T=a?x(s[0].params[1]):e,O=o?x(s[1].params[1]):e,z=h?x(s[2].params[1]):e,C=c?x(s[3].params[1]):e,D=l?x(s[4].params[1]):e,B=p?x(s[5].params[1]):e,F=s.map((function(t){return R(t.params,t.fn)})),P=a?F[0]:r,U=o?F[1]:r,q=h?F[2]:r,H=c?F[3]:r,V=l?F[4]:r,$=p?F[5]:r,G=a?s[0].params.length:-1,W=o?s[1].params.length:-1,Z=h?s[2].params.length:-1,Q=c?s[3].params.length:-1,J=l?s[4].params.length:-1,K=p?s[5].params.length:-1,tt=f?6:0,et=s.length,rt=function(){for(var e=tt;e<et;e++)if(m[e](arguments))return F[e].apply(this,arguments);throw S(t,arguments,s)},nt=function t(e,r){return arguments.length===G&&v(e)&&T(r)?P.apply(t,arguments):arguments.length===W&&b(e)&&O(r)?U.apply(t,arguments):arguments.length===Z&&_(e)&&z(r)?q.apply(t,arguments):arguments.length===Q&&M(e)&&C(r)?H.apply(t,arguments):arguments.length===J&&E(e)&&D(r)?V.apply(t,arguments):arguments.length===K&&N(e)&&B(r)?$.apply(t,arguments):rt.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t});}catch(it){}return nt.signatures=k(s),nt}function F(t){return -1===u.ignore.indexOf(t)}function P(t){return t.trim()}function U(t){return !!t}function j(t){return null!==t}function q(t){return 0===t.types.length}function H(t){return t.slice(0,t.length-1)}function V(t){return t[t.length-1]}function $(t,e,r){return Array.prototype.slice.call(t,e,r)}function G(t,e){return -1!==t.indexOf(e)}function W(t,e){for(var r=0;r<t.length;r++)if(G(e,t[r]))return !0;return !1}function Y(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function Z(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return Object.keys(e)}function X(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===e)e=n.name;else if(e!==n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function J(t){var e,r={};function n(t,n){if(r.hasOwnProperty(t)&&n!==r[t])throw (e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var s=t[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(n(a,s.signatures[a]),r[a]=s.signatures[a]);else {if("string"!=typeof s.signature)throw (e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;n(s.signature,s),r[s.signature]=s;}}return r}return (u=B("typed",{"string, Object":B,Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return B(Q(e),t)},"...Function":function(t){return B(Q(t),J(t))},"string, ...Function":function(t,e){return B(t,J(e))}})).create=n,u.types=i,u.conversions=o,u.ignore=a,u.convert=f,u.find=p,u.addType=function(t,e){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,t);u.types.push(t);},u.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t);},u}return n()}();function Ar(t){return "boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var Cr=Math.sign||function(t){return t>0?1:t<0?-1:0};function Rr(t,e){if("function"==typeof e)return e(t);if(t===1/0)return "Infinity";if(t===-1/0)return "-Infinity";if(isNaN(t))return "NaN";var r,n="auto";switch(e&&(e.notation&&(n=e.notation),Te(e)?r=e:Te(e.precision)&&(r=e.precision)),n){case"fixed":return kr(t,r);case"exponential":return Ir(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Lr(Dr(t),e),n=r.exponent,i=r.coefficients,s=n%3==0?n:n<0?n-3-n%3:n-n%3;if(Te(e))for(;e>i.length||n-s+1>i.length;)i.push(0);else for(var a=Math.abs(n-s)-(i.length-1),o=0;o<a;o++)i.push(0);var u=Math.abs(n-s),h=1;for(;u>0;)h++,u--;var c=i.slice(h).join(""),l=Te(e)&&c.length||c.match(/[1-9]/)?"."+c:"",p=i.slice(0,h).join("")+l+"e"+(n>=0?"+":"")+s.toString();return r.sign+p}(t,r);case"auto":return function(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,s=Dr(t),a=e?Lr(s,e):s;if(a.exponent<n||a.exponent>=i)return Ir(t,e);var o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(Br(e-o.length))),o=o.concat(Br(u-o.length+1+(o.length<e?e-o.length:0)));var h=u>0?u:0;return h<(o=Br(-u).concat(o)).length-1&&o.splice(h+1,0,"."),a.sign+o.join("")}(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function Dr(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=-1!==s?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function kr(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Dr(t),n="number"==typeof e?Lr(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(Br(a-i.length))),s<0&&(i=Br(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),n.sign+i.join("")}function Ir(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Dr(t),n=e?Lr(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(Br(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function Lr(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++;}return r}function Br(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}var Fr=Number.EPSILON||2220446049250313e-31;function Pr(t,e,r){if(null==r)return t===e;if(t===e)return !0;if(isNaN(t)||isNaN(e))return !1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Fr||n<=Math.max(Math.abs(t),Math.abs(e))*r}return !1}function Ur(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==e&&(e.notation&&(n=e.notation),"number"==typeof e?r=e:e.precision&&(r=e.precision)),n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return jr(t,r);case"engineering":return function(t,e){var r=t.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);-1!==s.indexOf("e")&&(s=i.toString());return s+"e"+(r>=0?"+":"")+n.toString()}(t,r);case"auto":var i=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return "0";var a=t.toSignificantDigits(r),o=a.e;return (o>=i&&o<s?a.toFixed():jr(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return "."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function jr(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function qr(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Hr(t,e){return "number"==typeof t?Rr(t,e):Oe(t)?Ur(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?Gr(t,e):Re(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((r=>'"'+r+'": '+Hr(t[r],e))).join(", ")+"}":String(t)}function Vr(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++;}return '"'+r+'"'}function $r(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gr(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=Gr(t[i],e);return r+="]"}return Hr(t,e)}function Wr(t,e,r){if(!(this instanceof Wr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack;}function Yr(t,e,r){if(!(this instanceof Yr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack;}function Zr(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Xr(t,e,r){var n,i=t.length;if(i!==e[r])throw new Wr(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new Wr(e.length-1,e.length,"<");Xr(t[n],e,s);}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Wr(e.length+1,e.length,">")}function Qr(t,e){if(0===e.length){if(Array.isArray(t))throw new Wr(t.length,0)}else Xr(t,e,0);}function Jr(t,e){if(!Te(t)||!Ar(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new Yr(t,e)}function Kr(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Te(t)||!Ar(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(e)+")")})),tn(t,e,0,void 0!==r?r:0),t}function tn(t,e,r,n){var i,s,a=t.length,o=e[r],u=Math.min(a,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),tn(s,e,h,n);for(i=u;i<o;i++)s=[],t[i]=s,tn(s,e,h,n);}else {for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n;}}function en(t,e){var r,n=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r);})),e}(t);function i(t){return t.reduce(((t,e)=>t*e))}if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Wr(0,i(Zr(t)),"!=");for(var s=1,a=0;a<e.length;a++)s*=e[a];if(n.length!==s)throw new Wr(i(e),i(Zr(t)),"!=");try{r=function(t,e){for(var r,n=t,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var a=n.length/s,o=0;o<a;o++)r.push(n.slice(o*s,(o+1)*s));n=r;}return n}(n,e);}catch(o){if(o instanceof Wr)throw new Wr(i(e),i(Zr(t)),"!=");throw o}return r}function rn(t,e,r,n){var i=n||Zr(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=nn(t,e,0);i.length<e;)i.push(1);return t}function nn(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=nn(t[n],e,s);}else for(var a=r;a<e;a++)t=[t];return t}function sn(t,e){return Array.prototype.map.call(t,e)}function an(t,e){Array.prototype.forEach.call(t,e);}function on(t,e){return Array.prototype.join.call(t,e)}function un(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(0===i&&a&&(n=s.length),a&&s.length!==n)return;var o=a?un(s,e):e(s);if(void 0===r)r=o;else if(r!==o)return "mixed"}return r}function cn(t,e,r,n){function i(n){var i=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];void 0!==s&&(r[i]=s);}return r}(n,e.map(pn));return function(t,e,r){if(!e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==r[t]))){var n=e.filter((t=>void 0===r[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,n),r(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function pn(t){return t&&"?"===t[0]?t.slice(1):t}Wr.prototype=new RangeError,Wr.prototype.constructor=RangeError,Wr.prototype.name="DimensionError",Wr.prototype.isDimensionError=!0,Yr.prototype=new RangeError,Yr.prototype.constructor=RangeError,Yr.prototype.name="IndexError",Yr.prototype.isIndexError=!0;var fn=function(){return fn=zr.create,zr},dn=cn("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:r,DenseMatrix:n,Fraction:i}=t,s=fn();return s.types=[{name:"number",test:Te},{name:"Complex",test:ze},{name:"BigNumber",test:Oe},{name:"Fraction",test:Ae},{name:"Unit",test:Ce},{name:"string",test:Re},{name:"Chain",test:cr},{name:"Array",test:De},{name:"Matrix",test:ke},{name:"DenseMatrix",test:Le},{name:"SparseMatrix",test:Be},{name:"Range",test:Fe},{name:"Index",test:Pe},{name:"boolean",test:Ue},{name:"ResultSet",test:je},{name:"Help",test:qe},{name:"function",test:He},{name:"Date",test:Ve},{name:"RegExp",test:$e},{name:"null",test:We},{name:"undefined",test:Ye},{name:"AccessorNode",test:Ze},{name:"ArrayNode",test:Xe},{name:"AssignmentNode",test:Qe},{name:"BlockNode",test:Je},{name:"ConditionalNode",test:Ke},{name:"ConstantNode",test:tr},{name:"FunctionNode",test:rr},{name:"FunctionAssignmentNode",test:er},{name:"IndexNode",test:nr},{name:"Node",test:ir},{name:"ObjectNode",test:sr},{name:"OperatorNode",test:ar},{name:"ParenthesisNode",test:or},{name:"RangeNode",test:ur},{name:"SymbolNode",test:hr},{name:"Object",test:Ge}],s.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||mn(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return r||yn(t),new r(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return r||yn(t),new r(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return r||yn(t),new r(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||gn(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||mn(t);try{return new e(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||gn(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){r||yn(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return +t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||mn(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||gn(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return n||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],s}));function mn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function yn(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function gn(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var vn,xn,wn=cn("ResultSet",[],(()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[];}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return "["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return {mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t}),{isClass:!0}),bn=9e15,_n="0123456789abcdef",Mn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",En="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Nn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bn,maxE:bn,crypto:!1},Sn=!0,Tn="[DecimalError] Invalid argument: ",On=Math.floor,zn=Math.pow,An=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Dn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn=1e7,In=Mn.length-1,Ln=En.length-1,Bn={name:"[object Decimal]"};function Fn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)(r=7-(n=t[e]+"").length)&&(s+=Zn(r)),s+=n;(r=7-(n=(a=t[e])+"").length)&&(s+=Zn(r));}else if(0===a)return "0";for(;a%10==0;)a/=10;return s+a}function Pn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tn+t)}function Un(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return --e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),s=zn(10,7-e),o=t[i]%s|0,null==n?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==zn(10,e-2)-1||(o==s/2||0==o)&&0==(t[i+1]/s/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(n||r<4)&&9999==o||!n&&r>3&&4999==o):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==zn(10,e-3)-1,a}function jn(t,e,r){for(var n,i,s=[0],a=0,o=t.length;a<o;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=_n.indexOf(t.charAt(a++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r);}return s.reverse()}Bn.absoluteValue=Bn.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Hn(t)},Bn.ceil=function(){return Hn(new this.constructor(this),this.e+1,2)},Bn.comparedTo=Bn.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,u=s.s,h=t.s;if(!a||!o)return u&&h?u!==h?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-h:0;if(u!==h)return u;if(s.e!==t.e)return s.e>t.e^u<0?1:-1;for(e=0,r=(n=a.length)<(i=o.length)?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},Bn.cosine=Bn.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n,i=e.d.length;i<32?n=(1/ii(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=ni(t,1,e.times(n),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1);}return t.precision-=r,e}(n,si(n,r)),n.precision=t,n.rounding=e,Hn(2==xn||3==xn?r.neg():r,t,e,!0)):new n(1):new n(NaN)},Bn.cubeRoot=Bn.cbrt=function(){var t,e,r,n,i,s,a,o,u,h,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(Sn=!1,(s=c.s*zn(c.s*c,1/3))&&Math.abs(s)!=1/0?n=new l(s.toString()):(r=Fn(c.d),(s=((t=c.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=zn(r,1/3),t=On((t+1)/3)-(t%3==(t<0?-1:2)),(n=new l(r=s==1/0?"5e"+t:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(h=(u=(o=n).times(o).times(o)).plus(c),n=qn(h.plus(c).times(o),h.plus(u),a+2,1),Fn(o.d).slice(0,a)===(r=Fn(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Hn(n,t+1,1),e=!n.times(n).times(n).eq(c));break}if(!i&&(Hn(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1;}return Sn=!0,Hn(n,t,l.rounding,e)},Bn.decimalPlaces=Bn.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-On(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0);}return r},Bn.dividedBy=Bn.div=function(t){return qn(this,new this.constructor(t))},Bn.dividedToIntegerBy=Bn.divToInt=function(t){var e=this.constructor;return Hn(qn(this,new e(t),0,1,1),e.precision,e.rounding)},Bn.equals=Bn.eq=function(t){return 0===this.cmp(t)},Bn.floor=function(){return Hn(new this.constructor(this),this.e+1,3)},Bn.greaterThan=Bn.gt=function(t){return this.cmp(t)>0},Bn.greaterThanOrEqualTo=Bn.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Bn.hyperbolicCosine=Bn.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?e=(1/ii(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),s=ni(a,1,s.times(e),new a(1),!0);for(var u,h=t,c=new a(8);h--;)u=s.times(s),s=o.minus(u.times(c.minus(u.times(c))));return Hn(s,a.precision=r,a.rounding=n,!0)},Bn.hyperbolicSine=Bn.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=ni(s,2,i,i,!0);else {t=(t=1.4*Math.sqrt(n))>16?16:0|t,i=ni(s,2,i=i.times(1/ii(5,t)),i,!0);for(var a,o=new s(5),u=new s(16),h=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(h))));}return s.precision=e,s.rounding=r,Hn(i,e,r,!0)},Bn.hyperbolicTangent=Bn.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,qn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},Bn.inverseCosine=Bn.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,s=r.rounding;return -1!==n?0===n?e.isNeg()?Wn(r,i,s):new r(0):new r(NaN):e.isZero()?Wn(r,i+4,s).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Wn(r,i+4,s).times(.5),r.precision=i,r.rounding=s,t.minus(e))},Bn.inverseHyperbolicCosine=Bn.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Sn=!1,r=r.times(r).minus(1).sqrt().plus(r),Sn=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},Bn.inverseHyperbolicSine=Bn.asinh=function(){var t,e,r=this,n=r.constructor;return !r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Sn=!1,r=r.times(r).plus(1).sqrt().plus(r),Sn=!0,n.precision=t,n.rounding=e,r.ln())},Bn.inverseHyperbolicTangent=Bn.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Hn(new s(i),t,e,!0):(s.precision=r=n-i.e,i=qn(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)},Bn.inverseSine=Bn.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==e?0===e?((t=Wn(s,r+4,n).times(.5)).s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))},Bn.inverseTangent=Bn.atan=function(){var t,e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&l+4<=Ln)return (a=Wn(c,l+4,p).times(.25)).s=h.s,a}else {if(!h.s)return new c(NaN);if(l+4<=Ln)return (a=Wn(c,l+4,p).times(.5)).s=h.s,a}for(c.precision=o=l+10,c.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(Sn=!1,e=Math.ceil(o/7),n=1,u=h.times(h),a=new c(h),i=h;-1!==t;)if(i=i.times(u),s=a.minus(i.div(n+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(n+=2))).d[e])for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),Sn=!0,Hn(a,c.precision=l,c.rounding=p,!0)},Bn.isFinite=function(){return !!this.d},Bn.isInteger=Bn.isInt=function(){return !!this.d&&On(this.e/7)>this.d.length-2},Bn.isNaN=function(){return !this.s},Bn.isNegative=Bn.isNeg=function(){return this.s<0},Bn.isPositive=Bn.isPos=function(){return this.s>0},Bn.isZero=function(){return !!this.d&&0===this.d[0]},Bn.lessThan=Bn.lt=function(t){return this.cmp(t)<0},Bn.lessThanOrEqualTo=Bn.lte=function(t){return this.cmp(t)<1},Bn.logarithm=Bn.log=function(t){var e,r,n,i,s,a,o,u,h=this,c=h.constructor,l=c.precision,p=c.rounding;if(null==t)t=new c(10),e=!0;else {if(r=(t=new c(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10);}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new c(r&&!r[0]?-1/0:1!=h.s?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else {for(i=r[0];i%10==0;)i/=10;s=1!==i;}if(Sn=!1,a=ti(h,o=l+5),n=e?Gn(c,o+10):ti(t,o),Un((u=qn(a,n,o,1)).d,i=l,p))do{if(a=ti(h,o+=10),n=e?Gn(c,o+10):ti(t,o),u=qn(a,n,o,1),!s){+Fn(u.d).slice(i+1,i+15)+1==1e14&&(u=Hn(u,l+1,0));break}}while(Un(u.d,i+=10,p));return Sn=!0,Hn(u,l,p)},Bn.minus=Bn.sub=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new d(t.d||f.s!==t.s?f:NaN):t=new d(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(h=f.d,p=t.d,o=d.precision,u=d.rounding,!h[0]||!p[0]){if(p[0])t.s=-t.s;else {if(!h[0])return new d(3===u?-0:0);t=new d(f);}return Sn?Hn(t,o,u):t}if(r=On(t.e/7),c=On(f.e/7),h=h.slice(),s=c-r){for((l=s<0)?(e=h,s=-s,a=p.length):(e=p,r=c,a=h.length),s>(n=Math.max(Math.ceil(o/7),a)+2)&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse();}else {for((l=(n=h.length)<(a=p.length))&&(a=n),n=0;n<a;n++)if(h[n]!=p[n]){l=h[n]<p[n];break}s=0;}for(l&&(e=h,h=p,p=e,t.s=-t.s),a=h.length,n=p.length-a;n>0;--n)h[a++]=0;for(n=p.length;n>s;){if(h[--n]<p[n]){for(i=n;i&&0===h[--i];)h[i]=kn-1;--h[i],h[n]+=kn;}h[n]-=p[n];}for(;0===h[--a];)h.pop();for(;0===h[0];h.shift())--r;return h[0]?(t.d=h,t.e=$n(h,r),Sn?Hn(t,o,u):t):new d(3===u?-0:0)},Bn.modulo=Bn.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Hn(new n(r),n.precision,n.rounding):(Sn=!1,9==n.modulo?(e=qn(r,t.abs(),0,3,1)).s*=t.s:e=qn(r,t,0,n.modulo,1),e=e.times(t),Sn=!0,r.minus(e))},Bn.naturalExponential=Bn.exp=function(){return Kn(this)},Bn.naturalLogarithm=Bn.ln=function(){return ti(this)},Bn.negated=Bn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Hn(t)},Bn.plus=Bn.add=function(t){var e,r,n,i,s,a,o,u,h,c,l=this,p=l.constructor;if(t=new p(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new p(t.d||l.s===t.s?l:NaN)):t=new p(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,c=t.d,o=p.precision,u=p.rounding,!h[0]||!c[0])return c[0]||(t=new p(l)),Sn?Hn(t,o,u):t;if(s=On(l.e/7),n=On(t.e/7),h=h.slice(),i=s-n){for(i<0?(r=h,i=-i,a=c.length):(r=c,n=s,a=h.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse();}for((a=h.length)-(i=c.length)<0&&(i=a,r=c,c=h,h=r),e=0;i;)e=(h[--i]=h[i]+c[i]+e)/kn|0,h[i]%=kn;for(e&&(h.unshift(e),++n),a=h.length;0==h[--a];)h.pop();return t.d=h,t.e=$n(h,n),Sn?Hn(t,o,u):t},Bn.precision=Bn.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Tn+t);return r.d?(e=Yn(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},Bn.round=function(){var t=this,e=t.constructor;return Hn(new e(t),t.e+1,e.rounding)},Bn.sine=Bn.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(t,e){var r,n=e.d.length;if(n<3)return ni(t,2,e,e);r=(r=1.4*Math.sqrt(n))>16?16:0|r,e=e.times(1/ii(5,r)),e=ni(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}(n,si(n,r)),n.precision=t,n.rounding=e,Hn(xn>2?r.neg():r,t,e,!0)):new n(NaN)},Bn.squareRoot=Bn.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,u=a.e,h=a.s,c=a.constructor;if(1!==h||!o||!o[0])return new c(!h||h<0&&(!o||o[0])?NaN:o?a:1/0);for(Sn=!1,0==(h=Math.sqrt(+a))||h==1/0?(((e=Fn(o)).length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=On((u+1)/2)-(u<0||u%2),n=new c(e=h==1/0?"5e"+u:(e=h.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new c(h.toString()),r=(u=c.precision)+3;;)if(n=(s=n).plus(qn(a,s,r+2,1)).times(.5),Fn(s.d).slice(0,r)===(e=Fn(n.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Hn(n,u+1,1),t=!n.times(n).eq(a));break}if(!i&&(Hn(s,u+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1;}return Sn=!0,Hn(n,u,c.rounding,t)},Bn.tangent=Bn.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,(r=r.sin()).s=1,r=qn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Hn(2==xn||4==xn?r.neg():r,t,e,!0)):new n(NaN)},Bn.times=Bn.mul=function(t){var e,r,n,i,s,a,o,u,h,c=this,l=c.constructor,p=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(p&&p[0]&&f&&f[0]))return new l(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*t.s:t.s/0);for(r=On(c.e/7)+On(t.e/7),(u=p.length)<(h=f.length)&&(s=p,p=f,f=s,a=u,u=h,h=a),s=[],n=a=u+h;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+f[n]*p[i-n-1]+e,s[i--]=o%kn|0,e=o/kn|0;s[i]=(s[i]+e)%kn|0;}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=$n(s,r),Sn?Hn(t,l.precision,l.rounding):t},Bn.toBinary=function(t,e){return ai(this,2,t,e)},Bn.toDecimalPlaces=Bn.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(Pn(t,0,1e9),void 0===e?e=n.rounding:Pn(e,0,8),Hn(r,t+r.e+1,e))},Bn.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Vn(n,!0):(Pn(t,0,1e9),void 0===e?e=i.rounding:Pn(e,0,8),r=Vn(n=Hn(new i(n),t+1,e),!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Bn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return void 0===t?r=Vn(i):(Pn(t,0,1e9),void 0===e?e=s.rounding:Pn(e,0,8),r=Vn(n=Hn(new s(i),t+i.e+1,e),!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Bn.toFraction=function(t){var e,r,n,i,s,a,o,u,h,c,l,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(h=r=new m(1),n=u=new m(0),a=(s=(e=new m(n)).e=Yn(d)-f.e-1)%7,e.d[0]=zn(10,a<0?7+a:a),null==t)t=s>0?e:h;else {if(!(o=new m(t)).isInt()||o.lt(h))throw Error(Tn+o);t=o.gt(e)?s>0?e:h:o;}for(Sn=!1,o=new m(Fn(d)),c=m.precision,m.precision=s=7*d.length*2;l=qn(o,e,0,1,1),1!=(i=r.plus(l.times(n))).cmp(t);)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=qn(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=f.s,p=qn(h,n,s,1).minus(f).abs().cmp(qn(u,r,s,1).minus(f).abs())<1?[h,n]:[u,r],m.precision=c,Sn=!0,p},Bn.toHexadecimal=Bn.toHex=function(t,e){return ai(this,16,t,e)},Bn.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding;}else {if(t=new n(t),void 0===e?e=n.rounding:Pn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Sn=!1,r=qn(r,t,0,e,1).times(t),Sn=!0,Hn(r)):(t.s=r.s,r=t),r},Bn.toNumber=function(){return +this},Bn.toOctal=function(t,e){return ai(this,8,t,e)},Bn.toPower=Bn.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,h=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(zn(+o,h));if((o=new u(o)).eq(1))return o;if(n=u.precision,s=u.rounding,t.eq(1))return Hn(o,n,s);if((e=On(t.e/7))>=t.d.length-1&&(r=h<0?-h:h)<=9007199254740991)return i=Xn(u,o,r,n),t.s<0?new u(1).div(i):Hn(i,n,s);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return (e=0!=(r=zn(+o,h))&&isFinite(r)?new u(r+"").e:On(h*(Math.log("0."+Fn(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(Sn=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(i=Kn(t.times(ti(o,n+r)),n)).d&&Un((i=Hn(i,n+5,1)).d,n,s)&&(e=n+10,+Fn((i=Hn(Kn(t.times(ti(o,e+r)),e),e+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Hn(i,n+1,0))),i.s=a,Sn=!0,u.rounding=s,Hn(i,n,s))},Bn.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=Vn(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Pn(t,1,1e9),void 0===e?e=i.rounding:Pn(e,0,8),r=Vn(n=Hn(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},Bn.toSignificantDigits=Bn.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Pn(t,1,1e9),void 0===e?e=r.rounding:Pn(e,0,8)),Hn(new r(this),t,e)},Bn.toString=function(){var t=this,e=t.constructor,r=Vn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},Bn.truncated=Bn.trunc=function(){return Hn(new this.constructor(this),this.e+1,1)},Bn.valueOf=Bn.toJSON=function(){var t=this,e=t.constructor,r=Vn(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var qn=function(){function t(t,e,r){var n,i=0,s=t.length;for(t=t.slice();s--;)n=t[s]*e+i,t[s]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift();}return function(n,i,s,a,o,u){var h,c,l,p,f,d,m,y,g,v,x,w,b,_,M,E,N,S,T,O,z=n.constructor,A=n.s==i.s?1:-1,C=n.d,R=i.d;if(!(C&&C[0]&&R&&R[0]))return new z(n.s&&i.s&&(C?!R||C[0]!=R[0]:R)?C&&0==C[0]||!R?0*A:A/0:NaN);for(u?(f=1,c=n.e-i.e):(u=kn,f=7,c=On(n.e/f)-On(i.e/f)),T=R.length,N=C.length,v=(g=new z(A)).d=[],l=0;R[l]==(C[l]||0);l++);if(R[l]>(C[l]||0)&&c--,null==s?(_=s=z.precision,a=z.rounding):_=o?s+(n.e-i.e)+1:s,_<0)v.push(1),d=!0;else {if(_=_/f+2|0,l=0,1==T){for(p=0,R=R[0],_++;(l<N||p)&&_--;l++)M=p*u+(C[l]||0),v[l]=M/R|0,p=M%R|0;d=p||l<N;}else {for((p=u/(R[0]+1)|0)>1&&(R=t(R,p,u),C=t(C,p,u),T=R.length,N=C.length),E=T,w=(x=C.slice(0,T)).length;w<T;)x[w++]=0;(O=R.slice()).unshift(0),S=R[0],R[1]>=u/2&&++S;do{p=0,(h=e(R,x,T,w))<0?(b=x[0],T!=w&&(b=b*u+(x[1]||0)),(p=b/S|0)>1?(p>=u&&(p=u-1),1==(h=e(m=t(R,p,u),x,y=m.length,w=x.length))&&(p--,r(m,T<y?O:R,y,u))):(0==p&&(h=p=1),m=R.slice()),(y=m.length)<w&&m.unshift(0),r(x,m,w,u),-1==h&&(h=e(R,x,T,w=x.length))<1&&(p++,r(x,T<w?O:R,w,u)),w=x.length):0===h&&(p++,x=[0]),v[l++]=p,h&&x[0]?x[w++]=C[E]||0:(x=[C[E]],w=1);}while((E++<N||void 0!==x[0])&&_--);d=void 0!==x[0];}v[0]||v.shift();}if(1==f)g.e=c,vn=d;else {for(l=1,p=v[0];p>=10;p/=10)l++;g.e=l+c*f-1,Hn(g,o?s+g.e+1:s,a,d);}return g}}();function Hn(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((s=e-i)<0)s+=7,a=e,u=(c=l[p=0])/zn(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=l.length)){if(!n)break t;for(;o++<=p;)l.push(0);c=u=0,i=1,a=(s%=7)-7+1;}else {for(c=o=l[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:c/zn(10,i-a-1)%10|0;}if(n=n||e<0||void 0!==l[p+1]||(a<0?c:c%zn(10,i-a-1)),h=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?a>0?c/zn(10,i-a):0:l[p-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=zn(10,(7-e%7)%7),t.e=-e||0):l[0]=t.e=0,t;if(0==s?(l.length=p,o=1,p--):(l.length=p+1,o=zn(10,7-s),l[p]=a>0?(c/zn(10,i-a)%zn(10,a)|0)*o:0),h)for(;;){if(0==p){for(s=1,a=l[0];a>=10;a/=10)s++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,l[0]==kn&&(l[0]=1));break}if(l[p]+=o,l[p]!=kn)break;l[p--]=0,o=1;}for(s=l.length;0===l[--s];)l.pop();}return Sn&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function Vn(t,e,r){if(!t.isFinite())return ei(t);var n,i=t.e,s=Fn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Zn(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+Zn(-i-1)+s,r&&(n=r-a)>0&&(s+=Zn(n))):i>=a?(s+=Zn(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Zn(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Zn(n))),s}function $n(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function Gn(t,e,r){if(e>In)throw Sn=!0,r&&(t.precision=r),Error("[DecimalError] Precision limit exceeded");return Hn(new t(Mn),e,1,!0)}function Wn(t,e,r){if(e>Ln)throw Error("[DecimalError] Precision limit exceeded");return Hn(new t(En),e,r,!0)}function Yn(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++;}return r}function Zn(t){for(var e="";t--;)e+="0";return e}function Xn(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/7+4);for(Sn=!1;;){if(r%2&&oi((s=s.times(e)).d,a)&&(i=!0),0===(r=On(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}oi((e=e.times(e)).d,a);}return Sn=!0,s}function Qn(t){return 1&t.d[t.d.length-1]}function Jn(t,e,r){for(var n,i=new t(e[0]),s=0;++s<e.length;){if(!(n=new t(e[s])).s){i=n;break}i[r](n)&&(i=n);}return i}function Kn(t,e){var r,n,i,s,a,o,u,h=0,c=0,l=0,p=t.constructor,f=p.rounding,d=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Sn=!1,u=d):u=e,o=new p(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=n=Math.log(zn(2,l))/Math.LN10*2+5|0,r=s=a=new p(1),p.precision=u;;){if(s=Hn(s.times(t),u,1),r=r.times(++c),Fn((o=a.plus(qn(s,r,u,1))).d).slice(0,u)===Fn(a.d).slice(0,u)){for(i=l;i--;)a=Hn(a.times(a),u,1);if(null!=e)return p.precision=d,a;if(!(h<3&&Un(a.d,u-n,f,h)))return Hn(a,p.precision=d,f,Sn=!0);p.precision=u+=10,r=s=o=new p(1),c=0,h++;}a=o;}}function ti(t,e){var r,n,i,s,a,o,u,h,c,l,p,f=1,d=t,m=d.d,y=d.constructor,g=y.rounding,v=y.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new y(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Sn=!1,c=v):c=e,y.precision=c+=10,n=(r=Fn(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return h=Gn(y,c+2,v).times(s+""),d=ti(new y(n+"."+r.slice(1)),c-10).plus(h),y.precision=v,null==e?Hn(d,v,g,Sn=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Fn((d=d.times(t)).d)).charAt(0),f++;for(s=d.e,n>1?(d=new y("0."+r),s++):d=new y(n+"."+r.slice(1)),l=d,u=a=d=qn(d.minus(1),d.plus(1),c,1),p=Hn(d.times(d),c,1),i=3;;){if(a=Hn(a.times(p),c,1),Fn((h=u.plus(qn(a,new y(i),c,1))).d).slice(0,c)===Fn(u.d).slice(0,c)){if(u=u.times(2),0!==s&&(u=u.plus(Gn(y,c+2,v).times(s+""))),u=qn(u,new y(f),c,1),null!=e)return y.precision=v,u;if(!Un(u.d,c-10,g,o))return Hn(u,y.precision=v,g,Sn=!0);y.precision=c+=10,h=a=d=qn(l.minus(1),l.plus(1),c,1),p=Hn(d.times(d),c,1),i=o=1;}u=h,i+=2;}}function ei(t){return String(t.s*t.s/0)}function ri(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=7;n<i;)t.d.push(+e.slice(n,n+=7));n=7-(e=e.slice(n)).length;}else n-=i;for(;n--;)e+="0";t.d.push(+e),Sn&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]));}else t.e=0,t.d=[0];return t}function ni(t,e,r,n,i){var s,a,o,u,h=t.precision,c=Math.ceil(h/7);for(Sn=!1,u=r.times(r),o=new t(n);;){if(a=qn(o.times(u),new t(e++*e++),h,1),o=i?n.plus(a):n.minus(a),n=qn(a.times(u),new t(e++*e++),h,1),void 0!==(a=o.plus(n)).d[c]){for(s=c;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=n,n=a,a=s;}return Sn=!0,a.d.length=c+1,a}function ii(t,e){for(var r=t;--e;)r*=t;return r}function si(t,e){var r,n=e.s<0,i=Wn(t,t.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return xn=n?4:1,e;if((r=e.divToInt(i)).isZero())xn=n?3:2;else {if((e=e.minus(r.times(i))).lte(s))return xn=Qn(r)?n?2:3:n?4:1,e;xn=Qn(r)?n?1:4:n?3:2;}return e.minus(i).abs()}function ai(t,e,r,n){var i,s,a,o,u,h,c,l,p,f=t.constructor,d=void 0!==r;if(d?(Pn(r,1,1e9),void 0===n?n=f.rounding:Pn(n,0,8)):(r=f.precision,n=f.rounding),t.isFinite()){for(d?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(a=(c=Vn(t)).indexOf("."))>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-a,p.d=jn(Vn(p),10,i),p.e=p.d.length),s=u=(l=jn(c,10,i)).length;0==l[--u];)l.pop();if(l[0]){if(a<0?s--:((t=new f(t)).d=l,t.e=s,l=(t=qn(t,p,r,n,0,i)).d,s=t.e,h=vn),a=l[r],o=i/2,h=h||void 0!==l[r+1],h=n<4?(void 0!==a||h)&&(0===n||n===(t.s<0?3:2)):a>o||a===o&&(4===n||h||6===n&&1&l[r-1]||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++s,l.unshift(1));for(u=l.length;!l[u-1];--u);for(a=0,c="";a<u;a++)c+=_n.charAt(l[a]);if(d){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(l=jn(c,i,e)).length;!l[u-1];--u);for(a=1,c="1.";a<u;a++)c+=_n.charAt(l[a]);}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s;}else if(s<0){for(;++s;)c="0"+c;c="0."+c;}else if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));}else c=d?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c;}else c=ei(t);return t.s<0?"-"+c:c}function oi(t,e){if(t.length>e)return t.length=e,!0}function ui(t){return new this(t).abs()}function hi(t){return new this(t).acos()}function ci(t){return new this(t).acosh()}function li(t,e){return new this(t).plus(e)}function pi(t){return new this(t).asin()}function fi(t){return new this(t).asinh()}function di(t){return new this(t).atan()}function mi(t){return new this(t).atanh()}function yi(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?Wn(this,n,i):new this(0)).s=t.s:!t.d||e.isZero()?(r=Wn(this,s,1).times(.5)).s=t.s:e.s<0?(this.precision=s,this.rounding=1,r=this.atan(qn(t,e,s,1)),e=Wn(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(qn(t,e,s,1)):(r=Wn(this,s,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function gi(t){return new this(t).cbrt()}function vi(t){return Hn(t=new this(t),t.e+1,2)}function xi(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var e,r,n,i=!0===t.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-bn,0,"toExpPos",0,bn,"maxE",0,bn,"minE",-bn,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=Nn[r]),void 0!==(n=t[r])){if(!(On(n)===n&&n>=s[e+1]&&n<=s[e+2]))throw Error(Tn+r+": "+n);this[r]=n;}if(r="crypto",i&&(this[r]=Nn[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Tn+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[r]=!0;}else this[r]=!1;}return this}function wi(t){return new this(t).cos()}function bi(t){return new this(t).cosh()}function _i(t,e){return new this(t).div(e)}function Mi(t){return new this(t).exp()}function Ei(t){return Hn(t=new this(t),t.e+1,3)}function Ni(){var t,e,r=new this(0);for(Sn=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else {if(e.s)return Sn=!0,new this(1/0);r=e;}return Sn=!0,r.sqrt()}function Si(t){return t instanceof Gi||t&&"[object Decimal]"===t.name||!1}function Ti(t){return new this(t).ln()}function Oi(t,e){return new this(t).log(e)}function zi(t){return new this(t).log(2)}function Ai(t){return new this(t).log(10)}function Ci(){return Jn(this,arguments,"lt")}function Ri(){return Jn(this,arguments,"gt")}function Di(t,e){return new this(t).mod(e)}function ki(t,e){return new this(t).mul(e)}function Ii(t,e){return new this(t).pow(e)}function Li(t){var e,r,n,i,s=0,a=new this(1),o=[];if(void 0===t?t=this.precision:Pn(t,1,1e9),n=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else {if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(e=crypto.randomBytes(n*=4);s<n;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4;}else for(;s<n;)o[s++]=1e7*Math.random()|0;for(t%=7,(n=o[--s])&&t&&(i=zn(10,7-t),o[s]=(n/i|0)*i);0===o[s];s--)o.pop();if(s<0)r=0,o=[0];else {for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n);}return a.e=r,a.d=o,a}function Bi(t){return Hn(t=new this(t),t.e+1,this.rounding)}function Fi(t){return (t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Pi(t){return new this(t).sin()}function Ui(t){return new this(t).sinh()}function ji(t){return new this(t).sqrt()}function qi(t,e){return new this(t).sub(e)}function Hi(t){return new this(t).tan()}function Vi(t){return new this(t).tanh()}function $i(t){return Hn(t=new this(t),t.e+1,1)}Bn[Symbol.for("nodejs.util.inspect.custom")]=Bn.toString,Bn[Symbol.toStringTag]="Decimal";var Gi=function t(e){var r,n,i;function s(t){var e,r,n,i=this;if(!(i instanceof s))return new s(t);if(i.constructor=s,t instanceof s)return i.s=t.s,void(Sn?!t.d||t.e>s.maxE?(i.e=NaN,i.d=null):t.e<s.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(Sn?e>s.maxE?(i.e=NaN,i.d=null):e<s.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):ri(i,t.toString())}if("string"!==n)throw Error(Tn+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===r&&(t=t.slice(1)),i.s=1),Dn.test(t)?ri(i,t):function(t,e){var r,n,i,s,a,o,u,h,c;if("Infinity"===e||"NaN"===e)return +e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Cn.test(e))r=16,e=e.toLowerCase();else if(An.test(e))r=2;else {if(!Rn.test(e))throw Error(Tn+e);r=8;}for((s=e.search(/p/i))>0?(u=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),a=(s=e.indexOf("."))>=0,n=t.constructor,a&&(s=(o=(e=e.replace(".","")).length)-s,i=Xn(n,new n(r),s,2*s)),s=c=(h=jn(e,r,kn)).length-1;0===h[s];--s)h.pop();return s<0?new n(0*t.s):(t.e=$n(h,c),t.d=h,Sn=!1,a&&(t=qn(t,i,4*o)),u&&(t=t.times(Math.abs(u)<54?zn(2,u):Gi.pow(2,u))),Sn=!0,t)}(i,t)}if(s.prototype=Bn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=xi,s.clone=t,s.isDecimal=Si,s.abs=ui,s.acos=hi,s.acosh=ci,s.add=li,s.asin=pi,s.asinh=fi,s.atan=di,s.atanh=mi,s.atan2=yi,s.cbrt=gi,s.ceil=vi,s.cos=wi,s.cosh=bi,s.div=_i,s.exp=Mi,s.floor=Ei,s.hypot=Ni,s.ln=Ti,s.log=Oi,s.log10=Ai,s.log2=zi,s.max=Ci,s.min=Ri,s.mod=Di,s.mul=ki,s.pow=Ii,s.random=Li,s.round=Bi,s.sign=Fi,s.sin=Pi,s.sinh=Ui,s.sqrt=ji,s.sub=qi,s.tan=Hi,s.tanh=Vi,s.trunc=$i,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return s.config(e),s}(Nn);Mn=new Gi(Mn),En=new Gi(En);var Wi,Yi=cn("BigNumber",["?on","config"],(t=>{var{on:e,config:r}=t,n=Gi.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return {mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&n.config({precision:t.precision});})),n}),{isClass:!0}),Zi={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
Wi=Zi,function(t){var e=function(t){return .5*(Math.exp(t)+Math.exp(-t))},r=function(t){return .5*(Math.exp(t)-Math.exp(-t))},n=function(){throw SyntaxError("Invalid Param")};function i(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function s(t,e){if(!(this instanceof s))return new s(t,e);var r=function(t,e){var r={re:0,im:0};if(null==t)r.re=r.im=0;else if(void 0!==e)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg);}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi);}else 2===t.length?(r.re=t[0],r.im=t[1]):n();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&n();for(var u=0;u<i.length;u++){var h=i[u];" "===h||"\t"===h||"\n"===h||("+"===h?a++:"-"===h?o++:"i"===h||"I"===h?(a+o===0&&n()," "===i[u+1]||isNaN(i[u+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(h))&&n(),"i"===i[u+1]||"I"===i[u+1]?(r.im+=parseFloat((o%2?"-":"")+h),u++):r.re+=parseFloat((o%2?"-":"")+h),a=o=0));}a+o>0&&n();break;case"number":r.im=0,r.re=t;break;default:n();}return r}(t,e);this.re=r.re,this.im=r.im;}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re+r.re,this.im+r.im)},sub:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:new s(this.re-r.re,this.im-r.im)},mul:function(t,e){var r=new s(t,e);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?s.NAN:this.isInfinite()||r.isInfinite()?s.INFINITY:0===r.im&&0===this.im?new s(this.re*r.re,0):new s(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){var r=new s(t,e);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return s.NAN;if(this.isInfinite()||r.isZero())return s.INFINITY;if(this.isZero()||r.isInfinite())return s.ZERO;t=this.re,e=this.im;var n,i,a=r.re,o=r.im;return 0===o?new s(t/a,e/a):Math.abs(a)<Math.abs(o)?new s((t*(i=a/o)+e)/(n=a*i+o),(e*i-t)/n):new s((t+e*(i=o/a))/(n=o*i+a),(e-t*i)/n)},pow:function(t,e){var r=new s(t,e);if(t=this.re,e=this.im,r.isZero())return s.ONE;if(0===r.im){if(0===e&&t>0)return new s(Math.pow(t,r.re),0);if(0===t)switch((r.re%4+4)%4){case 0:return new s(Math.pow(e,r.re),0);case 1:return new s(0,Math.pow(e,r.re));case 2:return new s(-Math.pow(e,r.re),0);case 3:return new s(0,-Math.pow(e,r.re))}}if(0===t&&0===e&&r.re>0&&r.im>=0)return s.ZERO;var n=Math.atan2(e,t),a=i(t,e);return t=Math.exp(r.re*a-r.im*n),e=r.im*a+r.re*n,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new s(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r));}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new s(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(i(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,r=Math.abs(t),n=Math.abs(e),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n));var t,e,r,n;},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,n=this.im;return new s(Math.sin(t)*e(n),Math.cos(t)*r(n))},cos:function(){var t=this.re,n=this.im;return new s(Math.cos(t)*e(n),-Math.sin(t)*r(n))},tan:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)+e(n);return new s(Math.sin(t)/i,r(n)/i)},cot:function(){var t=2*this.re,n=2*this.im,i=Math.cos(t)-e(n);return new s(-Math.sin(t)/i,r(n)/i)},sec:function(){var t=this.re,n=this.im,i=.5*e(2*n)+.5*Math.cos(2*t);return new s(Math.cos(t)*e(n)/i,Math.sin(t)*r(n)/i)},csc:function(){var t=this.re,n=this.im,i=.5*e(2*n)-.5*Math.cos(2*t);return new s(Math.sin(t)*e(n)/i,-Math.cos(t)*r(n)/i)},asin:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(n.im,-n.re)},acos:function(){var t=this.re,e=this.im,r=new s(e*e-t*t+1,-2*t*e).sqrt(),n=new s(r.re-e,r.im+t).log();return new s(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var r=t*t+(1-e)*(1-e),n=new s((1-e*e-t*t)/r,-2*t/r).log();return new s(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,n=this.im;return new s(r(t)*Math.cos(n),e(t)*Math.sin(n))},cosh:function(){var t=this.re,n=this.im;return new s(e(t)*Math.cos(n),r(t)*Math.sin(n))},tanh:function(){var t=2*this.re,n=2*this.im,i=e(t)+Math.cos(n);return new s(r(t)/i,Math.sin(n)/i)},coth:function(){var t=2*this.re,n=2*this.im,i=e(t)-Math.cos(n);return new s(r(t)/i,-Math.sin(n)/i)},csch:function(){var t=this.re,n=this.im,i=Math.cos(2*n)-e(2*t);return new s(-2*r(t)*Math.cos(n)/i,2*e(t)*Math.sin(n)/i)},sech:function(){var t=this.re,n=this.im,i=Math.cos(2*n)+e(2*t);return new s(2*e(t)*Math.cos(n)/i,-2*r(t)*Math.sin(n)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e;}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,a=1+t,o=n*n+e*e,u=0!==o?new s((a*n-e*e)/o,(e*n+a*e)/o):new s(-1!==t?t/0:0,0!==e?e/0:0),h=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,h)/2,r&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var r=t*t+e*e;return 0!==r?new s(t/r,-e/r).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,r=t*t+e*e;return new s(t/r,-e/r)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var r=new s(t,e);return Math.abs(r.re-this.re)<=s.EPSILON&&Math.abs(r.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?r+t:(0!==t?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),1!==e&&(r+=e),r+"i"))},toVector:function(){return [this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return !(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Wi.exports=s;}();var Xi=Tr(Zi.exports),Qi=cn("Complex",[],(()=>(Xi.prototype.type="Complex",Xi.prototype.isComplex=!0,Xi.prototype.toJSON=function(){return {mathjs:"Complex",re:this.re,im:this.im}},Xi.prototype.toPolar=function(){return {r:this.abs(),phi:this.arg()}},Xi.prototype.format=function(t){var e=this.im,r=this.re,n=Rr(this.re,t),i=Rr(this.im,t),s=Te(t)?t:t?t.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(r/e)<a&&(r=0),Math.abs(e/r)<a&&(e=0);}return 0===e?n:0===r?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?n+" - i":n+" - "+i.substring(1)+"i":1===e?n+" + i":n+" + "+i+"i"},Xi.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Xi(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(Te(r)){if(Ce(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Te(n))return new Xi({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xi.prototype.valueOf=Xi.prototype.toString,Xi.fromJSON=function(t){return new Xi(t)},Xi.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Xi)),{isClass:!0}),Ji={exports:{}};
/**
 * @license Fraction.js v4.1.0 13/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(t,e){!function(e){var r={s:1,n:0,d:1};function n(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message;}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}var i=l.DivisionByZero=n("DivisionByZero"),s=l.InvalidParameter=n("InvalidParameter");function a(t,e){return isNaN(t=parseInt(t,10))&&o(),t*e}function o(){throw new s}function u(t){for(var e={},r=t,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,e[n]=(e[n]||0)+1;i+=1+2*n++;}return r!==t?r>1&&(e[r]=(e[r]||0)+1):e[t]=(e[t]||0)+1,e}var h=function(t,e){var n,s=0,u=1,h=1,c=0,l=0,p=0,f=1,d=1,m=0,y=1,g=1,v=1,x=1e7;if(null==t);else if(void 0!==e)h=(s=t)*(u=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,u=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(u=t[1])):o(),h=s*u;break;case"number":if(t<0&&(h=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=x&&v<=x;){if(t===(n=(m+g)/(y+v))){y+v<=x?(s=m+g,u=y+v):v>y?(s=g,u=v):(s=m,u=y);break}t>n?(m+=g,y+=v):(g+=m,v+=y),y>x?(s=g,u=v):(s=m,u=y);}s*=d;}else (isNaN(t)||isNaN(e))&&(u=s=NaN);break;case"string":if(null===(y=t.match(/\d+|./g))&&o(),"-"===y[m]?(h=-1,m++):"+"===y[m]&&m++,y.length===m+1?l=a(y[m++],h):"."===y[m+1]||"."===y[m]?("."!==y[m]&&(c=a(y[m++],h)),(++m+1===y.length||"("===y[m+1]&&")"===y[m+3]||"'"===y[m+1]&&"'"===y[m+3])&&(l=a(y[m],h),f=Math.pow(10,y[m].length),m++),("("===y[m]&&")"===y[m+2]||"'"===y[m]&&"'"===y[m+2])&&(p=a(y[m+1],h),d=Math.pow(10,y[m+1].length)-1,m+=3)):"/"===y[m+1]||":"===y[m+1]?(l=a(y[m],h),f=a(y[m+2],1),m+=3):"/"===y[m+3]&&" "===y[m+1]&&(c=a(y[m],h),l=a(y[m+2],h),f=a(y[m+4],1),m+=5),y.length<=m){h=s=p+(u=f*d)*c+d*l;break}default:o();}if(0===u)throw new i;r.s=h<0?-1:1,r.n=Math.abs(s),r.d=Math.abs(u);};function c(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function l(t,e){if(!(this instanceof l))return new l(t,e);h(t,e),t=l.REDUCE?c(r.d,r.n):1,this.s=r.s,this.n=r.n/t,this.d=r.d/t;}l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(t,e){return h(t,e),new l(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===r.n&&0===this.d&&l(0,0),new l(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d))},gcd:function(t,e){return h(t,e),new l(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(t,e){return h(t,e),0===r.n&&0===this.n?new l:new l(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t,e){if(h(t,e),1===r.d)return r.s<0?new l(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):new l(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var n=u(this.n),i=u(this.d),s=this.s,a=1;for(var o in n)if("1"!==o){if("0"===o){s=0;break}if(n[o]*=r.n,n[o]%r.d!=0)return null;n[o]/=r.d,s*=Math.pow(o,n[o]);}for(var o in i)if("1"!==o){if(i[o]*=r.n,i[o]%r.d!=0)return null;i[o]/=r.d,a*=Math.pow(o,i[o]);}return r.s<0?new l(a,s):new l(s,a)},equals:function(t,e){return h(t,e),this.s*this.n*r.d==r.s*r.n*this.d},compare:function(t,e){h(t,e);var n=this.s*this.n*r.d-r.s*r.n*this.d;return (0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function r(t){return 1===t.length?new l(t[0]):r(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var n=0;n<e.length;n++){var i=r(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return h(t,e),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];if(isNaN(e)||isNaN(r))return n;do{n.push(Math.floor(e/r)),t=e%r,e=r,r=t;}while(1!==e);return n},toString:function(t){var e,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return "NaN";l.REDUCE||(r/=e=c(r,n),n/=e),t=t||15;var i=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>2e3)return 0;return n}(0,n),s=function(t,e,r){for(var n=1,i=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n}(10,r,e),s=0;s<300;s++){if(n===i)return s;n=10*n%e,i=10*i%e;}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var o=s;o--;)a+=r/n|0,r%=n,r*=10;a+="(";for(o=i;o--;)a+=r/n|0,r%=n,r*=10;a+=")";}else for(o=t;r&&o--;)a+=r/n|0,r%=n,r*=10;return a}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,t.exports=l;}();}(Ji);var Ki=Tr(Ji.exports),ts=cn("Fraction",[],(()=>(Ki.prototype.type="Fraction",Ki.prototype.isFraction=!0,Ki.prototype.toJSON=function(){return {mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ki.fromJSON=function(t){return new Ki(t)},Ki)),{isClass:!0}),es=cn("Range",[],(()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=r,a=null!=n;if(i)if(Oe(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Oe(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(a)if(Oe(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1;}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map((function(t){return parseFloat(t)}));if(r.some((function(t){return isNaN(t)})))return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end-e;return Cr(r)===Cr(n)?t=Math.ceil(n/r):0===n&&(t=0),isNaN(t)&&(t=0),[t]},t.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},t.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},t.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++;},t.prototype.map=function(t){var e=[];return this.forEach((function(r,n,i){e[n[0]]=t(r,n,i);})),e},t.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e;})),t},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(t){var e=Rr(this.start,t);return 1!==this.step&&(e+=":"+Rr(this.step,t)),e+=":"+Rr(this.end,t)},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return {mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t}),{isClass:!0}),rs=cn("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),ns=cn("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Re(e))throw new Error("Invalid datatype: "+e);if(ke(t))"DenseMatrix"===t.type?(this._data=pr(t._data),this._size=pr(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&De(t.data)&&De(t.size))this._data=t.data,this._size=t.size,Qr(this._data,this._size),this._datatype=e||t.datatype;else if(De(t))this._data=h(t),this._size=Zr(this._data),Qr(this._data,this._size),this._datatype=e;else {if(t)throw new TypeError("Unsupported type of data ("+lr(t)+")");this._data=[],this._size=[0],this._datatype=e;}}function n(t,e){if(!Pe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new Wr(n.length,t._size.length);for(var s=e.min(),a=e.max(),o=0,u=t._size.length;o<u;o++)Jr(s[o],t._size[o]),Jr(a[o],t._size[o]);return new r(i(t._data,e,n.length,0),t._datatype)}function i(t,e,r,n){var s=n===r-1,a=e.dimension(n);return s?a.map((function(e){return Jr(e,t.length),t[e]})).valueOf():a.map((function(s){return Jr(s,t.length),i(t[s],e,r,n+1)})).valueOf()}function s(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),o=e.isScalar();if(ke(r)?(i=r.size(),r=r.valueOf()):i=Zr(r),o){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(s.length<t._size.length)throw new Wr(s.length,t._size.length,"<");if(i.length<s.length){for(var h=0,c=0;1===s[h]&&1===i[h];)h++;for(;1===s[h];)c++,h++;r=rn(r,s.length,c,i);}if(!yr(s,i))throw new Wr(s,i,">");u(t,e.max().map((function(t){return t+1})),n);var l=s.length;a(t._data,e,r,l,0);}return t}function a(t,e,r,n,i){var s=i===n-1,o=e.dimension(i);s?o.forEach((function(e,n){Jr(e),t[e]=r[n[0]];})):o.forEach((function(s,o){Jr(s),a(t[s],e,r[o[0]],n,i+1);}));}function o(t,e,r){if(0===e.length){for(var n=t._data;De(n);)n=n[0];return n}return t._size=e.slice(0),t._data=Kr(t._data,t._size,r),t}function u(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var s=0,a=e.length;s<a;s++)e[s]>n[s]&&(n[s]=e[s],i=!0);i&&o(t,n,r);}function h(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];De(n)?t[e]=h(n):n&&!0===n.isMatrix&&(t[e]=h(n.valueOf()));}return t}return r.prototype=new e,r.prototype.createDenseMatrix=function(t,e){return new r(t,e)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return un(this._data,lr)},r.prototype.storage=function(){return "dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(t,e){return new r(t,e)},r.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return n(this,t);case 2:case 3:return s(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(t){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);for(var e=0;e<t.length;e++)Jr(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var s=t[n];Jr(s,r.length),r=r[s];}return r},r.prototype.set=function(t,e,r){if(!De(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Wr(t.length,this._size.length,"<");var n,i,s;u(this,t.map((function(t){return t+1})),r);var a=this._data;for(n=0,i=t.length-1;n<i;n++)Jr(s=t[n],a.length),a=a[s];return Jr(s=t[t.length-1],a.length),a[s]=e,this},r.prototype.resize=function(t,e,r){if(!Ie(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(r?this.clone():this,n,e)},r.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=en(r._data,t),r._size=t.slice(0),r},r.prototype.clone=function(){return new r({data:pr(this._data),size:pr(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(t){var e=this,n=function r(n,i){return De(n)?n.map((function(t,e){return r(t,i.concat(e))})):t(n,i,e)}(this._data,[]);return new r(n,void 0!==this._datatype?un(n,lr):void 0)},r.prototype.forEach=function(t){var e=this;!function r(n,i){De(n)?n.forEach((function(t,e){r(t,i.concat(e));})):t(n,i,e);}(this._data,[]);},r.prototype.toArray=function(){return pr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(t){return Hr(this._data,t)},r.prototype.toString=function(){return Hr(this._data)},r.prototype.toJSON=function(){return {mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(t){if(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],s=this._size[1],a=Math.min(i-n,s-e),o=[],u=0;u<a;u++)o[u]=this._data[u+n][u+e];return new r({data:o,size:[a],datatype:this._datatype})},r.diagonal=function(t,e,n,i){if(!De(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(Oe(n)&&(n=n.toNumber()),!Te(n)||!Ar(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var s,a=n>0?n:0,o=n<0?-n:0,u=t[0],h=t[1],c=Math.min(u-o,h-a);if(De(e)){if(e.length!==c)throw new Error("Invalid value array length");s=function(t){return e[t]};}else if(ke(e)){var l=e.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");s=function(t){return e.get([t])};}else s=function(){return e};i||(i=Oe(s(0))?s(0).mul(0):0);var p=[];if(t.length>0){p=Kr(p,t,i);for(var f=0;f<c;f++)p[f+o][f+a]=s(f);}return new r({data:p,size:[u,h]})},r.fromJSON=function(t){return new r(t)},r.prototype.swapRows=function(t,e){if(!(Te(t)&&Ar(t)&&Te(e)&&Ar(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Jr(t,this._size[0]),Jr(e,this._size[0]),r._swapRows(t,e,this._data),this},r._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n;},r}),{isClass:!0});function is(t,e,r){return t&&"function"==typeof t.map?t.map((function(t){return is(t,e)})):e(t)}var ss="number",as="number, number";function os(t){return Math.abs(t)}function us(t,e){return t+e}function hs(t,e){return t*e}function cs(t){return -t}function ls(t){return Math.ceil(t)}function ps(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function fs(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function ds(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(kr(t,e))}os.signature=ss,us.signature=as,hs.signature=as,cs.signature=ss,ls.signature=ss,ps.signature=as,fs.signature=as,ds.signature=as;var ms=cn("isNumeric",["typed"],(t=>{var{typed:e}=t;return e("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return !0},"Complex | Unit | string | null | undefined | Node":function(){return !1},"Array | Matrix":function(t){return is(t,this)}})}));function ys(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return !0;if(t.isNaN()||e.isNaN())return !1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return !0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return !1}var gs="equalScalar",vs=cn(gs,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(gs,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,r){return Pr(t.re,e.re,r)&&Pr(t.im,e.im,r)}(t,e,r.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));cn(gs,["typed","config"],(t=>{var{typed:e,config:r}=t;return e(gs,{"number, number":function(t,e){return Pr(t,e,r.epsilon)}})}));var xs=cn("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Re(e))throw new Error("Invalid datatype: "+e);if(ke(t))!function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?pr(e._values):void 0,t._index=pr(e._index),t._ptr=pr(e._ptr),t._size=pr(e._size),t._datatype=r||e._datatype):s(t,e.valueOf(),r||e._datatype);}(this,t,e);else if(t&&De(t.index)&&De(t.ptr)&&De(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(De(t))s(this,t,e);else {if(t)throw new TypeError("Unsupported type of data ("+lr(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e;}}function s(t,n,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var s=n.length,a=0,o=r,u=0;if(Re(i)&&(o=e.find(r,[i,i])||r,u=e.convert(0,i)),s>0){var h=0;do{t._ptr.push(t._index.length);for(var c=0;c<s;c++){var l=n[c];if(De(l)){if(0===h&&a<l.length&&(a=l.length),h<l.length){var p=l[h];o(p,u)||(t._values.push(p),t._index.push(c));}}else 0===h&&a<1&&(a=1),o(l,u)||(t._values.push(l),t._index.push(c));}h++;}while(h<a)}t._ptr.push(t._index.length),t._size=[s,a];}function a(t,e){if(!Pe(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r,n,s,a,o=e.size();if(o.length!==t._size.length)throw new Wr(o.length,t._size.length);var u=e.min(),h=e.max();for(r=0,n=t._size.length;r<n;r++)Jr(u[r],t._size[r]),Jr(h[r],t._size[r]);var c=t._values,l=t._index,p=t._ptr,f=e.dimension(0),d=e.dimension(1),m=[],y=[];f.forEach((function(t,e){y[t]=e[0],m[t]=!0;}));var g=c?[]:void 0,v=[],x=[];return d.forEach((function(t){for(x.push(v.length),s=p[t],a=p[t+1];s<a;s++)r=l[s],!0===m[r]&&(v.push(y[r]),g&&g.push(c[s]));})),x.push(v.length),new i({values:g,index:v,ptr:x,size:o,datatype:t._datatype})}function o(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,s=e.size(),a=e.isScalar();if(ke(r)?(i=r.size(),r=r.toArray()):i=Zr(r),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n);}else {if(1!==s.length&&2!==s.length)throw new Wr(s.length,t._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;r=rn(r,s.length,u,i);}if(!yr(s,i))throw new Wr(s,i,">");for(var h=e.min()[0],c=e.min()[1],l=i[0],p=i[1],f=0;f<l;f++)for(var d=0;d<p;d++){var m=r[f][d];t.set([f+h,d+c],m,n);}}return t}function u(t,e,r,n){if(r-e==0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e}function h(t,e,r,n,i,s,a){i.splice(t,0,n),s.splice(t,0,e);for(var o=r+1;o<a.length;o++)a[o]++;}function c(t,n,i,s){var a=s||0,o=r,u=0;Re(t._datatype)&&(o=e.find(r,[t._datatype,t._datatype])||r,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var h,c,l,p=!o(a,u),f=t._size[0],d=t._size[1];if(i>d){for(c=d;c<i;c++)if(t._ptr[c]=t._values.length,p)for(h=0;h<f;h++)t._values.push(a),t._index.push(h);t._ptr[i]=t._values.length;}else i<d&&(t._ptr.splice(i+1,d-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(d=i,n>f){if(p){var m=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]+m,l=t._ptr[c+1]+m;var y=0;for(h=f;h<n;h++,y++)t._values.splice(l+y,0,a),t._index.splice(l+y,0,h),m++;}t._ptr[d]=t._values.length;}}else if(n<f){var g=0;for(c=0;c<d;c++){t._ptr[c]=t._ptr[c]-g;var v=t._ptr[c],x=t._ptr[c+1]-g;for(l=v;l<x;l++)(h=t._index[l])>n-1&&(t._values.splice(l,1),t._index.splice(l,1),g++);}t._ptr[c]=t._values.length;}return t._size[0]=n,t._size[1]=i,t}function l(t,e,r,n,i){var s,a,o=n[0],u=n[1],h=[];for(s=0;s<o;s++)for(h[s]=[],a=0;a<u;a++)h[s][a]=0;for(a=0;a<u;a++)for(var c=r[a],l=r[a+1],p=c;p<l;p++)h[s=e[p]][a]=t?i?pr(t[p]):t[p]:1;return h}return i.prototype=new n,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return un(this._values,lr)},i.prototype.storage=function(){return "sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,t);case 2:case 3:return o(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];Jr(e,this._size[0]),Jr(r,this._size[1]);var n=u(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},i.prototype.set=function(t,n,i){if(!De(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Wr(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=t[0],a=t[1],o=this._size[0],l=this._size[1],p=r,f=0;Re(this._datatype)&&(p=e.find(r,[this._datatype,this._datatype])||r,f=e.convert(0,this._datatype)),(s>o-1||a>l-1)&&(c(this,Math.max(s+1,o),Math.max(a+1,l),i),o=this._size[0],l=this._size[1]),Jr(s,o),Jr(a,l);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(n,f)?function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var s=e+1;s<i.length;s++)i[s]--;}(d,a,this._values,this._index,this._ptr):this._values[d]=n:h(d,s,a,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,r){if(!Ie(t))throw new TypeError("Array or Matrix expected");var n=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(t){if(!Te(t)||!Ar(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(n)+")")})),c(r?this.clone():this,n[0],n[1],e)},i.prototype.reshape=function(t,e){if(!De(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(e){if(!Te(e)||!Ar(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Hr(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var s=0;s<r._ptr[i+1]-r._ptr[i];s++)n.push(i);for(var a=r._values.slice(),o=r._index.slice(),c=0;c<r._index.length;c++){var l=o[c],p=n[c],f=l*r._size[1]+p;n[c]=f%t[1],o[c]=Math.floor(f/t[1]);}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var d=0;d<r._ptr.length;d++)r._ptr[d]=0;for(var m=0;m<a.length;m++){var y=o[m],g=n[m],v=a[m];h(u(y,r._ptr[g],r._ptr[g+1],r._index),y,g,v,r._values,r._index,r._ptr);}return r},i.prototype.clone=function(){return new i({values:this._values?pr(this._values):void 0,index:pr(this._index),ptr:pr(this._ptr),size:pr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(t,n,s,a,o,u,h){var c=[],l=[],p=[],f=r,d=0;Re(t._datatype)&&(f=e.find(r,[t._datatype,t._datatype])||r,d=e.convert(0,t._datatype));for(var m=function(t,e,r){t=u(t,e,r),f(t,d)||(c.push(t),l.push(e));},y=a;y<=o;y++){p.push(c.length);var g=t._ptr[y],v=t._ptr[y+1];if(h)for(var x=g;x<v;x++){var w=t._index[x];w>=n&&w<=s&&m(t._values[x],w-n,y-a);}else {for(var b={},_=g;_<v;_++){b[t._index[_]]=t._values[_];}for(var M=n;M<=s;M++){m(M in b?b[M]:0,M-n,y-a);}}}return p.push(c.length),new i({values:c,index:l,ptr:p,size:[s-n+1,o-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,r,n){return t(e,[r,n],s)}),n)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var s=this._ptr[i],a=this._ptr[i+1];if(e)for(var o=s;o<a;o++){var u=this._index[o];t(this._values[o],[u,i],this);}else {for(var h={},c=s;c<a;c++){h[this._index[c]]=this._values[c];}for(var l=0;l<r;l++){t(l in h?h[l]:0,[l,i],this);}}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+Hr(e,t)+" x "+Hr(r,t)+"] density: "+Hr(n,t)+"\n",s=0;s<r;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++){i+="\n    ("+Hr(this._index[u],t)+", "+Hr(s,t)+") ==> "+(this._values?Hr(this._values[u],t):"X");}return i},i.prototype.toString=function(){return Hr(this.toArray())},i.prototype.toJSON=function(){return {mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],s=this._size[1],a=Math.min(n-r,s-e),o=[],u=[],h=[];h[0]=0;for(var c=e;c<s&&o.length<a;c++)for(var l=this._ptr[c],p=this._ptr[c+1],f=l;f<p;f++){var d=this._index[f];if(d===c-e+r){o.push(this._values[f]),u[o.length-1]=d-r;break}}return h.push(o.length),new i({values:o,index:u,ptr:h,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,n,s,a,o){if(!De(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Oe(t)&&(t=t.toNumber()),!Te(t)||!Ar(t)||t<1)throw new Error("Size values must be positive integers");return t})),s){if(Oe(s)&&(s=s.toNumber()),!Te(s)||!Ar(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=r,h=0;Re(o)&&(u=e.find(r,[o,o])||r,h=e.convert(0,o));var c,l=s>0?s:0,p=s<0?-s:0,f=t[0],d=t[1],m=Math.min(f-p,d-l);if(De(n)){if(n.length!==m)throw new Error("Invalid value array length");c=function(t){return n[t]};}else if(ke(n)){var y=n.size();if(1!==y.length||y[0]!==m)throw new Error("Invalid matrix length");c=function(t){return n.get([t])};}else c=function(){return n};for(var g=[],v=[],x=[],w=0;w<d;w++){x.push(g.length);var b=w-l;if(b>=0&&b<m){var _=c(b);u(_,h)||(v.push(b+p),g.push(_));}}return x.push(g.length),new i({values:g,index:v,ptr:x,size:[f,d]})},i.prototype.swapRows=function(t,e){if(!(Te(t)&&Ar(t)&&Te(e)&&Ar(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Jr(t,this._size[0]),Jr(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,r,n,i){for(var s=n[t],a=n[t+1],o=s;o<a;o++)i(r[o],e[o]);},i._swapRows=function(t,e,r,n,i,s){for(var a=0;a<r;a++){var o=s[a],h=s[a+1],c=u(t,o,h,i),l=u(e,o,h,i);if(c<h&&l<h&&i[c]===t&&i[l]===e){if(n){var p=n[c];n[c]=n[l],n[l]=p;}}else if(c<h&&i[c]===t&&(l>=h||i[l]!==e)){var f=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,f),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1);}else if(l<h&&i[l]===e&&(c>=h||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1);}}},i}),{isClass:!0}),ws=cn("number",["typed"],(t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');if(["0b","0o","0x"].includes(t.substring(0,2))){if(e>2**32-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));2147483648&e&&(e=-1*~(e-1));}return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return is(t,this)}});return r.fromJSON=function(t){return parseFloat(t.value)},r})),bs=cn("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(t){return new r(t+"")},string:function(t){return new r(t)},BigNumber:function(t){return t},Fraction:function(t){return new r(t.n).div(t.d).times(t.s)},null:function(t){return new r(0)},"Array | Matrix":function(t){return is(t,this)}})})),_s=cn("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r(t)},string:function(t){return new r(t)},"number, number":function(t,e){return new r(t,e)},null:function(t){return new r(0)},BigNumber:function(t){return new r(t.toString())},Fraction:function(t){return t},Object:function(t){return new r(t)},"Array | Matrix":function(t){return is(t,this)}})})),Ms=cn("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e("matrix",{"":function(){return s([])},string:function(t){return s([],t)},"string, string":function(t,e){return s([],t,e)},Array:function(t){return s(t)},Matrix:function(t){return s(t,t.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(t,e,r){if("dense"===e||"default"===e||void 0===e)return new n(t,r);if("sparse"===e)return new i(t,r);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Es=cn("unaryMinus",["typed"],(t=>{var{typed:e}=t;return e("unaryMinus",{number:cs,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=this(t.value),e},"Array | Matrix":function(t){return is(t,this)}})})),Ns=cn("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:os,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return is(t,this)},Unit:function(t){return t.abs()}})})),Ss=cn("addScalar",["typed"],(t=>{var{typed:e}=t;return e("addScalar",{"number, number":us,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r}})})),Ts=cn("algorithm11",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=r,m=0,y=i;"string"==typeof c&&(l=c,d=e.find(r,[l,l]),m=e.convert(0,l),n=e.convert(n,l),y=e.find(i,[l,l]));for(var g=[],v=[],x=[],w=0;w<f;w++){x[w]=v.length;for(var b=u[w],_=u[w+1],M=b;M<_;M++){var E=o[M],N=s?y(n,a[M]):y(a[M],n);d(N,m)||(v.push(E),g.push(N));}}return x[f]=v.length,t.createSparseMatrix({values:g,index:v,ptr:x,size:[p,f],datatype:l})}})),Os=cn("algorithm14",["typed"],(t=>{var{typed:e}=t;return function(t,n,i,s){var a,o=t._data,u=t._size,h=t._datatype,c=i;"string"==typeof h&&(a=h,n=e.convert(n,a),c=e.find(i,[a,a]));var l=u.length>0?r(c,0,u,u[0],o,n,s):[];return t.createDenseMatrix({data:l,size:pr(u),datatype:a})};function r(t,e,n,i,s,a,o){var u=[];if(e===n.length-1)for(var h=0;h<i;h++)u[h]=o?t(a,s[h]):t(s[h],a);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],s[c],a,o);return u}})),zs=cn("ceil",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Ts({typed:e,equalScalar:s}),o=Os({typed:e});return e("ceil",{number:function(t){return Pr(t,n(t),r.epsilon)?n(t):ls(t)},"number, number":function(t,e){if(Pr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.ceil()},"Complex, number":function(t,e){return t.ceil(e)},BigNumber:function(t){return ys(t,n(t),r.epsilon)?n(t):t.ceil()},"BigNumber, BigNumber":function(t,e){return ys(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Gi.ROUND_CEIL)},Fraction:function(t){return t.ceil()},"Fraction, number":function(t,e){return t.ceil(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number":function(t,e){return is(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),As=cn("fix",["typed","Complex","matrix","ceil","floor"],(t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s}=t,a=Os({typed:e});return e("fix",{number:function(t){return t>0?s(t):i(t)},"number, number | BigNumber":function(t,e){return t>0?s(t,e):i(t,e)},Complex:function(t){return new r(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},"Complex, number | BigNumber":function(t,e){return new r(t.re>0?s(t.re,e):i(t.re,e),t.im>0?s(t.im,e):i(t.im,e))},BigNumber:function(t){return t.isNegative()?i(t):s(t)},"BigNumber, number | BigNumber":function(t,e){return t.isNegative()?i(t,e):s(t,e)},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Fraction, number | BigNumber":function(t,e){return t.s<0?t.ceil(e):t.floor(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number | BigNumber":function(t,e){return is(t,(t=>this(t,e)))},"number | Complex | BigNumber, Array":function(t,e){return a(n(e),t,this,!0).valueOf()}})})),Cs=cn("floor",["typed","config","round","matrix","equalScalar"],(t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s}=t,a=Ts({typed:e,equalScalar:s}),o=Os({typed:e});return e("floor",{number:function(t){return Pr(t,n(t),r.epsilon)?n(t):Math.floor(t)},"number, number":function(t,e){if(Pr(t,n(t,e),r.epsilon))return n(t,e);var[i,s]="".concat(t,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+e)));return [i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-e))},Complex:function(t){return t.floor()},"Complex, number":function(t,e){return t.floor(e)},BigNumber:function(t){return ys(t,n(t),r.epsilon)?n(t):t.floor()},"BigNumber, BigNumber":function(t,e){return ys(t,n(t,e),r.epsilon)?n(t,e):t.toDecimalPlaces(e.toNumber(),Gi.ROUND_FLOOR)},Fraction:function(t){return t.floor()},"Fraction, number":function(t,e){return t.floor(e)},"Array | Matrix":function(t){return is(t,this)},"Array | Matrix, number":function(t,e){return is(t,(t=>this(t,e)))},"SparseMatrix, number | BigNumber":function(t,e){return a(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"number | Complex | BigNumber, Array":function(t,e){return o(i(e),t,this,!0).valueOf()}})})),Rs=cn("algorithm01",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Wr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],y=a[1],g="string"==typeof o&&o===p?o:void 0,v=g?e.find(n,[g,g]):n,x=[];for(f=0;f<m;f++)x[f]=[];var w=[],b=[];for(d=0;d<y;d++){for(var _=d+1,M=c[d],E=c[d+1],N=M;N<E;N++)w[f=h[N]]=i?v(u[N],s[f][d]):v(s[f][d],u[N]),b[f]=_;for(f=0;f<m;f++)b[f]===_?x[f][d]=w[f]:x[f][d]=s[f][d];}return t.createDenseMatrix({data:x,size:[m,y],datatype:g})}})),Ds=cn("algorithm04",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Wr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,E,N,S=s&&c?[]:void 0,T=[],O=[],z=s&&c?[]:void 0,A=s&&c?[]:void 0,C=[],R=[];for(_=0;_<g;_++){O[_]=T.length;var D=_+1;for(E=o[_],N=o[_+1],M=E;M<N;M++)b=a[M],T.push(b),C[b]=D,z&&(z[b]=s[M]);for(E=p[_],N=p[_+1],M=E;M<N;M++)if(C[b=l[M]]===D){if(z){var k=w(z[b],c[M]);v(k,x)?C[b]=null:z[b]=k;}}else T.push(b),R[b]=D,A&&(A[b]=c[M]);if(z&&A)for(M=O[_];M<T.length;)C[b=T[M]]===D?(S[M]=z[b],M++):R[b]===D?(S[M]=A[b],M++):T.splice(M,1);}return O[g]=T.length,t.createSparseMatrix({values:S,index:T,ptr:O,size:[y,g],datatype:m})}})),ks=cn("algorithm10",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var E=0;E<p;E++)0===v&&(m[E]=[]),g[E]===x?m[E][v]=s?d(n,y[E]):d(y[E],n):m[E][v]=n;}return new r({data:m,size:[p,f],datatype:l})}})),Is=cn("algorithm13",["typed"],(t=>{var{typed:e}=t;return function(t,n,i){var s,a=t._data,o=t._size,u=t._datatype,h=n._data,c=n._size,l=n._datatype,p=[];if(o.length!==c.length)throw new Wr(o.length,c.length);for(var f=0;f<o.length;f++){if(o[f]!==c[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[f]=o[f];}var d=i;"string"==typeof u&&u===l&&(s=u,d=e.find(i,[s,s]));var m=p.length>0?r(d,0,p,p[0],a,h):[];return t.createDenseMatrix({data:m,size:p,datatype:s})};function r(t,e,n,i,s,a){var o=[];if(e===n.length-1)for(var u=0;u<i;u++)o[u]=t(s[u],a[u]);else for(var h=0;h<i;h++)o[h]=r(t,e+1,n,n[e+1],s[h],a[h]);return o}})),Ls=cn("algorithm02",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i,s){var a=t._data,o=t._size,u=t._datatype,h=n._values,c=n._index,l=n._ptr,p=n._size,f=n._datatype;if(o.length!==p.length)throw new Wr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],y=o[1],g=r,v=0,x=i;"string"==typeof u&&u===f&&(d=u,g=e.find(r,[d,d]),v=e.convert(0,d),x=e.find(i,[d,d]));for(var w=[],b=[],_=[],M=0;M<y;M++){_[M]=b.length;for(var E=l[M],N=l[M+1],S=E;S<N;S++){var T=c[S],O=s?x(h[S],a[T][M]):x(a[T][M],h[S]);g(O,v)||(b.push(T),w.push(O));}}return _[y]=b.length,n.createSparseMatrix({values:w,index:b,ptr:_,size:[m,y],datatype:d})}})),Bs=cn("algorithm03",["typed"],(t=>{var{typed:e}=t;return function(t,r,n,i){var s=t._data,a=t._size,o=t._datatype,u=r._values,h=r._index,c=r._ptr,l=r._size,p=r._datatype;if(a.length!==l.length)throw new Wr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],y=0,g=n;"string"==typeof o&&o===p&&(f=o,y=e.convert(0,f),g=e.find(n,[f,f]));for(var v=[],x=0;x<d;x++)v[x]=[];for(var w=[],b=[],_=0;_<m;_++){for(var M=_+1,E=c[_],N=c[_+1],S=E;S<N;S++){var T=h[S];w[T]=i?g(u[S],s[T][_]):g(s[T][_],u[S]),b[T]=M;}for(var O=0;O<d;O++)b[O]===M?v[O][_]=w[O]:v[O][_]=i?g(y,s[O][_]):g(s[O][_],y);}return t.createDenseMatrix({data:v,size:[d,m],datatype:f})}})),Fs=cn("algorithm05",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return function(t,n,i){var s=t._values,a=t._index,o=t._ptr,u=t._size,h=t._datatype,c=n._values,l=n._index,p=n._ptr,f=n._size,d=n._datatype;if(u.length!==f.length)throw new Wr(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,y=u[0],g=u[1],v=r,x=0,w=i;"string"==typeof h&&h===d&&(m=h,v=e.find(r,[m,m]),x=e.convert(0,m),w=e.find(i,[m,m]));var b,_,M,E,N=s&&c?[]:void 0,S=[],T=[],O=N?[]:void 0,z=N?[]:void 0,A=[],C=[];for(_=0;_<g;_++){T[_]=S.length;var R=_+1;for(M=o[_],E=o[_+1];M<E;M++)b=a[M],S.push(b),A[b]=R,O&&(O[b]=s[M]);for(M=p[_],E=p[_+1];M<E;M++)A[b=l[M]]!==R&&S.push(b),C[b]=R,z&&(z[b]=c[M]);if(N)for(M=T[_];M<S.length;){var D=A[b=S[M]],k=C[b];if(D===R||k===R){var I=w(D===R?O[b]:x,k===R?z[b]:x);v(I,x)?S.splice(M,1):(N.push(I),M++);}}}return T[g]=S.length,t.createSparseMatrix({values:N,index:S,ptr:T,size:[y,g],datatype:m})}})),Ps=cn("algorithm12",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,n,i,s){var a=t._values,o=t._index,u=t._ptr,h=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=h[0],f=h[1],d=i;"string"==typeof c&&(l=c,n=e.convert(n,l),d=e.find(i,[l,l]));for(var m=[],y=[],g=[],v=0;v<f;v++){for(var x=v+1,w=u[v],b=u[v+1],_=w;_<b;_++){var M=o[_];y[M]=a[_],g[M]=x;}for(var E=0;E<p;E++)0===v&&(m[E]=[]),g[E]===x?m[E][v]=s?d(n,y[E]):d(y[E],n):m[E][v]=s?d(n,0):d(0,n);}return new r({data:m,size:[p,f],datatype:l})}}));cn("mod",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Ls({typed:e,equalScalar:n}),a=Bs({typed:e}),o=Fs({typed:e,equalScalar:n}),u=Ts({typed:e,equalScalar:n}),h=Ps({typed:e,DenseMatrix:i}),c=Is({typed:e}),l=Os({typed:e});return e("mod",{"number, number":ps,"BigNumber, BigNumber":function(t,e){if(e.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){if(e.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return t.compare(0)>=0?t.mod(e):t.mod(e).add(e).mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return h(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var js=cn("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":hs,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}})})),qs=cn("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=Ts({typed:e,equalScalar:s}),u=Os({typed:e});function h(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=c[1],d=n,m=i;u&&l&&u===l&&"string"==typeof u&&(s=u,d=e.find(n,[s,s]),m=e.find(i,[s,s]));for(var y=[],g=0;g<f;g++){for(var v=m(a[0],h[0][g]),x=1;x<p;x++)v=d(v,m(a[x],h[x][g]));y[g]=v;}return t.createDenseMatrix({data:y,size:[f],datatype:s})}(t,r)}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._datatype,l=o[0],p=o[1],f=n,d=i;u&&c&&u===c&&"string"==typeof u&&(s=u,f=e.find(n,[s,s]),d=e.find(i,[s,s]));for(var m=[],y=0;y<l;y++){for(var g=a[y],v=d(g[0],h[0]),x=1;x<p;x++)v=f(v,d(g[x],h[x]));m[y]=v;}return t.createDenseMatrix({data:m,size:[l],datatype:s})},"SparseMatrix, any":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=[],y=[],g=[],v=n,x=i,w=s,b=0;h&&p&&h===p&&"string"==typeof h&&(c=h,v=e.find(n,[c,c]),x=e.find(i,[c,c]),w=e.find(s,[c,c]),b=e.convert(0,c));var _=[],M=[];g[0]=0;for(var E=0;E<d;E++){var N=l[E];if(!w(N,b))for(var S=u[E],T=u[E+1],O=S;O<T;O++){var z=o[O];M[z]?_[z]=v(_[z],x(N,a[O])):(M[z]=!0,y.push(z),_[z]=x(N,a[O]));}}for(var A=y.length,C=0;C<A;C++){var R=y[C];m[C]=_[R];}return g[1]=y.length,t.createSparseMatrix({values:m,index:y,ptr:g,size:[f,1],datatype:c})}}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var s,a=t._data,o=t._size,u=t._datatype,h=r._data,c=r._size,l=r._datatype,p=o[0],f=o[1],d=c[1],m=n,y=i;u&&l&&u===l&&"string"==typeof u&&(s=u,m=e.find(n,[s,s]),y=e.find(i,[s,s]));for(var g=[],v=0;v<p;v++){var x=a[v];g[v]=[];for(var w=0;w<d;w++){for(var b=y(x[0],h[0][w]),_=1;_<f;_++)b=m(b,y(x[_],h[_][w]));g[v][w]=b;}}return t.createDenseMatrix({data:g,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(t,r){var a=t._data,o=t._size,u=t._datatype,h=r._values,c=r._index,l=r._ptr,p=r._size,f=r._datatype;if(!h)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],y=p[1],g=n,v=i,x=s,w=0;u&&f&&u===f&&"string"==typeof u&&(d=u,g=e.find(n,[d,d]),v=e.find(i,[d,d]),x=e.find(s,[d,d]),w=e.convert(0,d));for(var b=[],_=[],M=[],E=r.createSparseMatrix({values:b,index:_,ptr:M,size:[m,y],datatype:d}),N=0;N<y;N++){M[N]=_.length;var S=l[N],T=l[N+1];if(T>S)for(var O=0,z=0;z<m;z++){for(var A=z+1,C=void 0,R=S;R<T;R++){var D=c[R];O!==A?(C=v(a[z][D],h[R]),O=A):C=g(C,v(a[z][D],h[R]));}O!==A||x(C,w)||(_.push(z),b.push(C));}}return M[y]=_.length,E},"SparseMatrix, DenseMatrix":function(t,r){var a=t._values,o=t._index,u=t._ptr,h=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,l=r._data,p=r._datatype,f=t._size[0],d=r._size[0],m=r._size[1],y=n,g=i,v=s,x=0;h&&p&&h===p&&"string"==typeof h&&(c=h,y=e.find(n,[c,c]),g=e.find(i,[c,c]),v=e.find(s,[c,c]),x=e.convert(0,c));for(var w=[],b=[],_=[],M=t.createSparseMatrix({values:w,index:b,ptr:_,size:[f,m],datatype:c}),E=[],N=[],S=0;S<m;S++){_[S]=b.length;for(var T=S+1,O=0;O<d;O++){var z=l[O][S];if(!v(z,x))for(var A=u[O],C=u[O+1],R=A;R<C;R++){var D=o[R];N[D]!==T?(N[D]=T,b.push(D),E[D]=g(z,a[R])):E[D]=y(E[D],g(z,a[R]));}}for(var k=_[S],I=b.length,L=k;L<I;L++){var B=b[L];w[L]=E[B];}}return _[m]=b.length,M},"SparseMatrix, SparseMatrix":function(t,r){var s,a=t._values,o=t._index,u=t._ptr,h=t._datatype,c=r._values,l=r._index,p=r._ptr,f=r._datatype,d=t._size[0],m=r._size[1],y=a&&c,g=n,v=i;h&&f&&h===f&&"string"==typeof h&&(s=h,g=e.find(n,[s,s]),v=e.find(i,[s,s]));for(var x,w,b,_,M,E,N,S,T=y?[]:void 0,O=[],z=[],A=t.createSparseMatrix({values:T,index:O,ptr:z,size:[d,m],datatype:s}),C=y?[]:void 0,R=[],D=0;D<m;D++){z[D]=O.length;var k=D+1;for(M=p[D],E=p[D+1],_=M;_<E;_++)if(S=l[_],y)for(w=u[S],b=u[S+1],x=w;x<b;x++)N=o[x],R[N]!==k?(R[N]=k,O.push(N),C[N]=v(c[_],a[x])):C[N]=g(C[N],v(c[_],a[x]));else for(w=u[S],b=u[S+1],x=w;x<b;x++)N=o[x],R[N]!==k&&(R[N]=k,O.push(N));if(y)for(var I=z[D],L=O.length,B=I;B<L;B++){var F=O[B];T[B]=C[F];}}return z[m]=O.length,A}});return e("multiply",dr({"Array, Array":function(t,e){h(Zr(t),Zr(e));var n=this(r(t),r(e));return ke(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return h(r,n),1===r.length?1===n.length?function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,r[0]):c(t,e):1===n.length?l(t,e):p(t,e)},"Matrix, Array":function(t,e){return this(t,r(e))},"Array, Matrix":function(t,e){return this(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return o(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(r(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},i.signatures))})),Hs=cn("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:s,DenseMatrix:a}=t,o=Rs({typed:e}),u=Bs({typed:e}),h=Fs({typed:e,equalScalar:n}),c=ks({typed:e,DenseMatrix:a}),l=Is({typed:e}),p=Os({typed:e});return e("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=this(r.value,e.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(t,e){return Vs(t,e),h(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return Vs(t,e),u(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return Vs(t,e),o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return Vs(t,e),l(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,s(e),i)},"DenseMatrix, any":function(t,e){return p(t,e,this)},"any, SparseMatrix":function(t,e){return c(e,t,this,!0)},"any, DenseMatrix":function(t,e){return p(e,t,this,!0)},"Array, any":function(t,e){return p(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return p(r(e),t,this,!0).valueOf()}})}));function Vs(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new Wr(r.length,n.length)}var $s=cn("algorithm07",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:r}=t;return function(t,i,s){var a=t._size,o=t._datatype,u=i._size,h=i._datatype;if(a.length!==u.length)throw new Wr(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,l,p,f=a[0],d=a[1],m=0,y=s;"string"==typeof o&&o===h&&(c=o,m=e.convert(0,c),y=e.find(s,[c,c]));var g=[];for(l=0;l<f;l++)g[l]=[];var v=[],x=[],w=[],b=[];for(p=0;p<d;p++){var _=p+1;for(n(t,p,w,v,_),n(i,p,b,x,_),l=0;l<f;l++){var M=w[l]===_?v[l]:m,E=b[l]===_?x[l]:m;g[l][p]=y(M,E);}}return new r({data:g,size:[f,d],datatype:c})};function n(t,e,r,n,i){for(var s=t._values,a=t._index,o=t._ptr,u=o[e],h=o[e+1];u<h;u++){var c=a[u];r[c]=i,n[c]=s[u];}}})),Gs=cn("conj",["typed"],(t=>{var{typed:e}=t;return e("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return is(t,this)}})}));function Ws(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(t){var a=i[t];if(a&&(delete n[a],delete i[t],--e,r===a)){if(!e)return s=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(o){var u=i[o],h=++s;if(n[h]=o,i[o]=h,!u){if(++e<=t)return;return o=n[r],a(o),o}if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null);}}}function Ys(t){var{hasher:e,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,e=null==e?JSON.stringify:e,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:Ws(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var Zs=cn("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e("identity",{"":function(){return "Matrix"===r.matrix?n([]):[]},string:function(t){return n(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return o(t)},"Array, string":function(t,e){return o(t,e)},Matrix:function(t){return o(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){switch(t.length){case 0:return e?n(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,r){var n=Oe(t)||Oe(e)?i:null;if(Oe(t)&&(t=t.toNumber()),Oe(e)&&(e=e.toNumber()),!Ar(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!Ar(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var o=n?new i(1):1,u=n?new n(0):0,h=[t,e];if(r){if("sparse"===r)return a.diagonal(h,o,0,u);if("dense"===r)return s.diagonal(h,o,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=Kr([],h,u),l=t<e?t:e,p=0;p<l;p++)c[p][p]=o;return c}}));function Xs(){throw new Error('No "bignumber" implementation available')}function Qs(){throw new Error('No "fraction" implementation available')}function Js(t,e,r,n){if(!(this instanceof Js))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack;}Js.prototype=new Error,Js.prototype.constructor=Error,Js.prototype.name="ArgumentsError",Js.prototype.isArgumentsError=!0;var Ks=cn("size",["typed","config","?matrix"],(t=>{var{typed:e,config:r,matrix:n}=t;return e("size",{Matrix:function(t){return t.create(t.size())},Array:Zr,string:function(t){return "Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return "Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function ta(t,e){if(ia(t)&&ra(t,e))return t[e];if("function"==typeof t[e]&&na(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function ea(t,e,r){if(ia(t)&&ra(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function ra(t,e){return !(!t||"object"!=typeof t)&&(!!wr(sa,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function na(t,e){return null!=t&&"function"==typeof t[e]&&(!(wr(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!wr(aa,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function ia(t){return "object"==typeof t&&t&&t.constructor===Object}var sa={length:!0,name:!0},aa={toString:!0,valueOf:!0,toLocaleString:!0},oa=cn("subset",["typed","matrix"],(t=>{var{typed:e,matrix:r}=t;return e("subset",{"Array, Index":function(t,e){var n=r(t).subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":ca,"string, Index":ua,"Array, Index, any":function(t,e,n){return r(pr(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return r(pr(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":ha,"string, Index, string, string":ha,"Object, Index, any":la})}));function ua(t,e){if(!Pe(e))throw new TypeError("Index expected");if(1!==e.size().length)throw new Wr(e.size().length,1);var r=t.length;Jr(e.min()[0],r),Jr(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach((function(e){i+=t.charAt(e);})),i}function ha(t,e,r,n){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new Wr(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0);if(i.size()[0]!==r.length)throw new Wr(i.size()[0],r.length);var s=t.length;Jr(e.min()[0]),Jr(e.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=t.charAt(o);if(i.forEach((function(t,e){a[t]=r.charAt(e[0]);})),a.length>s)for(var u=s-1,h=a.length;u<h;u++)a[u]||(a[u]=n);return a.join("")}function ca(t,e){if(1!==e.size().length)throw new Wr(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return ta(t,r)}function la(t,e,r){if(1!==e.size().length)throw new Wr(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=pr(t);return ea(i,n,r),i}var pa=cn("zeros",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("zeros",{"":function(){return "Array"===r.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return s(t,e)}return "Array"===r.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){var r=function(t){var e=!1;return t.forEach((function(t,r,n){Oe(t)&&(e=!0,n[r]=t.toNumber());})),e}(t)?new i(0):0;if(function(t){t.forEach((function(t){if("number"!=typeof t||!Ar(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}));}(t),e){var s=n(e);return t.length>0?s.resize(t,r):s}var a=[];return t.length>0?Kr(a,t,r):a}})),fa=cn("format",["typed"],(t=>{var{typed:e}=t;return e("format",{any:Hr,"any, Object | function | number":Hr})})),da=cn("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:t=>e(t),BigNumber:r?t=>r(t):Xs,Fraction:n?t=>n(t):Qs};return function(t,e){var r=lr(t);if(!(r in i))throw new TypeError("Cannot convert "+t+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in s))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(s).join(", "));return e===r?t:s[e](t)}})),ma=cn("divideScalar",["typed","numeric"],(t=>{var{typed:e,numeric:r}=t;return e("divideScalar",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),i=r(1,lr(e));return n.value=this(null===n.value?n._normalize(i):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.clone();n=n.pow(-1);var i=r(1,lr(t));return n.value=this(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}})})),ya=cn("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=t;return e("pow",{"number, number":h,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||r.predictable?t.pow(e):new u(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":c,"Array, BigNumber":function(t,e){return c(t,e.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(t,e){return l(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function h(t,e){if(r.predictable&&!Ar(e)&&t<0)try{var n=o(e),i=a(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return (n.n%2==0?1:-1)*Math.pow(-t,e)}catch(s){}return r.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:Ar(e)||t>=0||r.predictable?fs(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new u(t,0).pow(e,0)}function c(t,e){if(!Ar(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=Zr(t);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var s=n(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(s=i(a,s)),e>>=1,a=i(a,a);return s}function l(t,e){return s(c(t.valueOf(),e))}}));function ga(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ga(Object(r),!0).forEach((function(e){xa(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function xa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wa="Number of decimals in function round must be an integer",ba=cn("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:s,DenseMatrix:a}=t,o=Ts({typed:e,equalScalar:n}),u=Ps({typed:e,DenseMatrix:a}),h=Os({typed:e});return e("round",va(va({},_a),{},{Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(wa);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);return new s(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(wa);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(wa);return t.round(e)},"Array | Matrix":function(t){return is(t,this)},"SparseMatrix, number | BigNumber":function(t,e){return o(t,e,this,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):u(e,t,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return n(t,0)?i(e.size(),e.storage()):h(e,t,this,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return h(r(e),t,this,!0).valueOf()}}))})),_a={number:ds,"number, number":function(t,e){if(!Ar(e))throw new TypeError(wa);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return ds(t,e)}},Ma=cn("equal",["typed","matrix","equalScalar","DenseMatrix"],(t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,n)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,n,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,n,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return o(t,e,n,!1)},"DenseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, SparseMatrix":function(t,e){return o(e,t,n,!0)},"any, DenseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return h(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,n,!0).valueOf()}})}));cn("equal",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:r}=t;return e("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:r(t,e)}})}));var Ea=cn("smaller",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return -1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Na=cn("larger",["typed","config","matrix","DenseMatrix"],(t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,s=Bs({typed:e}),a=$s({typed:e,DenseMatrix:i}),o=Ps({typed:e,DenseMatrix:i}),u=Is({typed:e}),h=Os({typed:e});return e("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!Pr(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!ys(t,e,r.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(n(t),n(e)).valueOf()},"Array, Matrix":function(t,e){return this(n(t),e)},"Matrix, Array":function(t,e){return this(t,n(e))},"SparseMatrix, any":function(t,e){return o(t,e,this,!1)},"DenseMatrix, any":function(t,e){return h(t,e,this,!1)},"any, SparseMatrix":function(t,e){return o(e,t,this,!0)},"any, DenseMatrix":function(t,e){return h(e,t,this,!0)},"Array, any":function(t,e){return h(n(t),e,this,!1).valueOf()},"any, Array":function(t,e){return h(n(e),t,this,!0).valueOf()}})})),Sa=cn("FibonacciHeap",["smaller","larger"],(t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0;}function s(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child===e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1;}function a(t,e){var r=e.parent;r&&(e.mark?(s(t,e,r),a(r)):e.mark=!0);}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,e(t,i.key)&&(this._minimum=n);}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0;},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var i=this._minimum,s=t.degree,a=t.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--;}return t.left.right=t.right,t.right.left=t.left,i=t===t.right?null:function(t,i){var s,a=Math.floor(Math.log(i)*n)+1,u=new Array(a),h=0,c=t;if(c)for(h++,c=c.right;c!==t;)h++,c=c.right;for(;h>0;){for(var l=c.degree,p=c.right;s=u[l];){if(r(c.key,s.key)){var f=s;s=c,c=f;}o(s,c),u[l]=null,l++;}u[l]=c,c=p,h--;}t=null;for(var d=0;d<a;d++)(s=u[d])&&(t?(s.left.right=s.right,s.right.left=s.left,s.left=t,s.right=t.right,t.right=s,s.right.left=s,e(s.key,t.key)&&(t=s)):t=s);return t}(i=t.right,this._size),this._size--,this._minimum=i,t},i.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;var i=r.parent;i&&e(r.key,i.key)&&(s(t,r,i),a(t,i));e(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum();};var o=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1;};return i}),{isClass:!0}),Ta=cn("Spa",["addScalar","equalScalar","FibonacciHeap"],(t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n;}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else {var r=this._heap.insert(t,e);this._values[t]=r;}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n);},i.prototype.forEach=function(t,e,n){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=e;)o.key>=t&&(r(o.value,0)||n(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var h=a[u];s[(o=i.insert(h.key,h.value)).key]=o;}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i;}},i}),{isClass:!0});Ys((function(t){return new t(1).exp()}),{hasher:za}),Ys((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:za});var Oa=Ys((function(t){return t.acos(-1)}),{hasher:za});function za(t){return t[0].precision}function Aa(){return (Aa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function Ca(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n);}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ca(Object(r),!0).forEach((function(e){Da(t,e,r[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e));}));}return t}function Da(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ys((function(t){return Oa(t).times(2)}),{hasher:za});var ka=cn("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(t=>{var e,r,n,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:h,pow:c,abs:l,fix:p,round:f,equal:d,isNumeric:m,format:y,number:g,Complex:v,BigNumber:x,Fraction:w}=t,b=g;function _(t,e){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=t&&!m(t)&&!ze(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){var r=_.parse(e);this.units=r.units,this.dimensions=r.dimensions;}else {this.units=[{unit:L,prefix:R.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0;}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0;}function M(){for(;" "===n||"\t"===n;)N();}function E(t){return t>="0"&&t<="9"}function N(){r++,n=e.charAt(r);}function S(t){r=t,n=e.charAt(r);}function T(){var t,e="",i=r;if("+"===n?N():"-"===n&&(e+=n,N()),!((t=n)>="0"&&t<="9"||"."===t))return S(i),null;if("."===n){if(e+=n,N(),!E(n))return S(i),null}else {for(;E(n);)e+=n,N();"."===n&&(e+=n,N());}for(;E(n);)e+=n,N();if("E"===n||"e"===n){var s="",a=r;if(s+=n,N(),"+"!==n&&"-"!==n||(s+=n,N()),!E(n))return S(a),e;for(e+=s;E(n);)e+=n,N();}return e}function O(){for(var t="";E(n)||_.isValidAlpha(n);)t+=n,N();var e=t.charAt(0);return _.isValidAlpha(e)?t:null}function z(t){return n===t?(N(),t):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(t,i){if(i=i||{},r=-1,n="","string"!=typeof(e=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;N(),M();var h=T(),c=null;if(h){if("BigNumber"===s.number)c=new x(h);else if("Fraction"===s.number)try{c=new w(h);}catch(E){c=parseFloat(h);}else c=parseFloat(h);M(),z("*")?(o=1,u=!0):z("/")&&(o=-1,u=!0);}for(var l=[],p=1;;){for(M();"("===n;)l.push(o),p*=o,o=1,N(),M();var f=void 0;if(!n)break;var d=n;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+e+'" at index '+r.toString());var m=A(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var y=o*p;if(M(),z("^")){M();var g=T();if(null===g)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');y*=g;}a.units.push({unit:m.unit,prefix:m.prefix,power:y});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*y;for(M();")"===n;){if(0===l.length)throw new SyntaxError('Unmatched ")" in "'+e+'" at index '+r.toString());p/=l.pop(),N(),M();}if(u=!1,z("*")?(o=1,u=!0):z("/")?(o=-1,u=!0):o=1,m.unit.base){var b=m.unit.base.key;U.auto[b]={unit:m.unit,prefix:m.prefix};}}if(M(),n)throw new SyntaxError('Could not parse: "'+t+'"');if(u)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==l.length)throw new SyntaxError('Unmatched "(" in "'+e+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var t=new _;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=pr(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var r in t.units[e]={},this.units[e])wr(this.units[e],r)&&(t.units[e][r]=this.units[e][r]);return t},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(t){var e,r,n,i,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){var o=t;s=_._getNumberConverter(lr(t));for(var h=0;h<this.units.length;h++)e=s(this.units[h].unit.value),i=s(this.units[h].prefix.value),n=s(this.units[h].power),o=u(o,c(u(e,i),n));return o}return e=(s=_._getNumberConverter(lr(t)))(this.units[0].unit.value),r=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(t,r),u(e,i))},_.prototype._denormalize=function(t,e){var r,n,i,s,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var l=t;a=_._getNumberConverter(lr(t));for(var p=0;p<this.units.length;p++)r=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),l=h(l,c(u(r,s),i));return l}return r=(a=_._getNumberConverter(lr(t)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),o(h(h(t,r),null==e?s:e),n)};var A=Ys((t=>{if(wr(B,t)){var e=B[t];return {unit:e,prefix:e.prefixes[""]}}for(var r in B)if(wr(B,r)&&qr(t,r)){var n=B[r],i=t.length-r.length,s=t.substring(0,i),a=wr(n.prefixes,s)?n.prefixes[s]:void 0;if(void 0!==a)return {unit:n,prefix:a}}return null}),{hasher:t=>t[0],limit:100});function C(t){return t.equalBase(k.NONE)&&null!==t.value&&!s.predictable?t.value:t}_.isValuelessUnit=function(t){return null!==A(t)},_.prototype.hasBase=function(t){if("string"==typeof t&&(t=k[t]),!t)return !1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return !1;return !0},_.prototype.equals=function(t){return this.equalBase(t)&&d(this.value,t.value)},_.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ra({},t.units[n]);e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=u(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,C(e)},_.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var n=0;n<t.units.length;n++){var i=Ra(Ra({},t.units[n]),{},{power:-t.units[n].power});e.units.push(i);}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,a=null===t.value?t._normalize(1):t.value;e.value=h(s,a);}else e.value=null;return e.skipAutomaticSimplification=!1,C(e)},_.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var n=0;n<e.units.length;n++)e.units[n].power*=t;return null!==e.value?e.value=c(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,C(e)},_.prototype.abs=function(){var t=this.clone();for(var e in t.value=null!==t.value?l(t.value):null,t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=B.W);return t},_.prototype.to=function(t){var e,r=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=_.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=pr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(Ce(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return (e=t.clone()).value=pr(r),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(t){return b(this.toNumeric(t))},_.prototype.toNumeric=function(t){var e;return (e=t?this.to(t):this.clone())._isDerived()||0===e.units.length?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return {mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(t){var e=new _(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var t,e,r=this.clone(),n=[];for(var i in j)if(wr(j,i)&&r.hasBase(k[i])){t=i;break}if("NONE"===t)r.units=[];else if(t&&wr(j,t)&&(e=j[t]),e)r.units=[{unit:e.unit,prefix:e.prefix,power:1}];else {for(var s=!1,a=0;a<D.length;a++){var o=D[a];Math.abs(r.dimensions[a]||0)>1e-12&&(wr(j,o)?n.push({unit:j[o].unit,prefix:j[o].prefix,power:r.dimensions[a]||0}):s=!0);}n.length<r.units.length&&!s&&(r.units=n);}return r},_.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!wr(U.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:U.si[n].unit,prefix:U.si[n].prefix,power:t.dimensions[r]||0});}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.formatUnits=function(){for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(r>0?(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(e+="^"+-this.units[s].power)):(e+=" "+this.units[s].prefix.name+this.units[s].unit.name,e+="^"+this.units[s].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var a=t;return r>0&&n>0&&(a+=" / "),a+=e},_.prototype.format=function(t){var e=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==e.value&&null!==e.value&&ze(e.value)&&(r=Math.abs(e.value.re)<1e-14),e.units)wr(e.units,n)&&e.units[n].unit&&("VA"===e.units[n].unit.name&&r?e.units[n].unit=B.VAR:"VAR"!==e.units[n].unit.name||r||(e.units[n].unit=B.VA));1!==e.units.length||e.fixPrefix||Math.abs(e.units[0].power-Math.round(e.units[0].power))<1e-14&&(e.units[0].prefix=e._bestPrefix());var i=e._denormalize(e.value),s=null!==e.value?y(i,t||{}):"",a=e.formatUnits();return e.value&&ze(e.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+=a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?l(this.value):0,e=l(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(wr(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(t/Math.pow(o.value*e,n))/Math.LN10-1.2);(u<i||u===i&&o.name.length<r.name.length)&&(r=o,i=u);}}return r},_.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!==t.length-1);n++){var i=e.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(e.toNumeric()),t[n].toString());r.push(u),e=o(e,u);}for(var h=0,c=0;c<r.length;c++)h=a(h,r[c].value);return d(h,this.value)&&(e.value=0),r.push(e),r};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Aa({},R.SHORT,R.LONG),R.BINARY_SHORT=Aa({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Aa({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in k)wr(k,I)&&(k[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:D.map((t=>0))},B={meter:{name:"meter",base:k.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:k.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:k.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:k.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:k.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:k.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:k.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:k.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:k.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:k.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:k.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:k.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},F={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(t){if("BigNumber"===t.number){var e=Oa(x);B.rad.value=new x(1),B.deg.value=e.div(180),B.grad.value=e.div(200),B.cycle.value=e.times(2),B.arcsec.value=e.div(648e3),B.arcmin.value=e.div(10800);}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value;}P(s),i&&i("config",(function(t,e){t.number!==e.number&&P(t);}));var U={si:{NONE:{unit:L,prefix:R.NONE[""]},LENGTH:{unit:B.m,prefix:R.SHORT[""]},MASS:{unit:B.g,prefix:R.SHORT.k},TIME:{unit:B.s,prefix:R.SHORT[""]},CURRENT:{unit:B.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:R.SHORT[""]},ANGLE:{unit:B.rad,prefix:R.SHORT[""]},BIT:{unit:B.bits,prefix:R.SHORT[""]},FORCE:{unit:B.N,prefix:R.SHORT[""]},ENERGY:{unit:B.J,prefix:R.SHORT[""]},POWER:{unit:B.W,prefix:R.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:R.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:R.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:B.m,prefix:R.SHORT.c},U.cgs.MASS={unit:B.g,prefix:R.SHORT[""]},U.cgs.FORCE={unit:B.dyn,prefix:R.SHORT[""]},U.cgs.ENERGY={unit:B.erg,prefix:R.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:B.ft,prefix:R.NONE[""]},U.us.MASS={unit:B.lbm,prefix:R.NONE[""]},U.us.TEMPERATURE={unit:B.degF,prefix:R.NONE[""]},U.us.FORCE={unit:B.lbf,prefix:R.NONE[""]},U.us.ENERGY={unit:B.BTU,prefix:R.BTU[""]},U.us.POWER={unit:B.hp,prefix:R.NONE[""]},U.us.PRESSURE={unit:B.psi,prefix:R.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var j=U.auto;for(var q in _.setUnitSystem=function(t){if(!wr(U,t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(U).join(", "));j=U[t];},_.getUnitSystem=function(){for(var t in U)if(wr(U,t)&&U[t]===j)return t},_.typeConverters={BigNumber:function(t){return new x(t+"")},Fraction:function(t){return new w(t)},Complex:function(t){return t},number:function(t){return t}},_._getNumberConverter=function(t){if(!_.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return _.typeConverters[t]},B)if(wr(B,q)){var H=B[q];H.dimensions=H.base.dimensions;}for(var V in F)if(wr(F,V)){var $=B[F[V]],G={};for(var W in $)wr($,W)&&(G[W]=$[W]);G.name=V,B[V]=G;}return _.isValidAlpha=function(t){return /^[a-zA-Z]$/.test(t)},_.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(wr(t,r)&&_.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)_.deleteUnit(t[r].aliases[n]);var i;for(var s in t)wr(t,s)&&(i=_.createUnitSingle(s,t[s]));return i},_.createUnitSingle=function(t,e,r){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(wr(B,t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){if(n=t.charAt(e),0===e&&!_.isValidAlpha(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!_.isValidAlpha(n)&&!E(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(t);var i,s,a,o=null,u=[],h=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(i=e);else {if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');i=e.definition,s=e.prefixes,h=e.offset,a=e.baseName,e.aliases&&(u=e.aliases.valueOf());}if(u)for(var c=0;c<u.length;c++)if(wr(B,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0});}catch(S){throw S.message='Could not create unit "'+t+'" from "'+i+'": '+S.message,S}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],h=h||0,s=s&&s.toUpperCase&&R[s.toUpperCase()]||R.NONE;var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:h};var p=!1;for(var f in k)if(wr(k,f)){for(var d=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(k[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,l.base=k[f];break}}if(!p){a=a||t+"_STUFF";var y={dimensions:o.dimensions.slice(0)};y.key=a,k[a]=y,j[a]={unit:l,prefix:R.NONE[""]},l.base=k[a];}}else {if(a=a||t+"_STUFF",D.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(a),k)wr(k,g)&&(k[g].dimensions[D.length-1]=0);for(var v={dimensions:[]},x=0;x<D.length;x++)v.dimensions[x]=0;v.dimensions[D.length-1]=1,v.key=a,k[a]=v,l={name:t,value:1,dimensions:k[a].dimensions.slice(0),prefixes:s,offset:h,base:k[a]},j[a]={unit:l,prefix:R.NONE[""]};}_.UNITS[t]=l;for(var w=0;w<u.length;w++){var b=u[w],M={};for(var N in l)wr(l,N)&&(M[N]=l[N]);M.name=b,_.UNITS[b]=M;}return delete A.cache,new _(null,t)},_.deleteUnit=function(t){delete _.UNITS[t];},_.PREFIXES=R,_.BASE_DIMENSIONS=D,_.BASE_UNITS=k,_.UNIT_SYSTEMS=U,_.UNITS=B,_}),{isClass:!0});cn("unit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("unit",{Unit:function(t){return t.clone()},string:function(t){return r.isValuelessUnit(t)?new r(null,t):r.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new r(t,e)},"Array | Matrix":function(t){return is(t,this)}})}));cn("createUnit",["typed","Unit"],(t=>{var{typed:e,Unit:r}=t;return e("createUnit",{"Object, Object":function(t,e){return r.createUnit(t,e)},Object:function(t){return r.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.createUnit(e,{})}})}));cn("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=t,o=Rs({typed:e}),u=Ds({typed:e,equalScalar:i}),h=ks({typed:e,DenseMatrix:s}),c=Is({typed:e}),l=Os({typed:e});return e("add",dr({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,n)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,n,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,n,!0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,n)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"DenseMatrix, any":function(t,e){return l(t,e,n,!1)},"SparseMatrix, any":function(t,e){return h(t,e,n,!1)},"any, DenseMatrix":function(t,e){return l(e,t,n,!0)},"any, SparseMatrix":function(t,e){return h(e,t,n,!0)},"Array, any":function(t,e){return l(r(t),e,n,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(t,e,r){for(var n=this(t,e),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}));var Fa=cn("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,s){var u=a(t,s),h=ke(t)?t._data:t,c=ke(t)?t._datatype:void 0,l=ke(s)?s._data:s,p=ke(s)?s._datatype:void 0,f=2===o(t).length,d=2===o(s).length,m=r,y=n;if(c&&p&&c===p&&"string"==typeof c){var g=c;m=e.find(r,[g,g]),y=e.find(n,[g,g]);}if(!f&&!d){for(var v=y(i(h[0]),l[0]),x=1;x<u;x++)v=m(v,y(i(h[x]),l[x]));return v}if(!f&&d){for(var w=y(i(h[0]),l[0][0]),b=1;b<u;b++)w=m(w,y(i(h[b]),l[b][0]));return w}if(f&&!d){for(var _=y(i(h[0][0]),l[0]),M=1;M<u;M++)_=m(_,y(i(h[M][0]),l[M]));return _}if(f&&d){for(var E=y(i(h[0][0]),l[0][0]),N=1;N<u;N++)E=m(E,y(i(h[N][0]),l[N][0]));return E}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,s=t._values,o=e._index,u=e._values,h=0,c=r,l=n,p=0,f=0;for(;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(h=c(h,l(s[p],u[f])),p++,f++);}return h}});function a(t,e){var r,n,i=o(t),s=o(e);if(1===i.length)r=i[0];else {if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0];}if(1===s.length)n=s[0];else {if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");n=s[0];}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function o(t){return ke(t)?t.size():s(t)}})),Pa={end:!0},Ua=cn("Node",["mathWithTransform"],(t=>{var{mathWithTransform:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(t){return this.compile().evaluate(t)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var t=this._compile(e,{}),r={};return {evaluate:function(e){var n=e||{};return function(t){for(var e in t)if(wr(t,e)&&e in Pa)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}},r.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(t){if(!ir(t))throw new TypeError("Callback function must return a Node");return t},r.prototype.traverse=function(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r);}));}(this,t);},r.prototype.transform=function(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)},r.prototype.filter=function(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r);})),e},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(t){return t.cloneDeep()}))},r.prototype.equals=function(t){return !!t&&yr(this,t)},r.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},r.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function ja(t){return t&&t.isIndexError?new Yr(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}function qa(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ta(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw ja(n)}}}var Ha=cn("AccessorNode",["subset","Node"],(t=>{var{subset:e,Node:r}=t,n=qa({subset:e});function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError('Node expected for parameter "object"');if(!nr(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function s(t){return !(Ze(t)||Xe(t)||tr(t)||rr(t)||sr(t)||or(t)||hr(t))}return i.prototype=new r,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(t,e){var r=this.object._compile(t,e),i=this.index._compile(t,e);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(t,e,n){return ta(r(t,e,n),s)}}return function(t,e,s){var a=r(t,e,s),o=i(t,e,a);return n(a,o)}},i.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this);},i.prototype.map=function(t){return new i(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(t){var e=this.object.toString(t);return s(this.object)&&(e="("+e+")"),e+this.index.toString(t)},i.prototype.toHTML=function(t){var e=this.object.toHTML(t);return s(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},i.prototype._toTex=function(t){var e=this.object.toTex(t);return s(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)},i.prototype.toJSON=function(){return {mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(t){return new i(t.object,t.index)},i}),{isClass:!0,isNode:!0}),Va=cn("ArrayNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(ir))throw new TypeError("Array containing Nodes expected")}return r.prototype=new e,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(t,e){var r=sn(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n(sn(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return sn(r,(function(r){return r(t,e,n)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this);}},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(t){return "["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"},r.prototype.toJSON=function(){return {mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(t){return '<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?e+=r.items.map((function(e){return e.toTex(t)})).join("&"):e+=r.toTex(t),e+="\\\\";})),e+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});var $a=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Ga(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<$a.length;i++)if(n in $a[i])return i;return null}function Wa(t,e){var r=t;"keep"!==e&&(r=t.getContent());var n=r.getIdentifier(),i=Ga(r,e);if(null===i)return null;var s=$a[i][n];if(wr(s,"associativity")){if("left"===s.associativity)return "left";if("right"===s.associativity)return "right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function Ya(t,e,r){var n="keep"!==r?t.getContent():t,i="keep"!==r?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=Ga(n,r);if(null===o)return null;var u=$a[o][s];if(wr(u,"associativeWith")&&u.associativeWith instanceof Array){for(var h=0;h<u.associativeWith.length;h++)if(u.associativeWith[h]===a)return !0;return !1}return null}var Za=cn("AssignmentNode",["subset","?matrix","Node"],(t=>{var{subset:e,matrix:r,Node:n}=t,i=qa({subset:e}),s=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf();if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ea(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw ja(s)}}}({subset:e,matrix:r});function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r||e,!hr(t)&&!Ze(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(hr(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!nr(this.index))throw new TypeError('IndexNode expected as "index"');if(!ir(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}function o(t,e){e||(e="keep");var r=Ga(t,e),n=Ga(t.value,e);return "all"===e||null!==n&&n<=r}return a.prototype=new n,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,a=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),s=a(t,e,n);return ea(i,u,s)}}if(hr(this.object))return function(t,e,i){var u=r(t,e,i),h=a(t,e,i),c=n(t,e,u);return ea(t,o,s(u,c,h)),h};var h=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,r){var i=h(t,e,r),o=ta(i,c),u=n(t,e,o),l=a(t,e,r);return ea(i,c,s(o,u,l)),l}}var l=this.object.index._compile(t,e);return function(t,e,r){var o=h(t,e,r),u=l(t,e,o),c=i(o,u),p=n(t,e,c),f=a(t,e,r);return s(o,u,s(c,p,f)),f}}if(!hr(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){return ea(t,o,a(t,e,r))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this);},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return o(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},a.prototype.toJSON=function(){return {mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return o(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},a.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return o(this,t&&t.parenthesis)&&(n="\\left(".concat(n,"\\right)")),e+r+":="+n},a}),{isClass:!0,isNode:!0}),Xa=cn("BlockNode",["ResultSet","Node"],(t=>{var{ResultSet:e,Node:r}=t;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!ir(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return {node:e,visible:r}}));}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(t,r){var n=sn(this.blocks,(function(e){return {evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var s=[];return an(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&s.push(n);})),new e(s)}},n.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this);},n.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],s=this._ifNode(t(i.node,"blocks["+r+"].node",this));e[r]={node:s,visible:i.visible};}return new n(e)},n.prototype.clone=function(){return new n(this.blocks.map((function(t){return {node:t.node,visible:t.visible}})))},n.prototype._toString=function(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return {mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(t){return new n(t.blocks)},n.prototype.toHTML=function(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),Qa=cn("ConditionalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError("Parameter condition must be a Node");if(!ir(e))throw new TypeError("Parameter trueExpr must be a Node");if(!ir(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n;}return r.prototype=new e,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),i=this.falseExpr._compile(t,e);return function(t,e,s){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return !!t;if(t){if(Oe(t))return !t.isZero();if(ze(t))return !(!t.re&&!t.im);if(Ce(t))return !!t.value}if(null==t)return !1;throw new TypeError('Unsupported type of condition "'+lr(t)+'"')}(r(t,e,s))?n(t,e,s):i(t,e,s)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.condition.toString(t),i=Ga(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=Ga(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var o=this.falseExpr.toString(t),u=Ga(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o="("+o+")"),n+" ? "+s+" : "+o},r.prototype.toJSON=function(){return {mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.condition.toHTML(t),i=Ga(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=Ga(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(t),u=Ga(this.falseExpr,e);return ("all"===e||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},r.prototype._toTex=function(t){return "\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),Ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t},Ka={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},to={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},eo=function(t,e){return Ja({},t,e)},ro={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},no={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},io={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(no.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(no.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(no.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(no.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(no.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(no.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(no.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(no.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(no.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(no.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(no.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(no.bitAnd,"${args[1]}\\right)")},bitNot:{1:no.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(no.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(no.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(no.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(no.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(no.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(no.and,"${args[1]}\\right)")},not:{1:no.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(no.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(no.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(no.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(no.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(no.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(no.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(no.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(no.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(no.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(no.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(no.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(no.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(no.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(ro.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},so={deg:"^\\circ"};function ao(t){return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.preserveFormatting,n=void 0!==r&&r,i=e.escapeMapFn,s=void 0===i?eo:i,a=String(t),o="",u=s(Ja({},Ka),n?Ja({},to):{}),h=Object.keys(u),c=function(){var t=!1;h.forEach((function(e,r){t||a.length>=e.length&&a.slice(0,e.length)===e&&(o+=u[h[r]],a=a.slice(e.length,a.length),t=!0);})),t||(o+=a.slice(0,1),a=a.slice(1,a.length));};a;)c();return o}(t,{preserveFormatting:!0})}function oo(t,e){return (e=void 0!==e&&e)?wr(so,t)?so[t]:"\\mathrm{"+ao(t)+"}":wr(ro,t)?ro[t]:ao(t)}var uo=cn("ConstantNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=t;}return r.prototype=new e,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(t,e){var r=this.value;return function(){return r}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(t){return Hr(this.value,t)},r.prototype.toHTML=function(t){var e=this._toString(t);switch(lr(this.value)){case"number":case"BigNumber":case"Fraction":return '<span class="math-number">'+e+"</span>";case"string":return '<span class="math-string">'+e+"</span>";case"boolean":return '<span class="math-boolean">'+e+"</span>";case"null":return '<span class="math-null-symbol">'+e+"</span>";case"undefined":return '<span class="math-undefined">'+e+"</span>";default:return '<span class="math-symbol">'+e+"</span>"}},r.prototype.toJSON=function(){return {mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(t){return new r(t.value)},r.prototype._toTex=function(t){var e=this._toString(t);switch(lr(this.value)){case"string":return "\\mathtt{"+ao(e)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=e.toLowerCase().indexOf("e");return -1!==r?e.substring(0,r)+"\\cdot10^{"+e.substring(r+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},r}),{isClass:!0,isNode:!0}),ho=cn("FunctionAssignmentNode",["typed","Node"],(t=>{var{typed:e,Node:r}=t;function n(t,e,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!ir(r))throw new TypeError('Node expected for parameter "expr"');if(t in Pa)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r;}function i(t,e){var r=Ga(t,e),n=Ga(t.expr,e);return "all"===e||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(t,r){var n=Object.create(r);an(this.params,(function(t){n[t]=!0;}));var i=this.expr._compile(t,n),s=this.name,a=this.params,o=on(this.types,","),u=s+"("+on(this.params,", ")+")";return function(t,r,n){var h={};h[o]=function(){for(var e=Object.create(r),s=0;s<a.length;s++)e[a[s]]=arguments[s];return i(t,e,n)};var c=e(s,h);return c.syntax=u,ea(t,s,c),c}},n.prototype.forEach=function(t){t(this.expr,"expr",this);},n.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new n(this.name,this.params.slice(0),e)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return i(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var t=this.types;return {mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(e,r){return {name:e,type:t[r]}})),expr:this.expr}},n.fromJSON=function(t){return new n(t.name,t.params,t.expr)},n.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+$r(this.params[n])+"</span>");var s=this.expr.toHTML(t);return i(this,e)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+$r(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},n.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return i(this,e)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(oo).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0}),co=cn("IndexNode",["Range","Node","size"],(t=>{var{Range:e,Node:r,size:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(ir))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(t,r,n){return new e(Oe(t)?t.toNumber():t,Oe(r)?r.toNumber():r,Oe(n)?n.toNumber():n)}return i.prototype=new r,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(t,e){var r=sn(this.dimensions,(function(r,i){if(ur(r)){if(r.needsEnd()){var a=Object.create(e);a.end=!0;var o=r.start._compile(t,a),u=r.end._compile(t,a),h=r.step?r.step._compile(t,a):function(){return 1};return function(t,e,r){var a=n(r).valueOf(),c=Object.create(e);return c.end=a[i],s(o(t,c,r),u(t,c,r),h(t,c,r))}}var c=r.start._compile(t,e),l=r.end._compile(t,e),p=r.step?r.step._compile(t,e):function(){return 1};return function(t,e,r){return s(c(t,e,r),l(t,e,r),p(t,e,r))}}if(hr(r)&&"end"===r.name){var f=Object.create(e);f.end=!0;var d=r._compile(t,f);return function(t,e,r){var s=n(r).valueOf(),a=Object.create(e);return a.end=s[i],d(t,a,r)}}var m=r._compile(t,e);return function(t,e,r){return m(t,e,r)}})),i=ta(t,"index");return function(t,e,n){var s=sn(r,(function(r){return r(t,e,n)}));return i(...s)}},i.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this);},i.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new i(e,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&tr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return {mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(t){return new i(t.dimensions,t.dotNotation)},i.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+$r(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},i}),{isClass:!0,isNode:!0}),lo=cn("ObjectNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return ir(t[e])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new e,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var r={};for(var n in this.properties)if(wr(this.properties,n)){var i=Vr(n),s=JSON.parse(i);if(!ra(this.properties,s))throw new Error('No access to property "'+s+'"');r[s]=this.properties[n]._compile(t,e);}return function(t,e,n){var i={};for(var s in r)wr(r,s)&&(i[s]=r[s](t,e,n));return i}},r.prototype.forEach=function(t){for(var e in this.properties)wr(this.properties,e)&&t(this.properties[e],"properties["+Vr(e)+"]",this);},r.prototype.map=function(t){var e={};for(var n in this.properties)wr(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+Vr(n)+"]",this)));return new r(e)},r.prototype.clone=function(){var t={};for(var e in this.properties)wr(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)},r.prototype._toString=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push(Vr(r)+": "+this.properties[r].toString(t));return "{"+e.join(", ")+"}"},r.prototype.toJSON=function(){return {mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push('<span class="math-symbol math-property">'+$r(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return '<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e=[];for(var r in this.properties)wr(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return "\\left\\{\\begin{array}{ll}".concat(e.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),po=cn("OperatorNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[];}function n(t,e,r,n,i){var s,a=Ga(t,e),o=Wa(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return n.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return !1;default:return !0}}));switch(n.length){case 0:s=[];break;case 1:var u=Ga(n[0],e);if(i&&null!==u){var h,c;if("keep"===e?(h=n[0].getIdentifier(),c=t.getIdentifier()):(h=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===$a[a][c].latexLeftParens){s=[!1];break}if(!1===$a[u][h].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var l,p,f=Ga(n[0],e),d=Ya(t,n[0],e);l=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,y,g,v=Ga(n[1],e),x=Ya(t,n[1],e);if(p=null!==v&&(v===a&&"left"===o&&!x||v<a),i)"keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),g=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),g=t.args[1].getContent().getIdentifier()),null!==f&&(!1===$a[a][m].latexLeftParens&&(l=!1),!1===$a[f][y].latexParens&&(l=!1)),null!==v&&(!1===$a[a][m].latexRightParens&&(p=!1),!1===$a[v][g].latexParens&&(p=!1));s=[l,p];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(s=n.map((function(r){var n=Ga(r,e),i=Ya(t,r,e),s=Wa(r,e);return null!==n&&(a===n&&o===s&&!i||n<a)})));}return n.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(s=n.map((function(t,e){var r="ParenthesisNode"===t.getIdentifier();return !(!s[e]&&!r)}))),s}return r.prototype=new e,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(t,e){if("string"!=typeof this.fn||!na(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=ta(t,this.fn),n=sn(this.args,(function(r){return r._compile(t,e)}));if(1===n.length){var i=n[0];return function(t,e,n){return r(i(t,e,n))}}if(2===n.length){var s=n[0],a=n[1];return function(t,e,n){return r(s(t,e,n),a(t,e,n))}}return function(t,e,i){return r.apply(null,sn(n,(function(r){return r(t,e,i)})))}},r.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},r.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,e,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Wa(this,e),o=i[0].toString(t);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return "right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var h=i[0].toString(t),c=i[1].toString(t);return s[0]&&(h="("+h+")"),s[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+c:h+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=i.map((function(e,r){return e=e.toString(t),s[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return {mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(t){return new r(t.op,t.fn,t.args,t.implicit)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!1);if(1===i.length){var a=Wa(this,e),o=i[0].toHTML(t);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+$r(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+$r(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(t),h=i[1].toHTML(t);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"+h}var c=i.map((function(e,r){return e=e.toHTML(t),s[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"):'<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,s=n(this,e,r,i,!0),a=no[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=Wa(this,e),u=i[0].toTex(t);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var h=i[0],c=h.toTex(t);s[0]&&(c="\\left(".concat(c,"\\right)"));var l,p=i[1].toTex(t);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),l="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+p+"}";case"OperatorNode:pow":switch(c="{"+c+"}",p="{"+p+"}",l){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)");}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return c+"~"+p}return c+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(e,r){return e=e.toTex(t),s[r]&&(e="\\left(".concat(e,"\\right)")),e}));return "OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return "\\mathrm{"+this.fn+"}\\left("+i.map((function(e){return e.toTex(t)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),fo=cn("ParenthesisNode",["Node"],(t=>{var{Node:e}=t;function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError('Node expected for parameter "content"');this.content=t;}return r.prototype=new e,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this);},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return {mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return !t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}),{isClass:!0,isNode:!0}),mo=cn("RangeNode",["Node"],(t=>{var{Node:e}=t;function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!ir(t))throw new TypeError("Node expected");if(!ir(e))throw new TypeError("Node expected");if(n&&!ir(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null;}function n(t,e){var r=Ga(t,e),n={},i=Ga(t.start,e);if(n.start=null!==i&&i<=r||"all"===e,t.step){var s=Ga(t.step,e);n.step=null!==s&&s<=r||"all"===e;}var a=Ga(t.end,e);return n.end=null!==a&&a<=r||"all"===e,n}return r.prototype=new e,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(t){return hr(t)&&"end"===t.name})).length>0},r.prototype._compile=function(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,a){return r(n(t,e,a),i(t,e,a),s(t,e,a))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this);},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);r.step&&(s="("+s+")"),e+=":"+s;}var a=this.end.toString(t);return r.end&&(a="("+a+")"),e+=":"+a},r.prototype.toJSON=function(){return {mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e,r=n(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toHTML(t);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);r.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s;}var a=this.end.toHTML(t);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(t){var e=n(this,t&&t.parenthesis?t.parenthesis:"keep"),r=this.start.toTex(t);if(e.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i;}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),r+=":"+s},r}),{isClass:!0,isNode:!0}),yo=cn("RelationalNode",["Node"],(t=>{var{Node:e}=t;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e;}return r.prototype=new e,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,o=n[0](e,i,s),u=0;u<r.conditionals.length;u++){if(a=o,o=n[u+1](e,i,s),!ta(t,r.conditionals[u])(a,o))return !1}return !0}},r.prototype.forEach=function(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this);},r.prototype.map=function(t){return new r(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?"("+n.toString(t)+")":n.toString(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+n[a+1];return s},r.prototype.toJSON=function(){return {mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(t)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=n[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(i[this.conditionals[a]])+"</span>"+n[a+1];return s},r.prototype._toTex=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=Ga(this,e),n=this.params.map((function(n,i){var s=Ga(n,e);return "all"===e||null!==s&&s<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),i=n[0],s=0;s<this.conditionals.length;s++)i+=no[this.conditionals[s]]+n[s+1];return i},r}),{isClass:!0,isNode:!0});function go(){return (go=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}function vo(){return (vo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);}return t}).apply(this,arguments)}var xo={createBigNumberClass:Yi},wo={createComplexClass:Qi},bo={createMatrixClass:rs},_o={MatrixDependencies:bo,createDenseMatrixClass:ns},Mo={createFractionClass:ts},Eo={BigNumberDependencies:xo,ComplexDependencies:wo,DenseMatrixDependencies:_o,FractionDependencies:Mo,createTyped:dn},No={typedDependencies:Eo,createEqualScalar:vs},So={MatrixDependencies:bo,equalScalarDependencies:No,typedDependencies:Eo,createSparseMatrixClass:xs},To={typedDependencies:Eo,createNumber:ws},Oo={FractionDependencies:Mo,typedDependencies:Eo,createFraction:_s},zo={DenseMatrixDependencies:_o,MatrixDependencies:bo,SparseMatrixDependencies:So,typedDependencies:Eo,createMatrix:Ms},Ao={typedDependencies:Eo,createUnaryMinus:Es},Co={typedDependencies:Eo,createAbs:Ns},Ro={typedDependencies:Eo,createAddScalar:Ss},Do={BigNumberDependencies:xo,DenseMatrixDependencies:_o,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,zerosDependencies:{BigNumberDependencies:xo,matrixDependencies:zo,typedDependencies:Eo,createZeros:pa},createRound:ba},Io={typedDependencies:Eo,createMultiplyScalar:js},Lo={matrixDependencies:zo,typedDependencies:Eo,createSize:Ks},Bo={addScalarDependencies:Ro,dotDependencies:{addScalarDependencies:Ro,conjDependencies:{typedDependencies:Eo,createConj:Gs},multiplyScalarDependencies:Io,sizeDependencies:Lo,typedDependencies:Eo,createDot:Fa},equalScalarDependencies:No,matrixDependencies:zo,multiplyScalarDependencies:Io,typedDependencies:Eo,createMultiply:qs},Fo={DenseMatrixDependencies:_o,addScalarDependencies:Ro,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,unaryMinusDependencies:Ao,createSubtract:Hs},Po={DenseMatrixDependencies:_o,matrixDependencies:zo,typedDependencies:Eo,createLarger:Na},Uo={BigNumberDependencies:xo,DenseMatrixDependencies:_o,SparseMatrixDependencies:So,matrixDependencies:zo,typedDependencies:Eo,createIdentity:Zs},qo={bignumberDependencies:{BigNumberDependencies:xo,typedDependencies:Eo,createBignumber:bs},fractionDependencies:Oo,numberDependencies:To,createNumeric:da},Ho={numericDependencies:qo,typedDependencies:Eo,createDivideScalar:ma},Vo={matrixDependencies:zo,typedDependencies:Eo,createSubset:oa},$o={BigNumberDependencies:xo,ComplexDependencies:wo,FractionDependencies:Mo,absDependencies:Co,addScalarDependencies:Ro,divideScalarDependencies:Ho,equalDependencies:{DenseMatrixDependencies:_o,equalScalarDependencies:No,matrixDependencies:zo,typedDependencies:Eo,createEqual:Ma},fixDependencies:{ComplexDependencies:wo,ceilDependencies:{equalScalarDependencies:No,matrixDependencies:zo,roundDependencies:Do,typedDependencies:Eo,createCeil:zs},floorDependencies:{equalScalarDependencies:No,matrixDependencies:zo,roundDependencies:Do,typedDependencies:Eo,createFloor:Cs},matrixDependencies:zo,typedDependencies:Eo,createFix:As},formatDependencies:{typedDependencies:Eo,createFormat:fa},isNumericDependencies:{typedDependencies:Eo,createIsNumeric:ms},multiplyScalarDependencies:Io,numberDependencies:To,powDependencies:{ComplexDependencies:wo,fractionDependencies:Oo,identityDependencies:Uo,matrixDependencies:zo,multiplyDependencies:Bo,numberDependencies:To,typedDependencies:Eo,createPow:ya},roundDependencies:Do,subtractDependencies:Fo,createUnitClass:ka},Yo={createNode:Ua},Zo={UnitDependencies:$o,NodeDependencies:Yo,createSymbolNode:cn("SymbolNode",["math","?Unit","Node"],(t=>{var{math:e,Unit:r,Node:n}=t;function i(t){return !!r&&r.isValuelessUnit(t)}function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t;}return s.prototype=new n,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return e[n]};if(n in t)return function(e,r,i){return ta(n in e?e:t,n)};var s=i(n);return function(t,e,i){return n in t?ta(t,n):s?new r(null,n):function(t){throw new Error("Undefined symbol "+t)}(n)}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(t){return this.name},s.prototype.toHTML=function(t){var e=$r(this.name);return "true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},s.prototype.toJSON=function(){return {mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(t){return new s(t.name)},s.prototype._toTex=function(t){var r=!1;void 0===e[this.name]&&i(this.name)&&(r=!0);var n=oo(this.name,r);return "\\"===n[0]?n:" "+n},s}),{isClass:!0,isNode:!0})};({parseDependencies:{AccessorNodeDependencies:{NodeDependencies:Yo,subsetDependencies:Vo,createAccessorNode:Ha},ArrayNodeDependencies:{NodeDependencies:Yo,createArrayNode:Va},AssignmentNodeDependencies:{matrixDependencies:zo,NodeDependencies:Yo,subsetDependencies:Vo,createAssignmentNode:Za},BlockNodeDependencies:{NodeDependencies:Yo,ResultSetDependencies:{createResultSet:wn},createBlockNode:Xa},ConditionalNodeDependencies:{NodeDependencies:Yo,createConditionalNode:Qa},ConstantNodeDependencies:{NodeDependencies:Yo,createConstantNode:uo},FunctionAssignmentNodeDependencies:{NodeDependencies:Yo,typedDependencies:Eo,createFunctionAssignmentNode:ho},FunctionNodeDependencies:{NodeDependencies:Yo,SymbolNodeDependencies:Zo,createFunctionNode:cn("FunctionNode",["math","Node","SymbolNode"],(t=>{var{math:e,Node:r,SymbolNode:n}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new n(t)),!ir(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(ir))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});}i.prototype=new r,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(t,e){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var r=sn(this.args,(function(r){return r._compile(t,e)}));if(hr(this.fn)){var n=this.fn.name,s=n in t?ta(t,n):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(e,r,i){return (n in e?ta(e,n):s)(a,t,go({},e,r))}}if(1===r.length){var o=r[0];return function(t,e,r){return (n in t?ta(t,n):s)(o(t,e,r))}}if(2===r.length){var u=r[0],h=r[1];return function(t,e,r){return (n in t?ta(t,n):s)(u(t,e,r),h(t,e,r))}}return function(t,e,i){return (n in t?ta(t,n):s).apply(null,sn(r,(function(r){return r(t,e,i)})))}}if(Ze(this.fn)&&nr(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty(),p=this.args;return function(e,n,i){var s=c(e,n,i);return function(t,e){if(!na(t,e))throw new Error('No access to method "'+e+'"')}(s,l),s[l]&&s[l].rawArgs?s[l](p,t,go({},e,n)):s[l].apply(s,sn(r,(function(t){return t(e,n,i)})))}}var f=this.fn._compile(t,e),d=this.args;return function(e,n,i){var s=f(e,n,i);return s&&s.rawArgs?s(d,t,go({},e,n)):s.apply(s,sn(r,(function(t){return t(e,n,i)})))}},i.prototype.forEach=function(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this);},i.prototype.map=function(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new i(e,r)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(t,e,r){for(var n,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=s.exec(t));)if(i+=t.substring(a,n.index),a=n.index,"$$"===n[0])i+="$",a++;else {a+=n[0].length;var o=e[n[1]];if(!o)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof o){case"string":i+=o;break;case"object":if(ir(o))i+=o.toTex(r);else {if(!Array.isArray(o))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(t,e){if(ir(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",");}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else {if(!ir(o[n[2]]&&o[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");i+=o[n[2]].toTex(r);}}return i+=t.slice(a)}i.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&wr(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:s.call(this,t)},i.prototype._toString=function(t){var e=this.args.map((function(e){return e.toString(t)}));return (er(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},i.prototype.toJSON=function(){return {mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(t){return new i(t.fn,t.args)},i.prototype.toHTML=function(t){var e=this.args.map((function(e){return e.toHTML(t)}));return '<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(t){var e;return t&&"object"==typeof t.handler&&wr(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:o.call(this,t)},i.prototype._toTex=function(t){var r,n,i=this.args.map((function(e){return e.toTex(t)}));switch(io[this.name]&&(r=io[this.name]),!e[this.name]||"function"!=typeof e[this.name].toTex&&"object"!=typeof e[this.name].toTex&&"string"!=typeof e[this.name].toTex||(r=e[this.name].toTex),typeof r){case"function":n=r(this,t);break;case"string":n=a(r,this,t);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,t);break;case"string":n=a(r[i.length],this,t);}}return void 0!==n?n:a("\\mathrm{${name}}\\left(${args}\\right)",this,t)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:Yo,RangeDependencies:{createRangeClass:es},sizeDependencies:Lo,createIndexNode:co},ObjectNodeDependencies:{NodeDependencies:Yo,createObjectNode:lo},OperatorNodeDependencies:{NodeDependencies:Yo,createOperatorNode:po},ParenthesisNodeDependencies:{NodeDependencies:Yo,createParenthesisNode:fo},RangeNodeDependencies:{NodeDependencies:Yo,createRangeNode:mo},RelationalNodeDependencies:{NodeDependencies:Yo,createRelationalNode:yo},SymbolNodeDependencies:Zo,numericDependencies:qo,typedDependencies:Eo,createParse:cn("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:h,FunctionAssignmentNode:c,FunctionNode:l,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:y,RelationalNode:g,SymbolNode:v}=t,x=e("parse",{string:function(t){return P(t,{})},"Array | Matrix":function(t){return w(t,{})},"string, Object":function(t,e){return P(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":w});function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return is(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return P(t,r)}))}var b=0,_=1,M=2,E=3,N=4,S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},z=["NaN","Infinity"];function A(t,e){return t.expression.substr(t.index,e)}function C(t){return A(t,1)}function R(t){t.index++;}function D(t){return t.expression.charAt(t.index-1)}function k(t){return t.expression.charAt(t.index+1)}function I(t){for(t.tokenType=b,t.token="",t.comment="";x.isWhitespace(C(t),t.nestingLevel);)R(t);if("#"===C(t))for(;"\n"!==C(t)&&""!==C(t);)t.comment+=C(t),R(t);if(""!==C(t)){if("\n"===C(t)&&!t.nestingLevel)return t.tokenType=_,t.token=C(t),void R(t);var e=C(t),r=A(t,2),n=A(t,3);if(3===n.length&&S[n])return t.tokenType=_,t.token=n,R(t),R(t),void R(t);if(2===r.length&&S[r])return t.tokenType=_,t.token=r,R(t),void R(t);if(S[e])return t.tokenType=_,t.token=e,void R(t);if(x.isDigitDot(e)){t.tokenType=M;var i=A(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=C(t),R(t),t.token+=C(t),R(t);x.isHexDigit(C(t));)t.token+=C(t),R(t);return}if("."===C(t))t.token+=C(t),R(t),x.isDigit(C(t))||(t.tokenType=_);else {for(;x.isDigit(C(t));)t.token+=C(t),R(t);x.isDecimalMark(C(t),k(t))&&(t.token+=C(t),R(t));}for(;x.isDigit(C(t));)t.token+=C(t),R(t);if("E"===C(t)||"e"===C(t))if(x.isDigit(k(t))||"-"===k(t)||"+"===k(t)){if(t.token+=C(t),R(t),"+"!==C(t)&&"-"!==C(t)||(t.token+=C(t),R(t)),!x.isDigit(C(t)))throw at(t,'Digit expected, got "'+C(t)+'"');for(;x.isDigit(C(t));)t.token+=C(t),R(t);if(x.isDecimalMark(C(t),k(t)))throw at(t,'Digit expected, got "'+C(t)+'"')}else if("."===k(t))throw R(t),at(t,'Digit expected, got "'+C(t)+'"')}else {if(!x.isAlpha(C(t),D(t),k(t))){for(t.tokenType=N;""!==C(t);)t.token+=C(t),R(t);throw at(t,'Syntax error in part "'+t.token+'"')}for(;x.isAlpha(C(t),D(t),k(t))||x.isDigit(C(t));)t.token+=C(t),R(t);wr(T,t.token)?t.tokenType=_:t.tokenType=E;}}else t.tokenType=_;}function L(t){do{I(t);}while("\n"===t.token)}function B(t){t.nestingLevel++;}function F(t){t.nestingLevel--;}function P(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b,nestingLevel:0,conditionalLevel:null};vo(r,{expression:t,extraNodes:e}),I(r);var n=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=U(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),I(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=U(t)).comment=t.comment,r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new o(n):(e||((e=new h(void 0)).comment=t.comment),e)}(r);if(""!==r.token)throw r.tokenType===_?ot(r,"Unexpected operator "+r.token):at(r,'Unexpected part "'+r.token+'"');return n}function U(t){var e,r,n,i,s=function(t){var e=function(t){var e=j(t);for(;"or"===t.token;)L(t),e=new d("or","or",[e,j(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,L(t);var n=e,i=U(t);if(":"!==t.token)throw at(t,"False part of conditional expression expected");t.conditionalLevel=null,L(t);var s=U(t);e=new u(n,i,s),t.conditionalLevel=r;}return e}(t);if("="===t.token){if(hr(s))return e=s.name,L(t),n=U(t),new a(new v(e),n);if(Ze(s))return L(t),n=U(t),new a(s.object,s.index,n);if(rr(s)&&hr(s.fn)&&(i=!0,r=[],e=s.name,s.args.forEach((function(t,e){hr(t)?r[e]=t.name:i=!1;})),i))return L(t),n=U(t),new c(e,r,n);throw at(t,"Invalid left hand side of assignment operator =")}return s}function j(t){for(var e=q(t);"xor"===t.token;)L(t),e=new d("xor","xor",[e,q(t)]);return e}function q(t){for(var e=H(t);"and"===t.token;)L(t),e=new d("and","and",[e,H(t)]);return e}function H(t){for(var e=V(t);"|"===t.token;)L(t),e=new d("|","bitOr",[e,V(t)]);return e}function V(t){for(var e=$(t);"^|"===t.token;)L(t),e=new d("^|","bitXor",[e,$(t)]);return e}function $(t){for(var e=G(t);"&"===t.token;)L(t),e=new d("&","bitAnd",[e,G(t)]);return e}function G(t){for(var e=[W(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};wr(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),L(t),e.push(W(t));}return 1===e.length?e[0]:2===e.length?new d(r[0].name,r[0].fn,e):new g(r.map((t=>t.fn)),e)}function W(t){var e,r,n,i;e=Y(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};wr(s,t.token);)n=s[r=t.token],L(t),i=[e,Y(t)],e=new d(r,n,i);return e}function Y(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};wr(s,t.token);)n=s[r=t.token],L(t),"in"===r&&""===t.token?e=new d("*","multiply",[e,new v("in")],!0):(i=[e,Z(t)],e=new d(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new h(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)L(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new v("end")):r.push(X(t));e=3===r.length?new y(r[0],r[2],r[1]):new y(r[0],r[1]);}return e}function X(t){var e,r,n,i;e=Q(t);for(var s={"+":"add","-":"subtract"};wr(s,t.token);)n=s[r=t.token],L(t),i=[e,Q(t)],e=new d(r,n,i);return e}function Q(t){var e,r,n,i;r=e=J(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};wr(s,t.token);)i=s[n=t.token],L(t),r=J(t),e=new d(n,i,[e,r]);return e}function J(t){var e,r;for(r=e=K(t);t.tokenType===E||"in"===t.token&&tr(e)||!(t.tokenType!==M||tr(r)||ar(r)&&"!"!==r.op)||"("===t.token;)r=K(t),e=new d("*","multiply",[e,r],!0);return e}function K(t){for(var e=tt(t),r=e,n=[];"/"===t.token&&tr(r);){if(n.push(vo({},t)),L(t),t.tokenType!==M){vo(t,n.pop());break}if(n.push(vo({},t)),L(t),t.tokenType!==E&&"("!==t.token){n.pop(),vo(t,n.pop());break}vo(t,n.pop()),n.pop(),r=tt(t),e=new d("/","divide",[e,r]);}return e}function tt(t){var e,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return wr(o,t.token)?(a=o[t.token],e=t.token,L(t),i=[tt(t)],new d(e,a,i)):function(t){var e,i,a,o;e=function(t){var e,i,a;e=function(t){var e=[];if(t.tokenType===E&&wr(t.extraNodes,t.token)){var i=t.extraNodes[t.token];if(I(t),"("===t.token){if(e=[],B(t),I(t),")"!==t.token)for(e.push(U(t));","===t.token;)I(t),e.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t);}return new i(e)}return function(t){var e;if(t.tokenType===E||t.tokenType===_&&t.token in T)return e=t.token,I(t),et(t,wr(O,e)?new h(O[e]):-1!==z.indexOf(e)?new h(r(e,"number")):new v(e));return function(t){var e;if('"'===t.token)return e=rt(t),et(t,new h(e));return function(t){var e;if("'"===t.token)return e=nt(t),et(t,new h(e));return function(t){var e,i,a,o;if("["===t.token){if(B(t),I(t),"]"!==t.token){var u=it(t);if(";"===t.token){for(a=1,i=[u];";"===t.token;)I(t),i[a]=it(t),a++;if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),o=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==o)throw ot(t,"Column dimensions mismatch ("+i[c].items.length+" !== "+o+")");e=new s(i);}else {if("]"!==t.token)throw at(t,"End of matrix ] expected");F(t),I(t),e=u;}}else F(t),I(t),e=new s([]);return et(t,e)}return function(t){if("{"===t.token){var e;B(t);var i={};do{if(I(t),"}"!==t.token){if('"'===t.token)e=rt(t);else if("'"===t.token)e=nt(t);else {if(!(t.tokenType===E||t.tokenType===_&&t.token in T))throw at(t,"Symbol or string expected as object key");e=t.token,I(t);}if(":"!==t.token)throw at(t,"Colon : expected after object key");I(t),i[e]=U(t);}}while(","===t.token);if("}"!==t.token)throw at(t,"Comma , or bracket } expected after object value");F(t),I(t);var s=new f(i);return s=et(t,s)}return function(t){var e;if(t.tokenType===M)return e=t.token,I(t),new h(r(e,n.number));return function(t){var e;if("("===t.token){if(B(t),I(t),e=U(t),")"!==t.token)throw at(t,"Parenthesis ) expected");return F(t),I(t),e=et(t,e=new m(e))}return function(t){throw ""===t.token?at(t,"Unexpected end of expression"):at(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;wr(o,t.token);)a=o[i=t.token],I(t),e=et(t,e=new d(i,a,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(a="^"===(i=t.token)?"pow":"dotPow",L(t),o=[e,tt(t)],e=new d(i,a,o));return e}(t)}function et(t,e,r){for(var n;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(n=[],"("===t.token){if(!hr(e)&&!Ze(e))return e;if(B(t),I(t),")"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if(")"!==t.token)throw at(t,"Parenthesis ) expected");F(t),I(t),e=new l(e,n);}else if("["===t.token){if(B(t),I(t),"]"!==t.token)for(n.push(U(t));","===t.token;)I(t),n.push(U(t));if("]"!==t.token)throw at(t,"Parenthesis ] expected");F(t),I(t),e=new i(e,new p(n));}else {if(I(t),t.tokenType!==E)throw at(t,"Property name expected after dot");n.push(new h(t.token)),I(t);e=new i(e,new p(n,!0));}return e}function rt(t){for(var e="";""!==C(t)&&'"'!==C(t);)"\\"===C(t)&&(e+=C(t),R(t)),e+=C(t),R(t);if(I(t),'"'!==t.token)throw at(t,'End of string " expected');return I(t),JSON.parse('"'+e+'"')}function nt(t){for(var e="";""!==C(t)&&"'"!==C(t);)"\\"===C(t)&&(e+=C(t),R(t)),e+=C(t),R(t);if(I(t),"'"!==t.token)throw at(t,"End of string ' expected");return I(t),JSON.parse('"'+e+'"')}function it(t){for(var e=[U(t)],r=1;","===t.token;)I(t),e[r]=U(t),r++;return new s(e)}function st(t){return t.index-t.token.length+1}function at(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function ot(t,e){var r=st(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return x.isAlpha=function(t,e,r){return x.isValidLatinOrGreek(t)||x.isValidMathSymbol(t,r)||x.isValidMathSymbol(e,t)},x.isValidLatinOrGreek=function(t){return /^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},x.isValidMathSymbol=function(t,e){return /^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},x.isWhitespace=function(t,e){return " "===t||"\t"===t||"\n"===t&&e>0},x.isDecimalMark=function(t,e){return "."===t&&"/"!==e&&"*"!==e&&"^"!==e},x.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},x.isDigit=function(t){return t>="0"&&t<="9"},x.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},x}))},typedDependencies:Eo,createEvaluate:cn("evaluate",["typed","parse"],(t=>{var{typed:e,parse:r}=t;return e("evaluate",{string:function(t){return r(t).compile().evaluate({})},"string, Object":function(t,e){return r(t).compile().evaluate(e)},"Array | Matrix":function(t){var e={};return is(t,(function(t){return r(t).compile().evaluate(e)}))},"Array | Matrix, Object":function(t,e){return is(t,(function(t){return r(t).compile().evaluate(e)}))}})}))});({divideScalarDependencies:Ho,equalScalarDependencies:No,invDependencies:{absDependencies:Co,addScalarDependencies:Ro,detDependencies:{lupDependencies:{DenseMatrixDependencies:_o,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Po,smallerDependencies:{DenseMatrixDependencies:_o,matrixDependencies:zo,typedDependencies:Eo,createSmaller:Ea},createFibonacciHeapClass:Sa},addScalarDependencies:Ro,equalScalarDependencies:No,createSpaClass:Ta},SparseMatrixDependencies:So,absDependencies:Co,addScalarDependencies:Ro,divideScalarDependencies:Ho,equalScalarDependencies:No,largerDependencies:Po,matrixDependencies:zo,multiplyScalarDependencies:Io,subtractDependencies:Fo,typedDependencies:Eo,unaryMinusDependencies:Ao,createLup:cn("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:h,unaryMinus:c,DenseMatrix:l,SparseMatrix:p,Spa:f}=t;return e("lup",{DenseMatrix:function(t){return d(t)},SparseMatrix:function(t){return function(t){var e,r,i,o=t._size[0],l=t._size[1],d=Math.min(o,l),m=t._values,y=t._index,g=t._ptr,v=[],x=[],w=[],b=[o,d],_=[],M=[],E=[],N=[d,l],S=[],T=[];for(e=0;e<o;e++)S[e]=e,T[e]=e;var O=function(t,e){var r=T[t],n=T[e];S[r]=e,S[n]=t,T[t]=n,T[e]=r;},z=function(){var t=new f;r<o&&(w.push(v.length),v.push(1),x.push(r)),E.push(_.length);var l=g[r],d=g[r+1];for(i=l;i<d;i++)e=y[i],t.set(S[e],m[i]);r>0&&t.forEach(0,r-1,(function(e,r){p._forEachRow(e,v,x,w,(function(n,i){n>e&&t.accumulate(n,c(a(i,r)));}));}));var T=r,z=t.get(r),A=n(z);t.forEach(r+1,o-1,(function(t,e){var r=n(e);u(r,A)&&(T=t,A=r,z=e);})),r!==T&&(p._swapRows(r,T,b[1],v,x,w),p._swapRows(r,T,N[1],_,M,E),t.swap(r,T),O(r,T)),t.forEach(0,o-1,(function(t,e){t<=r?(_.push(e),M.push(t)):(e=s(e,z),h(e,0)||(v.push(e),x.push(t)));}));};for(r=0;r<l;r++)z();return E.push(_.length),w.push(v.length),{L:new p({values:v,index:x,ptr:w,size:b}),U:new p({values:_,index:M,ptr:E,size:N}),p:S,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(t)},Array:function(t){var e=d(r(t));return {L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function d(t){var e,r,c,p=t._size[0],f=t._size[1],d=Math.min(p,f),m=pr(t._data),y=[],g=[p,d],v=[],x=[d,f],w=[];for(e=0;e<p;e++)w[e]=e;for(r=0;r<f;r++){if(r>0)for(e=0;e<p;e++){var b=Math.min(e,r),_=0;for(c=0;c<b;c++)_=i(_,a(m[e][c],m[c][r]));m[e][r]=o(m[e][r],_);}var M=r,E=0,N=0;for(e=r;e<p;e++){var S=m[e][r],T=n(S);u(T,E)&&(M=e,E=T,N=S);}if(r!==M&&(w[r]=[w[M],w[M]=w[r]][0],l._swapRows(r,M,m)),r<p)for(e=r+1;e<p;e++){var O=m[e][r];h(O,0)||(m[e][r]=s(m[e][r],N));}}for(r=0;r<f;r++)for(e=0;e<p;e++)0===r&&(e<f&&(v[e]=[]),y[e]=[]),e<r?(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=0)):e!==r?(e<f&&(v[e][r]=0),r<p&&(y[e][r]=m[e][r])):(e<f&&(v[e][r]=m[e][r]),r<p&&(y[e][r]=1));var z=new l({data:y,size:g}),A=new l({data:v,size:x}),C=[];for(e=0,d=w.length;e<d;e++)C[w[e]]=e;return {L:z,U:A,p:C,toString:function(){return "L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:zo,multiplyDependencies:Bo,subtractDependencies:Fo,typedDependencies:Eo,unaryMinusDependencies:Ao,createDet:cn("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(t=>{var{typed:e,matrix:r,subtract:n,multiply:i,unaryMinus:s,lup:a}=t;return e("det",{any:function(t){return pr(t)},"Array | Matrix":function(t){var e;switch((e=ke(t)?t.size():Array.isArray(t)?(t=r(t)).size():[]).length){case 0:return pr(t);case 1:if(1===e[0])return pr(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");case 2:var o=e[0];if(o===e[1])return function(t,e,r){if(1===e)return pr(t[0][0]);if(2===e)return n(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var o=a(t),u=o.U[0][0],h=1;h<e;h++)u=i(u,o.U[h][h]);for(var c=0,l=0,p=[];;){for(;p[l];)l++;if(l>=e)break;for(var f=l,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&c++;}return c%2==0?u:s(u)}(t.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Hr(e)+")")}}})}))},divideScalarDependencies:Ho,identityDependencies:Uo,matrixDependencies:zo,multiplyDependencies:Bo,typedDependencies:Eo,unaryMinusDependencies:Ao,createInv:cn("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:h}=t;return e("inv",{"Array | Matrix":function(t){var e=ke(t)?t.size():Zr(t);switch(e.length){case 1:if(1===e[0])return ke(t)?r([n(1,t.valueOf()[0])]):[n(1,t[0])];throw new RangeError("Matrix must be square (size: "+Hr(e)+")");case 2:var i=e[0],s=e[1];if(i===s)return ke(t)?r(c(t.valueOf(),i,s),t.storage()):c(t,i,s);throw new RangeError("Matrix must be square (size: "+Hr(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Hr(e)+")")}},any:function(t){return n(1,t)}});function c(t,e,r){var c,l,p,f,d;if(1===e){if(0===(f=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return [[n(1,f)]]}if(2===e){var m=o(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return [[n(t[1][1],m),n(a(t[0][1]),m)],[n(a(t[1][0]),m),n(t[0][0],m)]]}var y=t.concat();for(c=0;c<e;c++)y[c]=y[c].concat();for(var g=u(e).valueOf(),v=0;v<r;v++){var x=h(y[v][v]),w=v;for(c=v+1;c<e;)h(y[c][v])>x&&(x=h(y[c][v]),w=c),c++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==v&&(d=y[v],y[v]=y[c],y[c]=d,d=g[v],g[v]=g[c],g[c]=d);var b=y[v],_=g[v];for(c=0;c<e;c++){var M=y[c],E=g[c];if(c!==v){if(0!==M[v]){for(p=n(a(M[v]),b[v]),l=v;l<r;l++)M[l]=i(M[l],s(p,b[l]));for(l=0;l<r;l++)E[l]=i(E[l],s(p,_[l]));}}else {for(p=b[v],l=v;l<r;l++)M[l]=n(M[l],p);for(l=0;l<r;l++)E[l]=n(E[l],p);}}}return g}}))},matrixDependencies:zo,multiplyDependencies:Bo,typedDependencies:Eo,createDivide:cn("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=Ts({typed:e,equalScalar:i}),u=Os({typed:e});return e("divide",dr({"Array | Matrix, Array | Matrix":function(t,e){return n(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,s,!1)},"SparseMatrix, any":function(t,e){return o(t,e,s,!1)},"Array, any":function(t,e){return u(r(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return n(t,a(e))}},s.signatures))}))});var Jo={exports:{}};function Ko(){}Ko.prototype={on:function(t,e,r){var n=this.e||(this.e={});return (n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments);}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,a=n.length;s<a;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},Jo.exports=Ko,Jo.exports.TinyEmitter=Ko;new a;function ou(t,e,r,n=0){n++;for(let i=t.firstChild;i;i=i.nextSibling)if(i.nodeType===Node.ELEMENT_NODE){const t=i;e.call(r,t,n)&&ou(t,e,r,n);}}function uu(t,e,r,n){"insertRule"in t?t.insertRule(e+"{"+r+"}",n):"addRule"in t&&t.addRule(e,r,n);}!function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===i.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=e<t.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");t=t.subarray(e),s=e=0;}if(0==(128&(a=t[e++])))n[s++]=a;else if(192==(224&a)){var o=63&t[e++];n[s++]=(31&a)<<6|o;}else if(224==(240&a)){o=63&t[e++];var u=63&t[e++];n[s++]=(31&a)<<12|o<<6|u;}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a;}}}if(t.TextEncoder&&t.TextDecoder)return !1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);e<r;){var a=t.charCodeAt(e++);if(55296<=a&&56319>=a){if(e<r){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,a=((1023&a)<<10)+(1023&o)+65536);}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else {if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else {if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128;}s[n++]=63&a|128;}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(i){return n(t)}finally{URL.revokeObjectURL(e);}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),s(t)},t.TextEncoder=e,t.TextDecoder=r;}("undefined"!=typeof window?window:Sr);class hu{constructor(){this.left=0,this.top=0,this.width=0,this.height=0;}copy(t){return this.top=t.top,this.left=t.left,this.width=t.width,this.height=t.height,this}}class cu{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0;}copy(t){return this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this}}function lu(t,e=new hu,r){const n=t.ownerDocument,i=n.documentElement,s=n.body;if(t===i)return function(t,e){const r=t.documentElement,n=t.body,i=getComputedStyle(r),s=getComputedStyle(n);return e.top=n.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,e.left=n.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,e.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),e.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),e}(n,e);if(r===t)return e.left=0,e.top=0,e.width=t.offsetWidth,void(e.height=t.offsetHeight);const a=t.ownerDocument.defaultView;let o,u=t,h=u.offsetParent,c=a.getComputedStyle(u,null),l=u.offsetTop,p=u.offsetLeft;for(h&&r&&h.contains(r)&&h!==r&&(lu(r,e,h),p-=e.left,l-=e.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==r&&"fixed"!==c.position;)o=a.getComputedStyle(u,null),l-=u.scrollTop,p-=u.scrollLeft,u===h&&(l+=u.offsetTop,p+=u.offsetLeft,l+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,h=u.offsetParent),c=o;return "fixed"===c.position&&(l+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),e.left=p,e.top=l,e.width=t.offsetWidth,e.height=t.offsetHeight,e}const pu=document.createElement("div");function fu(t){const e=document.createElement("div");e.innerHTML=t;const r=e.firstElementChild;return e.removeChild(r),r}pu.id="VIEWPORT",pu.style.position="fixed",pu.style.width="100vw",pu.style.height="100vh",pu.style.visibility="hidden",pu.style.pointerEvents="none";var du={};!function(t){const e=Symbol("newer"),r=Symbol("older");function n(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size));}function i(t,n){this.key=t,this.value=n,this[e]=void 0,this[r]=void 0;}function s(t){this.entry=t;}function a(t){this.entry=t;}function o(t){this.entry=t;}t.LRUMap=n,n.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][r]=t[r]),t[r]&&(t[r][e]=t[e]),t[e]=void 0,t[r]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t);},n.prototype.assign=function(t){let n,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let o=a.next();!o.done;o=a.next()){let t=new i(o.value[0],o.value[1]);if(this._keymap.set(t.key,t),n?(n[e]=t,t[r]=n):this.oldest=t,n=t,0==s--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size;},n.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},n.prototype.set=function(t,n){var s=this._keymap.get(t);return s?(s.value=n,this._markEntryAsUsed(s),this):(this._keymap.set(t,s=new i(t,n)),this.newest?(this.newest[e]=s,s[r]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},n.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},n.prototype.has=function(t){return this._keymap.has(t)},n.prototype.delete=function(t){var n=this._keymap.get(t);if(n)return this._keymap.delete(n.key),n[e]&&n[r]?(n[r][e]=n[e],n[e][r]=n[r]):n[e]?(n[e][r]=void 0,this.oldest=n[e]):n[r]?(n[r][e]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear();},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new a(this.oldest)},n.prototype.values=function(){return new o(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new s(this.oldest)},n.prototype.forEach=function(t,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)t.call(r,n.value,n.key,this),n=n[e];},n.prototype.toJSON=function(){for(var t=new Array(this.size),r=0,n=this.oldest;n;)t[r++]={key:n.key,value:n.value},n=n[e];return t},n.prototype.toString=function(){for(var t="",r=this.oldest;r;)t+=String(r.key)+":"+r.value,(r=r[e])&&(t+=" < ");return t};}(du);var mu={exports:{}};!function(t){!function(e,r){var n={};!function(t){t.__esModule=!0,t.digestLength=32,t.blockSize=64;var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(t,r,n,i,s){for(var a,o,u,h,c,l,p,f,d,m,y,g,v;s>=64;){for(a=r[0],o=r[1],u=r[2],h=r[3],c=r[4],l=r[5],p=r[6],f=r[7],m=0;m<16;m++)y=i+4*m,t[m]=(255&n[y])<<24|(255&n[y+1])<<16|(255&n[y+2])<<8|255&n[y+3];for(m=16;m<64;m++)g=((d=t[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,v=((d=t[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,t[m]=(g+t[m-7]|0)+(v+t[m-16]|0);for(m=0;m<64;m++)g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&p)|0)+(f+(e[m]+t[m]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=l,l=c,c=h+g|0,h=u,u=o,o=a,a=g+v|0;r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=h,r[4]+=c,r[5]+=l,r[6]+=p,r[7]+=f,i+=64,s-=64;}return i}var n=function(){function e(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset();}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset();},e.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[n++],e--;64===this.bufferLength&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0);}for(e>=64&&(n=r(this.temp,this.state,t,n,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[n++],e--;return this},e.prototype.finish=function(t){if(!this.finished){var e=this.bytesHashed,n=this.bufferLength,i=e/536870912|0,s=e<<3,a=e%64<56?64:128;this.buffer[n]=128;for(var o=n+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,r(this.temp,this.state,this.buffer,0,a),this.finished=!0;}for(o=0;o<8;o++)t[4*o+0]=this.state[o]>>>24&255,t[4*o+1]=this.state[o]>>>16&255,t[4*o+2]=this.state[o]>>>8&255,t[4*o+3]=this.state[o]>>>0&255;return this},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e];},e.prototype._restoreState=function(t,e){for(var r=0;r<this.state.length;r++)this.state[r]=t[r];this.bytesHashed=e,this.finished=!1,this.bufferLength=0;},e}();t.Hash=n;var i=function(){function t(t){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new n).update(t).finish(e).clean();else for(var r=0;r<t.length;r++)e[r]=t[r];for(r=0;r<e.length;r++)e[r]^=54;this.inner.update(e);for(r=0;r<e.length;r++)e[r]^=106;this.outer.update(e),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(r=0;r<e.length;r++)e[r]=0;}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean();},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();function s(t){var e=(new n).update(t),r=e.digest();return e.clean(),r}function a(t,e){var r=new i(t).update(e),n=r.digest();return r.clean(),n}function o(t,e,r,n){var i=n[0];if(0===i)throw new Error("hkdf: cannot expand more");e.reset(),i>1&&e.update(t),r&&e.update(r),e.update(n),e.finish(t),n[0]++;}t.HMAC=i,t.hash=s,t.default=s,t.hmac=a;var u=new Uint8Array(t.digestLength);function h(t,e,r,n){void 0===e&&(e=u),void 0===n&&(n=32);for(var s=new Uint8Array([1]),h=a(e,t),c=new i(h),l=new Uint8Array(c.digestLength),p=l.length,f=new Uint8Array(n),d=0;d<n;d++)p===l.length&&(o(l,c,r,s),p=0),f[d]=l[p++];return c.clean(),l.fill(0),s.fill(0),f}function c(t,e,r,n){for(var s=new i(t),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),h=new Uint8Array(a),c=new Uint8Array(n),l=0;l*a<n;l++){var p=l+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(e),s.update(o),s.finish(h);for(var f=0;f<a;f++)u[f]=h[f];for(f=2;f<=r;f++){s.reset(),s.update(h).finish(h);for(var d=0;d<a;d++)u[d]^=h[d];}for(f=0;f<a&&l*a+f<n;f++)c[l*a+f]=u[f];}for(l=0;l<a;l++)u[l]=h[l]=0;for(l=0;l<4;l++)o[l]=0;return s.clean(),c}t.hkdf=h,t.pbkdf2=c;}(n);var i=n.default;for(var s in n)i[s]=n[s];t.exports=i;}();}(mu);const yu=class{constructor(t,e){this.element=t,this.eventCallback=e,this.needsRefresh=!0,this.needsRemoval=!1,this.psuedoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new hu,this.padding=new cu,this.margin=new cu,this.border=new cu,this.childLayers=[],this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgDocument="",this._rasterizingDocument="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),ch.layers.set(t,this),this.id=t.getAttribute(ch.ELEMENT_UID_ATTRIBUTE)||ch.generateElementUID(),t.setAttribute(ch.ELEMENT_UID_ATTRIBUTE,this.id),t.setAttribute(ch.LAYER_ATTRIBUTE,""),this.parentLayer=ch.getClosestLayer(this.element.parentElement),this.eventCallback("layercreated",{target:t}),yu.cachedCanvases.limit=ch.layers.size*yu.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20;}set canvas(t){this._canvas!==t&&(this._canvas=t,this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}));}get canvas(){return this._canvas}get depth(){let t=0,e=this;for(;e.parentLayer;)e=e.parentLayer,t++;return t}get rootLayer(){let t=this;for(;t.parentLayer;)t=t.parentLayer;return t}traverseParentLayers(t){const e=this.parentLayer;e&&(e.traverseParentLayers(t),t(e));}traverseLayers(t){t(this),this.traverseChildLayers(t);}traverseChildLayers(t){for(const e of this.childLayers)e.traverseLayers(t);}refresh(){lu(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),this.needsRefresh=!1,this._updateParentAndChildLayers(),ch.addToSerializeQueue(this);}_updateParentAndChildLayers(){const t=this.element,e=this.childLayers,r=e.slice(),n=this.parentLayer;this.parentLayer=ch.getClosestLayer(this.element.parentElement),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:t})),e.length=0,ou(t,this._tryConvertElementToWebLayer,this);for(const i of r){ch.getClosestLayer(i.element.parentElement)||(i.needsRemoval=!0,e.push(i));}}_tryConvertElementToWebLayer(t){if(this.needsRemoval)return !1;const e=t,r=getComputedStyle(e);e.getAttribute(ch.ELEMENT_UID_ATTRIBUTE)||e.setAttribute(ch.ELEMENT_UID_ATTRIBUTE,ch.generateElementUID());if(e.hasAttribute(ch.LAYER_ATTRIBUTE)||"VIDEO"===e.nodeName||"none"!==r.transform){let t=ch.layers.get(e);return t||(t=new yu(e,this.eventCallback)),this.childLayers.push(t),!1}return !0}async serialize(){if("VIDEO"===this.element.nodeName)return;let{width:t,height:e}=this.bounds;if(t*e>0){!function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.paddingLeft)||0,e.right=parseFloat(r.paddingRight)||0,e.top=parseFloat(r.paddingTop)||0,e.bottom=parseFloat(r.paddingBottom)||0;}(this.element,this.padding),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.marginLeft)||0,e.right=parseFloat(r.marginRight)||0,e.top=parseFloat(r.marginTop)||0,e.bottom=parseFloat(r.marginBottom)||0;}(this.element,this.margin),function(t,e){let r=getComputedStyle(t);e.left=parseFloat(r.borderLeftWidth)||0,e.right=parseFloat(r.borderRightWidth)||0,e.top=parseFloat(r.borderTopWidth)||0,e.bottom=parseFloat(r.borderBottomWidth)||0;}(this.element,this.border),t+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),e+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0);const r=ch.attributeHTML(ch.ELEMENT_UID_ATTRIBUTE,""+this.id),n=this.element,i="inline"===getComputedStyle(n).display;ch.updateInputAttributes(n);const s=ch.serializer.serializeToString(n).replace(r,`${r} ${ch.RENDERING_ATTRIBUTE}="" ${i?`${ch.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+ch.getPsuedoAttributes(this.psuedoStates)),a=this._getParentsHTML(n);a[0]=a[0].replace("html","html "+ch.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const[o]=await Promise.all([ch.getEmbeddedCSS(this.element),ch.embedExternalResources(this.element)]),u='<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[a[href]{color:#0000EE;text-decoration:underline;}'+o.join("")+']]></style></defs><foreignObject x="0" y="0" width="'+t+'" height="'+e+'">'+a[0]+s+a[1]+"</foreignObject></svg>",h=this._svgDocument=u,c=yu.canvasHashes.get(h);if(c&&yu.cachedCanvases.has(c))return void(this.canvas=yu.cachedCanvases.get(c));this.cachedBounds.set(h,(new hu).copy(this.bounds)),this.cachedMargin.set(h,(new cu).copy(this.margin)),ch.addToRasterizeQueue(this);}}async rasterize(){return new Promise((t=>{this.svgImage.onload=()=>{ch.addToRenderQueue(this),t();},this._rasterizingDocument=this._svgDocument,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument),this.svgImage.complete&&this.svgImage.currentSrc===this.svgImage.src&&(ch.addToRenderQueue(this),this.svgImage.onload=null,t());}))}render(){const t=this._rasterizingDocument;if(!this.cachedBounds.has(t)||!this.cachedMargin.has(t))return void(this.needsRefresh=!0);if(!this.svgImage.complete)return void ch.addToRenderQueue(this);let{width:e,height:r}=this.cachedBounds.get(t),{left:n,top:i}=this.cachedMargin.get(t);const s=this._hashingCanvas;let a=s.width,o=s.height;const u=s.getContext("2d");u.clearRect(0,0,a,o),u.imageSmoothingEnabled=!1,u.drawImage(this.svgImage,n,i,e,r,0,0,a,o);const h=u.getImageData(0,0,a,o).data,c=ch.arrayBufferToBase64(mu.exports.hash(new Uint8Array(h)))+"?w="+e+";h="+r;yu.canvasHashes.set(t,c);const l=yu.blankRetryCounts.get(t)||0;if(ch.isBlankImage(h)&&l<10)return yu.blankRetryCounts.set(t,l+1),void setTimeout((()=>ch.addToRenderQueue(this)),500);if(yu.cachedCanvases.has(c))return void(this.canvas=yu.cachedCanvases.get(c));const p=this.pixelRatio||parseFloat(this.element.getAttribute(ch.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,f=yu.cachedCanvases.size===yu.cachedCanvases.limit?yu.cachedCanvases.shift()[1]:document.createElement("canvas");let d=f.width=e*p,m=f.height=r*p;const y=f.getContext("2d");y.imageSmoothingEnabled=!1,y.clearRect(0,0,d,m),y.drawImage(this.svgImage,n,i,e,r,0,0,d,m),yu.cachedCanvases.set(c,f),this.canvas=f;}_getParentsHTML(t){const e=[],r=[];let n=t.parentElement;n||(n=document.documentElement);do{let t=n.tagName.toLowerCase(),i=" ";for(const e of n.attributes)"style"!==e.name&&(i+=`${e.name}="${e.value}" `);const s="<"+t+("html"===t?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px" `:"")+i+`${ch.RENDERING_PARENT_ATTRIBUTE}=""  >`;e.unshift(s);const a="</"+t+">";if(r.push(a),"html"==t)break}while(n=n.parentElement);return [e.join(""),r.join("")]}};let gu=yu;gu.DEFAULT_CACHE_SIZE=4,gu.blankRetryCounts=new Map,gu.canvasHashes=new du.LRUMap(1e3),gu.cachedCanvases=new du.LRUMap(yu.DEFAULT_CACHE_SIZE);var vu,xu,wu=[],bu="ResizeObserver loop completed with undelivered notifications.";(xu=vu||(vu={})).BORDER_BOX="border-box",xu.CONTENT_BOX="content-box",xu.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var _u,Mu=function(t){return Object.freeze(t)},Eu=function(t,e){this.inlineSize=t,this.blockSize=e,Mu(this);},Nu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Mu(this)}return t.prototype.toJSON=function(){var t=this;return {x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Su=function(t){return t instanceof SVGElement&&"getBBox"in t},Tu=function(t){if(Su(t)){var e=t.getBBox(),r=e.width,n=e.height;return !r&&!n}var i=t,s=i.offsetWidth,a=i.offsetHeight;return !(s||a||t.getClientRects().length)},Ou=function(t){var e,r;if(t instanceof Element)return !0;var n=null===(r=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.defaultView;return !!(n&&t instanceof n.Element)},zu="undefined"!=typeof window?window:{},Au=new WeakMap,Cu=/auto|scroll/,Ru=/^tb|vertical/,Du=/msie|trident/i.test(zu.navigator&&zu.navigator.userAgent),ku=function(t){return parseFloat(t||"0")},Iu=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new Eu((r?e:t)||0,(r?t:e)||0)},Lu=Mu({devicePixelContentBoxSize:Iu(),borderBoxSize:Iu(),contentBoxSize:Iu(),contentRect:new Nu(0,0,0,0)}),Bu=function(t,e){if(void 0===e&&(e=!1),Au.has(t)&&!e)return Au.get(t);if(Tu(t))return Au.set(t,Lu),Lu;var r=getComputedStyle(t),n=Su(t)&&t.ownerSVGElement&&t.getBBox(),i=!Du&&"border-box"===r.boxSizing,s=Ru.test(r.writingMode||""),a=!n&&Cu.test(r.overflowY||""),o=!n&&Cu.test(r.overflowX||""),u=n?0:ku(r.paddingTop),h=n?0:ku(r.paddingRight),c=n?0:ku(r.paddingBottom),l=n?0:ku(r.paddingLeft),p=n?0:ku(r.borderTopWidth),f=n?0:ku(r.borderRightWidth),d=n?0:ku(r.borderBottomWidth),m=l+h,y=u+c,g=(n?0:ku(r.borderLeftWidth))+f,v=p+d,x=o?t.offsetHeight-v-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,b=i?m+g:0,_=i?y+v:0,M=n?n.width:ku(r.width)-b-w,E=n?n.height:ku(r.height)-_-x,N=M+m+w+g,S=E+y+x+v,T=Mu({devicePixelContentBoxSize:Iu(Math.round(M*devicePixelRatio),Math.round(E*devicePixelRatio),s),borderBoxSize:Iu(N,S,s),contentBoxSize:Iu(M,E,s),contentRect:new Nu(l,u,M,E)});return Au.set(t,T),T},Fu=function(t,e,r){var n=Bu(t,r),i=n.borderBoxSize,s=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case vu.DEVICE_PIXEL_CONTENT_BOX:return a;case vu.BORDER_BOX:return i;default:return s}},Pu=function(t){var e=Bu(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=Mu([e.borderBoxSize]),this.contentBoxSize=Mu([e.contentBoxSize]),this.devicePixelContentBoxSize=Mu([e.devicePixelContentBoxSize]);},Uu=function(t){if(Tu(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},ju=function(){var t=1/0,e=[];wu.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(e){var r=new Pu(e.target),i=Uu(e.target);n.push(r),e.lastReportedSize=Fu(e.target,e.observedBox),i<t&&(t=i);})),e.push((function(){r.callback.call(r.observer,n,r.observer);})),r.activeTargets.splice(0,r.activeTargets.length);}}));for(var r=0,n=e;r<n.length;r++){(0, n[r])();}return t},qu=function(t){wu.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(r){r.isActive()&&(Uu(r.target)>t?e.activeTargets.push(r):e.skippedTargets.push(r));}));}));},Hu=function(){var t,e=0;for(qu(e);wu.some((function(t){return t.activeTargets.length>0}));)e=ju(),qu(e);return wu.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:bu}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=bu),window.dispatchEvent(t)),e>0},Vu=[],$u=function(t){if(!_u){var e=0,r=document.createTextNode("");new MutationObserver((function(){return Vu.splice(0).forEach((function(t){return t()}))})).observe(r,{characterData:!0}),_u=function(){r.textContent=""+(e?e--:e++);};}Vu.push(t),_u();},Gu=0,Wu={attributes:!0,characterData:!0,childList:!0,subtree:!0},Yu=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Zu=function(t){return void 0===t&&(t=0),Date.now()+t},Xu=!1,Qu=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()};}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!Xu){Xu=!0;var r,n=Zu(t);r=function(){var r=!1;try{r=Hu();}finally{if(Xu=!1,t=n-Zu(),!Gu)return;r?e.run(1e3):t>0?e.run(t):e.start();}},$u((function(){requestAnimationFrame(r);}));}},t.prototype.schedule=function(){this.stop(),this.run();},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Wu)};document.body?e():zu.addEventListener("DOMContentLoaded",e);},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Yu.forEach((function(e){return zu.addEventListener(e,t.listener,!0)})));},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Yu.forEach((function(e){return zu.removeEventListener(e,t.listener,!0)})),this.stopped=!0);},t}()),Ju=function(t){!Gu&&t>0&&Qu.start(),!(Gu+=t)&&Qu.stop();},Ku=function(){function t(t,e){this.target=t,this.observedBox=e||vu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0};}return t.prototype.isActive=function(){var t,e=Fu(this.target,this.observedBox,!0);return t=this.target,Su(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return !0}return !1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),th=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e;},eh=new WeakMap,rh=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return -1},nh=function(){function t(){}return t.connect=function(t,e){var r=new th(t,e);eh.set(t,r);},t.observe=function(t,e,r){var n=eh.get(t),i=0===n.observationTargets.length;rh(n.observationTargets,e)<0&&(i&&wu.push(n),n.observationTargets.push(new Ku(e,r&&r.box)),Ju(1),Qu.schedule());},t.unobserve=function(t,e){var r=eh.get(t),n=rh(r.observationTargets,e),i=1===r.observationTargets.length;n>=0&&(i&&wu.splice(wu.indexOf(r),1),r.observationTargets.splice(n,1),Ju(-1));},t.disconnect=function(t){var e=this,r=eh.get(t);r.observationTargets.slice().forEach((function(r){return e.unobserve(t,r.target)})),r.activeTargets.splice(0,r.activeTargets.length);},t}(),ih=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");nh.connect(this,t);}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ou(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");nh.observe(this,t,e);},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ou(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");nh.unobserve(this,t);},t.prototype.disconnect=function(){nh.disconnect(this);},t.toString=function(){return "function ResizeObserver () { [polyfill code] }"},t}();const sh=self.ResizeObserver||ih;const ah=new c,oh=new c,uh=new TextDecoder,hh=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return ""+this._nextUID++}static getPsuedoAttributes(t){return `${t.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${t.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${t.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${t.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(t){const e=t.ownerDocument,r=t.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;const i=e.createElement("style");n.append(i);const s=i.sheet;let a=0;if(uu(s,`[${hh.RENDERING_DOCUMENT_ATTRIBUTE}] *`,"transform: none !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}], [${hh.RENDERING_ATTRIBUTE}] *`,"visibility: visible !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}] [${hh.LAYER_ATTRIBUTE}], [${hh.RENDERING_ATTRIBUTE}] [${hh.LAYER_ATTRIBUTE}] *`,"visibility: hidden !important;",a++),uu(s,`[${hh.RENDERING_ATTRIBUTE}]`,"position: relative; top: 0 !important; left: 0 !important; float: none; box-sizing:border-box; min-width:var(--x-width); min-height:var(--x-height); display:block !important;",a++),uu(s,`[${hh.RENDERING_INLINE_ATTRIBUTE}]`,"top: var(--x-inline-top) !important; width:auto !important",a++),uu(s,`[${hh.RENDERING_PARENT_ATTRIBUTE}]`,"transform: none !important; left: 0 !important; top: 0 !important; margin: 0 !important; border:0 !important; border-radius:0 !important; height:100% !important; padding:0 !important; position:static !important; display:block !important; background: rgba(0,0,0,0) none !important; box-shadow:none !important",a++),uu(s,`[${hh.RENDERING_PARENT_ATTRIBUTE}]::before, [${hh.RENDERING_PARENT_ATTRIBUTE}]::after`,"content:none !important; box-shadow:none !important;",a++),r===e){let t="";const e=()=>{if(t!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash);}catch{}t=window.location.hash;};window.addEventListener("hashchange",e,!1),e(),window.addEventListener("focusin",(t=>{this.focusElement=t.target;}),!1),window.addEventListener("focusout",(t=>{this.focusElement=null;}),!1),window.addEventListener("load",(t=>{o();}));}const o=()=>{for(const[t,e]of this.layers)e.needsRefresh=!0;},u=t=>{var e=t.nodeName.toUpperCase();-1!==h.indexOf(e)&&t.addEventListener("load",o);},h=["STYLE","LINK"],c=new MutationObserver((t=>{var r;for(const n of t){-1!==h.indexOf(n.target.nodeName.toUpperCase())&&(o(),null==(r=this.embeddedCSS.get(e))||r.delete(n.target));for(const t of n.addedNodes)u(t);}}));c.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,c);}static addToSerializeQueue(t){-1===this.serializeQueue.indexOf(t)&&this.serializeQueue.push(t);}static addToRasterizeQueue(t){-1===this.rasterizeQueue.indexOf(t)&&this.rasterizeQueue.push(t);}static addToRenderQueue(t){-1===this.renderQueue.indexOf(t)&&this.renderQueue.push(t);}static _runTasks(){hh.tasksPending=!1;const t=hh.serializeQueue,e=hh.rasterizeQueue,r=hh.renderQueue,n=hh.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;r.length&&performance.now()-i<n;)r.shift().render();for(i=performance.now();t.length&&performance.now()-i<n;)t.shift().serialize();e.length&&hh.rasterizeTaskCount<hh.TASK_ASYNC_MAX_COUNT&&(hh.rasterizeTaskCount++,e.shift().rasterize().then((()=>{hh.rasterizeTaskCount--;})));}static scheduleTasksIfNeeded(){this.tasksPending||0===hh.serializeQueue.length&&0===hh.renderQueue.length&&(0===hh.rasterizeQueue.length||hh.rasterizeTaskCount===hh.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,hh.scheduleIdle(hh._runTasks));}static scheduleIdle(t){setTimeout(t,1);}static setLayerNeedsRefresh(t){t.needsRefresh=!0;}static createLayerTree(t,e){if(hh.getClosestLayer(t))throw new Error("A root WebLayer for the given element already exists");!function(t){const e=t.ownerDocument,r=t.getRootNode();if(e.contains(t)||e.contains(null==r?void 0:r.host))return t;const n=r.host||e.createElement("div");n.setAttribute(ch.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.position="fixed",n.style.width="100%",n.style.height="100%",n.style.top="-100000px",n.style.contain="strict",r.host||n.appendChild(t),e.documentElement.appendChild(n);}(t),hh.initRootNodeObservation(t);const r=new MutationObserver(hh._handleMutations);this.mutationObservers.set(t,r),this.startMutationObserver(t);const n=new sh((t=>{for(const e of t){const t=this.getClosestLayer(e.target);t.traverseLayers(hh.setLayerNeedsRefresh),t.traverseParentLayers(hh.setLayerNeedsRefresh);}}));n.observe(t),this.resizeObservers.set(t,n),t.addEventListener("input",this._triggerRefresh,{capture:!0}),t.addEventListener("keydown",this._triggerRefresh,{capture:!0}),t.addEventListener("submit",this._triggerRefresh,{capture:!0}),t.addEventListener("change",this._triggerRefresh,{capture:!0}),t.addEventListener("focus",this._triggerRefresh,{capture:!0}),t.addEventListener("blur",this._triggerRefresh,{capture:!0}),t.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const i=new gu(t,e);return this.rootLayers.set(t,i),i}static disposeLayer(t){if(this.rootLayers.has(t.element)){this.rootLayers.delete(t.element);this.mutationObservers.get(t.element).disconnect(),this.mutationObservers.delete(t.element);this.resizeObservers.get(t.element).disconnect(),this.resizeObservers.delete(t.element),t.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),t.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0});}}static getClosestLayer(t){const e=t&&t.closest(`[${hh.LAYER_ATTRIBUTE}]`);return this.layers.get(e)}static getCSSTransformForElement(t,e=new c){const r=getComputedStyle(t);var n=r.transform;if(0==n.indexOf("matrix(")){e.identity();var i=n.substring(7,n.length-1).split(", ").map(parseFloat);e.elements[0]=i[0],e.elements[1]=i[1],e.elements[4]=i[2],e.elements[5]=i[3],e.elements[12]=i[4],e.elements[13]=i[5];}else {if(0!=n.indexOf("matrix3d("))return e.identity();i=n.substring(9,n.length-1).split(", ").map(parseFloat);e.fromArray(i);}var s=r.transformOrigin.split(" ").map(parseFloat),a=s[0],o=s[1],u=s[2]||0,h=ah.identity().makeTranslation(-a,-o,-u),l=oh.identity().makeTranslation(a,o,u);return e.premultiply(l).multiply(h)}static async embedExternalResources(t){const e=[],r=t.querySelectorAll("*");for(const i of r){const t=i.getAttributeNS("http://www.w3.org/1999/xlink","href");t&&e.push(hh.getDataURL(t).then((t=>{i.removeAttributeNS("http://www.w3.org/1999/xlink","href"),i.setAttribute("href",t);})));const r=i;if("IMG"==i.tagName&&"data"!=r.src.substr(0,4)&&e.push(hh.getDataURL(r.src).then((t=>{i.setAttribute("src",t);}))),"http://www.w3.org/1999/xhtml"==i.namespaceURI&&i.hasAttribute("style")){const t=i.getAttribute("style")||"";e.push(hh.generateEmbeddedCSS(window.location.href,t).then((e=>{t!=e&&i.setAttribute("style",e);})));}}const n=t.querySelectorAll("style");for(const i of n)e.push(hh.generateEmbeddedCSS(window.location.href,i.innerHTML).then((t=>{i.innerHTML!=t&&(i.innerHTML=t);})));return Promise.all(e)}static pauseMutationObservers(){const t=hh.mutationObservers.values();for(const e of t)hh._handleMutations(e.takeRecords()),e.disconnect();}static resumeMutationObservers(){for(const[t]of hh.mutationObservers)this.startMutationObserver(t);}static startMutationObserver(t){hh.mutationObservers.get(t).observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0});}static _addDynamicPseudoClassRules(t){const e=t.styleSheets;for(let s=0;s<e.length;s++)try{const t=e[s],i=t.cssRules;if(!i)continue;const a=[];for(var r=0;r<i.length;r++){i[r].cssText.indexOf(":hover")>-1&&a.push(i[r].cssText.replace(new RegExp(":hover","g"),`[${hh.HOVER_ATTRIBUTE}]`)),i[r].cssText.indexOf(":active")>-1&&a.push(i[r].cssText.replace(new RegExp(":active","g"),`[${hh.ACTIVE_ATTRIBUTE}]`)),i[r].cssText.indexOf(":focus")>-1&&a.push(i[r].cssText.replace(new RegExp(":focus","g"),`[${hh.FOCUS_ATTRIBUTE}]`)),i[r].cssText.indexOf(":target")>-1&&a.push(i[r].cssText.replace(new RegExp(":target","g"),`[${hh.TARGET_ATTRIBUTE}]`));var n=a.indexOf(i[r].cssText);n>-1&&a.splice(n,1);}for(r=0;r<a.length;r++)t.insertRule(a[r]);}catch(i){}}static arrayBufferToBase64(t){for(var e="",r=t.byteLength,n=0;n<r;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}static attributeCSS(t,e){return e?`[${t}]=${e}`:`[${t}]`}static attributeHTML(t,e){return e?`${t}="${e}"`:`${t}=""`}static async generateEmbeddedCSS(t,e){let r;const n=[];e=(e=(e=(e=e.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\)/gi);for(;r=i.exec(e);){const i=r[1];n.push(this.getDataURL(new URL(i,t).href).then((t=>{e=e.replace(i,t);})));}return await Promise.all(n),e}static async getURL(t){return t=new URL(t,window.location.href).href,new Promise((e=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{e(r);},r.onerror=()=>{e(r);},r.send();}))}static async getEmbeddedCSS(t){const e=t.getRootNode(),r=this.embeddedCSS.get(e)||new Map;this.embeddedCSS.set(e,r);const n=Array.from(e.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']"));let i=!1;for(const s of n)if(!r.has(s))if(i=!0,"STYLE"==s.tagName){const t=s.sheet;let e="";for(const r of t.cssRules)e+=r.cssText+"\n";r.set(s,this.generateEmbeddedCSS(window.location.href,e));}else r.set(s,this.getURL(s.getAttribute("href")).then((t=>{if(!t.response)return "";this._addDynamicPseudoClassRules(e);var r=uh.decode(t.response);return this.generateEmbeddedCSS(window.location.href,r)})));return i&&this._addDynamicPseudoClassRules(e),Promise.all(r.values())}static async getDataURL(t){var e;const r=await this.getURL(t),n=new Uint8Array(r.response),i=null==(e=r.getResponseHeader("Content-Type"))?void 0:e.split(";")[0];if("text/css"==i){let e=uh.decode(n);e=await this.generateEmbeddedCSS(t,e);const r=window.btoa(e);return r.length>0?"data:"+i+";base64,"+r:""}return "data:"+i+";base64,"+this.arrayBufferToBase64(n)}static updateInputAttributes(t){t.matches("input")&&this._updateInputAttribute(t);for(const e of t.getElementsByTagName("input"))this._updateInputAttribute(e);}static _updateInputAttribute(t){t.hasAttribute("checked")?t.checked||t.removeAttribute("checked"):t.checked&&t.setAttribute("checked",""),t.getAttribute("value")!==t.value&&t.setAttribute("value",t.value);}static isBlankImage(t){return !new Uint32Array(t.buffer).some((t=>0!==t))}};let ch=hh;if(ch.ATTRIBUTE_PREFIX="xr",ch._nextUID=0,ch.serializer=new XMLSerializer,ch.rootLayers=new Map,ch.layers=new Map,ch.mutationObservers=new Map,ch.resizeObservers=new Map,ch.serializeQueue=[],ch.rasterizeQueue=[],ch.renderQueue=[],ch.focusElement=null,ch.activeElement=null,ch.targetElement=null,ch.rootNodeObservers=new Map,ch.TASK_ASYNC_MAX_COUNT=2,ch.TASK_SYNC_MAX_TIME=200,ch.rasterizeTaskCount=0,ch.tasksPending=!1,ch._handleMutations=t=>{for(const e of t){if("attributes"===e.type){if(e.target.getAttribute(e.attributeName)===e.oldValue)continue}if("characterData"===e.type){if(e.target.data===e.oldValue)continue}const t=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement;if(!t)continue;const r=hh.getClosestLayer(t);if(r){if("attributes"===e.type&&"class"===e.attributeName){if((e.oldValue?e.oldValue:"")===e.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(hh.setLayerNeedsRefresh):r.traverseLayers(hh.setLayerNeedsRefresh);}}},ch._triggerRefresh=async t=>{const e=hh.getClosestLayer(t.target);e&&(e.parentLayer?e.parentLayer.traverseChildLayers(hh.setLayerNeedsRefresh):e.traverseLayers(hh.setLayerNeedsRefresh));},ch.embeddedCSS=new Map,self.THREE)var lh=self.THREE;else lh=t;const ph=new lh.Vector3,fh=new lh.Vector3,dh=new hu,mh=new hu;class yh extends lh.Group{constructor(t,e={}){super(),this.options=e,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new lh.Mesh(vh.GEOMETRY,new lh.MeshBasicMaterial({transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new lh.Mesh(vh.GEOMETRY,new lh.MeshBasicMaterial({visible:!1})),this.cursor=new lh.Object3D,this.depthMaterial=new lh.MeshDepthMaterial({depthPacking:lh.RGBADepthPacking,alphaTest:.01}),this.domLayout=new lh.Object3D,this.domSize=new lh.Vector3(1,1,1),this.childWebLayers=[],this.shouldApplyDOMLayout="auto";const r=this.element="string"==typeof t?fu(t):t;this.name=r.id,this._webLayer=ch.getClosestLayer(r),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.material.toneMapped=!1,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this._boundsMesh.matrixAutoUpdate=!0,vh.layersByElement.set(this.element,this),vh.layersByMesh.set(this.contentMesh,this);}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const t=this._webLayer.element;let e=this.textures.get(t);return e||(e=new lh.VideoTexture(t),e.wrapS=lh.ClampToEdgeWrapping,e.wrapT=lh.ClampToEdgeWrapping,e.minFilter=lh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}const t=this._webLayer.canvas;let e=this.textures.get(t);return e?this.textureNeedsUpdate&&(this.textureNeedsUpdate=!1,e.needsUpdate=!0):(e=new lh.Texture(t),e.needsUpdate=!0,e.wrapS=lh.ClampToEdgeWrapping,e.wrapT=lh.ClampToEdgeWrapping,e.minFilter=lh.LinearFilter,this.options.textureEncoding&&(e.encoding=this.options.textureEncoding),this.textures.set(t,e)),e}get pseudoStates(){return this._webLayer.psuedoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(ch.setLayerNeedsRefresh);}get needsRemoval(){return this._webLayer.needsRemoval}get bounds(){return this._webLayer.bounds}get parentWebLayer(){return this._webLayer.parentLayer&&vh.layersByElement.get(this._webLayer.parentLayer.element)}refresh(t=!1){this._webLayer.refresh(),this.childWebLayers.length=0;for(const e of this._webLayer.childLayers){const r=vh.getClosestLayerForElement(e.element);r&&(this.childWebLayers.push(r),t&&r.refresh(t));}this._refreshVideoBounds(),this._refreshDOMLayout();}updateLayout(){this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.scale.copy(this.domSize),this._boundsMesh.scale.copy(this.domSize);const t=this.contentMesh,e=t.material.opacity<.005;e?t.visible=!1:t.material.map&&(t.visible=!0),this.needsRemoval&&e&&(this.parent&&this.parent.remove(this),this.dispose());}updateContent(){const t=this.contentMesh,e=this.currentTexture,r=t.material;e.image&&r.map!==e&&(r.map=e,this.depthMaterial.map=e,this.depthMaterial.needsUpdate=!0,r.depthWrite=!1,this.renderOrder=this.depth+.001*this.index+(this.options.renderOrderOffset||0),r.needsUpdate=!0);}_doUpdate(){this.updateLayout(),this.updateContent(),this.needsRefresh&&this.options.autoRefresh&&this.refresh(),ch.scheduleTasksIfNeeded();}update(t=!1){t?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate();}querySelector(t){const e=this.element.querySelector(t);if(e)return vh.layersByElement.get(e)}traverseLayerAncestors(t){const e=this.parentWebLayer;e&&(e.traverseLayerAncestors(t),t.call(this,e));}traverseLayersPreOrder(t){if(!1===t.call(this,this))return !1;for(const e of this.childWebLayers)if(!1===e.traverseLayersPreOrder(t))return !1;return !0}traverseLayersPostOrder(t){for(const e of this.childWebLayers)if(!1===e.traverseLayersPostOrder(t))return !1;return t.call(this,this)||!0}dispose(){for(const t of this.textures.values())t.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),ch.disposeLayer(this._webLayer);for(const t of this.childWebLayers)t.dispose();}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const t=this.element,e=this.currentTexture,r=getComputedStyle(this.element),{objectFit:n}=r,{width:i,height:s}=this.bounds,{videoWidth:a,videoHeight:o}=t,u=a/o,h=i/s;switch(e.center.set(.5,.5),n){case"none":e.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(e.repeat.set(1,1),h>u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;case"cover":if(e.repeat.set(i/a,s/o),h<u){const t=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-t)/2,this.bounds.width=t;}else {const t=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-t)/2,this.bounds.height=t;}break;default:case"fill":e.repeat.set(1,1);}}}_refreshDOMLayout(){if(this.needsRemoval)return;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const t=this.bounds,e=t.width,r=t.height,n=1/vh.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(n*e,1e-5),Math.max(n*r,1e-5),1),!vh.shouldApplyDOMLayout(this))return;const i=this.parentWebLayer instanceof yh?this.parentWebLayer.bounds:function(t){return pu.parentNode||document.documentElement.append(pu),t.left=pageXOffset,t.top=pageYOffset,t.width=pu.offsetWidth,t.height=pu.offsetHeight,t}(dh),s=-i.width/2+e/2,a=i.height/2-r/2;this.options.layerSeparation||vh.DEFAULT_LAYER_SEPARATION,this.domLayout.position.set(n*(s+t.left),n*(a-t.top),0);}}const gh=class extends yh{constructor(t,e={}){super(t,e),this.options=e,this._interactionRays=[],this._raycaster=new lh.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=t=>{t.pseudoStates.hover&&this._previousHoverLayers.add(t),t.cursor.visible=!1,t.pseudoStates.hover=!1,this._contentMeshes.push(t.contentMesh);},this._webLayer=ch.createLayerTree(this.element,((t,{target:e})=>{var r,n;if("layercreated"===t){if(e===this.element)return;const t=new yh(e,this.options);null==(r=t.parentWebLayer)||r.add(t),this.options.onLayerCreate&&this.options.onLayerCreate(t);}else if("layerpainted"===t){const t=ch.layers.get(e);gh.layersByElement.get(t.element).textureNeedsUpdate=!0;}else if("layermoved"===t){const t=gh.layersByElement.get(e);null==(n=t.parentWebLayer)||n.add(t);}})),this.options.onLayerCreate&&this.options.onLayerCreate(this),this.refresh(!0),this.update();}static computeNaturalDistance(t,e){let r=t;t.isCamera&&(r=t.projectionMatrix);const n=e.getPixelRatio(),i=e.domElement.width/n,s=gh.DEFAULT_PIXELS_PER_UNIT*i,a=function(t){const e=xh,r=wh.getInverse(t),n=bh;return e.left=n.set(-1,0,-1).applyMatrix4(r).angleTo(_h),e.right=n.set(1,0,-1).applyMatrix4(r).angleTo(_h),e.top=n.set(0,1,-1).applyMatrix4(r).angleTo(_h),e.bottom=n.set(0,-1,-1).applyMatrix4(r).angleTo(_h),e.horizontal=e.right+e.left,e.vertical=e.top+e.bottom,e}(r).horizontal;return s/2/Math.tan(a/2)}static shouldApplyDOMLayout(t){const e=t.shouldApplyDOMLayout;return "always"===e||!0===e||"never"!==e&&!1!==e&&!("auto"!==e||!t.parentWebLayer||t.parent!==t.parentWebLayer)}get parentWebLayer(){return super.parentWebLayer}get interactionRays(){return this._interactionRays}set interactionRays(t){this._interactionRays=t;}update(t=!1){this._updateInteractions(),super.update(t);}_intersectionGetGroupOrder(t){let e=t.object;for(;e.parent&&!e.isGroup;)e=e.parent;t.groupOrder=e.renderOrder;}_intersectionSort(t,e){return t.groupOrder!==e.groupOrder?e.groupOrder-t.groupOrder:t.object.renderOrder!==e.object.renderOrder?e.object.renderOrder-t.object.renderOrder:t.distance-e.distance}_updateInteractions(){const t=this._previousHoverLayers;t.clear(),this._contentMeshes.length=0,this.traverseLayersPreOrder(this._prepareHitTest);for(const e of this._interactionRays){e instanceof lh.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(ph),e.getWorldDirection(fh)),this._hitIntersections.length=0;const r=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.forEach(this._intersectionGetGroupOrder),r.sort(this._intersectionSort);const n=r[0];if(n){const e=n.object.parent;e.cursor.position.copy(n.point),e.cursor.visible=!0,e.pseudoStates.hover=!0,t.has(e)||e.setNeedsRefresh();}}for(const e of t)e.pseudoStates.hover||e.setNeedsRefresh();}static getLayerForQuery(t){const e=document.querySelector(t);return gh.layersByElement.get(e)}static getClosestLayerForElement(t){const e=t&&t.closest(`[${ch.LAYER_ATTRIBUTE}]`);return gh.layersByElement.get(e)}hitTest(t){const e=this._raycaster,r=this._hitIntersections,n=gh.layersByMesh;e.ray.copy(t),r.length=0,e.intersectObject(this,!0,r),r.forEach(this._intersectionGetGroupOrder),r.sort(this._intersectionSort);for(const i of r){const t=n.get(i.object);if(!t)continue;const e=lu(t.element,dh);if(!e.width||!e.height)continue;let r=t.element;const s=i.uv.x*e.width,a=(1-i.uv.y)*e.height;return ou(t.element,(t=>{if(!r.contains(t))return !1;const n=lu(t,mh),i=n.left-e.left,o=n.top-e.top,{width:u,height:h}=n;return s>i&&s<i+u&&a>o&&a<o+h&&(r=t,!0)})),{layer:t,intersection:i,target:r}}}};let vh=gh;vh.layersByElement=new WeakMap,vh.layersByMesh=new WeakMap,vh.DEFAULT_LAYER_SEPARATION=.001,vh.DEFAULT_PIXELS_PER_UNIT=1e3,vh.GEOMETRY=new lh.PlaneGeometry(1,1,2,2);const xh=new class{constructor(){this.top=0,this.left=0,this.bottom=0,this.right=0,this.horizontal=0,this.vertical=0;}},wh=new lh.Matrix4,bh=new lh.Vector3,_h=new lh.Vector3(0,0,-1);

class HubsApp {
    constructor (width, height, App, createOptions={}) {
        this.isInteractive = false;
        this.isNetworked = false;

        this.takeOwnership = this.takeOwnershipProto.bind(this);
        this.setSharedData = this.setSharedDataProto.bind(this);

        this.headDiv = document.createElement("div");
        this.appDiv  = document.createElement("div");
    
        // this.headDiv.style.position = "absolute";
        // this.headDiv.style.left = -10000+'px';
        // this.headDiv.style.top = 0+'px';
        
        this.headDiv.appendChild(this.appDiv);
        // document.body.appendChild(this.headDiv)

        this.width = width;
        this.height = height;

        this.vueApp = createApp(App, createOptions);
    }

    mount() {
        this.vueRoot = this.vueApp.mount(this.appDiv);
        this.webLayer3D = new vh(this.vueRoot.$el, {
            autoRefresh: true,
            onLayerCreate: (layer) => {
                // nothing yet
            },
            onAfterRasterize(layer) {
                   // nothing yet
            },
            textureEncoding: THREE.sRGBEncoding,
            renderOrderOffset: -1000
        });
    }

    setNetworkMethods(takeOwnership, setSharedData) {
        this.takeOwnership = takeOwnership;
        this.setSharedData = setSharedData;
    }

    // dummy functions, just to avoid errors if they get called before
    // networking is initialized, or called when networked is false
    takeOwnershipProto() {
        return true;
    }
    setSharedDataProto(object) {
        return true;
    }

    // receive data updates.  should be overridden by subclasses
    updateSharedData(dataObject) {
        raise("updateData should be overridden by subclasses");
    }

    // receive data updates.  should be overridden by subclasses
    getSharedData(dataObject) {
        raise("getSharedData should be overridden by subclasses");
    }
    
    play() {
        // if we can figure out how to pause, then restart here
    }

    pause() {
        // perhaps figure out how to pause the Vue component?
    }
    
    destroy() {
        // TODO: destroy the vue component and any resources, etc., it has
    }
}

class HubsTest1 extends HubsApp {
    constructor (width, height) {
        super(width, height, script$2);
        this.isInteractive = true;
        this.isNetworked = true;
        
        let app = this; // so we can reference it in the methods below
        // Create a new store instance.
        this.store = createStore({
            state: { 
                count: 0
            },
            mutations: {
                setCount (state, count) {
                  state.count = count;  
                }
            },
            actions: {
                increment (context) {
                    if (app.takeOwnership()) {
                        console.log (JSON.stringify(context.state));
                        context.commit('setCount', context.state.count+1);
                        console.log (JSON.stringify(context.state));

                        app.setSharedData(context.state);
                    }
                }
            }
        });
        console.log (JSON.stringify(this.store.state));

        this.vueApp.use(this.store);
    }
    
    updateSharedData(dataObject) {
        // need to update the elements within the store, because otherwise
        // the data won't flow to the components
        this.store.commit("setCount", dataObject.count);
    }

    getSharedData() {
        return this.store.state;
    }
}

var init$1 = function () {
    let app = new HubsTest1(2, 2.25);
    app.mount();
    return app
};

pushScopeId("data-v-86a6691a");
const _hoisted_1$1 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createVNode("a", {
    href: "https://vitejs.dev/guide/features.html",
    target: "_blank"
  }, " Vite Documentation and Then Some! "),
  /*#__PURE__*/createTextVNode(" | "),
  /*#__PURE__*/createVNode("a", {
    href: "https://v3.vuejs.org/",
    target: "_blank"
  }, "Vue 3 Documentation")
], -1 /* HOISTED */);
const _hoisted_2$1 = /*#__PURE__*/createVNode("p", null, [
  /*#__PURE__*/createTextVNode(" Edit "),
  /*#__PURE__*/createVNode("code", null, "components/HelloWorld.vue"),
  /*#__PURE__*/createTextVNode(" to test hot module replacement while running project as \"npm run dev\". ")
], -1 /* HOISTED */);
popScopeId();


var script$1 = {
  expose: [],
  props: {
  msg: String
},
  setup(__props) {



const state = reactive({ count: 0 });

return (_ctx, _cache) => {
  return (openBlock(), createBlock(Fragment, null, [
    createVNode("h1", null, toDisplayString(__props.msg), 1 /* TEXT */),
    _hoisted_1$1,
    createVNode("button", {
      "xr-layer": "",
      onClick: _cache[1] || (_cache[1] = $event => (unref(state).count++))
    }, "count is: " + toDisplayString(unref(state).count), 1 /* TEXT */),
    _hoisted_2$1
  ], 64 /* STABLE_FRAGMENT */))
}
}

};

var css_248z$1 = "\na[data-v-86a6691a] {\n  color: #42b983;\n}\n*[data-v-86a6691a] {\n    box-sizing: content-box;\n    line-height : normal;\n}\np[data-v-86a6691a] {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n}\nh1[data-v-86a6691a] {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n}\nbutton[data-v-86a6691a] {\n    /* width: 100px;\n    height: 30px; */\n    appearance: auto;\n    -webkit-writing-mode: horizontal-tb !important;\n    text-rendering: auto;\n    color: -internal-light-dark(black, white);\n    letter-spacing: normal;\n    word-spacing: normal;\n    text-transform: none;\n    text-indent: 0px;\n    text-shadow: none;\n    display: inline-block;\n    text-align: center;\n    align-items: flex-start;\n    cursor: default;\n    background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));\n    box-sizing: border-box;\n    margin: 0em;\n    font: 400 13.3333px Arial;\n    padding: 1px 6px;\n    border-width: 2px;\n    border-style: outset;\n    border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\n    border-image: initial;\n    border-radius: 2px;\n}\n\n";
styleInject(css_248z$1);

script$1.__scopeId = "data-v-86a6691a";

pushScopeId("data-v-c3f10e4a");
const _hoisted_1 = { id: "top" };
const _hoisted_2 = /*#__PURE__*/createVNode("img", {
  alt: "Vue logo",
  src: _imports_0
}, null, -1 /* HOISTED */);
popScopeId();

// This starter template is using Vue 3 experimental <script setup> SFCs
// Check out https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md

var script = {
  expose: [],
  setup(__props) {


return (_ctx, _cache) => {
  return (openBlock(), createBlock("div", _hoisted_1, [
    _hoisted_2,
    createVNode(script$1, { msg: "Vue Component with Local Button Count" })
  ]))
}
}

};

var css_248z = "\n#top[data-v-c3f10e4a] {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #50312c;\n  margin-top: 30px;\n\n  width: 500px; height: 500px;\n  position: absolute;\n\n  display: block;\n  background-color: white;\n}\n*[data-v-c3f10e4a] {\n    box-sizing: content-box;\n}\nimg[data-v-c3f10e4a] {\n    max-width: none;\n        display: inline;\n}\n";
styleInject(css_248z);

script.__scopeId = "data-v-c3f10e4a";

class HubsTest2 extends HubsApp {
    constructor (width, height) {
        super(width, height, script);
        this.isInteractive = true;
    }
}

var init = function () {
    let app = new HubsTest2(2.5, 2.5);
    app.mount();
    return app
};

export { init$1 as hubsTest1, init as hubsTest2 };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHVicy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vc3JjL2Fzc2V0cy9sb2dvLnBuZyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2Vudi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2NvbnN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvdnVleC9kaXN0L3Z1ZXguZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9OZXR3b3JrZWRIZWxsb1dvcmxkLnZ1ZSIsIi4uLy4uL3NyYy9jb21wb25lbnRzL05ldHdvcmtlZEhlbGxvV29ybGQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE5MTQ5NTQwJmxhbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtaW5qZWN0L2Rpc3Qvc3R5bGUtaW5qZWN0LmVzLmpzIiwiLi4vLi4vc3JjL2FwcHMvSHVic1Rlc3QxL0FwcFRlc3QxLnZ1ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9WZWN0b3IyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdGhVdGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9RdWF0ZXJuaW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvTWF0cml4NC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9FdWxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9zcmMvbWF0aC9Cb3gyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL0JveDMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUmF5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL0xpbmUzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVlL3NyYy9tYXRoL01hdHJpeDMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWUvc3JjL21hdGgvUGxhbmUuanMiLCIuLi8uLi9jb3JlL21hdGgtdXRpbHMudHMiLCIuLi8uLi9jb3JlL1NwYXRpYWxNZXRyaWNzLnRzIiwiLi4vLi4vY29yZS9TcGF0aWFsTGF5b3V0LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb3Btb3Rpb24vZWFzaW5nL2Rpc3QvZWFzaW5nLmVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2lzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL29iamVjdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90eXBlZC1mdW5jdGlvbi90eXBlZC1mdW5jdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9udW1iZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9zdHJpbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXJyb3IvSW5kZXhFcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9hcnJheS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mYWN0b3J5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2NvcmUvZnVuY3Rpb24vdHlwZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9yZXN1bHRzZXQvUmVzdWx0U2V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RlY2ltYWwuanMvZGVjaW1hbC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9iaWdudW1iZXIvQmlnTnVtYmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NvbXBsZXguanMvY29tcGxleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2NvbXBsZXgvQ29tcGxleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9mcmFjdGlvbi5qcy9mcmFjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2ZyYWN0aW9uL0ZyYWN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1JhbmdlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L01hdHJpeC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9EZW5zZU1hdHJpeC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb2xsZWN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3BsYWluL251bWJlci9hcml0aG1ldGljLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3V0aWxzL2lzTnVtZXJpYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9lcXVhbFNjYWxhci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jb21wbGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L1NwYXJzZU1hdHJpeC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL251bWJlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL2JpZ251bWJlci9mdW5jdGlvbi9iaWdudW1iZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9mcmFjdGlvbi9mdW5jdGlvbi9mcmFjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS90eXBlL21hdHJpeC9mdW5jdGlvbi9tYXRyaXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy91bmFyeU1pbnVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvYWRkU2NhbGFyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTExLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvY2VpbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2ZpeC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2Zsb29yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbW9kLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvbXVsdGlwbHlTY2FsYXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9tdWx0aXBseS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3N1YnRyYWN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA3LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2NvbXBsZXgvY29uai5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9scnVRdWV1ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9mdW5jdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaWRlbnRpdHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdXRpbHMvbm9vcC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lcnJvci9Bcmd1bWVudHNFcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvc2l6ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9jdXN0b21zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL21hdHJpeC9zdWJzZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L3plcm9zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3N0cmluZy9mb3JtYXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vdXRpbHMvbnVtZXJpYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL2RpdmlkZVNjYWxhci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3Bvdy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9hcml0aG1ldGljL3JvdW5kLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvZXF1YWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vcmVsYXRpb25hbC9zbWFsbGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL3JlbGF0aW9uYWwvbGFyZ2VyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3R5cGUvbWF0cml4L0ZpYm9uYWNjaUhlYXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS9tYXRyaXgvU3BhLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL3V0aWxzL2JpZ251bWJlci9jb25zdGFudHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L1VuaXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL3VuaXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vdHlwZS91bml0L2Z1bmN0aW9uL2NyZWF0ZVVuaXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vYXJpdGhtZXRpYy9hZGQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RvdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2tleXdvcmRzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Ob2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS91dGlscy9hY2Nlc3MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0FjY2Vzc29yTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQXJyYXlOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vb3BlcmF0b3JzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9Bc3NpZ25tZW50Tm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvdXRpbHMvYXNzaWduLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9CbG9ja05vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL0NvbmRpdGlvbmFsTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lc2NhcGUtbGF0ZXgvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS91dGlscy9sYXRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvQ29uc3RhbnROb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbkFzc2lnbm1lbnROb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9JbmRleE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09iamVjdE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL09wZXJhdG9yTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL25vZGUvUGFyZW50aGVzaXNOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9SYW5nZU5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1JlbGF0aW9uYWxOb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2V4cHJlc3Npb24vbm9kZS9GdW5jdGlvbk5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9wYXJzZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGcmFjdGlvbkNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NwYXJzZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWJzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNaZXJvcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5U2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRG90LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQ29uai5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzSWRlbnRpdHkuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzQmlnbnVtYmVyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRGl2aWRlU2NhbGFyLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzVW5pdENsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRXF1YWwuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGaXguZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNDZWlsLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzRmxvb3IuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGb3JtYXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJc051bWVyaWMuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNQb3cuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZXhwcmVzc2lvbi9ub2RlL1N5bWJvbE5vZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0V2YWx1YXRlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzUGFyc2UuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBY2Nlc3Nvck5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBcnJheU5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNBc3NpZ25tZW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Jsb2NrTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1Jlc3VsdFNldC5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbmRpdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0NvbnN0YW50Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNGdW5jdGlvbk5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbmRleE5vZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNSYW5nZUNsYXNzLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9lbnRyeS9kZXBlbmRlbmNpZXNBbnkvZGVwZW5kZW5jaWVzT2JqZWN0Tm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc09wZXJhdG9yTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1BhcmVudGhlc2lzTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JhbmdlTm9kZS5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1JlbGF0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9leHByZXNzaW9uL2Z1bmN0aW9uL2V2YWx1YXRlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEaXZpZGUuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNJbnYuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNEZXQuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNMdXAuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2VudHJ5L2RlcGVuZGVuY2llc0FueS9kZXBlbmRlbmNpZXNTcGFDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc0ZpYm9uYWNjaUhlYXBDbGFzcy5nZW5lcmF0ZWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZW50cnkvZGVwZW5kZW5jaWVzQW55L2RlcGVuZGVuY2llc1NtYWxsZXIuZ2VuZXJhdGVkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FsZ2VicmEvZGVjb21wb3NpdGlvbi9sdXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWF0aGpzL2xpYi9lc20vZnVuY3Rpb24vbWF0cml4L2RldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9tYXRoanMvbGliL2VzbS9mdW5jdGlvbi9tYXRyaXgvaW52LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21hdGhqcy9saWIvZXNtL2Z1bmN0aW9uL2FyaXRobWV0aWMvZGl2aWRlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RpbnktZW1pdHRlci9pbmRleC5qcyIsIi4uLy4uL2NvcmUvU3BoZXJpY2FsQ29vcmRpbmF0ZS50cyIsIi4uLy4uL3dlYi1sYXllci9kb20tdXRpbHMudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFzdC10ZXh0LWVuY29kaW5nL3RleHQubWluLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xydV9tYXAvbHJ1LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3Qtc2hhMjU2L3NoYTI1Ni5qcyIsIi4uLy4uL3dlYi1sYXllci9XZWJMYXllci50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcmVzaXplT2JzZXJ2ZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9xdWV1ZU1pY3JvVGFzay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJTaXplLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9ET01SZWN0UmVhZE9ubHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckVudHJ5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2NhbGN1bGF0ZURlcHRoRm9yTm9kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcHJvY2Vzcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvc2NoZWR1bGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9xdWV1ZVJlc2l6ZU9ic2VydmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZhdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXIuanMiLCIuLi8uLi93ZWItbGF5ZXIvV2ViUmVuZGVyZXIudHMiLCIuLi8uLi93ZWItbGF5ZXIvdGhyZWUvdGhyZWUtd2ViLWxheWVyLnRzIiwiLi4vLi4vc3JjL2FwcHMvSHVic0FwcC5qcyIsIi4uLy4uL3NyYy9hcHBzL0h1YnNUZXN0MS9odWJzLmpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUiLCIuLi8uLi9zcmMvYXBwcy9IdWJzVGVzdDIvQXBwVGVzdDIudnVlIiwiLi4vLi4vc3JjL2FwcHMvSHVic1Rlc3QyL2h1YnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxyXG4gKiBpcyBpbiB0aGF0IG1hcC5cclxuICogSU1QT1JUQU5UOiBhbGwgY2FsbHMgb2YgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIHByZWZpeGVkIHdpdGhcclxuICogXFwvXFwqI1xcX1xcX1BVUkVcXF9cXF9cXCpcXC9cclxuICogU28gdGhhdCByb2xsdXAgY2FuIHRyZWUtc2hha2UgdGhlbSBpZiBuZWNlc3NhcnkuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlTWFwKHN0ciwgZXhwZWN0c0xvd2VyQ2FzZSkge1xyXG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGNvbnN0IGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZSA/IHZhbCA9PiAhIW1hcFt2YWwudG9Mb3dlckNhc2UoKV0gOiB2YWwgPT4gISFtYXBbdmFsXTtcclxufVxuXG4vKipcclxuICogZGV2IG9ubHkgZmxhZyAtPiBuYW1lIG1hcHBpbmdcclxuICovXHJcbmNvbnN0IFBhdGNoRmxhZ05hbWVzID0ge1xyXG4gICAgWzEgLyogVEVYVCAqL106IGBURVhUYCxcclxuICAgIFsyIC8qIENMQVNTICovXTogYENMQVNTYCxcclxuICAgIFs0IC8qIFNUWUxFICovXTogYFNUWUxFYCxcclxuICAgIFs4IC8qIFBST1BTICovXTogYFBST1BTYCxcclxuICAgIFsxNiAvKiBGVUxMX1BST1BTICovXTogYEZVTExfUFJPUFNgLFxyXG4gICAgWzMyIC8qIEhZRFJBVEVfRVZFTlRTICovXTogYEhZRFJBVEVfRVZFTlRTYCxcclxuICAgIFs2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9dOiBgU1RBQkxFX0ZSQUdNRU5UYCxcclxuICAgIFsxMjggLyogS0VZRURfRlJBR01FTlQgKi9dOiBgS0VZRURfRlJBR01FTlRgLFxyXG4gICAgWzI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovXTogYFVOS0VZRURfRlJBR01FTlRgLFxyXG4gICAgWzUxMiAvKiBORUVEX1BBVENIICovXTogYE5FRURfUEFUQ0hgLFxyXG4gICAgWzEwMjQgLyogRFlOQU1JQ19TTE9UUyAqL106IGBEWU5BTUlDX1NMT1RTYCxcclxuICAgIFsyMDQ4IC8qIERFVl9ST09UX0ZSQUdNRU5UICovXTogYERFVl9ST09UX0ZSQUdNRU5UYCxcclxuICAgIFstMSAvKiBIT0lTVEVEICovXTogYEhPSVNURURgLFxyXG4gICAgWy0yIC8qIEJBSUwgKi9dOiBgQkFJTGBcclxufTtcblxuLyoqXHJcbiAqIERldiBvbmx5XHJcbiAqL1xyXG5jb25zdCBzbG90RmxhZ3NUZXh0ID0ge1xyXG4gICAgWzEgLyogU1RBQkxFICovXTogJ1NUQUJMRScsXHJcbiAgICBbMiAvKiBEWU5BTUlDICovXTogJ0RZTkFNSUMnLFxyXG4gICAgWzMgLyogRk9SV0FSREVEICovXTogJ0ZPUldBUkRFRCdcclxufTtcblxuY29uc3QgR0xPQkFMU19XSElURV9MSVNURUQgPSAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTixwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSwnICtcclxuICAgICdkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LCcgK1xyXG4gICAgJ09iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsQmlnSW50JztcclxuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEdMT0JBTFNfV0hJVEVfTElTVEVEKTtcblxuY29uc3QgcmFuZ2UgPSAyO1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xyXG4gICAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBjb25zdCByZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xyXG4gICAgICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChgJHtsaW5lfSR7JyAnLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIHVuZGVybGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KDEsIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICcgJy5yZXBlYXQocGFkKSArICdeJy5yZXBlYXQobGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChqID4gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICdeJy5yZXBlYXQobGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXMuam9pbignXFxuJyk7XHJcbn1cblxuLyoqXHJcbiAqIE9uIHRoZSBjbGllbnQgd2Ugb25seSBuZWVkIHRvIG9mZmVyIHNwZWNpYWwgY2FzZXMgZm9yIGJvb2xlYW4gYXR0cmlidXRlcyB0aGF0XHJcbiAqIGhhdmUgZGlmZmVyZW50IG5hbWVzIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyBkb20gcHJvcGVydGllczpcclxuICogLSBpdGVtc2NvcGUgLT4gTi9BXHJcbiAqIC0gYWxsb3dmdWxsc2NyZWVuIC0+IGFsbG93RnVsbHNjcmVlblxyXG4gKiAtIGZvcm1ub3ZhbGlkYXRlIC0+IGZvcm1Ob1ZhbGlkYXRlXHJcbiAqIC0gaXNtYXAgLT4gaXNNYXBcclxuICogLSBub21vZHVsZSAtPiBub01vZHVsZVxyXG4gKiAtIG5vdmFsaWRhdGUgLT4gbm9WYWxpZGF0ZVxyXG4gKiAtIHJlYWRvbmx5IC0+IHJlYWRPbmx5XHJcbiAqL1xyXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XHJcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xyXG4vKipcclxuICogVGhlIGZ1bGwgbGlzdCBpcyBuZWVkZWQgZHVyaW5nIFNTUiB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGluaXRpYWwgbWFya3VwLlxyXG4gKi9cclxuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzICtcclxuICAgIGAsYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNvbnRyb2xzLGRlZmF1bHQsZGVmZXIsZGlzYWJsZWQsaGlkZGVuLGAgK1xyXG4gICAgYGxvb3Asb3BlbixyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3MsYCArXHJcbiAgICBgY2hlY2tlZCxtdXRlZCxtdWx0aXBsZSxzZWxlY3RlZGApO1xyXG5jb25zdCB1bnNhZmVBdHRyQ2hhclJFID0gL1s+Lz1cIidcXHUwMDA5XFx1MDAwYVxcdTAwMGNcXHUwMDIwXS87XHJcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gaXNTU1JTYWZlQXR0ck5hbWUobmFtZSkge1xyXG4gICAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcclxuICAgIH1cclxuICAgIGNvbnN0IGlzVW5zYWZlID0gdW5zYWZlQXR0ckNoYXJSRS50ZXN0KG5hbWUpO1xyXG4gICAgaWYgKGlzVW5zYWZlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmUpO1xyXG59XHJcbmNvbnN0IHByb3BzVG9BdHRyTWFwID0ge1xyXG4gICAgYWNjZXB0Q2hhcnNldDogJ2FjY2VwdC1jaGFyc2V0JyxcclxuICAgIGNsYXNzTmFtZTogJ2NsYXNzJyxcclxuICAgIGh0bWxGb3I6ICdmb3InLFxyXG4gICAgaHR0cEVxdWl2OiAnaHR0cC1lcXVpdidcclxufTtcclxuLyoqXHJcbiAqIENTUyBwcm9wZXJ0aWVzIHRoYXQgYWNjZXB0IHBsYWluIG51bWJlcnNcclxuICovXHJcbmNvbnN0IGlzTm9Vbml0TnVtZXJpY1N0eWxlUHJvcCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCxib3JkZXItaW1hZ2Utb3V0c2V0LGJvcmRlci1pbWFnZS1zbGljZSxgICtcclxuICAgIGBib3JkZXItaW1hZ2Utd2lkdGgsYm94LWZsZXgsYm94LWZsZXgtZ3JvdXAsYm94LW9yZGluYWwtZ3JvdXAsY29sdW1uLWNvdW50LGAgK1xyXG4gICAgYGNvbHVtbnMsZmxleCxmbGV4LWdyb3csZmxleC1wb3NpdGl2ZSxmbGV4LXNocmluayxmbGV4LW5lZ2F0aXZlLGZsZXgtb3JkZXIsYCArXHJcbiAgICBgZ3JpZC1yb3csZ3JpZC1yb3ctZW5kLGdyaWQtcm93LXNwYW4sZ3JpZC1yb3ctc3RhcnQsZ3JpZC1jb2x1bW4sYCArXHJcbiAgICBgZ3JpZC1jb2x1bW4tZW5kLGdyaWQtY29sdW1uLXNwYW4sZ3JpZC1jb2x1bW4tc3RhcnQsZm9udC13ZWlnaHQsbGluZS1jbGFtcCxgICtcclxuICAgIGBsaW5lLWhlaWdodCxvcGFjaXR5LG9yZGVyLG9ycGhhbnMsdGFiLXNpemUsd2lkb3dzLHotaW5kZXgsem9vbSxgICtcclxuICAgIC8vIFNWR1xyXG4gICAgYGZpbGwtb3BhY2l0eSxmbG9vZC1vcGFjaXR5LHN0b3Atb3BhY2l0eSxzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LGAgK1xyXG4gICAgYHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aGApO1xyXG4vKipcclxuICogS25vd24gYXR0cmlidXRlcywgdGhpcyBpcyB1c2VkIGZvciBzdHJpbmdpZmljYXRpb24gb2YgcnVudGltZSBzdGF0aWMgbm9kZXNcclxuICogc28gdGhhdCB3ZSBkb24ndCBzdHJpbmdpZnkgYmluZGluZ3MgdGhhdCBjYW5ub3QgYmUgc2V0IGZyb20gSFRNTC5cclxuICogRG9uJ3QgYWxzbyBmb3JnZXQgdG8gYWxsb3cgYGRhdGEtKmAgYW5kIGBhcmlhLSpgIVxyXG4gKiBHZW5lcmF0ZWQgZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0F0dHJpYnV0ZXNcclxuICovXHJcbmNvbnN0IGlzS25vd25BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbGxvdyxhbHQsYXN5bmMsYCArXHJcbiAgICBgYXV0b2NhcGl0YWxpemUsYXV0b2NvbXBsZXRlLGF1dG9mb2N1cyxhdXRvcGxheSxiYWNrZ3JvdW5kLGJnY29sb3IsYCArXHJcbiAgICBgYm9yZGVyLGJ1ZmZlcmVkLGNhcHR1cmUsY2hhbGxlbmdlLGNoYXJzZXQsY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsYCArXHJcbiAgICBgY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGAgK1xyXG4gICAgYGNvb3Jkcyxjcm9zc29yaWdpbixjc3AsZGF0YSxkYXRldGltZSxkZWNvZGluZyxkZWZhdWx0LGRlZmVyLGRpcixkaXJuYW1lLGAgK1xyXG4gICAgYGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLGVudGVya2V5aGludCxmb3IsZm9ybSxgICtcclxuICAgIGBmb3JtYWN0aW9uLGZvcm1lbmN0eXBlLGZvcm1tZXRob2QsZm9ybW5vdmFsaWRhdGUsZm9ybXRhcmdldCxoZWFkZXJzLGAgK1xyXG4gICAgYGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsaWNvbixpZCxpbXBvcnRhbmNlLGludGVncml0eSxgICtcclxuICAgIGBpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb2FkaW5nLGxpc3QsbG9vcCxsb3csYCArXHJcbiAgICBgbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtaW5sZW5ndGgsbWVkaWEsbWluLG11bHRpcGxlLG11dGVkLG5hbWUsbm92YWxpZGF0ZSxgICtcclxuICAgIGBvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlcixwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHksYCArXHJcbiAgICBgcmVmZXJyZXJwb2xpY3kscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LHNjb3BlLHNjb3BlZCxgICtcclxuICAgIGBzZWxlY3RlZCxzaGFwZSxzaXplLHNpemVzLHNsb3Qsc3BhbixzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsYCArXHJcbiAgICBgc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsYCArXHJcbiAgICBgdmFsdWUsd2lkdGgsd3JhcGApO1xuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3QgcmVzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTdHlsZShpc1N0cmluZyhpdGVtKSA/IHBhcnNlU3RyaW5nU3R5bGUoaXRlbSkgOiBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGxpc3REZWxpbWl0ZXJSRSA9IC87KD8hW14oXSpcXCkpL2c7XHJcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOiguKykvO1xyXG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcclxuICAgIGNvbnN0IHJldCA9IHt9O1xyXG4gICAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyUkUpLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlclJFKTtcclxuICAgICAgICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiBzdHJpbmdpZnlTdHlsZShzdHlsZXMpIHtcclxuICAgIGxldCByZXQgPSAnJztcclxuICAgIGlmICghc3R5bGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fFxyXG4gICAgICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05vVW5pdE51bWVyaWNTdHlsZVByb3Aobm9ybWFsaXplZEtleSkpKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgcmVuZGVyIHZhbGlkIHZhbHVlc1xyXG4gICAgICAgICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XHJcbiAgICBsZXQgcmVzID0gJyc7XHJcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgcmVzID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlcyArPSBub3JtYWxpemVkICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZVtuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzICs9IG5hbWUgKyAnICc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnRyaW0oKTtcclxufVxuXG4vLyBUaGVzZSB0YWcgY29uZmlncyBhcmUgc2hhcmVkIGJldHdlZW4gY29tcGlsZXItZG9tIGFuZCBydW50aW1lLWRvbSwgc28gdGhleVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnRcclxuY29uc3QgSFRNTF9UQUdTID0gJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsJyArXHJcbiAgICAnaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbiwnICtcclxuICAgICdmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSwnICtcclxuICAgICdkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsJyArXHJcbiAgICAndGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSwnICtcclxuICAgICdjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsJyArXHJcbiAgICAndGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLCcgK1xyXG4gICAgJ29wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsJyArXHJcbiAgICAnc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCc7XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9FbGVtZW50XHJcbmNvbnN0IFNWR19UQUdTID0gJ3N2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSwnICtcclxuICAgICdkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLCcgK1xyXG4gICAgJ2ZlQ29tcG9zaXRlLGZlQ29udm9sdmVNYXRyaXgsZmVEaWZmdXNlTGlnaHRpbmcsZmVEaXNwbGFjZW1lbnRNYXAsJyArXHJcbiAgICAnZmVEaXN0YW5jZUxpZ2h0LGZlRHJvcFNoYWRvdyxmZUZsb29kLGZlRnVuY0EsZmVGdW5jQixmZUZ1bmNHLGZlRnVuY1IsJyArXHJcbiAgICAnZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCwnICtcclxuICAgICdmZVBvaW50TGlnaHQsZmVTcGVjdWxhckxpZ2h0aW5nLGZlU3BvdExpZ2h0LGZlVGlsZSxmZVR1cmJ1bGVuY2UsZmlsdGVyLCcgK1xyXG4gICAgJ2ZvcmVpZ25PYmplY3QsZyxoYXRjaCxoYXRjaHBhdGgsaW1hZ2UsbGluZSxsaW5lYXJHcmFkaWVudCxtYXJrZXIsbWFzaywnICtcclxuICAgICdtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4sJyArXHJcbiAgICAncG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHNldCxzb2xpZGNvbG9yLHN0b3Asc3dpdGNoLHN5bWJvbCwnICtcclxuICAgICd0ZXh0LHRleHRQYXRoLHRpdGxlLHRzcGFuLHVua25vd24sdXNlLHZpZXcnO1xyXG5jb25zdCBWT0lEX1RBR1MgPSAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInO1xyXG5jb25zdCBpc0hUTUxUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoSFRNTF9UQUdTKTtcclxuY29uc3QgaXNTVkdUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoU1ZHX1RBR1MpO1xyXG5jb25zdCBpc1ZvaWRUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoVk9JRF9UQUdTKTtcblxuY29uc3QgZXNjYXBlUkUgPSAvW1wiJyY8Pl0vO1xyXG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xyXG4gICAgY29uc3Qgc3RyID0gJycgKyBzdHJpbmc7XHJcbiAgICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcclxuICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG4gICAgbGV0IGh0bWwgPSAnJztcclxuICAgIGxldCBlc2NhcGVkO1xyXG4gICAgbGV0IGluZGV4O1xyXG4gICAgbGV0IGxhc3RJbmRleCA9IDA7XHJcbiAgICBmb3IgKGluZGV4ID0gbWF0Y2guaW5kZXg7IGluZGV4IDwgc3RyLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIHN3aXRjaCAoc3RyLmNoYXJDb2RlQXQoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMzQ6IC8vIFwiXHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZxdW90Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzODogLy8gJlxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmYW1wOyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOTogLy8gJ1xyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmIzM5Oyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2MDogLy8gPFxyXG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9ICcmbHQ7JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDYyOiAvLyA+XHJcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gJyZndDsnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxhc3RJbmRleCAhPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgaHRtbCArPSBzdHIuc3Vic3RyaW5nKGxhc3RJbmRleCwgaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsYXN0SW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgaHRtbCArPSBlc2NhcGVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhc3RJbmRleCAhPT0gaW5kZXggPyBodG1sICsgc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KSA6IGh0bWw7XHJcbn1cclxuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1Mi9zeW50YXguaHRtbCNjb21tZW50c1xyXG5jb25zdCBjb21tZW50U3RyaXBSRSA9IC9eLT8+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xyXG5mdW5jdGlvbiBlc2NhcGVIdG1sQ29tbWVudChzcmMpIHtcclxuICAgIHJldHVybiBzcmMucmVwbGFjZShjb21tZW50U3RyaXBSRSwgJycpO1xyXG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XHJcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGxldCBlcXVhbCA9IHRydWU7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXF1YWw7XHJcbn1cclxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYilcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIGxldCBhVmFsaWRUeXBlID0gaXNEYXRlKGEpO1xyXG4gICAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgYVZhbGlkVHlwZSA9IGlzQXJyYXkoYSk7XHJcbiAgICBiVmFsaWRUeXBlID0gaXNBcnJheShiKTtcclxuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICBhVmFsaWRUeXBlID0gaXNPYmplY3QoYSk7XHJcbiAgICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XHJcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmOiB0aGlzIGlmIHdpbGwgcHJvYmFibHkgbmV2ZXIgYmUgY2FsbGVkICovXHJcbiAgICAgICAgaWYgKCFhVmFsaWRUeXBlIHx8ICFiVmFsaWRUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xyXG4gICAgICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xyXG4gICAgICAgICAgICBjb25zdCBhSGFzS2V5ID0gYS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xyXG4gICAgICAgICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xyXG4gICAgICAgICAgICBpZiAoKGFIYXNLZXkgJiYgIWJIYXNLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICAoIWFIYXNLZXkgJiYgYkhhc0tleSkgfHxcclxuICAgICAgICAgICAgICAgICFsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xyXG59XHJcbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZihhcnIsIHZhbCkge1xyXG4gICAgcmV0dXJuIGFyci5maW5kSW5kZXgoaXRlbSA9PiBsb29zZUVxdWFsKGl0ZW0sIHZhbCkpO1xyXG59XG5cbi8qKlxyXG4gKiBGb3IgY29udmVydGluZyB7eyBpbnRlcnBvbGF0aW9uIH19IHZhbHVlcyB0byBkaXNwbGF5ZWQgc3RyaW5ncy5cclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcclxuICAgIHJldHVybiB2YWwgPT0gbnVsbFxyXG4gICAgICAgID8gJydcclxuICAgICAgICA6IGlzT2JqZWN0KHZhbClcclxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIHJlcGxhY2VyLCAyKVxyXG4gICAgICAgICAgICA6IFN0cmluZyh2YWwpO1xyXG59O1xyXG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcclxuICAgIGlmIChpc01hcCh2YWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoKGVudHJpZXMsIFtrZXksIHZhbF0pID0+IHtcclxuICAgICAgICAgICAgICAgIGVudHJpZXNbYCR7a2V5fSA9PmBdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJpZXM7XHJcbiAgICAgICAgICAgIH0sIHt9KVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgW2BTZXQoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwudmFsdWVzKCldXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufTtcblxuLyoqXHJcbiAqIExpc3Qgb2YgQGJhYmVsL3BhcnNlciBwbHVnaW5zIHRoYXQgYXJlIHVzZWQgZm9yIHRlbXBsYXRlIGV4cHJlc3Npb25cclxuICogdHJhbnNmb3JtcyBhbmQgU0ZDIHNjcmlwdCB0cmFuc2Zvcm1zLiBCeSBkZWZhdWx0IHdlIGVuYWJsZSBwcm9wb3NhbHMgc2xhdGVkXHJcbiAqIGZvciBFUzIwMjAuIFRoaXMgd2lsbCBuZWVkIHRvIGJlIHVwZGF0ZWQgYXMgdGhlIHNwZWMgbW92ZXMgZm9yd2FyZC5cclxuICogRnVsbCBsaXN0IGF0IGh0dHBzOi8vYmFiZWxqcy5pby9kb2NzL2VuL25leHQvYmFiZWwtcGFyc2VyI3BsdWdpbnNcclxuICovXHJcbmNvbnN0IGJhYmVsUGFyc2VyRGVmYXVsdFBsdWdpbnMgPSBbXHJcbiAgICAnYmlnSW50JyxcclxuICAgICdvcHRpb25hbENoYWluaW5nJyxcclxuICAgICdudWxsaXNoQ29hbGVzY2luZ09wZXJhdG9yJ1xyXG5dO1xyXG5jb25zdCBFTVBUWV9PQkogPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gT2JqZWN0LmZyZWV6ZSh7fSlcclxuICAgIDoge307XHJcbmNvbnN0IEVNUFRZX0FSUiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XHJcbmNvbnN0IE5PT1AgPSAoKSA9PiB7IH07XHJcbi8qKlxyXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuY29uc3QgTk8gPSAoKSA9PiBmYWxzZTtcclxuY29uc3Qgb25SRSA9IC9eb25bXmEtel0vO1xyXG5jb25zdCBpc09uID0gKGtleSkgPT4gb25SRS50ZXN0KGtleSk7XHJcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKCdvblVwZGF0ZTonKTtcclxuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcclxuY29uc3QgcmVtb3ZlID0gKGFyciwgZWwpID0+IHtcclxuICAgIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XHJcbiAgICBpZiAoaSA+IC0xKSB7XHJcbiAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IGhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xyXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgTWFwXSc7XHJcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IFNldF0nO1xyXG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB2YWwgaW5zdGFuY2VvZiBEYXRlO1xyXG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcclxuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcclxuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3ltYm9sJztcclxuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XHJcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcclxuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcclxufTtcclxuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG5jb25zdCB0b1Jhd1R5cGUgPSAodmFsdWUpID0+IHtcclxuICAgIC8vIGV4dHJhY3QgXCJSYXdUeXBlXCIgZnJvbSBzdHJpbmdzIGxpa2UgXCJbb2JqZWN0IFJhd1R5cGVdXCJcclxuICAgIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcclxufTtcclxuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJztcclxuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJlxyXG4gICAga2V5ICE9PSAnTmFOJyAmJlxyXG4gICAga2V5WzBdICE9PSAnLScgJiZcclxuICAgICcnICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcclxuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoXHJcbi8vIHRoZSBsZWFkaW5nIGNvbW1hIGlzIGludGVudGlvbmFsIHNvIGVtcHR5IHN0cmluZyBcIlwiIGlzIGFsc28gaW5jbHVkZWRcclxuJyxrZXkscmVmLCcgK1xyXG4gICAgJ29uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCwnICtcclxuICAgICdvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLCcgK1xyXG4gICAgJ29uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWQnKTtcclxuY29uc3QgY2FjaGVTdHJpbmdGdW5jdGlvbiA9IChmbikgPT4ge1xyXG4gICAgY29uc3QgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgcmV0dXJuICgoc3RyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcclxuICAgICAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XHJcbiAgICB9KTtcclxufTtcclxuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChfLCBjKSA9PiAoYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnKSk7XHJcbn0pO1xyXG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCkpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IGNhcGl0YWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKSk7XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3QgdG9IYW5kbGVyS2V5ID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiAoc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgKSk7XHJcbi8vIGNvbXBhcmUgd2hldGhlciBhIHZhbHVlIGhhcyBjaGFuZ2VkLCBhY2NvdW50aW5nIGZvciBOYU4uXHJcbmNvbnN0IGhhc0NoYW5nZWQgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiB2YWx1ZSAhPT0gb2xkVmFsdWUgJiYgKHZhbHVlID09PSB2YWx1ZSB8fCBvbGRWYWx1ZSA9PT0gb2xkVmFsdWUpO1xyXG5jb25zdCBpbnZva2VBcnJheUZucyA9IChmbnMsIGFyZykgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmbnNbaV0oYXJnKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgZGVmID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIHZhbHVlXHJcbiAgICB9KTtcclxufTtcclxuY29uc3QgdG9OdW1iZXIgPSAodmFsKSA9PiB7XHJcbiAgICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xyXG4gICAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogbjtcclxufTtcclxubGV0IF9nbG9iYWxUaGlzO1xyXG5jb25zdCBnZXRHbG9iYWxUaGlzID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChfZ2xvYmFsVGhpcyB8fFxyXG4gICAgICAgIChfZ2xvYmFsVGhpcyA9XHJcbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXHJcbiAgICAgICAgICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB3aW5kb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pKTtcclxufTtcblxuZXhwb3J0IHsgRU1QVFlfQVJSLCBFTVBUWV9PQkosIE5PLCBOT09QLCBQYXRjaEZsYWdOYW1lcywgYmFiZWxQYXJzZXJEZWZhdWx0UGx1Z2lucywgY2FtZWxpemUsIGNhcGl0YWxpemUsIGRlZiwgZXNjYXBlSHRtbCwgZXNjYXBlSHRtbENvbW1lbnQsIGV4dGVuZCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEdsb2JhbFRoaXMsIGhhc0NoYW5nZWQsIGhhc093biwgaHlwaGVuYXRlLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNEYXRlLCBpc0Z1bmN0aW9uLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duQXR0ciwgaXNNYXAsIGlzTW9kZWxMaXN0ZW5lciwgaXNOb1VuaXROdW1lcmljU3R5bGVQcm9wLCBpc09iamVjdCwgaXNPbiwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1Jlc2VydmVkUHJvcCwgaXNTU1JTYWZlQXR0ck5hbWUsIGlzU1ZHVGFnLCBpc1NldCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNWb2lkVGFnLCBsb29zZUVxdWFsLCBsb29zZUluZGV4T2YsIG1ha2VNYXAsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVTdHlsZSwgb2JqZWN0VG9TdHJpbmcsIHBhcnNlU3RyaW5nU3R5bGUsIHByb3BzVG9BdHRyTWFwLCByZW1vdmUsIHNsb3RGbGFnc1RleHQsIHN0cmluZ2lmeVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIHRvUmF3VHlwZSwgdG9UeXBlU3RyaW5nIH07XG4iLCJpbXBvcnQgeyBFTVBUWV9PQkosIGlzQXJyYXksIGlzTWFwLCBpc0ludGVnZXJLZXksIGlzU3ltYm9sLCBleHRlbmQsIGhhc093biwgaXNPYmplY3QsIGhhc0NoYW5nZWQsIG1ha2VNYXAsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgZGVmLCBpc0Z1bmN0aW9uLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCB0YXJnZXRNYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBlZmZlY3RTdGFjayA9IFtdO1xyXG5sZXQgYWN0aXZlRWZmZWN0O1xyXG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnaXRlcmF0ZScgOiAnJyk7XHJcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ01hcCBrZXkgaXRlcmF0ZScgOiAnJyk7XHJcbmZ1bmN0aW9uIGlzRWZmZWN0KGZuKSB7XHJcbiAgICByZXR1cm4gZm4gJiYgZm4uX2lzRWZmZWN0ID09PSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucyA9IEVNUFRZX09CSikge1xyXG4gICAgaWYgKGlzRWZmZWN0KGZuKSkge1xyXG4gICAgICAgIGZuID0gZm4ucmF3O1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWZmZWN0ID0gY3JlYXRlUmVhY3RpdmVFZmZlY3QoZm4sIG9wdGlvbnMpO1xyXG4gICAgaWYgKCFvcHRpb25zLmxhenkpIHtcclxuICAgICAgICBlZmZlY3QoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlZmZlY3Q7XHJcbn1cclxuZnVuY3Rpb24gc3RvcChlZmZlY3QpIHtcclxuICAgIGlmIChlZmZlY3QuYWN0aXZlKSB7XHJcbiAgICAgICAgY2xlYW51cChlZmZlY3QpO1xyXG4gICAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy5vblN0b3ApIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMub25TdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVmZmVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5sZXQgdWlkID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVFZmZlY3QoZm4sIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGVmZmVjdCA9IGZ1bmN0aW9uIHJlYWN0aXZlRWZmZWN0KCkge1xyXG4gICAgICAgIGlmICghZWZmZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zY2hlZHVsZXIgPyB1bmRlZmluZWQgOiBmbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWVmZmVjdFN0YWNrLmluY2x1ZGVzKGVmZmVjdCkpIHtcclxuICAgICAgICAgICAgY2xlYW51cChlZmZlY3QpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIGVmZmVjdFN0YWNrLnB1c2goZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IGVmZmVjdDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0U3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSBlZmZlY3RTdGFja1tlZmZlY3RTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBlZmZlY3QuaWQgPSB1aWQrKztcclxuICAgIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSAhIW9wdGlvbnMuYWxsb3dSZWN1cnNlO1xyXG4gICAgZWZmZWN0Ll9pc0VmZmVjdCA9IHRydWU7XHJcbiAgICBlZmZlY3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgIGVmZmVjdC5yYXcgPSBmbjtcclxuICAgIGVmZmVjdC5kZXBzID0gW107XHJcbiAgICBlZmZlY3Qub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICByZXR1cm4gZWZmZWN0O1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFudXAoZWZmZWN0KSB7XHJcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcclxuICAgIGlmIChkZXBzLmxlbmd0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkZXBzW2ldLmRlbGV0ZShlZmZlY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXBzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcbn1cclxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcclxuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xyXG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcclxuICAgIHNob3VsZFRyYWNrID0gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XHJcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xyXG4gICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XHJcbiAgICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcclxuICAgIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxhc3Q7XHJcbn1cclxuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcclxuICAgIGlmICghc2hvdWxkVHJhY2sgfHwgYWN0aXZlRWZmZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcclxuICAgIGlmICghZGVwc01hcCkge1xyXG4gICAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCAoZGVwc01hcCA9IG5ldyBNYXAoKSkpO1xyXG4gICAgfVxyXG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XHJcbiAgICBpZiAoIWRlcCkge1xyXG4gICAgICAgIGRlcHNNYXAuc2V0KGtleSwgKGRlcCA9IG5ldyBTZXQoKSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkZXAuaGFzKGFjdGl2ZUVmZmVjdCkpIHtcclxuICAgICAgICBkZXAuYWRkKGFjdGl2ZUVmZmVjdCk7XHJcbiAgICAgICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYWN0aXZlRWZmZWN0Lm9wdGlvbnMub25UcmFjaykge1xyXG4gICAgICAgICAgICBhY3RpdmVFZmZlY3Qub3B0aW9ucy5vblRyYWNrKHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdDogYWN0aXZlRWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIGtleVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcclxuICAgIGNvbnN0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoIWRlcHNNYXApIHtcclxuICAgICAgICAvLyBuZXZlciBiZWVuIHRyYWNrZWRcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBlZmZlY3RzID0gbmV3IFNldCgpO1xyXG4gICAgY29uc3QgYWRkID0gKGVmZmVjdHNUb0FkZCkgPT4ge1xyXG4gICAgICAgIGlmIChlZmZlY3RzVG9BZGQpIHtcclxuICAgICAgICAgICAgZWZmZWN0c1RvQWRkLmZvckVhY2goZWZmZWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QgIT09IGFjdGl2ZUVmZmVjdCB8fCBlZmZlY3QuYWxsb3dSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5hZGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlID09PSBcImNsZWFyXCIgLyogQ0xFQVIgKi8pIHtcclxuICAgICAgICAvLyBjb2xsZWN0aW9uIGJlaW5nIGNsZWFyZWRcclxuICAgICAgICAvLyB0cmlnZ2VyIGFsbCBlZmZlY3RzIGZvciB0YXJnZXRcclxuICAgICAgICBkZXBzTWFwLmZvckVhY2goYWRkKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ2xlbmd0aCcgJiYgaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbGVuZ3RoJyB8fCBrZXkgPj0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGFkZChkZXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBzY2hlZHVsZSBydW5zIGZvciBTRVQgfCBBREQgfCBERUxFVEVcclxuICAgICAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgYWRkKGRlcHNNYXAuZ2V0KGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbHNvIHJ1biBmb3IgaXRlcmF0aW9uIGtleSBvbiBBREQgfCBERUxFVEUgfCBNYXAuU0VUXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIiAvKiBBREQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyS2V5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgaW5kZXggYWRkZWQgdG8gYXJyYXkgLT4gbGVuZ3RoIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoJ2xlbmd0aCcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCIgLyogREVMRVRFICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2V0XCIgLyogU0VUICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGQoZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHJ1biA9IChlZmZlY3QpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVmZmVjdC5vcHRpb25zLm9uVHJpZ2dlcikge1xyXG4gICAgICAgICAgICBlZmZlY3Qub3B0aW9ucy5vblRyaWdnZXIoe1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRUYXJnZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy5zY2hlZHVsZXIpIHtcclxuICAgICAgICAgICAgZWZmZWN0Lm9wdGlvbnMuc2NoZWR1bGVyKGVmZmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWZmZWN0cy5mb3JFYWNoKHJ1bik7XHJcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcclxuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbClcclxuICAgIC5tYXAoa2V5ID0+IFN5bWJvbFtrZXldKVxyXG4gICAgLmZpbHRlcihpc1N5bWJvbCkpO1xyXG5jb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcigpO1xyXG5jb25zdCBzaGFsbG93R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoZmFsc2UsIHRydWUpO1xyXG5jb25zdCByZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUpO1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlLCB0cnVlKTtcclxuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0ge307XHJcblsnaW5jbHVkZXMnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZiddLmZvckVhY2goa2V5ID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IEFycmF5LnByb3RvdHlwZVtrZXldO1xyXG4gICAgYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgdHJhY2soYXJyLCBcImdldFwiIC8qIEdFVCAqLywgaSArICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2UgcnVuIHRoZSBtZXRob2QgdXNpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgZmlyc3QgKHdoaWNoIG1heSBiZSByZWFjdGl2ZSlcclxuICAgICAgICBjb25zdCByZXMgPSBtZXRob2QuYXBwbHkoYXJyLCBhcmdzKTtcclxuICAgICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoYXQgZGlkbid0IHdvcmssIHJ1biBpdCBhZ2FpbiB1c2luZyByYXcgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGFyciwgYXJncy5tYXAodG9SYXcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcblsncHVzaCcsICdwb3AnLCAnc2hpZnQnLCAndW5zaGlmdCcsICdzcGxpY2UnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICBjb25zdCBtZXRob2QgPSBBcnJheS5wcm90b3R5cGVba2V5XTtcclxuICAgIGFycmF5SW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUdldHRlcihpc1JlYWRvbmx5ID0gZmFsc2UsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogSVNfUkVBQ1RJVkUgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSQVcgKi8gJiZcclxuICAgICAgICAgICAgcmVjZWl2ZXIgPT09XHJcbiAgICAgICAgICAgICAgICAoaXNSZWFkb25seVxyXG4gICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seU1hcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWRvbmx5TWFwXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzaGFsbG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWN0aXZlTWFwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5ICYmIHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcclxuICAgICAgICBpZiAoaXNTeW1ib2woa2V5KVxyXG4gICAgICAgICAgICA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpXHJcbiAgICAgICAgICAgIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5KSB7XHJcbiAgICAgICAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiAvKiBHRVQgKi8sIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JlZihyZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlZiB1bndyYXBwaW5nIC0gZG9lcyBub3QgYXBwbHkgZm9yIEFycmF5ICsgaW50ZWdlciBrZXkuXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFVud3JhcCA9ICF0YXJnZXRJc0FycmF5IHx8ICFpc0ludGVnZXJLZXkoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVud3JhcCA/IHJlcy52YWx1ZSA6IHJlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCByZXR1cm5lZCB2YWx1ZSBpbnRvIGEgcHJveHkgYXMgd2VsbC4gd2UgZG8gdGhlIGlzT2JqZWN0IGNoZWNrXHJcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gYXZvaWQgaW52YWxpZCB2YWx1ZSB3YXJuaW5nLiBBbHNvIG5lZWQgdG8gbGF6eSBhY2Nlc3MgcmVhZG9ubHlcclxuICAgICAgICAgICAgLy8gYW5kIHJlYWN0aXZlIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeS5cclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHkgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcbn1cclxuY29uc3Qgc2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIoKTtcclxuY29uc3Qgc2hhbGxvd1NldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKHRydWUpO1xyXG5mdW5jdGlvbiBjcmVhdGVTZXR0ZXIoc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcclxuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoIXNoYWxsb3cpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KVxyXG4gICAgICAgICAgICA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aFxyXG4gICAgICAgICAgICA6IGhhc093bih0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XHJcbiAgICAgICAgLy8gZG9uJ3QgdHJpZ2dlciBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHVwIGluIHRoZSBwcm90b3R5cGUgY2hhaW4gb2Ygb3JpZ2luYWxcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSB0b1JhdyhyZWNlaXZlcikpIHtcclxuICAgICAgICAgICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIEFERCAqLywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBTRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xyXG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcclxuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcclxuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcclxuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcclxuICAgICAgICB0cmFjayh0YXJnZXQsIFwiaGFzXCIgLyogSEFTICovLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBvd25LZXlzKHRhcmdldCkge1xyXG4gICAgdHJhY2sodGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBJVEVSQVRFICovLCBpc0FycmF5KHRhcmdldCkgPyAnbGVuZ3RoJyA6IElURVJBVEVfS0VZKTtcclxuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxufVxyXG5jb25zdCBtdXRhYmxlSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQsXHJcbiAgICBzZXQsXHJcbiAgICBkZWxldGVQcm9wZXJ0eSxcclxuICAgIGhhcyxcclxuICAgIG93bktleXNcclxufTtcclxuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IHtcclxuICAgIGdldDogcmVhZG9ubHlHZXQsXHJcbiAgICBzZXQodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufTtcclxuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSBleHRlbmQoe30sIG11dGFibGVIYW5kbGVycywge1xyXG4gICAgZ2V0OiBzaGFsbG93R2V0LFxyXG4gICAgc2V0OiBzaGFsbG93U2V0XHJcbn0pO1xyXG4vLyBQcm9wcyBoYW5kbGVycyBhcmUgc3BlY2lhbCBpbiB0aGUgc2Vuc2UgdGhhdCBpdCBzaG91bGQgbm90IHVud3JhcCB0b3AtbGV2ZWxcclxuLy8gcmVmcyAoaW4gb3JkZXIgdG8gYWxsb3cgcmVmcyB0byBiZSBleHBsaWNpdGx5IHBhc3NlZCBkb3duKSwgYnV0IHNob3VsZFxyXG4vLyByZXRhaW4gdGhlIHJlYWN0aXZpdHkgb2YgdGhlIG5vcm1hbCByZWFkb25seSBvYmplY3QuXHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUhhbmRsZXJzID0gZXh0ZW5kKHt9LCByZWFkb25seUhhbmRsZXJzLCB7XHJcbiAgICBnZXQ6IHNoYWxsb3dSZWFkb25seUdldFxyXG59KTtcblxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XHJcbmNvbnN0IHRvUmVhZG9ubHkgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWRvbmx5KHZhbHVlKSA6IHZhbHVlO1xyXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xyXG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xyXG5mdW5jdGlvbiBnZXQkMSh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgLy8gIzE3NzI6IHJlYWRvbmx5KHJlYWN0aXZlKE1hcCkpIHNob3VsZCByZXR1cm4gcmVhZG9ubHkgKyByZWFjdGl2ZSB2ZXJzaW9uXHJcbiAgICAvLyBvZiB0aGUgdmFsdWVcclxuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcclxuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XHJcbiAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogR0VUICovLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIEdFVCAqLywgcmF3S2V5KTtcclxuICAgIGNvbnN0IHsgaGFzIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xyXG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KGtleSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYXMkMShrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcclxuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XHJcbiAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcclxuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIgLyogSEFTICovLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIEhBUyAqLywgcmF3S2V5KTtcclxuICAgIHJldHVybiBrZXkgPT09IHJhd0tleVxyXG4gICAgICAgID8gdGFyZ2V0LmhhcyhrZXkpXHJcbiAgICAgICAgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xyXG59XHJcbmZ1bmN0aW9uIHNpemUodGFyZ2V0LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcclxuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSQVcgKi9dO1xyXG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2sodG9SYXcodGFyZ2V0KSwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgSVRFUkFURV9LRVkpO1xyXG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgJ3NpemUnLCB0YXJnZXQpO1xyXG59XHJcbmZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xyXG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcclxuICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGNvbnN0IGhhZEtleSA9IHByb3RvLmhhcy5jYWxsKHRhcmdldCwgdmFsdWUpO1xyXG4gICAgaWYgKCFoYWRLZXkpIHtcclxuICAgICAgICB0YXJnZXQuYWRkKHZhbHVlKTtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBBREQgKi8sIHZhbHVlLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufVxyXG5mdW5jdGlvbiBzZXQkMShrZXksIHZhbHVlKSB7XHJcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcclxuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xyXG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcclxuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XHJcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIHRhcmdldC5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICBpZiAoIWhhZEtleSkge1xyXG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIEFERCAqLywga2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBTRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGtleSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xyXG4gICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcclxuICAgIGlmICghaGFkS2V5KSB7XHJcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcclxuICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0ID8gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpIDogdW5kZWZpbmVkO1xyXG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5kZWxldGUoa2V5KTtcclxuICAgIGlmIChoYWRLZXkpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XHJcbiAgICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xyXG4gICAgY29uc3Qgb2xkVGFyZ2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyBpc01hcCh0YXJnZXQpXHJcbiAgICAgICAgICAgID8gbmV3IE1hcCh0YXJnZXQpXHJcbiAgICAgICAgICAgIDogbmV3IFNldCh0YXJnZXQpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAvLyBmb3J3YXJkIHRoZSBvcGVyYXRpb24gYmVmb3JlIHF1ZXVlaW5nIHJlYWN0aW9uc1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XHJcbiAgICBpZiAoaGFkSXRlbXMpIHtcclxuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJjbGVhclwiIC8qIENMRUFSICovLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb2xkVGFyZ2V0KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlRm9yRWFjaChpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcclxuICAgICAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xyXG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogSVRFUkFURSAqLywgSVRFUkFURV9LRVkpO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQ6IG1ha2Ugc3VyZSB0aGUgY2FsbGJhY2sgaXNcclxuICAgICAgICAgICAgLy8gMS4gaW52b2tlZCB3aXRoIHRoZSByZWFjdGl2ZSBtYXAgYXMgYHRoaXNgIGFuZCAzcmQgYXJnXHJcbiAgICAgICAgICAgIC8vIDIuIHRoZSB2YWx1ZSByZWNlaXZlZCBzaG91bGQgYmUgYSBjb3JyZXNwb25kaW5nIHJlYWN0aXZlL3JlYWRvbmx5LlxyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB3cmFwKHZhbHVlKSwgd3JhcChrZXkpLCBvYnNlcnZlZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiIC8qIFJBVyAqL107XHJcbiAgICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcclxuICAgICAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XHJcbiAgICAgICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSAnZW50cmllcycgfHwgKG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwKTtcclxuICAgICAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09ICdrZXlzJyAmJiB0YXJnZXRJc01hcDtcclxuICAgICAgICBjb25zdCBpbm5lckl0ZXJhdG9yID0gdGFyZ2V0W21ldGhvZF0oLi4uYXJncyk7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcclxuICAgICAgICAhaXNSZWFkb25seSAmJlxyXG4gICAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIElURVJBVEUgKi8sIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWSk7XHJcbiAgICAgICAgLy8gcmV0dXJuIGEgd3JhcHBlZCBpdGVyYXRvciB3aGljaCByZXR1cm5zIG9ic2VydmVkIHZlcnNpb25zIG9mIHRoZVxyXG4gICAgICAgIC8vIHZhbHVlcyBlbWl0dGVkIGZyb20gdGhlIHJlYWwgaXRlcmF0b3JcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxyXG4gICAgICAgICAgICBuZXh0KCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgID8geyB2YWx1ZSwgZG9uZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gaXRlcmFibGUgcHJvdG9jb2xcclxuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRvUmF3KHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgLyogREVMRVRFICovID8gZmFsc2UgOiB0aGlzO1xyXG4gICAgfTtcclxufVxyXG5jb25zdCBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5KTtcclxuICAgIH0sXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcclxuICAgIH0sXHJcbiAgICBoYXM6IGhhcyQxLFxyXG4gICAgYWRkLFxyXG4gICAgc2V0OiBzZXQkMSxcclxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXHJcbiAgICBjbGVhcixcclxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyA9IHtcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XHJcbiAgICB9LFxyXG4gICAgaGFzOiBoYXMkMSxcclxuICAgIGFkZCxcclxuICAgIHNldDogc2V0JDEsXHJcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxyXG4gICAgY2xlYXIsXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCB0cnVlKVxyXG59O1xyXG5jb25zdCByZWFkb25seUluc3RydW1lbnRhdGlvbnMgPSB7XHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNpemUodGhpcywgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgaGFzKGtleSkge1xyXG4gICAgICAgIHJldHVybiBoYXMkMS5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIEFERCAqLyksXHJcbiAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIgLyogU0VUICovKSxcclxuICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiAvKiBERUxFVEUgKi8pLFxyXG4gICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBDTEVBUiAqLyksXHJcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGhhcyhrZXkpIHtcclxuICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBBREQgKi8pLFxyXG4gICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFNFVCAqLyksXHJcbiAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogREVMRVRFICovKSxcclxuICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogQ0xFQVIgKi8pLFxyXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCB0cnVlKVxyXG59O1xyXG5jb25zdCBpdGVyYXRvck1ldGhvZHMgPSBbJ2tleXMnLCAndmFsdWVzJywgJ2VudHJpZXMnLCBTeW1ib2wuaXRlcmF0b3JdO1xyXG5pdGVyYXRvck1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xyXG4gICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIGZhbHNlKTtcclxuICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCBmYWxzZSk7XHJcbiAgICBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIHRydWUpO1xyXG59KTtcclxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGlzUmVhZG9ubHksIHNoYWxsb3cpIHtcclxuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93XHJcbiAgICAgICAgPyBpc1JlYWRvbmx5XHJcbiAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xyXG4gICAgICAgICAgICA6IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgOiBpc1JlYWRvbmx5XHJcbiAgICAgICAgICAgID8gcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXHJcbiAgICAgICAgICAgIDogbXV0YWJsZUluc3RydW1lbnRhdGlvbnM7XHJcbiAgICByZXR1cm4gKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ge1xyXG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJBVyAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoaGFzT3duKGluc3RydW1lbnRhdGlvbnMsIGtleSkgJiYga2V5IGluIHRhcmdldFxyXG4gICAgICAgICAgICA/IGluc3RydW1lbnRhdGlvbnNcclxuICAgICAgICAgICAgOiB0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xyXG4gICAgfTtcclxufVxyXG5jb25zdCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIGZhbHNlKVxyXG59O1xyXG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXHJcbn07XHJcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXHJcbn07XHJcbmNvbnN0IHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcclxuICAgIGdldDogY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIHRydWUpXHJcbn07XHJcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcclxuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XHJcbiAgICBpZiAocmF3S2V5ICE9PSBrZXkgJiYgaGFzLmNhbGwodGFyZ2V0LCByYXdLZXkpKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgUmVhY3RpdmUgJHt0eXBlfSBjb250YWlucyBib3RoIHRoZSByYXcgYW5kIHJlYWN0aXZlIGAgK1xyXG4gICAgICAgICAgICBgdmVyc2lvbnMgb2YgdGhlIHNhbWUgb2JqZWN0JHt0eXBlID09PSBgTWFwYCA/IGAgYXMga2V5c2AgOiBgYH0sIGAgK1xyXG4gICAgICAgICAgICBgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBgICtcclxuICAgICAgICAgICAgYEF2b2lkIGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIGAgK1xyXG4gICAgICAgICAgICBgb2YgYW4gb2JqZWN0IGFuZCBvbmx5IHVzZSB0aGUgcmVhY3RpdmUgdmVyc2lvbiBpZiBwb3NzaWJsZS5gKTtcclxuICAgIH1cclxufVxuXG5jb25zdCByZWFjdGl2ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XHJcbmNvbnN0IHJlYWRvbmx5TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuZnVuY3Rpb24gdGFyZ2V0VHlwZU1hcChyYXdUeXBlKSB7XHJcbiAgICBzd2l0Y2ggKHJhd1R5cGUpIHtcclxuICAgICAgICBjYXNlICdPYmplY3QnOlxyXG4gICAgICAgIGNhc2UgJ0FycmF5JzpcclxuICAgICAgICAgICAgcmV0dXJuIDEgLyogQ09NTU9OICovO1xyXG4gICAgICAgIGNhc2UgJ01hcCc6XHJcbiAgICAgICAgY2FzZSAnU2V0JzpcclxuICAgICAgICBjYXNlICdXZWFrTWFwJzpcclxuICAgICAgICBjYXNlICdXZWFrU2V0JzpcclxuICAgICAgICAgICAgcmV0dXJuIDIgLyogQ09MTEVDVElPTiAqLztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFRhcmdldFR5cGUodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCIgLyogU0tJUCAqL10gfHwgIU9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpXHJcbiAgICAgICAgPyAwIC8qIElOVkFMSUQgKi9cclxuICAgICAgICA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XHJcbn1cclxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XHJcbiAgICAvLyBpZiB0cnlpbmcgdG8gb2JzZXJ2ZSBhIHJlYWRvbmx5IHByb3h5LCByZXR1cm4gdGhlIHJlYWRvbmx5IHZlcnNpb24uXHJcbiAgICBpZiAodGFyZ2V0ICYmIHRhcmdldFtcIl9fdl9pc1JlYWRvbmx5XCIgLyogSVNfUkVBRE9OTFkgKi9dKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGZhbHNlLCBtdXRhYmxlSGFuZGxlcnMsIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWN0aXZlTWFwKTtcclxufVxyXG4vKipcclxuICogUmV0dXJuIGEgc2hhbGxvd2x5LXJlYWN0aXZlIGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdFxyXG4gKiBsZXZlbCBwcm9wZXJ0aWVzIGFyZSByZWFjdGl2ZS4gSXQgYWxzbyBkb2VzIG5vdCBhdXRvLXVud3JhcCByZWZzIChldmVuIGF0IHRoZVxyXG4gKiByb290IGxldmVsKS5cclxuICovXHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGZhbHNlLCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycywgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycywgc2hhbGxvd1JlYWN0aXZlTWFwKTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHJlYWRvbmx5IGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdC4gTm90ZSB0aGUgcmV0dXJuZWQgY29weSBpcyBub3RcclxuICogbWFkZSByZWFjdGl2ZSwgYnV0IGByZWFkb25seWAgY2FuIGJlIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHJlYWN0aXZlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgcmVhZG9ubHlIYW5kbGVycywgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWRvbmx5TWFwKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHJlYWN0aXZlLWNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdCBsZXZlbFxyXG4gKiBwcm9wZXJ0aWVzIGFyZSByZWFkb25seSwgYW5kIGRvZXMgTk9UIHVud3JhcCByZWZzIG5vciByZWN1cnNpdmVseSBjb252ZXJ0XHJcbiAqIHJldHVybmVkIHByb3BlcnRpZXMuXHJcbiAqIFRoaXMgaXMgdXNlZCBmb3IgY3JlYXRpbmcgdGhlIHByb3BzIHByb3h5IG9iamVjdCBmb3Igc3RhdGVmdWwgY29tcG9uZW50cy5cclxuICovXHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcclxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFkb25seU1hcCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBpc1JlYWRvbmx5LCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycywgcHJveHlNYXApIHtcclxuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGB2YWx1ZSBjYW5ub3QgYmUgbWFkZSByZWFjdGl2ZTogJHtTdHJpbmcodGFyZ2V0KX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIC8vIHRhcmdldCBpcyBhbHJlYWR5IGEgUHJveHksIHJldHVybiBpdC5cclxuICAgIC8vIGV4Y2VwdGlvbjogY2FsbGluZyByZWFkb25seSgpIG9uIGEgcmVhY3RpdmUgb2JqZWN0XHJcbiAgICBpZiAodGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJBVyAqL10gJiZcclxuICAgICAgICAhKGlzUmVhZG9ubHkgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIiAvKiBJU19SRUFDVElWRSAqL10pKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIC8vIHRhcmdldCBhbHJlYWR5IGhhcyBjb3JyZXNwb25kaW5nIFByb3h5XHJcbiAgICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoZXhpc3RpbmdQcm94eSkge1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhIHdoaXRlbGlzdCBvZiB2YWx1ZSB0eXBlcyBjYW4gYmUgb2JzZXJ2ZWQuXHJcbiAgICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xyXG4gICAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVycyk7XHJcbiAgICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XHJcbiAgICByZXR1cm4gcHJveHk7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCIgLyogUkFXICovXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIElTX1JFQUNUSVZFICovXSk7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIiAvKiBJU19SRUFET05MWSAqL10pO1xyXG59XHJcbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlKSB8fCBpc1JlYWRvbmx5KHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xyXG4gICAgcmV0dXJuICgob2JzZXJ2ZWQgJiYgdG9SYXcob2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUkFXICovXSkpIHx8IG9ic2VydmVkKTtcclxufVxyXG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XHJcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiAvKiBTS0lQICovLCB0cnVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5jb25zdCBjb252ZXJ0ID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSA/IHJlYWN0aXZlKHZhbCkgOiB2YWw7XHJcbmZ1bmN0aW9uIGlzUmVmKHIpIHtcclxuICAgIHJldHVybiBCb29sZWFuKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xyXG59XHJcbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSk7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XHJcbn1cclxuY2xhc3MgUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihfcmF3VmFsdWUsIF9zaGFsbG93ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IF9yYXdWYWx1ZTtcclxuICAgICAgICB0aGlzLl9zaGFsbG93ID0gX3NoYWxsb3c7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX3NoYWxsb3cgPyBfcmF3VmFsdWUgOiBjb252ZXJ0KF9yYXdWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgdHJhY2sodG9SYXcodGhpcyksIFwiZ2V0XCIgLyogR0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQodG9SYXcobmV3VmFsKSwgdGhpcy5fcmF3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3NoYWxsb3cgPyBuZXdWYWwgOiBjb252ZXJ0KG5ld1ZhbCk7XHJcbiAgICAgICAgICAgIHRyaWdnZXIodG9SYXcodGhpcyksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnLCBuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiByYXdWYWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYpIHtcclxuICAgIHRyaWdnZXIodG9SYXcocmVmKSwgXCJzZXRcIiAvKiBTRVQgKi8sICd2YWx1ZScsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHJlZi52YWx1ZSA6IHZvaWQgMCk7XHJcbn1cclxuZnVuY3Rpb24gdW5yZWYocmVmKSB7XHJcbiAgICByZXR1cm4gaXNSZWYocmVmKSA/IHJlZi52YWx1ZSA6IHJlZjtcclxufVxyXG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XHJcbiAgICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxyXG4gICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XHJcbiAgICAgICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gcHJveHlSZWZzKG9iamVjdFdpdGhSZWZzKSB7XHJcbiAgICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcylcclxuICAgICAgICA/IG9iamVjdFdpdGhSZWZzXHJcbiAgICAgICAgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XHJcbn1cclxuY2xhc3MgQ3VzdG9tUmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XHJcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoKCkgPT4gdHJhY2sodGhpcywgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpLCAoKSA9PiB0cmlnZ2VyKHRoaXMsIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnKSk7XHJcbiAgICAgICAgdGhpcy5fZ2V0ID0gZ2V0O1xyXG4gICAgICAgIHRoaXMuX3NldCA9IHNldDtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0KG5ld1ZhbCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcclxuICAgIHJldHVybiBuZXcgQ3VzdG9tUmVmSW1wbChmYWN0b3J5KTtcclxufVxyXG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYHRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICByZXRba2V5XSA9IHRvUmVmKG9iamVjdCwga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5KSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcclxuICAgICAgICB0aGlzLl9rZXkgPSBfa2V5O1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0W3RoaXMuX2tleV07XHJcbiAgICB9XHJcbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXkpIHtcclxuICAgIHJldHVybiBpc1JlZihvYmplY3Rba2V5XSlcclxuICAgICAgICA/IG9iamVjdFtrZXldXHJcbiAgICAgICAgOiBuZXcgT2JqZWN0UmVmSW1wbChvYmplY3QsIGtleSk7XHJcbn1cblxuY2xhc3MgQ29tcHV0ZWRSZWZJbXBsIHtcclxuICAgIGNvbnN0cnVjdG9yKGdldHRlciwgX3NldHRlciwgaXNSZWFkb25seSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRlciA9IF9zZXR0ZXI7XHJcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVmZmVjdCA9IGVmZmVjdChnZXR0ZXIsIHtcclxuICAgICAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICAgICAgc2NoZWR1bGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIodG9SYXcodGhpcyksIFwic2V0XCIgLyogU0VUICovLCAndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiIC8qIElTX1JFQURPTkxZICovXSA9IGlzUmVhZG9ubHk7XHJcbiAgICB9XHJcbiAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgLy8gdGhlIGNvbXB1dGVkIHJlZiBtYXkgZ2V0IHdyYXBwZWQgYnkgb3RoZXIgcHJveGllcyBlLmcuIHJlYWRvbmx5KCkgIzMzNzZcclxuICAgICAgICBjb25zdCBzZWxmID0gdG9SYXcodGhpcyk7XHJcbiAgICAgICAgaWYgKHNlbGYuX2RpcnR5KSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3ZhbHVlID0gdGhpcy5lZmZlY3QoKTtcclxuICAgICAgICAgICAgc2VsZi5fZGlydHkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJhY2soc2VsZiwgXCJnZXRcIiAvKiBHRVQgKi8sICd2YWx1ZScpO1xyXG4gICAgICAgIHJldHVybiBzZWxmLl92YWx1ZTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zKSB7XHJcbiAgICBsZXQgZ2V0dGVyO1xyXG4gICAgbGV0IHNldHRlcjtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucykpIHtcclxuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnM7XHJcbiAgICAgICAgc2V0dGVyID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgID8gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogTk9PUDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XHJcbiAgICAgICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQ29tcHV0ZWRSZWZJbXBsKGdldHRlciwgc2V0dGVyLCBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucykgfHwgIWdldHRlck9yT3B0aW9ucy5zZXQpO1xyXG59XG5cbmV4cG9ydCB7IElURVJBVEVfS0VZLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBlZmZlY3QsIGVuYWJsZVRyYWNraW5nLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgbWFya1JhdywgcGF1c2VUcmFja2luZywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmFjaywgdHJpZ2dlciwgdHJpZ2dlclJlZiwgdW5yZWYgfTtcbiIsImltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1Jhdywgc2hhbGxvd1JlYWN0aXZlLCB0cmlnZ2VyLCBpc1JlYWN0aXZlLCBlZmZlY3QsIHN0b3AsIHJlZiwgaXNQcm94eSwgcHJveHlSZWZzLCB0b1JlZiwgcmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgdHJhY2ssIGNvbXB1dGVkIGFzIGNvbXB1dGVkJDEsIGlzUmVhZG9ubHkgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuZXhwb3J0IHsgY3VzdG9tUmVmLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgbWFya1JhdywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmlnZ2VyUmVmLCB1bnJlZiB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNGdW5jdGlvbiwgaXNQcm9taXNlLCBpc0FycmF5LCBleHRlbmQsIEVNUFRZX09CSiwgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgaHlwaGVuYXRlLCBjYW1lbGl6ZSwgaXNPbiwgaGFzT3duLCBpc01vZGVsTGlzdGVuZXIsIGRlZiwgaXNSZXNlcnZlZFByb3AsIEVNUFRZX0FSUiwgaXNPYmplY3QsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgbWFrZU1hcCwgcmVtb3ZlLCBOT09QLCBoYXNDaGFuZ2VkLCBpc1NldCwgaXNNYXAsIGludm9rZUFycmF5Rm5zLCBOTywgZ2V0R2xvYmFsVGhpcywgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVN0eWxlLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XHJcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xyXG4gICAgc3RhY2sucHVzaCh2bm9kZSk7XHJcbn1cclxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XHJcbiAgICBzdGFjay5wb3AoKTtcclxufVxyXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xyXG4gICAgLy8gYXZvaWQgcHJvcHMgZm9ybWF0dGluZyBvciB3YXJuIGhhbmRsZXIgdHJhY2tpbmcgZGVwcyB0aGF0IG1pZ2h0IGJlIG11dGF0ZWRcclxuICAgIC8vIGR1cmluZyBwYXRjaCwgbGVhZGluZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXHJcbiAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XHJcbiAgICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xyXG4gICAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xyXG4gICAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XHJcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcFdhcm5IYW5kbGVyLCBpbnN0YW5jZSwgMTEgLyogQVBQX1dBUk5fSEFORExFUiAqLywgW1xyXG4gICAgICAgICAgICBtc2cgKyBhcmdzLmpvaW4oJycpLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcclxuICAgICAgICAgICAgdHJhY2VcclxuICAgICAgICAgICAgICAgIC5tYXAoKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gKVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpLFxyXG4gICAgICAgICAgICB0cmFjZVxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmICh0cmFjZS5sZW5ndGggJiZcclxuICAgICAgICAgICAgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcclxuICAgICAgICAgICAgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgIHdhcm5BcmdzLnB1c2goYFxcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XHJcbiAgICB9XHJcbiAgICByZXNldFRyYWNraW5nKCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VHJhY2UoKSB7XHJcbiAgICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICBpZiAoIWN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIC8vIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBzdGFjayBiZWNhdXNlIGl0IHdpbGwgYmUgaW5jb21wbGV0ZSBkdXJpbmcgdXBkYXRlc1xyXG4gICAgLy8gdGhhdCBkaWQgbm90IHN0YXJ0IGZyb20gdGhlIHJvb3QuIFJlLWNvbnN0cnVjdCB0aGUgcGFyZW50IGNoYWluIHVzaW5nXHJcbiAgICAvLyBpbnN0YW5jZSBwYXJlbnQgcG9pbnRlcnMuXHJcbiAgICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcclxuICAgIHdoaWxlIChjdXJyZW50Vk5vZGUpIHtcclxuICAgICAgICBjb25zdCBsYXN0ID0gbm9ybWFsaXplZFN0YWNrWzBdO1xyXG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3Qudm5vZGUgPT09IGN1cnJlbnRWTm9kZSkge1xyXG4gICAgICAgICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFN0YWNrLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcclxuICAgICAgICAgICAgICAgIHJlY3Vyc2VDb3VudDogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xyXG4gICAgICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRTdGFjaztcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xyXG4gICAgY29uc3QgbG9ncyA9IFtdO1xyXG4gICAgdHJhY2UuZm9yRWFjaCgoZW50cnksIGkpID0+IHtcclxuICAgICAgICBsb2dzLnB1c2goLi4uKGkgPT09IDAgPyBbXSA6IFtgXFxuYF0pLCAuLi5mb3JtYXRUcmFjZUVudHJ5KGVudHJ5KSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBsb2dzO1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFRyYWNlRW50cnkoeyB2bm9kZSwgcmVjdXJzZUNvdW50IH0pIHtcclxuICAgIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XHJcbiAgICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcclxuICAgIGNvbnN0IG9wZW4gPSBgIGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUodm5vZGUuY29tcG9uZW50LCB2bm9kZS50eXBlLCBpc1Jvb3QpfWA7XHJcbiAgICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XHJcbiAgICByZXR1cm4gdm5vZGUucHJvcHNcclxuICAgICAgICA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXVxyXG4gICAgICAgIDogW29wZW4gKyBjbG9zZV07XHJcbn1cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcclxuICAgIGNvbnN0IHJlcyA9IFtdO1xyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcclxuICAgIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIHJlcy5wdXNoKC4uLmZvcm1hdFByb3Aoa2V5LCBwcm9wc1trZXldKSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICByZXMucHVzaChgIC4uLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcclxuICAgICAgICB2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gW2Ake2tleX09Zm4ke3ZhbHVlLm5hbWUgPyBgPCR7dmFsdWUubmFtZX0+YCA6IGBgfWBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSB7XHJcbiAgICBbXCJiY1wiIC8qIEJFRk9SRV9DUkVBVEUgKi9dOiAnYmVmb3JlQ3JlYXRlIGhvb2snLFxyXG4gICAgW1wiY1wiIC8qIENSRUFURUQgKi9dOiAnY3JlYXRlZCBob29rJyxcclxuICAgIFtcImJtXCIgLyogQkVGT1JFX01PVU5UICovXTogJ2JlZm9yZU1vdW50IGhvb2snLFxyXG4gICAgW1wibVwiIC8qIE1PVU5URUQgKi9dOiAnbW91bnRlZCBob29rJyxcclxuICAgIFtcImJ1XCIgLyogQkVGT1JFX1VQREFURSAqL106ICdiZWZvcmVVcGRhdGUgaG9vaycsXHJcbiAgICBbXCJ1XCIgLyogVVBEQVRFRCAqL106ICd1cGRhdGVkJyxcclxuICAgIFtcImJ1bVwiIC8qIEJFRk9SRV9VTk1PVU5UICovXTogJ2JlZm9yZVVubW91bnQgaG9vaycsXHJcbiAgICBbXCJ1bVwiIC8qIFVOTU9VTlRFRCAqL106ICd1bm1vdW50ZWQgaG9vaycsXHJcbiAgICBbXCJhXCIgLyogQUNUSVZBVEVEICovXTogJ2FjdGl2YXRlZCBob29rJyxcclxuICAgIFtcImRhXCIgLyogREVBQ1RJVkFURUQgKi9dOiAnZGVhY3RpdmF0ZWQgaG9vaycsXHJcbiAgICBbXCJlY1wiIC8qIEVSUk9SX0NBUFRVUkVEICovXTogJ2Vycm9yQ2FwdHVyZWQgaG9vaycsXHJcbiAgICBbXCJydGNcIiAvKiBSRU5ERVJfVFJBQ0tFRCAqL106ICdyZW5kZXJUcmFja2VkIGhvb2snLFxyXG4gICAgW1wicnRnXCIgLyogUkVOREVSX1RSSUdHRVJFRCAqL106ICdyZW5kZXJUcmlnZ2VyZWQgaG9vaycsXHJcbiAgICBbMCAvKiBTRVRVUF9GVU5DVElPTiAqL106ICdzZXR1cCBmdW5jdGlvbicsXHJcbiAgICBbMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi9dOiAncmVuZGVyIGZ1bmN0aW9uJyxcclxuICAgIFsyIC8qIFdBVENIX0dFVFRFUiAqL106ICd3YXRjaGVyIGdldHRlcicsXHJcbiAgICBbMyAvKiBXQVRDSF9DQUxMQkFDSyAqL106ICd3YXRjaGVyIGNhbGxiYWNrJyxcclxuICAgIFs0IC8qIFdBVENIX0NMRUFOVVAgKi9dOiAnd2F0Y2hlciBjbGVhbnVwIGZ1bmN0aW9uJyxcclxuICAgIFs1IC8qIE5BVElWRV9FVkVOVF9IQU5ETEVSICovXTogJ25hdGl2ZSBldmVudCBoYW5kbGVyJyxcclxuICAgIFs2IC8qIENPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovXTogJ2NvbXBvbmVudCBldmVudCBoYW5kbGVyJyxcclxuICAgIFs3IC8qIFZOT0RFX0hPT0sgKi9dOiAndm5vZGUgaG9vaycsXHJcbiAgICBbOCAvKiBESVJFQ1RJVkVfSE9PSyAqL106ICdkaXJlY3RpdmUgaG9vaycsXHJcbiAgICBbOSAvKiBUUkFOU0lUSU9OX0hPT0sgKi9dOiAndHJhbnNpdGlvbiBob29rJyxcclxuICAgIFsxMCAvKiBBUFBfRVJST1JfSEFORExFUiAqL106ICdhcHAgZXJyb3JIYW5kbGVyJyxcclxuICAgIFsxMSAvKiBBUFBfV0FSTl9IQU5ETEVSICovXTogJ2FwcCB3YXJuSGFuZGxlcicsXHJcbiAgICBbMTIgLyogRlVOQ1RJT05fUkVGICovXTogJ3JlZiBmdW5jdGlvbicsXHJcbiAgICBbMTMgLyogQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqL106ICdhc3luYyBjb21wb25lbnQgbG9hZGVyJyxcclxuICAgIFsxNCAvKiBTQ0hFRFVMRVIgKi9dOiAnc2NoZWR1bGVyIGZsdXNoLiBUaGlzIGlzIGxpa2VseSBhIFZ1ZSBpbnRlcm5hbHMgYnVnLiAnICtcclxuICAgICAgICAnUGxlYXNlIG9wZW4gYW4gaXNzdWUgYXQgaHR0cHM6Ly9uZXctaXNzdWUudnVlanMub3JnLz9yZXBvPXZ1ZWpzL3Z1ZS1uZXh0J1xyXG59O1xyXG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXMgPSBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xyXG4gICAgICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcclxuICAgICAgICAgICAgcmVzLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZXMucHVzaChjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbltpXSwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcclxuICAgIGNvbnN0IGNvbnRleHRWTm9kZSA9IGluc3RhbmNlID8gaW5zdGFuY2Uudm5vZGUgOiBudWxsO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcclxuICAgICAgICAvLyB0aGUgZXhwb3NlZCBpbnN0YW5jZSBpcyB0aGUgcmVuZGVyIHByb3h5IHRvIGtlZXAgaXQgY29uc2lzdGVudCB3aXRoIDIueFxyXG4gICAgICAgIGNvbnN0IGV4cG9zZWRJbnN0YW5jZSA9IGluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgIC8vIGluIHByb2R1Y3Rpb24gdGhlIGhvb2sgcmVjZWl2ZXMgb25seSB0aGUgZXJyb3IgY29kZVxyXG4gICAgICAgIGNvbnN0IGVycm9ySW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IEVycm9yVHlwZVN0cmluZ3NbdHlwZV0gOiB0eXBlO1xyXG4gICAgICAgIHdoaWxlIChjdXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xyXG4gICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXBwLWxldmVsIGhhbmRsaW5nXHJcbiAgICAgICAgY29uc3QgYXBwRXJyb3JIYW5kbGVyID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZXJyb3JIYW5kbGVyO1xyXG4gICAgICAgIGlmIChhcHBFcnJvckhhbmRsZXIpIHtcclxuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcEVycm9ySGFuZGxlciwgbnVsbCwgMTAgLyogQVBQX0VSUk9SX0hBTkRMRVIgKi8sIFtlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldik7XHJcbn1cclxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3NbdHlwZV07XHJcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xyXG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FybihgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XHJcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xyXG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmFzaCBpbiBkZXYgYnkgZGVmYXVsdCBzbyBpdCdzIG1vcmUgbm90aWNlYWJsZVxyXG4gICAgICAgIGlmICh0aHJvd0luRGV2KSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyByZWNvdmVyIGluIHByb2QgdG8gcmVkdWNlIHRoZSBpbXBhY3Qgb24gZW5kLXVzZXJcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9XHJcbn1cblxubGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcclxubGV0IGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XHJcbmNvbnN0IHF1ZXVlID0gW107XHJcbmxldCBmbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcGVuZGluZ1ByZUZsdXNoQ2JzID0gW107XHJcbmxldCBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbmxldCBwcmVGbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xyXG5sZXQgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcclxubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcclxuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcclxubGV0IGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IG51bGw7XHJcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcclxuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcclxuICAgIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcclxuICAgIHJldHVybiBmbiA/IHAudGhlbih0aGlzID8gZm4uYmluZCh0aGlzKSA6IGZuKSA6IHA7XHJcbn1cclxuLy8gIzI3NjhcclxuLy8gVXNlIGJpbmFyeS1zZWFyY2ggdG8gZmluZCBhIHN1aXRhYmxlIHBvc2l0aW9uIGluIHRoZSBxdWV1ZSxcclxuLy8gc28gdGhhdCB0aGUgcXVldWUgbWFpbnRhaW5zIHRoZSBpbmNyZWFzaW5nIG9yZGVyIG9mIGpvYidzIGlkLFxyXG4vLyB3aGljaCBjYW4gcHJldmVudCB0aGUgam9iIGZyb20gYmVpbmcgc2tpcHBlZCBhbmQgYWxzbyBjYW4gYXZvaWQgcmVwZWF0ZWQgcGF0Y2hpbmcuXHJcbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChqb2IpIHtcclxuICAgIC8vIHRoZSBzdGFydCBpbmRleCBzaG91bGQgYmUgYGZsdXNoSW5kZXggKyAxYFxyXG4gICAgbGV0IHN0YXJ0ID0gZmx1c2hJbmRleCArIDE7XHJcbiAgICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xyXG4gICAgY29uc3Qgam9iSWQgPSBnZXRJZChqb2IpO1xyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgY29uc3QgbWlkZGxlID0gKHN0YXJ0ICsgZW5kKSA+Pj4gMTtcclxuICAgICAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKHF1ZXVlW21pZGRsZV0pO1xyXG4gICAgICAgIG1pZGRsZUpvYklkIDwgam9iSWQgPyAoc3RhcnQgPSBtaWRkbGUgKyAxKSA6IChlbmQgPSBtaWRkbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0YXJ0O1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xyXG4gICAgLy8gdGhlIGRlZHVwZSBzZWFyY2ggdXNlcyB0aGUgc3RhcnRJbmRleCBhcmd1bWVudCBvZiBBcnJheS5pbmNsdWRlcygpXHJcbiAgICAvLyBieSBkZWZhdWx0IHRoZSBzZWFyY2ggaW5kZXggaW5jbHVkZXMgdGhlIGN1cnJlbnQgam9iIHRoYXQgaXMgYmVpbmcgcnVuXHJcbiAgICAvLyBzbyBpdCBjYW5ub3QgcmVjdXJzaXZlbHkgdHJpZ2dlciBpdHNlbGYgYWdhaW4uXHJcbiAgICAvLyBpZiB0aGUgam9iIGlzIGEgd2F0Y2goKSBjYWxsYmFjaywgdGhlIHNlYXJjaCB3aWxsIHN0YXJ0IHdpdGggYSArMSBpbmRleCB0b1xyXG4gICAgLy8gYWxsb3cgaXQgcmVjdXJzaXZlbHkgdHJpZ2dlciBpdHNlbGYgLSBpdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvXHJcbiAgICAvLyBlbnN1cmUgaXQgZG9lc24ndCBlbmQgdXAgaW4gYW4gaW5maW5pdGUgbG9vcC5cclxuICAgIGlmICgoIXF1ZXVlLmxlbmd0aCB8fFxyXG4gICAgICAgICFxdWV1ZS5pbmNsdWRlcyhqb2IsIGlzRmx1c2hpbmcgJiYgam9iLmFsbG93UmVjdXJzZSA/IGZsdXNoSW5kZXggKyAxIDogZmx1c2hJbmRleCkpICYmXHJcbiAgICAgICAgam9iICE9PSBjdXJyZW50UHJlRmx1c2hQYXJlbnRKb2IpIHtcclxuICAgICAgICBjb25zdCBwb3MgPSBmaW5kSW5zZXJ0aW9uSW5kZXgoam9iKTtcclxuICAgICAgICBpZiAocG9zID4gLTEpIHtcclxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKHBvcywgMCwgam9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goam9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWVGbHVzaCgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XHJcbiAgICBpZiAoIWlzRmx1c2hpbmcgJiYgIWlzRmx1c2hQZW5kaW5nKSB7XHJcbiAgICAgICAgaXNGbHVzaFBlbmRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGludmFsaWRhdGVKb2Ioam9iKSB7XHJcbiAgICBjb25zdCBpID0gcXVldWUuaW5kZXhPZihqb2IpO1xyXG4gICAgaWYgKGkgPiBmbHVzaEluZGV4KSB7XHJcbiAgICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlQ2IoY2IsIGFjdGl2ZVF1ZXVlLCBwZW5kaW5nUXVldWUsIGluZGV4KSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2IpKSB7XHJcbiAgICAgICAgaWYgKCFhY3RpdmVRdWV1ZSB8fFxyXG4gICAgICAgICAgICAhYWN0aXZlUXVldWUuaW5jbHVkZXMoY2IsIGNiLmFsbG93UmVjdXJzZSA/IGluZGV4ICsgMSA6IGluZGV4KSkge1xyXG4gICAgICAgICAgICBwZW5kaW5nUXVldWUucHVzaChjYik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gaWYgY2IgaXMgYW4gYXJyYXksIGl0IGlzIGEgY29tcG9uZW50IGxpZmVjeWNsZSBob29rIHdoaWNoIGNhbiBvbmx5IGJlXHJcbiAgICAgICAgLy8gdHJpZ2dlcmVkIGJ5IGEgam9iLCB3aGljaCBpcyBhbHJlYWR5IGRlZHVwZWQgaW4gdGhlIG1haW4gcXVldWUsIHNvXHJcbiAgICAgICAgLy8gd2UgY2FuIHNraXAgZHVwbGljYXRlIGNoZWNrIGhlcmUgdG8gaW1wcm92ZSBwZXJmXHJcbiAgICAgICAgcGVuZGluZ1F1ZXVlLnB1c2goLi4uY2IpO1xyXG4gICAgfVxyXG4gICAgcXVldWVGbHVzaCgpO1xyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlUHJlRmx1c2hDYihjYikge1xyXG4gICAgcXVldWVDYihjYiwgYWN0aXZlUHJlRmx1c2hDYnMsIHBlbmRpbmdQcmVGbHVzaENicywgcHJlRmx1c2hJbmRleCk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xyXG4gICAgcXVldWVDYihjYiwgYWN0aXZlUG9zdEZsdXNoQ2JzLCBwZW5kaW5nUG9zdEZsdXNoQ2JzLCBwb3N0Rmx1c2hJbmRleCk7XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhzZWVuLCBwYXJlbnRKb2IgPSBudWxsKSB7XHJcbiAgICBpZiAocGVuZGluZ1ByZUZsdXNoQ2JzLmxlbmd0aCkge1xyXG4gICAgICAgIGN1cnJlbnRQcmVGbHVzaFBhcmVudEpvYiA9IHBhcmVudEpvYjtcclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQcmVGbHVzaENicyldO1xyXG4gICAgICAgIHBlbmRpbmdQcmVGbHVzaENicy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByZUZsdXNoSW5kZXggPSAwOyBwcmVGbHVzaEluZGV4IDwgYWN0aXZlUHJlRmx1c2hDYnMubGVuZ3RoOyBwcmVGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVByZUZsdXNoQ2JzW3ByZUZsdXNoSW5kZXhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3RpdmVQcmVGbHVzaENic1twcmVGbHVzaEluZGV4XSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVQcmVGbHVzaENicyA9IG51bGw7XHJcbiAgICAgICAgcHJlRmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgY3VycmVudFByZUZsdXNoUGFyZW50Sm9iID0gbnVsbDtcclxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbHVzaCB1bnRpbCBpdCBkcmFpbnNcclxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIHBhcmVudEpvYik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xyXG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcclxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxyXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcclxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xyXG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcclxuICAgICAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IEluZmluaXR5IDogam9iLmlkO1xyXG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xyXG4gICAgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcclxuICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIGZsdXNoUHJlRmx1c2hDYnMoc2Vlbik7XHJcbiAgICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cclxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxyXG4gICAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xyXG4gICAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkIHNvIGl0cyByZW5kZXIgZWZmZWN0IHdpbGwgaGF2ZSBzbWFsbGVyXHJcbiAgICAvLyAgICBwcmlvcml0eSBudW1iZXIpXHJcbiAgICAvLyAyLiBJZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHVwZGF0ZSxcclxuICAgIC8vICAgIGl0cyB1cGRhdGUgY2FuIGJlIHNraXBwZWQuXHJcbiAgICBxdWV1ZS5zb3J0KChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoam9iKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGpvYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoam9iLCBudWxsLCAxNCAvKiBTQ0hFRFVMRVIgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgZmx1c2hJbmRleCA9IDA7XHJcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcclxuICAgICAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcclxuICAgICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XHJcbiAgICAgICAgLy8gc29tZSBwb3N0Rmx1c2hDYiBxdWV1ZWQgam9icyFcclxuICAgICAgICAvLyBrZWVwIGZsdXNoaW5nIHVudGlsIGl0IGRyYWlucy5cclxuICAgICAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XHJcbiAgICBpZiAoIXNlZW4uaGFzKGZuKSkge1xyXG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xyXG4gICAgICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgYFRoaXMgbWVhbnMgeW91IGhhdmUgYSByZWFjdGl2ZSBlZmZlY3QgdGhhdCBpcyBtdXRhdGluZyBpdHMgb3duIGAgK1xyXG4gICAgICAgICAgICAgICAgYGRlcGVuZGVuY2llcyBhbmQgdGh1cyByZWN1cnNpdmVseSB0cmlnZ2VyaW5nIGl0c2VsZi4gUG9zc2libGUgc291cmNlcyBgICtcclxuICAgICAgICAgICAgICAgIGBpbmNsdWRlIGNvbXBvbmVudCB0ZW1wbGF0ZSwgcmVuZGVyIGZ1bmN0aW9uLCB1cGRhdGVkIGhvb2sgb3IgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2hlciBzb3VyY2UgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IG5ldyBTZXQoKTtcclxuLy8gRXhwb3NlIHRoZSBITVIgcnVudGltZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxyXG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXHJcbi8vIGl0IGVhc2llciB0byBiZSB1c2VkIGluIHRvb2xpbmdzIGxpa2UgdnVlLWxvYWRlclxyXG4vLyBOb3RlOiBmb3IgYSBjb21wb25lbnQgdG8gYmUgZWxpZ2libGUgZm9yIEhNUiBpdCBhbHNvIG5lZWRzIHRoZSBfX2htcklkIG9wdGlvblxyXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgY29uc3QgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gc2VsZlxyXG4gICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgOiB7fTtcclxuICAgIGdsb2JhbE9iamVjdC5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xyXG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxyXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcclxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxyXG4gICAgfTtcclxufVxyXG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcclxuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcclxuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcclxuICAgIH1cclxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcclxufVxyXG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XHJcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBjb21wb25lbnQpIHtcclxuICAgIGlmICghY29tcG9uZW50KSB7XHJcbiAgICAgICAgd2FybihgSE1SIEFQSSB1c2FnZSBpcyBvdXQgb2YgZGF0ZS5cXG5gICtcclxuICAgICAgICAgICAgYFBsZWFzZSB1cGdyYWRlIHZ1ZS1sb2FkZXIvdml0ZS9yb2xsdXAtcGx1Z2luLXZ1ZSBvciBvdGhlciByZWxldmFudCBgICtcclxuICAgICAgICAgICAgYGRlcGVuZGVuY3kgdGhhdCBoYW5kbGVzIFZ1ZSBTRkMgY29tcGlsYXRpb24uYCk7XHJcbiAgICAgICAgY29tcG9uZW50ID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBtYXAuc2V0KGlkLCB7XHJcbiAgICAgICAgY29tcG9uZW50OiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50LFxyXG4gICAgICAgIGluc3RhbmNlczogbmV3IFNldCgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKG5ld1JlbmRlcilcclxuICAgICAgICByZWNvcmQuY29tcG9uZW50LnJlbmRlciA9IG5ld1JlbmRlcjtcclxuICAgIC8vIEFycmF5LmZyb20gY3JlYXRlcyBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nXHJcbiAgICAvLyB1cGRhdGVzXHJcbiAgICBBcnJheS5mcm9tKHJlY29yZC5pbnN0YW5jZXMpLmZvckVhY2goaW5zdGFuY2UgPT4ge1xyXG4gICAgICAgIGlmIChuZXdSZW5kZXIpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xyXG4gICAgICAgIC8vIHRoaXMgZmxhZyBmb3JjZXMgY2hpbGQgY29tcG9uZW50cyB3aXRoIHNsb3QgY29udGVudCB0byB1cGRhdGVcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcclxuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xyXG4gICAgaWYgKCFyZWNvcmQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gQXJyYXkuZnJvbSBjcmVhdGVzIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmdcclxuICAgIC8vIHVwZGF0ZXNcclxuICAgIGNvbnN0IHsgY29tcG9uZW50LCBpbnN0YW5jZXMgfSA9IHJlY29yZDtcclxuICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhjb21wb25lbnQpKSB7XHJcbiAgICAgICAgLy8gMS4gVXBkYXRlIGV4aXN0aW5nIGNvbXAgZGVmaW5pdGlvbiB0byBtYXRjaCBuZXcgb25lXHJcbiAgICAgICAgbmV3Q29tcCA9IGlzQ2xhc3NDb21wb25lbnQobmV3Q29tcCkgPyBuZXdDb21wLl9fdmNjT3B0cyA6IG5ld0NvbXA7XHJcbiAgICAgICAgZXh0ZW5kKGNvbXBvbmVudCwgbmV3Q29tcCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghKGtleSBpbiBuZXdDb21wKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNvbXBvbmVudFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDIuIE1hcmsgY29tcG9uZW50IGRpcnR5LiBUaGlzIGZvcmNlcyB0aGUgcmVuZGVyZXIgdG8gcmVwbGFjZSB0aGUgY29tcG9uZW50XHJcbiAgICAgICAgLy8gb24gcGF0Y2guXHJcbiAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChjb21wb25lbnQpO1xyXG4gICAgICAgIC8vIDMuIE1ha2Ugc3VyZSB0byB1bm1hcmsgdGhlIGNvbXBvbmVudCBhZnRlciB0aGUgcmVsb2FkLlxyXG4gICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xyXG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBBcnJheS5mcm9tKGluc3RhbmNlcykuZm9yRWFjaChpbnN0YW5jZSA9PiB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCkge1xyXG4gICAgICAgICAgICAvLyA0LiBGb3JjZSB0aGUgcGFyZW50IGluc3RhbmNlIHRvIHJlLXJlbmRlci4gVGhpcyB3aWxsIGNhdXNlIGFsbCB1cGRhdGVkXHJcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudHMgdG8gYmUgdW5tb3VudGVkIGFuZCByZS1tb3VudGVkLiBRdWV1ZSB0aGUgdXBkYXRlIHNvIHRoYXQgd2VcclxuICAgICAgICAgICAgLy8gZG9uJ3QgZW5kIHVwIGZvcmNpbmcgdGhlIHNhbWUgcGFyZW50IHRvIHJlLXJlbmRlciBtdWx0aXBsZSB0aW1lcy5cclxuICAgICAgICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgbW91bnRlZCB2aWEgY3JlYXRlQXBwKCkgaGFzIGEgcmVsb2FkIG1ldGhvZFxyXG4gICAgICAgICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIGluc2lkZSB0cmVlIGNyZWF0ZWQgdmlhIHJhdyByZW5kZXIoKS4gRm9yY2UgcmVsb2FkLlxyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tITVJdIFJvb3Qgb3IgbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSBtb2RpZmllZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdHJ5V3JhcChmbikge1xyXG4gICAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKGlkLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIGAgK1xyXG4gICAgICAgICAgICAgICAgYEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cblxubGV0IGRldnRvb2xzO1xyXG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2soaG9vaykge1xyXG4gICAgZGV2dG9vbHMgPSBob29rO1xyXG59XHJcbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcclxuICAgIC8vIFRPRE8gcXVldWUgaWYgZGV2dG9vbHMgaXMgdW5kZWZpbmVkXHJcbiAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRldnRvb2xzLmVtaXQoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcclxuICAgICAgICBGcmFnbWVudCxcclxuICAgICAgICBUZXh0LFxyXG4gICAgICAgIENvbW1lbnQsXHJcbiAgICAgICAgU3RhdGljXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc1VubW91bnRBcHAoYXBwKSB7XHJcbiAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRldnRvb2xzLmVtaXQoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xyXG59XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDphZGRlZFwiIC8qIENPTVBPTkVOVF9BRERFRCAqLyk7XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBDT01QT05FTlRfVVBEQVRFRCAqLyk7XHJcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqLyk7XHJcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XHJcbiAgICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghZGV2dG9vbHMpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBkZXZ0b29scy5lbWl0KGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdW5kZWZpbmVkLCBjb21wb25lbnQpO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XHJcbiAgICBpZiAoIWRldnRvb2xzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGRldnRvb2xzLmVtaXQoXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcyk7XHJcbn1cblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcclxuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IHsgZW1pdHNPcHRpb25zLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICBpZiAoZW1pdHNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGV2ZW50KSBpbiBwcm9wc09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IGVtaXR0ZWQgZXZlbnQgXCIke2V2ZW50fVwiIGJ1dCBpdCBpcyBuZWl0aGVyIGRlY2xhcmVkIGluIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShldmVudCl9XCIgcHJvcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRvciguLi5yYXdBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGFyZ3MgPSByYXdBcmdzO1xyXG4gICAgY29uc3QgaXNNb2RlbExpc3RlbmVyID0gZXZlbnQuc3RhcnRzV2l0aCgndXBkYXRlOicpO1xyXG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFwcGx5IG1vZGlmaWVycyBvbiBhcmdzXHJcbiAgICBjb25zdCBtb2RlbEFyZyA9IGlzTW9kZWxMaXN0ZW5lciAmJiBldmVudC5zbGljZSg3KTtcclxuICAgIGlmIChtb2RlbEFyZyAmJiBtb2RlbEFyZyBpbiBwcm9wcykge1xyXG4gICAgICAgIGNvbnN0IG1vZGlmaWVyc0tleSA9IGAke21vZGVsQXJnID09PSAnbW9kZWxWYWx1ZScgPyAnbW9kZWwnIDogbW9kZWxBcmd9TW9kaWZpZXJzYDtcclxuICAgICAgICBjb25zdCB7IG51bWJlciwgdHJpbSB9ID0gcHJvcHNbbW9kaWZpZXJzS2V5XSB8fCBFTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKHRyaW0pIHtcclxuICAgICAgICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKGEgPT4gYS50cmltKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChudW1iZXIpIHtcclxuICAgICAgICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKHRvTnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHByb3BzW3RvSGFuZGxlcktleShsb3dlckNhc2VFdmVudCldKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCBgICtcclxuICAgICAgICAgICAgICAgIGAke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBgICtcclxuICAgICAgICAgICAgICAgIGBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBgICtcclxuICAgICAgICAgICAgICAgIGB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gYCArXHJcbiAgICAgICAgICAgICAgICBgWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShldmVudCl9XCIgaW5zdGVhZCBvZiBcIiR7ZXZlbnR9XCIuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGhhbmRsZXJOYW1lO1xyXG4gICAgbGV0IGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpKV0gfHxcclxuICAgICAgICAvLyBhbHNvIHRyeSBjYW1lbENhc2UgZXZlbnQgaGFuZGxlciAoIzIyNDkpXHJcbiAgICAgICAgcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSkpXTtcclxuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhbHNvIHRyaWdnZXIga2ViYWItY2FzZSBlcXVpdmFsZW50XHJcbiAgICAvLyBmb3IgcHJvcHMgcGFzc2VkIHZpYSBrZWJhYi1jYXNlXHJcbiAgICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XHJcbiAgICAgICAgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKSldO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhbmRsZXIpIHtcclxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhoYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcclxuICAgIGlmIChvbmNlSGFuZGxlcikge1xyXG4gICAgICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xyXG4gICAgICAgICAgICAoaW5zdGFuY2UuZW1pdHRlZCA9IHt9KVtoYW5kbGVyTmFtZV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKG9uY2VIYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBDT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xyXG4gICAgaWYgKCFhcHBDb250ZXh0LmRlb3B0ICYmIGNvbXAuX19lbWl0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXAuX19lbWl0cztcclxuICAgIH1cclxuICAgIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XHJcbiAgICBsZXQgbm9ybWFsaXplZCA9IHt9O1xyXG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xyXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcclxuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcm9tRXh0ZW5kID0gbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xyXG4gICAgICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplZEZyb21FeHRlbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZEVtaXRzKGNvbXAuZXh0ZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xyXG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xyXG4gICAgICAgIHJldHVybiAoY29tcC5fX2VtaXRzID0gbnVsbCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XHJcbiAgICAgICAgcmF3LmZvckVhY2goa2V5ID0+IChub3JtYWxpemVkW2tleV0gPSBudWxsKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcclxuICAgIH1cclxuICAgIHJldHVybiAoY29tcC5fX2VtaXRzID0gbm9ybWFsaXplZCk7XHJcbn1cclxuLy8gQ2hlY2sgaWYgYW4gaW5jb21pbmcgcHJvcCBrZXkgaXMgYSBkZWNsYXJlZCBlbWl0IGV2ZW50IGxpc3RlbmVyLlxyXG4vLyBlLmcuIFdpdGggYGVtaXRzOiB7IGNsaWNrOiBudWxsIH1gLCBwcm9wcyBuYW1lZCBgb25DbGlja2AgYW5kIGBvbmNsaWNrYCBhcmVcclxuLy8gYm90aCBjb25zaWRlcmVkIG1hdGNoZWQgbGlzdGVuZXJzLlxyXG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcclxuICAgIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgJycpO1xyXG4gICAgcmV0dXJuIChoYXNPd24ob3B0aW9ucywga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkpIHx8XHJcbiAgICAgICAgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fFxyXG4gICAgICAgIGhhc093bihvcHRpb25zLCBrZXkpKTtcclxufVxuXG5sZXQgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QgPSAwO1xyXG5jb25zdCBzZXRDb21waWxlZFNsb3RSZW5kZXJpbmcgPSAobikgPT4gKGlzUmVuZGVyaW5nQ29tcGlsZWRTbG90ICs9IG4pO1xyXG4vKipcclxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxyXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxyXG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcclxuZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xyXG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB3YXJuKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcclxuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcclxuICAgICAgICBzbG90ID0gKCkgPT4gW107XHJcbiAgICB9XHJcbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcclxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXHJcbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxyXG4gICAgLy8gZW5hYmxlIGl0LlxyXG4gICAgaXNSZW5kZXJpbmdDb21waWxlZFNsb3QrKztcclxuICAgIG9wZW5CbG9jaygpO1xyXG4gICAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XHJcbiAgICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7IGtleTogcHJvcHMua2V5IHx8IGBfJHtuYW1lfWAgfSwgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLCB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgLyogU1RBQkxFICovXHJcbiAgICAgICAgPyA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi9cclxuICAgICAgICA6IC0yIC8qIEJBSUwgKi8pO1xyXG4gICAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xyXG4gICAgICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgJy1zJ107XHJcbiAgICB9XHJcbiAgICBpc1JlbmRlcmluZ0NvbXBpbGVkU2xvdC0tO1xyXG4gICAgcmV0dXJuIHJlbmRlcmVkO1xyXG59XHJcbmZ1bmN0aW9uIGVuc3VyZVZhbGlkVk5vZGUodm5vZGVzKSB7XHJcbiAgICByZXR1cm4gdm5vZGVzLnNvbWUoY2hpbGQgPT4ge1xyXG4gICAgICAgIGlmICghaXNWTm9kZShjaGlsZCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50ICYmXHJcbiAgICAgICAgICAgICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSlcclxuICAgICAgICA/IHZub2Rlc1xyXG4gICAgICAgIDogbnVsbDtcclxufVxuXG4vKipcclxuICogbWFyayB0aGUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2UgZm9yIGFzc2V0IHJlc29sdXRpb24gKGUuZy5cclxuICogcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSkgZHVyaW5nIHJlbmRlclxyXG4gKi9cclxubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XHJcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XHJcbi8qKlxyXG4gKiBOb3RlOiByZW5kZXJpbmcgY2FsbHMgbWF5YmUgbmVzdGVkLiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgcGFyZW50IHJlbmRlcmluZ1xyXG4gKiBpbnN0YW5jZSBpZiBwcmVzZW50LCB3aGljaCBzaG91bGQgYmUgcmVzdG9yZWQgYWZ0ZXIgdGhlIHJlbmRlciBpcyBkb25lOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGkpXHJcbiAqIC8vIC4uLnJlbmRlclxyXG4gKiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldilcclxuICogYGBgXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgIGN1cnJlbnRTY29wZUlkID0gKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkKSB8fCBudWxsO1xyXG4gICAgcmV0dXJuIHByZXY7XHJcbn1cclxuLyoqXHJcbiAqIFNldCBzY29wZSBpZCB3aGVuIGNyZWF0aW5nIGhvaXN0ZWQgdm5vZGVzLlxyXG4gKiBAcHJpdmF0ZSBjb21waWxlciBoZWxwZXJcclxuICovXHJcbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IGlkO1xyXG59XHJcbi8qKlxyXG4gKiBUZWNobmljYWxseSB3ZSBubyBsb25nZXIgbmVlZCB0aGlzIGFmdGVyIDMuMC44IGJ1dCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHNhbWVcclxuICogQVBJIGZvciBiYWNrd2FyZHMgY29tcGF0IHcvIGNvZGUgZ2VuZXJhdGVkIGJ5IGNvbXBpbGVycy5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XHJcbiAgICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XHJcbn1cclxuLyoqXHJcbiAqIE9ubHkgZm9yIGJhY2t3YXJkcyBjb21wYXRcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcclxuLyoqXHJcbiAqIFdyYXAgYSBzbG90IGZ1bmN0aW9uIHRvIG1lbW9pemUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2VcclxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXHJcbiAqL1xyXG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcclxuICAgIGlmICghY3R4KVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIC8vIElmIGEgdXNlciBjYWxscyBhIGNvbXBpbGVkIHNsb3QgaW5zaWRlIGEgdGVtcGxhdGUgZXhwcmVzc2lvbiAoIzE3NDUpLCBpdFxyXG4gICAgICAgIC8vIGNhbiBtZXNzIHVwIGJsb2NrIHRyYWNraW5nLCBzbyBieSBkZWZhdWx0IHdlIG5lZWQgdG8gcHVzaCBhIG51bGwgYmxvY2sgdG9cclxuICAgICAgICAvLyBhdm9pZCB0aGF0LiBUaGlzIGlzbid0IG5lY2Vzc2FyeSBpZiByZW5kZXJpbmcgYSBjb21waWxlZCBgPHNsb3Q+YC5cclxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nQ29tcGlsZWRTbG90KSB7XHJcbiAgICAgICAgICAgIG9wZW5CbG9jayh0cnVlIC8qIG51bGwgYmxvY2sgdGhhdCBkaXNhYmxlcyB0cmFja2luZyAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByZXZJbnN0YW5jZSA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGZuKC4uLmFyZ3MpO1xyXG4gICAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xyXG4gICAgICAgIGlmICghaXNSZW5kZXJpbmdDb21waWxlZFNsb3QpIHtcclxuICAgICAgICAgICAgY2xvc2VCbG9jaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxuICAgIC8vIG1hcmsgdGhpcyBhcyBhIGNvbXBpbGVkIHNsb3QgZnVuY3Rpb24uXHJcbiAgICAvLyB0aGlzIGlzIHVzZWQgaW4gdm5vZGUudHMgLT4gbm9ybWFsaXplQ2hpbGRyZW4oKSB0byBzZXQgdGhlIHNsb3RcclxuICAgIC8vIHJlbmRlcmluZyBmbGFnLlxyXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcclxufVxuXG4vKipcclxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxyXG4gKiBJZiAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlciB0aGVuIHRoZSB3YXJuaW5nIGZvciBmYWlsZWQgYXR0cnNcclxuICogZmFsbHRocm91Z2ggY2FuIGJlIHN1cHByZXNzZWQuXHJcbiAqL1xyXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xyXG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcclxuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAvLyB3aXRoUHJveHkgaXMgYSBwcm94eSB3aXRoIGEgZGlmZmVyZW50IGBoYXNgIHRyYXAgb25seSBmb3JcclxuICAgICAgICAgICAgLy8gcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9jay5cclxuICAgICAgICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmNhbGwocHJveHlUb1VzZSwgcHJveHlUb1VzZSwgcmVuZGVyQ2FjaGUsIHByb3BzLCBzZXR1cFN0YXRlLCBkYXRhLCBjdHgpKTtcclxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbFxyXG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIC8vIGluIGRldiwgbWFyayBhdHRycyBhY2Nlc3NlZCBpZiBvcHRpb25hbCBwcm9wcyAoYXR0cnMgPT09IHByb3BzKVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGF0dHJzID09PSBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIubGVuZ3RoID4gMVxyXG4gICAgICAgICAgICAgICAgPyByZW5kZXIocHJvcHMsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgYXR0cnMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH0pXHJcbiAgICAgICAgICAgICAgICA6IHJlbmRlcihwcm9wcywgbnVsbCAvKiB3ZSBrbm93IGl0IGRvZXNuJ3QgbmVlZCBpdCAqLykpO1xyXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzXHJcbiAgICAgICAgICAgICAgICA/IGF0dHJzXHJcbiAgICAgICAgICAgICAgICA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF0dHIgbWVyZ2luZ1xyXG4gICAgICAgIC8vIGluIGRldiBtb2RlLCBjb21tZW50cyBhcmUgcHJlc2VydmVkLCBhbmQgaXQncyBwb3NzaWJsZSBmb3IgYSB0ZW1wbGF0ZVxyXG4gICAgICAgIC8vIHRvIGhhdmUgY29tbWVudHMgYWxvbmcgc2lkZSB0aGUgcm9vdCBlbGVtZW50IHdoaWNoIG1ha2VzIGl0IGEgZnJhZ21lbnRcclxuICAgICAgICBsZXQgcm9vdCA9IHJlc3VsdDtcclxuICAgICAgICBsZXQgc2V0Um9vdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIHJlc3VsdC5wYXRjaEZsYWcgPiAwICYmXHJcbiAgICAgICAgICAgIHJlc3VsdC5wYXRjaEZsYWcgJiAyMDQ4IC8qIERFVl9ST09UX0ZSQUdNRU5UICovKSB7XHJcbiAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgW3Jvb3QsIHNldFJvb3RdID0gZ2V0Q2hpbGRSb290KHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wb25lbnQuaW5oZXJpdEF0dHJzICE9PSBmYWxzZSAmJiBmYWxsdGhyb3VnaEF0dHJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmYWxsdGhyb3VnaEF0dHJzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XHJcbiAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHYtbW9kZWwgbGlzdGVuZXIgKG9uVXBkYXRlOnh4eCkgaGFzIGEgY29ycmVzcG9uZGluZyBkZWNsYXJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wLCBpdCBpbmRpY2F0ZXMgdGhpcyBjb21wb25lbnQgZXhwZWN0cyB0byBoYW5kbGUgdi1tb2RlbCBhbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgc2hvdWxkIG5vdCBmYWxsdGhyb3VnaC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVsYXRlZDogIzE1NDMsICMxNjQzLCAjMTk4OVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gZmlsdGVyTW9kZWxMaXN0ZW5lcnMoZmFsbHRocm91Z2hBdHRycywgcHJvcHNPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXHJcbiAgICAgICAgaWYgKHZub2RlLmRpcnMpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcclxuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XHJcbiAgICAgICAgICAgIHNldFJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBSRU5ERVJfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xyXG4gICAgfVxyXG4gICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICogSW4gZGV2IG1vZGUsIHRlbXBsYXRlIHJvb3QgbGV2ZWwgY29tbWVudHMgYXJlIHJlbmRlcmVkLCB3aGljaCB0dXJucyB0aGVcclxuICogdGVtcGxhdGUgaW50byBhIGZyYWdtZW50IHJvb3QsIGJ1dCB3ZSBuZWVkIHRvIGxvY2F0ZSB0aGUgc2luZ2xlIGVsZW1lbnRcclxuICogcm9vdCBmb3IgYXR0cnMgYW5kIHNjb3BlIGlkIHByb2Nlc3NpbmcuXHJcbiAqL1xyXG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcclxuICAgIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICBjb25zdCBjaGlsZFJvb3QgPSBmaWx0ZXJTaW5nbGVSb290KHJhd0NoaWxkcmVuKTtcclxuICAgIGlmICghY2hpbGRSb290KSB7XHJcbiAgICAgICAgcmV0dXJuIFt2bm9kZSwgdW5kZWZpbmVkXTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ID0gcmF3Q2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpO1xyXG4gICAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xyXG4gICAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xyXG4gICAgICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xyXG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xyXG59O1xyXG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuKSB7XHJcbiAgICBsZXQgc2luZ2xlUm9vdDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgdXNlciBjb21tZW50XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9PSBDb21tZW50IHx8IGNoaWxkLmNoaWxkcmVuID09PSAndi1pZicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVSb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIG1vcmUgdGhhbiAxIG5vbi1jb21tZW50IGNoaWxkLCByZXR1cm4gbm93XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNpbmdsZVJvb3Q7XHJcbn1cclxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJyB8fCBpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59O1xyXG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xyXG4gICAgcmV0dXJuICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyB8fFxyXG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgIHZub2RlLnR5cGUgPT09IENvbW1lbnQgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxyXG4gICAgKTtcclxufTtcclxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcclxuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XHJcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xyXG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xyXG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcclxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cclxuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXHJcbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCB0aGF0IHJlZmVyZW5jZXMgdmFsdWVzIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLFxyXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBGVUxMX1BST1BTICovKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXHJcbiAgICAgICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQUk9QUyAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gdGhpcyBwYXRoIGlzIG9ubHkgdGFrZW4gYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxyXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XHJcbiAgICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XHJcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcclxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxyXG4pIHtcclxuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XHJcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcclxuLy8gU3VzcGVuc2UgZXhwb3NlcyBhIGNvbXBvbmVudC1saWtlIEFQSSwgYW5kIGlzIHRyZWF0ZWQgbGlrZSBhIGNvbXBvbmVudFxyXG4vLyBpbiB0aGUgY29tcGlsZXIsIGJ1dCBpbnRlcm5hbGx5IGl0J3MgYSBzcGVjaWFsIGJ1aWx0LWluIHR5cGUgdGhhdCBob29rc1xyXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cclxuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xyXG4gICAgbmFtZTogJ1N1c3BlbnNlJyxcclxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcclxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXHJcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcclxuICAgIC8vIGludGVybmFscy5cclxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcclxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBcclxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcclxuICAgIHJlbmRlcmVySW50ZXJuYWxzKSB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXHJcbiAgICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnlcclxufTtcclxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcclxuY29uc3QgU3VzcGVuc2UgPSAoU3VzcGVuc2VJbXBsXHJcbiAgICApO1xyXG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xyXG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xyXG4gICAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpKTtcclxuICAgIC8vIHN0YXJ0IG1vdW50aW5nIHRoZSBjb250ZW50IHN1YnRyZWUgaW4gYW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgIHBhdGNoKG51bGwsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgIC8vIG5vdyBjaGVjayBpZiB3ZSBoYXZlIGVuY291bnRlcmVkIGFueSBhc3luYyBkZXBzXHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcclxuICAgICAgICAvLyBoYXMgYXN5bmNcclxuICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxyXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLnNzRmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFN1c3BlbnNlIGhhcyBubyBhc3luYyBkZXBzLiBKdXN0IHJlc29sdmUuXHJcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XHJcbiAgICBjb25zdCBzdXNwZW5zZSA9IChuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlKTtcclxuICAgIHN1c3BlbnNlLnZub2RlID0gbjI7XHJcbiAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xyXG4gICAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xyXG4gICAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xyXG4gICAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xyXG4gICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xyXG4gICAgICAgICAgICAvLyBzYW1lIHJvb3QgdHlwZSBidXQgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICBwYXRjaChwZW5kaW5nQnJhbmNoLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9nZ2xlZCBiZWZvcmUgcGVuZGluZyB0cmVlIGlzIHJlc29sdmVkXHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xyXG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRvZ2dsZWQgYmVmb3JlIGh5ZHJhdGlvbiBpcyBmaW5pc2hlZCwgdGhlIGN1cnJlbnQgRE9NIHRyZWUgaXNcclxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciB2YWxpZC4gc2V0IGl0IGFzIHRoZSBhY3RpdmUgYnJhbmNoIHNvIGl0IHdpbGwgYmUgdW5tb3VudGVkXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlc29sdmVkXHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IHBlbmRpbmcgSUQuIHRoaXMgaXMgdXNlZCB0byBpbnZhbGlkYXRlIGFzeW5jIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAvLyByZXNldCBzdXNwZW5zZSBzdGF0ZVxyXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzID0gMDtcclxuICAgICAgICAgICAgLy8gZGlzY2FyZCBlZmZlY3RzIGZyb20gcGVuZGluZyBicmFuY2hcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAvLyBkaXNjYXJkIHByZXZpb3VzIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiBmYWxsYmFjayBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0b2dnbGVkIFwiYmFja1wiIHRvIGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgcmVzb2x2ZVxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIGEgM3JkIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XHJcbiAgICAgICAgICAgIC8vIHJvb3QgZGlkIG5vdCBjaGFuZ2UsIGp1c3Qgbm9ybWFsIHBhdGNoXHJcbiAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcm9vdCBub2RlIHRvZ2dsZWRcclxuICAgICAgICAgICAgLy8gaW52b2tlIEBwZW5kaW5nIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUGVuZGluZyA9IG4yLnByb3BzICYmIG4yLnByb3BzLm9uUGVuZGluZztcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25QZW5kaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgb25QZW5kaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbW91bnQgcGVuZGluZyBicmFuY2ggaW4gb2ZmLWRvbSBjb250YWluZXJcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XHJcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxyXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBgY29uc29sZS5pbmZvYCBjYW5ub3QgYmUgbnVsbCBlcnJvclxyXG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiB1bm1vdW50LCBuOiBuZXh0LCBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IHRpbWVvdXQgPSB0b051bWJlcih2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50aW1lb3V0KTtcclxuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xyXG4gICAgICAgIHZub2RlLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgaXNTVkcsXHJcbiAgICAgICAgY29udGFpbmVyLFxyXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcclxuICAgICAgICBhbmNob3IsXHJcbiAgICAgICAgZGVwczogMCxcclxuICAgICAgICBwZW5kaW5nSWQ6IDAsXHJcbiAgICAgICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IC0xLFxyXG4gICAgICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcclxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxyXG4gICAgICAgIGlzSW5GYWxsYmFjazogdHJ1ZSxcclxuICAgICAgICBpc0h5ZHJhdGluZyxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgZWZmZWN0czogW10sXHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBwZW5kaW5nSWQsIGVmZmVjdHMsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBFTlRFUiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBpbml0aWFsIGFuY2hvciBvbiBtb3VudFxyXG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcclxuICAgICAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgdHJlZVxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgcGFydCBvZiBhIHBhcmVudCBzdXNwZW5zZS4gZ2V0IHRoZSBsYXRlc3QgYW5jaG9yIGZvciBpbnNlcnRpb25cclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyZWQgZWZmZWN0c1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgbWVyZ2UgYnVmZmVyZWQgcG9zdCBqb2JzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGF0IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXHJcbiAgICAgICAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gaW52b2tlIEByZXNvbHZlIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUmVzb2x2ZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uUmVzb2x2ZTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZXNvbHZlKSkge1xyXG4gICAgICAgICAgICAgICAgb25SZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaXNTVkcgfSA9IHN1c3BlbnNlO1xyXG4gICAgICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRmFsbGJhY2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vbkZhbGxiYWNrO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgb25GYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcclxuICAgICAgICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcclxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIGZhbGxiYWNrVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XHJcbiAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxyXG4gICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XHJcbiAgICAgICAgICAgIHRydWUgLy8gc2hvdWxkUmVtb3ZlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xyXG4gICAgICAgICAgICAgICAgbW91bnRGYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJlxyXG4gICAgICAgICAgICAgICAgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKTtcclxuICAgICAgICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmV4dCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcclxuICAgICAgICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcclxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmRlcHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XHJcbiAgICAgICAgICAgIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAuYXN5bmNEZXAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmNTZXR1cFJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXRyeSB3aGVuIHRoZSBzZXR1cCgpIHByb21pc2UgcmVzb2x2ZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiB1bm1vdW50ZWQgYmVmb3JlIHJlc29sdmUuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJldHJ5IGZyb20gdGhpcyBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWQgaWYgYW4gdXBkYXRlIGhhcHBlbmVkIGJlZm9yZSB0aGVcclxuICAgICAgICAgICAgICAgICAgICAvLyBhc3luYyBkZXAgaXMgcmVzb2x2ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBoeWRyYXRlZEVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoaW5zdGFuY2UsIHZub2RlLCBcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksIFxyXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cclxuICAgICAgICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSwgc3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUuZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGRlY3JlYXNlIGRlcHMgY291bnQgaWYgc3VzcGVuc2UgaXMgbm90IGFscmVhZHkgcmVzb2x2ZWRcclxuICAgICAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzdXNwZW5zZTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgbm9kZS5wYXJlbnROb2RlLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgbnVsbCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pKTtcclxuICAgIC8vIHRoZXJlIGFyZSB0d28gcG9zc2libGUgc2NlbmFyaW9zIGZvciBzZXJ2ZXItcmVuZGVyZWQgc3VzcGVuc2U6XHJcbiAgICAvLyAtIHN1Y2Nlc3M6IHNzciBjb250ZW50IHNob3VsZCBiZSBmdWxseSByZXNvbHZlZFxyXG4gICAgLy8gLSBmYWlsdXJlOiBzc3IgY29udGVudCBzaG91bGQgYmUgdGhlIGZhbGxiYWNrIGJyYW5jaC5cclxuICAgIC8vIGhvd2V2ZXIsIG9uIHRoZSBjbGllbnQgd2UgZG9uJ3QgcmVhbGx5IGtub3cgaWYgaXQgaGFzIGZhaWxlZCBvciBub3RcclxuICAgIC8vIGF0dGVtcHQgdG8gaHlkcmF0ZSB0aGUgRE9NIGFzc3VtaW5nIGl0IGhhcyBzdWNjZWVkZWQsIGJ1dCB3ZSBzdGlsbFxyXG4gICAgLy8gbmVlZCB0byBjb25zdHJ1Y3QgYSBzdXNwZW5zZSBib3VuZGFyeSBmaXJzdFxyXG4gICAgY29uc3QgcmVzdWx0ID0gaHlkcmF0ZU5vZGUobm9kZSwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpIHtcclxuICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XHJcbiAgICBsZXQgY29udGVudDtcclxuICAgIGxldCBmYWxsYmFjaztcclxuICAgIGlmIChzaGFwZUZsYWcgJiAzMiAvKiBTTE9UU19DSElMRFJFTiAqLykge1xyXG4gICAgICAgIGNvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZGVmYXVsdCk7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbik7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBub3JtYWxpemVWTm9kZShudWxsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29udGVudCxcclxuICAgICAgICBmYWxsYmFja1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24ocykpIHtcclxuICAgICAgICBzID0gcygpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocykpIHtcclxuICAgICAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc2luZ2xlQ2hpbGQpIHtcclxuICAgICAgICAgICAgd2FybihgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzID0gc2luZ2xlQ2hpbGQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplVk5vZGUocyk7XHJcbn1cclxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XHJcbiAgICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGJyYW5jaCkge1xyXG4gICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xyXG4gICAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcclxuICAgIGNvbnN0IGVsID0gKHZub2RlLmVsID0gYnJhbmNoLmVsKTtcclxuICAgIC8vIGluIGNhc2Ugc3VzcGVuc2UgaXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNvbXBvbmVudCxcclxuICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0aGUgSE9DIGVsXHJcbiAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xyXG4gICAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xyXG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cclxuaXNTU1IgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgcHJvcHMgPSB7fTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcclxuICAgIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcclxuICAgIC8vIHZhbGlkYXRpb25cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU3RhdGVmdWwpIHtcclxuICAgICAgICAvLyBzdGF0ZWZ1bFxyXG4gICAgICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBvcHRpb25hbCBwcm9wcywgcHJvcHMgPT09IGF0dHJzXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIGRlY2xhcmVkIHByb3BzXHJcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5zdGFuY2UuYXR0cnMgPSBhdHRycztcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XHJcbiAgICBjb25zdCB7IHByb3BzLCBhdHRycywgdm5vZGU6IHsgcGF0Y2hGbGFnIH0gfSA9IGluc3RhbmNlO1xyXG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xyXG4gICAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xyXG4gICAgaWYgKFxyXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcclxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XHJcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxyXG4gICAgISgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAoaW5zdGFuY2UudHlwZS5fX2htcklkIHx8XHJcbiAgICAgICAgICAgIChpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUuX19obXJJZCkpKSAmJlxyXG4gICAgICAgIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiZcclxuICAgICAgICAhKHBhdGNoRmxhZyAmIDE2IC8qIEZVTExfUFJPUFMgKi8pKSB7XHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUFJPUFMgKi8pIHtcclxuICAgICAgICAgICAgLy8gQ29tcGlsZXItZ2VuZXJhdGVkIHByb3BzICYgbm8ga2V5cyBjaGFuZ2UsIGp1c3Qgc2V0IHRoZSB1cGRhdGVkXHJcbiAgICAgICAgICAgIC8vIHRoZSBwcm9wcy5cclxuICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGNhbWVsaXplZEtleSwgdmFsdWUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBmdWxsIHByb3BzIHVwZGF0ZS5cclxuICAgICAgICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xyXG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXHJcbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxyXG4gICAgICAgIGxldCBrZWJhYktleTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcclxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdQcm9wcyB8fCBFTVBUWV9PQkosIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcclxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gdHJpZ2dlciB1cGRhdGVzIGZvciAkYXR0cnMgaW4gY2FzZSBpdCdzIHVzZWQgaW4gY29tcG9uZW50IHNsb3RzXHJcbiAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFNFVCAqLywgJyRhdHRycycpO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XHJcbiAgICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcclxuICAgIGlmIChyYXdQcm9wcykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcclxuICAgICAgICAgICAgLy8ga2V5LCByZWYgYXJlIHJlc2VydmVkIGFuZCBuZXZlciBwYXNzZWQgZG93blxyXG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcHJvcCBvcHRpb24gbmFtZXMgYXJlIGNhbWVsaXplZCBkdXJpbmcgbm9ybWFsaXphdGlvbiwgc28gdG8gc3VwcG9ydFxyXG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxyXG4gICAgICAgICAgICBsZXQgY2FtZWxLZXk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAoY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFueSBub24tZGVjbGFyZWQgKGVpdGhlciBhcyBhIHByb3Agb3IgYW4gZW1pdHRlZCBldmVudCkgcHJvcHMgYXJlIHB1dFxyXG4gICAgICAgICAgICAgICAgLy8gaW50byBhIHNlcGFyYXRlIGBhdHRyc2Agb2JqZWN0IGZvciBzcHJlYWRpbmcuIE1ha2Ugc3VyZSB0byBwcmVzZXJ2ZVxyXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwga2V5IGNhc2luZ1xyXG4gICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG5lZWRDYXN0S2V5cykge1xyXG4gICAgICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCByYXdDdXJyZW50UHJvcHNba2V5XSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHByb3BzLCBrZXksIHZhbHVlLCBpbnN0YW5jZSkge1xyXG4gICAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xyXG4gICAgaWYgKG9wdCAhPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgLy8gZGVmYXVsdCB2YWx1ZXNcclxuICAgICAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZShwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYm9vbGVhbiBjYXN0aW5nXHJcbiAgICAgICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duKHByb3BzLCBrZXkpICYmICFoYXNEZWZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdFsxIC8qIHNob3VsZENhc3RUcnVlICovXSAmJlxyXG4gICAgICAgICAgICAgICAgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xyXG4gICAgaWYgKCFhcHBDb250ZXh0LmRlb3B0ICYmIGNvbXAuX19wcm9wcykge1xyXG4gICAgICAgIHJldHVybiBjb21wLl9fcHJvcHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYXcgPSBjb21wLnByb3BzO1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xyXG4gICAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XHJcbiAgICAvLyBhcHBseSBtaXhpbi9leHRlbmRzIHByb3BzXHJcbiAgICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xyXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcclxuICAgICAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcpID0+IHtcclxuICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3LCBhcHBDb250ZXh0LCB0cnVlKTtcclxuICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcclxuICAgICAgICAgICAgaWYgKGtleXMpXHJcbiAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kUHJvcHMoY29tcC5leHRlbmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XHJcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XHJcbiAgICAgICAgcmV0dXJuIChjb21wLl9fcHJvcHMgPSBFTVBUWV9BUlIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShyYXdbaV0pO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IEVNUFRZX09CSjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJhdykge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KHJhdykpIHtcclxuICAgICAgICAgICAgd2FybihgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gKG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkgPyB7IHR5cGU6IG9wdCB9IDogb3B0KTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vbGVhbkluZGV4ID0gZ2V0VHlwZUluZGV4KEJvb2xlYW4sIHByb3AudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nSW5kZXggPSBnZXRUeXBlSW5kZXgoU3RyaW5nLCBwcm9wLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BbMCAvKiBzaG91bGRDYXN0ICovXSA9IGJvb2xlYW5JbmRleCA+IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdJbmRleCA8IDAgfHwgYm9vbGVhbkluZGV4IDwgc3RyaW5nSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByb3AgbmVlZHMgYm9vbGVhbiBjYXN0aW5nIG9yIGRlZmF1bHQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChjb21wLl9fcHJvcHMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXSk7XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcclxuICAgIGlmIChrZXlbMF0gIT09ICckJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4vLyB1c2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgdHlwZSBjb25zdHJ1Y3RvcnNcclxuLy8gc28gdGhhdCBpdCB3b3JrcyBhY3Jvc3Mgdm1zIC8gaWZyYW1lcy5cclxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IGN0b3IgJiYgY3Rvci50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xyXG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJztcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVUeXBlKGEsIGIpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFR5cGVJbmRleCh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICBpZiAoaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xyXG4gICAgICAgIHJldHVybiBleHBlY3RlZFR5cGVzLmZpbmRJbmRleCh0ID0+IGlzU2FtZVR5cGUodCwgdHlwZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFR5cGVzKSkge1xyXG4gICAgICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhyYXdQcm9wcywgcHJvcHMsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICBpZiAob3B0ID09IG51bGwpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIHZhbGlkYXRlUHJvcChrZXksIHJlc29sdmVkVmFsdWVzW2tleV0sIG9wdCwgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAhaGFzT3duKHJhd1Byb3BzLCBoeXBoZW5hdGUoa2V5KSkpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBpc0Fic2VudCkge1xyXG4gICAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yIH0gPSBwcm9wO1xyXG4gICAgLy8gcmVxdWlyZWQhXHJcbiAgICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcclxuICAgICAgICB3YXJuKCdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBtaXNzaW5nIGJ1dCBvcHRpb25hbFxyXG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyB0eXBlIGNoZWNrXHJcbiAgICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUpIHtcclxuICAgICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xyXG4gICAgICAgIC8vIHZhbHVlIGlzIHZhbGlkIGFzIGxvbmcgYXMgb25lIG9mIHRoZSBzcGVjaWZpZWQgdHlwZXMgbWF0Y2hcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aCAmJiAhaXNWYWxpZDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xyXG4gICAgICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8ICcnKTtcclxuICAgICAgICAgICAgaXNWYWxpZCA9IHZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgd2FybihnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGN1c3RvbSB2YWxpZGF0b3JcclxuICAgIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSkpIHtcclxuICAgICAgICB3YXJuKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdTdHJpbmcsTnVtYmVyLEJvb2xlYW4sRnVuY3Rpb24sU3ltYm9sLEJpZ0ludCcpO1xyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcclxuICAgIGxldCB2YWxpZDtcclxuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XHJcbiAgICBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcclxuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xyXG4gICAgICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgLy8gZm9yIHByaW1pdGl2ZSB3cmFwcGVyIG9iamVjdHNcclxuICAgICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcclxuICAgICAgICB2YWxpZCA9IGlzT2JqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsaWQsXHJcbiAgICAgICAgZXhwZWN0ZWRUeXBlXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICBsZXQgbWVzc2FnZSA9IGBJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJHtuYW1lfVwiLmAgK1xyXG4gICAgICAgIGAgRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpfWA7XHJcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xyXG4gICAgY29uc3QgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcclxuICAgIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xyXG4gICAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XHJcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWVcclxuICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXHJcbiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcclxuICAgIH1cclxuICAgIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXHJcbiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlO1xyXG59XHJcbi8qKlxyXG4gKiBkZXYgb25seVxyXG4gKi9cclxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHtcclxuICAgICAgICByZXR1cm4gYCR7TnVtYmVyKHZhbHVlKX1gO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRldiBvbmx5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0V4cGxpY2FibGUodHlwZSkge1xyXG4gICAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XHJcbiAgICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKGVsZW0gPT4gdHlwZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtKTtcclxufVxyXG4vKipcclxuICogZGV2IG9ubHlcclxuICovXHJcbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gYXJncy5zb21lKGVsZW0gPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbicpO1xyXG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcclxuICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xyXG4gICAgICAgIC8vIGNhY2hlIHRoZSBlcnJvciBoYW5kbGluZyB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZSBob29rXHJcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXHJcbiAgICAgICAgLy8gaGFuZGxpbmdcIi5cclxuICAgICAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHxcclxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cclxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50SW5zdGFuY2UgZHVyaW5nIGhvb2sgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyB0aGUgaG9vayBkb2VzIG5vdCBzeW5jaHJvbm91c2x5IHRyaWdnZXIgb3RoZXIgaG9va3MsIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcmVwZW5kKSB7XHJcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5nc1t0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCAnJykpO1xyXG4gICAgICAgIHdhcm4oYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBgICtcclxuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXHJcbiAgICAgICAgICAgIGBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArXHJcbiAgICAgICAgICAgIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcclxuICAgICAgICAgICAgICAgICAgICBgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYFxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IFxyXG4vLyBwb3N0LWNyZWF0ZSBsaWZlY3ljbGUgcmVnaXN0cmF0aW9ucyBhcmUgbm9vcHMgZHVyaW5nIFNTUlxyXG4haXNJblNTUkNvbXBvbmVudFNldHVwICYmIGluamVjdEhvb2sobGlmZWN5Y2xlLCBob29rLCB0YXJnZXQpO1xyXG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIgLyogQkVGT1JFX01PVU5UICovKTtcclxuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIiAvKiBNT1VOVEVEICovKTtcclxuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFwiYnVcIiAvKiBCRUZPUkVfVVBEQVRFICovKTtcclxuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIiAvKiBVUERBVEVEICovKTtcclxuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiIC8qIEJFRk9SRV9VTk1PVU5UICovKTtcclxuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIiAvKiBVTk1PVU5URUQgKi8pO1xyXG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIiAvKiBSRU5ERVJfVFJJR0dFUkVEICovKTtcclxuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiIC8qIFJFTkRFUl9UUkFDS0VEICovKTtcclxuY29uc3Qgb25FcnJvckNhcHR1cmVkID0gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4ge1xyXG4gICAgaW5qZWN0SG9vayhcImVjXCIgLyogRVJST1JfQ0FQVFVSRUQgKi8sIGhvb2ssIHRhcmdldCk7XHJcbn07XG5cbi8vIFNpbXBsZSBlZmZlY3QuXHJcbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcclxufVxyXG4vLyBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycyB0byB0cmlnZ2VyIG9uIHVuZGVmaW5lZCBpbml0aWFsIHZhbHVlc1xyXG5jb25zdCBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcclxuICAgICAgICB3YXJuKGBcXGB3YXRjaChmbiwgb3B0aW9ucz8pXFxgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gYCArXHJcbiAgICAgICAgICAgIGBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBgICtcclxuICAgICAgICAgICAgYHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25UcmFjaywgb25UcmlnZ2VyIH0gPSBFTVBUWV9PQkosIGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjYikge1xyXG4gICAgICAgIGlmIChpbW1lZGlhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWVwICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2Fybihgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXHJcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB3YXJuSW52YWxpZFNvdXJjZSA9IChzKSA9PiB7XHJcbiAgICAgICAgd2FybihgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsIHMsIGBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBgICtcclxuICAgICAgICAgICAgYGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gKTtcclxuICAgIH07XHJcbiAgICBsZXQgZ2V0dGVyO1xyXG4gICAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xyXG4gICAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UudmFsdWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gISFzb3VyY2UuX3NoYWxsb3c7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2U7XHJcbiAgICAgICAgZGVlcCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZShzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHMsIGluc3RhbmNlLCAyIC8qIFdBVENIX0dFVFRFUiAqLywgW1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIC8vIGdldHRlciB3aXRoIGNiXHJcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAyIC8qIFdBVENIX0dFVFRFUiAqLywgW1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHlcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyBjYiAtPiBzaW1wbGUgZWZmZWN0XHJcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc1VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDMgLyogV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtvbkludmFsaWRhdGVdKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBOT09QO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNiICYmIGRlZXApIHtcclxuICAgICAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xyXG4gICAgICAgIGdldHRlciA9ICgpID0+IHRyYXZlcnNlKGJhc2VHZXR0ZXIoKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgY2xlYW51cDtcclxuICAgIGxldCBvbkludmFsaWRhdGUgPSAoZm4pID0+IHtcclxuICAgICAgICBjbGVhbnVwID0gcnVubmVyLm9wdGlvbnMub25TdG9wID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCA0IC8qIFdBVENIX0NMRUFOVVAgKi8pO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgbGV0IG9sZFZhbHVlID0gaXNBcnJheShzb3VyY2UpID8gW10gOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XHJcbiAgICBjb25zdCBqb2IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFydW5uZXIuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIC8vIHdhdGNoKHNvdXJjZSwgY2IpXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcnVubmVyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZWVwIHx8IGZvcmNlVHJpZ2dlciB8fCBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgYmVmb3JlIHJ1bm5pbmcgY2IgYWdhaW5cclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzIC8qIFdBVENIX0NBTExCQUNLICovLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcclxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFID8gdW5kZWZpbmVkIDogb2xkVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb25JbnZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdhdGNoRWZmZWN0XHJcbiAgICAgICAgICAgIHJ1bm5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBpbXBvcnRhbnQ6IG1hcmsgdGhlIGpvYiBhcyBhIHdhdGNoZXIgY2FsbGJhY2sgc28gdGhhdCBzY2hlZHVsZXIga25vd3NcclxuICAgIC8vIGl0IGlzIGFsbG93ZWQgdG8gc2VsZi10cmlnZ2VyICgjMTcyNylcclxuICAgIGpvYi5hbGxvd1JlY3Vyc2UgPSAhIWNiO1xyXG4gICAgbGV0IHNjaGVkdWxlcjtcclxuICAgIGlmIChmbHVzaCA9PT0gJ3N5bmMnKSB7XHJcbiAgICAgICAgc2NoZWR1bGVyID0gam9iO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGRlZmF1bHQ6ICdwcmUnXHJcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlIHx8IGluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgcXVldWVQcmVGbHVzaENiKGpvYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aXRoICdwcmUnIG9wdGlvbiwgdGhlIGZpcnN0IGNhbGwgbXVzdCBoYXBwZW4gYmVmb3JlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgc28gaXQgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHkuXHJcbiAgICAgICAgICAgICAgICBqb2IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBydW5uZXIgPSBlZmZlY3QoZ2V0dGVyLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZSxcclxuICAgICAgICBvblRyYWNrLFxyXG4gICAgICAgIG9uVHJpZ2dlcixcclxuICAgICAgICBzY2hlZHVsZXJcclxuICAgIH0pO1xyXG4gICAgcmVjb3JkSW5zdGFuY2VCb3VuZEVmZmVjdChydW5uZXIsIGluc3RhbmNlKTtcclxuICAgIC8vIGluaXRpYWwgcnVuXHJcbiAgICBpZiAoY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgICAgIGpvYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSBydW5uZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XHJcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHJ1bm5lciwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcnVubmVyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHN0b3AocnVubmVyKTtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmVtb3ZlKGluc3RhbmNlLmVmZmVjdHMsIHJ1bm5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4vLyB0aGlzLiR3YXRjaFxyXG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xyXG4gICAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKVxyXG4gICAgICAgID8gKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdXHJcbiAgICAgICAgOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzKTtcclxuICAgIHJldHVybiBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucywgdGhpcyk7XHJcbn1cclxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIHNlZW4gPSBuZXcgU2V0KCkpIHtcclxuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHNlZW4uaGFzKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHNlZW4uYWRkKHZhbHVlKTtcclxuICAgIGlmIChpc1JlZih2YWx1ZSkpIHtcclxuICAgICAgICB0cmF2ZXJzZSh2YWx1ZS52YWx1ZSwgc2Vlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIHNlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlKHYsIHNlZW4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XG5cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcclxuICAgIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNMZWF2aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGxlYXZpbmdWTm9kZXM6IG5ldyBNYXAoKVxyXG4gICAgfTtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcclxuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xyXG4gICAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgbW9kZTogU3RyaW5nLFxyXG4gICAgICAgIGFwcGVhcjogQm9vbGVhbixcclxuICAgICAgICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXHJcbiAgICAgICAgLy8gZW50ZXJcclxuICAgICAgICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIC8vIGxlYXZlXHJcbiAgICAgICAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcclxuICAgICAgICAvLyBhcHBlYXJcclxuICAgICAgICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXHJcbiAgICAgICAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxyXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxyXG4gICAgfSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XHJcbiAgICAgICAgbGV0IHByZXZUcmFuc2l0aW9uS2V5O1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHRyYWNrIHJlYWN0aXZpdHkgZm9yIHRoZXNlIHByb3BzIHNvIHVzZSB0aGUgcmF3XHJcbiAgICAgICAgICAgIC8vIHByb3BzIGZvciBhIGJpdCBiZXR0ZXIgcGVyZlxyXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcclxuICAgICAgICAgICAgLy8gY2hlY2sgbW9kZVxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGUgJiYgIVsnaW4tb3V0JywgJ291dC1pbicsICdkZWZhdWx0J10uaW5jbHVkZXMobW9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGNoaWxkcmVuIGhhcyBhIGd1YXJhbnRlZWQgbGVuZ3RoIG9mIDEuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiA8dHJhbnNpdGlvbj48a2VlcC1hbGl2ZS8+PC90cmFuc2l0aW9uPiwgd2UgbmVlZCB0b1xyXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSB0eXBlIG9mIHRoZSBrZXB0LWFsaXZlIGNoaWxkcmVuLlxyXG4gICAgICAgICAgICBjb25zdCBpbm5lckNoaWxkID0gZ2V0S2VlcEFsaXZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZElubmVyQ2hpbGQgPSBvbGRDaGlsZCAmJiBnZXRLZWVwQWxpdmVDaGlsZChvbGRDaGlsZCk7XHJcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGdldFRyYW5zaXRpb25LZXkgfSA9IGlubmVyQ2hpbGQudHlwZTtcclxuICAgICAgICAgICAgaWYgKGdldFRyYW5zaXRpb25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFRyYW5zaXRpb25LZXkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcmV2VHJhbnNpdGlvbktleSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09IHByZXZUcmFuc2l0aW9uS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbktleUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtb2RlXHJcbiAgICAgICAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmXHJcbiAgICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQgJiZcclxuICAgICAgICAgICAgICAgICghaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpIHx8IHRyYW5zaXRpb25LZXlDaGFuZ2VkKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBvbGQgdHJlZSdzIGhvb2tzIGluIGNhc2Ugb2YgZHluYW1pYyB0cmFuc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcclxuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGluZyBiZXR3ZWVuIGRpZmZlcmVudCB2aWV3c1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcclxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgb2xkSW5uZXJDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVhcmx5IHJlbW92YWwgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gZGVsYXllZExlYXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxyXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xyXG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcclxuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcclxuICAgIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XHJcbiAgICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XHJcbiAgICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xyXG4gICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XHJcbn1cclxuLy8gVGhlIHRyYW5zaXRpb24gaG9va3MgYXJlIGF0dGFjaGVkIHRvIHRoZSB2bm9kZSBhcyB2bm9kZS50cmFuc2l0aW9uXHJcbi8vIGFuZCB3aWxsIGJlIGNhbGxlZCBhdCBhcHByb3ByaWF0ZSB0aW1pbmcgaW4gdGhlIHJlbmRlcmVyLlxyXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGFwcGVhciwgbW9kZSwgcGVyc2lzdGVkID0gZmFsc2UsIG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uQWZ0ZXJFbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25CZWZvcmVMZWF2ZSwgb25MZWF2ZSwgb25BZnRlckxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciwgb25BcHBlYXIsIG9uQWZ0ZXJBcHBlYXIsIG9uQXBwZWFyQ2FuY2VsbGVkIH0gPSBwcm9wcztcclxuICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xyXG4gICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xyXG4gICAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xyXG4gICAgICAgIGhvb2sgJiZcclxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDkgLyogVFJBTlNJVElPTl9IT09LICovLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBob29rcyA9IHtcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIHBlcnNpc3RlZCxcclxuICAgICAgICBiZWZvcmVFbnRlcihlbCkge1xyXG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZm9yIHNhbWUgZWxlbWVudCAodi1zaG93KVxyXG4gICAgICAgICAgICBpZiAoZWwuX2xlYXZlQ2IpIHtcclxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBmb3IgdG9nZ2xlZCBlbGVtZW50IHdpdGggc2FtZSBrZXkgKHYtaWYpXHJcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2RlICYmXHJcbiAgICAgICAgICAgICAgICBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiZcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYikge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZWFybHkgcmVtb3ZhbCAobm90IGNhbmNlbGxlZClcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW50ZXIoZWwpIHtcclxuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xyXG4gICAgICAgICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xyXG4gICAgICAgICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9lbnRlckNiID0gKGNhbmNlbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGhvb2spIHtcclxuICAgICAgICAgICAgICAgIGhvb2soZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XHJcbiAgICAgICAgICAgIGlmIChlbC5fZW50ZXJDYikge1xyXG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcclxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9sZWF2ZUNiID0gKGNhbmNlbGxlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPT09IHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPSB2bm9kZTtcclxuICAgICAgICAgICAgaWYgKG9uTGVhdmUpIHtcclxuICAgICAgICAgICAgICAgIG9uTGVhdmUoZWwsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uTGVhdmUubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsb25lKHZub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGhvb2tzO1xyXG59XHJcbi8vIHRoZSBwbGFjZWhvbGRlciByZWFsbHkgb25seSBoYW5kbGVzIG9uZSBzcGVjaWFsIGNhc2U6IEtlZXBBbGl2ZVxyXG4vLyBpbiB0aGUgY2FzZSBvZiBhIEtlZXBBbGl2ZSBpbiBhIGxlYXZlIHBoYXNlIHdlIG5lZWQgdG8gcmV0dXJuIGEgS2VlcEFsaXZlXHJcbi8vIHBsYWNlaG9sZGVyIHdpdGggZW1wdHkgY29udGVudCB0byBhdm9pZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGZyb20gYmVpbmdcclxuLy8gdW5tb3VudGVkLlxyXG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XHJcbiAgICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XHJcbiAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgICAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHZub2RlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XHJcbiAgICByZXR1cm4gaXNLZWVwQWxpdmUodm5vZGUpXHJcbiAgICAgICAgPyB2bm9kZS5jaGlsZHJlblxyXG4gICAgICAgICAgICA/IHZub2RlLmNoaWxkcmVuWzBdXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICAgICAgOiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBDT01QT05FTlQgKi8gJiYgdm5vZGUuY29tcG9uZW50KSB7XHJcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XHJcbiAgICAgICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgcmV0ID0gW107XHJcbiAgICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIC8vIGhhbmRsZSBmcmFnbWVudCBjaGlsZHJlbiBjYXNlLCBlLmcuIHYtZm9yXHJcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pXHJcbiAgICAgICAgICAgICAgICBrZXllZEZyYWdtZW50Q291bnQrKztcclxuICAgICAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbW1lbnQgcGxhY2Vob2xkZXJzIHNob3VsZCBiZSBza2lwcGVkLCBlLmcuIHYtaWZcclxuICAgICAgICBlbHNlIGlmIChrZWVwQ29tbWVudCB8fCBjaGlsZC50eXBlICE9PSBDb21tZW50KSB7XHJcbiAgICAgICAgICAgIHJldC5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjMTEyNiBpZiBhIHRyYW5zaXRpb24gY2hpbGRyZW4gbGlzdCBjb250YWlucyBtdWx0aXBsZSBzdWIgZnJhZ21lbnRzLCB0aGVzZVxyXG4gICAgLy8gZnJhZ21lbnRzIHdpbGwgYmUgbWVyZ2VkIGludG8gYSBmbGF0IGNoaWxkcmVuIGFycmF5LiBTaW5jZSBlYWNoIHYtZm9yXHJcbiAgICAvLyBmcmFnbWVudCBtYXkgY29udGFpbiBkaWZmZXJlbnQgc3RhdGljIGJpbmRpbmdzIGluc2lkZSwgd2UgbmVlZCB0byBkZS1vcFxyXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gdG8gZm9yY2UgZnVsbCBkaWZmcyB0byBlbnN1cmUgY29ycmVjdCBiZWhhdmlvci5cclxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yIC8qIEJBSUwgKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xyXG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xyXG4gICAgbmFtZTogYEtlZXBBbGl2ZWAsXHJcbiAgICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxyXG4gICAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcclxuICAgIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cclxuICAgIF9faXNLZWVwQWxpdmU6IHRydWUsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxyXG4gICAgICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxyXG4gICAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxyXG4gICAgfSxcclxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgIC8vIEtlZXBBbGl2ZSBjb21tdW5pY2F0ZXMgd2l0aCB0aGUgaW5zdGFudGlhdGVkIHJlbmRlcmVyIHZpYSB0aGVcclxuICAgICAgICAvLyBjdHggd2hlcmUgdGhlIHJlbmRlcmVyIHBhc3NlcyBpbiBpdHMgaW50ZXJuYWxzLFxyXG4gICAgICAgIC8vIGFuZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGV4cG9zZXMgYWN0aXZhdGUvZGVhY3RpdmF0ZSBpbXBsZW1lbnRhdGlvbnMuXHJcbiAgICAgICAgLy8gVGhlIHdob2xlIHBvaW50IG9mIHRoaXMgaXMgdG8gYXZvaWQgaW1wb3J0aW5nIEtlZXBBbGl2ZSBkaXJlY3RseSBpbiB0aGVcclxuICAgICAgICAvLyByZW5kZXJlciB0byBmYWNpbGl0YXRlIHRyZWUtc2hha2luZy5cclxuICAgICAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xyXG4gICAgICAgIC8vIGlmIHRoZSBpbnRlcm5hbCByZW5kZXJlciBpcyBub3QgcmVnaXN0ZXJlZCwgaXQgaW5kaWNhdGVzIHRoYXQgdGhpcyBpcyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcsXHJcbiAgICAgICAgLy8gZm9yIEtlZXBBbGl2ZSwgd2UganVzdCBuZWVkIHRvIHJlbmRlciBpdHMgY2hpbGRyZW5cclxuICAgICAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNsb3RzLmRlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XHJcbiAgICAgICAgY29uc3QgeyByZW5kZXJlcjogeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IF91bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9IH0gPSBzaGFyZWRDb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogRU5URVIgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSBwcm9wcyBoYXZlIGNoYW5nZWRcclxuICAgICAgICAgICAgcGF0Y2goaW5zdGFuY2Uudm5vZGUsIHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgdm5vZGUuc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5hKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEgLyogTEVBVkUgKi8sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5kYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xyXG4gICAgICAgICAgICAvLyByZXNldCB0aGUgc2hhcGVGbGFnIHNvIGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWRcclxuICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xyXG4gICAgICAgICAgICBfdW5tb3VudCh2bm9kZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcHJ1bmVDYWNoZShmaWx0ZXIpIHtcclxuICAgICAgICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUodm5vZGUudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSAmJiAoIWZpbHRlciB8fCAhZmlsdGVyKG5hbWUpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgaWYgKCFjdXJyZW50IHx8IGNhY2hlZC50eXBlICE9PSBjdXJyZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoY2FjaGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSBpbnN0YW5jZSBzaG91bGQgbm8gbG9uZ2VyIGJlIGtlcHQtYWxpdmUuXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1bm1vdW50IGl0IG5vdyBidXQgaXQgbWlnaHQgYmUgbGF0ZXIsIHNvIHJlc2V0IGl0cyBmbGFnIG5vdy5cclxuICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcnVuZSBjYWNoZSBvbiBpbmNsdWRlL2V4Y2x1ZGUgcHJvcCBjaGFuZ2VcclxuICAgICAgICB3YXRjaCgoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sIChbaW5jbHVkZSwgZXhjbHVkZV0pID0+IHtcclxuICAgICAgICAgICAgaW5jbHVkZSAmJiBwcnVuZUNhY2hlKG5hbWUgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XHJcbiAgICAgICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcclxuICAgICAgICB9LCBcclxuICAgICAgICAvLyBwcnVuZSBwb3N0LXJlbmRlciBhZnRlciBgY3VycmVudGAgaGFzIGJlZW4gdXBkYXRlZFxyXG4gICAgICAgIHsgZmx1c2g6ICdwb3N0JywgZGVlcDogdHJ1ZSB9KTtcclxuICAgICAgICAvLyBjYWNoZSBzdWIgdHJlZSBhZnRlciByZW5kZXJcclxuICAgICAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcclxuICAgICAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGZpeCAjMTYyMSwgdGhlIHBlbmRpbmdDYWNoZUtleSBjb3VsZCBiZSAwXHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ2FjaGVLZXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIG9uTW91bnRlZChjYWNoZVN1YnRyZWUpO1xyXG4gICAgICAgIG9uVXBkYXRlZChjYWNoZVN1YnRyZWUpO1xyXG4gICAgICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goY2FjaGVkID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC50eXBlID09PSB2bm9kZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudCBpbnN0YW5jZSB3aWxsIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIGtlZXAtYWxpdmUncyB1bm1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpbnZva2UgaXRzIGRlYWN0aXZhdGVkIGhvb2sgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVubW91bnQoY2FjaGVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8XHJcbiAgICAgICAgICAgICAgICAoIShyYXdWTm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLykgJiZcclxuICAgICAgICAgICAgICAgICAgICAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHJhd1ZOb2RlKTtcclxuICAgICAgICAgICAgY29uc3QgY29tcCA9IHZub2RlLnR5cGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xyXG4gICAgICAgICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XHJcbiAgICAgICAgICAgIGlmICgoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHZub2RlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHZub2RlLmtleSA9PSBudWxsID8gY29tcCA6IHZub2RlLmtleTtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcclxuICAgICAgICAgICAgLy8gY2xvbmUgdm5vZGUgaWYgaXQncyByZXVzZWQgYmVjYXVzZSB3ZSBhcmUgZ29pbmcgdG8gbXV0YXRlIGl0XHJcbiAgICAgICAgICAgIGlmICh2bm9kZS5lbCkge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAjMTUxMyBpdCdzIHBvc3NpYmxlIGZvciB0aGUgcmV0dXJuZWQgdm5vZGUgdG8gYmUgY2xvbmVkIGR1ZSB0byBhdHRyXHJcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoIG9yIHNjb3BlSWQsIHNvIHRoZSB2bm9kZSBoZXJlIG1heSBub3QgYmUgdGhlIGZpbmFsIHZub2RlXHJcbiAgICAgICAgICAgIC8vIHRoYXQgaXMgbW91bnRlZC4gSW5zdGVhZCBvZiBjYWNoaW5nIGl0IGRpcmVjdGx5LCB3ZSBzdG9yZSB0aGUgcGVuZGluZ1xyXG4gICAgICAgICAgICAvLyBrZXkgYW5kIGNhY2hlIGBpbnN0YW5jZS5zdWJUcmVlYCAodGhlIG5vcm1hbGl6ZWQgdm5vZGUpIGluXHJcbiAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50L2JlZm9yZVVwZGF0ZSBob29rcy5cclxuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVkVk5vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvcHkgb3ZlciBtb3VudGVkIHN0YXRlXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50ID0gY2FjaGVkVk5vZGUuY29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdHJhbnNpdGlvbiBob29rcyBvbiBzdWJUcmVlXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIG1vdW50ZWQgYXMgZnJlc2hcclxuICAgICAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTIgLyogQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMga2V5IHRoZSBmcmVzaGVzdFxyXG4gICAgICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xyXG4gICAgICAgICAgICAgICAgLy8gcHJ1bmUgb2xkZXN0IGVudHJ5XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyB1bm1vdW50ZWRcclxuICAgICAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcclxuICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxyXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xyXG5jb25zdCBLZWVwQWxpdmUgPSBLZWVwQWxpdmVJbXBsO1xyXG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcclxuICAgIGlmIChpc0FycmF5KHBhdHRlcm4pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc29tZSgocCkgPT4gbWF0Y2hlcyhwLCBuYW1lKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGF0dGVybi50ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XHJcbiAgICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJhXCIgLyogQUNUSVZBVEVEICovLCB0YXJnZXQpO1xyXG59XHJcbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XHJcbiAgICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJkYVwiIC8qIERFQUNUSVZBVEVEICovLCB0YXJnZXQpO1xyXG59XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIC8vIGNhY2hlIHRoZSBkZWFjdGl2YXRlIGJyYW5jaCBjaGVjayB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZVxyXG4gICAgLy8gaG9vayBjYW4gYmUgcHJvcGVybHkgZGVkdXBlZCBieSB0aGUgc2NoZWR1bGVyLiBcIl9fd2RjXCIgc3RhbmRzIGZvciBcIndpdGhcclxuICAgIC8vIGRlYWN0aXZhdGlvbiBjaGVja1wiLlxyXG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2RjIHx8XHJcbiAgICAgICAgKGhvb2suX193ZGMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgZmlyZSB0aGUgaG9vayBpZiB0aGUgdGFyZ2V0IGluc3RhbmNlIGlzIE5PVCBpbiBhIGRlYWN0aXZhdGVkIGJyYW5jaC5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhvb2soKTtcclxuICAgICAgICB9KTtcclxuICAgIGluamVjdEhvb2sodHlwZSwgd3JhcHBlZEhvb2ssIHRhcmdldCk7XHJcbiAgICAvLyBJbiBhZGRpdGlvbiB0byByZWdpc3RlcmluZyBpdCBvbiB0aGUgdGFyZ2V0IGluc3RhbmNlLCB3ZSB3YWxrIHVwIHRoZSBwYXJlbnRcclxuICAgIC8vIGNoYWluIGFuZCByZWdpc3RlciBpdCBvbiBhbGwgYW5jZXN0b3IgaW5zdGFuY2VzIHRoYXQgYXJlIGtlZXAtYWxpdmUgcm9vdHMuXHJcbiAgICAvLyBUaGlzIGF2b2lkcyB0aGUgbmVlZCB0byB3YWxrIHRoZSBlbnRpcmUgY29tcG9uZW50IHRyZWUgd2hlbiBpbnZva2luZyB0aGVzZVxyXG4gICAgLy8gaG9va3MsIGFuZCBtb3JlIGltcG9ydGFudGx5LCBhdm9pZHMgdGhlIG5lZWQgdG8gdHJhY2sgY2hpbGQgY29tcG9uZW50cyBpblxyXG4gICAgLy8gYXJyYXlzLlxyXG4gICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcclxuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XHJcbiAgICAvLyBpbmplY3RIb29rIHdyYXBzIHRoZSBvcmlnaW5hbCBmb3IgZXJyb3IgaGFuZGxpbmcsIHNvIG1ha2Ugc3VyZSB0byByZW1vdmVcclxuICAgIC8vIHRoZSB3cmFwcGVkIHZlcnNpb24uXHJcbiAgICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2sodHlwZSwgaG9vaywga2VlcEFsaXZlUm9vdCwgdHJ1ZSAvKiBwcmVwZW5kICovKTtcclxuICAgIG9uVW5tb3VudGVkKCgpID0+IHtcclxuICAgICAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xyXG4gICAgfSwgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiByZXNldFNoYXBlRmxhZyh2bm9kZSkge1xyXG4gICAgbGV0IHNoYXBlRmxhZyA9IHZub2RlLnNoYXBlRmxhZztcclxuICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XHJcbiAgICAgICAgc2hhcGVGbGFnIC09IDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XHJcbiAgICB9XHJcbiAgICBpZiAoc2hhcGVGbGFnICYgNTEyIC8qIENPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XHJcbiAgICAgICAgc2hhcGVGbGFnIC09IDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLztcclxuICAgIH1cclxuICAgIHZub2RlLnNoYXBlRmxhZyA9IHNoYXBlRmxhZztcclxufVxyXG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkKHZub2RlKSB7XHJcbiAgICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XHJcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xyXG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpXHJcbiAgICA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSlcclxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XHJcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHdpdGhDdHgoKHByb3BzKSA9PiB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIHdhcm4oYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXHJcbiAgICAgICAgICAgIGB0aGlzIHdpbGwgbm90IHRyYWNrIGRlcGVuZGVuY2llcyB1c2VkIGluIHRoZSBzbG90LiBgICtcclxuICAgICAgICAgICAgYEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KHByb3BzKSk7XHJcbn0sIGN0eCk7XHJcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cykgPT4ge1xyXG4gICAgY29uc3QgY3R4ID0gcmF3U2xvdHMuX2N0eDtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XHJcbiAgICAgICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSlcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSkge1xyXG4gICAgICAgIHdhcm4oYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBgICtcclxuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XHJcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcclxufTtcclxuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xyXG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNMT1RTX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgLy8gbWFrZSBjb21waWxlciBtYXJrZXIgbm9uLWVudW1lcmFibGVcclxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcclxuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xyXG59O1xyXG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xyXG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xyXG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcclxuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XHJcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU0xPVFNfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcclxuICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU1RBQkxFICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBBTkQgc3RhYmxlLlxyXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXHJcbiAgICAgICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgYnV0IGR5bmFtaWMgKHYtaWYvdi1mb3Igb24gc2xvdHMpIC0gdXBkYXRlIHNsb3RzLCBidXQgc2tpcFxyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXphdGlvbi5cclxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gIzI4OTNcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIHRoZSBvcHRpbWl6ZWQgc2xvdHMgYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxyXG4gICAgICAgICAgICAgICAgLy8gaS5lLiBsZXQgdGhlIGByZW5kZXJTbG90YCBjcmVhdGUgdGhlIGJhaWxlZCBGcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTVEFCTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHMuXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcclxuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcclxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XHJcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XHJcbiAgICB9XHJcbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcclxuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG4vKipcclxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcclxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXHJcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXHJcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXHJcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcclxuICBbZm9vLCB0aGlzLnhdLFxyXG4gIFtiYXIsIHRoaXMueV1cclxuXSlcclxuKi9cclxuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCcpO1xyXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xyXG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xyXG4gICAgICAgIHdhcm4oJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxyXG4gKi9cclxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcclxuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluc3RhbmNlID0gaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XHJcbiAgICAgICAgICAgIGRpciA9IHtcclxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBiaW5kaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgZGlyLFxyXG4gICAgICAgICAgICBpbnN0YW5jZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIGFyZyxcclxuICAgICAgICAgICAgbW9kaWZpZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xyXG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xyXG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xyXG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xyXG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcclxuICAgICAgICBpZiAoaG9vaykge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCAvKiBESVJFQ1RJVkVfSE9PSyAqLywgW1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwsXHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgICAgICAgICBwcmV2Vk5vZGVcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcDogbnVsbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxyXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxyXG4gICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQ6IE5PLFxyXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWl4aW5zOiBbXSxcclxuICAgICAgICBjb21wb25lbnRzOiB7fSxcclxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcclxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKVxyXG4gICAgfTtcclxufVxyXG5sZXQgdWlkID0gMDtcclxuZnVuY3Rpb24gY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGByb290IHByb3BzIHBhc3NlZCB0byBhcHAubW91bnQoKSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcclxuICAgICAgICAgICAgcm9vdFByb3BzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcclxuICAgICAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBhcHAgPSAoY29udGV4dC5hcHAgPSB7XHJcbiAgICAgICAgICAgIF91aWQ6IHVpZCsrLFxyXG4gICAgICAgICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxyXG4gICAgICAgICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcclxuICAgICAgICAgICAgX2NvbnRhaW5lcjogbnVsbCxcclxuICAgICAgICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXHJcbiAgICAgICAgICAgIHZlcnNpb24sXHJcbiAgICAgICAgICAgIGdldCBjb25maWcoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBjb25maWcodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBIHBsdWdpbiBtdXN0IGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGFuIFwiaW5zdGFsbFwiIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnVuY3Rpb24uYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtaXhpbihtaXhpbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2xvYmFsIG1peGluIHdpdGggcHJvcHMvZW1pdHMgZGUtb3B0aW1pemVzIHByb3BzL2VtaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24gY2FjaGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1peGluLnByb3BzIHx8IG1peGluLmVtaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRlb3B0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ01peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUEknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcHAgY29udGV4dCBvbiB0aGUgcm9vdCBWTm9kZS5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IG9uIHRoZSByb290IGluc3RhbmNlIG9uIGluaXRpYWwgbW91bnQuXHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSE1SIHJvb3QgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZVZOb2RlKHZub2RlKSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZub2RlLmNvbXBvbmVudC5wcm94eTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBhbGxvdyBzeW1ib2xzIGFzIGluZGV4IHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjQ1ODdcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9O1xyXG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xyXG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcclxuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcclxuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xyXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcclxuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cclxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXHJcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxyXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcclxuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcclxuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgd2FybihgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcclxuICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcclxuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XHJcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XHJcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gdm5vZGU7XHJcbiAgICAgICAgY29uc3QgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBDbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkobm9kZS5kYXRhKX1gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBTZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkodm5vZGUuY2hpbGRyZW4pfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovIHx8IGlzRnJhZ21lbnRTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcclxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAxIC8qIEVMRU1FTlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBhbmNob3IsIGFkb3B0IGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YXRpYyB2bm9kZSBoYXMgaXRzIGNvbnRlbnQgc3RyaXBwZWQgZHVyaW5nIGJ1aWxkLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkb3B0IGl0IGZyb20gdGhlIHNlcnZlci1yZW5kZXJlZCBIVE1MLlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRUb0Fkb3B0Q29udGVudCA9ICF2bm9kZS5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5zdGF0aWNDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbiArPSBuZXh0Tm9kZS5vdXRlckhUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSB2bm9kZS5zdGF0aWNDb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcclxuICAgICAgICAgICAgICAgIGlmICghaXNGcmFnbWVudFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gc2V0dGluZyB1cCB0aGUgcmVuZGVyIGVmZmVjdCwgaWYgdGhlIGluaXRpYWwgdm5vZGUgYWxyZWFkeVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyAuZWwgc2V0LCB0aGUgY29tcG9uZW50IHdpbGwgcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGl0cyBzdWItdHJlZS5cclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlQ29tcG9uZW50ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudCh2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZEFzeW5jID0gdm5vZGUudHlwZS5fX2FzeW5jTG9hZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2FkQXN5bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEFzeW5jKCkudGhlbihoeWRyYXRlQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xyXG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAhPT0gLTEgLyogSE9JU1RFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAzMiAvKiBIWURSQVRFX0VWRU5UUyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXHJcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xyXG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8gJiZcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcclxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTU1JlZCBET00gY29udGFpbnMgbW9yZSBub2RlcyB0aGFuIGl0IHNob3VsZC4gUmVtb3ZlIHRoZW0uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gQ2xpZW50OiAke2VsLnRleHRDb250ZW50fVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH07XHJcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcclxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXHJcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXHJcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXHJcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXHJcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxyXG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogVEVYVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBgKHRleHQpYFxyXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcclxuICAgICAgICAgICAgICAgICAgICA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYGApO1xyXG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNGcmFnbWVudCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXhjZXNzaXZlIGZyYWdtZW50IG5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShuZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xyXG4gICAgICAgIHJlbW92ZShub2RlKTtcclxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBuZXh0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcclxuICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XHJcbn1cblxubGV0IHN1cHBvcnRlZDtcclxubGV0IHBlcmY7XHJcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xyXG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcclxuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcclxuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcclxuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcclxuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XHJcbiAgICBpZiAoc3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xyXG4gICAgfVxyXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XHJcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3VwcG9ydGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xyXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcclxufVxuXG4vKipcclxuICogVGhpcyBpcyBvbmx5IGNhbGxlZCBpbiBlc20tYnVuZGxlciBidWlsZHMuXHJcbiAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgcmVuZGVyZXIgaXMgY3JlYXRlZCwgaW4gYGJhc2VDcmVhdGVSZW5kZXJlcmAgc28gdGhhdFxyXG4gKiBpbXBvcnRpbmcgcnVudGltZS1jb3JlIGlzIHNpZGUtZWZmZWN0cyBmcmVlLlxyXG4gKlxyXG4gKiBpc3RhbmJ1bC1pZ25vcmUtbmV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcclxuICAgIGxldCBuZWVkV2FybiA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIG5lZWRXYXJuID0gdHJ1ZTtcclxuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZS4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYCArXHJcbiAgICAgICAgICAgIGBjb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGV4cGxpY2l0bHkgcmVwbGFjZSBmZWF0dXJlIGZsYWcgZ2xvYmFscyBgICtcclxuICAgICAgICAgICAgYHdpdGggYm9vbGVhbiBsaXRlcmFscyB0byBnZXQgcHJvcGVyIHRyZWUtc2hha2luZyBpbiB0aGUgZmluYWwgYnVuZGxlLiBgICtcclxuICAgICAgICAgICAgYFNlZSBodHRwOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncyBmb3IgbW9yZSBkZXRhaWxzLmApO1xyXG4gICAgfVxyXG59XG5cbi8vIGltcGxlbWVudGF0aW9uLCBjbG9zZSB0byBuby1vcFxyXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3B0aW9ucykgPyB7IHNldHVwOiBvcHRpb25zLCBuYW1lOiBvcHRpb25zLm5hbWUgfSA6IG9wdGlvbnM7XHJcbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcclxuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XHJcbiAgICAgICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBsb2FkZXIsIGxvYWRpbmdDb21wb25lbnQsIGVycm9yQ29tcG9uZW50LCBkZWxheSA9IDIwMCwgdGltZW91dCwgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XHJcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsIG9uRXJyb3I6IHVzZXJPbkVycm9yIH0gPSBzb3VyY2U7XHJcbiAgICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgbGV0IHJlc29sdmVkQ29tcDtcclxuICAgIGxldCByZXRyaWVzID0gMDtcclxuICAgIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHJpZXMrKztcclxuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGxvYWQoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCB0aGlzUmVxdWVzdDtcclxuICAgICAgICByZXR1cm4gKHBlbmRpbmdSZXF1ZXN0IHx8XHJcbiAgICAgICAgICAgICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKClcclxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoY29tcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGludGVyb3AgbW9kdWxlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIGlmIChjb21wICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xyXG4gICAgICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXHJcbiAgICAgICAgbmFtZTogJ0FzeW5jQ29tcG9uZW50V3JhcHBlcicsXHJcbiAgICAgICAgc2V0dXAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xyXG4gICAgICAgICAgICAvLyBhbHJlYWR5IHJlc29sdmVkXHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEzIC8qIEFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi8sICFlcnJvckNvbXBvbmVudCAvKiBkbyBub3QgdGhyb3cgaW4gZGV2IGlmIHVzZXIgcHJvdmlkZWQgZXJyb3IgY29tcG9uZW50ICovKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gc3VzcGVuc2UtY29udHJvbGxlZCBvciBTU1IuXHJcbiAgICAgICAgICAgIGlmICgoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpIHx8XHJcbiAgICAgICAgICAgICAgICAoZmFsc2UgKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHsgdm5vZGU6IHsgcmVmLCBwcm9wcywgY2hpbGRyZW4gfSB9KSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAvLyBlbnN1cmUgaW5uZXIgY29tcG9uZW50IGluaGVyaXRzIHRoZSBhc3luYyB3cmFwcGVyJ3MgcmVmIG93bmVyXHJcbiAgICB2bm9kZS5yZWYgPSByZWY7XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cblxuY29uc3QgcHJvZEVmZmVjdE9wdGlvbnMgPSB7XHJcbiAgICBzY2hlZHVsZXI6IHF1ZXVlSm9iLFxyXG4gICAgLy8gIzE4MDEsICMyMDQzIGNvbXBvbmVudCByZW5kZXIgZWZmZWN0cyBzaG91bGQgYWxsb3cgcmVjdXJzaXZlIHVwZGF0ZXNcclxuICAgIGFsbG93UmVjdXJzZTogdHJ1ZVxyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVEZXZFZmZlY3RPcHRpb25zKGluc3RhbmNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHNjaGVkdWxlcjogcXVldWVKb2IsXHJcbiAgICAgICAgYWxsb3dSZWN1cnNlOiB0cnVlLFxyXG4gICAgICAgIG9uVHJhY2s6IGluc3RhbmNlLnJ0YyA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKSA6IHZvaWQgMCxcclxuICAgICAgICBvblRyaWdnZXI6IGluc3RhbmNlLnJ0ZyA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKSA6IHZvaWQgMFxyXG4gICAgfTtcclxufVxyXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZVxyXG4gICAgO1xyXG5jb25zdCBzZXRSZWYgPSAocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSkgPT4ge1xyXG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xyXG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdmFsdWU7XHJcbiAgICBpZiAoIXZub2RlKSB7XHJcbiAgICAgICAgLy8gbWVhbnMgdW5tb3VudFxyXG4gICAgICAgIHZhbHVlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xyXG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHRlbXBsYXRlIHJlZiBpcyBmb3J3YXJkZWQgdG8gaW5uZXIgY29tcG9uZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTVEFURUZVTF9DT01QT05FTlQgKi8pIHtcclxuICAgICAgICB2YWx1ZSA9IHZub2RlLmNvbXBvbmVudC5leHBvc2VkIHx8IHZub2RlLmNvbXBvbmVudC5wcm94eTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbHVlID0gdm5vZGUuZWw7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIW93bmVyKSB7XHJcbiAgICAgICAgd2FybihgTWlzc2luZyByZWYgb3duZXIgY29udGV4dC4gcmVmIGNhbm5vdCBiZSB1c2VkIG9uIGhvaXN0ZWQgdm5vZGVzLiBgICtcclxuICAgICAgICAgICAgYEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcclxuICAgIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyAob3duZXIucmVmcyA9IHt9KSA6IG93bmVyLnJlZnM7XHJcbiAgICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcclxuICAgIC8vIHVuc2V0IG9sZCByZWZcclxuICAgIGlmIChvbGRSZWYgIT0gbnVsbCAmJiBvbGRSZWYgIT09IHJlZikge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhvbGRSZWYpKSB7XHJcbiAgICAgICAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgb2xkUmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtvbGRSZWZdID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XHJcbiAgICAgICAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzU3RyaW5nKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmc1tyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vICMxNzg5OiBmb3Igbm9uLW51bGwgdmFsdWVzLCBzZXQgdGhlbSBhZnRlciByZW5kZXJcclxuICAgICAgICAvLyBudWxsIHZhbHVlcyBtZWFucyB0aGlzIGlzIHVubW91bnQgYW5kIGl0IHNob3VsZCBub3Qgb3ZlcndyaXRlIGFub3RoZXJcclxuICAgICAgICAvLyByZWYgd2l0aCB0aGUgc2FtZSBrZXlcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUmVmKHJlZikpIHtcclxuICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb1NldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiAvKiBGVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybignSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCB2YWx1ZSwgYCgke3R5cGVvZiB2YWx1ZX0pYCk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgY3JlYXRlUmVuZGVyZXIgZnVuY3Rpb24gYWNjZXB0cyB0d28gZ2VuZXJpYyBhcmd1bWVudHM6XHJcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxyXG4gKiBob3N0IGVudmlyb25tZW50LiBGb3IgZXhhbXBsZSwgZm9yIHJ1bnRpbWUtZG9tLCBIb3N0Tm9kZSB3b3VsZCBiZSB0aGUgRE9NXHJcbiAqIGBOb2RlYCBpbnRlcmZhY2UgYW5kIEhvc3RFbGVtZW50IHdvdWxkIGJlIHRoZSBET00gYEVsZW1lbnRgIGludGVyZmFjZS5cclxuICpcclxuICogQ3VzdG9tIHJlbmRlcmVycyBjYW4gcGFzcyBpbiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgdHlwZXMgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGAganNcclxuICogY29uc3QgeyByZW5kZXIsIGNyZWF0ZUFwcCB9ID0gY3JlYXRlUmVuZGVyZXI8Tm9kZSwgRWxlbWVudD4oe1xyXG4gKiAgIHBhdGNoUHJvcCxcclxuICogICAuLi5ub2RlT3BzXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcclxufVxyXG4vLyBTZXBhcmF0ZSBBUEkgZm9yIGNyZWF0aW5nIGh5ZHJhdGlvbi1lbmFibGVkIHJlbmRlcmVyLlxyXG4vLyBIeWRyYXRpb24gbG9naWMgaXMgb25seSB1c2VkIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBtYWtpbmcgaXRcclxuLy8gdHJlZS1zaGFrYWJsZS5cclxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcclxuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXHJcbiAgICB7XHJcbiAgICAgICAgaW5pdEZlYXR1cmVGbGFncygpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XHJcbiAgICAgICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xyXG4gICAgICAgIHNldERldnRvb2xzSG9vayh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGZvcmNlUGF0Y2hQcm9wOiBob3N0Rm9yY2VQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBjbG9uZU5vZGU6IGhvc3RDbG9uZU5vZGUsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xyXG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXHJcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxyXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcclxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcclxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XHJcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICBuMSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIEJBSUwgKi8pIHtcclxuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRleHQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XHJcbiAgICAgICAgICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzRnJhZ21lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdJbnZhbGlkIFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IHJlZlxyXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzVGV4dCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaG9zdEluc2VydCgobjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbikpLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcclxuICAgICAgICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xyXG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZUNvbW1lbnQobjIuY2hpbGRyZW4gfHwgJycpKSwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBzdXBwb3J0IGZvciBkeW5hbWljIGNvbW1lbnRzXHJcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXYgLyBITVIgb25seVxyXG4gICAgICovXHJcbiAgICBjb25zdCBwYXRjaFN0YXRpY05vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgLy8gc3RhdGljIG5vZGVzIGFyZSBvbmx5IHBhdGNoZWQgZHVyaW5nIGRldiBmb3IgSE1SXHJcbiAgICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBob3N0TmV4dFNpYmxpbmcobjEuYW5jaG9yKTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRpY05vZGUobjEpO1xyXG4gICAgICAgICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XHJcbiAgICAgICAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xyXG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcclxuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XHJcbiAgICAgICAgICAgIGVsID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdEluc2VydChhbmNob3IsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0pID0+IHtcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xyXG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XHJcbiAgICAgICAgICAgIGVsID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgbjIudHlwZSA9PT0gJ3N2Zyc7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgbW91bnRFbGVtZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoRWxlbWVudChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBlbDtcclxuICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgcGF0Y2hGbGFnLCBkaXJzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB2bm9kZS5lbCAmJlxyXG4gICAgICAgICAgICBob3N0Q2xvbmVOb2RlICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgcGF0Y2hGbGFnID09PSAtMSAvKiBIT0lTVEVEICovKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGEgdm5vZGUgaGFzIG5vbi1udWxsIGVsLCBpdCBtZWFucyBpdCdzIGJlaW5nIHJldXNlZC5cclxuICAgICAgICAgICAgLy8gT25seSBzdGF0aWMgdm5vZGVzIGNhbiBiZSByZXVzZWQsIHNvIGl0cyBtb3VudGVkIERPTSBub2RlcyBzaG91bGQgYmVcclxuICAgICAgICAgICAgLy8gZXhhY3RseSB0aGUgc2FtZSwgYW5kIHdlIGNhbiBzaW1wbHkgZG8gYSBjbG9uZSBoZXJlLlxyXG4gICAgICAgICAgICAvLyBvbmx5IGRvIHRoaXMgaW4gcHJvZHVjdGlvbiBzaW5jZSBjbG9uZWQgdHJlZXMgY2Fubm90IGJlIEhNUiB1cGRhdGVkLlxyXG4gICAgICAgICAgICBlbCA9IHZub2RlLmVsID0gaG9zdENsb25lTm9kZSh2bm9kZS5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQodm5vZGUudHlwZSwgaXNTVkcsIHByb3BzICYmIHByb3BzLmlzLCBwcm9wcyk7XHJcbiAgICAgICAgICAgIC8vIG1vdW50IGNoaWxkcmVuIGZpcnN0LCBzaW5jZSBzb21lIHByb3BzIG1heSByZWx5IG9uIGNoaWxkIGNvbnRlbnRcclxuICAgICAgICAgICAgLy8gYmVpbmcgYWxyZWFkeSByZW5kZXJlZCwgZS5nLiBgPHNlbGVjdCB2YWx1ZT5gXHJcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKHZub2RlLmNoaWxkcmVuLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcgJiYgdHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wc1xyXG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNjb3BlSWRcclxuICAgICAgICAgICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192bm9kZScsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2bm9kZSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdfX3Z1ZVBhcmVudENvbXBvbmVudCcsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcnMpIHtcclxuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlTW91bnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIzE1ODMgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIG5vdCByZXNvbHZlZCBjYXNlLCBlbnRlciBob29rIHNob3VsZCBjYWxsIHdoZW4gc3VzcGVuc2UgcmVzb2x2ZWRcclxuICAgICAgICAvLyAjMTY4OSBGb3IgaW5zaWRlIHN1c3BlbnNlICsgc3VzcGVuc2UgcmVzb2x2ZWQgY2FzZSwganVzdCBjYWxsIGl0XHJcbiAgICAgICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSAoIXBhcmVudFN1c3BlbnNlIHx8IChwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkpICYmXHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcclxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xyXG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8XHJcbiAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8XHJcbiAgICAgICAgICAgIGRpcnMpIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XHJcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHNjb3BlSWQpIHtcclxuICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2xvdFNjb3BlSWRzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2xvdFNjb3BlSWRzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4IC8qIERFVl9ST09UX0ZSQUdNRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJUcmVlID1cclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZub2RlID09PSBzdWJUcmVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcclxuICAgICAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHBhcmVudFZOb2RlLCBwYXJlbnRWTm9kZS5zY29wZUlkLCBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudC5wYXJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkLCBzbG90U2NvcGVJZHMsIHN0YXJ0ID0gMCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gKGNoaWxkcmVuW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xyXG4gICAgICAgICAgICBwYXRjaChudWxsLCBjaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQsIHNsb3RTY29wZUlkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcclxuICAgICAgICAvLyAjMTQyNiB0YWtlIHRoZSBvbGQgdm5vZGUncyBwYXRjaCBmbGFnIGludG8gYWNjb3VudCBzaW5jZSB1c2VyIG1heSBjbG9uZSBhXHJcbiAgICAgICAgLy8gY29tcGlsZXItZ2VuZXJhdGVkIHZub2RlLCB3aGljaCBkZS1vcHRzIHRvIEZVTExfUFJPUFNcclxuICAgICAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLztcclxuICAgICAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBjb25zdCBuZXdQcm9wcyA9IG4yLnByb3BzIHx8IEVNUFRZX09CSjtcclxuICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlycykge1xyXG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICAvLyBITVIgdXBkYXRlZCwgZm9yY2UgZnVsbCBkaWZmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYSBwYXRjaEZsYWcgbWVhbnMgdGhpcyBlbGVtZW50J3MgcmVuZGVyIGNvZGUgd2FzXHJcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kIGNhbiB0YWtlIHRoZSBmYXN0IHBhdGguXHJcbiAgICAgICAgICAgIC8vIGluIHRoaXMgcGF0aCBvbGQgbm9kZSBhbmQgbmV3IG5vZGUgYXJlIGd1YXJhbnRlZWQgdG8gaGF2ZSB0aGUgc2FtZSBzaGFwZVxyXG4gICAgICAgICAgICAvLyAoaS5lLiBhdCB0aGUgZXhhY3Qgc2FtZSBwb3NpdGlvbiBpbiB0aGUgc291cmNlIHRlbXBsYXRlKVxyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogRlVMTF9QUk9QUyAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBwcm9wcyBjb250YWluIGR5bmFtaWMga2V5cywgZnVsbCBkaWZmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hQcm9wcyhlbCwgbjIsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY2xhc3NcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgY2xhc3MgYmluZGluZ3MuXHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMiAvKiBDTEFTUyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ2NsYXNzJywgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBzdHlsZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBzdHlsZSBiaW5kaW5nc1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQgLyogU1RZTEUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAnc3R5bGUnLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHByb3AvYXR0ciBiaW5kaW5nc1xyXG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgdGhhbiBjbGFzcyBhbmQgc3R5bGUuIFRoZSBrZXlzIG9mIGR5bmFtaWMgcHJvcC9hdHRycyBhcmUgc2F2ZWQgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBmYXN0ZXIgaXRlcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBkeW5hbWljIGtleXMgbGlrZSA6W2Zvb109XCJiYXJcIiB3aWxsIGNhdXNlIHRoaXMgb3B0aW1pemF0aW9uIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBiYWlsIG91dCBhbmQgZ28gdGhyb3VnaCBhIGZ1bGwgZGlmZiBiZWNhdXNlIHdlIG5lZWQgdG8gdW5zZXQgdGhlIG9sZCBrZXlcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBST1BTICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZsYWcgaXMgcHJlc2VudCB0aGVuIGR5bmFtaWNQcm9wcyBtdXN0IGJlIG5vbi1udWxsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGhvc3RGb3JjZVBhdGNoUHJvcCAmJiBob3N0Rm9yY2VQYXRjaFByb3AoZWwsIGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCBuMS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0ZXh0XHJcbiAgICAgICAgICAgIC8vIFRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIG9ubHkgZHluYW1pYyB0ZXh0IGNoaWxkcmVuLlxyXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMSAvKiBURVhUICovKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobjEuY2hpbGRyZW4gIT09IG4yLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyB1bm9wdGltaXplZCwgZnVsbCBkaWZmXHJcbiAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXJlQ2hpbGRyZW5TVkcgPSBpc1NWRyAmJiBuMi50eXBlICE9PSAnZm9yZWlnbk9iamVjdCc7XHJcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBhcmVDaGlsZHJlblNWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xyXG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCAndXBkYXRlZCcpO1xyXG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIFRoZSBmYXN0IHBhdGggZm9yIGJsb2Nrcy5cclxuICAgIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGNvbnRhaW5lciAocGFyZW50IGVsZW1lbnQpIGZvciB0aGUgcGF0Y2guXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFxyXG4gICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxyXG4gICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cclxuICAgICAgICAgICAgb2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHxcclxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBhbHNvIHJlcXVpcmVzIHRoZSBjb3JyZWN0IHBhcmVudCBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cclxuICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqL1xyXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcclxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xyXG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChob3N0Rm9yY2VQYXRjaFByb3AgJiYgaG9zdEZvcmNlUGF0Y2hQcm9wKGVsLCBrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gKG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSAobjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcclxuICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgc2xvdCBmcmFnbWVudCB3aXRoIDpzbG90dGVkIHNjb3BlIGlkc1xyXG4gICAgICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xyXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHNcclxuICAgICAgICAgICAgICAgID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcylcclxuICAgICAgICAgICAgICAgIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICAvLyBITVIgdXBkYXRlZCwgZm9yY2UgZnVsbCBkaWZmXHJcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XHJcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudEVuZEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAvLyBhIGZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYXJyYXkgY2hpbGRyZW5cclxuICAgICAgICAgICAgLy8gc2luY2UgdGhleSBhcmUgZWl0aGVyIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIsIG9yIGltcGxpY2l0bHkgY3JlYXRlZFxyXG4gICAgICAgICAgICAvLyBmcm9tIGFycmF5cy5cclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmXHJcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi8gJiZcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiAmJlxyXG4gICAgICAgICAgICAgICAgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhIHN0YWJsZSBmcmFnbWVudCAodGVtcGxhdGUgcm9vdCBvciA8dGVtcGxhdGUgdi1mb3I+KSBkb2Vzbid0IG5lZWQgdG9cclxuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGNoaWxkcmVuIG9yZGVyLCBidXQgaXQgbWF5IGNvbnRhaW4gZHluYW1pY0NoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XHJcbiAgICAgICAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxyXG4gICAgICAgICAgICAgICAgLy8gIzIxMzQgb3IgaWYgaXQncyBhIGNvbXBvbmVudCByb290LCBpdCBtYXkgYWxzbyBnZXQgbW92ZWQgYXJvdW5kXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxyXG4gICAgICAgICAgICAgICAgbjIua2V5ICE9IG51bGwgfHxcclxuICAgICAgICAgICAgICAgICAgICAocGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSAvKiBzaGFsbG93ICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGtleWVkIC8gdW5rZXllZCwgb3IgbWFudWFsIGZyYWdtZW50cy5cclxuICAgICAgICAgICAgICAgIC8vIGZvciBrZXllZCAmIHVua2V5ZWQsIHNpbmNlIHRoZXkgYXJlIGNvbXBpbGVyIGdlbmVyYXRlZCBmcm9tIHYtZm9yLFxyXG4gICAgICAgICAgICAgICAgLy8gZWFjaCBjaGlsZCBpcyBndWFyYW50ZWVkIHRvIGJlIGEgYmxvY2sgc28gdGhlIGZyYWdtZW50IHdpbGwgbmV2ZXJcclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgZHluYW1pY0NoaWxkcmVuLlxyXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBuMi5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMiAvKiBDT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKGluaXRpYWxWTm9kZS5jb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZShpbml0aWFsVk5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xyXG4gICAgICAgICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XHJcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluamVjdCByZW5kZXJlciBpbnRlcm5hbHMgZm9yIGtlZXBBbGl2ZVxyXG4gICAgICAgIGlmIChpc0tlZXBBbGl2ZShpbml0aWFsVk5vZGUpKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVzb2x2ZSBwcm9wcyBhbmQgc2xvdHMgZm9yIHNldHVwIGNvbnRleHRcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0dXAoKSBpcyBhc3luYy4gVGhpcyBjb21wb25lbnQgcmVsaWVzIG9uIGFzeW5jIGxvZ2ljIHRvIGJlIHJlc29sdmVkXHJcbiAgICAgICAgLy8gYmVmb3JlIHByb2NlZWRpbmdcclxuICAgICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KTtcclxuICAgICAgICAgICAgLy8gR2l2ZSBpdCBhIHBsYWNlaG9sZGVyIGlmIHRoaXMgaXMgbm90IGh5ZHJhdGlvblxyXG4gICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSBzZWxmLWRlZmluZWQgZmFsbGJhY2tcclxuICAgICAgICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gKGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KSk7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xyXG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAobjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50KTtcclxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXAgJiZcclxuICAgICAgICAgICAgICAgICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luYyAmIHN0aWxsIHBlbmRpbmcgLSBqdXN0IHVwZGF0ZSBwcm9wcyBhbmQgc2xvdHNcclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBjb21wb25lbnQncyByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlciBpc24ndCBzZXQtdXAgeWV0XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbjIsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbCB1cGRhdGVcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcclxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIGNoaWxkIGNvbXBvbmVudCBpcyBhbHNvIHF1ZXVlZCwgcmVtb3ZlIGl0IHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyBkb3VibGUgdXBkYXRpbmcgdGhlIHNhbWUgY2hpbGQgY29tcG9uZW50IGluIHRoZSBzYW1lIGZsdXNoLlxyXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZUpvYihpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGFuY2UudXBkYXRlIGlzIHRoZSByZWFjdGl2ZSBlZmZlY3QgcnVubmVyLlxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBuZWVkZWQuIGp1c3QgY29weSBvdmVyIHByb3BlcnRpZXNcclxuICAgICAgICAgICAgbjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICAvLyBjcmVhdGUgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXJpbmdcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUgPSBlZmZlY3QoZnVuY3Rpb24gY29tcG9uZW50RWZmZWN0KCkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQgfSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQgaG9va1xyXG4gICAgICAgICAgICAgICAgaWYgKGJtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZU1vdW50XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cclxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRlTm9kZShpbml0aWFsVk5vZGUuZWwsIHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVNb3VudGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXHJcbiAgICAgICAgICAgICAgICAvLyAjMTc0MiBhY3RpdmF0ZWQgaG9vayBtdXN0IGJlIGFjY2Vzc2VkIGFmdGVyIGZpcnN0IHJlbmRlclxyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGhvb2sgbWF5IGJlIGluamVjdGVkIGJ5IGEgY2hpbGQga2VlcC1hbGl2ZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBhIH0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGlmIChhICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlLnNoYXBlRmxhZyAmIDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoYSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAjMjQ1ODogZGVmZXJlbmNlIG1vdW50LW9ubHkgb2JqZWN0IHBhcmFtZXRlcnMgdG8gcHJldmVudCBtZW1sZWFrc1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxyXG4gICAgICAgICAgICAgICAgLy8gT1IgcGFyZW50IGNhbGxpbmcgcHJvY2Vzc0NvbXBvbmVudCAobmV4dDogVk5vZGUpXHJcbiAgICAgICAgICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSB2bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZVVwZGF0ZSBob29rXHJcbiAgICAgICAgICAgICAgICBpZiAoYnUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlVXBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2gocHJldlRyZWUsIG5leHRUcmVlLCBcclxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxyXG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLCBcclxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxyXG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgZWwuIEhPQyBpcyBpbmRpY2F0ZWQgYnkgcGFyZW50IGluc3RhbmNlJ3Mgc3ViVHJlZSBwb2ludGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoaWxkIGNvbXBvbmVudCdzIHZub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGhvb2tcclxuICAgICAgICAgICAgICAgIGlmICh1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZURldkVmZmVjdE9wdGlvbnMoaW5zdGFuY2UpIDogcHJvZEVmZmVjdE9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcclxuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XHJcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XHJcbiAgICAgICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XHJcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xyXG4gICAgICAgIC8vIHByb3BzIHVwZGF0ZSBtYXkgaGF2ZSB0cmlnZ2VyZWQgcHJlLWZsdXNoIHdhdGNoZXJzLlxyXG4gICAgICAgIC8vIGZsdXNoIHRoZW0gYmVmb3JlIHRoZSByZW5kZXIgdXBkYXRlLlxyXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnModW5kZWZpbmVkLCBpbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcclxuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xyXG4gICAgICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XHJcbiAgICAgICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoXHJcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSBlaXRoZXIgZnVsbHkta2V5ZWQgb3IgbWl4ZWQgKHNvbWUga2V5ZWQgc29tZSBub3QpXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogVU5LRVlFRF9GUkFHTUVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBURVhUX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXHJcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xyXG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgY2hpbGRyZW4sIGp1c3QgdW5tb3VudCBvbGRcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgdGV4dCBPUiBudWxsXHJcbiAgICAgICAgICAgICAgICAvLyBuZXcgY2hpbGRyZW4gaXMgYXJyYXkgT1IgbnVsbFxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFRFWFRfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXcgaWYgYXJyYXlcclxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBBUlJBWV9DSElMRFJFTiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xyXG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XHJcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkXHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgZmFsc2UsIGNvbW1vbkxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBtb3VudCBuZXdcclxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxyXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcclxuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxyXG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcclxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYikgZCBlXHJcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xyXG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxyXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcclxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gMi4gc3luYyBmcm9tIGVuZFxyXG4gICAgICAgIC8vIGEgKGIgYylcclxuICAgICAgICAvLyBkIGUgKGIgYylcclxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltlMl0pKTtcclxuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUxLS07XHJcbiAgICAgICAgICAgIGUyLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBjIChhIGIpXHJcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxyXG4gICAgICAgIGlmIChpID4gZTEpIHtcclxuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDQuIGNvbW1vbiBzZXF1ZW5jZSArIHVubW91bnRcclxuICAgICAgICAvLyAoYSBiKSBjXHJcbiAgICAgICAgLy8gKGEgYilcclxuICAgICAgICAvLyBpID0gMiwgZTEgPSAyLCBlMiA9IDFcclxuICAgICAgICAvLyBhIChiIGMpXHJcbiAgICAgICAgLy8gKGIgYylcclxuICAgICAgICAvLyBpID0gMCwgZTEgPSAwLCBlMiA9IC0xXHJcbiAgICAgICAgZWxzZSBpZiAoaSA+IGUyKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA1LiB1bmtub3duIHNlcXVlbmNlXHJcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xyXG4gICAgICAgIC8vIFtpIC4uLiBlMiArIDFdOiBhIGIgW2UgZCBjIGhdIGYgZ1xyXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDQsIGUyID0gNVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzMSA9IGk7IC8vIHByZXYgc3RhcnRpbmcgaW5kZXhcclxuICAgICAgICAgICAgY29uc3QgczIgPSBpOyAvLyBuZXh0IHN0YXJ0aW5nIGluZGV4XHJcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxyXG4gICAgICAgICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcclxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCwgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxyXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBub2RlcyAmIHJlbW92ZSBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudFxyXG4gICAgICAgICAgICBsZXQgajtcclxuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xyXG4gICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxyXG4gICAgICAgICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XHJcbiAgICAgICAgICAgIC8vIHdvcmtzIGFzIE1hcDxuZXdJbmRleCwgb2xkSW5kZXg+XHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcclxuICAgICAgICAgICAgLy8gYW5kIG9sZEluZGV4ID0gMCBpcyBhIHNwZWNpYWwgdmFsdWUgaW5kaWNhdGluZyB0aGUgbmV3IG5vZGUgaGFzXHJcbiAgICAgICAgICAgIC8vIG5vIGNvcnJlc3BvbmRpbmcgb2xkIG5vZGUuXHJcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBuZXcgY2hpbGRyZW4gaGF2ZSBiZWVuIHBhdGNoZWQgc28gdGhpcyBjYW4gb25seSBiZSBhIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleS1sZXNzIG5vZGUsIHRyeSB0byBsb2NhdGUgYSBrZXktbGVzcyBub2RlIG9mIHRoZSBzYW1lIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcclxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXHJcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcclxuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaWY6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBjdXJyZW50IG5vZGUgaXMgbm90IGFtb25nIHRoZSBzdGFibGUgc2VxdWVuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIFJFT1JERVIgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykge1xyXG4gICAgICAgICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XHJcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXHJcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBSRU9SREVSICovICYmXHJcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJlxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogRU5URVIgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XHJcbiAgICAgICAgLy8gdW5zZXQgcmVmXHJcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcclxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAvKiBFTEVNRU5UICovICYmIGRpcnM7XHJcbiAgICAgICAgbGV0IHZub2RlSG9vaztcclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVVbm1vdW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFRFTEVQT1JUICovKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCBpbnRlcm5hbHMsIGRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiZcclxuICAgICAgICAgICAgICAgIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xyXG4gICAgICAgICAgICAgICAgKHR5cGUgIT09IEZyYWdtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovKSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgYmxvY2sgbm9kZXM6IG9ubHkgbmVlZCB0byB1bm1vdW50IGR5bmFtaWMgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oZHluYW1pY0NoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHR5cGUgPT09IEZyYWdtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAocGF0Y2hGbGFnICYgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgMjU2IC8qIFVOS0VZRURfRlJBR01FTlQgKi8pKSB8fFxyXG4gICAgICAgICAgICAgICAgKCFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlKHZub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVVbm1vdW50ZWQpIHx8IHNob3VsZEludm9rZURpcnMpIHtcclxuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcclxuICAgICAgICAgICAgICAgIHNob3VsZEludm9rZURpcnMgJiZcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICd1bm1vdW50ZWQnKTtcclxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmUgPSB2bm9kZSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBlbCwgYW5jaG9yLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgcmVtb3ZlRnJhZ21lbnQoZWwsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwZXJmb3JtUmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcclxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiZcclxuICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxyXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwZXJmb3JtUmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbW92ZUZyYWdtZW50ID0gKGN1ciwgZW5kKSA9PiB7XHJcbiAgICAgICAgLy8gRm9yIGZyYWdtZW50cywgZGlyZWN0bHkgcmVtb3ZlIGFsbCBjb250YWluZWQgRE9NIG5vZGVzLlxyXG4gICAgICAgIC8vIChmcmFnbWVudCBjaGlsZCBub2RlcyBjYW5ub3QgaGF2ZSB0cmFuc2l0aW9uKVxyXG4gICAgICAgIGxldCBuZXh0O1xyXG4gICAgICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xyXG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY3VyKTtcclxuICAgICAgICAgICAgY3VyID0gbmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9zdFJlbW92ZShlbmQpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnRDb21wb25lbnQgPSAoaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkgPT4ge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XHJcbiAgICAgICAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IGJ1bSwgZWZmZWN0cywgdXBkYXRlLCBzdWJUcmVlLCB1bSB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgLy8gYmVmb3JlVW5tb3VudCBob29rXHJcbiAgICAgICAgaWYgKGJ1bSkge1xyXG4gICAgICAgICAgICBpbnZva2VBcnJheUZucyhidW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWZmZWN0cykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVmZmVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHN0b3AoZWZmZWN0c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdXBkYXRlIG1heSBiZSBudWxsIGlmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBiZWZvcmUgaXRzIGFzeW5jXHJcbiAgICAgICAgLy8gc2V0dXAgaGFzIHJlc29sdmVkLlxyXG4gICAgICAgIGlmICh1cGRhdGUpIHtcclxuICAgICAgICAgICAgc3RvcCh1cGRhdGUpO1xyXG4gICAgICAgICAgICB1bm1vdW50KHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB1bm1vdW50ZWQgaG9va1xyXG4gICAgICAgIGlmICh1bSkge1xyXG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcclxuICAgICAgICAvLyBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIGRlcCBpbnNpZGUgYSBwZW5kaW5nIHN1c3BlbnNlIGlzIHVubW91bnRlZCBiZWZvcmVcclxuICAgICAgICAvLyBpdHMgYXN5bmMgZGVwIHJlc29sdmVzLiBUaGlzIHNob3VsZCByZW1vdmUgdGhlIGRlcCBmcm9tIHRoZSBzdXNwZW5zZSwgYW5kXHJcbiAgICAgICAgLy8gY2F1c2UgdGhlIHN1c3BlbnNlIHRvIHJlc29sdmUgaW1tZWRpYXRlbHkgaWYgdGhhdCB3YXMgdGhlIGxhc3QgZGVwLlxyXG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJlxyXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmXHJcbiAgICAgICAgICAgICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJlxyXG4gICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCAmJlxyXG4gICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJlxyXG4gICAgICAgICAgICBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcclxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSB2bm9kZSA9PiB7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogQ09NUE9ORU5UICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNVU1BFTlNFICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBob3N0TmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCkpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xyXG4gICAgICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XHJcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaChjb250YWluZXIuX3Zub2RlIHx8IG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIG51bGwsIG51bGwsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcclxuICAgICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaW50ZXJuYWxzID0ge1xyXG4gICAgICAgIHA6IHBhdGNoLFxyXG4gICAgICAgIHVtOiB1bm1vdW50LFxyXG4gICAgICAgIG06IG1vdmUsXHJcbiAgICAgICAgcjogcmVtb3ZlLFxyXG4gICAgICAgIG10OiBtb3VudENvbXBvbmVudCxcclxuICAgICAgICBtYzogbW91bnRDaGlsZHJlbixcclxuICAgICAgICBwYzogcGF0Y2hDaGlsZHJlbixcclxuICAgICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcclxuICAgICAgICBuOiBnZXROZXh0SG9zdE5vZGUsXHJcbiAgICAgICAgbzogb3B0aW9uc1xyXG4gICAgfTtcclxuICAgIGxldCBoeWRyYXRlO1xyXG4gICAgbGV0IGh5ZHJhdGVOb2RlO1xyXG4gICAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xyXG4gICAgICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoaW50ZXJuYWxzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVuZGVyLFxyXG4gICAgICAgIGh5ZHJhdGUsXHJcbiAgICAgICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBpbnZva2VWTm9kZUhvb2soaG9vaywgaW5zdGFuY2UsIHZub2RlLCBwcmV2Vk5vZGUgPSBudWxsKSB7XHJcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNyAvKiBWTk9ERV9IT09LICovLCBbXHJcbiAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgcHJldlZOb2RlXHJcbiAgICBdKTtcclxufVxyXG4vKipcclxuICogIzExNTZcclxuICogV2hlbiBhIGNvbXBvbmVudCBpcyBITVItZW5hYmxlZCwgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBhbGwgc3RhdGljIG5vZGVzXHJcbiAqIGluc2lkZSBhIGJsb2NrIGFsc28gaW5oZXJpdCB0aGUgRE9NIGVsZW1lbnQgZnJvbSB0aGUgcHJldmlvdXMgdHJlZSBzbyB0aGF0XHJcbiAqIEhNUiB1cGRhdGVzICh3aGljaCBhcmUgZnVsbCB1cGRhdGVzKSBjYW4gcmV0cmlldmUgdGhlIGVsZW1lbnQgZm9yIHBhdGNoaW5nLlxyXG4gKlxyXG4gKiAjMjA4MFxyXG4gKiBJbnNpZGUga2V5ZWQgYHRlbXBsYXRlYCBmcmFnbWVudCBzdGF0aWMgY2hpbGRyZW4sIGlmIGEgZnJhZ21lbnQgaXMgbW92ZWQsXHJcbiAqIHRoZSBjaGlsZHJlbiB3aWxsIGFsd2F5cyBtb3ZlZCBzbyB0aGF0IG5lZWQgaW5oZXJpdCBlbCBmb3JtIHByZXZpb3VzIG5vZGVzXHJcbiAqIHRvIGVuc3VyZSBjb3JyZWN0IG1vdmVkIHBvc2l0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XHJcbiAgICBjb25zdCBjaDIgPSBuMi5jaGlsZHJlbjtcclxuICAgIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGNhbGxlZCBpbiB0aGUgb3B0aW1pemVkIHBhdGggc28gYXJyYXkgY2hpbGRyZW4gYXJlXHJcbiAgICAgICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgdm5vZGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xyXG4gICAgICAgICAgICBsZXQgYzIgPSBjaDJbaV07XHJcbiAgICAgICAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxIC8qIEVMRU1FTlQgKi8gJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghc2hhbGxvdylcclxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYWxzbyBpbmhlcml0IGZvciBjb21tZW50IG5vZGVzLCBidXQgbm90IHBsYWNlaG9sZGVycyAoZS5nLiB2LWlmIHdoaWNoXHJcbiAgICAgICAgICAgIC8vIHdvdWxkIGhhdmUgcmVjZWl2ZWQgLmVsIGR1cmluZyBibG9jayBwYXRjaClcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xyXG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcclxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XHJcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbMF07XHJcbiAgICBsZXQgaSwgaiwgdSwgdiwgYztcclxuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xyXG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHUgPSAwO1xyXG4gICAgICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xyXG4gICAgICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICB3aGlsZSAodS0tID4gMCkge1xyXG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XHJcbiAgICAgICAgdiA9IHBbdl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XHJcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSAnJyk7XHJcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XHJcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcclxuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgd2FybihgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcclxuICAgIH1cclxufTtcclxuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xyXG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxyXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xyXG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IG4yO1xyXG4gICAgICAgIC8vICMzMzAyXHJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xyXG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcclxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xyXG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIC8vICMyNjUyIHdlIGNvdWxkIGJlIHRlbGVwb3J0aW5nIGZyb20gYSBub24tU1ZHIHRyZWUgaW50byBhbiBTVkcgdHJlZVxyXG4gICAgICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUZWxlcG9ydCAqYWx3YXlzKiBoYXMgQXJyYXkgY2hpbGRyZW4uIFRoaXMgaXMgZW5mb3JjZWQgaW4gYm90aCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVyIGFuZCB2bm9kZSBjaGlsZHJlbiBub3JtYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcclxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcclxuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xyXG4gICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmIChuMi5keW5hbWljQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxyXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgbjIuZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaW4gYmxvY2sgdHJlZSBtb2RlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGFsbCByb290LWxldmVsIG5vZGVzXHJcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXHJcbiAgICAgICAgICAgICAgICAvLyBiZSBtb3ZlZCBpbiBmdXR1cmUgcGF0Y2hlcy5cclxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY3VycmVudENvbnRhaW5lciwgY3VycmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gbWFpbiBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIGNvbnRhaW5lciwgbWFpbkFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIG5leHRUYXJnZXQsIG51bGwsIGludGVybmFscywgMCAvKiBUQVJHRVRfQ0hBTkdFICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkIC0+IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gdGVsZXBvcnQgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRPR0dMRSAqLyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcclxuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcclxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcclxuICAgICAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xyXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdmU6IG1vdmVUZWxlcG9ydCxcclxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxyXG59O1xyXG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyIC8qIFJFT1JERVIgKi8pIHtcclxuICAgIC8vIG1vdmUgdGFyZ2V0IGFuY2hvciBpZiB0aGlzIGlzIGEgdGFyZ2V0IGNoYW5nZS5cclxuICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBUQVJHRVRfQ0hBTkdFICovKSB7XHJcbiAgICAgICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XHJcbiAgICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMiAvKiBSRU9SREVSICovO1xyXG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cclxuICAgIGlmIChpc1Jlb3JkZXIpIHtcclxuICAgICAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxuICAgIC8vIGlmIHRoaXMgaXMgYSByZS1vcmRlciBhbmQgdGVsZXBvcnQgaXMgZW5hYmxlZCAoY29udGVudCBpcyBpbiB0YXJnZXQpXHJcbiAgICAvLyBkbyBub3QgbW92ZSBjaGlsZHJlbi4gU28gdGhlIG9wcG9zaXRlIGlzOiBvbmx5IG1vdmUgY2hpbGRyZW4gaWYgdGhpc1xyXG4gICAgLy8gaXMgbm90IGEgcmVvcmRlciwgb3IgdGhlIHRlbGVwb3J0IGlzIGRpc2FibGVkXHJcbiAgICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XHJcbiAgICAgICAgLy8gVGVsZXBvcnQgaGFzIGVpdGhlciBBcnJheSBjaGlsZHJlbiBvciBubyBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogQVJSQVlfQ0hJTERSRU4gKi8pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIDIgLyogUkVPUkRFUiAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxyXG4gICAgaWYgKGlzUmVvcmRlcikge1xyXG4gICAgICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IgfSB9LCBoeWRyYXRlQ2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICh2bm9kZS50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KHZub2RlLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGUgdGVsZXBvcnRzIHJlbmRlcmVkIHRvIHRoZSBzYW1lIHRhcmdldCBlbGVtZW50LCB3ZSBuZWVkIHRvXHJcbiAgICAgICAgLy8gcGljayB1cCBmcm9tIHdoZXJlIHRoZSBsYXN0IHRlbGVwb3J0IGZpbmlzaGVkIGluc3RlYWQgb2YgdGhlIGZpcnN0IG5vZGVcclxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2IC8qIEFSUkFZX0NISUxEUkVOICovKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBwYXJlbnROb2RlKG5vZGUpLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4odGFyZ2V0Tm9kZSwgdm5vZGUsIHRhcmdldCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldC5fbHBhID1cclxuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcclxufVxyXG4vLyBGb3JjZS1jYXN0ZWQgcHVibGljIHR5cGluZyBmb3IgaCBhbmQgVFNYIHByb3BzIGluZmVyZW5jZVxyXG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcblxuY29uc3QgQ09NUE9ORU5UUyA9ICdjb21wb25lbnRzJztcclxuY29uc3QgRElSRUNUSVZFUyA9ICdkaXJlY3RpdmVzJztcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50KG5hbWUsIG1heWJlU2VsZlJlZmVyZW5jZSkge1xyXG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XHJcbn1cclxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbCgpO1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbXBvbmVudCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIGNvbXBvbmVudCwgZmFsc2UpIHx8IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGludmFsaWQgdHlwZXMgd2lsbCBmYWxsdGhyb3VnaCB0byBjcmVhdGVWTm9kZSBhbmQgcmFpc2Ugd2FybmluZ1xyXG4gICAgICAgIHJldHVybiAoY29tcG9uZW50IHx8IE5VTExfRFlOQU1JQ19DT01QT05FTlQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KERJUkVDVElWRVMsIG5hbWUpO1xyXG59XHJcbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgICAgIC8vIGV4cGxpY2l0IHNlbGYgbmFtZSBoYXMgaGlnaGVzdCBwcmlvcml0eVxyXG4gICAgICAgIGlmICh0eXBlID09PSBDT01QT05FTlRTKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZk5hbWUgJiZcclxuICAgICAgICAgICAgICAgIChzZWxmTmFtZSA9PT0gbmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYW1lbGl6ZShuYW1lKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gXHJcbiAgICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3QgZm9yIGNvbXBvbmVudHMgd2l0aCBtaXhpbiBvciBleHRlbmRzLlxyXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxyXG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGltcGxpY2l0IHNlbGYtcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xyXG4gICAgICAgICAgICB3YXJuKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xyXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcclxuICAgIHJldHVybiAocmVnaXN0cnkgJiZcclxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcclxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XHJcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xyXG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xyXG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XHJcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ0NvbW1lbnQnIDogdW5kZWZpbmVkKTtcclxuY29uc3QgU3RhdGljID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdTdGF0aWMnIDogdW5kZWZpbmVkKTtcclxuLy8gU2luY2Ugdi1pZiBhbmQgdi1mb3IgYXJlIHRoZSB0d28gcG9zc2libGUgd2F5cyBub2RlIHN0cnVjdHVyZSBjYW4gZHluYW1pY2FsbHlcclxuLy8gY2hhbmdlLCBvbmNlIHdlIGNvbnNpZGVyIHYtaWYgYnJhbmNoZXMgYW5kIGVhY2ggdi1mb3IgZnJhZ21lbnQgYSBibG9jaywgd2VcclxuLy8gY2FuIGRpdmlkZSBhIHRlbXBsYXRlIGludG8gbmVzdGVkIGJsb2NrcywgYW5kIHdpdGhpbiBlYWNoIGJsb2NrIHRoZSBub2RlXHJcbi8vIHN0cnVjdHVyZSB3b3VsZCBiZSBzdGFibGUuIFRoaXMgYWxsb3dzIHVzIHRvIHNraXAgbW9zdCBjaGlsZHJlbiBkaWZmaW5nXHJcbi8vIGFuZCBvbmx5IHdvcnJ5IGFib3V0IHRoZSBkeW5hbWljIG5vZGVzIChpbmRpY2F0ZWQgYnkgcGF0Y2ggZmxhZ3MpLlxyXG5jb25zdCBibG9ja1N0YWNrID0gW107XHJcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xyXG4vKipcclxuICogT3BlbiBhIGJsb2NrLlxyXG4gKiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgLiBJdCBjYW5ub3QgYmUgcGFydCBvZiBgY3JlYXRlQmxvY2tgXHJcbiAqIGJlY2F1c2UgdGhlIGNoaWxkcmVuIG9mIHRoZSBibG9jayBhcmUgZXZhbHVhdGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgIGl0c2VsZlxyXG4gKiBpcyBjYWxsZWQuIFRoZSBnZW5lcmF0ZWQgY29kZSB0eXBpY2FsbHkgbG9va3MgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAqICAgcmV0dXJuIChvcGVuQmxvY2soKSxjcmVhdGVCbG9jaygnZGl2JywgbnVsbCwgWy4uLl0pKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKiBkaXNhYmxlVHJhY2tpbmcgaXMgdHJ1ZSB3aGVuIGNyZWF0aW5nIGEgdi1mb3IgZnJhZ21lbnQgYmxvY2ssIHNpbmNlIGEgdi1mb3JcclxuICogZnJhZ21lbnQgYWx3YXlzIGRpZmZzIGl0cyBjaGlsZHJlbi5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xyXG4gICAgYmxvY2tTdGFjay5wdXNoKChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pKTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUJsb2NrKCkge1xyXG4gICAgYmxvY2tTdGFjay5wb3AoKTtcclxuICAgIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xyXG59XHJcbi8vIFdoZXRoZXIgd2Ugc2hvdWxkIGJlIHRyYWNraW5nIGR5bmFtaWMgY2hpbGQgbm9kZXMgaW5zaWRlIGEgYmxvY2suXHJcbi8vIE9ubHkgdHJhY2tzIHdoZW4gdGhpcyB2YWx1ZSBpcyA+IDBcclxuLy8gV2UgYXJlIG5vdCB1c2luZyBhIHNpbXBsZSBib29sZWFuIGJlY2F1c2UgdGhpcyB2YWx1ZSBtYXkgbmVlZCB0byBiZVxyXG4vLyBpbmNyZW1lbnRlZC9kZWNyZW1lbnRlZCBieSBuZXN0ZWQgdXNhZ2Ugb2Ygdi1vbmNlIChzZWUgYmVsb3cpXHJcbmxldCBzaG91bGRUcmFjayA9IDE7XHJcbi8qKlxyXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcclxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xyXG4gKiBjb2RlIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgIGpzXHJcbiAqIF9jYWNoZVsxXSB8fCAoXHJcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXHJcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcclxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxyXG4gKiAgIF9jYWNoZVsxXVxyXG4gKiApXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xyXG4gICAgc2hvdWxkVHJhY2sgKz0gdmFsdWU7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGJsb2NrIHJvb3Qgdm5vZGUuIFRha2VzIHRoZSBzYW1lIGV4YWN0IGFyZ3VtZW50cyBhcyBgY3JlYXRlVk5vZGVgLlxyXG4gKiBBIGJsb2NrIHJvb3Qga2VlcHMgdHJhY2sgb2YgZHluYW1pYyBub2RlcyB3aXRoaW4gdGhlIGJsb2NrIGluIHRoZVxyXG4gKiBgZHluYW1pY0NoaWxkcmVuYCBhcnJheS5cclxuICpcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcclxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgdHJ1ZSAvKiBpc0Jsb2NrOiBwcmV2ZW50IGEgYmxvY2sgZnJvbSB0cmFja2luZyBpdHNlbGYgKi8pO1xyXG4gICAgLy8gc2F2ZSBjdXJyZW50IGJsb2NrIGNoaWxkcmVuIG9uIHRoZSBibG9jayB2bm9kZVxyXG4gICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gY3VycmVudEJsb2NrIHx8IEVNUFRZX0FSUjtcclxuICAgIC8vIGNsb3NlIGJsb2NrXHJcbiAgICBjbG9zZUJsb2NrKCk7XHJcbiAgICAvLyBhIGJsb2NrIGlzIGFsd2F5cyBnb2luZyB0byBiZSBwYXRjaGVkLCBzbyB0cmFjayBpdCBhcyBhIGNoaWxkIG9mIGl0c1xyXG4gICAgLy8gcGFyZW50IGJsb2NrXHJcbiAgICBpZiAoc2hvdWxkVHJhY2sgPiAwICYmIGN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bm9kZTtcclxufVxyXG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLyAmJlxyXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcclxuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XHJcbn1cclxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xyXG4vKipcclxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxyXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xyXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXHJcbiAqIHR5cGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xyXG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcclxufVxyXG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXHJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXHJcbiAgICAgICAgOiBhcmdzKSk7XHJcbn07XHJcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcclxuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmIH0pID0+IHtcclxuICAgIHJldHVybiAocmVmICE9IG51bGxcclxuICAgICAgICA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZilcclxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmIH1cclxuICAgICAgICAgICAgOiByZWZcclxuICAgICAgICA6IG51bGwpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybVxyXG4gICAgOiBfY3JlYXRlVk5vZGUpO1xyXG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcclxuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdHlwZSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZSA9IENvbW1lbnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNWTm9kZSh0eXBlKSkge1xyXG4gICAgICAgIC8vIGNyZWF0ZVZOb2RlIHJlY2VpdmluZyBhbiBleGlzdGluZyB2bm9kZS4gVGhpcyBoYXBwZW5zIGluIGNhc2VzIGxpa2VcclxuICAgICAgICAvLyA8Y29tcG9uZW50IDppcz1cInZub2RlXCIvPlxyXG4gICAgICAgIC8vICMyMDc4IG1ha2Ugc3VyZSB0byBtZXJnZSByZWZzIGR1cmluZyB0aGUgY2xvbmUgaW5zdGVhZCBvZiBvdmVyd3JpdGluZyBpdFxyXG4gICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodHlwZSwgcHJvcHMsIHRydWUgLyogbWVyZ2VSZWY6IHRydWUgKi8pO1xyXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcclxuICAgIH1cclxuICAgIC8vIGNsYXNzIGNvbXBvbmVudCBub3JtYWxpemF0aW9uLlxyXG4gICAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcclxuICAgICAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGFzcyAmIHN0eWxlIG5vcm1hbGl6YXRpb24uXHJcbiAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICAvLyBmb3IgcmVhY3RpdmUgb3IgcHJveHkgb2JqZWN0cywgd2UgbmVlZCB0byBjbG9uZSBpdCB0byBlbmFibGUgbXV0YXRpb24uXHJcbiAgICAgICAgaWYgKGlzUHJveHkocHJvcHMpIHx8IEludGVybmFsT2JqZWN0S2V5IGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xyXG4gICAgICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlYWN0aXZlIHN0YXRlIG9iamVjdHMgbmVlZCB0byBiZSBjbG9uZWQgc2luY2UgdGhleSBhcmUgbGlrZWx5IHRvIGJlXHJcbiAgICAgICAgICAgIC8vIG11dGF0ZWRcclxuICAgICAgICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBleHRlbmQoe30sIHN0eWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBlbmNvZGUgdGhlIHZub2RlIHR5cGUgaW5mb3JtYXRpb24gaW50byBhIGJpdG1hcFxyXG4gICAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSlcclxuICAgICAgICA/IDEgLyogRUxFTUVOVCAqL1xyXG4gICAgICAgIDogaXNTdXNwZW5zZSh0eXBlKVxyXG4gICAgICAgICAgICA/IDEyOCAvKiBTVVNQRU5TRSAqL1xyXG4gICAgICAgICAgICA6IGlzVGVsZXBvcnQodHlwZSlcclxuICAgICAgICAgICAgICAgID8gNjQgLyogVEVMRVBPUlQgKi9cclxuICAgICAgICAgICAgICAgIDogaXNPYmplY3QodHlwZSlcclxuICAgICAgICAgICAgICAgICAgICA/IDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKHR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMiAvKiBGVU5DVElPTkFMX0NPTVBPTkVOVCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNoYXBlRmxhZyAmIDQgLyogU1RBVEVGVUxfQ09NUE9ORU5UICovICYmIGlzUHJveHkodHlwZSkpIHtcclxuICAgICAgICB0eXBlID0gdG9SYXcodHlwZSk7XHJcbiAgICAgICAgd2FybihgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHdoaWNoIHdhcyBtYWRlIGEgcmVhY3RpdmUgb2JqZWN0LiBUaGlzIGNhbiBgICtcclxuICAgICAgICAgICAgYGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsIGFuZCBzaG91bGQgYmUgYXZvaWRlZCBieSBgICtcclxuICAgICAgICAgICAgYG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBgICtcclxuICAgICAgICAgICAgYGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsIGBcXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2bm9kZSA9IHtcclxuICAgICAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcclxuICAgICAgICBbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dOiB0cnVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgcHJvcHMsXHJcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxyXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcclxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcclxuICAgICAgICBzbG90U2NvcGVJZHM6IG51bGwsXHJcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxyXG4gICAgICAgIHN1c3BlbnNlOiBudWxsLFxyXG4gICAgICAgIHNzQ29udGVudDogbnVsbCxcclxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxyXG4gICAgICAgIGRpcnM6IG51bGwsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogbnVsbCxcclxuICAgICAgICBlbDogbnVsbCxcclxuICAgICAgICBhbmNob3I6IG51bGwsXHJcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxyXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcclxuICAgICAgICBzdGF0aWNDb3VudDogMCxcclxuICAgICAgICBzaGFwZUZsYWcsXHJcbiAgICAgICAgcGF0Y2hGbGFnLFxyXG4gICAgICAgIGR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXHJcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbFxyXG4gICAgfTtcclxuICAgIC8vIHZhbGlkYXRlIGtleVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xyXG4gICAgICAgIHdhcm4oYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XHJcbiAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cclxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU1VTUEVOU0UgKi8pIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnQsIGZhbGxiYWNrIH0gPSBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKTtcclxuICAgICAgICB2bm9kZS5zc0NvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sgPSBmYWxsYmFjaztcclxuICAgIH1cclxuICAgIGlmIChzaG91bGRUcmFjayA+IDAgJiZcclxuICAgICAgICAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcclxuICAgICAgICAhaXNCbG9ja05vZGUgJiZcclxuICAgICAgICAvLyBoYXMgY3VycmVudCBwYXJlbnQgYmxvY2tcclxuICAgICAgICBjdXJyZW50QmxvY2sgJiZcclxuICAgICAgICAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBub2RlcyBhbHNvIHNob3VsZCBhbHdheXMgYmUgcGF0Y2hlZCwgYmVjYXVzZSBldmVuIGlmIHRoZVxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xyXG4gICAgICAgIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cclxuICAgICAgICAocGF0Y2hGbGFnID4gMCB8fCBzaGFwZUZsYWcgJiA2IC8qIENPTVBPTkVOVCAqLykgJiZcclxuICAgICAgICAvLyB0aGUgRVZFTlRTIGZsYWcgaXMgb25seSBmb3IgaHlkcmF0aW9uIGFuZCBpZiBpdCBpcyB0aGUgb25seSBmbGFnLCB0aGVcclxuICAgICAgICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxyXG4gICAgICAgIHBhdGNoRmxhZyAhPT0gMzIgLyogSFlEUkFURV9FVkVOVFMgKi8pIHtcclxuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSkge1xyXG4gICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IE5PVCB1c2luZyBzcHJlYWQgb3IgZXh0ZW5kIHRvIGF2b2lkIHRoZSBydW50aW1lXHJcbiAgICAvLyBrZXkgZW51bWVyYXRpb24gY29zdC5cclxuICAgIGNvbnN0IHsgcHJvcHMsIHJlZiwgcGF0Y2hGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XHJcbiAgICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcclxuICAgICAgICBbXCJfX3Zfc2tpcFwiIC8qIFNLSVAgKi9dOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IHZub2RlLnR5cGUsXHJcbiAgICAgICAgcHJvcHM6IG1lcmdlZFByb3BzLFxyXG4gICAgICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcclxuICAgICAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWZcclxuICAgICAgICAgICAgPyAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcclxuICAgICAgICAgICAgICAgIG1lcmdlUmVmICYmIHJlZlxyXG4gICAgICAgICAgICAgICAgICAgID8gaXNBcnJheShyZWYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXVxyXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXHJcbiAgICAgICAgICAgIDogcmVmLFxyXG4gICAgICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXHJcbiAgICAgICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXHJcbiAgICAgICAgY2hpbGRyZW46IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXRjaEZsYWcgPT09IC0xIC8qIEhPSVNURUQgKi8gJiYgaXNBcnJheShjaGlsZHJlbilcclxuICAgICAgICAgICAgPyBjaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpXHJcbiAgICAgICAgICAgIDogY2hpbGRyZW4sXHJcbiAgICAgICAgdGFyZ2V0OiB2bm9kZS50YXJnZXQsXHJcbiAgICAgICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXHJcbiAgICAgICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxyXG4gICAgICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxyXG4gICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXHJcbiAgICAgICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cclxuICAgICAgICAvLyBub3RlOiBwZXJzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXHJcbiAgICAgICAgLy8gZmFzdCBwYXRocyBvbmx5LlxyXG4gICAgICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudFxyXG4gICAgICAgICAgICA/IHBhdGNoRmxhZyA9PT0gLTEgLy8gaG9pc3RlZCBub2RlXHJcbiAgICAgICAgICAgICAgICA/IDE2IC8qIEZVTExfUFJPUFMgKi9cclxuICAgICAgICAgICAgICAgIDogcGF0Y2hGbGFnIHwgMTYgLyogRlVMTF9QUk9QUyAqL1xyXG4gICAgICAgICAgICA6IHBhdGNoRmxhZyxcclxuICAgICAgICBkeW5hbWljUHJvcHM6IHZub2RlLmR5bmFtaWNQcm9wcyxcclxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IHZub2RlLmR5bmFtaWNDaGlsZHJlbixcclxuICAgICAgICBhcHBDb250ZXh0OiB2bm9kZS5hcHBDb250ZXh0LFxyXG4gICAgICAgIGRpcnM6IHZub2RlLmRpcnMsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogdm5vZGUudHJhbnNpdGlvbixcclxuICAgICAgICAvLyBUaGVzZSBzaG91bGQgdGVjaG5pY2FsbHkgb25seSBiZSBub24tbnVsbCBvbiBtb3VudGVkIFZOb2Rlcy4gSG93ZXZlcixcclxuICAgICAgICAvLyB0aGV5ICpzaG91bGQqIGJlIGNvcGllZCBmb3Iga2VwdC1hbGl2ZSB2bm9kZXMuIFNvIHdlIGp1c3QgYWx3YXlzIGNvcHlcclxuICAgICAgICAvLyB0aGVtIHNpbmNlIHRoZW0gYmVpbmcgbm9uLW51bGwgZHVyaW5nIGEgbW91bnQgZG9lc24ndCBhZmZlY3QgdGhlIGxvZ2ljIGFzXHJcbiAgICAgICAgLy8gdGhleSB3aWxsIHNpbXBseSBiZSBvdmVyd3JpdHRlbi5cclxuICAgICAgICBjb21wb25lbnQ6IHZub2RlLmNvbXBvbmVudCxcclxuICAgICAgICBzdXNwZW5zZTogdm5vZGUuc3VzcGVuc2UsXHJcbiAgICAgICAgc3NDb250ZW50OiB2bm9kZS5zc0NvbnRlbnQgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0NvbnRlbnQpLFxyXG4gICAgICAgIHNzRmFsbGJhY2s6IHZub2RlLnNzRmFsbGJhY2sgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0ZhbGxiYWNrKSxcclxuICAgICAgICBlbDogdm5vZGUuZWwsXHJcbiAgICAgICAgYW5jaG9yOiB2bm9kZS5hbmNob3JcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIERldiBvbmx5LCBmb3IgSE1SIG9mIGhvaXN0ZWQgdm5vZGVzIHJldXNlZCBpbiB2LWZvclxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcclxuICAgIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XHJcbn1cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XHJcbiAgICAvLyBBIHN0YXRpYyB2bm9kZSBjYW4gY29udGFpbiBtdWx0aXBsZSBzdHJpbmdpZmllZCBlbGVtZW50cywgYW5kIHRoZSBudW1iZXJcclxuICAgIC8vIG9mIGVsZW1lbnRzIGlzIG5lY2Vzc2FyeSBmb3IgaHlkcmF0aW9uLlxyXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xyXG4gICAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xyXG4gICAgcmV0dXJuIHZub2RlO1xyXG59XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSAnJywgXHJcbi8vIHdoZW4gdXNlZCBhcyB0aGUgdi1lbHNlIGJyYW5jaCwgdGhlIGNvbW1lbnQgbm9kZSBtdXN0IGJlIGNyZWF0ZWQgYXMgYVxyXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxyXG5hc0Jsb2NrID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBhc0Jsb2NrXHJcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKVxyXG4gICAgICAgIDogY3JlYXRlVk5vZGUoQ29tbWVudCwgbnVsbCwgdGV4dCk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcclxuICAgIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgLy8gZW1wdHkgcGxhY2Vob2xkZXJcclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xyXG4gICAgICAgIC8vIGZyYWdtZW50XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKEZyYWdtZW50LCBudWxsLCBjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgLy8gYWxyZWFkeSB2bm9kZSwgdGhpcyBzaG91bGQgYmUgdGhlIG1vc3QgY29tbW9uIHNpbmNlIGNvbXBpbGVkIHRlbXBsYXRlc1xyXG4gICAgICAgIC8vIGFsd2F5cyBwcm9kdWNlIGFsbC12bm9kZSBjaGlsZHJlbiBhcnJheXNcclxuICAgICAgICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gc3RyaW5ncyBhbmQgbnVtYmVyc1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBTdHJpbmcoY2hpbGQpKTtcclxuICAgIH1cclxufVxyXG4vLyBvcHRpbWl6ZWQgbm9ybWFsaXphdGlvbiBmb3IgdGVtcGxhdGUtY29tcGlsZWQgcmVuZGVyIGZuc1xyXG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xyXG4gICAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pIHtcclxuICAgIGxldCB0eXBlID0gMDtcclxuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcclxuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICB0eXBlID0gMTYgLyogQVJSQVlfQ0hJTERSRU4gKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyB8fCBzaGFwZUZsYWcgJiA2NCAvKiBURUxFUE9SVCAqLykge1xyXG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgc2xvdCB0byBwbGFpbiBjaGlsZHJlbiBmb3IgcGxhaW4gZWxlbWVudCBhbmQgVGVsZXBvcnRcclxuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IGNoaWxkcmVuLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBfYyBtYXJrZXIgaXMgYWRkZWQgYnkgd2l0aEN0eCgpIGluZGljYXRpbmcgdGhpcyBpcyBhIGNvbXBpbGVkIHNsb3RcclxuICAgICAgICAgICAgICAgIHNsb3QuX2MgJiYgc2V0Q29tcGlsZWRTbG90UmVuZGVyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XHJcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIHNldENvbXBpbGVkU2xvdFJlbmRlcmluZygtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHlwZSA9IDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgICAgICAgICBjb25zdCBzbG90RmxhZyA9IGNoaWxkcmVuLl87XHJcbiAgICAgICAgICAgIGlmICghc2xvdEZsYWcgJiYgIShJbnRlcm5hbE9iamVjdEtleSBpbiBjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLl9jdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgLyogRk9SV0FSREVEICovICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYSBjaGlsZCBjb21wb25lbnQgcmVjZWl2ZXMgZm9yd2FyZGVkIHNsb3RzIGZyb20gdGhlIHBhcmVudC5cclxuICAgICAgICAgICAgICAgIC8vIGl0cyBzbG90IHR5cGUgaXMgZGV0ZXJtaW5lZCBieSBpdHMgcGFyZW50J3Mgc2xvdCB0eXBlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS52bm9kZS5wYXRjaEZsYWcgJiAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBEWU5BTUlDICovO1xyXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMSAvKiBTVEFCTEUgKi87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XHJcbiAgICAgICAgdHlwZSA9IDMyIC8qIFNMT1RTX0NISUxEUkVOICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xyXG4gICAgICAgIC8vIGZvcmNlIHRlbGVwb3J0IGNoaWxkcmVuIHRvIGFycmF5IHNvIGl0IGNhbiBiZSBtb3ZlZCBhcm91bmRcclxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogVEVMRVBPUlQgKi8pIHtcclxuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIEFSUkFZX0NISUxEUkVOICovO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFRFWFRfQ0hJTERSRU4gKi87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xyXG4gICAgY29uc3QgcmV0ID0gZXh0ZW5kKHt9LCBhcmdzWzBdKTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPT0gaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCB0b01lcmdlW2tleV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jb21pbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgcmV0W2tleV0gPSB0b01lcmdlW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHByb3ZpZGUoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcclxuICAgICAgICAvLyBieSBkZWZhdWx0IGFuIGluc3RhbmNlIGluaGVyaXRzIGl0cyBwYXJlbnQncyBwcm92aWRlcyBvYmplY3RcclxuICAgICAgICAvLyBidXQgd2hlbiBpdCBuZWVkcyB0byBwcm92aWRlIHZhbHVlcyBvZiBpdHMgb3duLCBpdCBjcmVhdGVzIGl0c1xyXG4gICAgICAgIC8vIG93biBwcm92aWRlcyBvYmplY3QgdXNpbmcgcGFyZW50IHByb3ZpZGVzIG9iamVjdCBhcyBwcm90b3R5cGUuXHJcbiAgICAgICAgLy8gdGhpcyB3YXkgaW4gYGluamVjdGAgd2UgY2FuIHNpbXBseSBsb29rIHVwIGluamVjdGlvbnMgZnJvbSBkaXJlY3RcclxuICAgICAgICAvLyBwYXJlbnQgYW5kIGxldCB0aGUgcHJvdG90eXBlIGNoYWluIGRvIHRoZSB3b3JrLlxyXG4gICAgICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xyXG4gICAgICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFByb3ZpZGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxyXG4gICAgICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUsIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSA9IGZhbHNlKSB7XHJcbiAgICAvLyBmYWxsYmFjayB0byBgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlYCBzbyB0aGF0IHRoaXMgY2FuIGJlIGNhbGxlZCBpblxyXG4gICAgLy8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xyXG4gICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgLy8gIzI0MDBcclxuICAgICAgICAvLyB0byBzdXBwb3J0IGBhcHAudXNlYCBwbHVnaW5zLFxyXG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGFwcENvbnRleHQncyBgcHJvdmlkZXNgIGlmIHRoZSBpbnRhbmNlIGlzIGF0IHJvb3RcclxuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGluc3RhbmNlLnBhcmVudCA9PSBudWxsXHJcbiAgICAgICAgICAgID8gaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dCAmJiBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzXHJcbiAgICAgICAgICAgIDogaW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xyXG4gICAgICAgIGlmIChwcm92aWRlcyAmJiBrZXkgaW4gcHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxyXG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSlcclxuICAgICAgICAgICAgICAgID8gZGVmYXVsdFZhbHVlKClcclxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgd2FybihgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAodHlwZSwga2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcclxuICAgICAgICAgICAgd2FybihgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xyXG5mdW5jdGlvbiBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIG9wdGlvbnMsIGRlZmVycmVkRGF0YSA9IFtdLCBkZWZlcnJlZFdhdGNoID0gW10sIGRlZmVycmVkUHJvdmlkZSA9IFtdLCBhc01peGluID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHsgXHJcbiAgICAvLyBjb21wb3NpdGlvblxyXG4gICAgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucywgXHJcbiAgICAvLyBzdGF0ZVxyXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsIG1ldGhvZHMsIHdhdGNoOiB3YXRjaE9wdGlvbnMsIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLCBpbmplY3Q6IGluamVjdE9wdGlvbnMsIFxyXG4gICAgLy8gYXNzZXRzXHJcbiAgICBjb21wb25lbnRzLCBkaXJlY3RpdmVzLCBcclxuICAgIC8vIGxpZmVjeWNsZVxyXG4gICAgYmVmb3JlTW91bnQsIG1vdW50ZWQsIGJlZm9yZVVwZGF0ZSwgdXBkYXRlZCwgYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCwgYmVmb3JlRGVzdHJveSwgYmVmb3JlVW5tb3VudCwgZGVzdHJveWVkLCB1bm1vdW50ZWQsIHJlbmRlciwgcmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJpZ2dlcmVkLCBlcnJvckNhcHR1cmVkLCBcclxuICAgIC8vIHB1YmxpYyBBUElcclxuICAgIGV4cG9zZSB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcclxuICAgIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcclxuICAgIGNvbnN0IGdsb2JhbE1peGlucyA9IGluc3RhbmNlLmFwcENvbnRleHQubWl4aW5zO1xyXG4gICAgaWYgKGFzTWl4aW4gJiYgcmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xyXG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcclxuICAgIH1cclxuICAgIC8vIGFwcGx5T3B0aW9ucyBpcyBjYWxsZWQgbm9uLWFzLW1peGluIG9uY2UgcGVyIGluc3RhbmNlXHJcbiAgICBpZiAoIWFzTWl4aW4pIHtcclxuICAgICAgICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNhbGxTeW5jSG9vaygnYmVmb3JlQ3JlYXRlJywgXCJiY1wiIC8qIEJFRk9SRV9DUkVBVEUgKi8sIG9wdGlvbnMsIGluc3RhbmNlLCBnbG9iYWxNaXhpbnMpO1xyXG4gICAgICAgIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAvLyBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGZpcnN0XHJcbiAgICAgICAgYXBwbHlNaXhpbnMoaW5zdGFuY2UsIGdsb2JhbE1peGlucywgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUpO1xyXG4gICAgfVxyXG4gICAgLy8gZXh0ZW5kaW5nIGEgYmFzZSBjb21wb25lbnQuLi5cclxuICAgIGlmIChleHRlbmRzT3B0aW9ucykge1xyXG4gICAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSwgZXh0ZW5kc09wdGlvbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8vIGxvY2FsIG1peGluc1xyXG4gICAgaWYgKG1peGlucykge1xyXG4gICAgICAgIGFwcGx5TWl4aW5zKGluc3RhbmNlLCBtaXhpbnMsIGRlZmVycmVkRGF0YSwgZGVmZXJyZWRXYXRjaCwgZGVmZXJyZWRQcm92aWRlKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29uc3QgW3Byb3BzT3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XHJcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIlByb3BzXCIgLyogUFJPUFMgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBvcHRpb25zIGluaXRpYWxpemF0aW9uIG9yZGVyICh0byBiZSBjb25zaXN0ZW50IHdpdGggVnVlIDIpOlxyXG4gICAgLy8gLSBwcm9wcyAoYWxyZWFkeSBkb25lIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbilcclxuICAgIC8vIC0gaW5qZWN0XHJcbiAgICAvLyAtIG1ldGhvZHNcclxuICAgIC8vIC0gZGF0YSAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXHJcbiAgICAvLyAtIGNvbXB1dGVkXHJcbiAgICAvLyAtIHdhdGNoIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcclxuICAgIGlmIChpbmplY3RPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmplY3RPcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBpbmplY3RPcHRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSBpbmplY3Qoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChvcHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBpbmplY3Qob3B0LmZyb20gfHwga2V5LCBvcHQuZGVmYXVsdCwgdHJ1ZSAvKiB0cmVhdCBkZWZhdWx0IGZ1bmN0aW9uIGFzIGZhY3RvcnkgKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBpbmplY3Qob3B0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobWV0aG9kcykge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kSGFuZGxlciA9IG1ldGhvZHNba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcclxuICAgICAgICAgICAgICAgIC8vIEluIGRldiBtb2RlLCB3ZSB1c2UgdGhlIGBjcmVhdGVSZW5kZXJDb250ZXh0YCBmdW5jdGlvbiB0byBkZWZpbmUgbWV0aG9kcyB0byB0aGUgcHJveHkgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRob3NlIGFyZSByZWFkLW9ubHkgYnV0IHJlY29uZmlndXJhYmxlLCBzbyBpdCBuZWVkcyB0byBiZSByZWRlZmluZWQgaGVyZVxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJNZXRob2RzXCIgLyogTUVUSE9EUyAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFhc01peGluKSB7XHJcbiAgICAgICAgaWYgKGRlZmVycmVkRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZGVmZXJyZWREYXRhLmZvckVhY2goZGF0YUZuID0+IHJlc29sdmVEYXRhKGluc3RhbmNlLCBkYXRhRm4sIHB1YmxpY1RoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGFPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgZGF0YU9wdGlvbnMgaXMgbm90IGZ1bGx5IHR5cGUgc2FmZVxyXG4gICAgICAgICAgICByZXNvbHZlRGF0YShpbnN0YW5jZSwgZGF0YU9wdGlvbnMsIHB1YmxpY1RoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd0RhdGEgPSB0b1JhdyhpbnN0YW5jZS5kYXRhKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIERBVEEgKi8sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBleHBvc2UgZGF0YSBvbiBjdHggZHVyaW5nIGRldlxyXG4gICAgICAgICAgICAgICAgaWYgKGtleVswXSAhPT0gJyQnICYmIGtleVswXSAhPT0gJ18nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiByYXdEYXRhW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogTk9PUFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGF0YU9wdGlvbnMpIHtcclxuICAgICAgICBkZWZlcnJlZERhdGEucHVzaChkYXRhT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcclxuICAgICAgICAgICAgICAgID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbihvcHQuZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdldCA9PT0gTk9PUCkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KVxyXG4gICAgICAgICAgICAgICAgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcclxuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcclxuICAgICAgICAgICAgICAgIGdldCxcclxuICAgICAgICAgICAgICAgIHNldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2V0OiB2ID0+IChjLnZhbHVlID0gdilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgZGVmZXJyZWRXYXRjaC5wdXNoKHdhdGNoT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFzTWl4aW4gJiYgZGVmZXJyZWRXYXRjaC5sZW5ndGgpIHtcclxuICAgICAgICBkZWZlcnJlZFdhdGNoLmZvckVhY2god2F0Y2hPcHRpb25zID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChwcm92aWRlT3B0aW9ucykge1xyXG4gICAgICAgIGRlZmVycmVkUHJvdmlkZS5wdXNoKHByb3ZpZGVPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmICghYXNNaXhpbiAmJiBkZWZlcnJlZFByb3ZpZGUubGVuZ3RoKSB7XHJcbiAgICAgICAgZGVmZXJyZWRQcm92aWRlLmZvckVhY2gocHJvdmlkZU9wdGlvbnMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcylcclxuICAgICAgICAgICAgICAgIDogcHJvdmlkZU9wdGlvbnM7XHJcbiAgICAgICAgICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGFzc2V0IG9wdGlvbnMuXHJcbiAgICAvLyBUbyByZWR1Y2UgbWVtb3J5IHVzYWdlLCBvbmx5IGNvbXBvbmVudHMgd2l0aCBtaXhpbnMgb3IgZXh0ZW5kcyB3aWxsIGhhdmVcclxuICAgIC8vIHJlc29sdmVkIGFzc2V0IHJlZ2lzdHJ5IGF0dGFjaGVkIHRvIGluc3RhbmNlLlxyXG4gICAgaWYgKGFzTWl4aW4pIHtcclxuICAgICAgICBpZiAoY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBleHRlbmQoaW5zdGFuY2UuY29tcG9uZW50cyB8fFxyXG4gICAgICAgICAgICAgICAgKGluc3RhbmNlLmNvbXBvbmVudHMgPSBleHRlbmQoe30sIGluc3RhbmNlLnR5cGUuY29tcG9uZW50cykpLCBjb21wb25lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGluc3RhbmNlLmRpcmVjdGl2ZXMgfHxcclxuICAgICAgICAgICAgICAgIChpbnN0YW5jZS5kaXJlY3RpdmVzID0gZXh0ZW5kKHt9LCBpbnN0YW5jZS50eXBlLmRpcmVjdGl2ZXMpKSwgZGlyZWN0aXZlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gbGlmZWN5Y2xlIG9wdGlvbnNcclxuICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgIGNhbGxTeW5jSG9vaygnY3JlYXRlZCcsIFwiY1wiIC8qIENSRUFURUQgKi8sIG9wdGlvbnMsIGluc3RhbmNlLCBnbG9iYWxNaXhpbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJlZm9yZU1vdW50KSB7XHJcbiAgICAgICAgb25CZWZvcmVNb3VudChiZWZvcmVNb3VudC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChtb3VudGVkKSB7XHJcbiAgICAgICAgb25Nb3VudGVkKG1vdW50ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlVXBkYXRlKSB7XHJcbiAgICAgICAgb25CZWZvcmVVcGRhdGUoYmVmb3JlVXBkYXRlLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKHVwZGF0ZWQpIHtcclxuICAgICAgICBvblVwZGF0ZWQodXBkYXRlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmF0ZWQpIHtcclxuICAgICAgICBvbkFjdGl2YXRlZChhY3RpdmF0ZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVhY3RpdmF0ZWQpIHtcclxuICAgICAgICBvbkRlYWN0aXZhdGVkKGRlYWN0aXZhdGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVycm9yQ2FwdHVyZWQpIHtcclxuICAgICAgICBvbkVycm9yQ2FwdHVyZWQoZXJyb3JDYXB0dXJlZC5iaW5kKHB1YmxpY1RoaXMpKTtcclxuICAgIH1cclxuICAgIGlmIChyZW5kZXJUcmFja2VkKSB7XHJcbiAgICAgICAgb25SZW5kZXJUcmFja2VkKHJlbmRlclRyYWNrZWQuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVuZGVyVHJpZ2dlcmVkKSB7XHJcbiAgICAgICAgb25SZW5kZXJUcmlnZ2VyZWQocmVuZGVyVHJpZ2dlcmVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBiZWZvcmVEZXN0cm95KSB7XHJcbiAgICAgICAgd2FybihgXFxgYmVmb3JlRGVzdHJveVxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYGJlZm9yZVVubW91bnRcXGAuYCk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmVmb3JlVW5tb3VudCkge1xyXG4gICAgICAgIG9uQmVmb3JlVW5tb3VudChiZWZvcmVVbm1vdW50LmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBkZXN0cm95ZWQpIHtcclxuICAgICAgICB3YXJuKGBcXGBkZXN0cm95ZWRcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGB1bm1vdW50ZWRcXGAuYCk7XHJcbiAgICB9XHJcbiAgICBpZiAodW5tb3VudGVkKSB7XHJcbiAgICAgICAgb25Vbm1vdW50ZWQodW5tb3VudGVkLmJpbmQocHVibGljVGhpcykpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkoZXhwb3NlKSkge1xyXG4gICAgICAgIGlmICghYXNNaXhpbikge1xyXG4gICAgICAgICAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSBwcm94eVJlZnMoe30pKTtcclxuICAgICAgICAgICAgICAgIGV4cG9zZS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlZFtrZXldID0gdG9SZWYocHVibGljVGhpcywga2V5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBUaGUgXFxgZXhwb3NlXFxgIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gdXNlZCBpbiBtaXhpbnMuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNhbGxTeW5jSG9vayhuYW1lLCB0eXBlLCBvcHRpb25zLCBpbnN0YW5jZSwgZ2xvYmFsTWl4aW5zKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdsb2JhbE1peGlucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBnbG9iYWxNaXhpbnNbaV0sIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGNhbGxIb29rV2l0aE1peGluQW5kRXh0ZW5kcyhuYW1lLCB0eXBlLCBvcHRpb25zLCBpbnN0YW5jZSk7XHJcbn1cclxuZnVuY3Rpb24gY2FsbEhvb2tXaXRoTWl4aW5BbmRFeHRlbmRzKG5hbWUsIHR5cGUsIG9wdGlvbnMsIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCB7IGV4dGVuZHM6IGJhc2UsIG1peGlucyB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IHNlbGZIb29rID0gb3B0aW9uc1tuYW1lXTtcclxuICAgIGlmIChiYXNlKSB7XHJcbiAgICAgICAgY2FsbEhvb2tXaXRoTWl4aW5BbmRFeHRlbmRzKG5hbWUsIHR5cGUsIGJhc2UsIGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGlmIChtaXhpbnMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsSG9va1dpdGhNaXhpbkFuZEV4dGVuZHMobmFtZSwgdHlwZSwgbWl4aW5zW2ldLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNlbGZIb29rKSB7XHJcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoc2VsZkhvb2suYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhcHBseU1peGlucyhpbnN0YW5jZSwgbWl4aW5zLCBkZWZlcnJlZERhdGEsIGRlZmVycmVkV2F0Y2gsIGRlZmVycmVkUHJvdmlkZSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIG1peGluc1tpXSwgZGVmZXJyZWREYXRhLCBkZWZlcnJlZFdhdGNoLCBkZWZlcnJlZFByb3ZpZGUsIHRydWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVEYXRhKGluc3RhbmNlLCBkYXRhRm4sIHB1YmxpY1RoaXMpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oZGF0YUZuKSkge1xyXG4gICAgICAgIHdhcm4oYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIGAgK1xyXG4gICAgICAgICAgICBgUGxhaW4gb2JqZWN0IHVzYWdlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuYCk7XHJcbiAgICB9XHJcbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgZGF0YSA9IGRhdGFGbi5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xyXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcclxuICAgICAgICB3YXJuKGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgYCArXHJcbiAgICAgICAgICAgIGBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGAgK1xyXG4gICAgICAgICAgICBgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluc3RhbmNlLmRhdGEgPT09IEVNUFRZX09CSikge1xyXG4gICAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIGV4aXN0aW5nIGRhdGE6IHRoaXMgaXMgYSBtaXhpbiBvciBleHRlbmRzLlxyXG4gICAgICAgIGV4dGVuZChpbnN0YW5jZS5kYXRhLCBkYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcclxuICAgIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcygnLicpXHJcbiAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSlcclxuICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcclxuICAgIGlmIChpc1N0cmluZyhyYXcpKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XHJcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkocmF3KSkge1xyXG4gICAgICAgICAgICByYXcuZm9yRWFjaChyID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpXHJcbiAgICAgICAgICAgICAgICA6IGN0eFtyYXcuaGFuZGxlcl07XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xyXG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGxldCBjdXIgPSBjdHg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcclxuICAgICAgICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHJhdyA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICBjb25zdCB7IF9fbWVyZ2VkLCBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSByYXc7XHJcbiAgICBpZiAoX19tZXJnZWQpXHJcbiAgICAgICAgcmV0dXJuIF9fbWVyZ2VkO1xyXG4gICAgY29uc3QgZ2xvYmFsTWl4aW5zID0gaW5zdGFuY2UuYXBwQ29udGV4dC5taXhpbnM7XHJcbiAgICBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpXHJcbiAgICAgICAgcmV0dXJuIHJhdztcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKG0gPT4gbWVyZ2VPcHRpb25zKG9wdGlvbnMsIG0sIGluc3RhbmNlKSk7XHJcbiAgICBtZXJnZU9wdGlvbnMob3B0aW9ucywgcmF3LCBpbnN0YW5jZSk7XHJcbiAgICByZXR1cm4gKHJhdy5fX21lcmdlZCA9IG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHN0cmF0cyA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztcclxuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcclxuICAgIGV4dGVuZHNPcHRpb25zICYmIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIGluc3RhbmNlKTtcclxuICAgIG1peGlucyAmJlxyXG4gICAgICAgIG1peGlucy5mb3JFYWNoKChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIGluc3RhbmNlKSk7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XHJcbiAgICAgICAgaWYgKHN0cmF0cyAmJiBoYXNPd24oc3RyYXRzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSBzdHJhdHNba2V5XSh0b1trZXldLCBmcm9tW2tleV0sIGluc3RhbmNlLnByb3h5LCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqICMyNDM3IEluIFZ1ZSAzLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYSBwdWJsaWMgaW5zdGFuY2UgcHJveHkgYnV0XHJcbiAqIHRoZXkgZXhpc3QgaW4gdGhlIGludGVybmFsIHBhcmVudCBjaGFpbi4gRm9yIGNvZGUgdGhhdCByZWxpZXMgb24gdHJhdmVyc2luZ1xyXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXHJcbiAqL1xyXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XHJcbiAgICBpZiAoIWkpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcclxuICAgICAgICByZXR1cm4gaS5leHBvc2VkID8gaS5leHBvc2VkIDogaS5wcm94eTtcclxuICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XHJcbn07XHJcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xyXG4gICAgJDogaSA9PiBpLFxyXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXHJcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXHJcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxyXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcclxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXHJcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxyXG4gICAgJHBhcmVudDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXHJcbiAgICAkcm9vdDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxyXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxyXG4gICAgJG9wdGlvbnM6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSksXHJcbiAgICAkZm9yY2VVcGRhdGU6IGkgPT4gKCkgPT4gcXVldWVKb2IoaS51cGRhdGUpLFxyXG4gICAgJG5leHRUaWNrOiBpID0+IG5leHRUaWNrLmJpbmQoaS5wcm94eSksXHJcbiAgICAkd2F0Y2g6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QKVxyXG59KTtcclxuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xyXG4gICAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgLy8gbGV0IEB2dWUvcmVhY3Rpdml0eSBrbm93IGl0IHNob3VsZCBuZXZlciBvYnNlcnZlIFZ1ZSBwdWJsaWMgaW5zdGFuY2VzLlxyXG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIiAvKiBTS0lQICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmb3IgaW50ZXJuYWwgZm9ybWF0dGVycyB0byBrbm93IHRoYXQgdGhpcyBpcyBhIFZ1ZSBpbnN0YW5jZVxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5ID09PSAnX19pc1Z1ZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRhdGEgLyBwcm9wcyAvIGN0eFxyXG4gICAgICAgIC8vIFRoaXMgZ2V0dGVyIGdldHMgY2FsbGVkIGZvciBldmVyeSBwcm9wZXJ0eSBhY2Nlc3Mgb24gdGhlIHJlbmRlciBjb250ZXh0XHJcbiAgICAgICAgLy8gZHVyaW5nIHJlbmRlciBhbmQgaXMgYSBtYWpvciBob3RzcG90LiBUaGUgbW9zdCBleHBlbnNpdmUgcGFydCBvZiB0aGlzXHJcbiAgICAgICAgLy8gaXMgdGhlIG11bHRpcGxlIGhhc093bigpIGNhbGxzLiBJdCdzIG11Y2ggZmFzdGVyIHRvIGRvIGEgc2ltcGxlIHByb3BlcnR5XHJcbiAgICAgICAgLy8gYWNjZXNzIG9uIGEgcGxhaW4gb2JqZWN0LCBzbyB3ZSB1c2UgYW4gYWNjZXNzQ2FjaGUgb2JqZWN0ICh3aXRoIG51bGxcclxuICAgICAgICAvLyBwcm90b3R5cGUpIHRvIG1lbW9pemUgd2hhdCBhY2Nlc3MgdHlwZSBhIGtleSBjb3JyZXNwb25kcyB0by5cclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIGlmIChrZXlbMF0gIT09ICckJykge1xyXG4gICAgICAgICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIFNFVFVQICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBEQVRBICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBDT05URVhUICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIFBST1BTICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0OiBqdXN0IGZhbGx0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMCAvKiBTRVRVUCAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBEQVRBICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcclxuICAgICAgICAgICAgLy8gcHJvcHNcclxuICAgICAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiZcclxuICAgICAgICAgICAgICAgIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIFBST1BTICovO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX19WVUVfT1BUSU9OU19BUElfXyB8fCBzaG91bGRDYWNoZUFjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogT1RIRVIgKi87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xyXG4gICAgICAgIGxldCBjc3NNb2R1bGUsIGdsb2JhbFByb3BlcnRpZXM7XHJcbiAgICAgICAgLy8gcHVibGljICR4eHggcHJvcGVydGllc1xyXG4gICAgICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJyRhdHRycycpIHtcclxuICAgICAgICAgICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiIC8qIEdFVCAqLywga2V5KTtcclxuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxyXG4gICAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiZcclxuICAgICAgICAgICAgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3NzTW9kdWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIC8vIHVzZXIgbWF5IHNldCBjdXN0b20gcHJvcGVydGllcyB0byBgdGhpc2AgdGhhdCBzdGFydCB3aXRoIGAkYFxyXG4gICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBDT05URVhUICovO1xyXG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFxyXG4gICAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgKChnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyksXHJcbiAgICAgICAgICAgIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsUHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmXHJcbiAgICAgICAgICAgICghaXNTdHJpbmcoa2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcclxuICAgICAgICAgICAgICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxyXG4gICAgICAgICAgICAgICAga2V5LmluZGV4T2YoJ19fdicpICE9PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmXHJcbiAgICAgICAgICAgICAgICAoa2V5WzBdID09PSAnJCcgfHwga2V5WzBdID09PSAnXycpICYmXHJcbiAgICAgICAgICAgICAgICBoYXNPd24oZGF0YSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgYCArXHJcbiAgICAgICAgICAgICAgICAgICAgYGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcclxuICAgICAgICAgICAgICAgICAgICBgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKHNldHVwU3RhdGUgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xyXG4gICAgICAgICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBgICtcclxuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgaGFzKHsgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfSB9LCBrZXkpIHtcclxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xyXG4gICAgICAgIHJldHVybiAoYWNjZXNzQ2FjaGVba2V5XSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHx8XHJcbiAgICAgICAgICAgIChzZXR1cFN0YXRlICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHx8XHJcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxyXG4gICAgICAgICAgICBoYXNPd24oY3R4LCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8XHJcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcclxuICAgIH1cclxufTtcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UpIHtcclxuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xyXG4gICAgICAgIHdhcm4oYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcclxuICAgICAgICAgICAgYFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmApO1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcclxuICAgIH07XHJcbn1cclxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcclxuICAgIGdldCh0YXJnZXQsIGtleSkge1xyXG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcclxuICAgICAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcclxuICAgIH0sXHJcbiAgICBoYXMoXywga2V5KSB7XHJcbiAgICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSAnXycgJiYgIWlzR2xvYmFsbHlXaGl0ZWxpc3RlZChrZXkpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcclxuICAgICAgICAgICAgd2FybihgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhcztcclxuICAgIH1cclxufSk7XHJcbi8vIEluIGRldiBtb2RlLCB0aGUgcHJveHkgdGFyZ2V0IGV4cG9zZXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBzZWVuIG9uIGB0aGlzYFxyXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXHJcbi8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5pdGlvbnMgY2FuIGJlIHNraXBwZWQuXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xyXG4gICAgLy8gZXhwb3NlIGludGVybmFsIGluc3RhbmNlIGZvciBwcm94eSBoYW5kbGVyc1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2VcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBwcm9wZXJ0aWVzXHJcbiAgICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcclxuICAgICAgICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxyXG4gICAgICAgICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xyXG4gICAgICAgICAgICBzZXQ6IE5PT1BcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gZXhwb3NlIGdsb2JhbCBwcm9wZXJ0aWVzXHJcbiAgICBjb25zdCB7IGdsb2JhbFByb3BlcnRpZXMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xyXG4gICAgT2JqZWN0LmtleXMoZ2xvYmFsUHJvcGVydGllcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IGdsb2JhbFByb3BlcnRpZXNba2V5XSxcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuLy8gZGV2IG9ubHlcclxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgY3R4LCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcclxuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxyXG4gICAgICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcclxuICAgIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnIHx8IGtleVswXSA9PT0gJ18nKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIGAgK1xyXG4gICAgICAgICAgICAgICAgYHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHNldHVwU3RhdGVba2V5XSxcclxuICAgICAgICAgICAgc2V0OiBOT09QXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBlbXB0eUFwcENvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XHJcbmxldCB1aWQkMSA9IDA7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBwYXJlbnQsIHN1c3BlbnNlKSB7XHJcbiAgICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcclxuICAgIC8vIGluaGVyaXQgcGFyZW50IGFwcCBjb250ZXh0IC0gb3IgLSBpZiByb290LCBhZG9wdCBmcm9tIHJvb3Qgdm5vZGVcclxuICAgIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcclxuICAgICAgICB1aWQ6IHVpZCQxKyssXHJcbiAgICAgICAgdm5vZGUsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgYXBwQ29udGV4dCxcclxuICAgICAgICByb290OiBudWxsLFxyXG4gICAgICAgIG5leHQ6IG51bGwsXHJcbiAgICAgICAgc3ViVHJlZTogbnVsbCxcclxuICAgICAgICB1cGRhdGU6IG51bGwsXHJcbiAgICAgICAgcmVuZGVyOiBudWxsLFxyXG4gICAgICAgIHByb3h5OiBudWxsLFxyXG4gICAgICAgIGV4cG9zZWQ6IG51bGwsXHJcbiAgICAgICAgd2l0aFByb3h5OiBudWxsLFxyXG4gICAgICAgIGVmZmVjdHM6IG51bGwsXHJcbiAgICAgICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXHJcbiAgICAgICAgYWNjZXNzQ2FjaGU6IG51bGwsXHJcbiAgICAgICAgcmVuZGVyQ2FjaGU6IFtdLFxyXG4gICAgICAgIC8vIGxvY2FsIHJlc292bGVkIGFzc2V0c1xyXG4gICAgICAgIGNvbXBvbmVudHM6IG51bGwsXHJcbiAgICAgICAgZGlyZWN0aXZlczogbnVsbCxcclxuICAgICAgICAvLyByZXNvbHZlZCBwcm9wcyBhbmQgZW1pdHMgb3B0aW9uc1xyXG4gICAgICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxyXG4gICAgICAgIGVtaXRzT3B0aW9uczogbm9ybWFsaXplRW1pdHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxyXG4gICAgICAgIC8vIGVtaXRcclxuICAgICAgICBlbWl0OiBudWxsLFxyXG4gICAgICAgIGVtaXR0ZWQ6IG51bGwsXHJcbiAgICAgICAgLy8gcHJvcHMgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcclxuICAgICAgICAvLyBzdGF0ZVxyXG4gICAgICAgIGN0eDogRU1QVFlfT0JKLFxyXG4gICAgICAgIGRhdGE6IEVNUFRZX09CSixcclxuICAgICAgICBwcm9wczogRU1QVFlfT0JKLFxyXG4gICAgICAgIGF0dHJzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2xvdHM6IEVNUFRZX09CSixcclxuICAgICAgICByZWZzOiBFTVBUWV9PQkosXHJcbiAgICAgICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxyXG4gICAgICAgIHNldHVwQ29udGV4dDogbnVsbCxcclxuICAgICAgICAvLyBzdXNwZW5zZSByZWxhdGVkXHJcbiAgICAgICAgc3VzcGVuc2UsXHJcbiAgICAgICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxyXG4gICAgICAgIGFzeW5jRGVwOiBudWxsLFxyXG4gICAgICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgICAgIC8vIGxpZmVjeWNsZSBob29rc1xyXG4gICAgICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcclxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXHJcbiAgICAgICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXHJcbiAgICAgICAgYmM6IG51bGwsXHJcbiAgICAgICAgYzogbnVsbCxcclxuICAgICAgICBibTogbnVsbCxcclxuICAgICAgICBtOiBudWxsLFxyXG4gICAgICAgIGJ1OiBudWxsLFxyXG4gICAgICAgIHU6IG51bGwsXHJcbiAgICAgICAgdW06IG51bGwsXHJcbiAgICAgICAgYnVtOiBudWxsLFxyXG4gICAgICAgIGRhOiBudWxsLFxyXG4gICAgICAgIGE6IG51bGwsXHJcbiAgICAgICAgcnRnOiBudWxsLFxyXG4gICAgICAgIHJ0YzogbnVsbCxcclxuICAgICAgICBlYzogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcclxuICAgIH1cclxuICAgIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xyXG4gICAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xyXG4gICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XHJcbn07XHJcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnKTtcclxuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbmZpZykge1xyXG4gICAgY29uc3QgYXBwSXNOYXRpdmVUYWcgPSBjb25maWcuaXNOYXRpdmVUYWcgfHwgTk87XHJcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGFwcElzTmF0aXZlVGFnKG5hbWUpKSB7XHJcbiAgICAgICAgd2FybignRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogJyArIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcclxuICAgIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNUQVRFRlVMX0NPTVBPTkVOVCAqLztcclxufVxyXG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XHJcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBpc1NTUjtcclxuICAgIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcclxuICAgIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcclxuICAgIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcclxuICAgIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xyXG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsXHJcbiAgICAgICAgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUilcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIHNldHVwUmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XHJcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGlmIChDb21wb25lbnQubmFtZSkge1xyXG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAwLiBjcmVhdGUgcmVuZGVyIHByb3h5IHByb3BlcnR5IGFjY2VzcyBjYWNoZVxyXG4gICAgaW5zdGFuY2UuYWNjZXNzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgLy8gMS4gY3JlYXRlIHB1YmxpYyBpbnN0YW5jZSAvIHJlbmRlciBwcm94eVxyXG4gICAgLy8gYWxzbyBtYXJrIGl0IHJhdyBzbyBpdCdzIG5ldmVyIG9ic2VydmVkXHJcbiAgICBpbnN0YW5jZS5wcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgLy8gMi4gY2FsbCBzZXR1cCgpXHJcbiAgICBjb25zdCB7IHNldHVwIH0gPSBDb21wb25lbnQ7XHJcbiAgICBpZiAoc2V0dXApIHtcclxuICAgICAgICBjb25zdCBzZXR1cENvbnRleHQgPSAoaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID1cclxuICAgICAgICAgICAgc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsKTtcclxuICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XHJcbiAgICAgICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc2V0dXAsIGluc3RhbmNlLCAwIC8qIFNFVFVQX0ZVTkNUSU9OICovLCBbKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLCBzZXR1cENvbnRleHRdKTtcclxuICAgICAgICByZXNldFRyYWNraW5nKCk7XHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNQcm9taXNlKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgICAgICBpZiAoaXNTU1IpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcHJvbWlzZSBzbyBzZXJ2ZXItcmVuZGVyZXIgY2FuIHdhaXQgb24gaXRcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgaW5zdGFuY2UsIDAgLyogU0VUVVBfRlVOQ1RJT04gKi8pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luYyBzZXR1cCByZXR1cm5lZCBQcm9taXNlLlxyXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBoZXJlIGFuZCB3YWl0IGZvciByZS1lbnRyeS5cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYW4gaW5saW5lIHJlbmRlciBmdW5jdGlvblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgICAgICB3YXJuKGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIGAgK1xyXG4gICAgICAgICAgICAgICAgYHJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBiaW5kaW5ncy5cclxuICAgICAgICAvLyBhc3N1bWluZyBhIHJlbmRlciBmdW5jdGlvbiBjb21waWxlZCBmcm9tIHRlbXBsYXRlIGlzIHByZXNlbnQuXHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLnNldHVwU3RhdGUgPSBwcm94eVJlZnMoc2V0dXBSZXN1bHQpO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNldHVwUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB3YXJuKGBzZXR1cCgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtzZXR1cFJlc3VsdCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gKTtcclxuICAgIH1cclxuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XHJcbn1cclxubGV0IGNvbXBpbGU7XHJcbi8vIGRldiBvbmx5XHJcbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcclxuLyoqXHJcbiAqIEZvciBydW50aW1lLWRvbSB0byByZWdpc3RlciB0aGUgY29tcGlsZXIuXHJcbiAqIE5vdGUgdGhlIGV4cG9ydGVkIG1ldGhvZCB1c2VzIGFueSB0byBhdm9pZCBkLnRzIHJlbHlpbmcgb24gdGhlIGNvbXBpbGVyIHR5cGVzLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoX2NvbXBpbGUpIHtcclxuICAgIGNvbXBpbGUgPSBfY29tcGlsZTtcclxufVxyXG5mdW5jdGlvbiBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpIHtcclxuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAvLyB0ZW1wbGF0ZSAvIHJlbmRlciBmdW5jdGlvbiBub3JtYWxpemF0aW9uXHJcbiAgICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xyXG4gICAgICAgIC8vIGNvdWxkIGJlIHNldCBmcm9tIHNldHVwKClcclxuICAgICAgICBpZiAoY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUgJiYgIUNvbXBvbmVudC5yZW5kZXIpIHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIENvbXBvbmVudC5yZW5kZXIgPSBjb21waWxlKENvbXBvbmVudC50ZW1wbGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50OiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5pc0N1c3RvbUVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBkZWxpbWl0ZXJzOiBDb21wb25lbnQuZGVsaW1pdGVyc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSAoQ29tcG9uZW50LnJlbmRlciB8fCBOT09QKTtcclxuICAgICAgICAvLyBmb3IgcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9ja3MsIHRoZSByZW5kZXJcclxuICAgICAgICAvLyBwcm94eSB1c2VkIG5lZWRzIGEgZGlmZmVyZW50IGBoYXNgIGhhbmRsZXIgd2hpY2ggaXMgbW9yZSBwZXJmb3JtYW50IGFuZFxyXG4gICAgICAgIC8vIGFsc28gb25seSBhbGxvd3MgYSB3aGl0ZWxpc3Qgb2YgZ2xvYmFscyB0byBmYWxsdGhyb3VnaC5cclxuICAgICAgICBpZiAoaW5zdGFuY2UucmVuZGVyLl9yYykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS53aXRoUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHN1cHBvcnQgZm9yIDIueCBvcHRpb25zXHJcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcclxuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UsIENvbXBvbmVudCk7XHJcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xyXG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyB3YXJuIG1pc3NpbmcgdGVtcGxhdGUvcmVuZGVyXHJcbiAgICAvLyB0aGUgcnVudGltZSBjb21waWxhdGlvbiBvZiB0ZW1wbGF0ZSBpbiBTU1IgaXMgZG9uZSBieSBzZXJ2ZXItcmVuZGVyXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IGAgK1xyXG4gICAgICAgICAgICAgICAgYHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICtcclxuICAgICAgICAgICAgICAgIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcclxuICAgICAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbi5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgYXR0ckhhbmRsZXJzID0ge1xyXG4gICAgZ2V0OiAodGFyZ2V0LCBrZXkpID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcclxuICAgIH0sXHJcbiAgICBzZXQ6ICgpID0+IHtcclxuICAgICAgICB3YXJuKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB7XHJcbiAgICAgICAgd2Fybihgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBleHBvc2UgPSBleHBvc2VkID0+IHtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLmV4cG9zZWQpIHtcclxuICAgICAgICAgICAgd2FybihgZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSBwcm94eVJlZnMoZXhwb3NlZCk7XHJcbiAgICB9O1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIC8vIFdlIHVzZSBnZXR0ZXJzIGluIGRldiBpbiBjYXNlIGxpYnMgbGlrZSB0ZXN0LXV0aWxzIG92ZXJ3cml0ZSBpbnN0YW5jZVxyXG4gICAgICAgIC8vIHByb3BlcnRpZXMgKG92ZXJ3cml0ZXMgc2hvdWxkIG5vdCBiZSBkb25lIGluIHByb2QpXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRySGFuZGxlcnMpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgc2xvdHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnNsb3RzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IGVtaXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXhwb3NlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhdHRyczogaW5zdGFuY2UuYXR0cnMsXHJcbiAgICAgICAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcclxuICAgICAgICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcclxuICAgICAgICAgICAgZXhwb3NlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyByZWNvcmQgZWZmZWN0cyBjcmVhdGVkIGR1cmluZyBhIGNvbXBvbmVudCdzIHNldHVwKCkgc28gdGhhdCB0aGV5IGNhbiBiZVxyXG4vLyBzdG9wcGVkIHdoZW4gdGhlIGNvbXBvbmVudCB1bm1vdW50c1xyXG5mdW5jdGlvbiByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KGVmZmVjdCwgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgIChpbnN0YW5jZS5lZmZlY3RzIHx8IChpbnN0YW5jZS5lZmZlY3RzID0gW10pKS5wdXNoKGVmZmVjdCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcclxuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCBjID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCAnJyk7XHJcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpXHJcbiAgICAgICAgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWVcclxuICAgICAgICA6IENvbXBvbmVudC5uYW1lO1xyXG59XHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcclxuICAgIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xyXG4gICAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG1hdGNoWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcclxuICAgICAgICAvLyB0cnkgdG8gaW5mZXIgdGhlIG5hbWUgYmFzZWQgb24gcmV2ZXJzZSByZXNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBuYW1lID1cclxuICAgICAgICAgICAgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuY29tcG9uZW50cyB8fFxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50cykgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYW1lID8gY2xhc3NpZnkobmFtZSkgOiBpc1Jvb3QgPyBgQXBwYCA6IGBBbm9ueW1vdXNgO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiAnX192Y2NPcHRzJyBpbiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucyk7XHJcbiAgICByZWNvcmRJbnN0YW5jZUJvdW5kRWZmZWN0KGMuZWZmZWN0KTtcclxuICAgIHJldHVybiBjO1xyXG59XG5cbi8vIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGRlZmluZVByb3BzKCkge1xyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHdhcm4oYGRlZmluZVByb3BzKCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcclxuICAgICAgICAgICAgYDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBgICtcclxuICAgICAgICAgICAgYGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuLy8gaW1wbGVtZW50YXRpb25cclxuZnVuY3Rpb24gZGVmaW5lRW1pdCgpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB3YXJuKGBkZWZpbmVFbWl0KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcclxuICAgICAgICAgICAgYDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBgICtcclxuICAgICAgICAgICAgYGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gdXNlQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWkpIHtcclxuICAgICAgICB3YXJuKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XHJcbn1cblxuLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uXHJcbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xyXG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBpZiAobCA9PT0gMikge1xyXG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgLy8gc2luZ2xlIHZub2RlIHdpdGhvdXQgcHJvcHNcclxuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobCA+IDMpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHNzckNvbnRleHRgIDogYGApO1xyXG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcclxuICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICB3YXJuKGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIGAgK1xyXG4gICAgICAgICAgICAgICAgYHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdHg7XHJcbiAgICB9XHJcbn07XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cclxuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzNiYTc3NicgfTtcclxuICAgIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMwYjFiYzknIH07XHJcbiAgICBjb25zdCBzdHJpbmdTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojYjYyZTI0JyB9O1xyXG4gICAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiM5ZDI4OGMnIH07XHJcbiAgICAvLyBjdXN0b20gZm9ybWF0dGVyIGZvciBDaHJvbWVcclxuICAgIC8vIGh0dHBzOi8vd3d3Lm1hdHR6ZXVuZXJ0LmNvbS8yMDE2LzAyLzE5L2N1c3RvbS1jaHJvbWUtZGV2dG9vbHMtb2JqZWN0LWZvcm1hdHRlcnMuaHRtbFxyXG4gICAgY29uc3QgZm9ybWF0dGVyID0ge1xyXG4gICAgICAgIGhlYWRlcihvYmopIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBhbHNvIGZvcm1hdCBDb21wb25lbnRQdWJsaWNJbnN0YW5jZSAmIGN0eC5zbG90cy9hdHRycyBpbiBzZXR1cFxyXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouX19pc1Z1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsnZGl2JywgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iai52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgYD5gXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgJ1JlYWN0aXZlJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXHJcbiAgICAgICAgICAgICAgICAgICAgYD4ke2lzUmVhZG9ubHkob2JqKSA/IGAgKHJlYWRvbmx5KWAgOiBgYH1gXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhZG9ubHkob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgJ1JlYWRvbmx5J10sXHJcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXHJcbiAgICAgICAgICAgICAgICAgICAgJz4nXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFzQm9keShvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHkob2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmogJiYgb2JqLl9faXNWdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XHJcbiAgICAgICAgY29uc3QgYmxvY2tzID0gW107XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcclxuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygncHJvcHMnLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdzZXR1cCcsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdkYXRhJywgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2NvbXB1dGVkJyk7XHJcbiAgICAgICAgaWYgKGNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2NvbXB1dGVkJywgY29tcHV0ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2luamVjdCcpO1xyXG4gICAgICAgIGlmIChpbmplY3RlZCkge1xyXG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdpbmplY3RlZCcsIGluamVjdGVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJsb2Nrcy5wdXNoKFtcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnc3BhbicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArICc7b3BhY2l0eTowLjY2J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICckIChpbnRlcm5hbCk6ICdcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgWydvYmplY3QnLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cclxuICAgICAgICBdKTtcclxuICAgICAgICByZXR1cm4gYmxvY2tzO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VCbG9jayh0eXBlLCB0YXJnZXQpIHtcclxuICAgICAgICB0YXJnZXQgPSBleHRlbmQoe30sIHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywge31dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgeyBzdHlsZTogJ2xpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtJyB9LFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2NvbG9yOiM0NzY1ODInXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdHlwZVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ3BhZGRpbmctbGVmdDoxLjI1ZW0nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXModGFyZ2V0KS5tYXAoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIGtleXdvcmRTdHlsZSwga2V5ICsgJzogJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKHRhcmdldFtrZXldLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBudW1iZXJTdHlsZSwgdl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgc3RyaW5nU3R5bGUsIEpTT04uc3RyaW5naWZ5KHYpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywga2V5d29yZFN0eWxlLCB2XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnb2JqZWN0JywgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RLZXlzKGluc3RhbmNlLCB0eXBlKSB7XHJcbiAgICAgICAgY29uc3QgQ29tcCA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oQ29tcCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcclxuICAgICAgICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkge1xyXG4gICAgICAgIGNvbnN0IG9wdHMgPSBDb21wW3R5cGVdO1xyXG4gICAgICAgIGlmICgoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkpIHx8XHJcbiAgICAgICAgICAgIChpc09iamVjdChvcHRzKSAmJiBrZXkgaW4gb3B0cykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChDb21wLmV4dGVuZHMgJiYgaXNLZXlPZlR5cGUoQ29tcC5leHRlbmRzLCBrZXksIHR5cGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZShtID0+IGlzS2V5T2ZUeXBlKG0sIGtleSwgdHlwZSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xyXG4gICAgICAgIGlmICh2Ll9zaGFsbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2LmVmZmVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYENvbXB1dGVkUmVmYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGBSZWZgO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcclxuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQWN0dWFsIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSkge1xyXG4gICAgbGV0IHJldDtcclxuICAgIGlmIChpc0FycmF5KHNvdXJjZSkgfHwgaXNTdHJpbmcoc291cmNlKSkge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2VbaV0sIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcclxuICAgICAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcclxuICAgICAgICAgICAgcmV0ID0gQXJyYXkuZnJvbShzb3VyY2UsIHJlbmRlckl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XHJcbiAgICAgICAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtrZXldLCBrZXksIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0ID0gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBGb3IgcHJlZml4aW5nIGtleXMgaW4gdi1vbj1cIm9ialwiIHdpdGggXCJvblwiXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaikge1xyXG4gICAgY29uc3QgcmV0ID0ge307XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChvYmopKSB7XHJcbiAgICAgICAgd2Fybihgdi1vbiB3aXRoIG5vIGFyZ3VtZW50IGV4cGVjdHMgYW4gb2JqZWN0IHZhbHVlLmApO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICByZXRbdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBDb21waWxlciBydW50aW1lIGhlbHBlciBmb3IgY3JlYXRpbmcgZHluYW1pYyBzbG90cyBvYmplY3RcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNsb3RzKHNsb3RzLCBkeW5hbWljU2xvdHMpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcclxuICAgICAgICAvLyBhcnJheSBvZiBkeW5hbWljIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWZvcj1cIi4uLlwiICNbLi4uXT5cclxuICAgICAgICBpZiAoaXNBcnJheShzbG90KSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsb3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgLy8gY29uZGl0aW9uYWwgc2luZ2xlIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWlmPVwiLi4uXCIgI2Zvbz5cclxuICAgICAgICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3QuZm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNsb3RzO1xyXG59XG5cbi8vIENvcmUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCB2ZXJzaW9uID0gXCIzLjAuMTFcIjtcclxuLyoqXHJcbiAqIFNTUiB1dGlscyBmb3IgXFxAdnVlL3NlcnZlci1yZW5kZXJlci4gT25seSBleHBvc2VkIGluIGNqcyBidWlsZHMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY29uc3Qgc3NyVXRpbHMgPSAobnVsbCk7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBDb21tZW50LCBGcmFnbWVudCwgS2VlcEFsaXZlLCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0LCBkZWZpbmVQcm9wcywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBoLCBoYW5kbGVFcnJvciwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VDb250ZXh0LCB1c2VTU1JDb250ZXh0LCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2l0aEN0eCwgd2l0aERpcmVjdGl2ZXMsIHdpdGhTY29wZUlkIH07XG4iLCJpbXBvcnQgeyBjYW1lbGl6ZSwgd2FybiwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25Nb3VudGVkLCB3YXRjaEVmZmVjdCwgb25VcGRhdGVkLCBGcmFnbWVudCwgaCwgQmFzZVRyYW5zaXRpb24sIHVzZVRyYW5zaXRpb25TdGF0ZSwgdG9SYXcsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBjcmVhdGVWTm9kZSwgY3JlYXRlUmVuZGVyZXIsIGlzUnVudGltZU9ubHksIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXksIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaW52b2tlQXJyYXlGbnMsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGlzSFRNTFRhZywgaXNTVkdUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xyXG5sZXQgdGVtcENvbnRhaW5lcjtcclxubGV0IHRlbXBTVkdDb250YWluZXI7XHJcbmNvbnN0IG5vZGVPcHMgPSB7XHJcbiAgICBpbnNlcnQ6IChjaGlsZCwgcGFyZW50LCBhbmNob3IpID0+IHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBhbmNob3IgfHwgbnVsbCk7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiBjaGlsZCA9PiB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIGlzU1ZHLCBpcywgcHJvcHMpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGlzU1ZHXHJcbiAgICAgICAgICAgID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKVxyXG4gICAgICAgICAgICA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQpO1xyXG4gICAgICAgIGlmICh0YWcgPT09ICdzZWxlY3QnICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsIHByb3BzLm11bHRpcGxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZVRleHQ6IHRleHQgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxyXG4gICAgY3JlYXRlQ29tbWVudDogdGV4dCA9PiBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0KSxcclxuICAgIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xyXG4gICAgfSxcclxuICAgIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcclxuICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9LFxyXG4gICAgcGFyZW50Tm9kZTogbm9kZSA9PiBub2RlLnBhcmVudE5vZGUsXHJcbiAgICBuZXh0U2libGluZzogbm9kZSA9PiBub2RlLm5leHRTaWJsaW5nLFxyXG4gICAgcXVlcnlTZWxlY3Rvcjogc2VsZWN0b3IgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxyXG4gICAgc2V0U2NvcGVJZChlbCwgaWQpIHtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoaWQsICcnKTtcclxuICAgIH0sXHJcbiAgICBjbG9uZU5vZGUoZWwpIHtcclxuICAgICAgICBjb25zdCBjbG9uZWQgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgLy8gIzMwNzJcclxuICAgICAgICAvLyAtIGluIGBwYXRjaERPTVByb3BgLCB3ZSBzdG9yZSB0aGUgYWN0dWFsIHZhbHVlIGluIHRoZSBgZWwuX3ZhbHVlYCBwcm9wZXJ0eS5cclxuICAgICAgICAvLyAtIG5vcm1hbGx5LCBlbGVtZW50cyB1c2luZyBgOnZhbHVlYCBiaW5kaW5ncyB3aWxsIG5vdCBiZSBob2lzdGVkLCBidXQgaWZcclxuICAgICAgICAvLyAgIHRoZSBib3VuZCB2YWx1ZSBpcyBhIGNvbnN0YW50LCBlLmcuIGA6dmFsdWU9XCJ0cnVlXCJgIC0gdGhleSBkbyBnZXRcclxuICAgICAgICAvLyAgIGhvaXN0ZWQuXHJcbiAgICAgICAgLy8gLSBpbiBwcm9kdWN0aW9uLCBob2lzdGVkIG5vZGVzIGFyZSBjbG9uZWQgd2hlbiBzdWJzZXF1ZW50IGluc2VydHMsIGJ1dFxyXG4gICAgICAgIC8vICAgY2xvbmVOb2RlKCkgZG9lcyBub3QgY29weSB0aGUgY3VzdG9tIHByb3BlcnR5IHdlIGF0dGFjaGVkLlxyXG4gICAgICAgIC8vIC0gVGhpcyBtYXkgbmVlZCB0byBhY2NvdW50IGZvciBvdGhlciBjdXN0b20gRE9NIHByb3BlcnRpZXMgd2UgYXR0YWNoIHRvXHJcbiAgICAgICAgLy8gICBlbGVtZW50cyBpbiBhZGRpdGlvbiB0byBgX3ZhbHVlYCBpbiB0aGUgZnV0dXJlLlxyXG4gICAgICAgIGlmIChgX3ZhbHVlYCBpbiBlbCkge1xyXG4gICAgICAgICAgICBjbG9uZWQuX3ZhbHVlID0gZWwuX3ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmVkO1xyXG4gICAgfSxcclxuICAgIC8vIF9fVU5TQUZFX19cclxuICAgIC8vIFJlYXNvbjogaW5uZXJIVE1MLlxyXG4gICAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxyXG4gICAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cclxuICAgIGluc2VydFN0YXRpY0NvbnRlbnQoY29udGVudCwgcGFyZW50LCBhbmNob3IsIGlzU1ZHKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcCA9IGlzU1ZHXHJcbiAgICAgICAgICAgID8gdGVtcFNWR0NvbnRhaW5lciB8fFxyXG4gICAgICAgICAgICAgICAgKHRlbXBTVkdDb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnc3ZnJykpXHJcbiAgICAgICAgICAgIDogdGVtcENvbnRhaW5lciB8fCAodGVtcENvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XHJcbiAgICAgICAgdGVtcC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdGVtcC5maXJzdENoaWxkO1xyXG4gICAgICAgIGxldCBub2RlID0gZmlyc3Q7XHJcbiAgICAgICAgbGV0IGxhc3QgPSBub2RlO1xyXG4gICAgICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgICAgICAgIGxhc3QgPSBub2RlO1xyXG4gICAgICAgICAgICBub2RlT3BzLmluc2VydChub2RlLCBwYXJlbnQsIGFuY2hvcik7XHJcbiAgICAgICAgICAgIG5vZGUgPSB0ZW1wLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbZmlyc3QsIGxhc3RdO1xyXG4gICAgfVxyXG59O1xuXG4vLyBjb21waWxlciBzaG91bGQgbm9ybWFsaXplIGNsYXNzICsgOmNsYXNzIGJpbmRpbmdzIG9uIHRoZSBzYW1lIGVsZW1lbnRcclxuLy8gaW50byBhIHNpbmdsZSBiaW5kaW5nIFsnc3RhdGljQ2xhc3MnLCBkeW5hbWljXVxyXG5mdW5jdGlvbiBwYXRjaENsYXNzKGVsLCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgdmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBkaXJlY3RseSBzZXR0aW5nIGNsYXNzTmFtZSBzaG91bGQgYmUgZmFzdGVyIHRoYW4gc2V0QXR0cmlidXRlIGluIHRoZW9yeVxyXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gZWxlbWVudCBkdXJpbmcgYSB0cmFuc2l0aW9uLCB0YWtlIHRoZSB0ZW1wb3JhcnkgdHJhbnNpdGlvblxyXG4gICAgICAgIC8vIGNsYXNzZXMgaW50byBhY2NvdW50LlxyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3Z0YztcclxuICAgICAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSAodmFsdWVcclxuICAgICAgICAgICAgICAgID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc11cclxuICAgICAgICAgICAgICAgIDogWy4uLnRyYW5zaXRpb25DbGFzc2VzXSkuam9pbignICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbC5jbGFzc05hbWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcobmV4dCkpIHtcclxuICAgICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gc3R5bGUuZGlzcGxheTtcclxuICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XHJcbiAgICAgICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBgZGlzcGxheWAgb2YgdGhlIGVsZW1lbnQgaXMgY29udHJvbGxlZCBieSBgdi1zaG93YCxcclxuICAgICAgICAgICAgLy8gc28gd2UgYWx3YXlzIGtlZXAgdGhlIGN1cnJlbnQgYGRpc3BsYXlgIHZhbHVlIHJlZ2FyZGxlc3Mgb2YgdGhlIGBzdHlsZWAgdmFsdWUsXHJcbiAgICAgICAgICAgIC8vIHRodXMgaGFuZGluZyBvdmVyIGNvbnRyb2wgdG8gYHYtc2hvd2AuXHJcbiAgICAgICAgICAgIGlmICgnX3ZvZCcgaW4gZWwpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xyXG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJldiAmJiAhaXNTdHJpbmcocHJldikpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XHJcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcclxuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcclxuICAgICAgICB2YWwuZm9yRWFjaCh2ID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCctLScpKSB7XHJcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUocHJlZml4ZWQpLCB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgJycpLCAnaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcclxuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcclxuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xyXG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XHJcbiAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XHJcbiAgICBpZiAobmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSBpbiBzdHlsZSkge1xyXG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcclxuICAgIH1cclxuICAgIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xyXG4gICAgICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByYXdOYW1lO1xyXG59XG5cbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcclxuICAgIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aCgneGxpbms6JykpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gbm90ZSB3ZSBhcmUgb25seSBjaGVja2luZyBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdCBkb24ndCBoYXZlIGFcclxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRvbSBwcm9wIG9mIHRoZSBzYW1lIG5hbWUgaGVyZS5cclxuICAgICAgICBjb25zdCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChpc0Jvb2xlYW4gJiYgdmFsdWUgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/ICcnIDogdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vLyBfX1VOU0FGRV9fXHJcbi8vIGZ1bmN0aW9ucy4gVGhlIHVzZXIgaXMgcmVzcG9uc2libGUgZm9yIHVzaW5nIHRoZW0gd2l0aCBvbmx5IHRydXN0ZWQgY29udGVudC5cclxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBcclxuLy8gdGhlIGZvbGxvd2luZyBhcmdzIGFyZSBwYXNzZWQgb25seSBkdWUgdG8gcG90ZW50aWFsIGlubmVySFRNTC90ZXh0Q29udGVudFxyXG4vLyBvdmVycmlkaW5nIGV4aXN0aW5nIFZOb2RlcywgaW4gd2hpY2ggY2FzZSB0aGUgb2xkIHRyZWUgbXVzdCBiZSBwcm9wZXJseVxyXG4vLyB1bm1vdW50ZWQuXHJcbnByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSB7XHJcbiAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcclxuICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBlbC50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XHJcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcclxuICAgICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkLlxyXG4gICAgICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJyAmJiB0eXBlID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgLy8gZS5nLiA8c2VsZWN0IG11bHRpcGxlPiBjb21waWxlcyB0byB7IG11bHRpcGxlOiAnJyB9XHJcbiAgICAgICAgICAgIGVsW2tleV0gPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgLy8gZS5nLiA8ZGl2IDppZD1cIm51bGxcIj5cclxuICAgICAgICAgICAgZWxba2V5XSA9ICcnO1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAvLyBlLmcuIDxpbWcgOndpZHRoPVwibnVsbFwiPlxyXG4gICAgICAgICAgICBlbFtrZXldID0gMDtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzb21lIHByb3BlcnRpZXMgcGVyZm9ybSB2YWx1ZSB2YWxpZGF0aW9uIGFuZCB0aHJvd1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBlbFtrZXldID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgd2FybihgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke2VsLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcclxuICAgICAgICAgICAgICAgIGB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vLyBBc3luYyBlZGdlIGNhc2UgZml4IHJlcXVpcmVzIHN0b3JpbmcgYW4gZXZlbnQgbGlzdGVuZXIncyBhdHRhY2ggdGltZXN0YW1wLlxyXG5sZXQgX2dldE5vdyA9IERhdGUubm93O1xyXG5sZXQgc2tpcFRpbWVzdGFtcENoZWNrID0gZmFsc2U7XHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcclxuICAgIC8vIHRpbWVzdGFtcCBjYW4gZWl0aGVyIGJlIGhpLXJlcyAocmVsYXRpdmUgdG8gcGFnZSBsb2FkKSBvciBsb3ctcmVzXHJcbiAgICAvLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGVcclxuICAgIC8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cclxuICAgIGlmIChfZ2V0Tm93KCkgPiBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKS50aW1lU3RhbXApIHtcclxuICAgICAgICAvLyBpZiB0aGUgbG93LXJlcyB0aW1lc3RhbXAgd2hpY2ggaXMgYmlnZ2VyIHRoYW4gdGhlIGV2ZW50IHRpbWVzdGFtcFxyXG4gICAgICAgIC8vICh3aGljaCBpcyBldmFsdWF0ZWQgQUZURVIpIGl0IG1lYW5zIHRoZSBldmVudCBpcyB1c2luZyBhIGhpLXJlcyB0aW1lc3RhbXAsXHJcbiAgICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXJzIGFzIHdlbGwuXHJcbiAgICAgICAgX2dldE5vdyA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgfVxyXG4gICAgLy8gIzM0ODU6IEZpcmVmb3ggPD0gNTMgaGFzIGluY29ycmVjdCBFdmVudC50aW1lU3RhbXAgaW1wbGVtZW50YXRpb25cclxuICAgIC8vIGFuZCBkb2VzIG5vdCBmaXJlIG1pY3JvdGFza3MgaW4gYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbiwgc28gc2FmZSB0byBleGNsdWRlLlxyXG4gICAgY29uc3QgZmZNYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSk7XHJcbiAgICBza2lwVGltZXN0YW1wQ2hlY2sgPSAhIShmZk1hdGNoICYmIE51bWJlcihmZk1hdGNoWzFdKSA8PSA1Myk7XHJcbn1cclxuLy8gVG8gYXZvaWQgdGhlIG92ZXJoZWFkIG9mIHJlcGVhdGVkbHkgY2FsbGluZyBwZXJmb3JtYW5jZS5ub3coKSwgd2UgY2FjaGVcclxuLy8gYW5kIHVzZSB0aGUgc2FtZSB0aW1lc3RhbXAgZm9yIGFsbCBldmVudCBsaXN0ZW5lcnMgYXR0YWNoZWQgaW4gdGhlIHNhbWUgdGljay5cclxubGV0IGNhY2hlZE5vdyA9IDA7XHJcbmNvbnN0IHAgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuY29uc3QgcmVzZXQgPSAoKSA9PiB7XHJcbiAgICBjYWNoZWROb3cgPSAwO1xyXG59O1xyXG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbihyZXNldCksIChjYWNoZWROb3cgPSBfZ2V0Tm93KCkpKTtcclxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XHJcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiBwYXRjaEV2ZW50KGVsLCByYXdOYW1lLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XHJcbiAgICAvLyB2ZWkgPSB2dWUgZXZlbnQgaW52b2tlcnNcclxuICAgIGNvbnN0IGludm9rZXJzID0gZWwuX3ZlaSB8fCAoZWwuX3ZlaSA9IHt9KTtcclxuICAgIGNvbnN0IGV4aXN0aW5nSW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdO1xyXG4gICAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcclxuICAgICAgICAvLyBwYXRjaFxyXG4gICAgICAgIGV4aXN0aW5nSW52b2tlci52YWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHBhcnNlTmFtZShyYXdOYW1lKTtcclxuICAgICAgICBpZiAobmV4dFZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZFxyXG4gICAgICAgICAgICBjb25zdCBpbnZva2VyID0gKGludm9rZXJzW3Jhd05hbWVdID0gY3JlYXRlSW52b2tlcihuZXh0VmFsdWUsIGluc3RhbmNlKSk7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGludm9rZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChleGlzdGluZ0ludm9rZXIpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlXHJcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcclxuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcclxuICAgIGxldCBvcHRpb25zO1xyXG4gICAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgICAgbGV0IG07XHJcbiAgICAgICAgd2hpbGUgKChtID0gbmFtZS5tYXRjaChvcHRpb25zTW9kaWZpZXJSRSkpKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbaHlwaGVuYXRlKG5hbWUuc2xpY2UoMikpLCBvcHRpb25zXTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcclxuICAgIGNvbnN0IGludm9rZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIC8vIGFzeW5jIGVkZ2UgY2FzZSAjNjU2NjogaW5uZXIgY2xpY2sgZXZlbnQgdHJpZ2dlcnMgcGF0Y2gsIGV2ZW50IGhhbmRsZXJcclxuICAgICAgICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpc1xyXG4gICAgICAgIC8vIGhhcHBlbnMgYmVjYXVzZSBicm93c2VycyBmaXJlIG1pY3JvdGFzayB0aWNrcyBiZXR3ZWVuIGV2ZW50IHByb3BhZ2F0aW9uLlxyXG4gICAgICAgIC8vIHRoZSBzb2x1dGlvbiBpcyBzaW1wbGU6IHdlIHNhdmUgdGhlIHRpbWVzdGFtcCB3aGVuIGEgaGFuZGxlciBpcyBhdHRhY2hlZCxcclxuICAgICAgICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkXHJcbiAgICAgICAgLy8gQUZURVIgaXQgd2FzIGF0dGFjaGVkLlxyXG4gICAgICAgIGNvbnN0IHRpbWVTdGFtcCA9IGUudGltZVN0YW1wIHx8IF9nZXROb3coKTtcclxuICAgICAgICBpZiAoc2tpcFRpbWVzdGFtcENoZWNrIHx8IHRpbWVTdGFtcCA+PSBpbnZva2VyLmF0dGFjaGVkIC0gMSkge1xyXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSwgaW5zdGFuY2UsIDUgLyogTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi8sIFtlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XHJcbiAgICByZXR1cm4gaW52b2tlcjtcclxufVxyXG5mdW5jdGlvbiBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XHJcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xyXG4gICAgICAgICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZm4gPT4gKGUpID0+ICFlLl9zdG9wcGVkICYmIGZuKGUpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxufVxuXG5jb25zdCBuYXRpdmVPblJFID0gL15vblthLXpdLztcclxuY29uc3QgZm9yY2VQYXRjaFByb3AgPSAoXywga2V5KSA9PiBrZXkgPT09ICd2YWx1ZSc7XHJcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaXNTVkcgPSBmYWxzZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pID0+IHtcclxuICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgLy8gc3BlY2lhbFxyXG4gICAgICAgIGNhc2UgJ2NsYXNzJzpcclxuICAgICAgICAgICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3N0eWxlJzpcclxuICAgICAgICAgICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgdi1tb2RlbCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaEV2ZW50KGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciA8aW5wdXQgdi1tb2RlbCB0eXBlPVwiY2hlY2tib3hcIj4gd2l0aFxyXG4gICAgICAgICAgICAgICAgLy8gOnRydWUtdmFsdWUgJiA6ZmFsc2UtdmFsdWVcclxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIGRvbSBwcm9wZXJ0aWVzIHNpbmNlIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmVcclxuICAgICAgICAgICAgICAgIC8vIHN0cmluZ2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3RydWUtdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2ZhbHNlLXZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAvLyBtb3N0IGtleXMgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlIG9uIHN2ZyBlbGVtZW50cyB0byB3b3JrXHJcbiAgICAgICAgLy8gLi4uZXhjZXB0IGlubmVySFRNTFxyXG4gICAgICAgIGlmIChrZXkgPT09ICdpbm5lckhUTUwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvciBuYXRpdmUgb25jbGljayB3aXRoIGZ1bmN0aW9uIHZhbHVlc1xyXG4gICAgICAgIGlmIChrZXkgaW4gZWwgJiYgbmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIHNwZWxsY2hlY2sgYW5kIGRyYWdnYWJsZSBhcmUgbnVtZXJhdGVkIGF0dHJzLCBob3dldmVyIHRoZWlyXHJcbiAgICAvLyBjb3JyZXNwb25kaW5nIERPTSBwcm9wZXJ0aWVzIGFyZSBhY3R1YWxseSBib29sZWFucyAtIHRoaXMgbGVhZHMgdG9cclxuICAgIC8vIHNldHRpbmcgaXQgd2l0aCBhIHN0cmluZyBcImZhbHNlXCIgdmFsdWUgbGVhZGluZyBpdCB0byBiZSBjb2VyY2VkIHRvXHJcbiAgICAvLyBgdHJ1ZWAsIHNvIHdlIG5lZWQgdG8gYWx3YXlzIHRyZWF0IHRoZW0gYXMgYXR0cmlidXRlcy5cclxuICAgIC8vIE5vdGUgdGhhdCBgY29udGVudEVkaXRhYmxlYCBkb2Vzbid0IGhhdmUgdGhpcyBwcm9ibGVtOiBpdHMgRE9NXHJcbiAgICAvLyBwcm9wZXJ0eSBpcyBhbHNvIGVudW1lcmF0ZWQgc3RyaW5nIHZhbHVlcy5cclxuICAgIGlmIChrZXkgPT09ICdzcGVsbGNoZWNrJyB8fCBrZXkgPT09ICdkcmFnZ2FibGUnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzE3ODcsICMyODQwIGZvcm0gcHJvcGVydHkgb24gZm9ybSBlbGVtZW50cyBpcyByZWFkb25seSBhbmQgbXVzdCBiZSBzZXQgYXNcclxuICAgIC8vIGF0dHJpYnV0ZS5cclxuICAgIGlmIChrZXkgPT09ICdmb3JtJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vICMxNTI2IDxpbnB1dCBsaXN0PiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcclxuICAgIGlmIChrZXkgPT09ICdsaXN0JyAmJiBlbC50YWdOYW1lID09PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gIzI3NjYgPHRleHRhcmVhIHR5cGU+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxyXG4gICAgaWYgKGtleSA9PT0gJ3R5cGUnICYmIGVsLnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBuYXRpdmUgb25jbGljayB3aXRoIHN0cmluZyB2YWx1ZSwgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXHJcbiAgICBpZiAobmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleSBpbiBlbDtcclxufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9ICckc3R5bGUnKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcclxuICAgICAgICBpZiAoIW1vZHVsZXMpIHtcclxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcclxuICAgICAgICBpZiAoIW1vZCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xyXG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9kO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgU0ZDJ3MgQ1NTIHZhcmlhYmxlIGluamVjdGlvbiBmZWF0dXJlLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXRWYXJzID0gKCkgPT4gc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgZ2V0dGVyKGluc3RhbmNlLnByb3h5KSk7XHJcbiAgICBvbk1vdW50ZWQoKCkgPT4gd2F0Y2hFZmZlY3Qoc2V0VmFycywgeyBmbHVzaDogJ3Bvc3QnIH0pKTtcclxuICAgIG9uVXBkYXRlZChzZXRWYXJzKTtcclxufVxyXG5mdW5jdGlvbiBzZXRWYXJzT25WTm9kZSh2bm9kZSwgdmFycykge1xyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTVVNQRU5TRSAqLykge1xyXG4gICAgICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XHJcbiAgICAgICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XHJcbiAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XHJcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBkcmlsbCBkb3duIEhPQ3MgdW50aWwgaXQncyBhIG5vbi1jb21wb25lbnQgdm5vZGVcclxuICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcclxuICAgICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgLyogRUxFTUVOVCAqLyAmJiB2bm9kZS5lbCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdm5vZGUuZWwuc3R5bGU7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xyXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XHJcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjID0+IHNldFZhcnNPblZOb2RlKGMsIHZhcnMpKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xyXG5jb25zdCBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcclxuLy8gRE9NIFRyYW5zaXRpb24gaXMgYSBoaWdoZXItb3JkZXItY29tcG9uZW50IGJhc2VkIG9uIHRoZSBwbGF0Zm9ybS1hZ25vc3RpY1xyXG4vLyBiYXNlIFRyYW5zaXRpb24gY29tcG9uZW50LCB3aXRoIERPTS1zcGVjaWZpYyBsb2dpYy5cclxuY29uc3QgVHJhbnNpdGlvbiA9IChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpO1xyXG5UcmFuc2l0aW9uLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb24nO1xyXG5jb25zdCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xyXG4gICAgbmFtZTogU3RyaW5nLFxyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgY3NzOiB7XHJcbiAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICBkZWZhdWx0OiB0cnVlXHJcbiAgICB9LFxyXG4gICAgZHVyYXRpb246IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcclxuICAgIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXHJcbiAgICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZVRvQ2xhc3M6IFN0cmluZ1xyXG59O1xyXG5jb25zdCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0gKFRyYW5zaXRpb24ucHJvcHMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgQmFzZVRyYW5zaXRpb24ucHJvcHMsIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKTtcclxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xyXG4gICAgbGV0IHsgbmFtZSA9ICd2JywgdHlwZSwgY3NzID0gdHJ1ZSwgZHVyYXRpb24sIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLCBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLCBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLCBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2AgfSA9IHJhd1Byb3BzO1xyXG4gICAgY29uc3QgYmFzZVByb3BzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xyXG4gICAgICAgICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFjc3MpIHtcclxuICAgICAgICByZXR1cm4gYmFzZVByb3BzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xyXG4gICAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XHJcbiAgICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcclxuICAgIGNvbnN0IHsgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25MZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLCBvbkFwcGVhciA9IG9uRW50ZXIsIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZCB9ID0gYmFzZVByb3BzO1xyXG4gICAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xyXG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xyXG4gICAgICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xyXG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcclxuICAgICAgICAgICAgaG9vayAmJiBob29rKGVsLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShob29rICYmIGhvb2subGVuZ3RoID4gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XHJcbiAgICAgICAgb25CZWZvcmVFbnRlcihlbCkge1xyXG4gICAgICAgICAgICBvbkJlZm9yZUVudGVyICYmIG9uQmVmb3JlRW50ZXIoZWwpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XHJcbiAgICAgICAgICAgIG9uQmVmb3JlQXBwZWFyICYmIG9uQmVmb3JlQXBwZWFyKGVsKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJGcm9tQ2xhc3MpO1xyXG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxyXG4gICAgICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxyXG4gICAgICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcclxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XHJcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyBzbyAqLWxlYXZlLWZyb20gY2xhc3NlcyBpbW1lZGlhdGVseSB0YWtlIGVmZmVjdCAoIzI1OTMpXHJcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcclxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlmICghKG9uTGVhdmUgJiYgb25MZWF2ZS5sZW5ndGggPiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvbkxlYXZlICYmIG9uTGVhdmUoZWwsIHJlc29sdmUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xyXG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBvbkVudGVyQ2FuY2VsbGVkICYmIG9uRW50ZXJDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcclxuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIHRydWUpO1xyXG4gICAgICAgICAgICBvbkFwcGVhckNhbmNlbGxlZCAmJiBvbkFwcGVhckNhbmNlbGxlZChlbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XHJcbiAgICAgICAgICAgIGZpbmlzaExlYXZlKGVsKTtcclxuICAgICAgICAgICAgb25MZWF2ZUNhbmNlbGxlZCAmJiBvbkxlYXZlQ2FuY2VsbGVkKGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xyXG4gICAgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xyXG4gICAgICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcclxuICAgICAgICByZXR1cm4gW24sIG5dO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIE51bWJlck9mKHZhbCkge1xyXG4gICAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXHJcbiAgICAgICAgdmFsaWRhdGVEdXJhdGlvbihyZXMpO1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUR1cmF0aW9uKHZhbCkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgd2FybihgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGAgK1xyXG4gICAgICAgICAgICBgZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc05hTih2YWwpKSB7XHJcbiAgICAgICAgd2FybihgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIE5hTiAtIGAgK1xyXG4gICAgICAgICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XHJcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIChlbC5fdnRjIHx8XHJcbiAgICAgICAgKGVsLl92dGMgPSBuZXcgU2V0KCkpKS5hZGQoY2xzKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICBjb25zdCB7IF92dGMgfSA9IGVsO1xyXG4gICAgaWYgKF92dGMpIHtcclxuICAgICAgICBfdnRjLmRlbGV0ZShjbHMpO1xyXG4gICAgICAgIGlmICghX3Z0Yy5zaXplKSB7XHJcbiAgICAgICAgICAgIGVsLl92dGMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IGVuZElkID0gMDtcclxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xyXG4gICAgY29uc3QgaWQgPSAoZWwuX2VuZElkID0gKytlbmRJZCk7XHJcbiAgICBjb25zdCByZXNvbHZlSWZOb3RTdGFsZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoaWQgPT09IGVsLl9lbmRJZCkge1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmIChleHBsaWNpdFRpbWVvdXQpIHtcclxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgdHlwZSwgdGltZW91dCwgcHJvcENvdW50IH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcclxuICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbmRFdmVudCA9IHR5cGUgKyAnZW5kJztcclxuICAgIGxldCBlbmRlZCA9IDA7XHJcbiAgICBjb25zdCBlbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xyXG4gICAgICAgIHJlc29sdmVJZk5vdFN0YWxlKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWwgJiYgKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcclxuICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0aW1lb3V0ICsgMSk7XHJcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xyXG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgLy8gSlNET00gbWF5IHJldHVybiB1bmRlZmluZWQgZm9yIHRyYW5zaXRpb24gcHJvcGVydGllc1xyXG4gICAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8ICcnKS5zcGxpdCgnLCAnKTtcclxuICAgIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoVFJBTlNJVElPTiArICdEZWxheScpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhUUkFOU0lUSU9OICsgJ0R1cmF0aW9uJyk7XHJcbiAgICBjb25zdCB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoQU5JTUFUSU9OICsgJ0RlbGF5Jyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoQU5JTUFUSU9OICsgJ0R1cmF0aW9uJyk7XHJcbiAgICBjb25zdCBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XHJcbiAgICBsZXQgdHlwZSA9IG51bGw7XHJcbiAgICBsZXQgdGltZW91dCA9IDA7XHJcbiAgICBsZXQgcHJvcENvdW50ID0gMDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcclxuICAgICAgICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcclxuICAgICAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgdHlwZSA9IEFOSU1BVElPTjtcclxuICAgICAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcclxuICAgICAgICB0eXBlID1cclxuICAgICAgICAgICAgdGltZW91dCA+IDBcclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBUUkFOU0lUSU9OXHJcbiAgICAgICAgICAgICAgICAgICAgOiBBTklNQVRJT05cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICBwcm9wQ291bnQgPSB0eXBlXHJcbiAgICAgICAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgIDogMDtcclxuICAgIH1cclxuICAgIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiZcclxuICAgICAgICAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3Qoc3R5bGVzW1RSQU5TSVRJT04gKyAnUHJvcGVydHknXSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgdGltZW91dCxcclxuICAgICAgICBwcm9wQ291bnQsXHJcbiAgICAgICAgaGFzVHJhbnNmb3JtXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcclxuICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XHJcbn1cclxuLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXJcclxuLy8gbnVtYmVycyBpbiBhIGxvY2FsZS1kZXBlbmRlbnQgd2F5LCB1c2luZyBhIGNvbW1hIGluc3RlYWQgb2YgYSBkb3QuXHJcbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd25cclxuLy8gKGkuZS4gYWN0aW5nIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnNcclxuZnVuY3Rpb24gdG9NcyhzKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDA7XHJcbn1cclxuLy8gc3luY2hyb25vdXNseSBmb3JjZSBsYXlvdXQgdG8gcHV0IGVsZW1lbnRzIGludG8gYSBjZXJ0YWluIHN0YXRlXHJcbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xyXG59XG5cbmNvbnN0IHBvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcclxuY29uc3QgbmV3UG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xyXG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0ge1xyXG4gICAgbmFtZTogJ1RyYW5zaXRpb25Hcm91cCcsXHJcbiAgICBwcm9wczogLyojX19QVVJFX18qLyBleHRlbmQoe30sIFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIHtcclxuICAgICAgICB0YWc6IFN0cmluZyxcclxuICAgICAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xyXG4gICAgfSksXHJcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xyXG4gICAgICAgIGxldCBwcmV2Q2hpbGRyZW47XHJcbiAgICAgICAgbGV0IGNoaWxkcmVuO1xyXG4gICAgICAgIG9uVXBkYXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QgYWZ0ZXIgaW5pdGlhbCByZW5kZXJcclxuICAgICAgICAgICAgaWYgKCFwcmV2Q2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgJ3YnfS1tb3ZlYDtcclxuICAgICAgICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0ocHJldkNoaWxkcmVuWzBdLmVsLCBpbnN0YW5jZS52bm9kZS5lbCwgbW92ZUNsYXNzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xyXG4gICAgICAgICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy5cclxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xyXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xyXG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cclxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcclxuICAgICAgICAgICAgbW92ZWRDaGlsZHJlbi5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcclxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2IgPSAoZWwuX21vdmVDYiA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNzc1RyYW5zaXRpb25Qcm9wcyA9IHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpO1xyXG4gICAgICAgICAgICBjb25zdCB0YWcgPSByYXdQcm9wcy50YWcgfHwgRnJhZ21lbnQ7XHJcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoY2hpbGQsIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcclxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xyXG4gICAgY29uc3QgZWwgPSBjLmVsO1xyXG4gICAgaWYgKGVsLl9tb3ZlQ2IpIHtcclxuICAgICAgICBlbC5fbW92ZUNiKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZWwuX2VudGVyQ2IpIHtcclxuICAgICAgICBlbC5fZW50ZXJDYigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcclxuICAgIG5ld1Bvc2l0aW9uTWFwLnNldChjLCBjLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxufVxyXG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcclxuICAgIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcclxuICAgIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcclxuICAgIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XHJcbiAgICBpZiAoZHggfHwgZHkpIHtcclxuICAgICAgICBjb25zdCBzID0gYy5lbC5zdHlsZTtcclxuICAgICAgICBzLnRyYW5zZm9ybSA9IHMud2Via2l0VHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2R4fXB4LCR7ZHl9cHgpYDtcclxuICAgICAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcclxuICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xyXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXHJcbiAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXHJcbiAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcclxuICAgIC8vIGlzIGFwcGxpZWQuXHJcbiAgICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xyXG4gICAgaWYgKGVsLl92dGMpIHtcclxuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcclxuICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMVxyXG4gICAgICAgID8gcm9vdFxyXG4gICAgICAgIDogcm9vdC5wYXJlbnROb2RlKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xyXG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XHJcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xyXG4gICAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xyXG4gICAgcmV0dXJuIGlzQXJyYXkoZm4pID8gdmFsdWUgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xyXG59O1xyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xyXG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcclxuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsICdpbnB1dCcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyaWdnZXIoZWwsIHR5cGUpIHtcclxuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xyXG4gICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xyXG59XHJcbi8vIFdlIGFyZSBleHBvcnRpbmcgdGhlIHYtbW9kZWwgcnVudGltZSBkaXJlY3RseSBhcyB2bm9kZSBob29rcyBzbyB0aGF0IGl0IGNhblxyXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cclxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJztcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gJ2NoYW5nZScgOiAnaW5wdXQnLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjYXN0VG9OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gdG9OdW1iZXIoZG9tVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0cmltKSB7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGF6eSkge1xyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XHJcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcclxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxyXG4gICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXHJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcclxuICAgICAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgICAgIC8vIGF2b2lkIGNsZWFyaW5nIHVucmVzb2x2ZWQgdGV4dC4gIzIzMDJcclxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJykgJiYgdG9OdW1iZXIoZWwudmFsdWUpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XHJcbiAgICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbiA9IGVsLl9hc3NpZ247XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXNzaWduKGNsb25lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXHJcbiAgICBtb3VudGVkOiBzZXRDaGVja2VkLFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xyXG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcclxuICAgICAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XHJcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XHJcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xyXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0sIHZub2RlKSB7XHJcbiAgICAgICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcclxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXJcclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobykgPT4gbnVtYmVyID8gdG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobykpO1xyXG4gICAgICAgICAgICBlbC5fYXNzaWduKGVsLm11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICA/IGlzU2V0TW9kZWxcclxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBTZXQoc2VsZWN0ZWRWYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFxyXG4gICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFswXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xyXG4gICAgfSxcclxuICAgIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cclxuICAgIC8vIDxvcHRpb24+cy5cclxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XHJcbiAgICB9LFxyXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XHJcbiAgICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XHJcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xyXG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICB3YXJuKGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYCArXHJcbiAgICAgICAgICAgICAgICBgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcclxuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XHJcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNNdWx0aXBsZSkge1xyXG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxufVxyXG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgc2V0IHZpYSA6dmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcclxuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xyXG59XHJcbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBmb3IgdHJ1ZS12YWx1ZSBhbmQgZmFsc2UtdmFsdWUgc2V0IHZpYSA6dHJ1ZS12YWx1ZSBvciA6ZmFsc2UtdmFsdWUgYmluZGluZ3NcclxuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xyXG4gICAgY29uc3Qga2V5ID0gY2hlY2tlZCA/ICdfdHJ1ZVZhbHVlJyA6ICdfZmFsc2VWYWx1ZSc7XHJcbiAgICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XHJcbn1cclxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcclxuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XHJcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcclxuICAgIH0sXHJcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcclxuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xyXG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcclxuICAgIGxldCBtb2RlbFRvVXNlO1xyXG4gICAgc3dpdGNoIChlbC50YWdOYW1lKSB7XHJcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcclxuICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFNlbGVjdDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxyXG4gICAgICAgICAgICBtb2RlbFRvVXNlID0gdk1vZGVsVGV4dDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbENoZWNrYm94O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsVG9Vc2UgPSB2TW9kZWxSYWRpbztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUb1VzZSA9IHZNb2RlbFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcclxuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcclxufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXTtcclxuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XHJcbiAgICBzdG9wOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXHJcbiAgICBwcmV2ZW50OiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcclxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcclxuICAgIGN0cmw6IGUgPT4gIWUuY3RybEtleSxcclxuICAgIHNoaWZ0OiBlID0+ICFlLnNoaWZ0S2V5LFxyXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcclxuICAgIG1ldGE6IGUgPT4gIWUubWV0YUtleSxcclxuICAgIGxlZnQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcclxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxyXG4gICAgcmlnaHQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcclxuICAgIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZShtID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxyXG59O1xyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcclxuICAgICAgICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xyXG4gICAgfTtcclxufTtcclxuLy8gS2VwdCBmb3IgMi54IGNvbXBhdC5cclxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cclxuY29uc3Qga2V5TmFtZXMgPSB7XHJcbiAgICBlc2M6ICdlc2NhcGUnLFxyXG4gICAgc3BhY2U6ICcgJyxcclxuICAgIHVwOiAnYXJyb3ctdXAnLFxyXG4gICAgbGVmdDogJ2Fycm93LWxlZnQnLFxyXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXHJcbiAgICBkb3duOiAnYXJyb3ctZG93bicsXHJcbiAgICBkZWxldGU6ICdiYWNrc3BhY2UnXHJcbn07XHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xyXG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghKCdrZXknIGluIGV2ZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgIC8vIE5vbmUgb2YgdGhlIHByb3ZpZGVkIGtleSBtb2RpZmllcnMgbWF0Y2ggdGhlIGN1cnJlbnQgZXZlbnQga2V5XHJcbiAgICAgICAgIW1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbihldmVudCk7XHJcbiAgICB9O1xyXG59O1xuXG5jb25zdCB2U2hvdyA9IHtcclxuICAgIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XHJcbiAgICAgICAgZWwuX3ZvZCA9IGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICcnIDogZWwuc3R5bGUuZGlzcGxheTtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xyXG4gICAgICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XHJcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xyXG4gICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcclxuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl92b2QgOiAnbm9uZSc7XHJcbn1cblxuY29uc3QgcmVuZGVyZXJPcHRpb25zID0gZXh0ZW5kKHsgcGF0Y2hQcm9wLCBmb3JjZVBhdGNoUHJvcCB9LCBub2RlT3BzKTtcclxuLy8gbGF6eSBjcmVhdGUgdGhlIHJlbmRlcmVyIC0gdGhpcyBtYWtlcyBjb3JlIHJlbmRlcmVyIGxvZ2ljIHRyZWUtc2hha2FibGVcclxuLy8gaW4gY2FzZSB0aGUgdXNlciBvbmx5IGltcG9ydHMgcmVhY3Rpdml0eSB1dGlsaXRpZXMgZnJvbSBWdWUuXHJcbmxldCByZW5kZXJlcjtcclxubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcclxuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XHJcbiAgICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XHJcbn1cclxuZnVuY3Rpb24gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKSB7XHJcbiAgICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb25cclxuICAgICAgICA/IHJlbmRlcmVyXHJcbiAgICAgICAgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xyXG4gICAgZW5hYmxlZEh5ZHJhdGlvbiA9IHRydWU7XHJcbiAgICByZXR1cm4gcmVuZGVyZXI7XHJcbn1cclxuLy8gdXNlIGV4cGxpY2l0IHR5cGUgY2FzdHMgaGVyZSB0byBhdm9pZCBpbXBvcnQoKSBjYWxscyBpbiByb2xsZWQtdXAgZC50c1xyXG5jb25zdCByZW5kZXIgPSAoKC4uLmFyZ3MpID0+IHtcclxuICAgIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xyXG59KTtcclxuY29uc3QgaHlkcmF0ZSA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xyXG59KTtcclxuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xyXG4gICAgICAgIGluamVjdEN1c3RvbUVsZW1lbnRDaGVjayhhcHApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xyXG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKCFjb250YWluZXIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXHJcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndi1jbG9haycpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFwcDtcclxufSk7XHJcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcclxuICAgICAgICBpbmplY3RDdXN0b21FbGVtZW50Q2hlY2soYXBwKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcclxuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBhcHA7XHJcbn0pO1xyXG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcclxuICAgIC8vIEluamVjdCBgaXNOYXRpdmVUYWdgXHJcbiAgICAvLyB0aGlzIGlzIHVzZWQgZm9yIGNvbXBvbmVudCBuYW1lIHZhbGlkYXRpb24gKGRldiBvbmx5KVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc05hdGl2ZVRhZycsIHtcclxuICAgICAgICB2YWx1ZTogKHRhZykgPT4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSxcclxuICAgICAgICB3cml0YWJsZTogZmFsc2VcclxuICAgIH0pO1xyXG59XHJcbi8vIGRldiBvbmx5XHJcbmZ1bmN0aW9uIGluamVjdEN1c3RvbUVsZW1lbnRDaGVjayhhcHApIHtcclxuICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNDdXN0b21FbGVtZW50Jywge1xyXG4gICAgICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCgpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBydW50aW1lIGNvbXBpbGVyLmAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBJZiB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZGAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAtIGZvciBleGFtcGxlLCB2aWEgdGhlIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBvcHRpb24gaW4gdnVlLWxvYWRlcjogaHR0cHM6Ly92dWUtbG9hZGVyLnZ1ZWpzLm9yZy9vcHRpb25zLmh0bWwjY29tcGlsZXJvcHRpb25zLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVzKSB7XHJcbiAgICAgICAgICAgIHdhcm4oYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciBcIiR7Y29udGFpbmVyfVwiIHJldHVybmVkIG51bGwuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiZcclxuICAgICAgICBjb250YWluZXIubW9kZSA9PT0gJ2Nsb3NlZCcpIHtcclxuICAgICAgICB3YXJuKGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XG5cbmV4cG9ydCB7IFRyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCwgY3JlYXRlQXBwLCBjcmVhdGVTU1JBcHAsIGh5ZHJhdGUsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCJleHBvcnQgZGVmYXVsdCBcImh0dHBzOi8vcmVzb3VyY2VzLnJlYWxpdHltZWRpYS5kaWdpdGFsL3Rlc3QtdnVlLWFwcC9kaXN0LzFhNmFjZTM3NzEzM2YxNGEucG5nXCIiLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCkge1xuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gd2luZG93XG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gZ2xvYmFsXG4gICAgICAgICAgICA6IHt9O1xufVxuIiwiZXhwb3J0IGNvbnN0IEhPT0tfU0VUVVAgPSAnZGV2dG9vbHMtcGx1Z2luOnNldHVwJztcbiIsImltcG9ydCB7IGdldFRhcmdldCwgZ2V0RGV2dG9vbHNHbG9iYWxIb29rIH0gZnJvbSAnLi9lbnYnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9hcGknO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwRGV2dG9vbHNQbHVnaW4ocGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbikge1xuICAgIGNvbnN0IGhvb2sgPSBnZXREZXZ0b29sc0dsb2JhbEhvb2soKTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgICBob29rLmVtaXQoSE9PS19TRVRVUCwgcGx1Z2luRGVzY3JpcHRvciwgc2V0dXBGbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXQoKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5TX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fIHx8IFtdO1xuICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgcGx1Z2luRGVzY3JpcHRvcixcbiAgICAgICAgICAgIHNldHVwRm5cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiB2dWV4IHY0LjAuMVxuICogKGMpIDIwMjEgRXZhbiBZb3VcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5pbXBvcnQgeyBpbmplY3QsIHJlYWN0aXZlLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG52YXIgc3RvcmVLZXkgPSAnc3RvcmUnO1xuXG5mdW5jdGlvbiB1c2VTdG9yZSAoa2V5KSB7XG4gIGlmICgga2V5ID09PSB2b2lkIDAgKSBrZXkgPSBudWxsO1xuXG4gIHJldHVybiBpbmplY3Qoa2V5ICE9PSBudWxsID8ga2V5IDogc3RvcmVLZXkpXG59XG5cbi8qKlxuICogR2V0IHRoZSBmaXJzdCBpdGVtIHRoYXQgcGFzcyB0aGUgdGVzdFxuICogYnkgc2Vjb25kIGFyZ3VtZW50IGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtBcnJheX0gbGlzdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICogQHJldHVybiB7Kn1cbiAqL1xuZnVuY3Rpb24gZmluZCAobGlzdCwgZikge1xuICByZXR1cm4gbGlzdC5maWx0ZXIoZilbMF1cbn1cblxuLyoqXG4gKiBEZWVwIGNvcHkgdGhlIGdpdmVuIG9iamVjdCBjb25zaWRlcmluZyBjaXJjdWxhciBzdHJ1Y3R1cmUuXG4gKiBUaGlzIGZ1bmN0aW9uIGNhY2hlcyBhbGwgbmVzdGVkIG9iamVjdHMgYW5kIGl0cyBjb3BpZXMuXG4gKiBJZiBpdCBkZXRlY3RzIGNpcmN1bGFyIHN0cnVjdHVyZSwgdXNlIGNhY2hlZCBjb3B5IHRvIGF2b2lkIGluZmluaXRlIGxvb3AuXG4gKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gY2FjaGVcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5IChvYmosIGNhY2hlKSB7XG4gIGlmICggY2FjaGUgPT09IHZvaWQgMCApIGNhY2hlID0gW107XG5cbiAgLy8ganVzdCByZXR1cm4gaWYgb2JqIGlzIGltbXV0YWJsZSB2YWx1ZVxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgLy8gaWYgb2JqIGlzIGhpdCwgaXQgaXMgaW4gY2lyY3VsYXIgc3RydWN0dXJlXG4gIHZhciBoaXQgPSBmaW5kKGNhY2hlLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5vcmlnaW5hbCA9PT0gb2JqOyB9KTtcbiAgaWYgKGhpdCkge1xuICAgIHJldHVybiBoaXQuY29weVxuICB9XG5cbiAgdmFyIGNvcHkgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IHt9O1xuICAvLyBwdXQgdGhlIGNvcHkgaW50byBjYWNoZSBhdCBmaXJzdFxuICAvLyBiZWNhdXNlIHdlIHdhbnQgdG8gcmVmZXIgaXQgaW4gcmVjdXJzaXZlIGRlZXBDb3B5XG4gIGNhY2hlLnB1c2goe1xuICAgIG9yaWdpbmFsOiBvYmosXG4gICAgY29weTogY29weVxuICB9KTtcblxuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldLCBjYWNoZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb3B5XG59XG5cbi8qKlxuICogZm9yRWFjaCBmb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hWYWx1ZSAob2JqLCBmbikge1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZm4ob2JqW2tleV0sIGtleSk7IH0pO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCdcbn1cblxuZnVuY3Rpb24gaXNQcm9taXNlICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsLnRoZW4gPT09ICdmdW5jdGlvbidcbn1cblxuZnVuY3Rpb24gYXNzZXJ0IChjb25kaXRpb24sIG1zZykge1xuICBpZiAoIWNvbmRpdGlvbikgeyB0aHJvdyBuZXcgRXJyb3IoKFwiW3Z1ZXhdIFwiICsgbXNnKSkgfVxufVxuXG5mdW5jdGlvbiBwYXJ0aWFsIChmbiwgYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuKGFyZylcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmljU3Vic2NyaWJlIChmbiwgc3Vicywgb3B0aW9ucykge1xuICBpZiAoc3Vicy5pbmRleE9mKGZuKSA8IDApIHtcbiAgICBvcHRpb25zICYmIG9wdGlvbnMucHJlcGVuZFxuICAgICAgPyBzdWJzLnVuc2hpZnQoZm4pXG4gICAgICA6IHN1YnMucHVzaChmbik7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaSA9IHN1YnMuaW5kZXhPZihmbik7XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgc3Vicy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3RvcmUgKHN0b3JlLCBob3QpIHtcbiAgc3RvcmUuX2FjdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzdG9yZS5fbXV0YXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RvcmUuX3dyYXBwZWRHZXR0ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RvcmUuX21vZHVsZXNOYW1lc3BhY2VNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcbiAgLy8gaW5pdCBhbGwgbW9kdWxlc1xuICBpbnN0YWxsTW9kdWxlKHN0b3JlLCBzdGF0ZSwgW10sIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHRydWUpO1xuICAvLyByZXNldCBzdGF0ZVxuICByZXNldFN0b3JlU3RhdGUoc3RvcmUsIHN0YXRlLCBob3QpO1xufVxuXG5mdW5jdGlvbiByZXNldFN0b3JlU3RhdGUgKHN0b3JlLCBzdGF0ZSwgaG90KSB7XG4gIHZhciBvbGRTdGF0ZSA9IHN0b3JlLl9zdGF0ZTtcblxuICAvLyBiaW5kIHN0b3JlIHB1YmxpYyBnZXR0ZXJzXG4gIHN0b3JlLmdldHRlcnMgPSB7fTtcbiAgLy8gcmVzZXQgbG9jYWwgZ2V0dGVycyBjYWNoZVxuICBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHdyYXBwZWRHZXR0ZXJzID0gc3RvcmUuX3dyYXBwZWRHZXR0ZXJzO1xuICB2YXIgY29tcHV0ZWRPYmogPSB7fTtcbiAgZm9yRWFjaFZhbHVlKHdyYXBwZWRHZXR0ZXJzLCBmdW5jdGlvbiAoZm4sIGtleSkge1xuICAgIC8vIHVzZSBjb21wdXRlZCB0byBsZXZlcmFnZSBpdHMgbGF6eS1jYWNoaW5nIG1lY2hhbmlzbVxuICAgIC8vIGRpcmVjdCBpbmxpbmUgZnVuY3Rpb24gdXNlIHdpbGwgbGVhZCB0byBjbG9zdXJlIHByZXNlcnZpbmcgb2xkU3RhdGUuXG4gICAgLy8gdXNpbmcgcGFydGlhbCB0byByZXR1cm4gZnVuY3Rpb24gd2l0aCBvbmx5IGFyZ3VtZW50cyBwcmVzZXJ2ZWQgaW4gY2xvc3VyZSBlbnZpcm9ubWVudC5cbiAgICBjb21wdXRlZE9ialtrZXldID0gcGFydGlhbChmbiwgc3RvcmUpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZS5nZXR0ZXJzLCBrZXksIHtcbiAgICAgIC8vIFRPRE86IHVzZSBgY29tcHV0ZWRgIHdoZW4gaXQncyBwb3NzaWJsZS4gYXQgdGhlIG1vbWVudCB3ZSBjYW4ndCBkdWUgdG9cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWV4L3B1bGwvMTg4M1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wdXRlZE9ialtrZXldKCk7IH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlIC8vIGZvciBsb2NhbCBnZXR0ZXJzXG4gICAgfSk7XG4gIH0pO1xuXG4gIHN0b3JlLl9zdGF0ZSA9IHJlYWN0aXZlKHtcbiAgICBkYXRhOiBzdGF0ZVxuICB9KTtcblxuICAvLyBlbmFibGUgc3RyaWN0IG1vZGUgZm9yIG5ldyBzdGF0ZVxuICBpZiAoc3RvcmUuc3RyaWN0KSB7XG4gICAgZW5hYmxlU3RyaWN0TW9kZShzdG9yZSk7XG4gIH1cblxuICBpZiAob2xkU3RhdGUpIHtcbiAgICBpZiAoaG90KSB7XG4gICAgICAvLyBkaXNwYXRjaCBjaGFuZ2VzIGluIGFsbCBzdWJzY3JpYmVkIHdhdGNoZXJzXG4gICAgICAvLyB0byBmb3JjZSBnZXR0ZXIgcmUtZXZhbHVhdGlvbiBmb3IgaG90IHJlbG9hZGluZy5cbiAgICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2xkU3RhdGUuZGF0YSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbE1vZHVsZSAoc3RvcmUsIHJvb3RTdGF0ZSwgcGF0aCwgbW9kdWxlLCBob3QpIHtcbiAgdmFyIGlzUm9vdCA9ICFwYXRoLmxlbmd0aDtcbiAgdmFyIG5hbWVzcGFjZSA9IHN0b3JlLl9tb2R1bGVzLmdldE5hbWVzcGFjZShwYXRoKTtcblxuICAvLyByZWdpc3RlciBpbiBuYW1lc3BhY2UgbWFwXG4gIGlmIChtb2R1bGUubmFtZXNwYWNlZCkge1xuICAgIGlmIChzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gZHVwbGljYXRlIG5hbWVzcGFjZSBcIiArIG5hbWVzcGFjZSArIFwiIGZvciB0aGUgbmFtZXNwYWNlZCBtb2R1bGUgXCIgKyAocGF0aC5qb2luKCcvJykpKSk7XG4gICAgfVxuICAgIHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBtb2R1bGU7XG4gIH1cblxuICAvLyBzZXQgc3RhdGVcbiAgaWYgKCFpc1Jvb3QgJiYgIWhvdCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHJvb3RTdGF0ZSwgcGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIHZhciBtb2R1bGVOYW1lID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaWYgKG1vZHVsZU5hbWUgaW4gcGFyZW50U3RhdGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAoXCJbdnVleF0gc3RhdGUgZmllbGQgXFxcIlwiICsgbW9kdWxlTmFtZSArIFwiXFxcIiB3YXMgb3ZlcnJpZGRlbiBieSBhIG1vZHVsZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXQgXFxcIlwiICsgKHBhdGguam9pbignLicpKSArIFwiXFxcIlwiKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBhcmVudFN0YXRlW21vZHVsZU5hbWVdID0gbW9kdWxlLnN0YXRlO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxvY2FsID0gbW9kdWxlLmNvbnRleHQgPSBtYWtlTG9jYWxDb250ZXh0KHN0b3JlLCBuYW1lc3BhY2UsIHBhdGgpO1xuXG4gIG1vZHVsZS5mb3JFYWNoTXV0YXRpb24oZnVuY3Rpb24gKG11dGF0aW9uLCBrZXkpIHtcbiAgICB2YXIgbmFtZXNwYWNlZFR5cGUgPSBuYW1lc3BhY2UgKyBrZXk7XG4gICAgcmVnaXN0ZXJNdXRhdGlvbihzdG9yZSwgbmFtZXNwYWNlZFR5cGUsIG11dGF0aW9uLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQWN0aW9uKGZ1bmN0aW9uIChhY3Rpb24sIGtleSkge1xuICAgIHZhciB0eXBlID0gYWN0aW9uLnJvb3QgPyBrZXkgOiBuYW1lc3BhY2UgKyBrZXk7XG4gICAgdmFyIGhhbmRsZXIgPSBhY3Rpb24uaGFuZGxlciB8fCBhY3Rpb247XG4gICAgcmVnaXN0ZXJBY3Rpb24oc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKTtcbiAgfSk7XG5cbiAgbW9kdWxlLmZvckVhY2hHZXR0ZXIoZnVuY3Rpb24gKGdldHRlciwga2V5KSB7XG4gICAgdmFyIG5hbWVzcGFjZWRUeXBlID0gbmFtZXNwYWNlICsga2V5O1xuICAgIHJlZ2lzdGVyR2V0dGVyKHN0b3JlLCBuYW1lc3BhY2VkVHlwZSwgZ2V0dGVyLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24gKGNoaWxkLCBrZXkpIHtcbiAgICBpbnN0YWxsTW9kdWxlKHN0b3JlLCByb290U3RhdGUsIHBhdGguY29uY2F0KGtleSksIGNoaWxkLCBob3QpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBtYWtlIGxvY2FsaXplZCBkaXNwYXRjaCwgY29tbWl0LCBnZXR0ZXJzIGFuZCBzdGF0ZVxuICogaWYgdGhlcmUgaXMgbm8gbmFtZXNwYWNlLCBqdXN0IHVzZSByb290IG9uZXNcbiAqL1xuZnVuY3Rpb24gbWFrZUxvY2FsQ29udGV4dCAoc3RvcmUsIG5hbWVzcGFjZSwgcGF0aCkge1xuICB2YXIgbm9OYW1lc3BhY2UgPSBuYW1lc3BhY2UgPT09ICcnO1xuXG4gIHZhciBsb2NhbCA9IHtcbiAgICBkaXNwYXRjaDogbm9OYW1lc3BhY2UgPyBzdG9yZS5kaXNwYXRjaCA6IGZ1bmN0aW9uIChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFyZ3MucGF5bG9hZDtcbiAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XG5cbiAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5yb290KSB7XG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFzdG9yZS5fYWN0aW9uc1t0eXBlXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbG9jYWwgYWN0aW9uIHR5cGU6IFwiICsgKGFyZ3MudHlwZSkgKyBcIiwgZ2xvYmFsIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCh0eXBlLCBwYXlsb2FkKVxuICAgIH0sXG5cbiAgICBjb21taXQ6IG5vTmFtZXNwYWNlID8gc3RvcmUuY29tbWl0IDogZnVuY3Rpb24gKF90eXBlLCBfcGF5bG9hZCwgX29wdGlvbnMpIHtcbiAgICAgIHZhciBhcmdzID0gdW5pZnlPYmplY3RTdHlsZShfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKTtcbiAgICAgIHZhciBwYXlsb2FkID0gYXJncy5wYXlsb2FkO1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmdzLm9wdGlvbnM7XG4gICAgICB2YXIgdHlwZSA9IGFyZ3MudHlwZTtcblxuICAgICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnJvb3QpIHtcbiAgICAgICAgdHlwZSA9IG5hbWVzcGFjZSArIHR5cGU7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXN0b3JlLl9tdXRhdGlvbnNbdHlwZV0pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGxvY2FsIG11dGF0aW9uIHR5cGU6IFwiICsgKGFyZ3MudHlwZSkgKyBcIiwgZ2xvYmFsIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmNvbW1pdCh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gZ2V0dGVycyBhbmQgc3RhdGUgb2JqZWN0IG11c3QgYmUgZ290dGVuIGxhemlseVxuICAvLyBiZWNhdXNlIHRoZXkgd2lsbCBiZSBjaGFuZ2VkIGJ5IHN0YXRlIHVwZGF0ZVxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsb2NhbCwge1xuICAgIGdldHRlcnM6IHtcbiAgICAgIGdldDogbm9OYW1lc3BhY2VcbiAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXR0ZXJzOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZUxvY2FsR2V0dGVycyhzdG9yZSwgbmFtZXNwYWNlKTsgfVxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0TmVzdGVkU3RhdGUoc3RvcmUuc3RhdGUsIHBhdGgpOyB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbG9jYWxcbn1cblxuZnVuY3Rpb24gbWFrZUxvY2FsR2V0dGVycyAoc3RvcmUsIG5hbWVzcGFjZSkge1xuICBpZiAoIXN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSkge1xuICAgIHZhciBnZXR0ZXJzUHJveHkgPSB7fTtcbiAgICB2YXIgc3BsaXRQb3MgPSBuYW1lc3BhY2UubGVuZ3RoO1xuICAgIE9iamVjdC5rZXlzKHN0b3JlLmdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIC8vIHNraXAgaWYgdGhlIHRhcmdldCBnZXR0ZXIgaXMgbm90IG1hdGNoIHRoaXMgbmFtZXNwYWNlXG4gICAgICBpZiAodHlwZS5zbGljZSgwLCBzcGxpdFBvcykgIT09IG5hbWVzcGFjZSkgeyByZXR1cm4gfVxuXG4gICAgICAvLyBleHRyYWN0IGxvY2FsIGdldHRlciB0eXBlXG4gICAgICB2YXIgbG9jYWxUeXBlID0gdHlwZS5zbGljZShzcGxpdFBvcyk7XG5cbiAgICAgIC8vIEFkZCBhIHBvcnQgdG8gdGhlIGdldHRlcnMgcHJveHkuXG4gICAgICAvLyBEZWZpbmUgYXMgZ2V0dGVyIHByb3BlcnR5IGJlY2F1c2VcbiAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGV2YWx1YXRlIHRoZSBnZXR0ZXJzIGluIHRoaXMgdGltZS5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnZXR0ZXJzUHJveHksIGxvY2FsVHlwZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3JlLmdldHRlcnNbdHlwZV07IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSA9IGdldHRlcnNQcm94eTtcbiAgfVxuXG4gIHJldHVybiBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlW25hbWVzcGFjZV1cbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJNdXRhdGlvbiAoc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKSB7XG4gIHZhciBlbnRyeSA9IHN0b3JlLl9tdXRhdGlvbnNbdHlwZV0gfHwgKHN0b3JlLl9tdXRhdGlvbnNbdHlwZV0gPSBbXSk7XG4gIGVudHJ5LnB1c2goZnVuY3Rpb24gd3JhcHBlZE11dGF0aW9uSGFuZGxlciAocGF5bG9hZCkge1xuICAgIGhhbmRsZXIuY2FsbChzdG9yZSwgbG9jYWwuc3RhdGUsIHBheWxvYWQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb24gKHN0b3JlLCB0eXBlLCBoYW5kbGVyLCBsb2NhbCkge1xuICB2YXIgZW50cnkgPSBzdG9yZS5fYWN0aW9uc1t0eXBlXSB8fCAoc3RvcmUuX2FjdGlvbnNbdHlwZV0gPSBbXSk7XG4gIGVudHJ5LnB1c2goZnVuY3Rpb24gd3JhcHBlZEFjdGlvbkhhbmRsZXIgKHBheWxvYWQpIHtcbiAgICB2YXIgcmVzID0gaGFuZGxlci5jYWxsKHN0b3JlLCB7XG4gICAgICBkaXNwYXRjaDogbG9jYWwuZGlzcGF0Y2gsXG4gICAgICBjb21taXQ6IGxvY2FsLmNvbW1pdCxcbiAgICAgIGdldHRlcnM6IGxvY2FsLmdldHRlcnMsXG4gICAgICBzdGF0ZTogbG9jYWwuc3RhdGUsXG4gICAgICByb290R2V0dGVyczogc3RvcmUuZ2V0dGVycyxcbiAgICAgIHJvb3RTdGF0ZTogc3RvcmUuc3RhdGVcbiAgICB9LCBwYXlsb2FkKTtcbiAgICBpZiAoIWlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMgPSBQcm9taXNlLnJlc29sdmUocmVzKTtcbiAgICB9XG4gICAgaWYgKHN0b3JlLl9kZXZ0b29sSG9vaykge1xuICAgICAgcmV0dXJuIHJlcy5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHN0b3JlLl9kZXZ0b29sSG9vay5lbWl0KCd2dWV4OmVycm9yJywgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJHZXR0ZXIgKHN0b3JlLCB0eXBlLCByYXdHZXR0ZXIsIGxvY2FsKSB7XG4gIGlmIChzdG9yZS5fd3JhcHBlZEdldHRlcnNbdHlwZV0pIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBkdXBsaWNhdGUgZ2V0dGVyIGtleTogXCIgKyB0eXBlKSk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIHN0b3JlLl93cmFwcGVkR2V0dGVyc1t0eXBlXSA9IGZ1bmN0aW9uIHdyYXBwZWRHZXR0ZXIgKHN0b3JlKSB7XG4gICAgcmV0dXJuIHJhd0dldHRlcihcbiAgICAgIGxvY2FsLnN0YXRlLCAvLyBsb2NhbCBzdGF0ZVxuICAgICAgbG9jYWwuZ2V0dGVycywgLy8gbG9jYWwgZ2V0dGVyc1xuICAgICAgc3RvcmUuc3RhdGUsIC8vIHJvb3Qgc3RhdGVcbiAgICAgIHN0b3JlLmdldHRlcnMgLy8gcm9vdCBnZXR0ZXJzXG4gICAgKVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbmFibGVTdHJpY3RNb2RlIChzdG9yZSkge1xuICB3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5fc3RhdGUuZGF0YTsgfSwgZnVuY3Rpb24gKCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGFzc2VydChzdG9yZS5fY29tbWl0dGluZywgXCJkbyBub3QgbXV0YXRlIHZ1ZXggc3RvcmUgc3RhdGUgb3V0c2lkZSBtdXRhdGlvbiBoYW5kbGVycy5cIik7XG4gICAgfVxuICB9LCB7IGRlZXA6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE5lc3RlZFN0YXRlIChzdGF0ZSwgcGF0aCkge1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlLCBrZXkpIHsgcmV0dXJuIHN0YXRlW2tleV07IH0sIHN0YXRlKVxufVxuXG5mdW5jdGlvbiB1bmlmeU9iamVjdFN0eWxlICh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKSB7XG4gIGlmIChpc09iamVjdCh0eXBlKSAmJiB0eXBlLnR5cGUpIHtcbiAgICBvcHRpb25zID0gcGF5bG9hZDtcbiAgICBwYXlsb2FkID0gdHlwZTtcbiAgICB0eXBlID0gdHlwZS50eXBlO1xuICB9XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycsIChcImV4cGVjdHMgc3RyaW5nIGFzIHRoZSB0eXBlLCBidXQgZm91bmQgXCIgKyAodHlwZW9mIHR5cGUpICsgXCIuXCIpKTtcbiAgfVxuXG4gIHJldHVybiB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQsIG9wdGlvbnM6IG9wdGlvbnMgfVxufVxuXG52YXIgTEFCRUxfVlVFWF9CSU5ESU5HUyA9ICd2dWV4IGJpbmRpbmdzJztcbnZhciBNVVRBVElPTlNfTEFZRVJfSUQgPSAndnVleDptdXRhdGlvbnMnO1xudmFyIEFDVElPTlNfTEFZRVJfSUQgPSAndnVleDphY3Rpb25zJztcbnZhciBJTlNQRUNUT1JfSUQgPSAndnVleCc7XG5cbnZhciBhY3Rpb25JZCA9IDA7XG5cbmZ1bmN0aW9uIGFkZERldnRvb2xzIChhcHAsIHN0b3JlKSB7XG4gIHNldHVwRGV2dG9vbHNQbHVnaW4oXG4gICAge1xuICAgICAgaWQ6ICdvcmcudnVlanMudnVleCcsXG4gICAgICBhcHA6IGFwcCxcbiAgICAgIGxhYmVsOiAnVnVleCcsXG4gICAgICBob21lcGFnZTogJ2h0dHBzOi8vbmV4dC52dWV4LnZ1ZWpzLm9yZy8nLFxuICAgICAgbG9nbzogJ2h0dHBzOi8vdnVlanMub3JnL2ltYWdlcy9pY29ucy9mYXZpY29uLTk2eDk2LnBuZycsXG4gICAgICBwYWNrYWdlTmFtZTogJ3Z1ZXgnLFxuICAgICAgY29tcG9uZW50U3RhdGVUeXBlczogW0xBQkVMX1ZVRVhfQklORElOR1NdXG4gICAgfSxcbiAgICBmdW5jdGlvbiAoYXBpKSB7XG4gICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgIGxhYmVsOiAnVnVleCBNdXRhdGlvbnMnLFxuICAgICAgICBjb2xvcjogQ09MT1JfTElNRV81MDBcbiAgICAgIH0pO1xuXG4gICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIGlkOiBBQ1RJT05TX0xBWUVSX0lELFxuICAgICAgICBsYWJlbDogJ1Z1ZXggQWN0aW9ucycsXG4gICAgICAgIGNvbG9yOiBDT0xPUl9MSU1FXzUwMFxuICAgICAgfSk7XG5cbiAgICAgIGFwaS5hZGRJbnNwZWN0b3Ioe1xuICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICBsYWJlbDogJ1Z1ZXgnLFxuICAgICAgICBpY29uOiAnc3RvcmFnZScsXG4gICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ0ZpbHRlciBzdG9yZXMuLi4nXG4gICAgICB9KTtcblxuICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgICAgICAgIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUobm9kZXMsIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHBheWxvYWQuZmlsdGVyLCAnJyk7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IG5vZGVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IFtcbiAgICAgICAgICAgICAgZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlLl9tb2R1bGVzLnJvb3QsICcnKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgdmFyIG1vZHVsZVBhdGggPSBwYXlsb2FkLm5vZGVJZDtcbiAgICAgICAgICBtYWtlTG9jYWxHZXR0ZXJzKHN0b3JlLCBtb2R1bGVQYXRoKTtcbiAgICAgICAgICBwYXlsb2FkLnN0YXRlID0gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShcbiAgICAgICAgICAgIGdldFN0b3JlTW9kdWxlKHN0b3JlLl9tb2R1bGVzLCBtb2R1bGVQYXRoKSxcbiAgICAgICAgICAgIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUsXG4gICAgICAgICAgICBtb2R1bGVQYXRoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgdmFyIG1vZHVsZVBhdGggPSBwYXlsb2FkLm5vZGVJZDtcbiAgICAgICAgICB2YXIgcGF0aCA9IHBheWxvYWQucGF0aDtcbiAgICAgICAgICBpZiAobW9kdWxlUGF0aCAhPT0gJ3Jvb3QnKSB7XG4gICAgICAgICAgICBwYXRoID0gbW9kdWxlUGF0aC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKS5jb25jYXQoIHBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdG9yZS5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnNldChzdG9yZS5fc3RhdGUuZGF0YSwgcGF0aCwgcGF5bG9hZC5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgICAgIGlmIChtdXRhdGlvbi5wYXlsb2FkKSB7XG4gICAgICAgICAgZGF0YS5wYXlsb2FkID0gbXV0YXRpb24ucGF5bG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuc3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG5cbiAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHRpdGxlOiBtdXRhdGlvbi50eXBlLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgc3RvcmUuc3Vic2NyaWJlQWN0aW9uKHtcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkge1xuICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkKSB7XG4gICAgICAgICAgICBkYXRhLnBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aW9uLl9pZCA9IGFjdGlvbklkKys7XG4gICAgICAgICAgYWN0aW9uLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICBkYXRhLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICBsYXllcklkOiBBQ1RJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgdGltZTogYWN0aW9uLl90aW1lLFxuICAgICAgICAgICAgICB0aXRsZTogYWN0aW9uLnR5cGUsXG4gICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGlvbi5faWQsXG4gICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyOiBmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkge1xuICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgdmFyIGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIGFjdGlvbi5fdGltZTtcbiAgICAgICAgICBkYXRhLmR1cmF0aW9uID0ge1xuICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICB0eXBlOiAnZHVyYXRpb24nLFxuICAgICAgICAgICAgICBkaXNwbGF5OiAoZHVyYXRpb24gKyBcIm1zXCIpLFxuICAgICAgICAgICAgICB0b29sdGlwOiAnQWN0aW9uIGR1cmF0aW9uJyxcbiAgICAgICAgICAgICAgdmFsdWU6IGR1cmF0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQpIHtcbiAgICAgICAgICAgIGRhdGEucGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICBsYXllcklkOiBBQ1RJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgdGl0bGU6IGFjdGlvbi50eXBlLFxuICAgICAgICAgICAgICBncm91cElkOiBhY3Rpb24uX2lkLFxuICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2VuZCcsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICApO1xufVxuXG4vLyBleHRyYWN0ZWQgZnJvbSB0YWlsd2luZCBwYWxldHRlXG52YXIgQ09MT1JfTElNRV81MDAgPSAweDg0Y2MxNjtcbnZhciBDT0xPUl9EQVJLID0gMHg2NjY2NjY7XG52YXIgQ09MT1JfV0hJVEUgPSAweGZmZmZmZjtcblxudmFyIFRBR19OQU1FU1BBQ0VEID0ge1xuICBsYWJlbDogJ25hbWVzcGFjZWQnLFxuICB0ZXh0Q29sb3I6IENPTE9SX1dISVRFLFxuICBiYWNrZ3JvdW5kQ29sb3I6IENPTE9SX0RBUktcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdE5hbWVGcm9tUGF0aCAocGF0aCkge1xuICByZXR1cm4gcGF0aCAmJiBwYXRoICE9PSAncm9vdCcgPyBwYXRoLnNwbGl0KCcvJykuc2xpY2UoLTIsIC0xKVswXSA6ICdSb290J1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gbW9kdWxlXG4gKiBAcmV0dXJuIHtpbXBvcnQoJ0B2dWUvZGV2dG9vbHMtYXBpJykuQ3VzdG9tSW5zcGVjdG9yTm9kZX1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlIChtb2R1bGUsIHBhdGgpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcGF0aCB8fCAncm9vdCcsXG4gICAgLy8gYWxsIG1vZHVsZXMgZW5kIHdpdGggYSBgL2AsIHdlIHdhbnQgdGhlIGxhc3Qgc2VnbWVudCBvbmx5XG4gICAgLy8gY2FydC8gLT4gY2FydFxuICAgIC8vIG5lc3RlZC9jYXJ0LyAtPiBjYXJ0XG4gICAgbGFiZWw6IGV4dHJhY3ROYW1lRnJvbVBhdGgocGF0aCksXG4gICAgdGFnczogbW9kdWxlLm5hbWVzcGFjZWQgPyBbVEFHX05BTUVTUEFDRURdIDogW10sXG4gICAgY2hpbGRyZW46IE9iamVjdC5rZXlzKG1vZHVsZS5fY2hpbGRyZW4pLm1hcChmdW5jdGlvbiAobW9kdWxlTmFtZSkgeyByZXR1cm4gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKFxuICAgICAgICBtb2R1bGUuX2NoaWxkcmVuW21vZHVsZU5hbWVdLFxuICAgICAgICBwYXRoICsgbW9kdWxlTmFtZSArICcvJ1xuICAgICAgKTsgfVxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCdAdnVlL2RldnRvb2xzLWFwaScpLkN1c3RvbUluc3BlY3Rvck5vZGVbXX0gcmVzdWx0XG4gKiBAcGFyYW0geyp9IG1vZHVsZVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAqL1xuZnVuY3Rpb24gZmxhdHRlblN0b3JlRm9ySW5zcGVjdG9yVHJlZSAocmVzdWx0LCBtb2R1bGUsIGZpbHRlciwgcGF0aCkge1xuICBpZiAocGF0aC5pbmNsdWRlcyhmaWx0ZXIpKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgaWQ6IHBhdGggfHwgJ3Jvb3QnLFxuICAgICAgbGFiZWw6IHBhdGguZW5kc1dpdGgoJy8nKSA/IHBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKSA6IHBhdGggfHwgJ1Jvb3QnLFxuICAgICAgdGFnczogbW9kdWxlLm5hbWVzcGFjZWQgPyBbVEFHX05BTUVTUEFDRURdIDogW11cbiAgICB9KTtcbiAgfVxuICBPYmplY3Qua2V5cyhtb2R1bGUuX2NoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XG4gICAgZmxhdHRlblN0b3JlRm9ySW5zcGVjdG9yVHJlZShyZXN1bHQsIG1vZHVsZS5fY2hpbGRyZW5bbW9kdWxlTmFtZV0sIGZpbHRlciwgcGF0aCArIG1vZHVsZU5hbWUgKyAnLycpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IG1vZHVsZVxuICogQHJldHVybiB7aW1wb3J0KCdAdnVlL2RldnRvb2xzLWFwaScpLkN1c3RvbUluc3BlY3RvclN0YXRlfVxuICovXG5mdW5jdGlvbiBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlIChtb2R1bGUsIGdldHRlcnMsIHBhdGgpIHtcbiAgZ2V0dGVycyA9IHBhdGggPT09ICdyb290JyA/IGdldHRlcnMgOiBnZXR0ZXJzW3BhdGhdO1xuICB2YXIgZ2V0dGVyc0tleXMgPSBPYmplY3Qua2V5cyhnZXR0ZXJzKTtcbiAgdmFyIHN0b3JlU3RhdGUgPSB7XG4gICAgc3RhdGU6IE9iamVjdC5rZXlzKG1vZHVsZS5zdGF0ZSkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG1vZHVsZS5zdGF0ZVtrZXldXG4gICAgfSk7IH0pXG4gIH07XG5cbiAgaWYgKGdldHRlcnNLZXlzLmxlbmd0aCkge1xuICAgIHN0b3JlU3RhdGUuZ2V0dGVycyA9IGdldHRlcnNLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoe1xuICAgICAga2V5OiBrZXkuZW5kc1dpdGgoJy8nKSA/IGV4dHJhY3ROYW1lRnJvbVBhdGgoa2V5KSA6IGtleSxcbiAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBnZXR0ZXJzW2tleV1cbiAgICB9KTsgfSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmVTdGF0ZVxufVxuXG5mdW5jdGlvbiBnZXRTdG9yZU1vZHVsZSAobW9kdWxlTWFwLCBwYXRoKSB7XG4gIHZhciBuYW1lcyA9IHBhdGguc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG47IH0pO1xuICByZXR1cm4gbmFtZXMucmVkdWNlKFxuICAgIGZ1bmN0aW9uIChtb2R1bGUsIG1vZHVsZU5hbWUsIGkpIHtcbiAgICAgIHZhciBjaGlsZCA9IG1vZHVsZVttb2R1bGVOYW1lXTtcbiAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIk1pc3NpbmcgbW9kdWxlIFxcXCJcIiArIG1vZHVsZU5hbWUgKyBcIlxcXCIgZm9yIHBhdGggXFxcIlwiICsgcGF0aCArIFwiXFxcIi5cIikpXG4gICAgICB9XG4gICAgICByZXR1cm4gaSA9PT0gbmFtZXMubGVuZ3RoIC0gMSA/IGNoaWxkIDogY2hpbGQuX2NoaWxkcmVuXG4gICAgfSxcbiAgICBwYXRoID09PSAncm9vdCcgPyBtb2R1bGVNYXAgOiBtb2R1bGVNYXAucm9vdC5fY2hpbGRyZW5cbiAgKVxufVxuXG4vLyBCYXNlIGRhdGEgc3RydWN0IGZvciBzdG9yZSdzIG1vZHVsZSwgcGFja2FnZSB3aXRoIHNvbWUgYXR0cmlidXRlIGFuZCBtZXRob2RcbnZhciBNb2R1bGUgPSBmdW5jdGlvbiBNb2R1bGUgKHJhd01vZHVsZSwgcnVudGltZSkge1xuICB0aGlzLnJ1bnRpbWUgPSBydW50aW1lO1xuICAvLyBTdG9yZSBzb21lIGNoaWxkcmVuIGl0ZW1cbiAgdGhpcy5fY2hpbGRyZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBTdG9yZSB0aGUgb3JpZ2luIG1vZHVsZSBvYmplY3Qgd2hpY2ggcGFzc2VkIGJ5IHByb2dyYW1tZXJcbiAgdGhpcy5fcmF3TW9kdWxlID0gcmF3TW9kdWxlO1xuICB2YXIgcmF3U3RhdGUgPSByYXdNb2R1bGUuc3RhdGU7XG5cbiAgLy8gU3RvcmUgdGhlIG9yaWdpbiBtb2R1bGUncyBzdGF0ZVxuICB0aGlzLnN0YXRlID0gKHR5cGVvZiByYXdTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IHJhd1N0YXRlKCkgOiByYXdTdGF0ZSkgfHwge307XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IG5hbWVzcGFjZWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEubmFtZXNwYWNlZC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIXRoaXMuX3Jhd01vZHVsZS5uYW1lc3BhY2VkXG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQgKGtleSwgbW9kdWxlKSB7XG4gIHRoaXMuX2NoaWxkcmVuW2tleV0gPSBtb2R1bGU7XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKGtleSkge1xuICBkZWxldGUgdGhpcy5fY2hpbGRyZW5ba2V5XTtcbn07XG5cbk1vZHVsZS5wcm90b3R5cGUuZ2V0Q2hpbGQgPSBmdW5jdGlvbiBnZXRDaGlsZCAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9jaGlsZHJlbltrZXldXG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmhhc0NoaWxkID0gZnVuY3Rpb24gaGFzQ2hpbGQgKGtleSkge1xuICByZXR1cm4ga2V5IGluIHRoaXMuX2NoaWxkcmVuXG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAocmF3TW9kdWxlKSB7XG4gIHRoaXMuX3Jhd01vZHVsZS5uYW1lc3BhY2VkID0gcmF3TW9kdWxlLm5hbWVzcGFjZWQ7XG4gIGlmIChyYXdNb2R1bGUuYWN0aW9ucykge1xuICAgIHRoaXMuX3Jhd01vZHVsZS5hY3Rpb25zID0gcmF3TW9kdWxlLmFjdGlvbnM7XG4gIH1cbiAgaWYgKHJhd01vZHVsZS5tdXRhdGlvbnMpIHtcbiAgICB0aGlzLl9yYXdNb2R1bGUubXV0YXRpb25zID0gcmF3TW9kdWxlLm11dGF0aW9ucztcbiAgfVxuICBpZiAocmF3TW9kdWxlLmdldHRlcnMpIHtcbiAgICB0aGlzLl9yYXdNb2R1bGUuZ2V0dGVycyA9IHJhd01vZHVsZS5nZXR0ZXJzO1xuICB9XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hDaGlsZCA9IGZ1bmN0aW9uIGZvckVhY2hDaGlsZCAoZm4pIHtcbiAgZm9yRWFjaFZhbHVlKHRoaXMuX2NoaWxkcmVuLCBmbik7XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hHZXR0ZXIgPSBmdW5jdGlvbiBmb3JFYWNoR2V0dGVyIChmbikge1xuICBpZiAodGhpcy5fcmF3TW9kdWxlLmdldHRlcnMpIHtcbiAgICBmb3JFYWNoVmFsdWUodGhpcy5fcmF3TW9kdWxlLmdldHRlcnMsIGZuKTtcbiAgfVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoQWN0aW9uID0gZnVuY3Rpb24gZm9yRWFjaEFjdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5hY3Rpb25zKSB7XG4gICAgZm9yRWFjaFZhbHVlKHRoaXMuX3Jhd01vZHVsZS5hY3Rpb25zLCBmbik7XG4gIH1cbn07XG5cbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaE11dGF0aW9uID0gZnVuY3Rpb24gZm9yRWFjaE11dGF0aW9uIChmbikge1xuICBpZiAodGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucykge1xuICAgIGZvckVhY2hWYWx1ZSh0aGlzLl9yYXdNb2R1bGUubXV0YXRpb25zLCBmbik7XG4gIH1cbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBNb2R1bGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG52YXIgTW9kdWxlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIE1vZHVsZUNvbGxlY3Rpb24gKHJhd1Jvb3RNb2R1bGUpIHtcbiAgLy8gcmVnaXN0ZXIgcm9vdCBtb2R1bGUgKFZ1ZXguU3RvcmUgb3B0aW9ucylcbiAgdGhpcy5yZWdpc3RlcihbXSwgcmF3Um9vdE1vZHVsZSwgZmFsc2UpO1xufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAobW9kdWxlLCBrZXkpIHtcbiAgICByZXR1cm4gbW9kdWxlLmdldENoaWxkKGtleSlcbiAgfSwgdGhpcy5yb290KVxufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TmFtZXNwYWNlID0gZnVuY3Rpb24gZ2V0TmFtZXNwYWNlIChwYXRoKSB7XG4gIHZhciBtb2R1bGUgPSB0aGlzLnJvb3Q7XG4gIHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBrZXkpIHtcbiAgICBtb2R1bGUgPSBtb2R1bGUuZ2V0Q2hpbGQoa2V5KTtcbiAgICByZXR1cm4gbmFtZXNwYWNlICsgKG1vZHVsZS5uYW1lc3BhY2VkID8ga2V5ICsgJy8nIDogJycpXG4gIH0sICcnKVxufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlJDEgKHJhd1Jvb3RNb2R1bGUpIHtcbiAgdXBkYXRlKFtdLCB0aGlzLnJvb3QsIHJhd1Jvb3RNb2R1bGUpO1xufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlciAocGF0aCwgcmF3TW9kdWxlLCBydW50aW1lKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcbiAgICBpZiAoIHJ1bnRpbWUgPT09IHZvaWQgMCApIHJ1bnRpbWUgPSB0cnVlO1xuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnRSYXdNb2R1bGUocGF0aCwgcmF3TW9kdWxlKTtcbiAgfVxuXG4gIHZhciBuZXdNb2R1bGUgPSBuZXcgTW9kdWxlKHJhd01vZHVsZSwgcnVudGltZSk7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMucm9vdCA9IG5ld01vZHVsZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXQocGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIHBhcmVudC5hZGRDaGlsZChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIG5ld01vZHVsZSk7XG4gIH1cblxuICAvLyByZWdpc3RlciBuZXN0ZWQgbW9kdWxlc1xuICBpZiAocmF3TW9kdWxlLm1vZHVsZXMpIHtcbiAgICBmb3JFYWNoVmFsdWUocmF3TW9kdWxlLm1vZHVsZXMsIGZ1bmN0aW9uIChyYXdDaGlsZE1vZHVsZSwga2V5KSB7XG4gICAgICB0aGlzJDEkMS5yZWdpc3RlcihwYXRoLmNvbmNhdChrZXkpLCByYXdDaGlsZE1vZHVsZSwgcnVudGltZSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyIChwYXRoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLmdldChwYXRoLnNsaWNlKDAsIC0xKSk7XG4gIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIHZhciBjaGlsZCA9IHBhcmVudC5nZXRDaGlsZChrZXkpO1xuXG4gIGlmICghY2hpbGQpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW3Z1ZXhdIHRyeWluZyB0byB1bnJlZ2lzdGVyIG1vZHVsZSAnXCIgKyBrZXkgKyBcIicsIHdoaWNoIGlzIFwiICtcbiAgICAgICAgXCJub3QgcmVnaXN0ZXJlZFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICghY2hpbGQucnVudGltZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcGFyZW50LnJlbW92ZUNoaWxkKGtleSk7XG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQgPSBmdW5jdGlvbiBpc1JlZ2lzdGVyZWQgKHBhdGgpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgdmFyIGtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcmV0dXJuIHBhcmVudC5oYXNDaGlsZChrZXkpXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZSAocGF0aCwgdGFyZ2V0TW9kdWxlLCBuZXdNb2R1bGUpIHtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydFJhd01vZHVsZShwYXRoLCBuZXdNb2R1bGUpO1xuICB9XG5cbiAgLy8gdXBkYXRlIHRhcmdldCBtb2R1bGVcbiAgdGFyZ2V0TW9kdWxlLnVwZGF0ZShuZXdNb2R1bGUpO1xuXG4gIC8vIHVwZGF0ZSBuZXN0ZWQgbW9kdWxlc1xuICBpZiAobmV3TW9kdWxlLm1vZHVsZXMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbmV3TW9kdWxlLm1vZHVsZXMpIHtcbiAgICAgIGlmICghdGFyZ2V0TW9kdWxlLmdldENoaWxkKGtleSkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiW3Z1ZXhdIHRyeWluZyB0byBhZGQgYSBuZXcgbW9kdWxlICdcIiArIGtleSArIFwiJyBvbiBob3QgcmVsb2FkaW5nLCBcIiArXG4gICAgICAgICAgICAnbWFudWFsIHJlbG9hZCBpcyBuZWVkZWQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHVwZGF0ZShcbiAgICAgICAgcGF0aC5jb25jYXQoa2V5KSxcbiAgICAgICAgdGFyZ2V0TW9kdWxlLmdldENoaWxkKGtleSksXG4gICAgICAgIG5ld01vZHVsZS5tb2R1bGVzW2tleV1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbnZhciBmdW5jdGlvbkFzc2VydCA9IHtcbiAgYXNzZXJ0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgZXhwZWN0ZWQ6ICdmdW5jdGlvbidcbn07XG5cbnZhciBvYmplY3RBc3NlcnQgPSB7XG4gIGFzc2VydDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHxcbiAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUuaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJyk7IH0sXG4gIGV4cGVjdGVkOiAnZnVuY3Rpb24gb3Igb2JqZWN0IHdpdGggXCJoYW5kbGVyXCIgZnVuY3Rpb24nXG59O1xuXG52YXIgYXNzZXJ0VHlwZXMgPSB7XG4gIGdldHRlcnM6IGZ1bmN0aW9uQXNzZXJ0LFxuICBtdXRhdGlvbnM6IGZ1bmN0aW9uQXNzZXJ0LFxuICBhY3Rpb25zOiBvYmplY3RBc3NlcnRcbn07XG5cbmZ1bmN0aW9uIGFzc2VydFJhd01vZHVsZSAocGF0aCwgcmF3TW9kdWxlKSB7XG4gIE9iamVjdC5rZXlzKGFzc2VydFR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIXJhd01vZHVsZVtrZXldKSB7IHJldHVybiB9XG5cbiAgICB2YXIgYXNzZXJ0T3B0aW9ucyA9IGFzc2VydFR5cGVzW2tleV07XG5cbiAgICBmb3JFYWNoVmFsdWUocmF3TW9kdWxlW2tleV0sIGZ1bmN0aW9uICh2YWx1ZSwgdHlwZSkge1xuICAgICAgYXNzZXJ0KFxuICAgICAgICBhc3NlcnRPcHRpb25zLmFzc2VydCh2YWx1ZSksXG4gICAgICAgIG1ha2VBc3NlcnRpb25NZXNzYWdlKHBhdGgsIGtleSwgdHlwZSwgdmFsdWUsIGFzc2VydE9wdGlvbnMuZXhwZWN0ZWQpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzc2VydGlvbk1lc3NhZ2UgKHBhdGgsIGtleSwgdHlwZSwgdmFsdWUsIGV4cGVjdGVkKSB7XG4gIHZhciBidWYgPSBrZXkgKyBcIiBzaG91bGQgYmUgXCIgKyBleHBlY3RlZCArIFwiIGJ1dCBcXFwiXCIgKyBrZXkgKyBcIi5cIiArIHR5cGUgKyBcIlxcXCJcIjtcbiAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgIGJ1ZiArPSBcIiBpbiBtb2R1bGUgXFxcIlwiICsgKHBhdGguam9pbignLicpKSArIFwiXFxcIlwiO1xuICB9XG4gIGJ1ZiArPSBcIiBpcyBcIiArIChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpICsgXCIuXCI7XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUgKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBTdG9yZShvcHRpb25zKVxufVxuXG52YXIgU3RvcmUgPSBmdW5jdGlvbiBTdG9yZSAob3B0aW9ucykge1xuICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJywgXCJ2dWV4IHJlcXVpcmVzIGEgUHJvbWlzZSBwb2x5ZmlsbCBpbiB0aGlzIGJyb3dzZXIuXCIpO1xuICAgIGFzc2VydCh0aGlzIGluc3RhbmNlb2YgU3RvcmUsIFwic3RvcmUgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yLlwiKTtcbiAgfVxuXG4gIHZhciBwbHVnaW5zID0gb3B0aW9ucy5wbHVnaW5zOyBpZiAoIHBsdWdpbnMgPT09IHZvaWQgMCApIHBsdWdpbnMgPSBbXTtcbiAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0OyBpZiAoIHN0cmljdCA9PT0gdm9pZCAwICkgc3RyaWN0ID0gZmFsc2U7XG4gIHZhciBkZXZ0b29scyA9IG9wdGlvbnMuZGV2dG9vbHM7XG5cbiAgLy8gc3RvcmUgaW50ZXJuYWwgc3RhdGVcbiAgdGhpcy5fY29tbWl0dGluZyA9IGZhbHNlO1xuICB0aGlzLl9hY3Rpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnMgPSBbXTtcbiAgdGhpcy5fbXV0YXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fd3JhcHBlZEdldHRlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl9tb2R1bGVzID0gbmV3IE1vZHVsZUNvbGxlY3Rpb24ob3B0aW9ucyk7XG4gIHRoaXMuX21vZHVsZXNOYW1lc3BhY2VNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuICB0aGlzLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl9kZXZ0b29scyA9IGRldnRvb2xzO1xuXG4gIC8vIGJpbmQgY29tbWl0IGFuZCBkaXNwYXRjaCB0byBzZWxmXG4gIHZhciBzdG9yZSA9IHRoaXM7XG4gIHZhciByZWYgPSB0aGlzO1xuICB2YXIgZGlzcGF0Y2ggPSByZWYuZGlzcGF0Y2g7XG4gIHZhciBjb21taXQgPSByZWYuY29tbWl0O1xuICB0aGlzLmRpc3BhdGNoID0gZnVuY3Rpb24gYm91bmREaXNwYXRjaCAodHlwZSwgcGF5bG9hZCkge1xuICAgIHJldHVybiBkaXNwYXRjaC5jYWxsKHN0b3JlLCB0eXBlLCBwYXlsb2FkKVxuICB9O1xuICB0aGlzLmNvbW1pdCA9IGZ1bmN0aW9uIGJvdW5kQ29tbWl0ICh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNvbW1pdC5jYWxsKHN0b3JlLCB0eXBlLCBwYXlsb2FkLCBvcHRpb25zKVxuICB9O1xuXG4gIC8vIHN0cmljdCBtb2RlXG4gIHRoaXMuc3RyaWN0ID0gc3RyaWN0O1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX21vZHVsZXMucm9vdC5zdGF0ZTtcblxuICAvLyBpbml0IHJvb3QgbW9kdWxlLlxuICAvLyB0aGlzIGFsc28gcmVjdXJzaXZlbHkgcmVnaXN0ZXJzIGFsbCBzdWItbW9kdWxlc1xuICAvLyBhbmQgY29sbGVjdHMgYWxsIG1vZHVsZSBnZXR0ZXJzIGluc2lkZSB0aGlzLl93cmFwcGVkR2V0dGVyc1xuICBpbnN0YWxsTW9kdWxlKHRoaXMsIHN0YXRlLCBbXSwgdGhpcy5fbW9kdWxlcy5yb290KTtcblxuICAvLyBpbml0aWFsaXplIHRoZSBzdG9yZSBzdGF0ZSwgd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHRoZSByZWFjdGl2aXR5XG4gIC8vIChhbHNvIHJlZ2lzdGVycyBfd3JhcHBlZEdldHRlcnMgYXMgY29tcHV0ZWQgcHJvcGVydGllcylcbiAgcmVzZXRTdG9yZVN0YXRlKHRoaXMsIHN0YXRlKTtcblxuICAvLyBhcHBseSBwbHVnaW5zXG4gIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7IHJldHVybiBwbHVnaW4odGhpcyQxJDEpOyB9KTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHN0YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cblN0b3JlLnByb3RvdHlwZS5pbnN0YWxsID0gZnVuY3Rpb24gaW5zdGFsbCAoYXBwLCBpbmplY3RLZXkpIHtcbiAgYXBwLnByb3ZpZGUoaW5qZWN0S2V5IHx8IHN0b3JlS2V5LCB0aGlzKTtcbiAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRzdG9yZSA9IHRoaXM7XG5cbiAgdmFyIHVzZURldnRvb2xzID0gdGhpcy5fZGV2dG9vbHMgIT09IHVuZGVmaW5lZFxuICAgID8gdGhpcy5fZGV2dG9vbHNcbiAgICA6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX187XG5cbiAgaWYgKHVzZURldnRvb2xzKSB7XG4gICAgYWRkRGV2dG9vbHMoYXBwLCB0aGlzKTtcbiAgfVxufTtcblxucHJvdG90eXBlQWNjZXNzb3JzLnN0YXRlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YXRlLmRhdGFcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5zdGF0ZS5zZXQgPSBmdW5jdGlvbiAodikge1xuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KGZhbHNlLCBcInVzZSBzdG9yZS5yZXBsYWNlU3RhdGUoKSB0byBleHBsaWNpdCByZXBsYWNlIHN0b3JlIHN0YXRlLlwiKTtcbiAgfVxufTtcblxuU3RvcmUucHJvdG90eXBlLmNvbW1pdCA9IGZ1bmN0aW9uIGNvbW1pdCAoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgLy8gY2hlY2sgb2JqZWN0LXN0eWxlIGNvbW1pdFxuICB2YXIgcmVmID0gdW5pZnlPYmplY3RTdHlsZShfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKTtcbiAgICB2YXIgdHlwZSA9IHJlZi50eXBlO1xuICAgIHZhciBwYXlsb2FkID0gcmVmLnBheWxvYWQ7XG4gICAgdmFyIG9wdGlvbnMgPSByZWYub3B0aW9ucztcblxuICB2YXIgbXV0YXRpb24gPSB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQgfTtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fbXV0YXRpb25zW3R5cGVdO1xuICBpZiAoIWVudHJ5KSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBtdXRhdGlvbiB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgZW50cnkuZm9yRWFjaChmdW5jdGlvbiBjb21taXRJdGVyYXRvciAoaGFuZGxlcikge1xuICAgICAgaGFuZGxlcihwYXlsb2FkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGhpcy5fc3Vic2NyaWJlcnNcbiAgICAuc2xpY2UoKSAvLyBzaGFsbG93IGNvcHkgdG8gcHJldmVudCBpdGVyYXRvciBpbnZhbGlkYXRpb24gaWYgc3Vic2NyaWJlciBzeW5jaHJvbm91c2x5IGNhbGxzIHVuc3Vic2NyaWJlXG4gICAgLmZvckVhY2goZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViKG11dGF0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xuXG4gIGlmIChcbiAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICBvcHRpb25zICYmIG9wdGlvbnMuc2lsZW50XG4gICkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiW3Z1ZXhdIG11dGF0aW9uIHR5cGU6IFwiICsgdHlwZSArIFwiLiBTaWxlbnQgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQuIFwiICtcbiAgICAgICdVc2UgdGhlIGZpbHRlciBmdW5jdGlvbmFsaXR5IGluIHRoZSB2dWUtZGV2dG9vbHMnXG4gICAgKTtcbiAgfVxufTtcblxuU3RvcmUucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2ggKF90eXBlLCBfcGF5bG9hZCkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgLy8gY2hlY2sgb2JqZWN0LXN0eWxlIGRpc3BhdGNoXG4gIHZhciByZWYgPSB1bmlmeU9iamVjdFN0eWxlKF90eXBlLCBfcGF5bG9hZCk7XG4gICAgdmFyIHR5cGUgPSByZWYudHlwZTtcbiAgICB2YXIgcGF5bG9hZCA9IHJlZi5wYXlsb2FkO1xuXG4gIHZhciBhY3Rpb24gPSB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQgfTtcbiAgdmFyIGVudHJ5ID0gdGhpcy5fYWN0aW9uc1t0eXBlXTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gYWN0aW9uIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIHRyeSB7XG4gICAgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnNcbiAgICAgIC5zbGljZSgpIC8vIHNoYWxsb3cgY29weSB0byBwcmV2ZW50IGl0ZXJhdG9yIGludmFsaWRhdGlvbiBpZiBzdWJzY3JpYmVyIHN5bmNocm9ub3VzbHkgY2FsbHMgdW5zdWJzY3JpYmVcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmJlZm9yZTsgfSlcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmUoYWN0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGJlZm9yZSBhY3Rpb24gc3Vic2NyaWJlcnM6IFwiKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlc3VsdCA9IGVudHJ5Lmxlbmd0aCA+IDFcbiAgICA/IFByb21pc2UuYWxsKGVudHJ5Lm1hcChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gaGFuZGxlcihwYXlsb2FkKTsgfSkpXG4gICAgOiBlbnRyeVswXShwYXlsb2FkKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMkMSQxLl9hY3Rpb25TdWJzY3JpYmVyc1xuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmFmdGVyOyB9KVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5hZnRlcihhY3Rpb24sIHRoaXMkMSQxLnN0YXRlKTsgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbdnVleF0gZXJyb3IgaW4gYWZ0ZXIgYWN0aW9uIHN1YnNjcmliZXJzOiBcIik7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzb2x2ZShyZXMpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcyQxJDEuX2FjdGlvblN1YnNjcmliZXJzXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuZXJyb3I7IH0pXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmVycm9yKGFjdGlvbiwgdGhpcyQxJDEuc3RhdGUsIGVycm9yKTsgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJbdnVleF0gZXJyb3IgaW4gZXJyb3IgYWN0aW9uIHN1YnNjcmliZXJzOiBcIik7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfSlcbn07XG5cblN0b3JlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUgKGZuLCBvcHRpb25zKSB7XG4gIHJldHVybiBnZW5lcmljU3Vic2NyaWJlKGZuLCB0aGlzLl9zdWJzY3JpYmVycywgb3B0aW9ucylcbn07XG5cblN0b3JlLnByb3RvdHlwZS5zdWJzY3JpYmVBY3Rpb24gPSBmdW5jdGlvbiBzdWJzY3JpYmVBY3Rpb24gKGZuLCBvcHRpb25zKSB7XG4gIHZhciBzdWJzID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8geyBiZWZvcmU6IGZuIH0gOiBmbjtcbiAgcmV0dXJuIGdlbmVyaWNTdWJzY3JpYmUoc3VicywgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnMsIG9wdGlvbnMpXG59O1xuXG5TdG9yZS5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiB3YXRjaCQxIChnZXR0ZXIsIGNiLCBvcHRpb25zKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBnZXR0ZXIgPT09ICdmdW5jdGlvbicsIFwic3RvcmUud2F0Y2ggb25seSBhY2NlcHRzIGEgZnVuY3Rpb24uXCIpO1xuICB9XG4gIHJldHVybiB3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBnZXR0ZXIodGhpcyQxJDEuc3RhdGUsIHRoaXMkMSQxLmdldHRlcnMpOyB9LCBjYiwgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpXG59O1xuXG5TdG9yZS5wcm90b3R5cGUucmVwbGFjZVN0YXRlID0gZnVuY3Rpb24gcmVwbGFjZVN0YXRlIChzdGF0ZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgdGhpcyQxJDEuX3N0YXRlLmRhdGEgPSBzdGF0ZTtcbiAgfSk7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUucmVnaXN0ZXJNb2R1bGUgPSBmdW5jdGlvbiByZWdpc3Rlck1vZHVsZSAocGF0aCwgcmF3TW9kdWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykgeyBwYXRoID0gW3BhdGhdOyB9XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydChBcnJheS5pc0FycmF5KHBhdGgpLCBcIm1vZHVsZSBwYXRoIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gQXJyYXkuXCIpO1xuICAgIGFzc2VydChwYXRoLmxlbmd0aCA+IDAsICdjYW5ub3QgcmVnaXN0ZXIgdGhlIHJvb3QgbW9kdWxlIGJ5IHVzaW5nIHJlZ2lzdGVyTW9kdWxlLicpO1xuICB9XG5cbiAgdGhpcy5fbW9kdWxlcy5yZWdpc3RlcihwYXRoLCByYXdNb2R1bGUpO1xuICBpbnN0YWxsTW9kdWxlKHRoaXMsIHRoaXMuc3RhdGUsIHBhdGgsIHRoaXMuX21vZHVsZXMuZ2V0KHBhdGgpLCBvcHRpb25zLnByZXNlcnZlU3RhdGUpO1xuICAvLyByZXNldCBzdG9yZSB0byB1cGRhdGUgZ2V0dGVycy4uLlxuICByZXNldFN0b3JlU3RhdGUodGhpcywgdGhpcy5zdGF0ZSk7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUudW5yZWdpc3Rlck1vZHVsZSA9IGZ1bmN0aW9uIHVucmVnaXN0ZXJNb2R1bGUgKHBhdGgpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShwYXRoKSwgXCJtb2R1bGUgcGF0aCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEFycmF5LlwiKTtcbiAgfVxuXG4gIHRoaXMuX21vZHVsZXMudW5yZWdpc3RlcihwYXRoKTtcbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudFN0YXRlID0gZ2V0TmVzdGVkU3RhdGUodGhpcyQxJDEuc3RhdGUsIHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgICBkZWxldGUgcGFyZW50U3RhdGVbcGF0aFtwYXRoLmxlbmd0aCAtIDFdXTtcbiAgfSk7XG4gIHJlc2V0U3RvcmUodGhpcyk7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUuaGFzTW9kdWxlID0gZnVuY3Rpb24gaGFzTW9kdWxlIChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShwYXRoKSwgXCJtb2R1bGUgcGF0aCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEFycmF5LlwiKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9tb2R1bGVzLmlzUmVnaXN0ZXJlZChwYXRoKVxufTtcblxuU3RvcmUucHJvdG90eXBlLmhvdFVwZGF0ZSA9IGZ1bmN0aW9uIGhvdFVwZGF0ZSAobmV3T3B0aW9ucykge1xuICB0aGlzLl9tb2R1bGVzLnVwZGF0ZShuZXdPcHRpb25zKTtcbiAgcmVzZXRTdG9yZSh0aGlzLCB0cnVlKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5fd2l0aENvbW1pdCA9IGZ1bmN0aW9uIF93aXRoQ29tbWl0IChmbikge1xuICB2YXIgY29tbWl0dGluZyA9IHRoaXMuX2NvbW1pdHRpbmc7XG4gIHRoaXMuX2NvbW1pdHRpbmcgPSB0cnVlO1xuICBmbigpO1xuICB0aGlzLl9jb21taXR0aW5nID0gY29tbWl0dGluZztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTdG9yZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZ2V0dGluZyB0aGUgc3RhdGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBzdGF0ZXMgIyBPYmplY3QncyBpdGVtIGNhbiBiZSBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdCBzdGF0ZSBhbmQgZ2V0dGVycyBmb3IgcGFyYW0sIHlvdSBjYW4gZG8gc29tZXRoaW5nIGZvciBzdGF0ZSBhbmQgZ2V0dGVycyBpbiBpdC5cbiAqIEBwYXJhbSB7T2JqZWN0fVxuICovXG52YXIgbWFwU3RhdGUgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgc3RhdGVzKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChzdGF0ZXMpKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcFN0YXRlOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xuICB9XG4gIG5vcm1hbGl6ZU1hcChzdGF0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgIHZhciB2YWwgPSByZWYudmFsO1xuXG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRTdGF0ZSAoKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLiRzdG9yZS5zdGF0ZTtcbiAgICAgIHZhciBnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVycztcbiAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIG1vZHVsZSA9IGdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwU3RhdGUnLCBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0gbW9kdWxlLmNvbnRleHQuc3RhdGU7XG4gICAgICAgIGdldHRlcnMgPSBtb2R1bGUuY29udGV4dC5nZXR0ZXJzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB2YWwuY2FsbCh0aGlzLCBzdGF0ZSwgZ2V0dGVycylcbiAgICAgICAgOiBzdGF0ZVt2YWxdXG4gICAgfTtcbiAgICAvLyBtYXJrIHZ1ZXggZ2V0dGVyIGZvciBkZXZ0b29sc1xuICAgIHJlc1trZXldLnZ1ZXggPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc1xufSk7XG5cbi8qKlxuICogUmVkdWNlIHRoZSBjb2RlIHdoaWNoIHdyaXR0ZW4gaW4gVnVlLmpzIGZvciBjb21taXR0aW5nIHRoZSBtdXRhdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gbXV0YXRpb25zICMgT2JqZWN0J3MgaXRlbSBjYW4gYmUgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHQgYGNvbW1pdGAgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IHBhcmFtLCBpdCBjYW4gYWNjZXB0IGFub3RoZXIgcGFyYW1zLiBZb3UgY2FuIGNvbW1pdCBtdXRhdGlvbiBhbmQgZG8gYW55IG90aGVyIHRoaW5ncyBpbiB0aGlzIGZ1bmN0aW9uLiBzcGVjaWFsbHksIFlvdSBuZWVkIHRvIHBhc3MgYW50aG9yIHBhcmFtcyBmcm9tIHRoZSBtYXBwZWQgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbnZhciBtYXBNdXRhdGlvbnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgbXV0YXRpb25zKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChtdXRhdGlvbnMpKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcE11dGF0aW9uczogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcbiAgfVxuICBub3JtYWxpemVNYXAobXV0YXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIHJlc1trZXldID0gZnVuY3Rpb24gbWFwcGVkTXV0YXRpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgIC8vIEdldCB0aGUgY29tbWl0IG1ldGhvZCBmcm9tIHN0b3JlXG4gICAgICB2YXIgY29tbWl0ID0gdGhpcy4kc3RvcmUuY29tbWl0O1xuICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICB2YXIgbW9kdWxlID0gZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBNdXRhdGlvbnMnLCBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbW1pdCA9IG1vZHVsZS5jb250ZXh0LmNvbW1pdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gdmFsLmFwcGx5KHRoaXMsIFtjb21taXRdLmNvbmNhdChhcmdzKSlcbiAgICAgICAgOiBjb21taXQuYXBwbHkodGhpcy4kc3RvcmUsIFt2YWxdLmNvbmNhdChhcmdzKSlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc1xufSk7XG5cbi8qKlxuICogUmVkdWNlIHRoZSBjb2RlIHdoaWNoIHdyaXR0ZW4gaW4gVnVlLmpzIGZvciBnZXR0aW5nIHRoZSBnZXR0ZXJzXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBnZXR0ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbnZhciBtYXBHZXR0ZXJzID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIGdldHRlcnMpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1ZhbGlkTWFwKGdldHRlcnMpKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcEdldHRlcnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKGdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgIHZhciB2YWwgPSByZWYudmFsO1xuXG4gICAgLy8gVGhlIG5hbWVzcGFjZSBoYXMgYmVlbiBtdXRhdGVkIGJ5IG5vcm1hbGl6ZU5hbWVzcGFjZVxuICAgIHZhbCA9IG5hbWVzcGFjZSArIHZhbDtcbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZEdldHRlciAoKSB7XG4gICAgICBpZiAobmFtZXNwYWNlICYmICFnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcEdldHRlcnMnLCBuYW1lc3BhY2UpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhKHZhbCBpbiB0aGlzLiRzdG9yZS5nZXR0ZXJzKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGdldHRlcjogXCIgKyB2YWwpKTtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1t2YWxdXG4gICAgfTtcbiAgICAvLyBtYXJrIHZ1ZXggZ2V0dGVyIGZvciBkZXZ0b29sc1xuICAgIHJlc1trZXldLnZ1ZXggPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc1xufSk7XG5cbi8qKlxuICogUmVkdWNlIHRoZSBjb2RlIHdoaWNoIHdyaXR0ZW4gaW4gVnVlLmpzIGZvciBkaXNwYXRjaCB0aGUgYWN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBhY3Rpb25zICMgT2JqZWN0J3MgaXRlbSBjYW4gYmUgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHQgYGRpc3BhdGNoYCBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW0sIGl0IGNhbiBhY2NlcHQgYW50aG9yIHBhcmFtcy4gWW91IGNhbiBkaXNwYXRjaCBhY3Rpb24gYW5kIGRvIGFueSBvdGhlciB0aGluZ3MgaW4gdGhpcyBmdW5jdGlvbi4gc3BlY2lhbGx5LCBZb3UgbmVlZCB0byBwYXNzIGFudGhvciBwYXJhbXMgZnJvbSB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwQWN0aW9ucyA9IG5vcm1hbGl6ZU5hbWVzcGFjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBhY3Rpb25zKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChhY3Rpb25zKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBBY3Rpb25zOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xuICB9XG4gIG5vcm1hbGl6ZU1hcChhY3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIHJlc1trZXldID0gZnVuY3Rpb24gbWFwcGVkQWN0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAvLyBnZXQgZGlzcGF0Y2ggZnVuY3Rpb24gZnJvbSBzdG9yZVxuICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy4kc3RvcmUuZGlzcGF0Y2g7XG4gICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciBtb2R1bGUgPSBnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcEFjdGlvbnMnLCBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIW1vZHVsZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoID0gbW9kdWxlLmNvbnRleHQuZGlzcGF0Y2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHZhbC5hcHBseSh0aGlzLCBbZGlzcGF0Y2hdLmNvbmNhdChhcmdzKSlcbiAgICAgICAgOiBkaXNwYXRjaC5hcHBseSh0aGlzLiRzdG9yZSwgW3ZhbF0uY29uY2F0KGFyZ3MpKVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLyoqXG4gKiBSZWJpbmRpbmcgbmFtZXNwYWNlIHBhcmFtIGZvciBtYXBYWFggZnVuY3Rpb24gaW4gc3BlY2lhbCBzY29wZWQsIGFuZCByZXR1cm4gdGhlbSBieSBzaW1wbGUgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbnZhciBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyA9IGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsgcmV0dXJuICh7XG4gIG1hcFN0YXRlOiBtYXBTdGF0ZS5iaW5kKG51bGwsIG5hbWVzcGFjZSksXG4gIG1hcEdldHRlcnM6IG1hcEdldHRlcnMuYmluZChudWxsLCBuYW1lc3BhY2UpLFxuICBtYXBNdXRhdGlvbnM6IG1hcE11dGF0aW9ucy5iaW5kKG51bGwsIG5hbWVzcGFjZSksXG4gIG1hcEFjdGlvbnM6IG1hcEFjdGlvbnMuYmluZChudWxsLCBuYW1lc3BhY2UpXG59KTsgfTtcblxuLyoqXG4gKiBOb3JtYWxpemUgdGhlIG1hcFxuICogbm9ybWFsaXplTWFwKFsxLCAyLCAzXSkgPT4gWyB7IGtleTogMSwgdmFsOiAxIH0sIHsga2V5OiAyLCB2YWw6IDIgfSwgeyBrZXk6IDMsIHZhbDogMyB9IF1cbiAqIG5vcm1hbGl6ZU1hcCh7YTogMSwgYjogMiwgYzogM30pID0+IFsgeyBrZXk6ICdhJywgdmFsOiAxIH0sIHsga2V5OiAnYicsIHZhbDogMiB9LCB7IGtleTogJ2MnLCB2YWw6IDMgfSBdXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gbWFwXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1hcCAobWFwKSB7XG4gIGlmICghaXNWYWxpZE1hcChtYXApKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkobWFwKVxuICAgID8gbWFwLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoeyBrZXk6IGtleSwgdmFsOiBrZXkgfSk7IH0pXG4gICAgOiBPYmplY3Qua2V5cyhtYXApLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoeyBrZXk6IGtleSwgdmFsOiBtYXBba2V5XSB9KTsgfSlcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSB3aGV0aGVyIGdpdmVuIG1hcCBpcyB2YWxpZCBvciBub3RcbiAqIEBwYXJhbSB7Kn0gbWFwXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkTWFwIChtYXApIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkobWFwKSB8fCBpc09iamVjdChtYXApXG59XG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gZXhwZWN0IHR3byBwYXJhbSBjb250YWlucyBuYW1lc3BhY2UgYW5kIG1hcC4gaXQgd2lsbCBub3JtYWxpemUgdGhlIG5hbWVzcGFjZSBhbmQgdGhlbiB0aGUgcGFyYW0ncyBmdW5jdGlvbiB3aWxsIGhhbmRsZSB0aGUgbmV3IG5hbWVzcGFjZSBhbmQgdGhlIG1hcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTmFtZXNwYWNlIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWFwKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICBtYXAgPSBuYW1lc3BhY2U7XG4gICAgICBuYW1lc3BhY2UgPSAnJztcbiAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZS5jaGFyQXQobmFtZXNwYWNlLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgIG5hbWVzcGFjZSArPSAnLyc7XG4gICAgfVxuICAgIHJldHVybiBmbihuYW1lc3BhY2UsIG1hcClcbiAgfVxufVxuXG4vKipcbiAqIFNlYXJjaCBhIHNwZWNpYWwgbW9kdWxlIGZyb20gc3RvcmUgYnkgbmFtZXNwYWNlLiBpZiBtb2R1bGUgbm90IGV4aXN0LCBwcmludCBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IHN0b3JlXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVscGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE1vZHVsZUJ5TmFtZXNwYWNlIChzdG9yZSwgaGVscGVyLCBuYW1lc3BhY2UpIHtcbiAgdmFyIG1vZHVsZSA9IHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV07XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIW1vZHVsZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIG1vZHVsZSBuYW1lc3BhY2Ugbm90IGZvdW5kIGluIFwiICsgaGVscGVyICsgXCIoKTogXCIgKyBuYW1lc3BhY2UpKTtcbiAgfVxuICByZXR1cm4gbW9kdWxlXG59XG5cbi8vIENyZWRpdHM6IGJvcnJvd2VkIGNvZGUgZnJvbSBmY29tYi9yZWR1eC1sb2dnZXJcblxuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyIChyZWYpIHtcbiAgaWYgKCByZWYgPT09IHZvaWQgMCApIHJlZiA9IHt9O1xuICB2YXIgY29sbGFwc2VkID0gcmVmLmNvbGxhcHNlZDsgaWYgKCBjb2xsYXBzZWQgPT09IHZvaWQgMCApIGNvbGxhcHNlZCA9IHRydWU7XG4gIHZhciBmaWx0ZXIgPSByZWYuZmlsdGVyOyBpZiAoIGZpbHRlciA9PT0gdm9pZCAwICkgZmlsdGVyID0gZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZUJlZm9yZSwgc3RhdGVBZnRlcikgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgdmFyIHRyYW5zZm9ybWVyID0gcmVmLnRyYW5zZm9ybWVyOyBpZiAoIHRyYW5zZm9ybWVyID09PSB2b2lkIDAgKSB0cmFuc2Zvcm1lciA9IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gc3RhdGU7IH07XG4gIHZhciBtdXRhdGlvblRyYW5zZm9ybWVyID0gcmVmLm11dGF0aW9uVHJhbnNmb3JtZXI7IGlmICggbXV0YXRpb25UcmFuc2Zvcm1lciA9PT0gdm9pZCAwICkgbXV0YXRpb25UcmFuc2Zvcm1lciA9IGZ1bmN0aW9uIChtdXQpIHsgcmV0dXJuIG11dDsgfTtcbiAgdmFyIGFjdGlvbkZpbHRlciA9IHJlZi5hY3Rpb25GaWx0ZXI7IGlmICggYWN0aW9uRmlsdGVyID09PSB2b2lkIDAgKSBhY3Rpb25GaWx0ZXIgPSBmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgdmFyIGFjdGlvblRyYW5zZm9ybWVyID0gcmVmLmFjdGlvblRyYW5zZm9ybWVyOyBpZiAoIGFjdGlvblRyYW5zZm9ybWVyID09PSB2b2lkIDAgKSBhY3Rpb25UcmFuc2Zvcm1lciA9IGZ1bmN0aW9uIChhY3QpIHsgcmV0dXJuIGFjdDsgfTtcbiAgdmFyIGxvZ011dGF0aW9ucyA9IHJlZi5sb2dNdXRhdGlvbnM7IGlmICggbG9nTXV0YXRpb25zID09PSB2b2lkIDAgKSBsb2dNdXRhdGlvbnMgPSB0cnVlO1xuICB2YXIgbG9nQWN0aW9ucyA9IHJlZi5sb2dBY3Rpb25zOyBpZiAoIGxvZ0FjdGlvbnMgPT09IHZvaWQgMCApIGxvZ0FjdGlvbnMgPSB0cnVlO1xuICB2YXIgbG9nZ2VyID0gcmVmLmxvZ2dlcjsgaWYgKCBsb2dnZXIgPT09IHZvaWQgMCApIGxvZ2dlciA9IGNvbnNvbGU7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBwcmV2U3RhdGUgPSBkZWVwQ29weShzdG9yZS5zdGF0ZSk7XG5cbiAgICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChsb2dNdXRhdGlvbnMpIHtcbiAgICAgIHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAobXV0YXRpb24sIHN0YXRlKSB7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBkZWVwQ29weShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKGZpbHRlcihtdXRhdGlvbiwgcHJldlN0YXRlLCBuZXh0U3RhdGUpKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZFRpbWUgPSBnZXRGb3JtYXR0ZWRUaW1lKCk7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZE11dGF0aW9uID0gbXV0YXRpb25UcmFuc2Zvcm1lcihtdXRhdGlvbik7XG4gICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIm11dGF0aW9uIFwiICsgKG11dGF0aW9uLnR5cGUpICsgZm9ybWF0dGVkVGltZTtcblxuICAgICAgICAgIHN0YXJ0TWVzc2FnZShsb2dnZXIsIG1lc3NhZ2UsIGNvbGxhcHNlZCk7XG4gICAgICAgICAgbG9nZ2VyLmxvZygnJWMgcHJldiBzdGF0ZScsICdjb2xvcjogIzlFOUU5RTsgZm9udC13ZWlnaHQ6IGJvbGQnLCB0cmFuc2Zvcm1lcihwcmV2U3RhdGUpKTtcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBtdXRhdGlvbicsICdjb2xvcjogIzAzQTlGNDsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRNdXRhdGlvbik7XG4gICAgICAgICAgbG9nZ2VyLmxvZygnJWMgbmV4dCBzdGF0ZScsICdjb2xvcjogIzRDQUY1MDsgZm9udC13ZWlnaHQ6IGJvbGQnLCB0cmFuc2Zvcm1lcihuZXh0U3RhdGUpKTtcbiAgICAgICAgICBlbmRNZXNzYWdlKGxvZ2dlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2U3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobG9nQWN0aW9ucykge1xuICAgICAgc3RvcmUuc3Vic2NyaWJlQWN0aW9uKGZ1bmN0aW9uIChhY3Rpb24sIHN0YXRlKSB7XG4gICAgICAgIGlmIChhY3Rpb25GaWx0ZXIoYWN0aW9uLCBzdGF0ZSkpIHtcbiAgICAgICAgICB2YXIgZm9ybWF0dGVkVGltZSA9IGdldEZvcm1hdHRlZFRpbWUoKTtcbiAgICAgICAgICB2YXIgZm9ybWF0dGVkQWN0aW9uID0gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKTtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiYWN0aW9uIFwiICsgKGFjdGlvbi50eXBlKSArIGZvcm1hdHRlZFRpbWU7XG5cbiAgICAgICAgICBzdGFydE1lc3NhZ2UobG9nZ2VyLCBtZXNzYWdlLCBjb2xsYXBzZWQpO1xuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIGFjdGlvbicsICdjb2xvcjogIzAzQTlGNDsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRBY3Rpb24pO1xuICAgICAgICAgIGVuZE1lc3NhZ2UobG9nZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0TWVzc2FnZSAobG9nZ2VyLCBtZXNzYWdlLCBjb2xsYXBzZWQpIHtcbiAgdmFyIHN0YXJ0TWVzc2FnZSA9IGNvbGxhcHNlZFxuICAgID8gbG9nZ2VyLmdyb3VwQ29sbGFwc2VkXG4gICAgOiBsb2dnZXIuZ3JvdXA7XG5cbiAgLy8gcmVuZGVyXG4gIHRyeSB7XG4gICAgc3RhcnRNZXNzYWdlLmNhbGwobG9nZ2VyLCBtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5sb2cobWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kTWVzc2FnZSAobG9nZ2VyKSB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbG9nIGVuZCDigJTigJQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGb3JtYXR0ZWRUaW1lICgpIHtcbiAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gKFwiIEAgXCIgKyAocGFkKHRpbWUuZ2V0SG91cnMoKSwgMikpICsgXCI6XCIgKyAocGFkKHRpbWUuZ2V0TWludXRlcygpLCAyKSkgKyBcIjpcIiArIChwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpKSArIFwiLlwiICsgKHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKSkpXG59XG5cbmZ1bmN0aW9uIHJlcGVhdCAoc3RyLCB0aW1lcykge1xuICByZXR1cm4gKG5ldyBBcnJheSh0aW1lcyArIDEpKS5qb2luKHN0cilcbn1cblxuZnVuY3Rpb24gcGFkIChudW0sIG1heExlbmd0aCkge1xuICByZXR1cm4gcmVwZWF0KCcwJywgbWF4TGVuZ3RoIC0gbnVtLnRvU3RyaW5nKCkubGVuZ3RoKSArIG51bVxufVxuXG52YXIgaW5kZXggPSB7XG4gIHZlcnNpb246ICc0LjAuMScsXG4gIFN0b3JlOiBTdG9yZSxcbiAgc3RvcmVLZXk6IHN0b3JlS2V5LFxuICBjcmVhdGVTdG9yZTogY3JlYXRlU3RvcmUsXG4gIHVzZVN0b3JlOiB1c2VTdG9yZSxcbiAgbWFwU3RhdGU6IG1hcFN0YXRlLFxuICBtYXBNdXRhdGlvbnM6IG1hcE11dGF0aW9ucyxcbiAgbWFwR2V0dGVyczogbWFwR2V0dGVycyxcbiAgbWFwQWN0aW9uczogbWFwQWN0aW9ucyxcbiAgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnM6IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzLFxuICBjcmVhdGVMb2dnZXI6IGNyZWF0ZUxvZ2dlclxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG5leHBvcnQgeyBTdG9yZSwgY3JlYXRlTG9nZ2VyLCBjcmVhdGVOYW1lc3BhY2VkSGVscGVycywgY3JlYXRlU3RvcmUsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwU3RhdGUsIHN0b3JlS2V5LCB1c2VTdG9yZSB9O1xuIiwiPHRlbXBsYXRlPlxuICA8aDEgeHItbGF5ZXIgY2xhc3M9XCJmYWRlXCI+e3sgbXNnIH19PC9oMT5cbiAgPHA+XG4gICAgSGVyZSdzIHNvbWUgbW9yZSB0ZXh0IGp1c3QgdG8gbWFrZSB0aGluZ3Mgbm90IGJsYW5rLlxuICA8L3A+XG5cbiAgPGJ1dHRvbiB4ci1sYXllciBAY2xpY2s9XCJpbmNcIj5jb3VudCBpczoge3sgY291bnQgfX08L2J1dHRvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgeyBkZWZpbmVQcm9wcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCdcbmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4J1xuXG4vLyBkZWZpbmVQcm9wcyh7XG4vLyAgIG1zZzogU3RyaW5nXG4vLyB9KVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcHJvcHM6IHtcbiAgICAgICAgbXNnOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcHV0ZWQ6IG1hcFN0YXRlKHtcbiAgICAgICAgY291bnQ6IHN0YXRlID0+IHN0YXRlLmNvdW50LFxuICAgICAgICAgICAgLy8gcGFzc2luZyB0aGUgc3RyaW5nIHZhbHVlICdjb3VudCcgaXMgc2FtZSBhcyBgc3RhdGUgPT4gc3RhdGUuY291bnRgXG4gICAgICAgIGNvdW50QWxpYXM6ICdjb3VudCcsXG5cbiAgICB9KSxcblxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgLi4ubWFwQWN0aW9ucyhbXG4gICAgICAgICAgICAnaW5jcmVtZW50JywgLy8gbWFwIGB0aGlzLmluY3JlbWVudCgpYCB0byBgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2luY3JlbWVudCcpYFxuICAgICAgICBdKSxcblxuICAgICAgICBpbmMoKSB7XG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudCgpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvdW50KVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBzZXR1cCAocHJvcHMpIHtcblxuICAgIC8vIH1cbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuYSB7XG4gIGNvbG9yOiAjYjU0MmI5O1xufVxuXG4qIHtcbiAgICBsaW5lLWhlaWdodCA6IG5vcm1hbDtcbn1cblxuLmZhZGUge1xuICBjb2xvcjogIzk4MDNhNTtcbiAgLyogdHJhbnNpdGlvbjogY29sb3IgMXM7ICovXG59XG5cbi5mYWRlOmhvdmVyIHtcbiAgY29sb3I6ICNhNzhlMDY7XG59XG4gIFxucCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xufVxuaDEge1xuICAgICAgLyogdGV4dC1hbGlnbjogY2VudGVyOyAqL1xuXG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjY3ZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMC42N2VtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuYnV0dG9uIHtcbiAgICAvKiB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAzMHB4OyAqL1xuICAgIGFwcGVhcmFuY2U6IGF1dG87XG4gICAgLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGIgIWltcG9ydGFudDtcbiAgICB0ZXh0LXJlbmRlcmluZzogYXV0bztcbiAgICBjb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsoYmxhY2ssIHdoaXRlKTtcbiAgICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICAgIHdvcmQtc3BhY2luZzogbm9ybWFsO1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIHRleHQtaW5kZW50OiAwcHg7XG4gICAgdGV4dC1zaGFkb3c6IG5vbmU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDIzOSwgMjM5LCAyMzkpLCByZ2IoNTksIDU5LCA1OSkpO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgbWFyZ2luOiAwZW07XG4gICAgZm9udDogNDAwIDEzLjMzMzNweCBBcmlhbDtcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xuICAgIGJvcmRlci13aWR0aDogMnB4O1xuICAgIGJvcmRlci1zdHlsZTogb3V0c2V0O1xuICAgIGJvcmRlci1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDExOCwgMTE4LCAxMTgpLCByZ2IoMTMzLCAxMzMsIDEzMykpO1xuICAgIGJvcmRlci1pbWFnZTogaW5pdGlhbDtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG59XG5cbi8qIGJ1dHRvbiA6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IC1pbnRlcm5hbC1saWdodC1kYXJrKHJnYigxNTAsIDE1MCwgMTUwKSwgcmdiKDEyMSwgMTIxLCAxMjEpKTtcbn0gKi9cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxoMSB4ci1sYXllciBjbGFzcz1cImZhZGVcIj57eyBtc2cgfX08L2gxPlxuICA8cD5cbiAgICBIZXJlJ3Mgc29tZSBtb3JlIHRleHQganVzdCB0byBtYWtlIHRoaW5ncyBub3QgYmxhbmsuXG4gIDwvcD5cblxuICA8YnV0dG9uIHhyLWxheWVyIEBjbGljaz1cImluY1wiPmNvdW50IGlzOiB7eyBjb3VudCB9fTwvYnV0dG9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IGRlZmluZVByb3BzIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4J1xuaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnXG5cbi8vIGRlZmluZVByb3BzKHtcbi8vICAgbXNnOiBTdHJpbmdcbi8vIH0pXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9wczoge1xuICAgICAgICBtc2c6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjb21wdXRlZDogbWFwU3RhdGUoe1xuICAgICAgICBjb3VudDogc3RhdGUgPT4gc3RhdGUuY291bnQsXG4gICAgICAgICAgICAvLyBwYXNzaW5nIHRoZSBzdHJpbmcgdmFsdWUgJ2NvdW50JyBpcyBzYW1lIGFzIGBzdGF0ZSA9PiBzdGF0ZS5jb3VudGBcbiAgICAgICAgY291bnRBbGlhczogJ2NvdW50JyxcblxuICAgIH0pLFxuXG4gICAgbWV0aG9kczoge1xuICAgICAgICAuLi5tYXBBY3Rpb25zKFtcbiAgICAgICAgICAgICdpbmNyZW1lbnQnLCAvLyBtYXAgYHRoaXMuaW5jcmVtZW50KClgIHRvIGB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaW5jcmVtZW50JylgXG4gICAgICAgIF0pLFxuXG4gICAgICAgIGluYygpIHtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50KClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY291bnQpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIHNldHVwIChwcm9wcykge1xuXG4gICAgLy8gfVxufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG5hIHtcbiAgY29sb3I6ICNiNTQyYjk7XG59XG5cbioge1xuICAgIGxpbmUtaGVpZ2h0IDogbm9ybWFsO1xufVxuXG4uZmFkZSB7XG4gIGNvbG9yOiAjOTgwM2E1O1xuICAvKiB0cmFuc2l0aW9uOiBjb2xvciAxczsgKi9cbn1cblxuLmZhZGU6aG92ZXIge1xuICBjb2xvcjogI2E3OGUwNjtcbn1cbiAgXG5wIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDFlbTtcbiAgICBtYXJnaW4tYmxvY2stZW5kOiAxZW07XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogMHB4O1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHg7XG59XG5oMSB7XG4gICAgICAvKiB0ZXh0LWFsaWduOiBjZW50ZXI7ICovXG5cbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBmb250LXNpemU6IDJlbTtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDAuNjdlbTtcbiAgICBtYXJnaW4tYmxvY2stZW5kOiAwLjY3ZW07XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogMHB4O1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5idXR0b24ge1xuICAgIC8qIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDMwcHg7ICovXG4gICAgYXBwZWFyYW5jZTogYXV0bztcbiAgICAtd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YiAhaW1wb3J0YW50O1xuICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvO1xuICAgIGNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhibGFjaywgd2hpdGUpO1xuICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gICAgd29yZC1zcGFjaW5nOiBub3JtYWw7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgdGV4dC1pbmRlbnQ6IDBweDtcbiAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMjM5LCAyMzksIDIzOSksIHJnYig1OSwgNTksIDU5KSk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW46IDBlbTtcbiAgICBmb250OiA0MDAgMTMuMzMzM3B4IEFyaWFsO1xuICAgIHBhZGRpbmc6IDFweCA2cHg7XG4gICAgYm9yZGVyLXdpZHRoOiAycHg7XG4gICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7XG4gICAgYm9yZGVyLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMTE4LCAxMTgsIDExOCksIHJnYigxMzMsIDEzMywgMTMzKSk7XG4gICAgYm9yZGVyLWltYWdlOiBpbml0aWFsO1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbn1cblxuLyogYnV0dG9uIDpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogLWludGVybmFsLWxpZ2h0LWRhcmsocmdiKDE1MCwgMTUwLCAxNTApLCByZ2IoMTIxLCAxMjEsIDEyMSkpO1xufSAqL1xuPC9zdHlsZT5cbiIsImZ1bmN0aW9uIHN0eWxlSW5qZWN0KGNzcywgcmVmKSB7XG4gIGlmICggcmVmID09PSB2b2lkIDAgKSByZWYgPSB7fTtcbiAgdmFyIGluc2VydEF0ID0gcmVmLmluc2VydEF0O1xuXG4gIGlmICghY3NzIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuOyB9XG5cbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gIGlmIChpbnNlcnRBdCA9PT0gJ3RvcCcpIHtcbiAgICBpZiAoaGVhZC5maXJzdENoaWxkKSB7XG4gICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3R5bGVJbmplY3Q7XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgaWQ9XCJ0b3BcIj5cbiAgICAgIDxpbWcgYWx0PVwiVnVlIGxvZ29cIiBzcmM9XCIuLi8uLi9hc3NldHMvbG9nby5wbmdcIiAvPlxuICAgICAgPFNvbWVUZXh0IG1zZz1cIk5ldHdvcmtlZCBWdWUgQ29tcG9uZW50IHdpdGggU2hhcmVkIEJ1dHRvbiBDb3VudFwiIC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cD5cbmltcG9ydCBTb21lVGV4dCBmcm9tICcuLi8uLi9jb21wb25lbnRzL05ldHdvcmtlZEhlbGxvV29ybGQudnVlJ1xuXG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbiN0b3Age1xuICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzUwMzEyYztcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgYm9yZGVyOiA1O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3JkZXItY29sb3I6IHJlZDtcbiAgd2lkdGg6IDQwMHB4OyBoZWlnaHQ6IDQ1MHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG5cbioge1xuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xufVxuaW1nIHtcbiAgICBtYXgtd2lkdGg6IG5vbmU7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZTtcbn1cbjwvc3R5bGU+XG4iLCJjbGFzcyBWZWN0b3IyIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwICkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNWZWN0b3IyJywgeyB2YWx1ZTogdHJ1ZSB9ICk7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0fVxuXG5cdGdldCB3aWR0aCgpIHtcblxuXHRcdHJldHVybiB0aGlzLng7XG5cblx0fVxuXG5cdHNldCB3aWR0aCggdmFsdWUgKSB7XG5cblx0XHR0aGlzLnggPSB2YWx1ZTtcblxuXHR9XG5cblx0Z2V0IGhlaWdodCgpIHtcblxuXHRcdHJldHVybiB0aGlzLnk7XG5cblx0fVxuXG5cdHNldCBoZWlnaHQoIHZhbHVlICkge1xuXG5cdFx0dGhpcy55ID0gdmFsdWU7XG5cblx0fVxuXG5cdHNldCggeCwgeSApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCA9IHNjYWxhcjtcblx0XHR0aGlzLnkgPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WCggeCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WSggeSApIHtcblxuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0Q29tcG9uZW50KCBpbmRleCwgdmFsdWUgKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiB0aGlzLnggPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHRoaXMueSA9IHZhbHVlOyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Q29tcG9uZW50KCBpbmRleCApIHtcblxuXHRcdHN3aXRjaCAoIGluZGV4ICkge1xuXG5cdFx0XHRjYXNlIDA6IHJldHVybiB0aGlzLng7XG5cdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLnk7XG5cdFx0XHRkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoICdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcgKyBpbmRleCApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy54LCB0aGlzLnkgKTtcblxuXHR9XG5cblx0Y29weSggdiApIHtcblxuXHRcdHRoaXMueCA9IHYueDtcblx0XHR0aGlzLnkgPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggKz0gdi54O1xuXHRcdHRoaXMueSArPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHM7XG5cdFx0dGhpcy55ICs9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCArIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKyBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YWRkU2NhbGVkVmVjdG9yKCB2LCBzICkge1xuXG5cdFx0dGhpcy54ICs9IHYueCAqIHM7XG5cdFx0dGhpcy55ICs9IHYueSAqIHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViKCB2LCB3ICkge1xuXG5cdFx0aWYgKCB3ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJWZWN0b3JzKCB2LCB3ICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLnggLT0gdi54O1xuXHRcdHRoaXMueSAtPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViU2NhbGFyKCBzICkge1xuXG5cdFx0dGhpcy54IC09IHM7XG5cdFx0dGhpcy55IC09IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c3ViVmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAtIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgLSBiLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHYgKSB7XG5cblx0XHR0aGlzLnggKj0gdi54O1xuXHRcdHRoaXMueSAqPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCAqPSBzY2FsYXI7XG5cdFx0dGhpcy55ICo9IHNjYWxhcjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkaXZpZGUoIHYgKSB7XG5cblx0XHR0aGlzLnggLz0gdi54O1xuXHRcdHRoaXMueSAvPSB2Lnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlU2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIHNjYWxhciApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDMoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHkgKyBlWyA2IF07XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDQgXSAqIHkgKyBlWyA3IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWluKCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWF4KCB2ICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIHRoaXMueCwgdi54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIHRoaXMueSwgdi55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXAoIG1pbiwgbWF4ICkge1xuXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW4ueCwgTWF0aC5taW4oIG1heC54LCB0aGlzLnggKSApO1xuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW4ueSwgTWF0aC5taW4oIG1heC55LCB0aGlzLnkgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsYW1wU2NhbGFyKCBtaW5WYWwsIG1heFZhbCApIHtcblxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy55ICkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcExlbmd0aCggbWluLCBtYXggKSB7XG5cblx0XHRjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCgpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKCBsZW5ndGggfHwgMSApLm11bHRpcGx5U2NhbGFyKCBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBsZW5ndGggKSApICk7XG5cblx0fVxuXG5cdGZsb29yKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2VpbCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguY2VpbCggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jZWlsKCB0aGlzLnkgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGgucm91bmQoIHRoaXMueSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kVG9aZXJvKCkge1xuXG5cdFx0dGhpcy54ID0gKCB0aGlzLnggPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueCApIDogTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gKCB0aGlzLnkgPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueSApIDogTWF0aC5mbG9vciggdGhpcy55ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bmVnYXRlKCkge1xuXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTtcblxuXHR9XG5cblx0Y3Jvc3MoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54O1xuXG5cdH1cblxuXHRsZW5ndGhTcSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG5cblx0fVxuXG5cdGxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSApO1xuXG5cdH1cblxuXHRtYW5oYXR0YW5MZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xuXG5cdH1cblxuXHRhbmdsZSgpIHtcblxuXHRcdC8vIGNvbXB1dGVzIHRoZSBhbmdsZSBpbiByYWRpYW5zIHdpdGggcmVzcGVjdCB0byB0aGUgcG9zaXRpdmUgeC1heGlzXG5cblx0XHRjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoIC0gdGhpcy55LCAtIHRoaXMueCApICsgTWF0aC5QSTtcblxuXHRcdHJldHVybiBhbmdsZTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLnNxcnQoIHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3F1YXJlZCggdiApIHtcblxuXHRcdGNvbnN0IGR4ID0gdGhpcy54IC0gdi54LCBkeSA9IHRoaXMueSAtIHYueTtcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCAtIHYueCApICsgTWF0aC5hYnMoIHRoaXMueSAtIHYueSApO1xuXG5cdH1cblxuXHRzZXRMZW5ndGgoIGxlbmd0aCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKCBsZW5ndGggKTtcblxuXHR9XG5cblx0bGVycCggdiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggKz0gKCB2LnggLSB0aGlzLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSArPSAoIHYueSAtIHRoaXMueSApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bGVycFZlY3RvcnMoIHYxLCB2MiwgYWxwaGEgKSB7XG5cblx0XHR0aGlzLnggPSB2MS54ICsgKCB2Mi54IC0gdjEueCApICogYWxwaGE7XG5cdFx0dGhpcy55ID0gdjEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggdiApIHtcblxuXHRcdHJldHVybiAoICggdi54ID09PSB0aGlzLnggKSAmJiAoIHYueSA9PT0gdGhpcy55ICkgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMueCA9IGFycmF5WyBvZmZzZXQgXTtcblx0XHR0aGlzLnkgPSBhcnJheVsgb2Zmc2V0ICsgMSBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLng7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMueTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0ZnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlLCBpbmRleCwgb2Zmc2V0ICkge1xuXG5cdFx0aWYgKCBvZmZzZXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCA9IGF0dHJpYnV0ZS5nZXRYKCBpbmRleCApO1xuXHRcdHRoaXMueSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdGF0ZUFyb3VuZCggY2VudGVyLCBhbmdsZSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggYW5nbGUgKSwgcyA9IE1hdGguc2luKCBhbmdsZSApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCAtIGNlbnRlci54O1xuXHRcdGNvbnN0IHkgPSB0aGlzLnkgLSBjZW50ZXIueTtcblxuXHRcdHRoaXMueCA9IHggKiBjIC0geSAqIHMgKyBjZW50ZXIueDtcblx0XHR0aGlzLnkgPSB4ICogcyArIHkgKiBjICsgY2VudGVyLnk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmFuZG9tKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59XG5cblxuZXhwb3J0IHsgVmVjdG9yMiB9O1xuIiwiY29uc3QgX2x1dCA9IFtdO1xuXG5mb3IgKCBsZXQgaSA9IDA7IGkgPCAyNTY7IGkgKysgKSB7XG5cblx0X2x1dFsgaSBdID0gKCBpIDwgMTYgPyAnMCcgOiAnJyApICsgKCBpICkudG9TdHJpbmcoIDE2ICk7XG5cbn1cblxubGV0IF9zZWVkID0gMTIzNDU2NztcblxuY29uc3QgTWF0aFV0aWxzID0ge1xuXG5cdERFRzJSQUQ6IE1hdGguUEkgLyAxODAsXG5cdFJBRDJERUc6IDE4MCAvIE1hdGguUEksXG5cblx0Z2VuZXJhdGVVVUlEOiBmdW5jdGlvbiAoKSB7XG5cblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNTAzNC9ob3ctdG8tY3JlYXRlLWEtZ3VpZC11dWlkLWluLWphdmFzY3JpcHQvMjE5NjMxMzYjMjE5NjMxMzZcblxuXHRcdGNvbnN0IGQwID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRcdGNvbnN0IGQxID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRcdGNvbnN0IGQyID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRcdGNvbnN0IGQzID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuXHRcdGNvbnN0IHV1aWQgPSBfbHV0WyBkMCAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQxICYgMHhmZiBdICsgX2x1dFsgZDEgPj4gOCAmIDB4ZmYgXSArICctJyArIF9sdXRbIGQxID4+IDE2ICYgMHgwZiB8IDB4NDAgXSArIF9sdXRbIGQxID4+IDI0ICYgMHhmZiBdICsgJy0nICtcblx0XHRcdF9sdXRbIGQyICYgMHgzZiB8IDB4ODAgXSArIF9sdXRbIGQyID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMiA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQyID4+IDI0ICYgMHhmZiBdICtcblx0XHRcdF9sdXRbIGQzICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gOCAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gMjQgJiAweGZmIF07XG5cblx0XHQvLyAudG9VcHBlckNhc2UoKSBoZXJlIGZsYXR0ZW5zIGNvbmNhdGVuYXRlZCBzdHJpbmdzIHRvIHNhdmUgaGVhcCBtZW1vcnkgc3BhY2UuXG5cdFx0cmV0dXJuIHV1aWQudG9VcHBlckNhc2UoKTtcblxuXHR9LFxuXG5cdGNsYW1wOiBmdW5jdGlvbiAoIHZhbHVlLCBtaW4sIG1heCApIHtcblxuXHRcdHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCB2YWx1ZSApICk7XG5cblx0fSxcblxuXHQvLyBjb21wdXRlIGV1Y2xpZGlhbiBtb2R1bG8gb2YgbSAlIG5cblx0Ly8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW9kdWxvX29wZXJhdGlvblxuXG5cdGV1Y2xpZGVhbk1vZHVsbzogZnVuY3Rpb24gKCBuLCBtICkge1xuXG5cdFx0cmV0dXJuICggKCBuICUgbSApICsgbSApICUgbTtcblxuXHR9LFxuXG5cdC8vIExpbmVhciBtYXBwaW5nIGZyb20gcmFuZ2UgPGExLCBhMj4gdG8gcmFuZ2UgPGIxLCBiMj5cblxuXHRtYXBMaW5lYXI6IGZ1bmN0aW9uICggeCwgYTEsIGEyLCBiMSwgYjIgKSB7XG5cblx0XHRyZXR1cm4gYjEgKyAoIHggLSBhMSApICogKCBiMiAtIGIxICkgLyAoIGEyIC0gYTEgKTtcblxuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uXG5cblx0bGVycDogZnVuY3Rpb24gKCB4LCB5LCB0ICkge1xuXG5cdFx0cmV0dXJuICggMSAtIHQgKSAqIHggKyB0ICogeTtcblxuXHR9LFxuXG5cdC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU21vb3Roc3RlcFxuXG5cdHNtb290aHN0ZXA6IGZ1bmN0aW9uICggeCwgbWluLCBtYXggKSB7XG5cblx0XHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdFx0aWYgKCB4ID49IG1heCApIHJldHVybiAxO1xuXG5cdFx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRcdHJldHVybiB4ICogeCAqICggMyAtIDIgKiB4ICk7XG5cblx0fSxcblxuXHRzbW9vdGhlcnN0ZXA6IGZ1bmN0aW9uICggeCwgbWluLCBtYXggKSB7XG5cblx0XHRpZiAoIHggPD0gbWluICkgcmV0dXJuIDA7XG5cdFx0aWYgKCB4ID49IG1heCApIHJldHVybiAxO1xuXG5cdFx0eCA9ICggeCAtIG1pbiApIC8gKCBtYXggLSBtaW4gKTtcblxuXHRcdHJldHVybiB4ICogeCAqIHggKiAoIHggKiAoIHggKiA2IC0gMTUgKSArIDEwICk7XG5cblx0fSxcblxuXHQvLyBSYW5kb20gaW50ZWdlciBmcm9tIDxsb3csIGhpZ2g+IGludGVydmFsXG5cblx0cmFuZEludDogZnVuY3Rpb24gKCBsb3csIGhpZ2ggKSB7XG5cblx0XHRyZXR1cm4gbG93ICsgTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggaGlnaCAtIGxvdyArIDEgKSApO1xuXG5cdH0sXG5cblx0Ly8gUmFuZG9tIGZsb2F0IGZyb20gPGxvdywgaGlnaD4gaW50ZXJ2YWxcblxuXHRyYW5kRmxvYXQ6IGZ1bmN0aW9uICggbG93LCBoaWdoICkge1xuXG5cdFx0cmV0dXJuIGxvdyArIE1hdGgucmFuZG9tKCkgKiAoIGhpZ2ggLSBsb3cgKTtcblxuXHR9LFxuXG5cdC8vIFJhbmRvbSBmbG9hdCBmcm9tIDwtcmFuZ2UvMiwgcmFuZ2UvMj4gaW50ZXJ2YWxcblxuXHRyYW5kRmxvYXRTcHJlYWQ6IGZ1bmN0aW9uICggcmFuZ2UgKSB7XG5cblx0XHRyZXR1cm4gcmFuZ2UgKiAoIDAuNSAtIE1hdGgucmFuZG9tKCkgKTtcblxuXHR9LFxuXG5cdC8vIERldGVybWluaXN0aWMgcHNldWRvLXJhbmRvbSBmbG9hdCBpbiB0aGUgaW50ZXJ2YWwgWyAwLCAxIF1cblxuXHRzZWVkZWRSYW5kb206IGZ1bmN0aW9uICggcyApIHtcblxuXHRcdGlmICggcyAhPT0gdW5kZWZpbmVkICkgX3NlZWQgPSBzICUgMjE0NzQ4MzY0NztcblxuXHRcdC8vIFBhcmstTWlsbGVyIGFsZ29yaXRobVxuXG5cdFx0X3NlZWQgPSBfc2VlZCAqIDE2ODA3ICUgMjE0NzQ4MzY0NztcblxuXHRcdHJldHVybiAoIF9zZWVkIC0gMSApIC8gMjE0NzQ4MzY0NjtcblxuXHR9LFxuXG5cdGRlZ1RvUmFkOiBmdW5jdGlvbiAoIGRlZ3JlZXMgKSB7XG5cblx0XHRyZXR1cm4gZGVncmVlcyAqIE1hdGhVdGlscy5ERUcyUkFEO1xuXG5cdH0sXG5cblx0cmFkVG9EZWc6IGZ1bmN0aW9uICggcmFkaWFucyApIHtcblxuXHRcdHJldHVybiByYWRpYW5zICogTWF0aFV0aWxzLlJBRDJERUc7XG5cblx0fSxcblxuXHRpc1Bvd2VyT2ZUd286IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRyZXR1cm4gKCB2YWx1ZSAmICggdmFsdWUgLSAxICkgKSA9PT0gMCAmJiB2YWx1ZSAhPT0gMDtcblxuXHR9LFxuXG5cdGNlaWxQb3dlck9mVHdvOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmNlaWwoIE1hdGgubG9nKCB2YWx1ZSApIC8gTWF0aC5MTjIgKSApO1xuXG5cdH0sXG5cblx0Zmxvb3JQb3dlck9mVHdvOiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0cmV0dXJuIE1hdGgucG93KCAyLCBNYXRoLmZsb29yKCBNYXRoLmxvZyggdmFsdWUgKSAvIE1hdGguTE4yICkgKTtcblxuXHR9LFxuXG5cdHNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXI6IGZ1bmN0aW9uICggcSwgYSwgYiwgYywgb3JkZXIgKSB7XG5cblx0XHQvLyBJbnRyaW5zaWMgUHJvcGVyIEV1bGVyIEFuZ2xlcyAtIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FdWxlcl9hbmdsZXNcblxuXHRcdC8vIHJvdGF0aW9ucyBhcmUgYXBwbGllZCB0byB0aGUgYXhlcyBpbiB0aGUgb3JkZXIgc3BlY2lmaWVkIGJ5ICdvcmRlcidcblx0XHQvLyByb3RhdGlvbiBieSBhbmdsZSAnYScgaXMgYXBwbGllZCBmaXJzdCwgdGhlbiBieSBhbmdsZSAnYicsIHRoZW4gYnkgYW5nbGUgJ2MnXG5cdFx0Ly8gYW5nbGVzIGFyZSBpbiByYWRpYW5zXG5cblx0XHRjb25zdCBjb3MgPSBNYXRoLmNvcztcblx0XHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRcdGNvbnN0IGMyID0gY29zKCBiIC8gMiApO1xuXHRcdGNvbnN0IHMyID0gc2luKCBiIC8gMiApO1xuXG5cdFx0Y29uc3QgYzEzID0gY29zKCAoIGEgKyBjICkgLyAyICk7XG5cdFx0Y29uc3QgczEzID0gc2luKCAoIGEgKyBjICkgLyAyICk7XG5cblx0XHRjb25zdCBjMV8zID0gY29zKCAoIGEgLSBjICkgLyAyICk7XG5cdFx0Y29uc3QgczFfMyA9IHNpbiggKCBhIC0gYyApIC8gMiApO1xuXG5cdFx0Y29uc3QgYzNfMSA9IGNvcyggKCBjIC0gYSApIC8gMiApO1xuXHRcdGNvbnN0IHMzXzEgPSBzaW4oICggYyAtIGEgKSAvIDIgKTtcblxuXHRcdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0XHRjYXNlICdYWVgnOlxuXHRcdFx0XHRxLnNldCggYzIgKiBzMTMsIHMyICogYzFfMywgczIgKiBzMV8zLCBjMiAqIGMxMyApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVpZJzpcblx0XHRcdFx0cS5zZXQoIHMyICogczFfMywgYzIgKiBzMTMsIHMyICogYzFfMywgYzIgKiBjMTMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pYWic6XG5cdFx0XHRcdHEuc2V0KCBzMiAqIGMxXzMsIHMyICogczFfMywgYzIgKiBzMTMsIGMyICogYzEzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdYWlgnOlxuXHRcdFx0XHRxLnNldCggYzIgKiBzMTMsIHMyICogczNfMSwgczIgKiBjM18xLCBjMiAqIGMxMyApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVhZJzpcblx0XHRcdFx0cS5zZXQoIHMyICogYzNfMSwgYzIgKiBzMTMsIHMyICogczNfMSwgYzIgKiBjMTMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pZWic6XG5cdFx0XHRcdHEuc2V0KCBzMiAqIHMzXzEsIHMyICogYzNfMSwgYzIgKiBzMTMsIGMyICogYzEzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5NYXRoVXRpbHM6IC5zZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyICk7XG5cblx0XHR9XG5cblx0fVxuXG59O1xuXG5cbmV4cG9ydCB7IE1hdGhVdGlscyB9O1xuIiwiaW1wb3J0IHsgTWF0aFV0aWxzIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuXG5jbGFzcyBRdWF0ZXJuaW9uIHtcblxuXHRjb25zdHJ1Y3RvciggeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEgKSB7XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsICdpc1F1YXRlcm5pb24nLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdH1cblxuXHRzdGF0aWMgc2xlcnAoIHFhLCBxYiwgcW0sIHQgKSB7XG5cblx0XHRyZXR1cm4gcW0uY29weSggcWEgKS5zbGVycCggcWIsIHQgKTtcblxuXHR9XG5cblx0c3RhdGljIHNsZXJwRmxhdCggZHN0LCBkc3RPZmZzZXQsIHNyYzAsIHNyY09mZnNldDAsIHNyYzEsIHNyY09mZnNldDEsIHQgKSB7XG5cblx0XHQvLyBmdXp6LWZyZWUsIGFycmF5LWJhc2VkIFF1YXRlcm5pb24gU0xFUlAgb3BlcmF0aW9uXG5cblx0XHRsZXQgeDAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMCBdLFxuXHRcdFx0eTAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMSBdLFxuXHRcdFx0ejAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMiBdLFxuXHRcdFx0dzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMCBdLFxuXHRcdFx0eTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdLFxuXHRcdFx0ejEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMiBdLFxuXHRcdFx0dzEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMyBdO1xuXG5cdFx0aWYgKCB3MCAhPT0gdzEgfHwgeDAgIT09IHgxIHx8IHkwICE9PSB5MSB8fCB6MCAhPT0gejEgKSB7XG5cblx0XHRcdGxldCBzID0gMSAtIHQ7XG5cdFx0XHRjb25zdCBjb3MgPSB4MCAqIHgxICsgeTAgKiB5MSArIHowICogejEgKyB3MCAqIHcxLFxuXHRcdFx0XHRkaXIgPSAoIGNvcyA+PSAwID8gMSA6IC0gMSApLFxuXHRcdFx0XHRzcXJTaW4gPSAxIC0gY29zICogY29zO1xuXG5cdFx0XHQvLyBTa2lwIHRoZSBTbGVycCBmb3IgdGlueSBzdGVwcyB0byBhdm9pZCBudW1lcmljIHByb2JsZW1zOlxuXHRcdFx0aWYgKCBzcXJTaW4gPiBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0XHRjb25zdCBzaW4gPSBNYXRoLnNxcnQoIHNxclNpbiApLFxuXHRcdFx0XHRcdGxlbiA9IE1hdGguYXRhbjIoIHNpbiwgY29zICogZGlyICk7XG5cblx0XHRcdFx0cyA9IE1hdGguc2luKCBzICogbGVuICkgLyBzaW47XG5cdFx0XHRcdHQgPSBNYXRoLnNpbiggdCAqIGxlbiApIC8gc2luO1xuXG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHREaXIgPSB0ICogZGlyO1xuXG5cdFx0XHR4MCA9IHgwICogcyArIHgxICogdERpcjtcblx0XHRcdHkwID0geTAgKiBzICsgeTEgKiB0RGlyO1xuXHRcdFx0ejAgPSB6MCAqIHMgKyB6MSAqIHREaXI7XG5cdFx0XHR3MCA9IHcwICogcyArIHcxICogdERpcjtcblxuXHRcdFx0Ly8gTm9ybWFsaXplIGluIGNhc2Ugd2UganVzdCBkaWQgYSBsZXJwOlxuXHRcdFx0aWYgKCBzID09PSAxIC0gdCApIHtcblxuXHRcdFx0XHRjb25zdCBmID0gMSAvIE1hdGguc3FydCggeDAgKiB4MCArIHkwICogeTAgKyB6MCAqIHowICsgdzAgKiB3MCApO1xuXG5cdFx0XHRcdHgwICo9IGY7XG5cdFx0XHRcdHkwICo9IGY7XG5cdFx0XHRcdHowICo9IGY7XG5cdFx0XHRcdHcwICo9IGY7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGRzdFsgZHN0T2Zmc2V0IF0gPSB4MDtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMiBdID0gejA7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAzIF0gPSB3MDtcblxuXHR9XG5cblx0c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KCBkc3QsIGRzdE9mZnNldCwgc3JjMCwgc3JjT2Zmc2V0MCwgc3JjMSwgc3JjT2Zmc2V0MSApIHtcblxuXHRcdGNvbnN0IHgwID0gc3JjMFsgc3JjT2Zmc2V0MCBdO1xuXHRcdGNvbnN0IHkwID0gc3JjMFsgc3JjT2Zmc2V0MCArIDEgXTtcblx0XHRjb25zdCB6MCA9IHNyYzBbIHNyY09mZnNldDAgKyAyIF07XG5cdFx0Y29uc3QgdzAgPSBzcmMwWyBzcmNPZmZzZXQwICsgMyBdO1xuXG5cdFx0Y29uc3QgeDEgPSBzcmMxWyBzcmNPZmZzZXQxIF07XG5cdFx0Y29uc3QgeTEgPSBzcmMxWyBzcmNPZmZzZXQxICsgMSBdO1xuXHRcdGNvbnN0IHoxID0gc3JjMVsgc3JjT2Zmc2V0MSArIDIgXTtcblx0XHRjb25zdCB3MSA9IHNyYzFbIHNyY09mZnNldDEgKyAzIF07XG5cblx0XHRkc3RbIGRzdE9mZnNldCBdID0geDAgKiB3MSArIHcwICogeDEgKyB5MCAqIHoxIC0gejAgKiB5MTtcblx0XHRkc3RbIGRzdE9mZnNldCArIDEgXSA9IHkwICogdzEgKyB3MCAqIHkxICsgejAgKiB4MSAtIHgwICogejE7XG5cdFx0ZHN0WyBkc3RPZmZzZXQgKyAyIF0gPSB6MCAqIHcxICsgdzAgKiB6MSArIHgwICogeTEgLSB5MCAqIHgxO1xuXHRcdGRzdFsgZHN0T2Zmc2V0ICsgMyBdID0gdzAgKiB3MSAtIHgwICogeDEgLSB5MCAqIHkxIC0gejAgKiB6MTtcblxuXHRcdHJldHVybiBkc3Q7XG5cblx0fVxuXG5cdGdldCB4KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cblx0fVxuXG5cdHNldCB4KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ggPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cblx0fVxuXG5cdHNldCB5KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3kgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB6KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3o7XG5cblx0fVxuXG5cdHNldCB6KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ogPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB3KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3c7XG5cblx0fVxuXG5cdHNldCB3KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3cgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdHNldCggeCwgeSwgeiwgdyApIHtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX3cgPSB3O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLl94LCB0aGlzLl95LCB0aGlzLl96LCB0aGlzLl93ICk7XG5cblx0fVxuXG5cdGNvcHkoIHF1YXRlcm5pb24gKSB7XG5cblx0XHR0aGlzLl94ID0gcXVhdGVybmlvbi54O1xuXHRcdHRoaXMuX3kgPSBxdWF0ZXJuaW9uLnk7XG5cdFx0dGhpcy5feiA9IHF1YXRlcm5pb24uejtcblx0XHR0aGlzLl93ID0gcXVhdGVybmlvbi53O1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21FdWxlciggZXVsZXIsIHVwZGF0ZSApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLl94LCB5ID0gZXVsZXIuX3ksIHogPSBldWxlci5feiwgb3JkZXIgPSBldWxlci5fb3JkZXI7XG5cblx0XHQvLyBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvXG5cdFx0Ly8gXHQyMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy9cblx0XHQvL1x0Y29udGVudC9TcGluQ2FsYy5tXG5cblx0XHRjb25zdCBjb3MgPSBNYXRoLmNvcztcblx0XHRjb25zdCBzaW4gPSBNYXRoLnNpbjtcblxuXHRcdGNvbnN0IGMxID0gY29zKCB4IC8gMiApO1xuXHRcdGNvbnN0IGMyID0gY29zKCB5IC8gMiApO1xuXHRcdGNvbnN0IGMzID0gY29zKCB6IC8gMiApO1xuXG5cdFx0Y29uc3QgczEgPSBzaW4oIHggLyAyICk7XG5cdFx0Y29uc3QgczIgPSBzaW4oIHkgLyAyICk7XG5cdFx0Y29uc3QgczMgPSBzaW4oIHogLyAyICk7XG5cblx0XHRzd2l0Y2ggKCBvcmRlciApIHtcblxuXHRcdFx0Y2FzZSAnWFlaJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1lYWic6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWFknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWllYJzpcblx0XHRcdFx0dGhpcy5feCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcblx0XHRcdFx0dGhpcy5feSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcblx0XHRcdFx0dGhpcy5feiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcblx0XHRcdFx0dGhpcy5fdyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1laWCc6XG5cdFx0XHRcdHRoaXMuX3ggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG5cdFx0XHRcdHRoaXMuX3kgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG5cdFx0XHRcdHRoaXMuX3ogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG5cdFx0XHRcdHRoaXMuX3cgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdYWlknOlxuXHRcdFx0XHR0aGlzLl94ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl95ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuXHRcdFx0XHR0aGlzLl96ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuXHRcdFx0XHR0aGlzLl93ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlciApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21BeGlzQW5nbGUoIGF4aXMsIGFuZ2xlICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL2FuZ2xlVG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxuXG5cdFx0Ly8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWRcblxuXHRcdGNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlIC8gMiwgcyA9IE1hdGguc2luKCBoYWxmQW5nbGUgKTtcblxuXHRcdHRoaXMuX3ggPSBheGlzLnggKiBzO1xuXHRcdHRoaXMuX3kgPSBheGlzLnkgKiBzO1xuXHRcdHRoaXMuX3ogPSBheGlzLnogKiBzO1xuXHRcdHRoaXMuX3cgPSBNYXRoLmNvcyggaGFsZkFuZ2xlICk7XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbVJvdGF0aW9uTWF0cml4KCBtICkge1xuXG5cdFx0Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHMsXG5cblx0XHRcdG0xMSA9IHRlWyAwIF0sIG0xMiA9IHRlWyA0IF0sIG0xMyA9IHRlWyA4IF0sXG5cdFx0XHRtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdLFxuXHRcdFx0bTMxID0gdGVbIDIgXSwgbTMyID0gdGVbIDYgXSwgbTMzID0gdGVbIDEwIF0sXG5cblx0XHRcdHRyYWNlID0gbTExICsgbTIyICsgbTMzO1xuXG5cdFx0aWYgKCB0cmFjZSA+IDAgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAwLjUgLyBNYXRoLnNxcnQoIHRyYWNlICsgMS4wICk7XG5cblx0XHRcdHRoaXMuX3cgPSAwLjI1IC8gcztcblx0XHRcdHRoaXMuX3ggPSAoIG0zMiAtIG0yMyApICogcztcblx0XHRcdHRoaXMuX3kgPSAoIG0xMyAtIG0zMSApICogcztcblx0XHRcdHRoaXMuX3ogPSAoIG0yMSAtIG0xMiApICogcztcblxuXHRcdH0gZWxzZSBpZiAoIG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0xMSAtIG0yMiAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMzIgLSBtMjMgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl95ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMTMgKyBtMzEgKSAvIHM7XG5cblx0XHR9IGVsc2UgaWYgKCBtMjIgPiBtMzMgKSB7XG5cblx0XHRcdGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0yMiAtIG0xMSAtIG0zMyApO1xuXG5cdFx0XHR0aGlzLl93ID0gKCBtMTMgLSBtMzEgKSAvIHM7XG5cdFx0XHR0aGlzLl94ID0gKCBtMTIgKyBtMjEgKSAvIHM7XG5cdFx0XHR0aGlzLl95ID0gMC4yNSAqIHM7XG5cdFx0XHR0aGlzLl96ID0gKCBtMjMgKyBtMzIgKSAvIHM7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMzMgLSBtMTEgLSBtMjIgKTtcblxuXHRcdFx0dGhpcy5fdyA9ICggbTIxIC0gbTEyICkgLyBzO1xuXHRcdFx0dGhpcy5feCA9ICggbTEzICsgbTMxICkgLyBzO1xuXHRcdFx0dGhpcy5feSA9ICggbTIzICsgbTMyICkgLyBzO1xuXHRcdFx0dGhpcy5feiA9IDAuMjUgKiBzO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Vbml0VmVjdG9ycyggdkZyb20sIHZUbyApIHtcblxuXHRcdC8vIGFzc3VtZXMgZGlyZWN0aW9uIHZlY3RvcnMgdkZyb20gYW5kIHZUbyBhcmUgbm9ybWFsaXplZFxuXG5cdFx0Y29uc3QgRVBTID0gMC4wMDAwMDE7XG5cblx0XHRsZXQgciA9IHZGcm9tLmRvdCggdlRvICkgKyAxO1xuXG5cdFx0aWYgKCByIDwgRVBTICkge1xuXG5cdFx0XHRyID0gMDtcblxuXHRcdFx0aWYgKCBNYXRoLmFicyggdkZyb20ueCApID4gTWF0aC5hYnMoIHZGcm9tLnogKSApIHtcblxuXHRcdFx0XHR0aGlzLl94ID0gLSB2RnJvbS55O1xuXHRcdFx0XHR0aGlzLl95ID0gdkZyb20ueDtcblx0XHRcdFx0dGhpcy5feiA9IDA7XG5cdFx0XHRcdHRoaXMuX3cgPSByO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0XHR0aGlzLl95ID0gLSB2RnJvbS56O1xuXHRcdFx0XHR0aGlzLl96ID0gdkZyb20ueTtcblx0XHRcdFx0dGhpcy5fdyA9IHI7XG5cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIGNyb3NzVmVjdG9ycyggdkZyb20sIHZUbyApOyAvLyBpbmxpbmVkIHRvIGF2b2lkIGN5Y2xpYyBkZXBlbmRlbmN5IG9uIFZlY3RvcjNcblxuXHRcdFx0dGhpcy5feCA9IHZGcm9tLnkgKiB2VG8ueiAtIHZGcm9tLnogKiB2VG8ueTtcblx0XHRcdHRoaXMuX3kgPSB2RnJvbS56ICogdlRvLnggLSB2RnJvbS54ICogdlRvLno7XG5cdFx0XHR0aGlzLl96ID0gdkZyb20ueCAqIHZUby55IC0gdkZyb20ueSAqIHZUby54O1xuXHRcdFx0dGhpcy5fdyA9IHI7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKTtcblxuXHR9XG5cblx0YW5nbGVUbyggcSApIHtcblxuXHRcdHJldHVybiAyICogTWF0aC5hY29zKCBNYXRoLmFicyggTWF0aFV0aWxzLmNsYW1wKCB0aGlzLmRvdCggcSApLCAtIDEsIDEgKSApICk7XG5cblx0fVxuXG5cdHJvdGF0ZVRvd2FyZHMoIHEsIHN0ZXAgKSB7XG5cblx0XHRjb25zdCBhbmdsZSA9IHRoaXMuYW5nbGVUbyggcSApO1xuXG5cdFx0aWYgKCBhbmdsZSA9PT0gMCApIHJldHVybiB0aGlzO1xuXG5cdFx0Y29uc3QgdCA9IE1hdGgubWluKCAxLCBzdGVwIC8gYW5nbGUgKTtcblxuXHRcdHRoaXMuc2xlcnAoIHEsIHQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpZGVudGl0eSgpIHtcblxuXHRcdHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMSApO1xuXG5cdH1cblxuXHRpbnZlcnNlKCkge1xuXG5cdFx0Ly8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGhcblxuXHRcdHJldHVybiB0aGlzLmNvbmp1Z2F0ZSgpO1xuXG5cdH1cblxuXHRjb25qdWdhdGUoKSB7XG5cblx0XHR0aGlzLl94ICo9IC0gMTtcblx0XHR0aGlzLl95ICo9IC0gMTtcblx0XHR0aGlzLl96ICo9IC0gMTtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRkb3QoIHYgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5feCAqIHYuX3ggKyB0aGlzLl95ICogdi5feSArIHRoaXMuX3ogKiB2Ll96ICsgdGhpcy5fdyAqIHYuX3c7XG5cblx0fVxuXG5cdGxlbmd0aFNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3ggKiB0aGlzLl94ICsgdGhpcy5feSAqIHRoaXMuX3kgKyB0aGlzLl96ICogdGhpcy5feiArIHRoaXMuX3cgKiB0aGlzLl93O1xuXG5cdH1cblxuXHRsZW5ndGgoKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLl94ICogdGhpcy5feCArIHRoaXMuX3kgKiB0aGlzLl95ICsgdGhpcy5feiAqIHRoaXMuX3ogKyB0aGlzLl93ICogdGhpcy5fdyApO1xuXG5cdH1cblxuXHRub3JtYWxpemUoKSB7XG5cblx0XHRsZXQgbCA9IHRoaXMubGVuZ3RoKCk7XG5cblx0XHRpZiAoIGwgPT09IDAgKSB7XG5cblx0XHRcdHRoaXMuX3ggPSAwO1xuXHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHR0aGlzLl96ID0gMDtcblx0XHRcdHRoaXMuX3cgPSAxO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bCA9IDEgLyBsO1xuXG5cdFx0XHR0aGlzLl94ID0gdGhpcy5feCAqIGw7XG5cdFx0XHR0aGlzLl95ID0gdGhpcy5feSAqIGw7XG5cdFx0XHR0aGlzLl96ID0gdGhpcy5feiAqIGw7XG5cdFx0XHR0aGlzLl93ID0gdGhpcy5fdyAqIGw7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIHEsIHAgKSB7XG5cblx0XHRpZiAoIHAgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggcSwgcCApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyggdGhpcywgcSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggcSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnMoIHEsIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlRdWF0ZXJuaW9ucyggYSwgYiApIHtcblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9jb2RlL2luZGV4Lmh0bVxuXG5cdFx0Y29uc3QgcWF4ID0gYS5feCwgcWF5ID0gYS5feSwgcWF6ID0gYS5feiwgcWF3ID0gYS5fdztcblx0XHRjb25zdCBxYnggPSBiLl94LCBxYnkgPSBiLl95LCBxYnogPSBiLl96LCBxYncgPSBiLl93O1xuXG5cdFx0dGhpcy5feCA9IHFheCAqIHFidyArIHFhdyAqIHFieCArIHFheSAqIHFieiAtIHFheiAqIHFieTtcblx0XHR0aGlzLl95ID0gcWF5ICogcWJ3ICsgcWF3ICogcWJ5ICsgcWF6ICogcWJ4IC0gcWF4ICogcWJ6O1xuXHRcdHRoaXMuX3ogPSBxYXogKiBxYncgKyBxYXcgKiBxYnogKyBxYXggKiBxYnkgLSBxYXkgKiBxYng7XG5cdFx0dGhpcy5fdyA9IHFhdyAqIHFidyAtIHFheCAqIHFieCAtIHFheSAqIHFieSAtIHFheiAqIHFiejtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzbGVycCggcWIsIHQgKSB7XG5cblx0XHRpZiAoIHQgPT09IDAgKSByZXR1cm4gdGhpcztcblx0XHRpZiAoIHQgPT09IDEgKSByZXR1cm4gdGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMuX3gsIHkgPSB0aGlzLl95LCB6ID0gdGhpcy5feiwgdyA9IHRoaXMuX3c7XG5cblx0XHQvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL3JlYWxOb3JtZWRBbGdlYnJhL3F1YXRlcm5pb25zL3NsZXJwL1xuXG5cdFx0bGV0IGNvc0hhbGZUaGV0YSA9IHcgKiBxYi5fdyArIHggKiBxYi5feCArIHkgKiBxYi5feSArIHogKiBxYi5fejtcblxuXHRcdGlmICggY29zSGFsZlRoZXRhIDwgMCApIHtcblxuXHRcdFx0dGhpcy5fdyA9IC0gcWIuX3c7XG5cdFx0XHR0aGlzLl94ID0gLSBxYi5feDtcblx0XHRcdHRoaXMuX3kgPSAtIHFiLl95O1xuXHRcdFx0dGhpcy5feiA9IC0gcWIuX3o7XG5cblx0XHRcdGNvc0hhbGZUaGV0YSA9IC0gY29zSGFsZlRoZXRhO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGhpcy5jb3B5KCBxYiApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBjb3NIYWxmVGhldGEgPj0gMS4wICkge1xuXG5cdFx0XHR0aGlzLl93ID0gdztcblx0XHRcdHRoaXMuX3ggPSB4O1xuXHRcdFx0dGhpcy5feSA9IHk7XG5cdFx0XHR0aGlzLl96ID0gejtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHR9XG5cblx0XHRjb25zdCBzcXJTaW5IYWxmVGhldGEgPSAxLjAgLSBjb3NIYWxmVGhldGEgKiBjb3NIYWxmVGhldGE7XG5cblx0XHRpZiAoIHNxclNpbkhhbGZUaGV0YSA8PSBOdW1iZXIuRVBTSUxPTiApIHtcblxuXHRcdFx0Y29uc3QgcyA9IDEgLSB0O1xuXHRcdFx0dGhpcy5fdyA9IHMgKiB3ICsgdCAqIHRoaXMuX3c7XG5cdFx0XHR0aGlzLl94ID0gcyAqIHggKyB0ICogdGhpcy5feDtcblx0XHRcdHRoaXMuX3kgPSBzICogeSArIHQgKiB0aGlzLl95O1xuXHRcdFx0dGhpcy5feiA9IHMgKiB6ICsgdCAqIHRoaXMuX3o7XG5cblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XG5cdFx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2luSGFsZlRoZXRhID0gTWF0aC5zcXJ0KCBzcXJTaW5IYWxmVGhldGEgKTtcblx0XHRjb25zdCBoYWxmVGhldGEgPSBNYXRoLmF0YW4yKCBzaW5IYWxmVGhldGEsIGNvc0hhbGZUaGV0YSApO1xuXHRcdGNvbnN0IHJhdGlvQSA9IE1hdGguc2luKCAoIDEgLSB0ICkgKiBoYWxmVGhldGEgKSAvIHNpbkhhbGZUaGV0YSxcblx0XHRcdHJhdGlvQiA9IE1hdGguc2luKCB0ICogaGFsZlRoZXRhICkgLyBzaW5IYWxmVGhldGE7XG5cblx0XHR0aGlzLl93ID0gKCB3ICogcmF0aW9BICsgdGhpcy5fdyAqIHJhdGlvQiApO1xuXHRcdHRoaXMuX3ggPSAoIHggKiByYXRpb0EgKyB0aGlzLl94ICogcmF0aW9CICk7XG5cdFx0dGhpcy5feSA9ICggeSAqIHJhdGlvQSArIHRoaXMuX3kgKiByYXRpb0IgKTtcblx0XHR0aGlzLl96ID0gKCB6ICogcmF0aW9BICsgdGhpcy5feiAqIHJhdGlvQiApO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcXVhdGVybmlvbiApIHtcblxuXHRcdHJldHVybiAoIHF1YXRlcm5pb24uX3ggPT09IHRoaXMuX3ggKSAmJiAoIHF1YXRlcm5pb24uX3kgPT09IHRoaXMuX3kgKSAmJiAoIHF1YXRlcm5pb24uX3ogPT09IHRoaXMuX3ogKSAmJiAoIHF1YXRlcm5pb24uX3cgPT09IHRoaXMuX3cgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy5feSA9IGFycmF5WyBvZmZzZXQgKyAxIF07XG5cdFx0dGhpcy5feiA9IGFycmF5WyBvZmZzZXQgKyAyIF07XG5cdFx0dGhpcy5fdyA9IGFycmF5WyBvZmZzZXQgKyAzIF07XG5cblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dG9BcnJheSggYXJyYXkgPSBbXSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGFycmF5WyBvZmZzZXQgXSA9IHRoaXMuX3g7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMuX3k7XG5cdFx0YXJyYXlbIG9mZnNldCArIDIgXSA9IHRoaXMuX3o7XG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRoaXMuX3c7XG5cblx0XHRyZXR1cm4gYXJyYXk7XG5cblx0fVxuXG5cdGZyb21CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSwgaW5kZXggKSB7XG5cblx0XHR0aGlzLl94ID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy5feSA9IGF0dHJpYnV0ZS5nZXRZKCBpbmRleCApO1xuXHRcdHRoaXMuX3ogPSBhdHRyaWJ1dGUuZ2V0WiggaW5kZXggKTtcblx0XHR0aGlzLl93ID0gYXR0cmlidXRlLmdldFcoIGluZGV4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0X29uQ2hhbmdlKCBjYWxsYmFjayApIHtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRfb25DaGFuZ2VDYWxsYmFjaygpIHt9XG5cbn1cblxuZXhwb3J0IHsgUXVhdGVybmlvbiB9O1xuIiwiaW1wb3J0IHsgTWF0aFV0aWxzIH0gZnJvbSAnLi9NYXRoVXRpbHMuanMnO1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4vUXVhdGVybmlvbi5qcyc7XG5cbmNsYXNzIFZlY3RvcjMge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwICkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNWZWN0b3IzJywgeyB2YWx1ZTogdHJ1ZSB9ICk7XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy56ID0gejtcblxuXHR9XG5cblx0c2V0KCB4LCB5LCB6ICkge1xuXG5cdFx0aWYgKCB6ID09PSB1bmRlZmluZWQgKSB6ID0gdGhpcy56OyAvLyBzcHJpdGUuc2NhbGUuc2V0KHgseSlcblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLnogPSB6O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldFNjYWxhciggc2NhbGFyICkge1xuXG5cdFx0dGhpcy54ID0gc2NhbGFyO1xuXHRcdHRoaXMueSA9IHNjYWxhcjtcblx0XHR0aGlzLnogPSBzY2FsYXI7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WCggeCApIHtcblxuXHRcdHRoaXMueCA9IHg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WSggeSApIHtcblxuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0WiggeiApIHtcblxuXHRcdHRoaXMueiA9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0Q29tcG9uZW50KCBpbmRleCwgdmFsdWUgKSB7XG5cblx0XHRzd2l0Y2ggKCBpbmRleCApIHtcblxuXHRcdFx0Y2FzZSAwOiB0aGlzLnggPSB2YWx1ZTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHRoaXMueSA9IHZhbHVlOyBicmVhaztcblx0XHRcdGNhc2UgMjogdGhpcy56ID0gdmFsdWU7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCAnaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnICsgaW5kZXggKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDb21wb25lbnQoIGluZGV4ICkge1xuXG5cdFx0c3dpdGNoICggaW5kZXggKSB7XG5cblx0XHRcdGNhc2UgMDogcmV0dXJuIHRoaXMueDtcblx0XHRcdGNhc2UgMTogcmV0dXJuIHRoaXMueTtcblx0XHRcdGNhc2UgMjogcmV0dXJuIHRoaXMuejtcblx0XHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvciggJ2luZGV4IGlzIG91dCBvZiByYW5nZTogJyArIGluZGV4ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCB0aGlzLngsIHRoaXMueSwgdGhpcy56ICk7XG5cblx0fVxuXG5cdGNvcHkoIHYgKSB7XG5cblx0XHR0aGlzLnggPSB2Lng7XG5cdFx0dGhpcy55ID0gdi55O1xuXHRcdHRoaXMueiA9IHYuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGQoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLmFkZFZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCArPSB2Lng7XG5cdFx0dGhpcy55ICs9IHYueTtcblx0XHR0aGlzLnogKz0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCArPSBzO1xuXHRcdHRoaXMueSArPSBzO1xuXHRcdHRoaXMueiArPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFkZFZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggKyBiLng7XG5cdFx0dGhpcy55ID0gYS55ICsgYi55O1xuXHRcdHRoaXMueiA9IGEueiArIGIuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRhZGRTY2FsZWRWZWN0b3IoIHYsIHMgKSB7XG5cblx0XHR0aGlzLnggKz0gdi54ICogcztcblx0XHR0aGlzLnkgKz0gdi55ICogcztcblx0XHR0aGlzLnogKz0gdi56ICogcztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzdWIoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLnN1YlZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMueCAtPSB2Lng7XG5cdFx0dGhpcy55IC09IHYueTtcblx0XHR0aGlzLnogLT0gdi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlNjYWxhciggcyApIHtcblxuXHRcdHRoaXMueCAtPSBzO1xuXHRcdHRoaXMueSAtPSBzO1xuXHRcdHRoaXMueiAtPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHN1YlZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHR0aGlzLnggPSBhLnggLSBiLng7XG5cdFx0dGhpcy55ID0gYS55IC0gYi55O1xuXHRcdHRoaXMueiA9IGEueiAtIGIuejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtdWx0aXBseSggdiwgdyApIHtcblxuXHRcdGlmICggdyAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicgKTtcblx0XHRcdHJldHVybiB0aGlzLm11bHRpcGx5VmVjdG9ycyggdiwgdyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ICo9IHYueDtcblx0XHR0aGlzLnkgKj0gdi55O1xuXHRcdHRoaXMueiAqPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHlTY2FsYXIoIHNjYWxhciApIHtcblxuXHRcdHRoaXMueCAqPSBzY2FsYXI7XG5cdFx0dGhpcy55ICo9IHNjYWxhcjtcblx0XHR0aGlzLnogKj0gc2NhbGFyO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5VmVjdG9ycyggYSwgYiApIHtcblxuXHRcdHRoaXMueCA9IGEueCAqIGIueDtcblx0XHR0aGlzLnkgPSBhLnkgKiBiLnk7XG5cdFx0dGhpcy56ID0gYS56ICogYi56O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5RXVsZXIoIGV1bGVyICkge1xuXG5cdFx0aWYgKCAhICggZXVsZXIgJiYgZXVsZXIuaXNFdWxlciApICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuVmVjdG9yMzogLmFwcGx5RXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbiggX3F1YXRlcm5pb24uc2V0RnJvbUV1bGVyKCBldWxlciApICk7XG5cblx0fVxuXG5cdGFwcGx5QXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbiggX3F1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSggYXhpcywgYW5nbGUgKSApO1xuXG5cdH1cblxuXHRhcHBseU1hdHJpeDMoIG0gKSB7XG5cblx0XHRjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55LCB6ID0gdGhpcy56O1xuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMCBdICogeCArIGVbIDMgXSAqIHkgKyBlWyA2IF0gKiB6O1xuXHRcdHRoaXMueSA9IGVbIDEgXSAqIHggKyBlWyA0IF0gKiB5ICsgZVsgNyBdICogejtcblx0XHR0aGlzLnogPSBlWyAyIF0gKiB4ICsgZVsgNSBdICogeSArIGVbIDggXSAqIHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXBwbHlOb3JtYWxNYXRyaXgoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDMoIG0gKS5ub3JtYWxpemUoKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgeiA9IHRoaXMuejtcblx0XHRjb25zdCBlID0gbS5lbGVtZW50cztcblxuXHRcdGNvbnN0IHcgPSAxIC8gKCBlWyAzIF0gKiB4ICsgZVsgNyBdICogeSArIGVbIDExIF0gKiB6ICsgZVsgMTUgXSApO1xuXG5cdFx0dGhpcy54ID0gKCBlWyAwIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDggXSAqIHogKyBlWyAxMiBdICkgKiB3O1xuXHRcdHRoaXMueSA9ICggZVsgMSBdICogeCArIGVbIDUgXSAqIHkgKyBlWyA5IF0gKiB6ICsgZVsgMTMgXSApICogdztcblx0XHR0aGlzLnogPSAoIGVbIDIgXSAqIHggKyBlWyA2IF0gKiB5ICsgZVsgMTAgXSAqIHogKyBlWyAxNCBdICkgKiB3O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5UXVhdGVybmlvbiggcSApIHtcblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgcXggPSBxLngsIHF5ID0gcS55LCBxeiA9IHEueiwgcXcgPSBxLnc7XG5cblx0XHQvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3RvclxuXG5cdFx0Y29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XG5cdFx0Y29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG5cdFx0Y29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG5cdFx0Y29uc3QgaXcgPSAtIHF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcblxuXHRcdC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuXHRcdHRoaXMueCA9IGl4ICogcXcgKyBpdyAqIC0gcXggKyBpeSAqIC0gcXogLSBpeiAqIC0gcXk7XG5cdFx0dGhpcy55ID0gaXkgKiBxdyArIGl3ICogLSBxeSArIGl6ICogLSBxeCAtIGl4ICogLSBxejtcblx0XHR0aGlzLnogPSBpeiAqIHF3ICsgaXcgKiAtIHF6ICsgaXggKiAtIHF5IC0gaXkgKiAtIHF4O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHByb2plY3QoIGNhbWVyYSApIHtcblxuXHRcdHJldHVybiB0aGlzLmFwcGx5TWF0cml4NCggY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSApLmFwcGx5TWF0cml4NCggY2FtZXJhLnByb2plY3Rpb25NYXRyaXggKTtcblxuXHR9XG5cblx0dW5wcm9qZWN0KCBjYW1lcmEgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSApLmFwcGx5TWF0cml4NCggY2FtZXJhLm1hdHJpeFdvcmxkICk7XG5cblx0fVxuXG5cdHRyYW5zZm9ybURpcmVjdGlvbiggbSApIHtcblxuXHRcdC8vIGlucHV0OiBUSFJFRS5NYXRyaXg0IGFmZmluZSBtYXRyaXhcblx0XHQvLyB2ZWN0b3IgaW50ZXJwcmV0ZWQgYXMgYSBkaXJlY3Rpb25cblxuXHRcdGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnksIHogPSB0aGlzLno7XG5cdFx0Y29uc3QgZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0aGlzLnggPSBlWyAwIF0gKiB4ICsgZVsgNCBdICogeSArIGVbIDggXSAqIHo7XG5cdFx0dGhpcy55ID0gZVsgMSBdICogeCArIGVbIDUgXSAqIHkgKyBlWyA5IF0gKiB6O1xuXHRcdHRoaXMueiA9IGVbIDIgXSAqIHggKyBlWyA2IF0gKiB5ICsgZVsgMTAgXSAqIHo7XG5cblx0XHRyZXR1cm4gdGhpcy5ub3JtYWxpemUoKTtcblxuXHR9XG5cblx0ZGl2aWRlKCB2ICkge1xuXG5cdFx0dGhpcy54IC89IHYueDtcblx0XHR0aGlzLnkgLz0gdi55O1xuXHRcdHRoaXMueiAvPSB2Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGl2aWRlU2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIHNjYWxhciApO1xuXG5cdH1cblxuXHRtaW4oIHYgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1pbiggdGhpcy54LCB2LnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1pbiggdGhpcy55LCB2LnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1pbiggdGhpcy56LCB2LnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYXgoIHYgKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLm1heCggdGhpcy54LCB2LnggKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggdGhpcy55LCB2LnkgKTtcblx0XHR0aGlzLnogPSBNYXRoLm1heCggdGhpcy56LCB2LnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbGFtcCggbWluLCBtYXggKSB7XG5cblx0XHQvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZVxuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIG1pbi54LCBNYXRoLm1pbiggbWF4LngsIHRoaXMueCApICk7XG5cdFx0dGhpcy55ID0gTWF0aC5tYXgoIG1pbi55LCBNYXRoLm1pbiggbWF4LnksIHRoaXMueSApICk7XG5cdFx0dGhpcy56ID0gTWF0aC5tYXgoIG1pbi56LCBNYXRoLm1pbiggbWF4LnosIHRoaXMueiApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXBTY2FsYXIoIG1pblZhbCwgbWF4VmFsICkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4oIG1heFZhbCwgdGhpcy54ICkgKTtcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbiggbWF4VmFsLCB0aGlzLnkgKSApO1xuXHRcdHRoaXMueiA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKCBtYXhWYWwsIHRoaXMueiApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xhbXBMZW5ndGgoIG1pbiwgbWF4ICkge1xuXG5cdFx0Y29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcblxuXHRcdHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggbGVuZ3RoIHx8IDEgKS5tdWx0aXBseVNjYWxhciggTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG1heCwgbGVuZ3RoICkgKSApO1xuXG5cdH1cblxuXHRmbG9vcigpIHtcblxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9IE1hdGguZmxvb3IoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNlaWwoKSB7XG5cblx0XHR0aGlzLnggPSBNYXRoLmNlaWwoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGguY2VpbCggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gTWF0aC5jZWlsKCB0aGlzLnogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRyb3VuZCgpIHtcblxuXHRcdHRoaXMueCA9IE1hdGgucm91bmQoIHRoaXMueCApO1xuXHRcdHRoaXMueSA9IE1hdGgucm91bmQoIHRoaXMueSApO1xuXHRcdHRoaXMueiA9IE1hdGgucm91bmQoIHRoaXMueiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHJvdW5kVG9aZXJvKCkge1xuXG5cdFx0dGhpcy54ID0gKCB0aGlzLnggPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueCApIDogTWF0aC5mbG9vciggdGhpcy54ICk7XG5cdFx0dGhpcy55ID0gKCB0aGlzLnkgPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueSApIDogTWF0aC5mbG9vciggdGhpcy55ICk7XG5cdFx0dGhpcy56ID0gKCB0aGlzLnogPCAwICkgPyBNYXRoLmNlaWwoIHRoaXMueiApIDogTWF0aC5mbG9vciggdGhpcy56ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bmVnYXRlKCkge1xuXG5cdFx0dGhpcy54ID0gLSB0aGlzLng7XG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XG5cdFx0dGhpcy56ID0gLSB0aGlzLno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZG90KCB2ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejtcblxuXHR9XG5cblx0Ly8gVE9ETyBsZW5ndGhTcXVhcmVkP1xuXG5cdGxlbmd0aFNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcblxuXHR9XG5cblx0bGVuZ3RoKCkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICk7XG5cblx0fVxuXG5cdG1hbmhhdHRhbkxlbmd0aCgpIHtcblxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54ICkgKyBNYXRoLmFicyggdGhpcy55ICkgKyBNYXRoLmFicyggdGhpcy56ICk7XG5cblx0fVxuXG5cdG5vcm1hbGl6ZSgpIHtcblxuXHRcdHJldHVybiB0aGlzLmRpdmlkZVNjYWxhciggdGhpcy5sZW5ndGgoKSB8fCAxICk7XG5cblx0fVxuXG5cdHNldExlbmd0aCggbGVuZ3RoICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoIGxlbmd0aCApO1xuXG5cdH1cblxuXHRsZXJwKCB2LCBhbHBoYSApIHtcblxuXHRcdHRoaXMueCArPSAoIHYueCAtIHRoaXMueCApICogYWxwaGE7XG5cdFx0dGhpcy55ICs9ICggdi55IC0gdGhpcy55ICkgKiBhbHBoYTtcblx0XHR0aGlzLnogKz0gKCB2LnogLSB0aGlzLnogKSAqIGFscGhhO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGxlcnBWZWN0b3JzKCB2MSwgdjIsIGFscGhhICkge1xuXG5cdFx0dGhpcy54ID0gdjEueCArICggdjIueCAtIHYxLnggKSAqIGFscGhhO1xuXHRcdHRoaXMueSA9IHYxLnkgKyAoIHYyLnkgLSB2MS55ICkgKiBhbHBoYTtcblx0XHR0aGlzLnogPSB2MS56ICsgKCB2Mi56IC0gdjEueiApICogYWxwaGE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y3Jvc3MoIHYsIHcgKSB7XG5cblx0XHRpZiAoIHcgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuVmVjdG9yMzogLmNyb3NzKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuY3Jvc3NWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnMoIHYsIHcgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyggdGhpcywgdiApO1xuXG5cdH1cblxuXHRjcm9zc1ZlY3RvcnMoIGEsIGIgKSB7XG5cblx0XHRjb25zdCBheCA9IGEueCwgYXkgPSBhLnksIGF6ID0gYS56O1xuXHRcdGNvbnN0IGJ4ID0gYi54LCBieSA9IGIueSwgYnogPSBiLno7XG5cblx0XHR0aGlzLnggPSBheSAqIGJ6IC0gYXogKiBieTtcblx0XHR0aGlzLnkgPSBheiAqIGJ4IC0gYXggKiBiejtcblx0XHR0aGlzLnogPSBheCAqIGJ5IC0gYXkgKiBieDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRwcm9qZWN0T25WZWN0b3IoIHYgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHYubGVuZ3RoU3EoKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgPT09IDAgKSByZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAgKTtcblxuXHRcdGNvbnN0IHNjYWxhciA9IHYuZG90KCB0aGlzICkgLyBkZW5vbWluYXRvcjtcblxuXHRcdHJldHVybiB0aGlzLmNvcHkoIHYgKS5tdWx0aXBseVNjYWxhciggc2NhbGFyICk7XG5cblx0fVxuXG5cdHByb2plY3RPblBsYW5lKCBwbGFuZU5vcm1hbCApIHtcblxuXHRcdF92ZWN0b3IuY29weSggdGhpcyApLnByb2plY3RPblZlY3RvciggcGxhbmVOb3JtYWwgKTtcblxuXHRcdHJldHVybiB0aGlzLnN1YiggX3ZlY3RvciApO1xuXG5cdH1cblxuXHRyZWZsZWN0KCBub3JtYWwgKSB7XG5cblx0XHQvLyByZWZsZWN0IGluY2lkZW50IHZlY3RvciBvZmYgcGxhbmUgb3J0aG9nb25hbCB0byBub3JtYWxcblx0XHQvLyBub3JtYWwgaXMgYXNzdW1lZCB0byBoYXZlIHVuaXQgbGVuZ3RoXG5cblx0XHRyZXR1cm4gdGhpcy5zdWIoIF92ZWN0b3IuY29weSggbm9ybWFsICkubXVsdGlwbHlTY2FsYXIoIDIgKiB0aGlzLmRvdCggbm9ybWFsICkgKSApO1xuXG5cdH1cblxuXHRhbmdsZVRvKCB2ICkge1xuXG5cdFx0Y29uc3QgZGVub21pbmF0b3IgPSBNYXRoLnNxcnQoIHRoaXMubGVuZ3RoU3EoKSAqIHYubGVuZ3RoU3EoKSApO1xuXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiBNYXRoLlBJIC8gMjtcblxuXHRcdGNvbnN0IHRoZXRhID0gdGhpcy5kb3QoIHYgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0Ly8gY2xhbXAsIHRvIGhhbmRsZSBudW1lcmljYWwgcHJvYmxlbXNcblxuXHRcdHJldHVybiBNYXRoLmFjb3MoIE1hdGhVdGlscy5jbGFtcCggdGhldGEsIC0gMSwgMSApICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG8oIHYgKSB7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KCB0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKCB2ICkgKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1NxdWFyZWQoIHYgKSB7XG5cblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgZHkgPSB0aGlzLnkgLSB2LnksIGR6ID0gdGhpcy56IC0gdi56O1xuXG5cdFx0cmV0dXJuIGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkejtcblxuXHR9XG5cblx0bWFuaGF0dGFuRGlzdGFuY2VUbyggdiApIHtcblxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54IC0gdi54ICkgKyBNYXRoLmFicyggdGhpcy55IC0gdi55ICkgKyBNYXRoLmFicyggdGhpcy56IC0gdi56ICk7XG5cblx0fVxuXG5cdHNldEZyb21TcGhlcmljYWwoIHMgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKCBzLnJhZGl1cywgcy5waGksIHMudGhldGEgKTtcblxuXHR9XG5cblx0c2V0RnJvbVNwaGVyaWNhbENvb3JkcyggcmFkaXVzLCBwaGksIHRoZXRhICkge1xuXG5cdFx0Y29uc3Qgc2luUGhpUmFkaXVzID0gTWF0aC5zaW4oIHBoaSApICogcmFkaXVzO1xuXG5cdFx0dGhpcy54ID0gc2luUGhpUmFkaXVzICogTWF0aC5zaW4oIHRoZXRhICk7XG5cdFx0dGhpcy55ID0gTWF0aC5jb3MoIHBoaSApICogcmFkaXVzO1xuXHRcdHRoaXMueiA9IHNpblBoaVJhZGl1cyAqIE1hdGguY29zKCB0aGV0YSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DeWxpbmRyaWNhbCggYyApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21DeWxpbmRyaWNhbENvb3JkcyggYy5yYWRpdXMsIGMudGhldGEsIGMueSApO1xuXG5cdH1cblxuXHRzZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMoIHJhZGl1cywgdGhldGEsIHkgKSB7XG5cblx0XHR0aGlzLnggPSByYWRpdXMgKiBNYXRoLnNpbiggdGhldGEgKTtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMueiA9IHJhZGl1cyAqIE1hdGguY29zKCB0aGV0YSApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXhQb3NpdGlvbiggbSApIHtcblxuXHRcdGNvbnN0IGUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy54ID0gZVsgMTIgXTtcblx0XHR0aGlzLnkgPSBlWyAxMyBdO1xuXHRcdHRoaXMueiA9IGVbIDE0IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU1hdHJpeFNjYWxlKCBtICkge1xuXG5cdFx0Y29uc3Qgc3ggPSB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIG0sIDAgKS5sZW5ndGgoKTtcblx0XHRjb25zdCBzeSA9IHRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbiggbSwgMSApLmxlbmd0aCgpO1xuXHRcdGNvbnN0IHN6ID0gdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAyICkubGVuZ3RoKCk7XG5cblx0XHR0aGlzLnggPSBzeDtcblx0XHR0aGlzLnkgPSBzeTtcblx0XHR0aGlzLnogPSBzejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tTWF0cml4Q29sdW1uKCBtLCBpbmRleCApIHtcblxuXHRcdHJldHVybiB0aGlzLmZyb21BcnJheSggbS5lbGVtZW50cywgaW5kZXggKiA0ICk7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXgzQ29sdW1uKCBtLCBpbmRleCApIHtcblxuXHRcdHJldHVybiB0aGlzLmZyb21BcnJheSggbS5lbGVtZW50cywgaW5kZXggKiAzICk7XG5cblx0fVxuXG5cdGVxdWFscyggdiApIHtcblxuXHRcdHJldHVybiAoICggdi54ID09PSB0aGlzLnggKSAmJiAoIHYueSA9PT0gdGhpcy55ICkgJiYgKCB2LnogPT09IHRoaXMueiApICk7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHR0aGlzLnggPSBhcnJheVsgb2Zmc2V0IF07XG5cdFx0dGhpcy55ID0gYXJyYXlbIG9mZnNldCArIDEgXTtcblx0XHR0aGlzLnogPSBhcnJheVsgb2Zmc2V0ICsgMiBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLng7XG5cdFx0YXJyYXlbIG9mZnNldCArIDEgXSA9IHRoaXMueTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMiBdID0gdGhpcy56O1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxuXHRmcm9tQnVmZmVyQXR0cmlidXRlKCBhdHRyaWJ1dGUsIGluZGV4LCBvZmZzZXQgKSB7XG5cblx0XHRpZiAoIG9mZnNldCAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5WZWN0b3IzOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuJyApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy54ID0gYXR0cmlidXRlLmdldFgoIGluZGV4ICk7XG5cdFx0dGhpcy55ID0gYXR0cmlidXRlLmdldFkoIGluZGV4ICk7XG5cdFx0dGhpcy56ID0gYXR0cmlidXRlLmdldFooIGluZGV4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmFuZG9tKCkge1xuXG5cdFx0dGhpcy54ID0gTWF0aC5yYW5kb20oKTtcblx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpO1xuXHRcdHRoaXMueiA9IE1hdGgucmFuZG9tKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cbn1cblxuY29uc3QgX3ZlY3RvciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9xdWF0ZXJuaW9uID0gLypAX19QVVJFX18qLyBuZXcgUXVhdGVybmlvbigpO1xuXG5cbmV4cG9ydCB7IFZlY3RvcjMgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jbGFzcyBNYXRyaXg0IHtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzTWF0cml4NCcsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0dGhpcy5lbGVtZW50cyA9IFtcblxuXHRcdFx0MSwgMCwgMCwgMCxcblx0XHRcdDAsIDEsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0XTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cblx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLicgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0c2V0KCBuMTEsIG4xMiwgbjEzLCBuMTQsIG4yMSwgbjIyLCBuMjMsIG4yNCwgbjMxLCBuMzIsIG4zMywgbjM0LCBuNDEsIG40MiwgbjQzLCBuNDQgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbjExOyB0ZVsgNCBdID0gbjEyOyB0ZVsgOCBdID0gbjEzOyB0ZVsgMTIgXSA9IG4xNDtcblx0XHR0ZVsgMSBdID0gbjIxOyB0ZVsgNSBdID0gbjIyOyB0ZVsgOSBdID0gbjIzOyB0ZVsgMTMgXSA9IG4yNDtcblx0XHR0ZVsgMiBdID0gbjMxOyB0ZVsgNiBdID0gbjMyOyB0ZVsgMTAgXSA9IG4zMzsgdGVbIDE0IF0gPSBuMzQ7XG5cdFx0dGVbIDMgXSA9IG40MTsgdGVbIDcgXSA9IG40MjsgdGVbIDExIF0gPSBuNDM7IHRlWyAxNSBdID0gbjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLCAwLFxuXHRcdFx0MCwgMCwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IE1hdHJpeDQoKS5mcm9tQXJyYXkoIHRoaXMuZWxlbWVudHMgKTtcblxuXHR9XG5cblx0Y29weSggbSApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG0uZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXTsgdGVbIDEgXSA9IG1lWyAxIF07IHRlWyAyIF0gPSBtZVsgMiBdOyB0ZVsgMyBdID0gbWVbIDMgXTtcblx0XHR0ZVsgNCBdID0gbWVbIDQgXTsgdGVbIDUgXSA9IG1lWyA1IF07IHRlWyA2IF0gPSBtZVsgNiBdOyB0ZVsgNyBdID0gbWVbIDcgXTtcblx0XHR0ZVsgOCBdID0gbWVbIDggXTsgdGVbIDkgXSA9IG1lWyA5IF07IHRlWyAxMCBdID0gbWVbIDEwIF07IHRlWyAxMSBdID0gbWVbIDExIF07XG5cdFx0dGVbIDEyIF0gPSBtZVsgMTIgXTsgdGVbIDEzIF0gPSBtZVsgMTMgXTsgdGVbIDE0IF0gPSBtZVsgMTQgXTsgdGVbIDE1IF0gPSBtZVsgMTUgXTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb3B5UG9zaXRpb24oIG0gKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHMsIG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAxMiBdID0gbWVbIDEyIF07XG5cdFx0dGVbIDEzIF0gPSBtZVsgMTMgXTtcblx0XHR0ZVsgMTQgXSA9IG1lWyAxNCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4oIHRoaXMsIDAgKTtcblx0XHR5QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKCB0aGlzLCAxICk7XG5cdFx0ekF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHRoaXMuc2V0KFxuXHRcdFx0eEF4aXMueCwgeUF4aXMueCwgekF4aXMueCwgMCxcblx0XHRcdHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAsXG5cdFx0XHR4QXhpcy56LCB5QXhpcy56LCB6QXhpcy56LCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXh0cmFjdFJvdGF0aW9uKCBtICkge1xuXG5cdFx0Ly8gdGhpcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCByZWZsZWN0aW9uIG1hdHJpY2VzXG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3Qgc2NhbGVYID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAwICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVZID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAxICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc2NhbGVaID0gMSAvIF92MS5zZXRGcm9tTWF0cml4Q29sdW1uKCBtLCAyICkubGVuZ3RoKCk7XG5cblx0XHR0ZVsgMCBdID0gbWVbIDAgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMSBdID0gbWVbIDEgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMiBdID0gbWVbIDIgXSAqIHNjYWxlWDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSBtZVsgNCBdICogc2NhbGVZO1xuXHRcdHRlWyA1IF0gPSBtZVsgNSBdICogc2NhbGVZO1xuXHRcdHRlWyA2IF0gPSBtZVsgNiBdICogc2NhbGVZO1xuXHRcdHRlWyA3IF0gPSAwO1xuXG5cdFx0dGVbIDggXSA9IG1lWyA4IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDkgXSA9IG1lWyA5IF0gKiBzY2FsZVo7XG5cdFx0dGVbIDEwIF0gPSBtZVsgMTAgXSAqIHNjYWxlWjtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IDA7XG5cdFx0dGVbIDEzIF0gPSAwO1xuXHRcdHRlWyAxNCBdID0gMDtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVJvdGF0aW9uRnJvbUV1bGVyKCBldWxlciApIHtcblxuXHRcdGlmICggISAoIGV1bGVyICYmIGV1bGVyLmlzRXVsZXIgKSApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IGV1bGVyLngsIHkgPSBldWxlci55LCB6ID0gZXVsZXIuejtcblx0XHRjb25zdCBhID0gTWF0aC5jb3MoIHggKSwgYiA9IE1hdGguc2luKCB4ICk7XG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCB5ICksIGQgPSBNYXRoLnNpbiggeSApO1xuXHRcdGNvbnN0IGUgPSBNYXRoLmNvcyggeiApLCBmID0gTWF0aC5zaW4oIHogKTtcblxuXHRcdGlmICggZXVsZXIub3JkZXIgPT09ICdYWVonICkge1xuXG5cdFx0XHRjb25zdCBhZSA9IGEgKiBlLCBhZiA9IGEgKiBmLCBiZSA9IGIgKiBlLCBiZiA9IGIgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gLSBjICogZjtcblx0XHRcdHRlWyA4IF0gPSBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYWYgKyBiZSAqIGQ7XG5cdFx0XHR0ZVsgNSBdID0gYWUgLSBiZiAqIGQ7XG5cdFx0XHR0ZVsgOSBdID0gLSBiICogYztcblxuXHRcdFx0dGVbIDIgXSA9IGJmIC0gYWUgKiBkO1xuXHRcdFx0dGVbIDYgXSA9IGJlICsgYWYgKiBkO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWVhaJyApIHtcblxuXHRcdFx0Y29uc3QgY2UgPSBjICogZSwgY2YgPSBjICogZiwgZGUgPSBkICogZSwgZGYgPSBkICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGNlICsgZGYgKiBiO1xuXHRcdFx0dGVbIDQgXSA9IGRlICogYiAtIGNmO1xuXHRcdFx0dGVbIDggXSA9IGEgKiBkO1xuXG5cdFx0XHR0ZVsgMSBdID0gYSAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYSAqIGU7XG5cdFx0XHR0ZVsgOSBdID0gLSBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gY2YgKiBiIC0gZGU7XG5cdFx0XHR0ZVsgNiBdID0gZGYgKyBjZSAqIGI7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdaWFknICkge1xuXG5cdFx0XHRjb25zdCBjZSA9IGMgKiBlLCBjZiA9IGMgKiBmLCBkZSA9IGQgKiBlLCBkZiA9IGQgKiBmO1xuXG5cdFx0XHR0ZVsgMCBdID0gY2UgLSBkZiAqIGI7XG5cdFx0XHR0ZVsgNCBdID0gLSBhICogZjtcblx0XHRcdHRlWyA4IF0gPSBkZSArIGNmICogYjtcblxuXHRcdFx0dGVbIDEgXSA9IGNmICsgZGUgKiBiO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGRmIC0gY2UgKiBiO1xuXG5cdFx0XHR0ZVsgMiBdID0gLSBhICogZDtcblx0XHRcdHRlWyA2IF0gPSBiO1xuXHRcdFx0dGVbIDEwIF0gPSBhICogYztcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWllYJyApIHtcblxuXHRcdFx0Y29uc3QgYWUgPSBhICogZSwgYWYgPSBhICogZiwgYmUgPSBiICogZSwgYmYgPSBiICogZjtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IGJlICogZCAtIGFmO1xuXHRcdFx0dGVbIDggXSA9IGFlICogZCArIGJmO1xuXG5cdFx0XHR0ZVsgMSBdID0gYyAqIGY7XG5cdFx0XHR0ZVsgNSBdID0gYmYgKiBkICsgYWU7XG5cdFx0XHR0ZVsgOSBdID0gYWYgKiBkIC0gYmU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGM7XG5cdFx0XHR0ZVsgMTAgXSA9IGEgKiBjO1xuXG5cdFx0fSBlbHNlIGlmICggZXVsZXIub3JkZXIgPT09ICdZWlgnICkge1xuXG5cdFx0XHRjb25zdCBhYyA9IGEgKiBjLCBhZCA9IGEgKiBkLCBiYyA9IGIgKiBjLCBiZCA9IGIgKiBkO1xuXG5cdFx0XHR0ZVsgMCBdID0gYyAqIGU7XG5cdFx0XHR0ZVsgNCBdID0gYmQgLSBhYyAqIGY7XG5cdFx0XHR0ZVsgOCBdID0gYmMgKiBmICsgYWQ7XG5cblx0XHRcdHRlWyAxIF0gPSBmO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IC0gYiAqIGU7XG5cblx0XHRcdHRlWyAyIF0gPSAtIGQgKiBlO1xuXHRcdFx0dGVbIDYgXSA9IGFkICogZiArIGJjO1xuXHRcdFx0dGVbIDEwIF0gPSBhYyAtIGJkICogZjtcblxuXHRcdH0gZWxzZSBpZiAoIGV1bGVyLm9yZGVyID09PSAnWFpZJyApIHtcblxuXHRcdFx0Y29uc3QgYWMgPSBhICogYywgYWQgPSBhICogZCwgYmMgPSBiICogYywgYmQgPSBiICogZDtcblxuXHRcdFx0dGVbIDAgXSA9IGMgKiBlO1xuXHRcdFx0dGVbIDQgXSA9IC0gZjtcblx0XHRcdHRlWyA4IF0gPSBkICogZTtcblxuXHRcdFx0dGVbIDEgXSA9IGFjICogZiArIGJkO1xuXHRcdFx0dGVbIDUgXSA9IGEgKiBlO1xuXHRcdFx0dGVbIDkgXSA9IGFkICogZiAtIGJjO1xuXG5cdFx0XHR0ZVsgMiBdID0gYmMgKiBmIC0gYWQ7XG5cdFx0XHR0ZVsgNiBdID0gYiAqIGU7XG5cdFx0XHR0ZVsgMTAgXSA9IGJkICogZiArIGFjO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYm90dG9tIHJvd1xuXHRcdHRlWyAzIF0gPSAwO1xuXHRcdHRlWyA3IF0gPSAwO1xuXHRcdHRlWyAxMSBdID0gMDtcblxuXHRcdC8vIGxhc3QgY29sdW1uXG5cdFx0dGVbIDEyIF0gPSAwO1xuXHRcdHRlWyAxMyBdID0gMDtcblx0XHR0ZVsgMTQgXSA9IDA7XG5cdFx0dGVbIDE1IF0gPSAxO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCBxICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuY29tcG9zZSggX3plcm8sIHEsIF9vbmUgKTtcblxuXHR9XG5cblx0bG9va0F0KCBleWUsIHRhcmdldCwgdXAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRfei5zdWJWZWN0b3JzKCBleWUsIHRhcmdldCApO1xuXG5cdFx0aWYgKCBfei5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb25cblxuXHRcdFx0X3oueiA9IDE7XG5cblx0XHR9XG5cblx0XHRfei5ub3JtYWxpemUoKTtcblx0XHRfeC5jcm9zc1ZlY3RvcnMoIHVwLCBfeiApO1xuXG5cdFx0aWYgKCBfeC5sZW5ndGhTcSgpID09PSAwICkge1xuXG5cdFx0XHQvLyB1cCBhbmQgeiBhcmUgcGFyYWxsZWxcblxuXHRcdFx0aWYgKCBNYXRoLmFicyggdXAueiApID09PSAxICkge1xuXG5cdFx0XHRcdF96LnggKz0gMC4wMDAxO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdF96LnogKz0gMC4wMDAxO1xuXG5cdFx0XHR9XG5cblx0XHRcdF96Lm5vcm1hbGl6ZSgpO1xuXHRcdFx0X3guY3Jvc3NWZWN0b3JzKCB1cCwgX3ogKTtcblxuXHRcdH1cblxuXHRcdF94Lm5vcm1hbGl6ZSgpO1xuXHRcdF95LmNyb3NzVmVjdG9ycyggX3osIF94ICk7XG5cblx0XHR0ZVsgMCBdID0gX3gueDsgdGVbIDQgXSA9IF95Lng7IHRlWyA4IF0gPSBfei54O1xuXHRcdHRlWyAxIF0gPSBfeC55OyB0ZVsgNSBdID0gX3kueTsgdGVbIDkgXSA9IF96Lnk7XG5cdFx0dGVbIDIgXSA9IF94Lno7IHRlWyA2IF0gPSBfeS56OyB0ZVsgMTAgXSA9IF96Lno7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0sIG4gKSB7XG5cblx0XHRpZiAoIG4gIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIGluc3RlYWQuJyApO1xuXHRcdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgbiApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggdGhpcywgbSApO1xuXG5cdH1cblxuXHRwcmVtdWx0aXBseSggbSApIHtcblxuXHRcdHJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoIG0sIHRoaXMgKTtcblxuXHR9XG5cblx0bXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIHtcblxuXHRcdGNvbnN0IGFlID0gYS5lbGVtZW50cztcblx0XHRjb25zdCBiZSA9IGIuZWxlbWVudHM7XG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgYTExID0gYWVbIDAgXSwgYTEyID0gYWVbIDQgXSwgYTEzID0gYWVbIDggXSwgYTE0ID0gYWVbIDEyIF07XG5cdFx0Y29uc3QgYTIxID0gYWVbIDEgXSwgYTIyID0gYWVbIDUgXSwgYTIzID0gYWVbIDkgXSwgYTI0ID0gYWVbIDEzIF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDYgXSwgYTMzID0gYWVbIDEwIF0sIGEzNCA9IGFlWyAxNCBdO1xuXHRcdGNvbnN0IGE0MSA9IGFlWyAzIF0sIGE0MiA9IGFlWyA3IF0sIGE0MyA9IGFlWyAxMSBdLCBhNDQgPSBhZVsgMTUgXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyA0IF0sIGIxMyA9IGJlWyA4IF0sIGIxNCA9IGJlWyAxMiBdO1xuXHRcdGNvbnN0IGIyMSA9IGJlWyAxIF0sIGIyMiA9IGJlWyA1IF0sIGIyMyA9IGJlWyA5IF0sIGIyNCA9IGJlWyAxMyBdO1xuXHRcdGNvbnN0IGIzMSA9IGJlWyAyIF0sIGIzMiA9IGJlWyA2IF0sIGIzMyA9IGJlWyAxMCBdLCBiMzQgPSBiZVsgMTQgXTtcblx0XHRjb25zdCBiNDEgPSBiZVsgMyBdLCBiNDIgPSBiZVsgNyBdLCBiNDMgPSBiZVsgMTEgXSwgYjQ0ID0gYmVbIDE1IF07XG5cblx0XHR0ZVsgMCBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxICsgYTE0ICogYjQxO1xuXHRcdHRlWyA0IF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDI7XG5cdFx0dGVbIDggXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMyArIGExNCAqIGI0Mztcblx0XHR0ZVsgMTIgXSA9IGExMSAqIGIxNCArIGExMiAqIGIyNCArIGExMyAqIGIzNCArIGExNCAqIGI0NDtcblxuXHRcdHRlWyAxIF0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzEgKyBhMjQgKiBiNDE7XG5cdFx0dGVbIDUgXSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMiArIGEyNCAqIGI0Mjtcblx0XHR0ZVsgOSBdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzO1xuXHRcdHRlWyAxMyBdID0gYTIxICogYjE0ICsgYTIyICogYjI0ICsgYTIzICogYjM0ICsgYTI0ICogYjQ0O1xuXG5cdFx0dGVbIDIgXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MTtcblx0XHR0ZVsgNiBdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyICsgYTM0ICogYjQyO1xuXHRcdHRlWyAxMCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzICsgYTM0ICogYjQzO1xuXHRcdHRlWyAxNCBdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0O1xuXG5cdFx0dGVbIDMgXSA9IGE0MSAqIGIxMSArIGE0MiAqIGIyMSArIGE0MyAqIGIzMSArIGE0NCAqIGI0MTtcblx0XHR0ZVsgNyBdID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyO1xuXHRcdHRlWyAxMSBdID0gYTQxICogYjEzICsgYTQyICogYjIzICsgYTQzICogYjMzICsgYTQ0ICogYjQzO1xuXHRcdHRlWyAxNSBdID0gYTQxICogYjE0ICsgYTQyICogYjI0ICsgYTQzICogYjM0ICsgYTQ0ICogYjQ0O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgNCBdICo9IHM7IHRlWyA4IF0gKj0gczsgdGVbIDEyIF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA1IF0gKj0gczsgdGVbIDkgXSAqPSBzOyB0ZVsgMTMgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDYgXSAqPSBzOyB0ZVsgMTAgXSAqPSBzOyB0ZVsgMTQgXSAqPSBzO1xuXHRcdHRlWyAzIF0gKj0gczsgdGVbIDcgXSAqPSBzOyB0ZVsgMTEgXSAqPSBzOyB0ZVsgMTUgXSAqPSBzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGRldGVybWluYW50KCkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgbjExID0gdGVbIDAgXSwgbjEyID0gdGVbIDQgXSwgbjEzID0gdGVbIDggXSwgbjE0ID0gdGVbIDEyIF07XG5cdFx0Y29uc3QgbjIxID0gdGVbIDEgXSwgbjIyID0gdGVbIDUgXSwgbjIzID0gdGVbIDkgXSwgbjI0ID0gdGVbIDEzIF07XG5cdFx0Y29uc3QgbjMxID0gdGVbIDIgXSwgbjMyID0gdGVbIDYgXSwgbjMzID0gdGVbIDEwIF0sIG4zNCA9IHRlWyAxNCBdO1xuXHRcdGNvbnN0IG40MSA9IHRlWyAzIF0sIG40MiA9IHRlWyA3IF0sIG40MyA9IHRlWyAxMSBdLCBuNDQgPSB0ZVsgMTUgXTtcblxuXHRcdC8vVE9ETzogbWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50XG5cdFx0Ly8oIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bSApXG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0bjQxICogKFxuXHRcdFx0XHQrIG4xNCAqIG4yMyAqIG4zMlxuXHRcdFx0XHQgLSBuMTMgKiBuMjQgKiBuMzJcblx0XHRcdFx0IC0gbjE0ICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMiAqIG4yNCAqIG4zM1xuXHRcdFx0XHQgKyBuMTMgKiBuMjIgKiBuMzRcblx0XHRcdFx0IC0gbjEyICogbjIzICogbjM0XG5cdFx0XHQpICtcblx0XHRcdG40MiAqIChcblx0XHRcdFx0KyBuMTEgKiBuMjMgKiBuMzRcblx0XHRcdFx0IC0gbjExICogbjI0ICogbjMzXG5cdFx0XHRcdCArIG4xNCAqIG4yMSAqIG4zM1xuXHRcdFx0XHQgLSBuMTMgKiBuMjEgKiBuMzRcblx0XHRcdFx0ICsgbjEzICogbjI0ICogbjMxXG5cdFx0XHRcdCAtIG4xNCAqIG4yMyAqIG4zMVxuXHRcdFx0KSArXG5cdFx0XHRuNDMgKiAoXG5cdFx0XHRcdCsgbjExICogbjI0ICogbjMyXG5cdFx0XHRcdCAtIG4xMSAqIG4yMiAqIG4zNFxuXHRcdFx0XHQgLSBuMTQgKiBuMjEgKiBuMzJcblx0XHRcdFx0ICsgbjEyICogbjIxICogbjM0XG5cdFx0XHRcdCArIG4xNCAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTIgKiBuMjQgKiBuMzFcblx0XHRcdCkgK1xuXHRcdFx0bjQ0ICogKFxuXHRcdFx0XHQtIG4xMyAqIG4yMiAqIG4zMVxuXHRcdFx0XHQgLSBuMTEgKiBuMjMgKiBuMzJcblx0XHRcdFx0ICsgbjExICogbjIyICogbjMzXG5cdFx0XHRcdCArIG4xMyAqIG4yMSAqIG4zMlxuXHRcdFx0XHQgLSBuMTIgKiBuMjEgKiBuMzNcblx0XHRcdFx0ICsgbjEyICogbjIzICogbjMxXG5cdFx0XHQpXG5cblx0XHQpO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0bGV0IHRtcDtcblxuXHRcdHRtcCA9IHRlWyAxIF07IHRlWyAxIF0gPSB0ZVsgNCBdOyB0ZVsgNCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAyIF07IHRlWyAyIF0gPSB0ZVsgOCBdOyB0ZVsgOCBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyA2IF07IHRlWyA2IF0gPSB0ZVsgOSBdOyB0ZVsgOSBdID0gdG1wO1xuXG5cdFx0dG1wID0gdGVbIDMgXTsgdGVbIDMgXSA9IHRlWyAxMiBdOyB0ZVsgMTIgXSA9IHRtcDtcblx0XHR0bXAgPSB0ZVsgNyBdOyB0ZVsgNyBdID0gdGVbIDEzIF07IHRlWyAxMyBdID0gdG1wO1xuXHRcdHRtcCA9IHRlWyAxMSBdOyB0ZVsgMTEgXSA9IHRlWyAxNCBdOyB0ZVsgMTQgXSA9IHRtcDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRQb3NpdGlvbiggeCwgeSwgeiApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdGlmICggeC5pc1ZlY3RvcjMgKSB7XG5cblx0XHRcdHRlWyAxMiBdID0geC54O1xuXHRcdFx0dGVbIDEzIF0gPSB4Lnk7XG5cdFx0XHR0ZVsgMTQgXSA9IHguejtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRlWyAxMiBdID0geDtcblx0XHRcdHRlWyAxMyBdID0geTtcblx0XHRcdHRlWyAxNCBdID0gejtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRJbnZlcnNlKCBtLCB0aHJvd09uRGVnZW5lcmF0ZSApIHtcblxuXHRcdGlmICggdGhyb3dPbkRlZ2VuZXJhdGUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCBcIlRIUkVFLk1hdHJpeDQ6IC5nZXRJbnZlcnNlKCkgY2FuIG5vIGxvbmdlciBiZSBjb25maWd1cmVkIHRvIHRocm93IG9uIGRlZ2VuZXJhdGUuXCIgKTtcblxuXHRcdH1cblxuXHRcdC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bVxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cyxcblx0XHRcdG1lID0gbS5lbGVtZW50cyxcblxuXHRcdFx0bjExID0gbWVbIDAgXSwgbjIxID0gbWVbIDEgXSwgbjMxID0gbWVbIDIgXSwgbjQxID0gbWVbIDMgXSxcblx0XHRcdG4xMiA9IG1lWyA0IF0sIG4yMiA9IG1lWyA1IF0sIG4zMiA9IG1lWyA2IF0sIG40MiA9IG1lWyA3IF0sXG5cdFx0XHRuMTMgPSBtZVsgOCBdLCBuMjMgPSBtZVsgOSBdLCBuMzMgPSBtZVsgMTAgXSwgbjQzID0gbWVbIDExIF0sXG5cdFx0XHRuMTQgPSBtZVsgMTIgXSwgbjI0ID0gbWVbIDEzIF0sIG4zNCA9IG1lWyAxNCBdLCBuNDQgPSBtZVsgMTUgXSxcblxuXHRcdFx0dDExID0gbjIzICogbjM0ICogbjQyIC0gbjI0ICogbjMzICogbjQyICsgbjI0ICogbjMyICogbjQzIC0gbjIyICogbjM0ICogbjQzIC0gbjIzICogbjMyICogbjQ0ICsgbjIyICogbjMzICogbjQ0LFxuXHRcdFx0dDEyID0gbjE0ICogbjMzICogbjQyIC0gbjEzICogbjM0ICogbjQyIC0gbjE0ICogbjMyICogbjQzICsgbjEyICogbjM0ICogbjQzICsgbjEzICogbjMyICogbjQ0IC0gbjEyICogbjMzICogbjQ0LFxuXHRcdFx0dDEzID0gbjEzICogbjI0ICogbjQyIC0gbjE0ICogbjIzICogbjQyICsgbjE0ICogbjIyICogbjQzIC0gbjEyICogbjI0ICogbjQzIC0gbjEzICogbjIyICogbjQ0ICsgbjEyICogbjIzICogbjQ0LFxuXHRcdFx0dDE0ID0gbjE0ICogbjIzICogbjMyIC0gbjEzICogbjI0ICogbjMyIC0gbjE0ICogbjIyICogbjMzICsgbjEyICogbjI0ICogbjMzICsgbjEzICogbjIyICogbjM0IC0gbjEyICogbjIzICogbjM0O1xuXG5cdFx0Y29uc3QgZGV0ID0gbjExICogdDExICsgbjIxICogdDEyICsgbjMxICogdDEzICsgbjQxICogdDE0O1xuXG5cdFx0aWYgKCBkZXQgPT09IDAgKSByZXR1cm4gdGhpcy5zZXQoIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAgKTtcblxuXHRcdGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG5cblx0XHR0ZVsgMCBdID0gdDExICogZGV0SW52O1xuXHRcdHRlWyAxIF0gPSAoIG4yNCAqIG4zMyAqIG40MSAtIG4yMyAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMSAqIG40MyArIG4yMSAqIG4zNCAqIG40MyArIG4yMyAqIG4zMSAqIG40NCAtIG4yMSAqIG4zMyAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAyIF0gPSAoIG4yMiAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMiAqIG40MSArIG4yNCAqIG4zMSAqIG40MiAtIG4yMSAqIG4zNCAqIG40MiAtIG4yMiAqIG4zMSAqIG40NCArIG4yMSAqIG4zMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAzIF0gPSAoIG4yMyAqIG4zMiAqIG40MSAtIG4yMiAqIG4zMyAqIG40MSAtIG4yMyAqIG4zMSAqIG40MiArIG4yMSAqIG4zMyAqIG40MiArIG4yMiAqIG4zMSAqIG40MyAtIG4yMSAqIG4zMiAqIG40MyApICogZGV0SW52O1xuXG5cdFx0dGVbIDQgXSA9IHQxMiAqIGRldEludjtcblx0XHR0ZVsgNSBdID0gKCBuMTMgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzMgKiBuNDEgKyBuMTQgKiBuMzEgKiBuNDMgLSBuMTEgKiBuMzQgKiBuNDMgLSBuMTMgKiBuMzEgKiBuNDQgKyBuMTEgKiBuMzMgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNiBdID0gKCBuMTQgKiBuMzIgKiBuNDEgLSBuMTIgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzEgKiBuNDIgKyBuMTEgKiBuMzQgKiBuNDIgKyBuMTIgKiBuMzEgKiBuNDQgLSBuMTEgKiBuMzIgKiBuNDQgKSAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyA4IF0gPSB0MTMgKiBkZXRJbnY7XG5cdFx0dGVbIDkgXSA9ICggbjE0ICogbjIzICogbjQxIC0gbjEzICogbjI0ICogbjQxIC0gbjE0ICogbjIxICogbjQzICsgbjExICogbjI0ICogbjQzICsgbjEzICogbjIxICogbjQ0IC0gbjExICogbjIzICogbjQ0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDEwIF0gPSAoIG4xMiAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMiAqIG40MSArIG4xNCAqIG4yMSAqIG40MiAtIG4xMSAqIG4yNCAqIG40MiAtIG4xMiAqIG4yMSAqIG40NCArIG4xMSAqIG4yMiAqIG40NCApICogZGV0SW52O1xuXHRcdHRlWyAxMSBdID0gKCBuMTMgKiBuMjIgKiBuNDEgLSBuMTIgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjEgKiBuNDIgKyBuMTEgKiBuMjMgKiBuNDIgKyBuMTIgKiBuMjEgKiBuNDMgLSBuMTEgKiBuMjIgKiBuNDMgKSAqIGRldEludjtcblxuXHRcdHRlWyAxMiBdID0gdDE0ICogZGV0SW52O1xuXHRcdHRlWyAxMyBdID0gKCBuMTMgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjMgKiBuMzEgKyBuMTQgKiBuMjEgKiBuMzMgLSBuMTEgKiBuMjQgKiBuMzMgLSBuMTMgKiBuMjEgKiBuMzQgKyBuMTEgKiBuMjMgKiBuMzQgKSAqIGRldEludjtcblx0XHR0ZVsgMTQgXSA9ICggbjE0ICogbjIyICogbjMxIC0gbjEyICogbjI0ICogbjMxIC0gbjE0ICogbjIxICogbjMyICsgbjExICogbjI0ICogbjMyICsgbjEyICogbjIxICogbjM0IC0gbjExICogbjIyICogbjM0ICkgKiBkZXRJbnY7XG5cdFx0dGVbIDE1IF0gPSAoIG4xMiAqIG4yMyAqIG4zMSAtIG4xMyAqIG4yMiAqIG4zMSArIG4xMyAqIG4yMSAqIG4zMiAtIG4xMSAqIG4yMyAqIG4zMiAtIG4xMiAqIG4yMSAqIG4zMyArIG4xMSAqIG4yMiAqIG4zMyApICogZGV0SW52O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNjYWxlKCB2ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IHggPSB2LngsIHkgPSB2LnksIHogPSB2Lno7XG5cblx0XHR0ZVsgMCBdICo9IHg7IHRlWyA0IF0gKj0geTsgdGVbIDggXSAqPSB6O1xuXHRcdHRlWyAxIF0gKj0geDsgdGVbIDUgXSAqPSB5OyB0ZVsgOSBdICo9IHo7XG5cdFx0dGVbIDIgXSAqPSB4OyB0ZVsgNiBdICo9IHk7IHRlWyAxMCBdICo9IHo7XG5cdFx0dGVbIDMgXSAqPSB4OyB0ZVsgNyBdICo9IHk7IHRlWyAxMSBdICo9IHo7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0TWF4U2NhbGVPbkF4aXMoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBzY2FsZVhTcSA9IHRlWyAwIF0gKiB0ZVsgMCBdICsgdGVbIDEgXSAqIHRlWyAxIF0gKyB0ZVsgMiBdICogdGVbIDIgXTtcblx0XHRjb25zdCBzY2FsZVlTcSA9IHRlWyA0IF0gKiB0ZVsgNCBdICsgdGVbIDUgXSAqIHRlWyA1IF0gKyB0ZVsgNiBdICogdGVbIDYgXTtcblx0XHRjb25zdCBzY2FsZVpTcSA9IHRlWyA4IF0gKiB0ZVsgOCBdICsgdGVbIDkgXSAqIHRlWyA5IF0gKyB0ZVsgMTAgXSAqIHRlWyAxMCBdO1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggTWF0aC5tYXgoIHNjYWxlWFNxLCBzY2FsZVlTcSwgc2NhbGVaU3EgKSApO1xuXG5cdH1cblxuXHRtYWtlVHJhbnNsYXRpb24oIHgsIHksIHogKSB7XG5cblx0XHR0aGlzLnNldChcblxuXHRcdFx0MSwgMCwgMCwgeCxcblx0XHRcdDAsIDEsIDAsIHksXG5cdFx0XHQwLCAwLCAxLCB6LFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25YKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsIDAsXG5cdFx0XHQwLCBjLCAtIHMsIDAsXG5cdFx0XHQwLCBzLCBjLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25ZKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdCBjLCAwLCBzLCAwLFxuXHRcdFx0IDAsIDEsIDAsIDAsXG5cdFx0XHQtIHMsIDAsIGMsIDAsXG5cdFx0XHQgMCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25aKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKSwgcyA9IE1hdGguc2luKCB0aGV0YSApO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdGMsIC0gcywgMCwgMCxcblx0XHRcdHMsIGMsIDAsIDAsXG5cdFx0XHQwLCAwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUm90YXRpb25BeGlzKCBheGlzLCBhbmdsZSApIHtcblxuXHRcdC8vIEJhc2VkIG9uIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvcmVmZXJlbmNlL2FydGljbGVzL2FydGljbGUxMTk5LmFzcFxuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCBhbmdsZSApO1xuXHRcdGNvbnN0IHMgPSBNYXRoLnNpbiggYW5nbGUgKTtcblx0XHRjb25zdCB0ID0gMSAtIGM7XG5cdFx0Y29uc3QgeCA9IGF4aXMueCwgeSA9IGF4aXMueSwgeiA9IGF4aXMuejtcblx0XHRjb25zdCB0eCA9IHQgKiB4LCB0eSA9IHQgKiB5O1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHR4ICogeCArIGMsIHR4ICogeSAtIHMgKiB6LCB0eCAqIHogKyBzICogeSwgMCxcblx0XHRcdHR4ICogeSArIHMgKiB6LCB0eSAqIHkgKyBjLCB0eSAqIHogLSBzICogeCwgMCxcblx0XHRcdHR4ICogeiAtIHMgKiB5LCB0eSAqIHogKyBzICogeCwgdCAqIHogKiB6ICsgYywgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNjYWxlKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdHgsIDAsIDAsIDAsXG5cdFx0XHQwLCB5LCAwLCAwLFxuXHRcdFx0MCwgMCwgeiwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZVNoZWFyKCB4LCB5LCB6ICkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIHksIHosIDAsXG5cdFx0XHR4LCAxLCB6LCAwLFxuXHRcdFx0eCwgeSwgMSwgMCxcblx0XHRcdDAsIDAsIDAsIDFcblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y29tcG9zZSggcG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0Y29uc3QgeCA9IHF1YXRlcm5pb24uX3gsIHkgPSBxdWF0ZXJuaW9uLl95LCB6ID0gcXVhdGVybmlvbi5feiwgdyA9IHF1YXRlcm5pb24uX3c7XG5cdFx0Y29uc3QgeDIgPSB4ICsgeCxcdHkyID0geSArIHksIHoyID0geiArIHo7XG5cdFx0Y29uc3QgeHggPSB4ICogeDIsIHh5ID0geCAqIHkyLCB4eiA9IHggKiB6Mjtcblx0XHRjb25zdCB5eSA9IHkgKiB5MiwgeXogPSB5ICogejIsIHp6ID0geiAqIHoyO1xuXHRcdGNvbnN0IHd4ID0gdyAqIHgyLCB3eSA9IHcgKiB5Miwgd3ogPSB3ICogejI7XG5cblx0XHRjb25zdCBzeCA9IHNjYWxlLngsIHN5ID0gc2NhbGUueSwgc3ogPSBzY2FsZS56O1xuXG5cdFx0dGVbIDAgXSA9ICggMSAtICggeXkgKyB6eiApICkgKiBzeDtcblx0XHR0ZVsgMSBdID0gKCB4eSArIHd6ICkgKiBzeDtcblx0XHR0ZVsgMiBdID0gKCB4eiAtIHd5ICkgKiBzeDtcblx0XHR0ZVsgMyBdID0gMDtcblxuXHRcdHRlWyA0IF0gPSAoIHh5IC0gd3ogKSAqIHN5O1xuXHRcdHRlWyA1IF0gPSAoIDEgLSAoIHh4ICsgenogKSApICogc3k7XG5cdFx0dGVbIDYgXSA9ICggeXogKyB3eCApICogc3k7XG5cdFx0dGVbIDcgXSA9IDA7XG5cblx0XHR0ZVsgOCBdID0gKCB4eiArIHd5ICkgKiBzejtcblx0XHR0ZVsgOSBdID0gKCB5eiAtIHd4ICkgKiBzejtcblx0XHR0ZVsgMTAgXSA9ICggMSAtICggeHggKyB5eSApICkgKiBzejtcblx0XHR0ZVsgMTEgXSA9IDA7XG5cblx0XHR0ZVsgMTIgXSA9IHBvc2l0aW9uLng7XG5cdFx0dGVbIDEzIF0gPSBwb3NpdGlvbi55O1xuXHRcdHRlWyAxNCBdID0gcG9zaXRpb24uejtcblx0XHR0ZVsgMTUgXSA9IDE7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGVjb21wb3NlKCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRsZXQgc3ggPSBfdjEuc2V0KCB0ZVsgMCBdLCB0ZVsgMSBdLCB0ZVsgMiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3kgPSBfdjEuc2V0KCB0ZVsgNCBdLCB0ZVsgNSBdLCB0ZVsgNiBdICkubGVuZ3RoKCk7XG5cdFx0Y29uc3Qgc3ogPSBfdjEuc2V0KCB0ZVsgOCBdLCB0ZVsgOSBdLCB0ZVsgMTAgXSApLmxlbmd0aCgpO1xuXG5cdFx0Ly8gaWYgZGV0ZXJtaW5lIGlzIG5lZ2F0aXZlLCB3ZSBuZWVkIHRvIGludmVydCBvbmUgc2NhbGVcblx0XHRjb25zdCBkZXQgPSB0aGlzLmRldGVybWluYW50KCk7XG5cdFx0aWYgKCBkZXQgPCAwICkgc3ggPSAtIHN4O1xuXG5cdFx0cG9zaXRpb24ueCA9IHRlWyAxMiBdO1xuXHRcdHBvc2l0aW9uLnkgPSB0ZVsgMTMgXTtcblx0XHRwb3NpdGlvbi56ID0gdGVbIDE0IF07XG5cblx0XHQvLyBzY2FsZSB0aGUgcm90YXRpb24gcGFydFxuXHRcdF9tMS5jb3B5KCB0aGlzICk7XG5cblx0XHRjb25zdCBpbnZTWCA9IDEgLyBzeDtcblx0XHRjb25zdCBpbnZTWSA9IDEgLyBzeTtcblx0XHRjb25zdCBpbnZTWiA9IDEgLyBzejtcblxuXHRcdF9tMS5lbGVtZW50c1sgMCBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMSBdICo9IGludlNYO1xuXHRcdF9tMS5lbGVtZW50c1sgMiBdICo9IGludlNYO1xuXG5cdFx0X20xLmVsZW1lbnRzWyA0IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA1IF0gKj0gaW52U1k7XG5cdFx0X20xLmVsZW1lbnRzWyA2IF0gKj0gaW52U1k7XG5cblx0XHRfbTEuZWxlbWVudHNbIDggXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDkgXSAqPSBpbnZTWjtcblx0XHRfbTEuZWxlbWVudHNbIDEwIF0gKj0gaW52U1o7XG5cblx0XHRxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCggX20xICk7XG5cblx0XHRzY2FsZS54ID0gc3g7XG5cdFx0c2NhbGUueSA9IHN5O1xuXHRcdHNjYWxlLnogPSBzejtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRtYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkge1xuXG5cdFx0aWYgKCBmYXIgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLicgKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCB4ID0gMiAqIG5lYXIgLyAoIHJpZ2h0IC0gbGVmdCApO1xuXHRcdGNvbnN0IHkgPSAyICogbmVhciAvICggdG9wIC0gYm90dG9tICk7XG5cblx0XHRjb25zdCBhID0gKCByaWdodCArIGxlZnQgKSAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgYiA9ICggdG9wICsgYm90dG9tICkgLyAoIHRvcCAtIGJvdHRvbSApO1xuXHRcdGNvbnN0IGMgPSAtICggZmFyICsgbmVhciApIC8gKCBmYXIgLSBuZWFyICk7XG5cdFx0Y29uc3QgZCA9IC0gMiAqIGZhciAqIG5lYXIgLyAoIGZhciAtIG5lYXIgKTtcblxuXHRcdHRlWyAwIF0gPSB4O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gYTtcdHRlWyAxMiBdID0gMDtcblx0XHR0ZVsgMSBdID0gMDtcdHRlWyA1IF0gPSB5O1x0dGVbIDkgXSA9IGI7XHR0ZVsgMTMgXSA9IDA7XG5cdFx0dGVbIDIgXSA9IDA7XHR0ZVsgNiBdID0gMDtcdHRlWyAxMCBdID0gYztcdHRlWyAxNCBdID0gZDtcblx0XHR0ZVsgMyBdID0gMDtcdHRlWyA3IF0gPSAwO1x0dGVbIDExIF0gPSAtIDE7XHR0ZVsgMTUgXSA9IDA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZU9ydGhvZ3JhcGhpYyggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cdFx0Y29uc3QgdyA9IDEuMCAvICggcmlnaHQgLSBsZWZ0ICk7XG5cdFx0Y29uc3QgaCA9IDEuMCAvICggdG9wIC0gYm90dG9tICk7XG5cdFx0Y29uc3QgcCA9IDEuMCAvICggZmFyIC0gbmVhciApO1xuXG5cdFx0Y29uc3QgeCA9ICggcmlnaHQgKyBsZWZ0ICkgKiB3O1xuXHRcdGNvbnN0IHkgPSAoIHRvcCArIGJvdHRvbSApICogaDtcblx0XHRjb25zdCB6ID0gKCBmYXIgKyBuZWFyICkgKiBwO1xuXG5cdFx0dGVbIDAgXSA9IDIgKiB3O1x0dGVbIDQgXSA9IDA7XHR0ZVsgOCBdID0gMDtcdHRlWyAxMiBdID0gLSB4O1xuXHRcdHRlWyAxIF0gPSAwO1x0dGVbIDUgXSA9IDIgKiBoO1x0dGVbIDkgXSA9IDA7XHR0ZVsgMTMgXSA9IC0geTtcblx0XHR0ZVsgMiBdID0gMDtcdHRlWyA2IF0gPSAwO1x0dGVbIDEwIF0gPSAtIDIgKiBwO1x0dGVbIDE0IF0gPSAtIHo7XG5cdFx0dGVbIDMgXSA9IDA7XHR0ZVsgNyBdID0gMDtcdHRlWyAxMSBdID0gMDtcdHRlWyAxNSBdID0gMTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIG1hdHJpeCApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblx0XHRjb25zdCBtZSA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHRpZiAoIHRlWyBpIF0gIT09IG1lWyBpIF0gKSByZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSwgb2Zmc2V0ID0gMCApIHtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IDE2OyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRzWyBpIF0gPSBhcnJheVsgaSArIG9mZnNldCBdO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0ZVsgMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0ZVsgMSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0ZVsgMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0ZVsgMyBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDQgXSA9IHRlWyA0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDUgXSA9IHRlWyA1IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDYgXSA9IHRlWyA2IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDcgXSA9IHRlWyA3IF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgOCBdID0gdGVbIDggXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgOSBdID0gdGVbIDkgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTAgXSA9IHRlWyAxMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMSBdID0gdGVbIDExIF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgMTIgXSA9IHRlWyAxMiBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxMyBdID0gdGVbIDEzIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDE0IF0gPSB0ZVsgMTQgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgMTUgXSA9IHRlWyAxNSBdO1xuXG5cdFx0cmV0dXJuIGFycmF5O1xuXG5cdH1cblxufVxuXG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbTEgPSAvKkBfX1BVUkVfXyovIG5ldyBNYXRyaXg0KCk7XG5jb25zdCBfemVybyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoIDAsIDAsIDAgKTtcbmNvbnN0IF9vbmUgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCAxLCAxLCAxICk7XG5jb25zdCBfeCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF95ID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX3ogPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmV4cG9ydCB7IE1hdHJpeDQgfTtcbiIsImltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24uanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMy5qcyc7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSAnLi9NYXRyaXg0LmpzJztcbmltcG9ydCB7IE1hdGhVdGlscyB9IGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY2xhc3MgRXVsZXIge1xuXG5cdGNvbnN0cnVjdG9yKCB4ID0gMCwgeSA9IDAsIHogPSAwLCBvcmRlciA9IEV1bGVyLkRlZmF1bHRPcmRlciApIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzRXVsZXInLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMuX3ggPSB4O1xuXHRcdHRoaXMuX3kgPSB5O1xuXHRcdHRoaXMuX3ogPSB6O1xuXHRcdHRoaXMuX29yZGVyID0gb3JkZXI7XG5cblx0fVxuXG5cdGdldCB4KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cblx0fVxuXG5cdHNldCB4KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ggPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB5KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cblx0fVxuXG5cdHNldCB5KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3kgPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCB6KCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX3o7XG5cblx0fVxuXG5cdHNldCB6KCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX3ogPSB2YWx1ZTtcblx0XHR0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7XG5cblx0fVxuXG5cdGdldCBvcmRlcigpIHtcblxuXHRcdHJldHVybiB0aGlzLl9vcmRlcjtcblxuXHR9XG5cblx0c2V0IG9yZGVyKCB2YWx1ZSApIHtcblxuXHRcdHRoaXMuX29yZGVyID0gdmFsdWU7XG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdH1cblxuXHRzZXQoIHgsIHksIHosIG9yZGVyICkge1xuXG5cdFx0dGhpcy5feCA9IHg7XG5cdFx0dGhpcy5feSA9IHk7XG5cdFx0dGhpcy5feiA9IHo7XG5cdFx0dGhpcy5fb3JkZXIgPSBvcmRlciB8fCB0aGlzLl9vcmRlcjtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiwgdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0Y29weSggZXVsZXIgKSB7XG5cblx0XHR0aGlzLl94ID0gZXVsZXIuX3g7XG5cdFx0dGhpcy5feSA9IGV1bGVyLl95O1xuXHRcdHRoaXMuX3ogPSBldWxlci5fejtcblx0XHR0aGlzLl9vcmRlciA9IGV1bGVyLl9vcmRlcjtcblxuXHRcdHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUm90YXRpb25NYXRyaXgoIG0sIG9yZGVyLCB1cGRhdGUgKSB7XG5cblx0XHRjb25zdCBjbGFtcCA9IE1hdGhVdGlscy5jbGFtcDtcblxuXHRcdC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG5cblx0XHRjb25zdCB0ZSA9IG0uZWxlbWVudHM7XG5cdFx0Y29uc3QgbTExID0gdGVbIDAgXSwgbTEyID0gdGVbIDQgXSwgbTEzID0gdGVbIDggXTtcblx0XHRjb25zdCBtMjEgPSB0ZVsgMSBdLCBtMjIgPSB0ZVsgNSBdLCBtMjMgPSB0ZVsgOSBdO1xuXHRcdGNvbnN0IG0zMSA9IHRlWyAyIF0sIG0zMiA9IHRlWyA2IF0sIG0zMyA9IHRlWyAxMCBdO1xuXG5cdFx0b3JkZXIgPSBvcmRlciB8fCB0aGlzLl9vcmRlcjtcblxuXHRcdHN3aXRjaCAoIG9yZGVyICkge1xuXG5cdFx0XHRjYXNlICdYWVonOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIGNsYW1wKCBtMTMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTEzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hdGFuMiggLSBtMjMsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCAtIG0xMiwgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0yMiApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSAwO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVhaJzpcblxuXHRcdFx0XHR0aGlzLl94ID0gTWF0aC5hc2luKCAtIGNsYW1wKCBtMjMsIC0gMSwgMSApICk7XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggbTIzICkgPCAwLjk5OTk5OTkgKSB7XG5cblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggbTIxLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIC0gbTMxLCBtMTEgKTtcblx0XHRcdFx0XHR0aGlzLl96ID0gMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1pYWSc6XG5cblx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXNpbiggY2xhbXAoIG0zMiwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzIgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmF0YW4yKCAtIG0zMSwgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIC0gbTEyLCBtMjIgKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cdFx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXRhbjIoIG0yMSwgbTExICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdaWVgnOlxuXG5cdFx0XHRcdHRoaXMuX3kgPSBNYXRoLmFzaW4oIC0gY2xhbXAoIG0zMSwgLSAxLCAxICkgKTtcblxuXHRcdFx0XHRpZiAoIE1hdGguYWJzKCBtMzEgKSA8IDAuOTk5OTk5OSApIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCBtMzIsIG0zMyApO1xuXHRcdFx0XHRcdHRoaXMuX3ogPSBNYXRoLmF0YW4yKCBtMjEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hdGFuMiggLSBtMTIsIG0yMiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnWVpYJzpcblxuXHRcdFx0XHR0aGlzLl96ID0gTWF0aC5hc2luKCBjbGFtcCggbTIxLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0yMSApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIC0gbTIzLCBtMjIgKTtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggLSBtMzEsIG0xMSApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHR0aGlzLl94ID0gMDtcblx0XHRcdFx0XHR0aGlzLl95ID0gTWF0aC5hdGFuMiggbTEzLCBtMzMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ1haWSc6XG5cblx0XHRcdFx0dGhpcy5feiA9IE1hdGguYXNpbiggLSBjbGFtcCggbTEyLCAtIDEsIDEgKSApO1xuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIG0xMiApIDwgMC45OTk5OTk5ICkge1xuXG5cdFx0XHRcdFx0dGhpcy5feCA9IE1hdGguYXRhbjIoIG0zMiwgbTIyICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IE1hdGguYXRhbjIoIG0xMywgbTExICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHRoaXMuX3ggPSBNYXRoLmF0YW4yKCAtIG0yMywgbTMzICk7XG5cdFx0XHRcdFx0dGhpcy5feSA9IDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLl9vcmRlciA9IG9yZGVyO1xuXG5cdFx0aWYgKCB1cGRhdGUgIT09IGZhbHNlICkgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21RdWF0ZXJuaW9uKCBxLCBvcmRlciwgdXBkYXRlICkge1xuXG5cdFx0X21hdHJpeC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbiggcSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCBfbWF0cml4LCBvcmRlciwgdXBkYXRlICk7XG5cblx0fVxuXG5cdHNldEZyb21WZWN0b3IzKCB2LCBvcmRlciApIHtcblxuXHRcdHJldHVybiB0aGlzLnNldCggdi54LCB2LnksIHYueiwgb3JkZXIgfHwgdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0cmVvcmRlciggbmV3T3JkZXIgKSB7XG5cblx0XHQvLyBXQVJOSU5HOiB0aGlzIGRpc2NhcmRzIHJldm9sdXRpb24gaW5mb3JtYXRpb24gLWJob3VzdG9uXG5cblx0XHRfcXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoIHRoaXMgKTtcblxuXHRcdHJldHVybiB0aGlzLnNldEZyb21RdWF0ZXJuaW9uKCBfcXVhdGVybmlvbiwgbmV3T3JkZXIgKTtcblxuXHR9XG5cblx0ZXF1YWxzKCBldWxlciApIHtcblxuXHRcdHJldHVybiAoIGV1bGVyLl94ID09PSB0aGlzLl94ICkgJiYgKCBldWxlci5feSA9PT0gdGhpcy5feSApICYmICggZXVsZXIuX3ogPT09IHRoaXMuX3ogKSAmJiAoIGV1bGVyLl9vcmRlciA9PT0gdGhpcy5fb3JkZXIgKTtcblxuXHR9XG5cblx0ZnJvbUFycmF5KCBhcnJheSApIHtcblxuXHRcdHRoaXMuX3ggPSBhcnJheVsgMCBdO1xuXHRcdHRoaXMuX3kgPSBhcnJheVsgMSBdO1xuXHRcdHRoaXMuX3ogPSBhcnJheVsgMiBdO1xuXHRcdGlmICggYXJyYXlbIDMgXSAhPT0gdW5kZWZpbmVkICkgdGhpcy5fb3JkZXIgPSBhcnJheVsgMyBdO1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0aGlzLl94O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0aGlzLl95O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0aGlzLl96O1xuXHRcdGFycmF5WyBvZmZzZXQgKyAzIF0gPSB0aGlzLl9vcmRlcjtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cblx0dG9WZWN0b3IzKCBvcHRpb25hbFJlc3VsdCApIHtcblxuXHRcdGlmICggb3B0aW9uYWxSZXN1bHQgKSB7XG5cblx0XHRcdHJldHVybiBvcHRpb25hbFJlc3VsdC5zZXQoIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3ogKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBuZXcgVmVjdG9yMyggdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feiApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRfb25DaGFuZ2UoIGNhbGxiYWNrICkge1xuXG5cdFx0dGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdF9vbkNoYW5nZUNhbGxiYWNrKCkge31cblxufVxuXG5FdWxlci5EZWZhdWx0T3JkZXIgPSAnWFlaJztcbkV1bGVyLlJvdGF0aW9uT3JkZXJzID0gWyAnWFlaJywgJ1laWCcsICdaWFknLCAnWFpZJywgJ1lYWicsICdaWVgnIF07XG5cbmNvbnN0IF9tYXRyaXggPSAvKkBfX1BVUkVfXyovIG5ldyBNYXRyaXg0KCk7XG5jb25zdCBfcXVhdGVybmlvbiA9IC8qQF9fUFVSRV9fKi8gbmV3IFF1YXRlcm5pb24oKTtcblxuXG5leHBvcnQgeyBFdWxlciB9O1xuIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vVmVjdG9yMi5qcyc7XG5cbmNvbnN0IF92ZWN0b3IgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IyKCk7XG5cbmNsYXNzIEJveDIge1xuXG5cdGNvbnN0cnVjdG9yKCBtaW4sIG1heCApIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzQm94MicsIHsgdmFsdWU6IHRydWUgfSApO1xuXG5cdFx0dGhpcy5taW4gPSAoIG1pbiAhPT0gdW5kZWZpbmVkICkgPyBtaW4gOiBuZXcgVmVjdG9yMiggKyBJbmZpbml0eSwgKyBJbmZpbml0eSApO1xuXHRcdHRoaXMubWF4ID0gKCBtYXggIT09IHVuZGVmaW5lZCApID8gbWF4IDogbmV3IFZlY3RvcjIoIC0gSW5maW5pdHksIC0gSW5maW5pdHkgKTtcblxuXHR9XG5cblx0c2V0KCBtaW4sIG1heCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIG1pbiApO1xuXHRcdHRoaXMubWF4LmNvcHkoIG1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21Qb2ludHMoIHBvaW50cyApIHtcblxuXHRcdHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmV4cGFuZEJ5UG9pbnQoIHBvaW50c1sgaSBdICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUNlbnRlckFuZFNpemUoIGNlbnRlciwgc2l6ZSApIHtcblxuXHRcdGNvbnN0IGhhbGZTaXplID0gX3ZlY3Rvci5jb3B5KCBzaXplICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXHRcdHRoaXMubWluLmNvcHkoIGNlbnRlciApLnN1YiggaGFsZlNpemUgKTtcblx0XHR0aGlzLm1heC5jb3B5KCBjZW50ZXIgKS5hZGQoIGhhbGZTaXplICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGJveCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUVtcHR5KCkge1xuXG5cdFx0dGhpcy5taW4ueCA9IHRoaXMubWluLnkgPSArIEluZmluaXR5O1xuXHRcdHRoaXMubWF4LnggPSB0aGlzLm1heC55ID0gLSBJbmZpbml0eTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRpc0VtcHR5KCkge1xuXG5cdFx0Ly8gdGhpcyBpcyBhIG1vcmUgcm9idXN0IGNoZWNrIGZvciBlbXB0eSB0aGFuICggdm9sdW1lIDw9IDAgKSBiZWNhdXNlIHZvbHVtZSBjYW4gZ2V0IHBvc2l0aXZlIHdpdGggdHdvIG5lZ2F0aXZlIGF4ZXNcblxuXHRcdHJldHVybiAoIHRoaXMubWF4LnggPCB0aGlzLm1pbi54ICkgfHwgKCB0aGlzLm1heC55IDwgdGhpcy5taW4ueSApO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDI6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjIoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAgKSA6IHRhcmdldC5hZGRWZWN0b3JzKCB0aGlzLm1pbiwgdGhpcy5tYXggKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGdldFNpemUoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDI6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwICkgOiB0YXJnZXQuc3ViVmVjdG9ycyggdGhpcy5tYXgsIHRoaXMubWluICk7XG5cblx0fVxuXG5cdGV4cGFuZEJ5UG9pbnQoIHBvaW50ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBwb2ludCApO1xuXHRcdHRoaXMubWF4Lm1heCggcG9pbnQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVZlY3RvciggdmVjdG9yICkge1xuXG5cdFx0dGhpcy5taW4uc3ViKCB2ZWN0b3IgKTtcblx0XHR0aGlzLm1heC5hZGQoIHZlY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGRTY2FsYXIoIC0gc2NhbGFyICk7XG5cdFx0dGhpcy5tYXguYWRkU2NhbGFyKCBzY2FsYXIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjb250YWluc1BvaW50KCBwb2ludCApIHtcblxuXHRcdHJldHVybiBwb2ludC54IDwgdGhpcy5taW4ueCB8fCBwb2ludC54ID4gdGhpcy5tYXgueCB8fFxuXHRcdFx0cG9pbnQueSA8IHRoaXMubWluLnkgfHwgcG9pbnQueSA+IHRoaXMubWF4LnkgPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNvbnRhaW5zQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiZcblx0XHRcdHRoaXMubWluLnkgPD0gYm94Lm1pbi55ICYmIGJveC5tYXgueSA8PSB0aGlzLm1heC55O1xuXG5cdH1cblxuXHRnZXRQYXJhbWV0ZXIoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHQvLyBUaGlzIGNhbiBwb3RlbnRpYWxseSBoYXZlIGEgZGl2aWRlIGJ5IHplcm8gaWYgdGhlIGJveFxuXHRcdC8vIGhhcyBhIHNpemUgZGltZW5zaW9uIG9mIDAuXG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuZ2V0UGFyYW1ldGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IyKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LnNldChcblx0XHRcdCggcG9pbnQueCAtIHRoaXMubWluLnggKSAvICggdGhpcy5tYXgueCAtIHRoaXMubWluLnggKSxcblx0XHRcdCggcG9pbnQueSAtIHRoaXMubWluLnkgKSAvICggdGhpcy5tYXgueSAtIHRoaXMubWluLnkgKVxuXHRcdCk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdC8vIHVzaW5nIDQgc3BsaXR0aW5nIHBsYW5lcyB0byBydWxlIG91dCBpbnRlcnNlY3Rpb25zXG5cblx0XHRyZXR1cm4gYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRib3gubWF4LnkgPCB0aGlzLm1pbi55IHx8IGJveC5taW4ueSA+IHRoaXMubWF4LnkgPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNsYW1wUG9pbnQoIHBvaW50LCB0YXJnZXQgKSB7XG5cblx0XHRpZiAoIHRhcmdldCA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5Cb3gyOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1BvaW50KCBwb2ludCApIHtcblxuXHRcdGNvbnN0IGNsYW1wZWRQb2ludCA9IF92ZWN0b3IuY29weSggcG9pbnQgKS5jbGFtcCggdGhpcy5taW4sIHRoaXMubWF4ICk7XG5cdFx0cmV0dXJuIGNsYW1wZWRQb2ludC5zdWIoIHBvaW50ICkubGVuZ3RoKCk7XG5cblx0fVxuXG5cdGludGVyc2VjdCggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWF4KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWluKCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5pb24oIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1heCggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5taW4uYWRkKCBvZmZzZXQgKTtcblx0XHR0aGlzLm1heC5hZGQoIG9mZnNldCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggYm94ICkge1xuXG5cdFx0cmV0dXJuIGJveC5taW4uZXF1YWxzKCB0aGlzLm1pbiApICYmIGJveC5tYXguZXF1YWxzKCB0aGlzLm1heCApO1xuXG5cdH1cblxufVxuXG5cbmV4cG9ydCB7IEJveDIgfTtcbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL1ZlY3RvcjMuanMnO1xuXG5jbGFzcyBCb3gzIHtcblxuXHRjb25zdHJ1Y3RvciggbWluLCBtYXggKSB7XG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsICdpc0JveDMnLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdHRoaXMubWluID0gKCBtaW4gIT09IHVuZGVmaW5lZCApID8gbWluIDogbmV3IFZlY3RvcjMoICsgSW5maW5pdHksICsgSW5maW5pdHksICsgSW5maW5pdHkgKTtcblx0XHR0aGlzLm1heCA9ICggbWF4ICE9PSB1bmRlZmluZWQgKSA/IG1heCA6IG5ldyBWZWN0b3IzKCAtIEluZmluaXR5LCAtIEluZmluaXR5LCAtIEluZmluaXR5ICk7XG5cblx0fVxuXG5cdHNldCggbWluLCBtYXggKSB7XG5cblx0XHR0aGlzLm1pbi5jb3B5KCBtaW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBtYXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tQXJyYXkoIGFycmF5ICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMyApIHtcblxuXHRcdFx0Y29uc3QgeCA9IGFycmF5WyBpIF07XG5cdFx0XHRjb25zdCB5ID0gYXJyYXlbIGkgKyAxIF07XG5cdFx0XHRjb25zdCB6ID0gYXJyYXlbIGkgKyAyIF07XG5cblx0XHRcdGlmICggeCA8IG1pblggKSBtaW5YID0geDtcblx0XHRcdGlmICggeSA8IG1pblkgKSBtaW5ZID0geTtcblx0XHRcdGlmICggeiA8IG1pblogKSBtaW5aID0gejtcblxuXHRcdFx0aWYgKCB4ID4gbWF4WCApIG1heFggPSB4O1xuXHRcdFx0aWYgKCB5ID4gbWF4WSApIG1heFkgPSB5O1xuXHRcdFx0aWYgKCB6ID4gbWF4WiApIG1heFogPSB6O1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5taW4uc2V0KCBtaW5YLCBtaW5ZLCBtaW5aICk7XG5cdFx0dGhpcy5tYXguc2V0KCBtYXhYLCBtYXhZLCBtYXhaICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkge1xuXG5cdFx0bGV0IG1pblggPSArIEluZmluaXR5O1xuXHRcdGxldCBtaW5ZID0gKyBJbmZpbml0eTtcblx0XHRsZXQgbWluWiA9ICsgSW5maW5pdHk7XG5cblx0XHRsZXQgbWF4WCA9IC0gSW5maW5pdHk7XG5cdFx0bGV0IG1heFkgPSAtIEluZmluaXR5O1xuXHRcdGxldCBtYXhaID0gLSBJbmZpbml0eTtcblxuXHRcdGZvciAoIGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZS5jb3VudDsgaSA8IGw7IGkgKysgKSB7XG5cblx0XHRcdGNvbnN0IHggPSBhdHRyaWJ1dGUuZ2V0WCggaSApO1xuXHRcdFx0Y29uc3QgeSA9IGF0dHJpYnV0ZS5nZXRZKCBpICk7XG5cdFx0XHRjb25zdCB6ID0gYXR0cmlidXRlLmdldFooIGkgKTtcblxuXHRcdFx0aWYgKCB4IDwgbWluWCApIG1pblggPSB4O1xuXHRcdFx0aWYgKCB5IDwgbWluWSApIG1pblkgPSB5O1xuXHRcdFx0aWYgKCB6IDwgbWluWiApIG1pblogPSB6O1xuXG5cdFx0XHRpZiAoIHggPiBtYXhYICkgbWF4WCA9IHg7XG5cdFx0XHRpZiAoIHkgPiBtYXhZICkgbWF4WSA9IHk7XG5cdFx0XHRpZiAoIHogPiBtYXhaICkgbWF4WiA9IHo7XG5cblx0XHR9XG5cblx0XHR0aGlzLm1pbi5zZXQoIG1pblgsIG1pblksIG1pblogKTtcblx0XHR0aGlzLm1heC5zZXQoIG1heFgsIG1heFksIG1heFogKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRGcm9tUG9pbnRzKCBwb2ludHMgKSB7XG5cblx0XHR0aGlzLm1ha2VFbXB0eSgpO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeVBvaW50KCBwb2ludHNbIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21DZW50ZXJBbmRTaXplKCBjZW50ZXIsIHNpemUgKSB7XG5cblx0XHRjb25zdCBoYWxmU2l6ZSA9IF92ZWN0b3IuY29weSggc2l6ZSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblxuXHRcdHRoaXMubWluLmNvcHkoIGNlbnRlciApLnN1YiggaGFsZlNpemUgKTtcblx0XHR0aGlzLm1heC5jb3B5KCBjZW50ZXIgKS5hZGQoIGhhbGZTaXplICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0dGhpcy5tYWtlRW1wdHkoKTtcblxuXHRcdHJldHVybiB0aGlzLmV4cGFuZEJ5T2JqZWN0KCBvYmplY3QgKTtcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIGJveCApIHtcblxuXHRcdHRoaXMubWluLmNvcHkoIGJveC5taW4gKTtcblx0XHR0aGlzLm1heC5jb3B5KCBib3gubWF4ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bWFrZUVtcHR5KCkge1xuXG5cdFx0dGhpcy5taW4ueCA9IHRoaXMubWluLnkgPSB0aGlzLm1pbi56ID0gKyBJbmZpbml0eTtcblx0XHR0aGlzLm1heC54ID0gdGhpcy5tYXgueSA9IHRoaXMubWF4LnogPSAtIEluZmluaXR5O1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlzRW1wdHkoKSB7XG5cblx0XHQvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlc1xuXG5cdFx0cmV0dXJuICggdGhpcy5tYXgueCA8IHRoaXMubWluLnggKSB8fCAoIHRoaXMubWF4LnkgPCB0aGlzLm1pbi55ICkgfHwgKCB0aGlzLm1heC56IDwgdGhpcy5taW4ueiApO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IHRhcmdldC5zZXQoIDAsIDAsIDAgKSA6IHRhcmdldC5hZGRWZWN0b3JzKCB0aGlzLm1pbiwgdGhpcy5tYXggKS5tdWx0aXBseVNjYWxhciggMC41ICk7XG5cblx0fVxuXG5cdGdldFNpemUoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyB0YXJnZXQuc2V0KCAwLCAwLCAwICkgOiB0YXJnZXQuc3ViVmVjdG9ycyggdGhpcy5tYXgsIHRoaXMubWluICk7XG5cblx0fVxuXG5cdGV4cGFuZEJ5UG9pbnQoIHBvaW50ICkge1xuXG5cdFx0dGhpcy5taW4ubWluKCBwb2ludCApO1xuXHRcdHRoaXMubWF4Lm1heCggcG9pbnQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeVZlY3RvciggdmVjdG9yICkge1xuXG5cdFx0dGhpcy5taW4uc3ViKCB2ZWN0b3IgKTtcblx0XHR0aGlzLm1heC5hZGQoIHZlY3RvciApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4cGFuZEJ5U2NhbGFyKCBzY2FsYXIgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGRTY2FsYXIoIC0gc2NhbGFyICk7XG5cdFx0dGhpcy5tYXguYWRkU2NhbGFyKCBzY2FsYXIgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRleHBhbmRCeU9iamVjdCggb2JqZWN0ICkge1xuXG5cdFx0Ly8gQ29tcHV0ZXMgdGhlIHdvcmxkLWF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggb2YgYW4gb2JqZWN0IChpbmNsdWRpbmcgaXRzIGNoaWxkcmVuKSxcblx0XHQvLyBhY2NvdW50aW5nIGZvciBib3RoIHRoZSBvYmplY3QncywgYW5kIGNoaWxkcmVuJ3MsIHdvcmxkIHRyYW5zZm9ybXNcblxuXHRcdG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCggZmFsc2UsIGZhbHNlICk7XG5cblx0XHRjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcblxuXHRcdGlmICggZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0aWYgKCBnZW9tZXRyeS5ib3VuZGluZ0JveCA9PT0gbnVsbCApIHtcblxuXHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRfYm94LmNvcHkoIGdlb21ldHJ5LmJvdW5kaW5nQm94ICk7XG5cdFx0XHRfYm94LmFwcGx5TWF0cml4NCggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XG5cblx0XHRcdHRoaXMudW5pb24oIF9ib3ggKTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5leHBhbmRCeU9iamVjdCggY2hpbGRyZW5bIGkgXSApO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNvbnRhaW5zUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIHBvaW50LnggPCB0aGlzLm1pbi54IHx8IHBvaW50LnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRwb2ludC55IDwgdGhpcy5taW4ueSB8fCBwb2ludC55ID4gdGhpcy5tYXgueSB8fFxuXHRcdFx0cG9pbnQueiA8IHRoaXMubWluLnogfHwgcG9pbnQueiA+IHRoaXMubWF4LnogPyBmYWxzZSA6IHRydWU7XG5cblx0fVxuXG5cdGNvbnRhaW5zQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5taW4ueCA8PSBib3gubWluLnggJiYgYm94Lm1heC54IDw9IHRoaXMubWF4LnggJiZcblx0XHRcdHRoaXMubWluLnkgPD0gYm94Lm1pbi55ICYmIGJveC5tYXgueSA8PSB0aGlzLm1heC55ICYmXG5cdFx0XHR0aGlzLm1pbi56IDw9IGJveC5taW4ueiAmJiBib3gubWF4LnogPD0gdGhpcy5tYXguejtcblxuXHR9XG5cblx0Z2V0UGFyYW1ldGVyKCBwb2ludCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3hcblx0XHQvLyBoYXMgYSBzaXplIGRpbWVuc2lvbiBvZiAwLlxuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zZXQoXG5cdFx0XHQoIHBvaW50LnggLSB0aGlzLm1pbi54ICkgLyAoIHRoaXMubWF4LnggLSB0aGlzLm1pbi54ICksXG5cdFx0XHQoIHBvaW50LnkgLSB0aGlzLm1pbi55ICkgLyAoIHRoaXMubWF4LnkgLSB0aGlzLm1pbi55ICksXG5cdFx0XHQoIHBvaW50LnogLSB0aGlzLm1pbi56ICkgLyAoIHRoaXMubWF4LnogLSB0aGlzLm1pbi56IClcblx0XHQpO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHQvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy5cblx0XHRyZXR1cm4gYm94Lm1heC54IDwgdGhpcy5taW4ueCB8fCBib3gubWluLnggPiB0aGlzLm1heC54IHx8XG5cdFx0XHRib3gubWF4LnkgPCB0aGlzLm1pbi55IHx8IGJveC5taW4ueSA+IHRoaXMubWF4LnkgfHxcblx0XHRcdGJveC5tYXgueiA8IHRoaXMubWluLnogfHwgYm94Lm1pbi56ID4gdGhpcy5tYXgueiA/IGZhbHNlIDogdHJ1ZTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0Ly8gRmluZCB0aGUgcG9pbnQgb24gdGhlIEFBQkIgY2xvc2VzdCB0byB0aGUgc3BoZXJlIGNlbnRlci5cblx0XHR0aGlzLmNsYW1wUG9pbnQoIHNwaGVyZS5jZW50ZXIsIF92ZWN0b3IgKTtcblxuXHRcdC8vIElmIHRoYXQgcG9pbnQgaXMgaW5zaWRlIHRoZSBzcGhlcmUsIHRoZSBBQUJCIGFuZCBzcGhlcmUgaW50ZXJzZWN0LlxuXHRcdHJldHVybiBfdmVjdG9yLmRpc3RhbmNlVG9TcXVhcmVkKCBzcGhlcmUuY2VudGVyICkgPD0gKCBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cyApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gV2UgY29tcHV0ZSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBkb3QgcHJvZHVjdCB2YWx1ZXMuIElmIHRob3NlIHZhbHVlc1xuXHRcdC8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLlxuXG5cdFx0bGV0IG1pbiwgbWF4O1xuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueCA+IDAgKSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5tYXgueDtcblx0XHRcdG1heCA9IHBsYW5lLm5vcm1hbC54ICogdGhpcy5taW4ueDtcblxuXHRcdH1cblxuXHRcdGlmICggcGxhbmUubm9ybWFsLnkgPiAwICkge1xuXG5cdFx0XHRtaW4gKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXHRcdFx0bWF4ICs9IHBsYW5lLm5vcm1hbC55ICogdGhpcy5tYXgueTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueSAqIHRoaXMubWF4Lnk7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnkgKiB0aGlzLm1pbi55O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBwbGFuZS5ub3JtYWwueiA+IDAgKSB7XG5cblx0XHRcdG1pbiArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cdFx0XHRtYXggKz0gcGxhbmUubm9ybWFsLnogKiB0aGlzLm1heC56O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bWluICs9IHBsYW5lLm5vcm1hbC56ICogdGhpcy5tYXguejtcblx0XHRcdG1heCArPSBwbGFuZS5ub3JtYWwueiAqIHRoaXMubWluLno7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCBtaW4gPD0gLSBwbGFuZS5jb25zdGFudCAmJiBtYXggPj0gLSBwbGFuZS5jb25zdGFudCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzVHJpYW5nbGUoIHRyaWFuZ2xlICkge1xuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gY29tcHV0ZSBib3ggY2VudGVyIGFuZCBleHRlbnRzXG5cdFx0dGhpcy5nZXRDZW50ZXIoIF9jZW50ZXIgKTtcblx0XHRfZXh0ZW50cy5zdWJWZWN0b3JzKCB0aGlzLm1heCwgX2NlbnRlciApO1xuXG5cdFx0Ly8gdHJhbnNsYXRlIHRyaWFuZ2xlIHRvIGFhYmIgb3JpZ2luXG5cdFx0X3YwLnN1YlZlY3RvcnMoIHRyaWFuZ2xlLmEsIF9jZW50ZXIgKTtcblx0XHRfdjEuc3ViVmVjdG9ycyggdHJpYW5nbGUuYiwgX2NlbnRlciApO1xuXHRcdF92Mi5zdWJWZWN0b3JzKCB0cmlhbmdsZS5jLCBfY2VudGVyICk7XG5cblx0XHQvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGVcblx0XHRfZjAuc3ViVmVjdG9ycyggX3YxLCBfdjAgKTtcblx0XHRfZjEuc3ViVmVjdG9ycyggX3YyLCBfdjEgKTtcblx0XHRfZjIuc3ViVmVjdG9ycyggX3YwLCBfdjIgKTtcblxuXHRcdC8vIHRlc3QgYWdhaW5zdCBheGVzIHRoYXQgYXJlIGdpdmVuIGJ5IGNyb3NzIHByb2R1Y3QgY29tYmluYXRpb25zIG9mIHRoZSBlZGdlcyBvZiB0aGUgdHJpYW5nbGUgYW5kIHRoZSBlZGdlcyBvZiB0aGUgYWFiYlxuXHRcdC8vIG1ha2UgYW4gYXhpcyB0ZXN0aW5nIG9mIGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIGFhYmIgYWdhaW5zdCBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSB0cmlhbmdsZSA9IDkgYXhpcyBvZiBzZXBhcmF0aW9uXG5cdFx0Ly8gYXhpc19paiA9IHVfaSB4IGZfaiAodTAsIHUxLCB1MiA9IGZhY2Ugbm9ybWFscyBvZiBhYWJiID0geCx5LHogYXhlcyB2ZWN0b3JzIHNpbmNlIGFhYmIgaXMgYXhpcyBhbGlnbmVkKVxuXHRcdGxldCBheGVzID0gW1xuXHRcdFx0MCwgLSBfZjAueiwgX2YwLnksIDAsIC0gX2YxLnosIF9mMS55LCAwLCAtIF9mMi56LCBfZjIueSxcblx0XHRcdF9mMC56LCAwLCAtIF9mMC54LCBfZjEueiwgMCwgLSBfZjEueCwgX2YyLnosIDAsIC0gX2YyLngsXG5cdFx0XHQtIF9mMC55LCBfZjAueCwgMCwgLSBfZjEueSwgX2YxLngsIDAsIC0gX2YyLnksIF9mMi54LCAwXG5cdFx0XTtcblx0XHRpZiAoICEgc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKSApIHtcblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gdGVzdCAzIGZhY2Ugbm9ybWFscyBmcm9tIHRoZSBhYWJiXG5cdFx0YXhlcyA9IFsgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSBdO1xuXHRcdGlmICggISBzYXRGb3JBeGVzKCBheGVzLCBfdjAsIF92MSwgX3YyLCBfZXh0ZW50cyApICkge1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0XHQvLyBmaW5hbGx5IHRlc3RpbmcgdGhlIGZhY2Ugbm9ybWFsIG9mIHRoZSB0cmlhbmdsZVxuXHRcdC8vIHVzZSBhbHJlYWR5IGV4aXN0aW5nIHRyaWFuZ2xlIGVkZ2UgdmVjdG9ycyBoZXJlXG5cdFx0X3RyaWFuZ2xlTm9ybWFsLmNyb3NzVmVjdG9ycyggX2YwLCBfZjEgKTtcblx0XHRheGVzID0gWyBfdHJpYW5nbGVOb3JtYWwueCwgX3RyaWFuZ2xlTm9ybWFsLnksIF90cmlhbmdsZU5vcm1hbC56IF07XG5cblx0XHRyZXR1cm4gc2F0Rm9yQXhlcyggYXhlcywgX3YwLCBfdjEsIF92MiwgX2V4dGVudHMgKTtcblxuXHR9XG5cblx0Y2xhbXBQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHBvaW50ICkuY2xhbXAoIHRoaXMubWluLCB0aGlzLm1heCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0Y29uc3QgY2xhbXBlZFBvaW50ID0gX3ZlY3Rvci5jb3B5KCBwb2ludCApLmNsYW1wKCB0aGlzLm1pbiwgdGhpcy5tYXggKTtcblxuXHRcdHJldHVybiBjbGFtcGVkUG9pbnQuc3ViKCBwb2ludCApLmxlbmd0aCgpO1xuXG5cdH1cblxuXHRnZXRCb3VuZGluZ1NwaGVyZSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS5lcnJvciggJ1RIUkVFLkJveDM6IC5nZXRCb3VuZGluZ1NwaGVyZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHQvL3RhcmdldCA9IG5ldyBTcGhlcmUoKTsgLy8gcmVtb3ZlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5nZXRDZW50ZXIoIHRhcmdldC5jZW50ZXIgKTtcblxuXHRcdHRhcmdldC5yYWRpdXMgPSB0aGlzLmdldFNpemUoIF92ZWN0b3IgKS5sZW5ndGgoKSAqIDAuNTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cblx0fVxuXG5cdGludGVyc2VjdCggYm94ICkge1xuXG5cdFx0dGhpcy5taW4ubWF4KCBib3gubWluICk7XG5cdFx0dGhpcy5tYXgubWluKCBib3gubWF4ICk7XG5cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHRoaXMubWFrZUVtcHR5KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dW5pb24oIGJveCApIHtcblxuXHRcdHRoaXMubWluLm1pbiggYm94Lm1pbiApO1xuXHRcdHRoaXMubWF4Lm1heCggYm94Lm1heCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGFwcGx5TWF0cml4NCggbWF0cml4ICkge1xuXG5cdFx0Ly8gdHJhbnNmb3JtIG9mIGVtcHR5IGJveCBpcyBhbiBlbXB0eSBib3guXG5cdFx0aWYgKCB0aGlzLmlzRW1wdHkoKSApIHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gTk9URTogSSBhbSB1c2luZyBhIGJpbmFyeSBwYXR0ZXJuIHRvIHNwZWNpZnkgYWxsIDJeMyBjb21iaW5hdGlvbnMgYmVsb3dcblx0XHRfcG9pbnRzWyAwIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDAwXG5cdFx0X3BvaW50c1sgMSBdLnNldCggdGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDAwMVxuXHRcdF9wb2ludHNbIDIgXS5zZXQoIHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAwMTBcblx0XHRfcG9pbnRzWyAzIF0uc2V0KCB0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1heC56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMDExXG5cdFx0X3BvaW50c1sgNCBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDEwMFxuXHRcdF9wb2ludHNbIDUgXS5zZXQoIHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnogKS5hcHBseU1hdHJpeDQoIG1hdHJpeCApOyAvLyAxMDFcblx0XHRfcG9pbnRzWyA2IF0uc2V0KCB0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56ICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTsgLy8gMTEwXG5cdFx0X3BvaW50c1sgNyBdLnNldCggdGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueiApLmFwcGx5TWF0cml4NCggbWF0cml4ICk7IC8vIDExMVxuXG5cdFx0dGhpcy5zZXRGcm9tUG9pbnRzKCBfcG9pbnRzICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0dHJhbnNsYXRlKCBvZmZzZXQgKSB7XG5cblx0XHR0aGlzLm1pbi5hZGQoIG9mZnNldCApO1xuXHRcdHRoaXMubWF4LmFkZCggb2Zmc2V0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCBib3ggKSB7XG5cblx0XHRyZXR1cm4gYm94Lm1pbi5lcXVhbHMoIHRoaXMubWluICkgJiYgYm94Lm1heC5lcXVhbHMoIHRoaXMubWF4ICk7XG5cblx0fVxuXG59XG5cbmZ1bmN0aW9uIHNhdEZvckF4ZXMoIGF4ZXMsIHYwLCB2MSwgdjIsIGV4dGVudHMgKSB7XG5cblx0Zm9yICggbGV0IGkgPSAwLCBqID0gYXhlcy5sZW5ndGggLSAzOyBpIDw9IGo7IGkgKz0gMyApIHtcblxuXHRcdF90ZXN0QXhpcy5mcm9tQXJyYXkoIGF4ZXMsIGkgKTtcblx0XHQvLyBwcm9qZWN0IHRoZSBhYWJiIG9udG8gdGhlIHNlcGVyYXRpbmcgYXhpc1xuXHRcdGNvbnN0IHIgPSBleHRlbnRzLnggKiBNYXRoLmFicyggX3Rlc3RBeGlzLnggKSArIGV4dGVudHMueSAqIE1hdGguYWJzKCBfdGVzdEF4aXMueSApICsgZXh0ZW50cy56ICogTWF0aC5hYnMoIF90ZXN0QXhpcy56ICk7XG5cdFx0Ly8gcHJvamVjdCBhbGwgMyB2ZXJ0aWNlcyBvZiB0aGUgdHJpYW5nbGUgb250byB0aGUgc2VwZXJhdGluZyBheGlzXG5cdFx0Y29uc3QgcDAgPSB2MC5kb3QoIF90ZXN0QXhpcyApO1xuXHRcdGNvbnN0IHAxID0gdjEuZG90KCBfdGVzdEF4aXMgKTtcblx0XHRjb25zdCBwMiA9IHYyLmRvdCggX3Rlc3RBeGlzICk7XG5cdFx0Ly8gYWN0dWFsIHRlc3QsIGJhc2ljYWxseSBzZWUgaWYgZWl0aGVyIG9mIHRoZSBtb3N0IGV4dHJlbWUgb2YgdGhlIHRyaWFuZ2xlIHBvaW50cyBpbnRlcnNlY3RzIHJcblx0XHRpZiAoIE1hdGgubWF4KCAtIE1hdGgubWF4KCBwMCwgcDEsIHAyICksIE1hdGgubWluKCBwMCwgcDEsIHAyICkgKSA+IHIgKSB7XG5cblx0XHRcdC8vIHBvaW50cyBvZiB0aGUgcHJvamVjdGVkIHRyaWFuZ2xlIGFyZSBvdXRzaWRlIHRoZSBwcm9qZWN0ZWQgaGFsZi1sZW5ndGggb2YgdGhlIGFhYmJcblx0XHRcdC8vIHRoZSBheGlzIGlzIHNlcGVyYXRpbmcgYW5kIHdlIGNhbiBleGl0XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiB0cnVlO1xuXG59XG5cbmNvbnN0IF9wb2ludHMgPSBbXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpLFxuXHQvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCksXG5cdC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKSxcblx0LypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpXG5dO1xuXG5jb25zdCBfdmVjdG9yID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuXG5jb25zdCBfYm94ID0gLypAX19QVVJFX18qLyBuZXcgQm94MygpO1xuXG4vLyB0cmlhbmdsZSBjZW50ZXJlZCB2ZXJ0aWNlc1xuXG5jb25zdCBfdjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbi8vIHRyaWFuZ2xlIGVkZ2UgdmVjdG9yc1xuXG5jb25zdCBfZjAgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZjIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9jZW50ZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfZXh0ZW50cyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90cmlhbmdsZU5vcm1hbCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF90ZXN0QXhpcyA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuXG5leHBvcnQgeyBCb3gzIH07XG4iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzLmpzJztcblxuY29uc3QgX3ZlY3RvciA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zZWdDZW50ZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfc2VnRGlyID0gLypAX19QVVJFX18qLyBuZXcgVmVjdG9yMygpO1xuY29uc3QgX2RpZmYgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNvbnN0IF9lZGdlMSA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9lZGdlMiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9ub3JtYWwgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5cbmNsYXNzIFJheSB7XG5cblx0Y29uc3RydWN0b3IoIG9yaWdpbiwgZGlyZWN0aW9uICkge1xuXG5cdFx0dGhpcy5vcmlnaW4gPSAoIG9yaWdpbiAhPT0gdW5kZWZpbmVkICkgPyBvcmlnaW4gOiBuZXcgVmVjdG9yMygpO1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gKCBkaXJlY3Rpb24gIT09IHVuZGVmaW5lZCApID8gZGlyZWN0aW9uIDogbmV3IFZlY3RvcjMoIDAsIDAsIC0gMSApO1xuXG5cdH1cblxuXHRzZXQoIG9yaWdpbiwgZGlyZWN0aW9uICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggb3JpZ2luICk7XG5cdFx0dGhpcy5kaXJlY3Rpb24uY29weSggZGlyZWN0aW9uICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvbmUoKSB7XG5cblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcHkoIHJheSApIHtcblxuXHRcdHRoaXMub3JpZ2luLmNvcHkoIHJheS5vcmlnaW4gKTtcblx0XHR0aGlzLmRpcmVjdGlvbi5jb3B5KCByYXkuZGlyZWN0aW9uICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMub3JpZ2luICk7XG5cblx0fVxuXG5cdGxvb2tBdCggdiApIHtcblxuXHRcdHRoaXMuZGlyZWN0aW9uLmNvcHkoIHYgKS5zdWIoIHRoaXMub3JpZ2luICkubm9ybWFsaXplKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cmVjYXN0KCB0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uY29weSggdGhpcy5hdCggdCwgX3ZlY3RvciApICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Y2xvc2VzdFBvaW50VG9Qb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHRhcmdldC5zdWJWZWN0b3JzKCBwb2ludCwgdGhpcy5vcmlnaW4gKTtcblxuXHRcdGNvbnN0IGRpcmVjdGlvbkRpc3RhbmNlID0gdGFyZ2V0LmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMub3JpZ2luICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkge1xuXG5cdFx0cmV0dXJuIE1hdGguc3FydCggdGhpcy5kaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxVG9Qb2ludCggcG9pbnQgKSB7XG5cblx0XHRjb25zdCBkaXJlY3Rpb25EaXN0YW5jZSA9IF92ZWN0b3Iuc3ViVmVjdG9ycyggcG9pbnQsIHRoaXMub3JpZ2luICkuZG90KCB0aGlzLmRpcmVjdGlvbiApO1xuXG5cdFx0Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXlcblxuXHRcdGlmICggZGlyZWN0aW9uRGlzdGFuY2UgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0XHR9XG5cblx0XHRfdmVjdG9yLmNvcHkoIHRoaXMuZGlyZWN0aW9uICkubXVsdGlwbHlTY2FsYXIoIGRpcmVjdGlvbkRpc3RhbmNlICkuYWRkKCB0aGlzLm9yaWdpbiApO1xuXG5cdFx0cmV0dXJuIF92ZWN0b3IuZGlzdGFuY2VUb1NxdWFyZWQoIHBvaW50ICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlU3FUb1NlZ21lbnQoIHYwLCB2MSwgb3B0aW9uYWxQb2ludE9uUmF5LCBvcHRpb25hbFBvaW50T25TZWdtZW50ICkge1xuXG5cdFx0Ly8gZnJvbSBodHRwOi8vd3d3Lmdlb21ldHJpY3Rvb2xzLmNvbS9HVEVuZ2luZS9JbmNsdWRlL01hdGhlbWF0aWNzL0d0ZURpc3RSYXlTZWdtZW50Lmhcblx0XHQvLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudFxuXHRcdC8vIGRlZmluZWQgYnkgdjAgYW5kIHYxXG5cdFx0Ly8gSXQgY2FuIGFsc28gc2V0IHR3byBvcHRpb25hbCB0YXJnZXRzIDpcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXlcblx0XHQvLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzZWdtZW50XG5cblx0XHRfc2VnQ2VudGVyLmNvcHkoIHYwICkuYWRkKCB2MSApLm11bHRpcGx5U2NhbGFyKCAwLjUgKTtcblx0XHRfc2VnRGlyLmNvcHkoIHYxICkuc3ViKCB2MCApLm5vcm1hbGl6ZSgpO1xuXHRcdF9kaWZmLmNvcHkoIHRoaXMub3JpZ2luICkuc3ViKCBfc2VnQ2VudGVyICk7XG5cblx0XHRjb25zdCBzZWdFeHRlbnQgPSB2MC5kaXN0YW5jZVRvKCB2MSApICogMC41O1xuXHRcdGNvbnN0IGEwMSA9IC0gdGhpcy5kaXJlY3Rpb24uZG90KCBfc2VnRGlyICk7XG5cdFx0Y29uc3QgYjAgPSBfZGlmZi5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cdFx0Y29uc3QgYjEgPSAtIF9kaWZmLmRvdCggX3NlZ0RpciApO1xuXHRcdGNvbnN0IGMgPSBfZGlmZi5sZW5ndGhTcSgpO1xuXHRcdGNvbnN0IGRldCA9IE1hdGguYWJzKCAxIC0gYTAxICogYTAxICk7XG5cdFx0bGV0IHMwLCBzMSwgc3FyRGlzdCwgZXh0RGV0O1xuXG5cdFx0aWYgKCBkZXQgPiAwICkge1xuXG5cdFx0XHQvLyBUaGUgcmF5IGFuZCBzZWdtZW50IGFyZSBub3QgcGFyYWxsZWwuXG5cblx0XHRcdHMwID0gYTAxICogYjEgLSBiMDtcblx0XHRcdHMxID0gYTAxICogYjAgLSBiMTtcblx0XHRcdGV4dERldCA9IHNlZ0V4dGVudCAqIGRldDtcblxuXHRcdFx0aWYgKCBzMCA+PSAwICkge1xuXG5cdFx0XHRcdGlmICggczEgPj0gLSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHMxIDw9IGV4dERldCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcmVnaW9uIDBcblx0XHRcdFx0XHRcdC8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC5cblxuXHRcdFx0XHRcdFx0Y29uc3QgaW52RGV0ID0gMSAvIGRldDtcblx0XHRcdFx0XHRcdHMwICo9IGludkRldDtcblx0XHRcdFx0XHRcdHMxICo9IGludkRldDtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSBzMCAqICggczAgKyBhMDEgKiBzMSArIDIgKiBiMCApICsgczEgKiAoIGEwMSAqIHMwICsgczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyByZWdpb24gMVxuXG5cdFx0XHRcdFx0XHRzMSA9IHNlZ0V4dGVudDtcblx0XHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdC8vIHJlZ2lvbiA1XG5cblx0XHRcdFx0XHRzMSA9IC0gc2VnRXh0ZW50O1xuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCBhMDEgKiBzMSArIGIwICkgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoIHMxIDw9IC0gZXh0RGV0ICkge1xuXG5cdFx0XHRcdFx0Ly8gcmVnaW9uIDRcblxuXHRcdFx0XHRcdHMwID0gTWF0aC5tYXgoIDAsIC0gKCAtIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyAtIHNlZ0V4dGVudCA6IE1hdGgubWluKCBNYXRoLm1heCggLSBzZWdFeHRlbnQsIC0gYjEgKSwgc2VnRXh0ZW50ICk7XG5cdFx0XHRcdFx0c3FyRGlzdCA9IC0gczAgKiBzMCArIHMxICogKCBzMSArIDIgKiBiMSApICsgYztcblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzMSA8PSBleHREZXQgKSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gM1xuXG5cdFx0XHRcdFx0czAgPSAwO1xuXHRcdFx0XHRcdHMxID0gTWF0aC5taW4oIE1hdGgubWF4KCAtIHNlZ0V4dGVudCwgLSBiMSApLCBzZWdFeHRlbnQgKTtcblx0XHRcdFx0XHRzcXJEaXN0ID0gczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHQvLyByZWdpb24gMlxuXG5cdFx0XHRcdFx0czAgPSBNYXRoLm1heCggMCwgLSAoIGEwMSAqIHNlZ0V4dGVudCArIGIwICkgKTtcblx0XHRcdFx0XHRzMSA9ICggczAgPiAwICkgPyBzZWdFeHRlbnQgOiBNYXRoLm1pbiggTWF0aC5tYXgoIC0gc2VnRXh0ZW50LCAtIGIxICksIHNlZ0V4dGVudCApO1xuXHRcdFx0XHRcdHNxckRpc3QgPSAtIHMwICogczAgKyBzMSAqICggczEgKyAyICogYjEgKSArIGM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBSYXkgYW5kIHNlZ21lbnQgYXJlIHBhcmFsbGVsLlxuXG5cdFx0XHRzMSA9ICggYTAxID4gMCApID8gLSBzZWdFeHRlbnQgOiBzZWdFeHRlbnQ7XG5cdFx0XHRzMCA9IE1hdGgubWF4KCAwLCAtICggYTAxICogczEgKyBiMCApICk7XG5cdFx0XHRzcXJEaXN0ID0gLSBzMCAqIHMwICsgczEgKiAoIHMxICsgMiAqIGIxICkgKyBjO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25hbFBvaW50T25SYXkgKSB7XG5cblx0XHRcdG9wdGlvbmFsUG9pbnRPblJheS5jb3B5KCB0aGlzLmRpcmVjdGlvbiApLm11bHRpcGx5U2NhbGFyKCBzMCApLmFkZCggdGhpcy5vcmlnaW4gKTtcblxuXHRcdH1cblxuXHRcdGlmICggb3B0aW9uYWxQb2ludE9uU2VnbWVudCApIHtcblxuXHRcdFx0b3B0aW9uYWxQb2ludE9uU2VnbWVudC5jb3B5KCBfc2VnRGlyICkubXVsdGlwbHlTY2FsYXIoIHMxICkuYWRkKCBfc2VnQ2VudGVyICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gc3FyRGlzdDtcblxuXHR9XG5cblx0aW50ZXJzZWN0U3BoZXJlKCBzcGhlcmUsIHRhcmdldCApIHtcblxuXHRcdF92ZWN0b3Iuc3ViVmVjdG9ycyggc3BoZXJlLmNlbnRlciwgdGhpcy5vcmlnaW4gKTtcblx0XHRjb25zdCB0Y2EgPSBfdmVjdG9yLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblx0XHRjb25zdCBkMiA9IF92ZWN0b3IuZG90KCBfdmVjdG9yICkgLSB0Y2EgKiB0Y2E7XG5cdFx0Y29uc3QgcmFkaXVzMiA9IHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xuXG5cdFx0aWYgKCBkMiA+IHJhZGl1czIgKSByZXR1cm4gbnVsbDtcblxuXHRcdGNvbnN0IHRoYyA9IE1hdGguc3FydCggcmFkaXVzMiAtIGQyICk7XG5cblx0XHQvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQwID0gdGNhIC0gdGhjO1xuXG5cdFx0Ly8gdDEgPSBzZWNvbmQgaW50ZXJzZWN0IHBvaW50IC0gZXhpdCBwb2ludCBvbiBiYWNrIG9mIHNwaGVyZVxuXHRcdGNvbnN0IHQxID0gdGNhICsgdGhjO1xuXG5cdFx0Ly8gdGVzdCB0byBzZWUgaWYgYm90aCB0MCBhbmQgdDEgYXJlIGJlaGluZCB0aGUgcmF5IC0gaWYgc28sIHJldHVybiBudWxsXG5cdFx0aWYgKCB0MCA8IDAgJiYgdDEgPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyB0ZXN0IHRvIHNlZSBpZiB0MCBpcyBiZWhpbmQgdGhlIHJheTpcblx0XHQvLyBpZiBpdCBpcywgdGhlIHJheSBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgc28gcmV0dXJuIHRoZSBzZWNvbmQgZXhpdCBwb2ludCBzY2FsZWQgYnkgdDEsXG5cdFx0Ly8gaW4gb3JkZXIgdG8gYWx3YXlzIHJldHVybiBhbiBpbnRlcnNlY3QgcG9pbnQgdGhhdCBpcyBpbiBmcm9udCBvZiB0aGUgcmF5LlxuXHRcdGlmICggdDAgPCAwICkgcmV0dXJuIHRoaXMuYXQoIHQxLCB0YXJnZXQgKTtcblxuXHRcdC8vIGVsc2UgdDAgaXMgaW4gZnJvbnQgb2YgdGhlIHJheSwgc28gcmV0dXJuIHRoZSBmaXJzdCBjb2xsaXNpb24gcG9pbnQgc2NhbGVkIGJ5IHQwXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQwLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0aW50ZXJzZWN0c1NwaGVyZSggc3BoZXJlICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQoIHNwaGVyZS5jZW50ZXIgKSA8PSAoIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlVG9QbGFuZSggcGxhbmUgKSB7XG5cblx0XHRjb25zdCBkZW5vbWluYXRvciA9IHBsYW5lLm5vcm1hbC5kb3QoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0XHRpZiAoIGRlbm9taW5hdG9yID09PSAwICkge1xuXG5cdFx0XHQvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luXG5cdFx0XHRpZiAoIHBsYW5lLmRpc3RhbmNlVG9Qb2ludCggdGhpcy5vcmlnaW4gKSA9PT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gMDtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkXG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgdCA9IC0gKCB0aGlzLm9yaWdpbi5kb3QoIHBsYW5lLm5vcm1hbCApICsgcGxhbmUuY29uc3RhbnQgKSAvIGRlbm9taW5hdG9yO1xuXG5cdFx0Ly8gUmV0dXJuIGlmIHRoZSByYXkgbmV2ZXIgaW50ZXJzZWN0cyB0aGUgcGxhbmVcblxuXHRcdHJldHVybiB0ID49IDAgPyB0IDogbnVsbDtcblxuXHR9XG5cblx0aW50ZXJzZWN0UGxhbmUoIHBsYW5lLCB0YXJnZXQgKSB7XG5cblx0XHRjb25zdCB0ID0gdGhpcy5kaXN0YW5jZVRvUGxhbmUoIHBsYW5lICk7XG5cblx0XHRpZiAoIHQgPT09IG51bGwgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuYXQoIHQsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzUGxhbmUoIHBsYW5lICkge1xuXG5cdFx0Ly8gY2hlY2sgaWYgdGhlIHJheSBsaWVzIG9uIHRoZSBwbGFuZSBmaXJzdFxuXG5cdFx0Y29uc3QgZGlzdFRvUG9pbnQgPSBwbGFuZS5kaXN0YW5jZVRvUG9pbnQoIHRoaXMub3JpZ2luICk7XG5cblx0XHRpZiAoIGRpc3RUb1BvaW50ID09PSAwICkge1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gcGxhbmUubm9ybWFsLmRvdCggdGhpcy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgKiBkaXN0VG9Qb2ludCA8IDAgKSB7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcmF5IG9yaWdpbiBpcyBiZWhpbmQgdGhlIHBsYW5lIChhbmQgaXMgcG9pbnRpbmcgYmVoaW5kIGl0KVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RCb3goIGJveCwgdGFyZ2V0ICkge1xuXG5cdFx0bGV0IHRtaW4sIHRtYXgsIHR5bWluLCB0eW1heCwgdHptaW4sIHR6bWF4O1xuXG5cdFx0Y29uc3QgaW52ZGlyeCA9IDEgLyB0aGlzLmRpcmVjdGlvbi54LFxuXHRcdFx0aW52ZGlyeSA9IDEgLyB0aGlzLmRpcmVjdGlvbi55LFxuXHRcdFx0aW52ZGlyeiA9IDEgLyB0aGlzLmRpcmVjdGlvbi56O1xuXG5cdFx0Y29uc3Qgb3JpZ2luID0gdGhpcy5vcmlnaW47XG5cblx0XHRpZiAoIGludmRpcnggPj0gMCApIHtcblxuXHRcdFx0dG1pbiA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cdFx0XHR0bWF4ID0gKCBib3gubWF4LnggLSBvcmlnaW4ueCApICogaW52ZGlyeDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHRtaW4gPSAoIGJveC5tYXgueCAtIG9yaWdpbi54ICkgKiBpbnZkaXJ4O1xuXHRcdFx0dG1heCA9ICggYm94Lm1pbi54IC0gb3JpZ2luLnggKSAqIGludmRpcng7XG5cblx0XHR9XG5cblx0XHRpZiAoIGludmRpcnkgPj0gMCApIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dHltaW4gPSAoIGJveC5tYXgueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXHRcdFx0dHltYXggPSAoIGJveC5taW4ueSAtIG9yaWdpbi55ICkgKiBpbnZkaXJ5O1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAoIHRtaW4gPiB0eW1heCApIHx8ICggdHltaW4gPiB0bWF4ICkgKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIFRoZXNlIGxpbmVzIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRtaW4gb3IgdG1heCBpcyBOYU5cblx0XHQvLyAocmVzdWx0IG9mIDAgKiBJbmZpbml0eSkuIHggIT09IHggcmV0dXJucyB0cnVlIGlmIHggaXMgTmFOXG5cblx0XHRpZiAoIHR5bWluID4gdG1pbiB8fCB0bWluICE9PSB0bWluICkgdG1pbiA9IHR5bWluO1xuXG5cdFx0aWYgKCB0eW1heCA8IHRtYXggfHwgdG1heCAhPT0gdG1heCApIHRtYXggPSB0eW1heDtcblxuXHRcdGlmICggaW52ZGlyeiA+PSAwICkge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0em1pbiA9ICggYm94Lm1heC56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cdFx0XHR0em1heCA9ICggYm94Lm1pbi56IC0gb3JpZ2luLnogKSAqIGludmRpcno7XG5cblx0XHR9XG5cblx0XHRpZiAoICggdG1pbiA+IHR6bWF4ICkgfHwgKCB0em1pbiA+IHRtYXggKSApIHJldHVybiBudWxsO1xuXG5cdFx0aWYgKCB0em1pbiA+IHRtaW4gfHwgdG1pbiAhPT0gdG1pbiApIHRtaW4gPSB0em1pbjtcblxuXHRcdGlmICggdHptYXggPCB0bWF4IHx8IHRtYXggIT09IHRtYXggKSB0bWF4ID0gdHptYXg7XG5cblx0XHQvL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpXG5cblx0XHRpZiAoIHRtYXggPCAwICkgcmV0dXJuIG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcy5hdCggdG1pbiA+PSAwID8gdG1pbiA6IHRtYXgsIHRhcmdldCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzQm94KCBib3ggKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goIGJveCwgX3ZlY3RvciApICE9PSBudWxsO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RUcmlhbmdsZSggYSwgYiwgYywgYmFja2ZhY2VDdWxsaW5nLCB0YXJnZXQgKSB7XG5cblx0XHQvLyBDb21wdXRlIHRoZSBvZmZzZXQgb3JpZ2luLCBlZGdlcywgYW5kIG5vcm1hbC5cblxuXHRcdC8vIGZyb20gaHR0cDovL3d3dy5nZW9tZXRyaWN0b29scy5jb20vR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oXG5cblx0XHRfZWRnZTEuc3ViVmVjdG9ycyggYiwgYSApO1xuXHRcdF9lZGdlMi5zdWJWZWN0b3JzKCBjLCBhICk7XG5cdFx0X25vcm1hbC5jcm9zc1ZlY3RvcnMoIF9lZGdlMSwgX2VkZ2UyICk7XG5cblx0XHQvLyBTb2x2ZSBRICsgdCpEID0gYjEqRTEgKyBiMipFMiAoUSA9IGtEaWZmLCBEID0gcmF5IGRpcmVjdGlvbixcblx0XHQvLyBFMSA9IGtFZGdlMSwgRTIgPSBrRWRnZTIsIE4gPSBDcm9zcyhFMSxFMikpIGJ5XG5cdFx0Ly8gICB8RG90KEQsTil8KmIxID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoUSxFMikpXG5cdFx0Ly8gICB8RG90KEQsTil8KmIyID0gc2lnbihEb3QoRCxOKSkqRG90KEQsQ3Jvc3MoRTEsUSkpXG5cdFx0Ly8gICB8RG90KEQsTil8KnQgPSAtc2lnbihEb3QoRCxOKSkqRG90KFEsTilcblx0XHRsZXQgRGROID0gdGhpcy5kaXJlY3Rpb24uZG90KCBfbm9ybWFsICk7XG5cdFx0bGV0IHNpZ247XG5cblx0XHRpZiAoIERkTiA+IDAgKSB7XG5cblx0XHRcdGlmICggYmFja2ZhY2VDdWxsaW5nICkgcmV0dXJuIG51bGw7XG5cdFx0XHRzaWduID0gMTtcblxuXHRcdH0gZWxzZSBpZiAoIERkTiA8IDAgKSB7XG5cblx0XHRcdHNpZ24gPSAtIDE7XG5cdFx0XHREZE4gPSAtIERkTjtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0X2RpZmYuc3ViVmVjdG9ycyggdGhpcy5vcmlnaW4sIGEgKTtcblx0XHRjb25zdCBEZFF4RTIgPSBzaWduICogdGhpcy5kaXJlY3Rpb24uZG90KCBfZWRnZTIuY3Jvc3NWZWN0b3JzKCBfZGlmZiwgX2VkZ2UyICkgKTtcblxuXHRcdC8vIGIxIDwgMCwgbm8gaW50ZXJzZWN0aW9uXG5cdFx0aWYgKCBEZFF4RTIgPCAwICkge1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IERkRTF4USA9IHNpZ24gKiB0aGlzLmRpcmVjdGlvbi5kb3QoIF9lZGdlMS5jcm9zcyggX2RpZmYgKSApO1xuXG5cdFx0Ly8gYjIgPCAwLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkRTF4USA8IDAgKSB7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdFx0Ly8gYjErYjIgPiAxLCBubyBpbnRlcnNlY3Rpb25cblx0XHRpZiAoIERkUXhFMiArIERkRTF4USA+IERkTiApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBMaW5lIGludGVyc2VjdHMgdHJpYW5nbGUsIGNoZWNrIGlmIHJheSBkb2VzLlxuXHRcdGNvbnN0IFFkTiA9IC0gc2lnbiAqIF9kaWZmLmRvdCggX25vcm1hbCApO1xuXG5cdFx0Ly8gdCA8IDAsIG5vIGludGVyc2VjdGlvblxuXHRcdGlmICggUWROIDwgMCApIHtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHR9XG5cblx0XHQvLyBSYXkgaW50ZXJzZWN0cyB0cmlhbmdsZS5cblx0XHRyZXR1cm4gdGhpcy5hdCggUWROIC8gRGROLCB0YXJnZXQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXg0ICkge1xuXG5cdFx0dGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KCBtYXRyaXg0ICk7XG5cdFx0dGhpcy5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXg0ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZXF1YWxzKCByYXkgKSB7XG5cblx0XHRyZXR1cm4gcmF5Lm9yaWdpbi5lcXVhbHMoIHRoaXMub3JpZ2luICkgJiYgcmF5LmRpcmVjdGlvbi5lcXVhbHMoIHRoaXMuZGlyZWN0aW9uICk7XG5cblx0fVxuXG59XG5cblxuZXhwb3J0IHsgUmF5IH07XG4iLCJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzLmpzJztcbmltcG9ydCB7IE1hdGhVdGlscyB9IGZyb20gJy4vTWF0aFV0aWxzLmpzJztcblxuY29uc3QgX3N0YXJ0UCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9zdGFydEVuZCA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcblxuY2xhc3MgTGluZTMge1xuXG5cdGNvbnN0cnVjdG9yKCBzdGFydCwgZW5kICkge1xuXG5cdFx0dGhpcy5zdGFydCA9ICggc3RhcnQgIT09IHVuZGVmaW5lZCApID8gc3RhcnQgOiBuZXcgVmVjdG9yMygpO1xuXHRcdHRoaXMuZW5kID0gKCBlbmQgIT09IHVuZGVmaW5lZCApID8gZW5kIDogbmV3IFZlY3RvcjMoKTtcblxuXHR9XG5cblx0c2V0KCBzdGFydCwgZW5kICkge1xuXG5cdFx0dGhpcy5zdGFydC5jb3B5KCBzdGFydCApO1xuXHRcdHRoaXMuZW5kLmNvcHkoIGVuZCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGNsb25lKCkge1xuXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSggdGhpcyApO1xuXG5cdH1cblxuXHRjb3B5KCBsaW5lICkge1xuXG5cdFx0dGhpcy5zdGFydC5jb3B5KCBsaW5lLnN0YXJ0ICk7XG5cdFx0dGhpcy5lbmQuY29weSggbGluZS5lbmQgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRnZXRDZW50ZXIoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmFkZFZlY3RvcnMoIHRoaXMuc3RhcnQsIHRoaXMuZW5kICkubXVsdGlwbHlTY2FsYXIoIDAuNSApO1xuXG5cdH1cblxuXHRkZWx0YSggdGFyZ2V0ICkge1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5zdWJWZWN0b3JzKCB0aGlzLmVuZCwgdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRkaXN0YW5jZVNxKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQoIHRoaXMuZW5kICk7XG5cblx0fVxuXG5cdGRpc3RhbmNlKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUbyggdGhpcy5lbmQgKTtcblxuXHR9XG5cblx0YXQoIHQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkxpbmUzOiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkJyApO1xuXHRcdFx0dGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmRlbHRhKCB0YXJnZXQgKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggdGhpcy5zdGFydCApO1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKCBwb2ludCwgY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRfc3RhcnRQLnN1YlZlY3RvcnMoIHBvaW50LCB0aGlzLnN0YXJ0ICk7XG5cdFx0X3N0YXJ0RW5kLnN1YlZlY3RvcnMoIHRoaXMuZW5kLCB0aGlzLnN0YXJ0ICk7XG5cblx0XHRjb25zdCBzdGFydEVuZDIgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRFbmQgKTtcblx0XHRjb25zdCBzdGFydEVuZF9zdGFydFAgPSBfc3RhcnRFbmQuZG90KCBfc3RhcnRQICk7XG5cblx0XHRsZXQgdCA9IHN0YXJ0RW5kX3N0YXJ0UCAvIHN0YXJ0RW5kMjtcblxuXHRcdGlmICggY2xhbXBUb0xpbmUgKSB7XG5cblx0XHRcdHQgPSBNYXRoVXRpbHMuY2xhbXAoIHQsIDAsIDEgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRjbG9zZXN0UG9pbnRUb1BvaW50KCBwb2ludCwgY2xhbXBUb0xpbmUsIHRhcmdldCApIHtcblxuXHRcdGNvbnN0IHQgPSB0aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoIHBvaW50LCBjbGFtcFRvTGluZSApO1xuXG5cdFx0aWYgKCB0YXJnZXQgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuTGluZTM6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kZWx0YSggdGFyZ2V0ICkubXVsdGlwbHlTY2FsYXIoIHQgKS5hZGQoIHRoaXMuc3RhcnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXggKSB7XG5cblx0XHR0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCggbWF0cml4ICk7XG5cdFx0dGhpcy5lbmQuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRlcXVhbHMoIGxpbmUgKSB7XG5cblx0XHRyZXR1cm4gbGluZS5zdGFydC5lcXVhbHMoIHRoaXMuc3RhcnQgKSAmJiBsaW5lLmVuZC5lcXVhbHMoIHRoaXMuZW5kICk7XG5cblx0fVxuXG59XG5cblxuZXhwb3J0IHsgTGluZTMgfTtcbiIsImNsYXNzIE1hdHJpeDMge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCAnaXNNYXRyaXgzJywgeyB2YWx1ZTogdHJ1ZSB9ICk7XG5cblx0XHR0aGlzLmVsZW1lbnRzID0gW1xuXG5cdFx0XHQxLCAwLCAwLFxuXHRcdFx0MCwgMSwgMCxcblx0XHRcdDAsIDAsIDFcblxuXHRcdF07XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAwICkge1xuXG5cdFx0XHRjb25zb2xlLmVycm9yKCAnVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHNldCggbjExLCBuMTIsIG4xMywgbjIxLCBuMjIsIG4yMywgbjMxLCBuMzIsIG4zMyApIHtcblxuXHRcdGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBuMTE7IHRlWyAxIF0gPSBuMjE7IHRlWyAyIF0gPSBuMzE7XG5cdFx0dGVbIDMgXSA9IG4xMjsgdGVbIDQgXSA9IG4yMjsgdGVbIDUgXSA9IG4zMjtcblx0XHR0ZVsgNiBdID0gbjEzOyB0ZVsgNyBdID0gbjIzOyB0ZVsgOCBdID0gbjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGlkZW50aXR5KCkge1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdDEsIDAsIDAsXG5cdFx0XHQwLCAxLCAwLFxuXHRcdFx0MCwgMCwgMVxuXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSggdGhpcy5lbGVtZW50cyApO1xuXG5cdH1cblxuXHRjb3B5KCBtICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbS5lbGVtZW50cztcblxuXHRcdHRlWyAwIF0gPSBtZVsgMCBdOyB0ZVsgMSBdID0gbWVbIDEgXTsgdGVbIDIgXSA9IG1lWyAyIF07XG5cdFx0dGVbIDMgXSA9IG1lWyAzIF07IHRlWyA0IF0gPSBtZVsgNCBdOyB0ZVsgNSBdID0gbWVbIDUgXTtcblx0XHR0ZVsgNiBdID0gbWVbIDYgXTsgdGVbIDcgXSA9IG1lWyA3IF07IHRlWyA4IF0gPSBtZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGV4dHJhY3RCYXNpcyggeEF4aXMsIHlBeGlzLCB6QXhpcyApIHtcblxuXHRcdHhBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKCB0aGlzLCAwICk7XG5cdFx0eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4oIHRoaXMsIDEgKTtcblx0XHR6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbiggdGhpcywgMiApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHNldEZyb21NYXRyaXg0KCBtICkge1xuXG5cdFx0Y29uc3QgbWUgPSBtLmVsZW1lbnRzO1xuXG5cdFx0dGhpcy5zZXQoXG5cblx0XHRcdG1lWyAwIF0sIG1lWyA0IF0sIG1lWyA4IF0sXG5cdFx0XHRtZVsgMSBdLCBtZVsgNSBdLCBtZVsgOSBdLFxuXHRcdFx0bWVbIDIgXSwgbWVbIDYgXSwgbWVbIDEwIF1cblxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bXVsdGlwbHkoIG0gKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKCB0aGlzLCBtICk7XG5cblx0fVxuXG5cdHByZW11bHRpcGx5KCBtICkge1xuXG5cdFx0cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyggbSwgdGhpcyApO1xuXG5cdH1cblxuXHRtdWx0aXBseU1hdHJpY2VzKCBhLCBiICkge1xuXG5cdFx0Y29uc3QgYWUgPSBhLmVsZW1lbnRzO1xuXHRcdGNvbnN0IGJlID0gYi5lbGVtZW50cztcblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSBhZVsgMCBdLCBhMTIgPSBhZVsgMyBdLCBhMTMgPSBhZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IGFlWyAxIF0sIGEyMiA9IGFlWyA0IF0sIGEyMyA9IGFlWyA3IF07XG5cdFx0Y29uc3QgYTMxID0gYWVbIDIgXSwgYTMyID0gYWVbIDUgXSwgYTMzID0gYWVbIDggXTtcblxuXHRcdGNvbnN0IGIxMSA9IGJlWyAwIF0sIGIxMiA9IGJlWyAzIF0sIGIxMyA9IGJlWyA2IF07XG5cdFx0Y29uc3QgYjIxID0gYmVbIDEgXSwgYjIyID0gYmVbIDQgXSwgYjIzID0gYmVbIDcgXTtcblx0XHRjb25zdCBiMzEgPSBiZVsgMiBdLCBiMzIgPSBiZVsgNSBdLCBiMzMgPSBiZVsgOCBdO1xuXG5cdFx0dGVbIDAgXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTtcblx0XHR0ZVsgMyBdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyO1xuXHRcdHRlWyA2IF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzM7XG5cblx0XHR0ZVsgMSBdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuXHRcdHRlWyA0IF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG5cdFx0dGVbIDcgXSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcblxuXHRcdHRlWyAyIF0gPSBhMzEgKiBiMTEgKyBhMzIgKiBiMjEgKyBhMzMgKiBiMzE7XG5cdFx0dGVbIDUgXSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjtcblx0XHR0ZVsgOCBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdG11bHRpcGx5U2NhbGFyKCBzICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSAqPSBzOyB0ZVsgMyBdICo9IHM7IHRlWyA2IF0gKj0gcztcblx0XHR0ZVsgMSBdICo9IHM7IHRlWyA0IF0gKj0gczsgdGVbIDcgXSAqPSBzO1xuXHRcdHRlWyAyIF0gKj0gczsgdGVbIDUgXSAqPSBzOyB0ZVsgOCBdICo9IHM7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGV0ZXJtaW5hbnQoKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhID0gdGVbIDAgXSwgYiA9IHRlWyAxIF0sIGMgPSB0ZVsgMiBdLFxuXHRcdFx0ZCA9IHRlWyAzIF0sIGUgPSB0ZVsgNCBdLCBmID0gdGVbIDUgXSxcblx0XHRcdGcgPSB0ZVsgNiBdLCBoID0gdGVbIDcgXSwgaSA9IHRlWyA4IF07XG5cblx0XHRyZXR1cm4gYSAqIGUgKiBpIC0gYSAqIGYgKiBoIC0gYiAqIGQgKiBpICsgYiAqIGYgKiBnICsgYyAqIGQgKiBoIC0gYyAqIGUgKiBnO1xuXG5cdH1cblxuXHRnZXRJbnZlcnNlKCBtYXRyaXgsIHRocm93T25EZWdlbmVyYXRlICkge1xuXG5cdFx0aWYgKCB0aHJvd09uRGVnZW5lcmF0ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oIFwiVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBjYW4gbm8gbG9uZ2VyIGJlIGNvbmZpZ3VyZWQgdG8gdGhyb3cgb24gZGVnZW5lcmF0ZS5cIiApO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgbWUgPSBtYXRyaXguZWxlbWVudHMsXG5cdFx0XHR0ZSA9IHRoaXMuZWxlbWVudHMsXG5cblx0XHRcdG4xMSA9IG1lWyAwIF0sIG4yMSA9IG1lWyAxIF0sIG4zMSA9IG1lWyAyIF0sXG5cdFx0XHRuMTIgPSBtZVsgMyBdLCBuMjIgPSBtZVsgNCBdLCBuMzIgPSBtZVsgNSBdLFxuXHRcdFx0bjEzID0gbWVbIDYgXSwgbjIzID0gbWVbIDcgXSwgbjMzID0gbWVbIDggXSxcblxuXHRcdFx0dDExID0gbjMzICogbjIyIC0gbjMyICogbjIzLFxuXHRcdFx0dDEyID0gbjMyICogbjEzIC0gbjMzICogbjEyLFxuXHRcdFx0dDEzID0gbjIzICogbjEyIC0gbjIyICogbjEzLFxuXG5cdFx0XHRkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTM7XG5cblx0XHRpZiAoIGRldCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCApO1xuXG5cdFx0Y29uc3QgZGV0SW52ID0gMSAvIGRldDtcblxuXHRcdHRlWyAwIF0gPSB0MTEgKiBkZXRJbnY7XG5cdFx0dGVbIDEgXSA9ICggbjMxICogbjIzIC0gbjMzICogbjIxICkgKiBkZXRJbnY7XG5cdFx0dGVbIDIgXSA9ICggbjMyICogbjIxIC0gbjMxICogbjIyICkgKiBkZXRJbnY7XG5cblx0XHR0ZVsgMyBdID0gdDEyICogZGV0SW52O1xuXHRcdHRlWyA0IF0gPSAoIG4zMyAqIG4xMSAtIG4zMSAqIG4xMyApICogZGV0SW52O1xuXHRcdHRlWyA1IF0gPSAoIG4zMSAqIG4xMiAtIG4zMiAqIG4xMSApICogZGV0SW52O1xuXG5cdFx0dGVbIDYgXSA9IHQxMyAqIGRldEludjtcblx0XHR0ZVsgNyBdID0gKCBuMjEgKiBuMTMgLSBuMjMgKiBuMTEgKSAqIGRldEludjtcblx0XHR0ZVsgOCBdID0gKCBuMjIgKiBuMTEgLSBuMjEgKiBuMTIgKSAqIGRldEludjtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHR0cmFuc3Bvc2UoKSB7XG5cblx0XHRsZXQgdG1wO1xuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dG1wID0gbVsgMSBdOyBtWyAxIF0gPSBtWyAzIF07IG1bIDMgXSA9IHRtcDtcblx0XHR0bXAgPSBtWyAyIF07IG1bIDIgXSA9IG1bIDYgXTsgbVsgNiBdID0gdG1wO1xuXHRcdHRtcCA9IG1bIDUgXTsgbVsgNSBdID0gbVsgNyBdOyBtWyA3IF0gPSB0bXA7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0Z2V0Tm9ybWFsTWF0cml4KCBtYXRyaXg0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQoIG1hdHJpeDQgKS5nZXRJbnZlcnNlKCB0aGlzICkudHJhbnNwb3NlKCk7XG5cblx0fVxuXG5cdHRyYW5zcG9zZUludG9BcnJheSggciApIHtcblxuXHRcdGNvbnN0IG0gPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0clsgMCBdID0gbVsgMCBdO1xuXHRcdHJbIDEgXSA9IG1bIDMgXTtcblx0XHRyWyAyIF0gPSBtWyA2IF07XG5cdFx0clsgMyBdID0gbVsgMSBdO1xuXHRcdHJbIDQgXSA9IG1bIDQgXTtcblx0XHRyWyA1IF0gPSBtWyA3IF07XG5cdFx0clsgNiBdID0gbVsgMiBdO1xuXHRcdHJbIDcgXSA9IG1bIDUgXTtcblx0XHRyWyA4IF0gPSBtWyA4IF07XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0VXZUcmFuc2Zvcm0oIHR4LCB0eSwgc3gsIHN5LCByb3RhdGlvbiwgY3gsIGN5ICkge1xuXG5cdFx0Y29uc3QgYyA9IE1hdGguY29zKCByb3RhdGlvbiApO1xuXHRcdGNvbnN0IHMgPSBNYXRoLnNpbiggcm90YXRpb24gKTtcblxuXHRcdHRoaXMuc2V0KFxuXHRcdFx0c3ggKiBjLCBzeCAqIHMsIC0gc3ggKiAoIGMgKiBjeCArIHMgKiBjeSApICsgY3ggKyB0eCxcblx0XHRcdC0gc3kgKiBzLCBzeSAqIGMsIC0gc3kgKiAoIC0gcyAqIGN4ICsgYyAqIGN5ICkgKyBjeSArIHR5LFxuXHRcdFx0MCwgMCwgMVxuXHRcdCk7XG5cblx0fVxuXG5cdHNjYWxlKCBzeCwgc3kgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHR0ZVsgMCBdICo9IHN4OyB0ZVsgMyBdICo9IHN4OyB0ZVsgNiBdICo9IHN4O1xuXHRcdHRlWyAxIF0gKj0gc3k7IHRlWyA0IF0gKj0gc3k7IHRlWyA3IF0gKj0gc3k7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0cm90YXRlKCB0aGV0YSApIHtcblxuXHRcdGNvbnN0IGMgPSBNYXRoLmNvcyggdGhldGEgKTtcblx0XHRjb25zdCBzID0gTWF0aC5zaW4oIHRoZXRhICk7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRjb25zdCBhMTEgPSB0ZVsgMCBdLCBhMTIgPSB0ZVsgMyBdLCBhMTMgPSB0ZVsgNiBdO1xuXHRcdGNvbnN0IGEyMSA9IHRlWyAxIF0sIGEyMiA9IHRlWyA0IF0sIGEyMyA9IHRlWyA3IF07XG5cblx0XHR0ZVsgMCBdID0gYyAqIGExMSArIHMgKiBhMjE7XG5cdFx0dGVbIDMgXSA9IGMgKiBhMTIgKyBzICogYTIyO1xuXHRcdHRlWyA2IF0gPSBjICogYTEzICsgcyAqIGEyMztcblxuXHRcdHRlWyAxIF0gPSAtIHMgKiBhMTEgKyBjICogYTIxO1xuXHRcdHRlWyA0IF0gPSAtIHMgKiBhMTIgKyBjICogYTIyO1xuXHRcdHRlWyA3IF0gPSAtIHMgKiBhMTMgKyBjICogYTIzO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggdHgsIHR5ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdFx0dGVbIDAgXSArPSB0eCAqIHRlWyAyIF07IHRlWyAzIF0gKz0gdHggKiB0ZVsgNSBdOyB0ZVsgNiBdICs9IHR4ICogdGVbIDggXTtcblx0XHR0ZVsgMSBdICs9IHR5ICogdGVbIDIgXTsgdGVbIDQgXSArPSB0eSAqIHRlWyA1IF07IHRlWyA3IF0gKz0gdHkgKiB0ZVsgOCBdO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggbWF0cml4ICkge1xuXG5cdFx0Y29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzO1xuXHRcdGNvbnN0IG1lID0gbWF0cml4LmVsZW1lbnRzO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgOTsgaSArKyApIHtcblxuXHRcdFx0aWYgKCB0ZVsgaSBdICE9PSBtZVsgaSBdICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fVxuXG5cdGZyb21BcnJheSggYXJyYXksIG9mZnNldCA9IDAgKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCA5OyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRzWyBpIF0gPSBhcnJheVsgaSArIG9mZnNldCBdO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRvQXJyYXkoIGFycmF5ID0gW10sIG9mZnNldCA9IDAgKSB7XG5cblx0XHRjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHM7XG5cblx0XHRhcnJheVsgb2Zmc2V0IF0gPSB0ZVsgMCBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAxIF0gPSB0ZVsgMSBdO1xuXHRcdGFycmF5WyBvZmZzZXQgKyAyIF0gPSB0ZVsgMiBdO1xuXG5cdFx0YXJyYXlbIG9mZnNldCArIDMgXSA9IHRlWyAzIF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDQgXSA9IHRlWyA0IF07XG5cdFx0YXJyYXlbIG9mZnNldCArIDUgXSA9IHRlWyA1IF07XG5cblx0XHRhcnJheVsgb2Zmc2V0ICsgNiBdID0gdGVbIDYgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgNyBdID0gdGVbIDcgXTtcblx0XHRhcnJheVsgb2Zmc2V0ICsgOCBdID0gdGVbIDggXTtcblxuXHRcdHJldHVybiBhcnJheTtcblxuXHR9XG5cbn1cblxuZXhwb3J0IHsgTWF0cml4MyB9O1xuIiwiaW1wb3J0IHsgTWF0cml4MyB9IGZyb20gJy4vTWF0cml4My5qcyc7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzLmpzJztcblxuY29uc3QgX3ZlY3RvcjEgPSAvKkBfX1BVUkVfXyovIG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfdmVjdG9yMiA9IC8qQF9fUFVSRV9fKi8gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF9ub3JtYWxNYXRyaXggPSAvKkBfX1BVUkVfXyovIG5ldyBNYXRyaXgzKCk7XG5cbmNsYXNzIFBsYW5lIHtcblxuXHRjb25zdHJ1Y3Rvciggbm9ybWFsLCBjb25zdGFudCApIHtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgJ2lzUGxhbmUnLCB7IHZhbHVlOiB0cnVlIH0gKTtcblxuXHRcdC8vIG5vcm1hbCBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWRcblxuXHRcdHRoaXMubm9ybWFsID0gKCBub3JtYWwgIT09IHVuZGVmaW5lZCApID8gbm9ybWFsIDogbmV3IFZlY3RvcjMoIDEsIDAsIDAgKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gKCBjb25zdGFudCAhPT0gdW5kZWZpbmVkICkgPyBjb25zdGFudCA6IDA7XG5cblx0fVxuXG5cdHNldCggbm9ybWFsLCBjb25zdGFudCApIHtcblxuXHRcdHRoaXMubm9ybWFsLmNvcHkoIG5vcm1hbCApO1xuXHRcdHRoaXMuY29uc3RhbnQgPSBjb25zdGFudDtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRzZXRDb21wb25lbnRzKCB4LCB5LCB6LCB3ICkge1xuXG5cdFx0dGhpcy5ub3JtYWwuc2V0KCB4LCB5LCB6ICk7XG5cdFx0dGhpcy5jb25zdGFudCA9IHc7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoIG5vcm1hbCwgcG9pbnQgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5jb3B5KCBub3JtYWwgKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gLSBwb2ludC5kb3QoIHRoaXMubm9ybWFsICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0c2V0RnJvbUNvcGxhbmFyUG9pbnRzKCBhLCBiLCBjICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsID0gX3ZlY3RvcjEuc3ViVmVjdG9ycyggYywgYiApLmNyb3NzKCBfdmVjdG9yMi5zdWJWZWN0b3JzKCBhLCBiICkgKS5ub3JtYWxpemUoKTtcblxuXHRcdC8vIFE6IHNob3VsZCBhbiBlcnJvciBiZSB0aHJvd24gaWYgbm9ybWFsIGlzIHplcm8gKGUuZy4gZGVnZW5lcmF0ZSBwbGFuZSk/XG5cblx0XHR0aGlzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KCBub3JtYWwsIGEgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxuXHRjbG9uZSgpIHtcblxuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkoIHRoaXMgKTtcblxuXHR9XG5cblx0Y29weSggcGxhbmUgKSB7XG5cblx0XHR0aGlzLm5vcm1hbC5jb3B5KCBwbGFuZS5ub3JtYWwgKTtcblx0XHR0aGlzLmNvbnN0YW50ID0gcGxhbmUuY29uc3RhbnQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bm9ybWFsaXplKCkge1xuXG5cdFx0Ly8gTm90ZTogd2lsbCBsZWFkIHRvIGEgZGl2aWRlIGJ5IHplcm8gaWYgdGhlIHBsYW5lIGlzIGludmFsaWQuXG5cblx0XHRjb25zdCBpbnZlcnNlTm9ybWFsTGVuZ3RoID0gMS4wIC8gdGhpcy5ub3JtYWwubGVuZ3RoKCk7XG5cdFx0dGhpcy5ub3JtYWwubXVsdGlwbHlTY2FsYXIoIGludmVyc2VOb3JtYWxMZW5ndGggKTtcblx0XHR0aGlzLmNvbnN0YW50ICo9IGludmVyc2VOb3JtYWxMZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0bmVnYXRlKCkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAqPSAtIDE7XG5cdFx0dGhpcy5ub3JtYWwubmVnYXRlKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9XG5cblx0ZGlzdGFuY2VUb1BvaW50KCBwb2ludCApIHtcblxuXHRcdHJldHVybiB0aGlzLm5vcm1hbC5kb3QoIHBvaW50ICkgKyB0aGlzLmNvbnN0YW50O1xuXG5cdH1cblxuXHRkaXN0YW5jZVRvU3BoZXJlKCBzcGhlcmUgKSB7XG5cblx0XHRyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIHNwaGVyZS5jZW50ZXIgKSAtIHNwaGVyZS5yYWRpdXM7XG5cblx0fVxuXG5cdHByb2plY3RQb2ludCggcG9pbnQsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAucHJvamVjdFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCcgKTtcblx0XHRcdHRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIHRoaXMubm9ybWFsICkubXVsdGlwbHlTY2FsYXIoIC0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIHBvaW50ICkgKS5hZGQoIHBvaW50ICk7XG5cblx0fVxuXG5cdGludGVyc2VjdExpbmUoIGxpbmUsIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuaW50ZXJzZWN0TGluZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0Y29uc3QgZGlyZWN0aW9uID0gbGluZS5kZWx0YSggX3ZlY3RvcjEgKTtcblxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gdGhpcy5ub3JtYWwuZG90KCBkaXJlY3Rpb24gKTtcblxuXHRcdGlmICggZGVub21pbmF0b3IgPT09IDAgKSB7XG5cblx0XHRcdC8vIGxpbmUgaXMgY29wbGFuYXIsIHJldHVybiBvcmlnaW5cblx0XHRcdGlmICggdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKSA9PT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdGFyZ2V0LmNvcHkoIGxpbmUuc3RhcnQgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBVbnN1cmUgaWYgdGhpcyBpcyB0aGUgY29ycmVjdCBtZXRob2QgdG8gaGFuZGxlIHRoaXMgY2FzZS5cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cblx0XHR9XG5cblx0XHRjb25zdCB0ID0gLSAoIGxpbmUuc3RhcnQuZG90KCB0aGlzLm5vcm1hbCApICsgdGhpcy5jb25zdGFudCApIC8gZGVub21pbmF0b3I7XG5cblx0XHRpZiAoIHQgPCAwIHx8IHQgPiAxICkge1xuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCBkaXJlY3Rpb24gKS5tdWx0aXBseVNjYWxhciggdCApLmFkZCggbGluZS5zdGFydCApO1xuXG5cdH1cblxuXHRpbnRlcnNlY3RzTGluZSggbGluZSApIHtcblxuXHRcdC8vIE5vdGU6IHRoaXMgdGVzdHMgaWYgYSBsaW5lIGludGVyc2VjdHMgdGhlIHBsYW5lLCBub3Qgd2hldGhlciBpdCAob3IgaXRzIGVuZC1wb2ludHMpIGFyZSBjb3BsYW5hciB3aXRoIGl0LlxuXG5cdFx0Y29uc3Qgc3RhcnRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuc3RhcnQgKTtcblx0XHRjb25zdCBlbmRTaWduID0gdGhpcy5kaXN0YW5jZVRvUG9pbnQoIGxpbmUuZW5kICk7XG5cblx0XHRyZXR1cm4gKCBzdGFydFNpZ24gPCAwICYmIGVuZFNpZ24gPiAwICkgfHwgKCBlbmRTaWduIDwgMCAmJiBzdGFydFNpZ24gPiAwICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNCb3goIGJveCApIHtcblxuXHRcdHJldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGludGVyc2VjdHNTcGhlcmUoIHNwaGVyZSApIHtcblxuXHRcdHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKCB0aGlzICk7XG5cblx0fVxuXG5cdGNvcGxhbmFyUG9pbnQoIHRhcmdldCApIHtcblxuXHRcdGlmICggdGFyZ2V0ID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQnICk7XG5cdFx0XHR0YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRhcmdldC5jb3B5KCB0aGlzLm5vcm1hbCApLm11bHRpcGx5U2NhbGFyKCAtIHRoaXMuY29uc3RhbnQgKTtcblxuXHR9XG5cblx0YXBwbHlNYXRyaXg0KCBtYXRyaXgsIG9wdGlvbmFsTm9ybWFsTWF0cml4ICkge1xuXG5cdFx0Y29uc3Qgbm9ybWFsTWF0cml4ID0gb3B0aW9uYWxOb3JtYWxNYXRyaXggfHwgX25vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgoIG1hdHJpeCApO1xuXG5cdFx0Y29uc3QgcmVmZXJlbmNlUG9pbnQgPSB0aGlzLmNvcGxhbmFyUG9pbnQoIF92ZWN0b3IxICkuYXBwbHlNYXRyaXg0KCBtYXRyaXggKTtcblxuXHRcdGNvbnN0IG5vcm1hbCA9IHRoaXMubm9ybWFsLmFwcGx5TWF0cml4Myggbm9ybWFsTWF0cml4ICkubm9ybWFsaXplKCk7XG5cblx0XHR0aGlzLmNvbnN0YW50ID0gLSByZWZlcmVuY2VQb2ludC5kb3QoIG5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdHRyYW5zbGF0ZSggb2Zmc2V0ICkge1xuXG5cdFx0dGhpcy5jb25zdGFudCAtPSBvZmZzZXQuZG90KCB0aGlzLm5vcm1hbCApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG5cdGVxdWFscyggcGxhbmUgKSB7XG5cblx0XHRyZXR1cm4gcGxhbmUubm9ybWFsLmVxdWFscyggdGhpcy5ub3JtYWwgKSAmJiAoIHBsYW5lLmNvbnN0YW50ID09PSB0aGlzLmNvbnN0YW50ICk7XG5cblx0fVxuXG59XG5cblxuZXhwb3J0IHsgUGxhbmUgfTtcbiIsImltcG9ydCB7VmVjdG9yMn0gZnJvbSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMidcbmltcG9ydCB7VmVjdG9yM30gZnJvbSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMydcbmltcG9ydCB7VmVjdG9yNH0gZnJvbSAndGhyZWUvc3JjL21hdGgvVmVjdG9yNCdcbmltcG9ydCB7UXVhdGVybmlvbn0gZnJvbSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbidcbmltcG9ydCB7RXVsZXJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0V1bGVyJ1xuaW1wb3J0IHtDb2xvcn0gZnJvbSAndGhyZWUvc3JjL21hdGgvQ29sb3InXG5pbXBvcnQge0JveDJ9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0JveDInXG5pbXBvcnQge0JveDN9IGZyb20gJ3RocmVlL3NyYy9tYXRoL0JveDMnXG5pbXBvcnQge1JheX0gZnJvbSAndGhyZWUvc3JjL21hdGgvUmF5J1xuaW1wb3J0IHtMaW5lM30gZnJvbSAndGhyZWUvc3JjL21hdGgvTGluZTMnXG5pbXBvcnQge1BsYW5lfSBmcm9tICd0aHJlZS9zcmMvbWF0aC9QbGFuZSdcbi8vIGltcG9ydCB7TWF0cml4M30gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4Mydcbi8vIGltcG9ydCB7TWF0cml4NH0gZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4NCdcblxuXG4vLyBleHBvcnQgY2xhc3MgUHJvcGVydHlJdGVyYXRvcjxUID0gYW55PiBpbXBsZW1lbnRzIEl0ZXJhdG9yPG51bWJlcj4ge1xuLy8gICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX29iajpULCBwcml2YXRlIF9rZXlzOlJlYWRvbmx5QXJyYXk8a2V5b2YgVD4pIHt9XG4vLyAgICAgcHJpdmF0ZSBfaWR4ID0gMFxuLy8gICAgIG5leHQoKSA6IEl0ZXJhdG9yUmVzdWx0PG51bWJlciwgbnVtYmVyPiB7XG4vLyAgICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgICAgICBkb25lOiB0aGlzLl9pZHggPT09IChWZWN0b3IyS2V5cy5sZW5ndGggLSAxKSxcbi8vICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9vYmpbdGhpcy5fa2V5c1t0aGlzLl9pZHgrK11dIGFzIGFueVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvVmVjdG9yMicge1xuLy8gICAgIGludGVyZmFjZSBWZWN0b3IyIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFZlY3RvcjJLZXlzID0gWyd4JywneSddIGFzIGNvbnN0XG4vLyBWZWN0b3IyLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuLy8gICAgIHJldHVybiBuZXcgUHJvcGVydHlJdGVyYXRvcih0aGlzLCBWZWN0b3IyS2V5cylcbi8vIH1cblxuLy8gZGVjbGFyZSBtb2R1bGUgJ3RocmVlL3NyYy9tYXRoL1ZlY3RvcjMnIHtcbi8vICAgICBpbnRlcmZhY2UgVmVjdG9yMyB7XG4vLyAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IFByb3BlcnR5SXRlcmF0b3Jcbi8vICAgICB9XG4vLyB9XG4vLyBjb25zdCBWZWN0b3IzS2V5cyA9IFsneCcsJ3knLCd6J10gYXMgY29uc3Rcbi8vIFZlY3RvcjMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eUl0ZXJhdG9yKHRoaXMsIFZlY3RvcjNLZXlzKVxuLy8gfVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvUXVhdGVybmlvbicge1xuLy8gICAgIGludGVyZmFjZSBRdWF0ZXJuaW9uIHtcbi8vICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogUHJvcGVydHlJdGVyYXRvclxuLy8gICAgIH1cbi8vIH1cbi8vIGNvbnN0IFF1YXRlcm5pb25LZXlzID0gWyd4JywneScsJ3onXSBhcyBjb25zdFxuLy8gUXVhdGVybmlvbi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gbmV3IFByb3BlcnR5SXRlcmF0b3IodGhpcywgUXVhdGVybmlvbktleXMpXG4vLyB9XG5cbi8vIGltcG9ydCB7dHJhY2tlZH0gZnJvbSAnLi90cmFja2luZydcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMi5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yMy5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd4Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd5Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd6Jylcbi8vIHRyYWNrZWQoVmVjdG9yNC5wcm90b3R5cGUsICd3Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfeCcpXG4vLyB0cmFja2VkKFF1YXRlcm5pb24ucHJvdG90eXBlLCAnX3knKVxuLy8gdHJhY2tlZChRdWF0ZXJuaW9uLnByb3RvdHlwZSwgJ196Jylcbi8vIHRyYWNrZWQoUXVhdGVybmlvbi5wcm90b3R5cGUsICdfdycpXG4vLyB0cmFja2VkKENvbG9yLnByb3RvdHlwZSwgJ3InKVxuLy8gdHJhY2tlZChDb2xvci5wcm90b3R5cGUsICdnJylcbi8vIHRyYWNrZWQoQ29sb3IucHJvdG90eXBlLCAnYicpXG5cbmV4cG9ydCBjb25zdCBWXzAwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMigwLDApKVxuZXhwb3J0IGNvbnN0IFZfMTEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IyKDEsMSkpXG5leHBvcnQgY29uc3QgVl8wMDAgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwwKSlcbmV4cG9ydCBjb25zdCBWXzEwMCA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwwLDApKVxuZXhwb3J0IGNvbnN0IFZfMDEwID0gT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLDEsMCkpXG5leHBvcnQgY29uc3QgVl8wMDEgPSBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDAsMCwxKSlcbmV4cG9ydCBjb25zdCBWXzExMSA9IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMSwxLDEpKVxuZXhwb3J0IGNvbnN0IFFfSURFTlRJVFkgPSBPYmplY3QuZnJlZXplKG5ldyBRdWF0ZXJuaW9uKVxuXG5leHBvcnQgY29uc3QgRElSRUNUSU9OID0ge1xuICAgIFJJR0hUOiBPYmplY3QuZnJlZXplKG5ldyBWZWN0b3IzKDEsIDAsIDApKSxcbiAgICBVUDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAxLCAwKSksXG4gICAgTkVBUjogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygwLCAwLCAxKSksXG4gICAgTEVGVDogT2JqZWN0LmZyZWV6ZShuZXcgVmVjdG9yMygtMSwgMCwgMCkpLFxuICAgIERPV046IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgLTEsIDApKSxcbiAgICBGQVI6IE9iamVjdC5mcmVlemUobmV3IFZlY3RvcjMoMCwgMCwgLTEpKVxufVxuXG4vLyBkZWNsYXJlIG1vZHVsZSAndGhyZWUvc3JjL21hdGgvQm94Mycge1xuLy8gICAgIGludGVyZmFjZSBCb3gzIHtcbi8vICAgICAgICAgbGVmdDpudW1iZXJcbi8vICAgICAgICAgcmlnaHQ6bnVtYmVyXG4vLyAgICAgICAgIGJvdHRvbTpudW1iZXJcbi8vICAgICAgICAgdG9wOm51bWJlclxuLy8gICAgICAgICBjZW50ZXI6VmVjdG9yM1xuLy8gICAgIH1cbi8vIH1cblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnbGVmdCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi54XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAncmlnaHQnLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICByZXR1cm4gdGhpcy5tYXgueFxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3gzLnByb3RvdHlwZSwgJ3RvcCcsIHtcbi8vICAgICBnZXQodGhpczpCb3gzKSB7XG4vLyAgICAgICAgIHJldHVybiB0aGlzLm1pbi55XG4vLyAgICAgfVxuLy8gfSlcblxuLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEJveDMucHJvdG90eXBlLCAnYm90dG9tJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWF4Lnlcbi8vICAgICB9XG4vLyB9KVxuXG4vLyBjb25zdCBjZW50ZXJNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdjZW50ZXInLCB7XG4vLyAgICAgZ2V0KHRoaXM6Qm94Mykge1xuLy8gICAgICAgICBpZiAoIWNlbnRlck1hcC5oYXModGhpcykpIGNlbnRlck1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENlbnRlcihjZW50ZXJNYXAuZ2V0KHRoaXMpKVxuLy8gICAgIH1cbi8vIH0pXG5cbi8vIGNvbnN0IHNpemVNYXAgPSBuZXcgV2Vha01hcDxCb3gzPigpXG4vLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm94My5wcm90b3R5cGUsICdzaXplJywge1xuLy8gICAgIGdldCh0aGlzOkJveDMpIHtcbi8vICAgICAgICAgaWYgKCFzaXplTWFwLmhhcyh0aGlzKSkgc2l6ZU1hcC5zZXQodGhpcywgbmV3IFZlY3RvcjMpXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldFNpemUoc2l6ZU1hcC5nZXQodGhpcykpXG4vLyAgICAgfVxuLy8gfSlcblxuZXhwb3J0IHtcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjMsXG4gICAgVmVjdG9yNCxcbiAgICBRdWF0ZXJuaW9uLFxuICAgIEV1bGVyLFxuICAgIENvbG9yLFxuICAgIEJveDIsXG4gICAgQm94MyxcbiAgICBSYXksXG4gICAgTGluZTMsXG4gICAgUGxhbmUsXG59XG5cblxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IyTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yNExpa2Uge3g6bnVtYmVyLCB5Om51bWJlciwgejpudW1iZXIsIHc6bnVtYmVyfVxuLy8gZXhwb3J0IGludGVyZmFjZSBRdWF0ZXJuaW9uTGlrZSB7eDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlciwgdzpudW1iZXJ9XG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbG9yTGlrZSB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cbi8vIGV4cG9ydCBpbnRlcmZhY2UgQm94M0xpa2Uge21pbjpWZWN0b3IzTGlrZSwgbWF4OlZlY3RvcjNMaWtlfVxuLy8gZXhwb3J0IGludGVyZmFjZSBSYXlMaWtlIHtvcmlnaW46VmVjdG9yM0xpa2UsIGRpcmVjdGlvbjpWZWN0b3IzTGlrZX1cblxuZXhwb3J0ICogZnJvbSAndGhyZWUvc3JjL21hdGgvTWF0cml4MydcbmV4cG9ydCAqIGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5leHBvcnQgKiBmcm9tICd0aHJlZS9zcmMvbWF0aC9NYXRoVXRpbHMnXG5cbi8qXG4qIFRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGlzIGEgdW5pdGxlc3Mgc2NhbGFyIG1lYXN1cmUgb2YgdGhlIGRpZmZlcmVuY2VcbiogYmV0d2VlbiB0aGUgYHRhcmdldGAgdmFsdWUgYW5kIHRoZSBwcmV2aW91cyB0YXJnZXQgdmFsdWUgKHN0YWdlZCBvciBjb21taXR0ZWQpXG4qIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmVsYXRpdmVfY2hhbmdlX2FuZF9kaWZmZXJlbmNlXG4qIFxuKiBFeGFjdGx5IGhvdyByZWxhdGl2ZSBkaWZmZXJlbmNlIGlzIGNhbGN1bGF0ZWQgaXMgYmFzZWQgb24gdGhlIHZhbHVlIHR5cGU6XG5cbiogbnVtYmVyIC0gbGluZWFyIGRpc3RhbmNlIGJldHdlZW4gLyBhdmcgYWJzb2x1dGUgdmFsdWVcbiogdmVjdG9yIC0gbGluZWFyIGRpc3RhbmNlIGJldHdlZW4gLyBhdmcgbWFnbml0dWRlXG4qIGJveCAtIGF2ZyBjb3JyZXNwb25kaW5nIGNvcm5lciBkaXN0YW5jZXMgLyBhdmcgc2l6ZSBtYWduaXR1ZGVcbiogcXVhdGVybmlvbiAtIGFuZ3VsYXIgZGlzdGFuY2UgYmV0d2VlbiAvIG1heCBhbmd1bGFyIGRpc3RhbmNlICgxODAgZGVnKVxuKiBjb2xvciAtIGF2ZyByZ2IgZGlzdGFuY2UgLyBtYXggcmdiIGRpc3RhbmNlICh3aGl0ZSA9IHNxcnQoMykpXG4qIFxuKiBJZiB0aGVyZSBpcyBubyBjaGFuZ2UsIHRoZSByZWxhdGl2ZSBkaWZmZXJlbmNlIGlzIDBcbiogT3RoZXJ3aXNlLCB0aGUgcmVsYXRpdmUgZGlmZmVyZW5jZSBpcyBwb3NpdGl2ZS4gXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZWxhdGl2ZURpZmZlcmVuY2U8VCBleHRlbmRzIE1hdGhUeXBlID0gTWF0aFR5cGU+KHN0YXJ0OlQsIGVuZDpUKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ251bWJlcicpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZU51bWJlcihzdGFydCwgZW5kIGFzIG51bWJlcikgICAgXG4gICAgaWYgKCdpc1ZlY3RvcjMnIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VWZWN0b3IzKHN0YXJ0IGFzIFZlY3RvcjMsIGVuZCBhcyBWZWN0b3IzKSAgICBcbiAgICBpZiAoJ2lzVmVjdG9yMicgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVZlY3RvcjIoc3RhcnQgYXMgVmVjdG9yMiwgZW5kIGFzIFZlY3RvcjIpICAgIFxuICAgIGlmICgnaXNCb3gzJyBpbiBzdGFydCkgcmV0dXJuIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQm94MyhzdGFydCBhcyBCb3gzLCBlbmQgYXMgQm94MylcbiAgICAvLyB0aGUgZm9sbG93aW5nIHR5cGVzIGFyZSBuYXR1cmFsbHkgYm91bmRlZCxcbiAgICAvLyBzbyBpbnN0ZWFkIG9mIGRpdmlkaW5nIGJ5IGF2ZXJhZ2UgbWFnbml0dWRlcyxcbiAgICAvLyB3ZSBjYW4gc2ltcGx5IGRpdmlkZSBieSB0aGUgbWF4aW11bSBkaXN0YW5jZSBcbiAgICAvLyBiZXR3ZWVuIGFueSB0d28gcG9zc2libGUgdmFsdWVzXG4gICAgaWYgKCdpc1F1YXRlcm5pb24nIGluIHN0YXJ0KSByZXR1cm4gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VRdWF0ZXJuaW9uKHN0YXJ0IGFzIFF1YXRlcm5pb24sIGVuZCBhcyBRdWF0ZXJuaW9uKVxuICAgIGlmICgnaXNDb2xvcicgaW4gc3RhcnQpIHJldHVybiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZUNvbG9yKHN0YXJ0IGFzIENvbG9yLCBlbmQgYXMgQ29sb3IpXG4gICAgcmV0dXJuIEluZmluaXR5XG59XG5leHBvcnQgdHlwZSBNYXRoVHlwZSA9IG51bWJlcnxWZWN0b3IyfFZlY3RvcjN8Q29sb3J8UXVhdGVybmlvbnxCb3gzXG5cblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VOdW1iZXIoczpudW1iZXIsIGU6bnVtYmVyKSB7XG4gICAgaWYgKGUgPT09IHMpIHJldHVybiAwXG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhlLXMpXG4gICAgY29uc3QgYXZnQWJzb2x1dGVWYWx1ZSA9ICgoTWF0aC5hYnMoZSkgKyBNYXRoLmFicyhzKSkvMilcbiAgICByZXR1cm4gZGlzdGFuY2UgLyBhdmdBYnNvbHV0ZVZhbHVlXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMyhzOlRIUkVFLlZlY3RvcjMsZTpUSFJFRS5WZWN0b3IzKSB7XG4gICAgaWYgKGUuZXF1YWxzKHMpKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gZS5kaXN0YW5jZVRvKHMpXG4gICAgY29uc3QgYXZnTWFnbml0dWRlID0gKGUubGVuZ3RoKCkgKyBzLmxlbmd0aCgpKS8yXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnTWFnbml0dWRlXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlVmVjdG9yMihzOlRIUkVFLlZlY3RvcjIsZTpUSFJFRS5WZWN0b3IyKSB7XG4gICAgaWYgKGUuZXF1YWxzKHMpKSByZXR1cm4gMFxuICAgIGNvbnN0IGRpc3RhbmNlID0gZS5kaXN0YW5jZVRvKHMpXG4gICAgY29uc3QgYXZnTWFnbml0dWRlID0gKGUubGVuZ3RoKCkgKyBzLmxlbmd0aCgpKS8yXG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gYXZnTWFnbml0dWRlXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkUmVsYXRpdmVEaWZmZXJlbmNlQm94MyhzOkJveDMsIGU6Qm94Mykge1xuICAgIGlmIChzLmVxdWFscyhlKSkgcmV0dXJuIDBcbiAgICBjb25zdCB2ID0gc2NyYXRjaFYzXG4gICAgY29uc3QgbWluRGlzdCA9IGUubWluLmRpc3RhbmNlVG8ocy5taW4pXG4gICAgY29uc3QgbWF4RGlzdCA9IGUubWF4LmRpc3RhbmNlVG8ocy5tYXgpXG4gICAgY29uc3QgYXZnRGlzdGFuY2UgPSAobWluRGlzdCArIG1heERpc3QpIC8gMlxuICAgIGNvbnN0IGF2Z1NpemVNYWduaXR1ZGUgPSAoZS5nZXRTaXplKHYpLmxlbmd0aCgpICsgcy5nZXRTaXplKHYpLmxlbmd0aCgpKSAvIDJcbiAgICByZXR1cm4gYXZnRGlzdGFuY2UgLyBhdmdTaXplTWFnbml0dWRlXG59XG5jb25zdCBzY3JhdGNoVjMgPSBuZXcgVmVjdG9yM1xuXG5mdW5jdGlvbiBjb21wdXRlZFJlbGF0aXZlRGlmZmVyZW5jZVF1YXRlcm5pb24oczpRdWF0ZXJuaW9uLCBlOlF1YXRlcm5pb24pIHtcbiAgICBpZiAocy5lcXVhbHMoZSkpIHJldHVybiAwXG4gICAgcmV0dXJuIHMuYW5nbGVUbyhlKSAvIE1hdGguUElcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRSZWxhdGl2ZURpZmZlcmVuY2VDb2xvcihzOkNvbG9yLCBlOkNvbG9yKSB7XG4gICAgaWYgKHMuZXF1YWxzKGUpKSByZXR1cm4gMFxuICAgIGNvbnN0IHYgPSBzY3JhdGNoVjNcbiAgICBjb25zdCBkaXN0YW5jZSA9IHYuc2V0KFxuICAgICAgICBNYXRoLmFicyhlLnIgLSBzLnIpLFxuICAgICAgICBNYXRoLmFicyhlLmcgLSBzLmcpLCBcbiAgICAgICAgTWF0aC5hYnMoZS5iIC0gcy5iKVxuICAgICkubGVuZ3RoKClcbiAgICByZXR1cm4gZGlzdGFuY2UgLyBzcXJ0M1xufVxuY29uc3Qgc3FydDMgPSBNYXRoLnNxcnQoMylcblxuXG5cbi8qKiBcbiAqIFJldHVybiByYW5kb20gbnVtYmVyIHdpdGggZ2F1c3NpYW4gZGlzdHJpYnV0aW9uXG4gKiBAcGFyYW0gW3N0YW5kYXJkRGV2aWF0aW9uPTFdXG4gKi9cbmV4cG9ydCBjb25zdCBnYXVzc2lhbiA9IChzdGFuZGFyZERldmlhdGlvbj0xKSA9PiB7XG4gIHZhciB1ID0gTWF0aC5yYW5kb20oKVxuICByZXR1cm4gKHUlMWUtOD41ZS05PzE6LTEpKk1hdGguc3FydCgtTWF0aC5sb2coTWF0aC5tYXgoMWUtOSx1KSkpKnN0YW5kYXJkRGV2aWF0aW9uO1xufVxuLy8gZXhwb3J0IGNvbnN0IGdhdXNzaWFuID0gKCgpID0+IHtcbi8vICAgICBjb25zdCBfMlBJID0gTWF0aC5QSVxuLy8gICAgIGxldCB6MDpudW1iZXIsIHoxOm51bWJlclxuLy8gICAgIGxldCBnZW5lcmF0ZSA9IGZhbHNlXG4vLyAgICAgcmV0dXJuIChzdGFuZGFyZERldmlhdGlvbj0xKSA9PiB7XG4vLyAgICAgICAgIGdlbmVyYXRlID0gIWdlbmVyYXRlXG4vLyAgICAgICAgIGlmICghZ2VuZXJhdGUpIHJldHVybiB6MSAqIHN0YW5kYXJkRGV2aWF0aW9uXG4vLyAgICAgICAgIGxldCB1MTpudW1iZXIsIHUyOm51bWJlclxuLy8gICAgICAgICBkbyB7IHUxID0gTWF0aC5yYW5kb20oKSB9IHdoaWxlICh1MSA8IE51bWJlci5FUFNJTE9OKVxuLy8gICAgICAgICB1MiA9IE1hdGgucmFuZG9tKClcbi8vICAgICAgICAgejAgPSBNYXRoLnNxcnQoLTIuMCAqIE1hdGgubG9nKHUxKSkgKiBNYXRoLmNvcyhfMlBJICogdTIpXG4vLyAgICAgICAgIHoxID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1MSkpICogTWF0aC5zaW4oXzJQSSAqIHUyKVxuLy8gICAgICAgICByZXR1cm4gejAgKiBzdGFuZGFyZERldmlhdGlvblxuLy8gICAgIH1cbi8vIH0pKClcblxuLyoqXG4gKiBSZXR1cm4gcmFuZG9tIG51bWJlciB3aXRoIGxldnkgZGlzdHJpYnV0aW9uXG4gKiBAcGFyYW0gW3NjYWxlPTFdXG4gKiBcbiAqIEJhc2VkIG9uOlxuICogaHR0cDovL2FuZHJld2Vja2ZvcmQuYmxvZ3Nwb3QuY29tLzIwMTEvMDUvZ2VuZXJhdGluZy1sZXZ5LXJhbmRvbS12YXJpYWJsZXMtZnJvbS5odG1sXG4gKi9cbmV4cG9ydCBjb25zdCBsZXZ5ID0gKHNjYWxlPTEpID0+ICB7XG4gICAgY29uc3Qgc3RkRGV2aWF0aW9uID0gTWF0aC5zcXJ0KCBNYXRoLnNxcnQoMSAvICgyICogc2NhbGUpKSApXG4gICAgcmV0dXJuIDEgLyAoZ2F1c3NpYW4oc3RkRGV2aWF0aW9uKSAqKiAyKVxufVxuXG4vKipcbiAqIFJldHVybiBhIHJhbmRvbSBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0gb3V0IFxuICogQHBhcmFtIHR3aXN0U2NhbGUgXG4gKiBAcGFyYW0gc3dpbmdTY2FsZSBcbiAqL1xuZXhwb3J0IGNvbnN0IHJhbmRvbVF1YXRlcm5pb24gPSAoKCkgPT4ge1xuICAgIGNvbnN0IF8yUEkgPSBNYXRoLlBJICogMlxuICAgIGNvbnN0IFZfMDAxID0gbmV3IFZlY3RvcjMoMCwwLDEpXG4gICAgY29uc3QgdHdpc3QgPSBuZXcgUXVhdGVybmlvblxuICAgIGNvbnN0IHN3aW5nID0gbmV3IFF1YXRlcm5pb25cbiAgICBjb25zdCBzd2luZ0F4aXMgPSBuZXcgVmVjdG9yM1xuICAgIGNvbnN0IG91dCA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJhbmRvbVF1YXRlcm5pb24odHdpc3RTY2FsZT0xLCBzd2luZ1NjYWxlPTEpIHtcbiAgICAgICAgdmFyIHR3aXN0TWFnbml0dWRlID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogXzJQSSAqIHR3aXN0U2NhbGUgXG4gICAgICAgIHZhciBzd2luZ0RpcmVjdGlvbiA9IE1hdGgucmFuZG9tKCkgKiBfMlBJXG4gICAgICAgIHZhciBzd2luZ01hZ25pdHVkZSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogc3dpbmdTY2FsZVxuICAgICAgICBzd2luZ0F4aXMuc2V0KDEsMCwwKS5hcHBseUF4aXNBbmdsZShWXzAwMSwgc3dpbmdEaXJlY3Rpb24pXG4gICAgICAgIHR3aXN0LnNldEZyb21BeGlzQW5nbGUoVl8wMDEsIHR3aXN0TWFnbml0dWRlKVxuICAgICAgICBzd2luZy5zZXRGcm9tQXhpc0FuZ2xlKHN3aW5nQXhpcywgc3dpbmdNYWduaXR1ZGUpXG4gICAgICAgIHJldHVybiBvdXQubXVsdGlwbHlRdWF0ZXJuaW9ucyhzd2luZywgdHdpc3QpXG4gICAgfVxufSkoKVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tU2VsZWN0PFQ+KGFycjpUW10sIHdlaWdodHM/Om51bWJlcltdKSA6IFQge1xuICAgIGxldCB0b3RhbCA9IDBcbiAgICBmb3IgKGxldCBpPTA7IGk8IGFyci5sZW5ndGg7IGkrKykgeyB0b3RhbCArPSB3ZWlnaHRzPy5baV18fDEgfVxuICAgIGNvbnN0IHRocmVzaG9sZCA9IE1hdGgucmFuZG9tKCkgKiB0b3RhbFxuICAgIHRvdGFsID0gMFxuICAgIGZvciAobGV0IGk9MDsgaTwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRvdGFsICs9IHdlaWdodHM/LltpXXx8MVxuICAgICAgICBpZiAodG90YWwgPiB0aHJlc2hvbGQpIHJldHVybiBhcnJbaV1cbiAgICB9XG4gICAgcmV0dXJuIGFyclswXSAvLyBtYWtlIHRzYyBoYXBweVxufVxuXG4vKipcbiAqIFVzZSB0aGUgc3dpbmctdHdpc3QgZGVjb21wb3NpdGlvbiB0byBnZXQgdGhlIGNvbXBvbmVudCBvZiBhIHJvdGF0aW9uXG4gKiBhcm91bmQgdGhlIGdpdmVuIGF4aXMuXG4gKiBcbiAqIEBwYXJhbSByb3RhdGlvbiAgVGhlIHJvdGF0aW9uLlxuICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgYXhpcyAoc2hvdWxkIGJlIG5vcm1hbGl6ZWQpLlxuICogQHJldHVybiBUaGUgY29tcG9uZW50IG9mIHJvdGF0aW9uIGFib3V0IHRoZSBheGlzLlxuICovXG5leHBvcnQgY29uc3QgZXh0cmFjdFJvdGF0aW9uQWJvdXRBeGlzID0gKCgpID0+IHtcbiAgICBjb25zdCB2ZWMgPSBuZXcgVmVjdG9yM1xuICAgIHJldHVybiBmdW5jdGlvbiBleHRyYWN0Um90YXRpb25BYm91dEF4aXMocm90OlF1YXRlcm5pb24sIGRpcmVjdGlvbjpWZWN0b3IzLCBvdXQ6UXVhdGVybmlvbikge1xuICAgICAgICBjb25zdCByb3RBeGlzID0gdmVjLnNldChyb3QueCwgcm90LnksIHJvdC56KVxuICAgICAgICBjb25zdCBkb3RQcm9kID0gZGlyZWN0aW9uLmRvdChyb3RBeGlzKSAgICAgIFxuICAgICAgICAvLyBTaG9ydGN1dCBjYWxjdWxhdGlvbiBvZiBgcHJvamVjdGlvbmAgcmVxdWlyZXMgYGRpcmVjdGlvbmAgdG8gYmUgbm9ybWFsaXplZFxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdmVjLmNvcHkoZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihkb3RQcm9kKVxuICAgICAgICBjb25zdCB0d2lzdCA9IG91dC5zZXQocHJvamVjdGlvbi54LCBwcm9qZWN0aW9uLnksIHByb2plY3Rpb24ueiwgcm90LncpLm5vcm1hbGl6ZSgpXG4gICAgICAgIGlmIChkb3RQcm9kIDwgMC4wKSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgYHR3aXN0YCBwb2ludHMgdG93YXJkcyBgZGlyZWN0aW9uYFxuICAgICAgICAgICAgdHdpc3QueCA9IC10d2lzdC54XG4gICAgICAgICAgICB0d2lzdC55ID0gLXR3aXN0LnlcbiAgICAgICAgICAgIHR3aXN0LnogPSAtdHdpc3QuelxuICAgICAgICAgICAgdHdpc3QudyA9IC10d2lzdC53XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR3aXN0XG4gICAgfVxufSkoKSIsIlxuaW1wb3J0IHsgQm94MywgVmVjdG9yMywgUXVhdGVybmlvbiwgTWF0cml4NCwgVl8wMDAsIERJUkVDVElPTiwgVl8xMTEsIEJveDIsIFZlY3RvcjIsIFFfSURFTlRJVFkgfSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBFdGhlcmVhbExheW91dFN5c3RlbSwgTm9kZTNEIH0gZnJvbSAnLi9FdGhlcmVhbExheW91dFN5c3RlbSdcbmltcG9ydCB7IE1lbW9pemF0aW9uQ2FjaGUgfSBmcm9tICcuL01lbW9pemF0aW9uQ2FjaGUnXG5cbmNvbnN0IEludGVybmFsUmF3U3RhdGUgPSBTeW1ib2woXCJyYXdcIilcbmNvbnN0IEludGVybmFsQ3VycmVudFN0YXRlID0gU3ltYm9sKFwiY3VycmVudFwiKVxuY29uc3QgSW50ZXJuYWxUYXJnZXRTdGF0ZSA9IFN5bWJvbChcInRhcmdldFwiKVxuY29uc3QgSW50ZXJuYWxQcmV2aW91c1RhcmdldFN0YXRlID0gU3ltYm9sKFwicHJldmlvdXNUYXJnZXRcIilcblxuZXhwb3J0IGNsYXNzIE5vZGVTdGF0ZTxOIGV4dGVuZHMgTm9kZTNEPU5vZGUzRD4ge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIG1vZGU6J2N1cnJlbnQnfCd0YXJnZXQnLCBwdWJsaWMgbWV0cmljczpTcGF0aWFsTWV0cmljczxOPikge31cbiAgICBcbiAgICBwcml2YXRlIF9jYWNoZSA9IG5ldyBNZW1vaXphdGlvbkNhY2hlXG5cbiAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICB0aGlzLl9jYWNoZS5pbnZhbGlkYXRlQWxsKClcbiAgICB9XG5cbiAgICBvcGFjaXR5ID0gMVxuIFxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnRcbiAgICB9XG4gICAgc2V0IHBhcmVudCh2YWw6TnxudWxsKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLl9wYXJlbnRcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IHZhbCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gdmFsXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKVxuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX3BhcmVudCA6IE58bnVsbCA9IG51bGxcblxuICAgIGdldCBwYXJlbnRTdGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TWV0cmljcyA9IHRoaXMucGFyZW50ICYmIHRoaXMubWV0cmljcy5zeXN0ZW0uZ2V0TWV0cmljcyh0aGlzLnBhcmVudClcbiAgICAgICAgcmV0dXJuIHBhcmVudE1ldHJpY3M/Llt0aGlzLm1vZGVdXG4gICAgfVxuICAgIFxuICAgIGdldCByZWZlcmVuY2VTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0cmljcy5yZWZlcmVuY2VNZXRyaWNzPy5bdGhpcy5tb2RlXVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhY2hlZExvY2FsTWF0cml4ID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX2xvY2FsTWF0cml4LmRlY29tcG9zZSh0aGlzLl9sb2NhbFBvc2l0aW9uLCB0aGlzLl9sb2NhbE9yaWVudGF0aW9uLCB0aGlzLl9sb2NhbFNjYWxlKVxuICAgICAgICB0aGlzLl9sb2NhbE9yaWVudGF0aW9uLm5vcm1hbGl6ZSgpXG4gICAgICAgIHRoaXMuX2xvY2FsT3JpZW50YXRpb25JbnZlcnNlLmNvcHkodGhpcy5fbG9jYWxPcmllbnRhdGlvbikuaW52ZXJzZSgpXG4gICAgICAgIHRoaXMuX2xvY2FsUm90YXRpb24ubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5fbG9jYWxPcmllbnRhdGlvbilcbiAgICAgICAgdGhpcy5fbG9jYWxSb3RhdGlvbkludmVyc2UubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5fbG9jYWxPcmllbnRhdGlvbkludmVyc2UpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbE1hdHJpeFxuICAgIH0pXG4gICAgZ2V0IGxvY2FsTWF0cml4KCkgeyByZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXggfVxuICAgIHNldCBsb2NhbE1hdHJpeCh2YWw6TWF0cml4NCkge1xuICAgICAgICBpZiAoaXNOYU4odmFsLmVsZW1lbnRzWzBdKSkgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbE1hdHJpeC5lcXVhbHModmFsKSkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKClcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsTWF0cml4LmNvcHkodmFsKVxuICAgICAgICAgICAgdGhpcy5fbG9jYWxNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5fbG9jYWxNYXRyaXgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9sb2NhbE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbG9jYWxNYXRyaXhJbnZlcnNlID0gbmV3IE1hdHJpeDRcbiAgICBcbiAgICBwcml2YXRlIF9sb2NhbFBvc2l0aW9uID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9sb2NhbE9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF9sb2NhbE9yaWVudGF0aW9uSW52ZXJzZSA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgcHJpdmF0ZSBfbG9jYWxTY2FsZSA9IG5ldyBWZWN0b3IzKDEsMSwxKVxuICAgIHByaXZhdGUgX2xvY2FsUm90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX2xvY2FsUm90YXRpb25JbnZlcnNlID0gbmV3IE1hdHJpeDRcblxuICAgIGdldCBsb2NhbE1hdHJpeEludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbE1hdHJpeEludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgbG9jYWxQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxQb3NpdGlvblxuICAgIH1cblxuICAgIGdldCBsb2NhbE9yaWVudGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbE9yaWVudGF0aW9uXG4gICAgfVxuXG4gICAgZ2V0IGxvY2FsT3JpZW50YXRpb25JbnZlcnNlKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbE9yaWVudGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIGdldCBsb2NhbFNjYWxlKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRMb2NhbE1hdHJpeCgpXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFNjYWxlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9jYWwgcm90YXRpb24gbWF0cml4XG4gICAgICovXG4gICAgZ2V0IGxvY2FsUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZExvY2FsTWF0cml4KClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsUm90YXRpb25cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBPcmllbnRhdGlvbiBtYXRyaXggaW52ZXJzZVxuICAgICAqL1xuICAgIGdldCBsb2NhbFJvdGF0aW9uSW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTG9jYWxNYXRyaXgoKVxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxSb3RhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWNoZWRXb3JsZE1hdHJpeCA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLl93b3JsZE1hdHJpeC5jb3B5KHRoaXMubG9jYWxNYXRyaXgpXG4gICAgICAgIGNvbnN0IHBhcmVudFN0YXRlID0gdGhpcy5wYXJlbnRTdGF0ZVxuICAgICAgICBpZiAocGFyZW50U3RhdGUpIHtcbiAgICAgICAgICAgIG1hdHJpeC5wcmVtdWx0aXBseShwYXJlbnRTdGF0ZS53b3JsZE1hdHJpeClcbiAgICAgICAgfVxuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMuX3dvcmxkUG9zaXRpb24sIHRoaXMuX3dvcmxkT3JpZW50YXRpb24sIHRoaXMuX3dvcmxkU2NhbGUpXG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4SW52ZXJzZS5nZXRJbnZlcnNlKHRoaXMuX3dvcmxkTWF0cml4KVxuICAgICAgICB0aGlzLl93b3JsZE9yaWVudGF0aW9uSW52ZXJzZS5jb3B5KHRoaXMuX3dvcmxkT3JpZW50YXRpb24pLmludmVyc2UoKVxuICAgICAgICB0aGlzLl93b3JsZFJvdGF0aW9uLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb24pXG4gICAgICAgIHRoaXMuX3dvcmxkUm90YXRpb25JbnZlcnNlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMuX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlKVxuICAgICAgICByZXR1cm4gbWF0cml4XG4gICAgfSlcbiAgICBnZXQgd29ybGRNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRXb3JsZE1hdHJpeCgpXG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgX3dvcmxkUG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3dvcmxkT3JpZW50YXRpb25JbnZlcnNlID0gbmV3IFF1YXRlcm5pb25cbiAgICBwcml2YXRlIF93b3JsZFNjYWxlID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF93b3JsZE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfd29ybGRNYXRyaXhJbnZlcnNlID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF93b3JsZFJvdGF0aW9uSW52ZXJzZSA9IG5ldyBNYXRyaXg0XG5cbiAgICBnZXQgd29ybGRNYXRyaXhJbnZlcnNlKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE1hdHJpeEludmVyc2VcbiAgICB9XG5cbiAgICBnZXQgd29ybGRQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy53b3JsZE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRQb3NpdGlvblxuICAgIH1cblxuICAgIGdldCB3b3JsZE9yaWVudGF0aW9uKCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZE9yaWVudGF0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkU2NhbGUoKSB7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU2NhbGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnNlIHdvcmxkIG9yaWVudGF0aW9uXG4gICAgICovXG4gICAgZ2V0IHdvcmxkT3JpZW50YXRpb25JbnZlcnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRPcmllbnRhdGlvbkludmVyc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXb3JsZCByb3RhdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkUm90YXRpb25cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogV29ybGQgcm90YXRpb24gbWF0cml4IGludmVyc2VcbiAgICAgKi9cbiAgICBnZXQgd29ybGRSb3RhdGlvbkludmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFJvdGF0aW9uSW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbm5lciBib3VuZHMgY2VudGVyIGluIHdvcmxkIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkV29ybGRDZW50ZXIgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkQ2VudGVyLmNvcHkodGhpcy5tZXRyaWNzLmlubmVyQ2VudGVyKS5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeClcbiAgICB9KVxuICAgIGdldCB3b3JsZENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFdvcmxkQ2VudGVyKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfd29ybGRDZW50ZXIgPSBuZXcgVmVjdG9yM1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byB3b3JsZCBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKiBcbiAgICAgKiBTcGF0aWFsIEZyYW1lID0gUmVmZXJlbmNlIE9yaWdpbiArIE15IFdvcmxkIE9yaWVudGF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FjaGVkU3BhdGlhbE1hdHJpeCA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzcGF0aWFsTWF0cml4ID0gdGhpcy5fc3BhdGlhbE1hdHJpeC5jb21wb3NlKHRoaXMub3V0ZXJPcmlnaW4sIHRoaXMud29ybGRPcmllbnRhdGlvbiwgVl8xMTEpIFxuICAgICAgICB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZS5nZXRJbnZlcnNlKHRoaXMuX3NwYXRpYWxNYXRyaXgpXG4gICAgICAgIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgc3BhdGlhbE1hdHJpeClcbiAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21Mb2NhbC5nZXRJbnZlcnNlKHRoaXMuX2xvY2FsRnJvbVNwYXRpYWwpXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlU3RhdGVcbiAgICAgICAgaWYgKHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSwgcmVmZXJlbmNlLndvcmxkTWF0cml4KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UuY29weSh0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3BhdGlhbE1hdHJpeFxuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxNYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsTWF0cml4KClcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9zcGF0aWFsTWF0cml4SW52ZXJzZSA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbG9jYWxGcm9tU3BhdGlhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21Mb2NhbCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfc3BhdGlhbEZyb21SZWZlcmVuY2UgPSBuZXcgTWF0cml4NFxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsTWF0cml4SW52ZXJzZSgpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsTWF0cml4SW52ZXJzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gbG9jYWwgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IGxvY2FsRnJvbVNwYXRpYWwoKSB7IFxuICAgICAgICB0aGlzLnNwYXRpYWxNYXRyaXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsRnJvbVNwYXRpYWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIHNwYXRpYWwgZnJhbWUgZnJvbSBsb2NhbCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbUxvY2FsKCkgeyBcbiAgICAgICAgdGhpcy5zcGF0aWFsTWF0cml4XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsRnJvbUxvY2FsIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gc3BhdGlhbCBmcmFtZSBmcm9tIHJlZmVyZW5jZSBmcmFtZVxuICAgICAqL1xuICAgIGdldCBzcGF0aWFsRnJvbVJlZmVyZW5jZSgpIHsgXG4gICAgICAgIHRoaXMuc3BhdGlhbE1hdHJpeFxuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbEZyb21SZWZlcmVuY2UgXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIGJvdW5kcyBcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jYWNoZWRTcGF0aWFsQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3NwYXRpYWxCb3VuZHMuY29weSh0aGlzLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX3NwYXRpYWxCb3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21Mb2NhbClcbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9zcGF0aWFsQ2VudGVyKVxuICAgICAgICBib3VuZHMuZ2V0U2l6ZSh0aGlzLl9zcGF0aWFsU2l6ZSlcbiAgICAgICAgcmV0dXJuIGJvdW5kc1xuICAgIH0pXG4gICAgZ2V0IHNwYXRpYWxCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRTcGF0aWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX3NwYXRpYWxCb3VuZHMgPSBuZXcgQm94M1xuICAgIHByaXZhdGUgX3NwYXRpYWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9zcGF0aWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGF0aWFsIHNpemVcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbFNpemUoKSB7XG4gICAgICAgIHRoaXMuc3BhdGlhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BhdGlhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3BhdGlhbCBjZW50ZXJcbiAgICAgKi9cbiAgICBnZXQgc3BhdGlhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5zcGF0aWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9zcGF0aWFsQ2VudGVyXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlckJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlckJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlckJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsVl8wMDApXG4gICAgICAgICAgICBlbHNlIGJvdW5kcy5jb3B5KHJlZmVyZW5jZVN0YXRlLm1ldHJpY3MuaW5uZXJCb3VuZHMpXG4gICAgICAgICAgICBib3VuZHMuYXBwbHlNYXRyaXg0KHRoaXMuc3BhdGlhbEZyb21SZWZlcmVuY2UpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlckNlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgKi9cbiAgICBnZXQgb3V0ZXJCb3VuZHMoKSB7IHJldHVybiB0aGlzLl9jYWNoZWRPdXRlckJvdW5kcygpIH1cbiAgICBwcml2YXRlIF9vdXRlckJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfb3V0ZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX291dGVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMub3V0ZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyQ2VudGVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBzaXplIGluIHRoZSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5vdXRlckJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJTaXplXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG91dGVyIGJvdW5kcyBvcmlnaW4gaW4gdGhlIHdvcmxkIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IG91dGVyT3JpZ2luKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmlnaW5bdGhpcy5tb2RlXVxuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VTdGF0ZT8ud29ybGRDZW50ZXIgPz8gVl8wMDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXIgYm91bmRzIG9yaWVudGF0aW9uIGluIHRoZSB3b3JsZCBmcmFtZVxuICAgICAqL1xuICAgIGdldCBvdXRlck9yaWVudGF0aW9uKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikgcmV0dXJuIGFkYXB0ZXIub3V0ZXJPcmllbnRhdGlvblt0aGlzLm1vZGVdXG4gICAgICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZVN0YXRlPy53b3JsZE9yaWVudGF0aW9uID8/IFFfSURFTlRJVFlcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWNoZWRPdXRlclZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5tZXRyaWNzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubWV0cmljcy5ub2RlKVxuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgYm91bmRzLmNvcHkoYWRhcHRlci5vdXRlclZpc3VhbEJvdW5kc1t0aGlzLm1vZGVdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlU3RhdGUgPSB0aGlzLnJlZmVyZW5jZVN0YXRlXG4gICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVN0YXRlKSBib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoVl8wMDAsIFZfMDAwKVxuICAgICAgICAgICAgZWxzZSBib3VuZHMuY29weShyZWZlcmVuY2VTdGF0ZS52aXN1YWxCb3VuZHMpXG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmdldENlbnRlcih0aGlzLl9vdXRlclZpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fb3V0ZXJWaXN1YWxTaXplKVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSlcbiAgICAvKipcbiAgICAqIFRoZSByZWZlcmVuY2UgYm91bmRzIGluIHRoZSB2aXN1YWwgZnJhbWVcbiAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbEJvdW5kcygpIHsgcmV0dXJuIHRoaXMuX2NhY2hlZE91dGVyVmlzdWFsQm91bmRzKCkgfVxuICAgIHByaXZhdGUgX291dGVyVmlzdWFsQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9vdXRlclZpc3VhbENlbnRlciA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfb3V0ZXJWaXN1YWxTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBvdXRlclZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5vdXRlclZpc3VhbEJvdW5kc1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXJWaXN1YWxDZW50ZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3V0ZXJWaXN1YWwgYm91bmRzIHNpemUgaW4gdGhlIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgb3V0ZXJWaXN1YWxTaXplKCkge1xuICAgICAgICB0aGlzLm91dGVyVmlzdWFsQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlclZpc3VhbFNpemVcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0IF92aWV3U3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkgcmV0dXJuIHRoaXNcbiAgICAgICAgY29uc3Qgdmlld01ldHJpY3MgPSB0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdNZXRyaWNzXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdjdXJyZW50JykgcmV0dXJuIHZpZXdNZXRyaWNzW0ludGVybmFsQ3VycmVudFN0YXRlXVxuICAgICAgICByZXR1cm4gdmlld01ldHJpY3NbSW50ZXJuYWxUYXJnZXRTdGF0ZV1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGZyYW1lIGZyb20gd29ybGQgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21Xb3JsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdGcm9tV29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLl92aWV3U3RhdGUud29ybGRNYXRyaXhJbnZlcnNlLCB0aGlzLndvcmxkTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVdvcmxkID0gbmV3IE1hdHJpeDRcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBmcmFtZSBmcm9tIHNwYXRpYWwgZnJhbWVcbiAgICAgKi9cbiAgICBnZXQgdmlld0Zyb21TcGF0aWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlld0Zyb21TcGF0aWFsLm11bHRpcGx5TWF0cmljZXModGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5zcGF0aWFsTWF0cml4KVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3RnJvbVNwYXRpYWwgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBwYXJlbnQgZnJhbWUgZnJvbSBzcGF0aWFsIGZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNwYXRpYWxGcm9tVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYXRpYWxGcm9tVmlldy5nZXRJbnZlcnNlKHRoaXMudmlld0Zyb21TcGF0aWFsKVxuICAgIH1cbiAgICBwcml2YXRlIF9zcGF0aWFsRnJvbVZpZXcgPSBuZXcgTWF0cml4NFxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplZCBEZXZpY2UgQ29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBnZXQgbmRjQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkTkRDQm91bmRzID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1ldHJpY3Muc3lzdGVtLnZpZXdOb2RlID09PSB0aGlzLm1ldHJpY3Mubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbmRjQm91bmRzLm1pbi5zZXRTY2FsYXIoLTEpXG4gICAgICAgICAgICB0aGlzLl9uZGNCb3VuZHMubWF4LnNldFNjYWxhcigxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25kY0JvdW5kc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdGcnVzdHVtID0gdGhpcy5tZXRyaWNzLnN5c3RlbS52aWV3RnJ1c3R1bVxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IHZpZXdGcm9tV29ybGQgPSB0aGlzLnZpZXdGcm9tV29ybGRcbiAgICAgICAgY29uc3Qgdmlld1Byb2plY3Rpb25Gcm9tV29ybGQgPSB0aGlzLl92aWV3UHJvamVjdGlvbkZyb21Xb3JsZC5tdWx0aXBseU1hdHJpY2VzKHByb2plY3Rpb24sIHZpZXdGcm9tV29ybGQpXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuX25kY0JvdW5kcy5jb3B5KHRoaXMubWV0cmljcy5pbm5lckJvdW5kcykuYXBwbHlNYXRyaXg0KHZpZXdQcm9qZWN0aW9uRnJvbVdvcmxkKVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX25kY0NlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShib3VuZHMubWluLngpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnkpIHx8ICFpc0Zpbml0ZShib3VuZHMubWluLnopIHx8IFxuICAgICAgICAgICAgIWlzRmluaXRlKGJvdW5kcy5tYXgueCkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueSkgfHwgIWlzRmluaXRlKGJvdW5kcy5tYXgueikpIHtcbiAgICAgICAgICAgIGJvdW5kcy5taW4uc2V0U2NhbGFyKC0xKVxuICAgICAgICAgICAgYm91bmRzLm1heC5zZXRTY2FsYXIoMSlcbiAgICAgICAgICAgIGJvdW5kcy5nZXRDZW50ZXIodGhpcy5fbmRjQ2VudGVyKVxuICAgICAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fbmRjU2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm91bmRzXG4gICAgfSwgdGhpcy5fdmlld1N0YXRlLl9jYWNoZSlcbiAgICBwcml2YXRlIF92aWV3UHJvamVjdGlvbkZyb21Xb3JsZCA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfbmRjQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9uZGNDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX25kY1NpemUgPSBuZXcgVmVjdG9yM1xuXG4gICAgZ2V0IG5kY0NlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY0NlbnRlclxuICAgIH1cbiAgICBnZXQgbmRjU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkTkRDQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX25kY1NpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlzdWFsIGJvdW5kcyBvZiB0aGlzIG5vZGUuXG4gICAgICogXG4gICAgICogSG9yaXpvbnRhbCBhbmQgdmVydGljYWwgdW5pdHMgYXJlIGluIHBpeGVscywgd2l0aCBzY3JlZW4gY2VudGVyIGF0ICgwLDApXG4gICAgICogWiBkaW1lbnNpb24gaXMgaW4gbWV0ZXJzXG4gICAgICovXG4gICAgZ2V0IHZpc3VhbEJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFZpc3VhbEJvdW5kcygpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFZpc3VhbEJvdW5kcyA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCBzeXN0ZW0gPSB0aGlzLm1ldHJpY3Muc3lzdGVtXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBzeXN0ZW0udmlld0ZydXN0dW0ucGVyc3BlY3RpdmVQcm9qZWN0aW9uTWF0cml4XG4gICAgICAgIGNvbnN0IGludmVyc2VQcm9qZWN0aW9uID0gdGhpcy5faW52ZXJzZVByb2plY3Rpb24uZ2V0SW52ZXJzZShwcm9qZWN0aW9uKVxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl92aXN1YWxCb3VuZHMuY29weSh0aGlzLm5kY0JvdW5kcylcbiAgICAgICAgY29uc3QgdiA9IHRoaXMuX3YxXG4gICAgICAgIGNvbnN0IG5lYXJNZXRlcnMgPSB2LnNldCgwLDAsYm91bmRzLm1pbi56KS5hcHBseU1hdHJpeDQoaW52ZXJzZVByb2plY3Rpb24pLnpcbiAgICAgICAgY29uc3QgZmFyTWV0ZXJzID0gdi5zZXQoMCwwLGJvdW5kcy5tYXgueikuYXBwbHlNYXRyaXg0KGludmVyc2VQcm9qZWN0aW9uKS56XG4gICAgICAgIGJvdW5kcy5taW4ueiA9IGZhck1ldGVyc1xuICAgICAgICBib3VuZHMubWF4LnogPSBuZWFyTWV0ZXJzXG4gICAgICAgIGJvdW5kcy5taW4ueCAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueFxuICAgICAgICBib3VuZHMubWF4LnggKj0gMC41ICogc3lzdGVtLnZpZXdSZXNvbHV0aW9uLnhcbiAgICAgICAgYm91bmRzLm1pbi55ICo9IDAuNSAqIHN5c3RlbS52aWV3UmVzb2x1dGlvbi55XG4gICAgICAgIGJvdW5kcy5tYXgueSAqPSAwLjUgKiBzeXN0ZW0udmlld1Jlc29sdXRpb24ueVxuICAgICAgICBib3VuZHMuZ2V0Q2VudGVyKHRoaXMuX3Zpc3VhbENlbnRlcilcbiAgICAgICAgYm91bmRzLmdldFNpemUodGhpcy5fdmlzdWFsU2l6ZSkgXG4gICAgICAgIHJldHVybiBib3VuZHNcbiAgICB9LCB0aGlzLl92aWV3U3RhdGUuX2NhY2hlKVxuICAgIHByaXZhdGUgX3Zpc3VhbEJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfdmlzdWFsQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92aXN1YWxTaXplID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF92MSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBfaW52ZXJzZVByb2plY3Rpb24gPSBuZXcgTWF0cml4NFxuXG4gICAgZ2V0IHZpc3VhbENlbnRlcigpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbENlbnRlclxuICAgIH1cbiAgICBnZXQgdmlzdWFsU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVmlzdWFsQm91bmRzKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbFNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlldyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGlzIG5vZGUgc3RhdGVcbiAgICAgKi9cbiAgICBnZXQgcmVsYXRpdmVWaWV3UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3UG9zaXRpb24uY29weSh0aGlzLl92aWV3U3RhdGUud29ybGRQb3NpdGlvbikuYXBwbHlNYXRyaXg0KHRoaXMud29ybGRNYXRyaXhJbnZlcnNlKVxuICAgIH1cbiAgICBwcml2YXRlIF92aWV3UG9zaXRpb24gPSBuZXcgVmVjdG9yM1xuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgb3J0aG9nb25hbCAocmlnaHQtYW5nbGVkKSBvcmllbnRhdGlvbiB3aXRoIHRoZSBjbG9zZXN0IHZpZXcgb3JpZW50YXRpb24gYWxpZ25tZW50XG4gICAgICovXG4gICAgZ2V0IHZpZXdBbGlnbmVkT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRWaWV3QWxpZ25lZE9yaWVudGF0aW9uKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVmlld0FsaWduZWRPcmllbnRhdGlvbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdNYXRyaXggPSB0aGlzLl9yZWxhdGl2ZVZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0aGlzLndvcmxkTWF0cml4SW52ZXJzZSwgdGhpcy5fdmlld1N0YXRlLndvcmxkTWF0cml4KVxuICAgICAgICBjb25zdCByZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1JvdGF0aW9uLmV4dHJhY3RSb3RhdGlvbihyZWxhdGl2ZVZpZXdNYXRyaXgpXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVmlld09yaWVudGF0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3T3JpZW50YXRpb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHJlbGF0aXZlVmlld1JvdGF0aW9uKVxuICAgICAgICBjb25zdCBmb3J3YXJkRGlyZWN0aW9uID0gdGhpcy5fcmVsYXRpdmVWaWV3Rm9yd2FyZC5zZXQoMCwgMCwgMSkuYXBwbHlRdWF0ZXJuaW9uKHJlbGF0aXZlVmlld09yaWVudGF0aW9uKVxuICAgICAgICBjb25zdCB1cERpcmVjdGlvbiA9IHRoaXMuX3JlbGF0aXZlVmlld1VwLnNldCgwLCAxLCAwKS5hcHBseVF1YXRlcm5pb24ocmVsYXRpdmVWaWV3T3JpZW50YXRpb24pXG4gICAgICAgIFxuICAgICAgICBsZXQgZGlzdEZvcndhcmQgPSBJbmZpbml0eVxuICAgICAgICBsZXQgZGlzdFVwID0gSW5maW5pdHlcbiAgICAgICAgbGV0IGNsb3Nlc3RGb3J3YXJkRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgY2xvc2VzdFVwRGlyZWN0aW9uIDogVmVjdG9yM1xuICAgICAgICBsZXQgZCA6IGtleW9mIHR5cGVvZiBESVJFQ1RJT05cblxuICAgICAgICBmb3IgKGQgaW4gRElSRUNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBESVJFQ1RJT05bZF1cbiAgICAgICAgICAgIHZhciBkaXN0ID0gdXBEaXJlY3Rpb24uZGlzdGFuY2VUb1NxdWFyZWQoZGlyKVxuICAgICAgICAgICAgaWYgKGRpc3QgPCBkaXN0VXApIHtcbiAgICAgICAgICAgICAgICBkaXN0VXAgPSBkaXN0XG4gICAgICAgICAgICAgICAgY2xvc2VzdFVwRGlyZWN0aW9uID0gZGlyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZm9yIChkIGluIERJUkVDVElPTikge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gRElSRUNUSU9OW2RdICAgIFxuICAgICAgICAgICAgLy8gYXZvaWQgaGF2aW5nIGZvcndhcmQgJiB1cCBkZWZpbmVkIG9uIHRoZSBzYW1lIGF4aXNcbiAgICAgICAgICAgIGlmIChkaXIueCAmJiBjbG9zZXN0VXBEaXJlY3Rpb24hLngpIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAoZGlyLnkgJiYgY2xvc2VzdFVwRGlyZWN0aW9uIS55KSBjb250aW51ZVxuICAgICAgICAgICAgaWYgKGRpci56ICYmIGNsb3Nlc3RVcERpcmVjdGlvbiEueikgY29udGludWVcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBmb3J3YXJkRGlyZWN0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKGRpcilcbiAgICAgICAgICAgIGlmIChkaXN0IDwgZGlzdEZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICBkaXN0Rm9yd2FyZCA9IGRpc3RcbiAgICAgICAgICAgICAgICBjbG9zZXN0Rm9yd2FyZERpcmVjdGlvbiA9IGRpclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGNvbnN0IHJvdCA9IHRoaXMuX29ydGhvZ29uYWxSb3RhdGlvbi5pZGVudGl0eSgpXG4gICAgICAgIHJvdC5sb29rQXQoY2xvc2VzdEZvcndhcmREaXJlY3Rpb24hLCBWXzAwMCwgY2xvc2VzdFVwRGlyZWN0aW9uISlcbiAgICAgICAgcmV0dXJuIHRoaXMuX29ydGhvZ29uYWxPcmllbnRhdGlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgocm90KVxuICAgIH0sIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3TWF0cml4ID0gbmV3IE1hdHJpeDRcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdSb3RhdGlvbiA9IG5ldyBNYXRyaXg0XG4gICAgcHJpdmF0ZSBfcmVsYXRpdmVWaWV3T3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgIHByaXZhdGUgX3JlbGF0aXZlVmlld1VwID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9yZWxhdGl2ZVZpZXdGb3J3YXJkID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIF9vcnRob2dvbmFsUm90YXRpb24gPSBuZXcgTWF0cml4NFxuICAgIHByaXZhdGUgX29ydGhvZ29uYWxPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG5cblxuICAgIHByaXZhdGUgX2NvbXB1dGVPY2NsdXNpb24gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgdGhpcy5fb2NjbHVkaW5nUGVyY2VudCA9IDBcbiAgICAgICAgdGhpcy5fb2NjbHVkZWRQZXJjZW50ID0gMFxuICAgICAgICBcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMubWV0cmljc1xuICAgICAgICBpZiAobWV0cmljcy5pbm5lckJvdW5kcy5pc0VtcHR5KCkpIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3lzdGVtID0gbWV0cmljcy5zeXN0ZW1cbiAgICAgICAgY29uc3QgYWRhcHRlcnMgPSBzeXN0ZW0ubm9kZUFkYXB0ZXJzLnZhbHVlcygpXG5cbiAgICAgICAgY29uc3QgbXlCb3VuZHMgPSB0aGlzLnZpc3VhbEJvdW5kc1xuICAgICAgICBjb25zdCBteU5lYXIgPSBteUJvdW5kcy5taW4uelxuICAgICAgICBjb25zdCBhID0gTm9kZVN0YXRlLl9ib3hBXG4gICAgICAgIGNvbnN0IGIgPSBOb2RlU3RhdGUuX2JveEJcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1heC54LCBteUJvdW5kcy5tYXgueSlcbiAgICAgICAgY29uc3QgbXlMZW5ndGggPSBhLmdldFNpemUoTm9kZVN0YXRlLl9zaXplQSkubGVuZ3RoKClcblxuICAgICAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgYWRhcHRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyTWV0cmljcyA9IGFkYXB0ZXIubWV0cmljc1xuICAgICAgICAgICAgaWYgKG90aGVyTWV0cmljcyA9PT0gbWV0cmljcykgY29udGludWVcbiAgICAgICAgICAgIGlmICghb3RoZXJNZXRyaWNzLmlzQWRhcHRpdmUgfHwgb3RoZXJNZXRyaWNzLmlubmVyQm91bmRzLmlzRW1wdHkoKSkgY29udGludWVcbiAgICAgICAgICAgIGlmIChvdGhlck1ldHJpY3MuY29udGFpbmVkQnlOb2RlKGFkYXB0ZXIubm9kZSkpIGNvbnRpbnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG90aGVyU3RhdGUgPSB0aGlzLm1vZGUgPT09ICdjdXJyZW50JyA/IG90aGVyTWV0cmljcy5jdXJyZW50IDogb3RoZXJNZXRyaWNzLnRhcmdldFxuICAgICAgICAgICAgY29uc3Qgb3RoZXJCb3VuZHMgPSBvdGhlclN0YXRlLnZpc3VhbEJvdW5kc1xuICAgICAgICAgICAgYS5taW4uc2V0KG15Qm91bmRzLm1pbi54LCBteUJvdW5kcy5taW4ueSlcbiAgICAgICAgICAgIGEubWluLnNldChteUJvdW5kcy5tYXgueCwgbXlCb3VuZHMubWF4LnkpXG4gICAgICAgICAgICBiLm1pbi5zZXQob3RoZXJCb3VuZHMubWluLngsIG90aGVyQm91bmRzLm1pbi55KVxuICAgICAgICAgICAgYi5taW4uc2V0KG90aGVyQm91bmRzLm1heC54LCBvdGhlckJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBQZXJjZW50ID0gYS5pbnRlcnNlY3QoYikuZ2V0U2l6ZShOb2RlU3RhdGUuX3NpemVCKS5sZW5ndGgoKSAvIG15TGVuZ3RoXG4gICAgICAgICAgICBpZiAob3ZlcmxhcFBlcmNlbnQgPiAwKSAge1xuICAgICAgICAgICAgICAgIGlmICAobXlOZWFyIDwgb3RoZXJCb3VuZHMubWluLnopIHRoaXMuX29jY2x1ZGluZ1BlcmNlbnQgKz0gb3ZlcmxhcFBlcmNlbnRcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX29jY2x1ZGVkUGVyY2VudCArPSBvdmVybGFwUGVyY2VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgIHRoaXMuX3ZpZXdTdGF0ZS5fY2FjaGUpXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2JveEEgPSBuZXcgQm94MlxuICAgIHByaXZhdGUgc3RhdGljIF9ib3hCID0gbmV3IEJveDJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2l6ZUEgPSBuZXcgVmVjdG9yMlxuICAgIHByaXZhdGUgc3RhdGljIF9zaXplQiA9IG5ldyBWZWN0b3IyXG5cbiAgICAvKiogXG4gICAgICogVGhlIHBlcmNlbnQgb2YgdGhpcyBub2RlIG9jY2x1ZGluZyBhbm90aGVyIG5vZGVcbiAgICAgKi9cbiAgICBnZXQgb2NjbHVkaW5nUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRpbmdQZXJjZW50XG4gICAgfVxuICAgIHByaXZhdGUgX29jY2x1ZGluZ1BlcmNlbnQgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudCBvZiB0aGlzIG5vZGUgb2NjbHVkZWQgYnkgYW5vdGhlciBub2RlXG4gICAgICovXG4gICAgZ2V0IG9jY2x1ZGVkUGVyY2VudCgpIHtcbiAgICAgICAgdGhpcy5fY29tcHV0ZU9jY2x1c2lvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9vY2NsdWRlZFBlcmNlbnRcbiAgICB9XG4gICAgcHJpdmF0ZSBfb2NjbHVkZWRQZXJjZW50ID0gMFxuXG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGhldXJpc3RpYyBmb3Igdmlldy1zaXplIG1heGltaXphdGlvblxuICAgICAqIChhdmVyYWdlIGVkZ2UgbGVuZ3RoIGNvcnJlc3BvbmRzIGJldHRlciB3aXRoIGlubmNyZWFzaWcgdmlzdWFsIGFyZWFcbiAgICAgKiBjb21wYXJlZCB0byBhcmVhIG9mIHRoZSBwcm9qZWN0ZWQgYm91bmRpbmctYm94IGluIFxuICAgICAqIGNhc2VzIHdoZXJlIHRoZSB1bmRlcmx5aW5nIGFzcGVjdCByYXRpb3MgYXJlIG5vdCBmaXhlZClcbiAgICAgKi9cbiAgICB2aXN1YWxBdmVyYWdlRWRnZUxlbmd0aCgpIHtcblxuICAgIH1cblxufVxuXG5cbi8qKlxuICogTWFpbnRhaW5zIGN1cnJlbnQgJiB0YXJnZXQgc2NlbmVncmFwaCBzdGF0ZSxcbiAqIGFuZCBlZmZpY2llbnRseS9yZWFjdGl2ZWx5IGNvbXB1dGUgc3BhdGlhbCBtZXRyaWNzIFxuICogYmFzZWQgb24gKnRhcmdldCogKG5vdCBjdXJyZW50KSBzY2VuZWdyYXBoIHN0YXRlLiBcbiAqIFxuICogQWxsIG1ldHJpYyB2YWx1ZXMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcmVhZC1vbmx5LlxuICovXG5leHBvcnQgY2xhc3MgU3BhdGlhbE1ldHJpY3M8TiBleHRlbmRzIE5vZGUzRD1Ob2RlM0Q+IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3lzdGVtOkV0aGVyZWFsTGF5b3V0U3lzdGVtPE4+LCBwdWJsaWMgbm9kZTpOKSB7fVxuXG4gICAgcHJpdmF0ZSBfY2FjaGUgPSBuZXcgTWVtb2l6YXRpb25DYWNoZSgpXG4gICAgXG4gICAgbmVlZHNVcGRhdGUgPSB0cnVlXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbWV0cmljcywgaWYgbmVjZXNzYXJ5XG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5uZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlXG5cbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNUYXJnZXQucGFyZW50ID0gdGhpcy50YXJnZXQucGFyZW50XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzVGFyZ2V0LmxvY2FsTWF0cml4ID0gdGhpcy50YXJnZXQubG9jYWxNYXRyaXhcblxuICAgICAgICAgICAgdGhpcy5wYXJlbnRNZXRyaWNzPy51cGRhdGUoKVxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VNZXRyaWNzPy51cGRhdGUoKVxuXG4gICAgICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm5vZGUpXG5cbiAgICAgICAgICAgIGlmIChhZGFwdGVyKSB7XG5cbiAgICAgICAgICAgICAgICBhZGFwdGVyLl91cGRhdGUoKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUlubmVyQm91bmRzKClcbiAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2FjaGVkSW5uZXJCb3VuZHMgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9pbm5lckJvdW5kc1xuXG4gICAgICAgIGlmICh0aGlzLm5vZGUgIT09IHRoaXMuc3lzdGVtLnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpbm5lci5jb3B5KHRoaXMuaW50cmluc2ljQm91bmRzKVxuICAgICAgICAgICAgY29uc3QgY2hpbGRCb3VuZHMgPSB0aGlzLl9jaGlsZEJvdW5kc1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE1ldHJpY3MgPSB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKGMpXG4gICAgICAgICAgICAgICAgY2hpbGRNZXRyaWNzLmludmFsaWRhdGVTdGF0ZXMoKVxuICAgICAgICAgICAgICAgIGNoaWxkQm91bmRzLmNvcHkoY2hpbGRNZXRyaWNzLmlubmVyQm91bmRzKVxuICAgICAgICAgICAgICAgIGNoaWxkQm91bmRzLmFwcGx5TWF0cml4NChjaGlsZE1ldHJpY3MucmF3LmxvY2FsTWF0cml4KVxuICAgICAgICAgICAgICAgIGlubmVyLnVuaW9uKGNoaWxkQm91bmRzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2VudGVyID0gaW5uZXIuZ2V0Q2VudGVyKHRoaXMuX2lubmVyQ2VudGVyKVxuICAgICAgICBjb25zdCBzaXplID0gaW5uZXIuZ2V0U2l6ZSh0aGlzLl9pbm5lclNpemUpXG4gICAgICAgIGlmIChzaXplLmxlbmd0aCgpID4gMCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNvbnRlbnQgaXMgZmxhdCwgZ2l2ZSBzb21lIHRoaWNrbmVzcyBzbyB0aGF0XG4gICAgICAgICAgICAvLyBib3VuZHMtc2l6ZSBtZWFuaW5nZnVsbHkgYWZmZWN0cyBzY2FsZVxuICAgICAgICAgICAgY29uc3Qgc2l6ZUVwc2lsbG9uID0gdGhpcy5zeXN0ZW0uZXBzaWxsb25NZXRlcnNcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhzaXplLngpIDw9IHNpemVFcHNpbGxvbikgc2l6ZS54ID0gKE1hdGguc2lnbihzaXplLngpIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTAwMFxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNpemUueSkgPD0gc2l6ZUVwc2lsbG9uKSBzaXplLnkgPSAoTWF0aC5zaWduKHNpemUueSkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZS56KSA8PSBzaXplRXBzaWxsb24pIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgeiBzaXplLCBtYWtlIHN1cmUgYm91bmRzIGFyZSBvbmx5IGV4dGVuZCBiYWNrd2FyZHMgXG4gICAgICAgICAgICAgICAgLy8gKHRoaXMgd2F5LCB2aXN1YWwtYm91bmRzIHJlbWFpbiBhY2N1cmF0ZSlcbiAgICAgICAgICAgICAgICBzaXplLnogPSAoTWF0aC5zaWduKHNpemUueikgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMDAwXG4gICAgICAgICAgICAgICAgY2VudGVyLnogLT0gc2l6ZUVwc2lsbG9uICogMTAwMCAvIDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlubmVyLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5uZXJcbiAgICB9KVxuICAgIHByaXZhdGUgX2NoaWxkQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbm5lckJvdW5kcyA9IG5ldyBCb3gzXG4gICAgcHJpdmF0ZSBfaW5uZXJDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2lubmVyU2l6ZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYm91bmRzIG9mIHRoaXMgbm9kZSBhbmQgbm9uLWFkYXB0aXZlIGNoaWxkIG5vZGVzIGluIHRoZSBsb2NhbCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAqL1xuICAgIGdldCBpbm5lckJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZElubmVyQm91bmRzKClcbiAgICB9XG4gICAgXG4gICAgZ2V0IGlubmVyQ2VudGVyKCkge1xuICAgICAgICB0aGlzLmlubmVyQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lckNlbnRlclxuICAgIH1cblxuICAgIGdldCBpbm5lclNpemUoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyU2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnRyaW5zaWMgYm91bmRzIG9mIHRoZSBnZW9tZXRyeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGlzIG5vZGUgKGV4Y2x1ZGluZyBjaGlsZCBub2RlcylcbiAgICAgKi9cbiAgICBnZXQgaW50cmluc2ljQm91bmRzKCkgOiBSZWFkb25seTxCb3gzPiB7XG4gICAgICAgIGlmICh0aGlzLl9pbnRyaW5zaWNCb3VuZHNOZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYmluZGluZ3MuZ2V0SW50cmluc2ljQm91bmRzKHRoaXMsIHRoaXMuX2ludHJpbnNpY0JvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX2ludHJpbnNpY0JvdW5kcy5nZXRDZW50ZXIodGhpcy5faW50cmluc2ljQ2VudGVyKVxuICAgICAgICAgICAgdGhpcy5faW50cmluc2ljQm91bmRzLmdldFNpemUodGhpcy5faW50cmluc2ljU2l6ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW50cmluc2ljQm91bmRzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljQm91bmRzTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgcHJpdmF0ZSBfaW50cmluc2ljQm91bmRzID0gbmV3IEJveDNcbiAgICBwcml2YXRlIF9pbnRyaW5zaWNDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgIHByaXZhdGUgX2ludHJpbnNpY1NpemUgPSBuZXcgVmVjdG9yM1xuICAgIFxuICAgIGdldCBpbnRyaW5zaWNDZW50ZXIoKSB7XG4gICAgICAgIHRoaXMuaW50cmluc2ljQm91bmRzXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRyaW5zaWNDZW50ZXJcbiAgICB9XG5cbiAgICBnZXQgaW50cmluc2ljU2l6ZSgpIHtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNCb3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludHJpbnNpY1NpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlIGludHJpbnNpYyBib3VuZHMgaW4gb3JkZXIgdG8gYWxsb3cgaXQgdG8gYmUgcmVjb21wdXRlZFxuICAgICAqL1xuICAgIGludmFsaWRhdGVJbnRyaW5zaWNCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2ludHJpbnNpY0JvdW5kc05lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5ib3VuZHNDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRNZXRyaWNzID0gdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhjKVxuICAgICAgICAgICAgY2hpbGRNZXRyaWNzLmludmFsaWRhdGVJbnRyaW5zaWNCb3VuZHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW52YWxpZGF0ZUlubmVyQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkSW5uZXJCb3VuZHMubmVlZHNVcGRhdGUpIHJldHVyblxuICAgICAgICB0aGlzLl9jYWNoZWROb2RlQ2hpbGRyZW4ubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX2NhY2hlZEJvdW5kc0NoaWxkcmVuLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRJbm5lckJvdW5kcy5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuYm91bmRzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTWV0cmljcyA9IHRoaXMuc3lzdGVtLmdldE1ldHJpY3MoYylcbiAgICAgICAgICAgIGNoaWxkTWV0cmljcy5pbnZhbGlkYXRlSW5uZXJCb3VuZHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBmYWxzZSBpZiB0aGlzIG5vZGUgZG9lcyBub3QgY29udGFpbiB0aGUgcGFzc2VkIG5vZGUuXG4gICAgICogSWYgdGhlIGdpdmVuIG5vZGUgaXMgYSBkZXNjZW5kZW50IG9mIHRoaXMgbm9kZSwgcmV0dXJuc1xuICAgICAqIHRoZSBjbG9zZXN0IGNoaWxkIG5vZGUuXG4gICAgICovXG4gICAgY29udGFpbnNOb2RlKG5vZGU6Tikge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGxldCBwYXJlbnRNZXRyaWNzID0gdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhub2RlKSBhcyBTcGF0aWFsTWV0cmljczxOPnxudWxsXG4gICAgICAgIHdoaWxlIChwYXJlbnRNZXRyaWNzKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50TWV0cmljcy5wYXJlbnRNZXRyaWNzID09PSB0aGlzKSByZXR1cm4gcGFyZW50TWV0cmljcy5ub2RlXG4gICAgICAgICAgICBwYXJlbnRNZXRyaWNzID0gcGFyZW50TWV0cmljcy5wYXJlbnRNZXRyaWNzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29udGFpbmVkQnlOb2RlKG5vZGU6Tikge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGxldCBwYXJlbnRNZXRyaWNzID0gdGhpcy5wYXJlbnRNZXRyaWNzXG4gICAgICAgIHdoaWxlIChwYXJlbnRNZXRyaWNzKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50TWV0cmljcy5ub2RlID09PSBub2RlKSByZXR1cm4gcGFyZW50TWV0cmljcy5ub2RlXG4gICAgICAgICAgICBwYXJlbnRNZXRyaWNzID0gcGFyZW50TWV0cmljcy5wYXJlbnRNZXRyaWNzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG5vZGVDaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZE5vZGVDaGlsZHJlbigpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZE5vZGVDaGlsZHJlbiA9IHRoaXMuX2NhY2hlLm1lbW9pemUoKCkgPT4ge1xuICAgICAgICB0aGlzLnN5c3RlbS5iaW5kaW5ncy5nZXRDaGlsZHJlbih0aGlzLCB0aGlzLl9ub2RlQ2hpbGRyZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlQ2hpbGRyZW5cbiAgICB9KVxuICAgIHByaXZhdGUgX25vZGVDaGlsZHJlbiA9IG5ldyBBcnJheTxOPigpXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHNwYXRpYWwgc3RhdGUgZnJvbSBzcGF0aWFsIG9yaWVudGF0aW9uICYgYm91bmRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY29tcHV0ZVN0YXRlID0gKCgpID0+IHtcblxuICAgICAgICBjb25zdCBsb2NhbE1hdHJpeCA9IG5ldyBNYXRyaXg0XG4gICAgICAgIGNvbnN0IGxvY2FsT3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuICAgICAgICBjb25zdCBsb2NhbFBvc2l0aW9uID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3QgbG9jYWxTY2FsZSA9IG5ldyBWZWN0b3IzXG5cbiAgICAgICAgY29uc3Qgd29ybGRNYXRyaXggPSBuZXcgTWF0cml4NFxuICAgICAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gbmV3IFZlY3RvcjNcbiAgICAgICAgY29uc3Qgd29ybGRPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uXG4gICAgICAgIGNvbnN0IHdvcmxkU2NhbGUgPSBuZXcgVmVjdG9yM1xuXG4gICAgICAgIGNvbnN0IHNwYXRpYWxDZW50ZXIgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBzcGF0aWFsU2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgICAgIGNvbnN0IHNwYXRpYWxPZmZzZXQgPSBuZXcgVmVjdG9yM1xuICAgICAgICBjb25zdCBpbm5lck9mZnNldCA9IG5ldyBWZWN0b3IzXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVTdGF0ZSh0aGlzOlNwYXRpYWxNZXRyaWNzPE4+LCBzdGF0ZTpOb2RlU3RhdGU8Tj4pIHtcblxuICAgICAgICAgICAgY29uc3QgdXNlQ3VycmVudCA9IHN0YXRlLm1vZGUgPT09ICdjdXJyZW50J1xuICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuc3lzdGVtLm5vZGVBZGFwdGVycy5nZXQodGhpcy5ub2RlKVxuXG4gICAgICAgICAgICBsb2NhbE9yaWVudGF0aW9uLmNvcHkoIFxuICAgICAgICAgICAgICAgICggdXNlQ3VycmVudCA/IFxuICAgICAgICAgICAgICAgICAgICBhZGFwdGVyPy5vcmllbnRhdGlvbi5lbmFibGVkICYmIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLmN1cnJlbnQgOlxuICAgICAgICAgICAgICAgICAgICBhZGFwdGVyPy5vcmllbnRhdGlvbi5lbmFibGVkICYmIGFkYXB0ZXI/Lm9yaWVudGF0aW9uLnRhcmdldFxuICAgICAgICAgICAgICAgICkgfHwgdGhpcy5yYXcubG9jYWxPcmllbnRhdGlvblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3BhdGlhbEJvdW5kcyA9ICh1c2VDdXJyZW50ID8gXG4gICAgICAgICAgICAgICAgYWRhcHRlcj8uYm91bmRzLmVuYWJsZWQgJiYgYWRhcHRlcj8uYm91bmRzLmN1cnJlbnQgOlxuICAgICAgICAgICAgICAgIGFkYXB0ZXI/LmJvdW5kcy5lbmFibGVkICYmIGFkYXB0ZXI/LmJvdW5kcy50YXJnZXQpIC8vfHwgdGhpcy5yYXcuc3BhdGlhbEJvdW5kc1xuXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRNZXRyaWNzID0gdGhpcy5wYXJlbnRNZXRyaWNzXG4gICAgICAgICAgICBzdGF0ZS5wYXJlbnQgPSBwYXJlbnRNZXRyaWNzPy5ub2RlID8/IG51bGxcblxuICAgICAgICAgICAgaWYgKHNwYXRpYWxCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBzcGF0aWFsQm91bmRzLmdldENlbnRlcihzcGF0aWFsQ2VudGVyKVxuICAgICAgICAgICAgICAgIHNwYXRpYWxCb3VuZHMuZ2V0U2l6ZShzcGF0aWFsU2l6ZSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFN0YXRlID0gdXNlQ3VycmVudCA/IFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRNZXRyaWNzPy5jdXJyZW50IDogXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE1ldHJpY3M/LnRhcmdldFxuXG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXJDZW50ZXIgPSB0aGlzLmlubmVyQ2VudGVyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXJTaXplID0gdGhpcy5pbm5lclNpemVcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVFcHNpbGxvbiA9IHRoaXMuc3lzdGVtLmVwc2lsbG9uTWV0ZXJzXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNwYXRpYWxTaXplLngpIDw9IHNpemVFcHNpbGxvbikgc3BhdGlhbFNpemUueCA9IChNYXRoLnNpZ24oc3BhdGlhbFNpemUueCkgfHwgMSkgKiBzaXplRXBzaWxsb24gKiAxMFxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzcGF0aWFsU2l6ZS55KSA8PSBzaXplRXBzaWxsb24pIHNwYXRpYWxTaXplLnkgPSAoTWF0aC5zaWduKHNwYXRpYWxTaXplLnkpIHx8IDEpICogc2l6ZUVwc2lsbG9uICogMTBcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BhdGlhbFNpemUueikgPD0gc2l6ZUVwc2lsbG9uKSBzcGF0aWFsU2l6ZS56ID0gKE1hdGguc2lnbihzcGF0aWFsU2l6ZS56KSB8fCAxKSAqIHNpemVFcHNpbGxvbiAqIDEwXG5cbiAgICAgICAgICAgICAgICB3b3JsZFNjYWxlLmNvcHkoc3BhdGlhbFNpemUpXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGlubmVyU2l6ZS54KSA+PSBzaXplRXBzaWxsb24pIHdvcmxkU2NhbGUueCAvPSBpbm5lclNpemUueFxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhpbm5lclNpemUueSkgPj0gc2l6ZUVwc2lsbG9uKSB3b3JsZFNjYWxlLnkgLz0gaW5uZXJTaXplLnlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5uZXJTaXplLnopID49IHNpemVFcHNpbGxvbikgd29ybGRTY2FsZS56IC89IGlubmVyU2l6ZS56XG5cbiAgICAgICAgICAgICAgICB3b3JsZE9yaWVudGF0aW9uLm11bHRpcGx5UXVhdGVybmlvbnMoc3RhdGUub3V0ZXJPcmllbnRhdGlvbiwgbG9jYWxPcmllbnRhdGlvbikubm9ybWFsaXplKClcbiAgICAgICAgICAgICAgICBzcGF0aWFsT2Zmc2V0LmNvcHkoc3BhdGlhbENlbnRlcikuYXBwbHlRdWF0ZXJuaW9uKHdvcmxkT3JpZW50YXRpb24pXG4gICAgICAgICAgICAgICAgaW5uZXJPZmZzZXQuY29weShpbm5lckNlbnRlcikubXVsdGlwbHkod29ybGRTY2FsZSkuYXBwbHlRdWF0ZXJuaW9uKHdvcmxkT3JpZW50YXRpb24pXG4gICAgICAgICAgICAgICAgd29ybGRQb3NpdGlvbi5jb3B5KHN0YXRlLm91dGVyT3JpZ2luKS5hZGQoc3BhdGlhbE9mZnNldCkuc3ViKGlubmVyT2Zmc2V0KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHdvcmxkTWF0cml4LmNvbXBvc2Uod29ybGRQb3NpdGlvbix3b3JsZE9yaWVudGF0aW9uLHdvcmxkU2NhbGUpXG5cbiAgICAgICAgICAgICAgICBwYXJlbnRTdGF0ZSA/ICAgIFxuICAgICAgICAgICAgICAgICAgICBsb2NhbE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHBhcmVudFN0YXRlLndvcmxkTWF0cml4SW52ZXJzZSwgd29ybGRNYXRyaXgpIDpcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxNYXRyaXguY29weSh3b3JsZE1hdHJpeClcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGxvY2FsUG9zaXRpb24uY29weSh0aGlzLnJhdy5sb2NhbFBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIGxvY2FsU2NhbGUuY29weSh0aGlzLnJhdy5sb2NhbFNjYWxlKVxuICAgICAgICAgICAgICAgIGxvY2FsTWF0cml4LmNvbXBvc2UobG9jYWxQb3NpdGlvbiwgbG9jYWxPcmllbnRhdGlvbiwgbG9jYWxTY2FsZSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXBwbHkgY2hhbmdlc1xuICAgICAgICAgICAgc3RhdGUubG9jYWxNYXRyaXggPSBsb2NhbE1hdHJpeFxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIH1cbiAgICB9KSgpXG5cbiAgICBpbnZhbGlkYXRlU3RhdGVzKCkge1xuICAgICAgICB0aGlzLl9jYWNoZWRSYXdTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpcy5fY2FjaGVkQ3VycmVudFN0YXRlLm5lZWRzVXBkYXRlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9jYWNoZWRUYXJnZXRTdGF0ZS5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgICAgdGhpc1tJbnRlcm5hbFJhd1N0YXRlXS5pbnZhbGlkYXRlKClcbiAgICAgICAgdGhpc1tJbnRlcm5hbEN1cnJlbnRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgICAgIHRoaXNbSW50ZXJuYWxUYXJnZXRTdGF0ZV0uaW52YWxpZGF0ZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJhdyBub2RlIHN0YXRlLCBiZWZvcmUgYW55IHVwZGF0ZSwgd2l0aCBhbmNlc3RvciB0YXJnZXQgc3RhdGVzXG4gICAgICovXG4gICAgZ2V0IHJhdygpIDogUmVhZG9ubHk8Tm9kZVN0YXRlPE4+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSYXdTdGF0ZSgpXG4gICAgfVxuICAgIHByaXZhdGUgX2NhY2hlZFJhd1N0YXRlID0gdGhpcy5fY2FjaGUubWVtb2l6ZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuc3lzdGVtLmJpbmRpbmdzLmdldFN0YXRlKHRoaXMsIHRoaXNbSW50ZXJuYWxSYXdTdGF0ZV0pXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUmF3U3RhdGVdXG4gICAgfSk7XG4gICAgW0ludGVybmFsUmF3U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ3RhcmdldCcsIHRoaXMpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDdXJyZW50U3RhdGUoKVxuICAgIH1cbiAgICBwcml2YXRlIF9jYWNoZWRDdXJyZW50U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsQ3VycmVudFN0YXRlXSlcbiAgICB9KTtcbiAgICBbSW50ZXJuYWxDdXJyZW50U3RhdGVdOk5vZGVTdGF0ZTxOPiA9IG5ldyBOb2RlU3RhdGUoJ2N1cnJlbnQnLCB0aGlzKVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBzdGF0ZVxuICAgICAqL1xuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRhcmdldFN0YXRlKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkVGFyZ2V0U3RhdGUgPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXB1dGVTdGF0ZSh0aGlzW0ludGVybmFsVGFyZ2V0U3RhdGVdKVxuICAgIH0pO1xuICAgIFtJbnRlcm5hbFRhcmdldFN0YXRlXTpOb2RlU3RhdGU8Tj4gPSBuZXcgTm9kZVN0YXRlKCd0YXJnZXQnLCB0aGlzKVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgdGFyZ2V0IHN0YXRlXG4gICAgICovXG4gICAgZ2V0IHByZXZpb3VzVGFyZ2V0KCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV1cbiAgICB9XG4gICAgW0ludGVybmFsUHJldmlvdXNUYXJnZXRTdGF0ZV06Tm9kZVN0YXRlPE4+ID0gbmV3IE5vZGVTdGF0ZSgndGFyZ2V0JywgdGhpcylcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWZlcmVuY2Ugbm9kZSBcbiAgICAgKi9cbiAgICBnZXQgcmVmZXJlbmNlTm9kZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmdldCh0aGlzLm5vZGUpXG4gICAgICAgIHJldHVybiBhZGFwdGVyPy5yZWZlcmVuY2VOb2RlID09PSB1bmRlZmluZWQgPyBcbiAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZSA6IGFkYXB0ZXIucmVmZXJlbmNlTm9kZVxuICAgIH1cbiAgICBcbiAgICBnZXQgcmVmZXJlbmNlTWV0cmljcygpIDogU3BhdGlhbE1ldHJpY3M8Tj4gfCBudWxsIHsgICAgXG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnN5c3RlbS5ub2RlQWRhcHRlcnMuZ2V0KHRoaXMubm9kZSlcbiAgICAgICAgaWYgKGFkYXB0ZXI/LnJlZmVyZW5jZU5vZGUpIHJldHVybiB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKGFkYXB0ZXIucmVmZXJlbmNlTm9kZSlcbiAgICAgICAgbGV0IG1ldHJpY3MgPSB0aGlzLnBhcmVudE5vZGUgPyB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKHRoaXMucGFyZW50Tm9kZSkgOiBudWxsXG4gICAgICAgIHJldHVybiBtZXRyaWNzXG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIFRoZSBwYXJlbnQgbm9kZVxuICAgICAqL1xuICAgIGdldCBwYXJlbnROb2RlKCkgOiBOfG51bGwge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5wYXJlbnQgXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgbWV0cmljc1xuICAgICAqL1xuICAgIGdldCBwYXJlbnRNZXRyaWNzKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGVcbiAgICAgICAgaWYgKCFwYXJlbnQpIHJldHVybiBudWxsXG4gICAgICAgIHJldHVybiB0aGlzLnN5c3RlbS5nZXRNZXRyaWNzKHBhcmVudClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgbm9kZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gdGhpcyBib3VuZGluZyBjb250ZXh0XG4gICAgICovXG4gICAgZ2V0IGJvdW5kc0NoaWxkcmVuKCkgOiBSZWFkb25seUFycmF5PE4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEJvdW5kc0NoaWxkcmVuKClcbiAgICB9XG4gICAgcHJpdmF0ZSBfY2FjaGVkQm91bmRzQ2hpbGRyZW4gPSB0aGlzLl9jYWNoZS5tZW1vaXplKCgpID0+IHtcbiAgICAgICAgY29uc3Qgbm9kZUNoaWxkcmVuID0gdGhpcy5ub2RlQ2hpbGRyZW5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlblxuICAgICAgICBjaGlsZHJlbi5sZW5ndGggPSAwXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5zeXN0ZW0uZ2V0TWV0cmljcyhjaGlsZClcbiAgICAgICAgICAgIGlmIChtZXRyaWNzLmlzQWRhcHRpdmUpIGNvbnRpbnVlXG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblxuICAgIH0pXG4gICAgcHJpdmF0ZSBfY2hpbGRyZW4gPSBbXSBhcyBOW11cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBpc0FkYXB0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW0ubm9kZUFkYXB0ZXJzLmhhcyh0aGlzLm5vZGUpXG4gICAgfVxuICAgIFxufVxuXG4iLCJpbXBvcnQgeyBOb2RlM0QgfSBmcm9tICcuL0V0aGVyZWFsTGF5b3V0U3lzdGVtJ1xuaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiwgQm94MywgTWF0aFV0aWxzLCByYW5kb21TZWxlY3QsIHJhbmRvbVF1YXRlcm5pb24sIGdhdXNzaWFuLCBsZXZ5fSBmcm9tICcuL21hdGgtdXRpbHMnXG5pbXBvcnQgeyBTcGF0aWFsQWRhcHRlciB9IGZyb20gJy4vU3BhdGlhbEFkYXB0ZXInXG5pbXBvcnQgeyBPcHRpbWl6ZXJDb25maWcgfSBmcm9tICcuL1NwYXRpYWxPcHRpbWl6ZXInXG5pbXBvcnQgeyBcbiAgICBPYmplY3RpdmVPcHRpb25zLCBcbiAgICBWZWN0b3IzU3BlYywgLy9SZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCBhcyBSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludCwgXG4gICAgUXVhdGVybmlvblNwZWMsIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50IGFzIFJlbGF0aXZlT3JpZW50YXRpb25Db25zdHJhaW50LFxuICAgIFdvcmxkU2NhbGVDb25zdHJhaW50IGFzIFdvcmxkU2NhbGVDb25zdHJhaW50LCBBc3BlY3RDb25zdHJhaW50LFxuICAgIFNwYXRpYWxCb3VuZHNTcGVjLCBTcGF0aWFsQm91bmRzQ29uc3RyYWludCxcbiAgICBWaXN1YWxCb3VuZHNTcGVjLCBWaXN1YWxCb3VuZHNDb25zdHJhaW50LCBcbiAgICBWaXN1YWxNYXhpbWl6ZU9iamVjdGl2ZSBhcyBNYXhpbWl6ZU9iamVjdGl2ZSxcbiAgICBTcGF0aWFsT2JqZWN0aXZlLCBNYWduZXRpemVPYmplY3RpdmUsIE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlXG59IGZyb20gJy4vU3BhdGlhbE9iamVjdGl2ZSdcblxuXG4vKipcbiAqIERlZmluZXMgc3BhdGlhbCBsYXlvdXQgY29uc3RyYWludHMvZ29hbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNwYXRpYWxMYXlvdXQgZXh0ZW5kcyBPcHRpbWl6ZXJDb25maWcge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGFkYXB0ZXI6U3BhdGlhbEFkYXB0ZXI8YW55Pikge1xuICAgICAgICBzdXBlcigpXG4gICAgfVxuICAgIFxuICAgIHJlbGF0aXZlVG9sZXJhbmNlPzpudW1iZXJcbiAgICBhYnNvbHV0ZVRvbGVyYW5jZSA9IHtcbiAgICAgICAgbWV0ZXI6ICc0bW0nLFxuICAgICAgICBwaXhlbDogJzRweCcsXG4gICAgICAgIGRlZ3JlZTogJzAuMDAyZGVnJyxcbiAgICAgICAgcmF0aW86IDAuMDA1XG4gICAgfVxuXG4gICAgZ2V0Q29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSh0eXBlOiBrZXlvZiB0eXBlb2YgU3BhdGlhbExheW91dC5wcm90b3R5cGUuYWJzb2x1dGVUb2xlcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5zeXN0ZW0ubWVhc3VyZU51bWJlcih0aGlzLmFic29sdXRlVG9sZXJhbmNlW3R5cGVdLCB0eXBlKVxuICAgIH1cblxuICAgIHN1Y2Nlc3NSYXRlID0gMFxuXG4gICAgcmVzdGFydFJhdGUgPSAwXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0aXZlcyBhcHBsaWVkIHRvIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgb2JqZWN0aXZlcyA9IG5ldyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPigpIGFzIFJlYWRvbmx5QXJyYXk8U3BhdGlhbE9iamVjdGl2ZT5cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcmVmZXJlbmNlIGZyYW1lIGZvciBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gY29uc3RyYWludHMuIFxuICAgICAqIGlmIG5vdCBkZWZpbmVkLCB0aGUgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgcmVmZXJlbmNlIGZyYW1lLiBcbiAgICAgKi9cbiAgICByZWZlcmVuY2VOb2RlPzpOb2RlM0R8bnVsbCA9IG51bGxcblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIHJlZmVyZW5jZSBmcmFtZSBmb3IgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGNvbnN0cmFpbnRzLlxuICAgICAqIEBwYXJhbSByZWZlcmVuY2UgXG4gICAgICovXG4gICAgcG9zZVJlbGF0aXZlVG8ocmVmZXJlbmNlPzpOb2RlM0R8bnVsbCkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZU5vZGUgPSByZWZlcmVuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBtYXhpbWl6ZShvcHRzPzpQYXJ0aWFsPE1heGltaXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1heGltaXplT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1heGltaXplT2JqZWN0aXZlID8/IG5ldyBNYXhpbWl6ZU9iamVjdGl2ZSh0aGlzKVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosb3B0cylcbiAgICB9XG4gICAgbWF4aW1pemVPYmplY3RpdmU/Ok1heGltaXplT2JqZWN0aXZlXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSByZWxhdGl2ZSBvcmllbnRhdGlvbiBjb25zdHJhaW50XG4gICAgICovXG4gICAgb3JpZW50YXRpb24oc3BlYzpRdWF0ZXJuaW9uU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5vcmllbnRhdGlvbkNvbnN0cmFpbnQgPSB0aGlzLm9yaWVudGF0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVPcmllbnRhdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIG9iai5wcmlvcml0eSA9IC05OTlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgb3JpZW50YXRpb25Db25zdHJhaW50PzpSZWxhdGl2ZU9yaWVudGF0aW9uQ29uc3RyYWludFxuXG4gICAgLyoqXG4gICAgKiBBZGQgYW4gYXNwZWN0LXJhdGlvIGNvbnN0cmFpbnRcbiAgICAqIENvbnN0cmFpbiBub3JtYWxpemVkIHdvcmxkIHNjYWxlIHRvIHByZXNlcnZlXG4gICAgKiB4eXogb3IgeHkgYXNwZWN0IHJhdGlvc1xuICAgICovXG4gICAga2VlcEFzcGVjdChtb2RlOid4eXonfCd4eSc9ICd4eXonLCBvcHRzPzpQYXJ0aWFsPEFzcGVjdENvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMua2VlcEFzcGVjdENvbnN0cmFpbnQgPSB0aGlzLmtlZXBBc3BlY3RDb25zdHJhaW50ID8/IG5ldyBBc3BlY3RDb25zdHJhaW50KHRoaXMpXG4gICAgICAgIG9iai5tb2RlID0gbW9kZVxuICAgICAgICBvYmoucHJpb3JpdHkgPSAtOTk4XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGtlZXBBc3BlY3RDb25zdHJhaW50PzpBc3BlY3RDb25zdHJhaW50XG5cbiAgICAvLyAvKipcbiAgICAvLyAgKiBBZGQgYSByZWxhdGl2ZSBwb3NpdGlvbiBjb25zdHJhaW50XG4gICAgLy8gICovXG4gICAgLy8gcG9zaXRpb24oc3BlYzpWZWN0b3IzU3BlYywgb3B0cz86UGFydGlhbDxSZWxhdGl2ZVBvc2l0aW9uQ29uc3RyYWludD4pIHtcbiAgICAvLyAgICAgY29uc3Qgb2JqID0gdGhpcy5wb3NpdGlvbkNvbnN0cmFpbnQgPSB0aGlzLnBvc2l0aW9uQ29uc3RyYWludCA/PyBuZXcgUmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnQodGhpcylcbiAgICAvLyAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgLy8gICAgIG9iai5wcmlvcml0eSA9IC0yXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgLy8gfVxuICAgIC8vIHBvc2l0aW9uQ29uc3RyYWludD86UmVsYXRpdmVQb3NpdGlvbkNvbnN0cmFpbnRcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdvcmxkIHNjYWxlIGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBzY2FsZShzcGVjOlZlY3RvcjNTcGVjLCBvcHRzPzpQYXJ0aWFsPFdvcmxkU2NhbGVDb25zdHJhaW50Pikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLnNjYWxlQ29uc3RyYWludCA9IHRoaXMuc2NhbGVDb25zdHJhaW50ID8/IG5ldyBXb3JsZFNjYWxlQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBvYmouc3BlYyA9IHNwZWNcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gLTJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgc2NhbGVDb25zdHJhaW50PzpXb3JsZFNjYWxlQ29uc3RyYWludFxuXG5cbiAgICBib3VuZHMoc3BlYzpTcGF0aWFsQm91bmRzU3BlYywgb3B0cz86UGFydGlhbDxTcGF0aWFsQm91bmRzQ29uc3RyYWludD4pIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5ib3VuZHNDb25zdHJhaW50ID0gIHRoaXMuYm91bmRzQ29uc3RyYWludCA/PyBuZXcgU3BhdGlhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgb2JqLnNwZWMgPSBzcGVjXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIGJvdW5kc0NvbnN0cmFpbnQ/OlNwYXRpYWxCb3VuZHNDb25zdHJhaW50XG5cbiAgICB2aXN1YWxPcmllbnRhdGlvbihzcGVjOlF1YXRlcm5pb25TcGVjLCBvcHRzPzpPYmplY3RpdmVPcHRpb25zKSB7XG5cbiAgICB9XG5cbiAgICB2aXN1YWxCb3VuZHMoc3BlYzpWaXN1YWxCb3VuZHNTcGVjLCBvcHRzPzpQYXJ0aWFsPFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQ+KSB7XG4gICAgICAgIGNvbnN0IG1ldGVyQ29uc3RyYWludCA9IHRoaXMudmlzdWFsQm91bmRzTWV0ZXJDb25zdHJhaW50ID0gXG4gICAgICAgICAgICB0aGlzLnZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludCA/PyBuZXcgVmlzdWFsQm91bmRzQ29uc3RyYWludCh0aGlzKVxuICAgICAgICBjb25zdCBwaXhlbENvbnN0cmFpbnQgPSB0aGlzLnZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludCA9IFxuICAgICAgICAgICAgdGhpcy52aXN1YWxCb3VuZHNQaXhlbENvbnN0cmFpbnQgPz8gbmV3IFZpc3VhbEJvdW5kc0NvbnN0cmFpbnQodGhpcylcbiAgICAgICAgbWV0ZXJDb25zdHJhaW50LnNwZWMgPSBzcGVjXG4gICAgICAgIG1ldGVyQ29uc3RyYWludC50eXBlID0gJ21ldGVyJ1xuICAgICAgICBwaXhlbENvbnN0cmFpbnQuc3BlYyA9IHNwZWNcbiAgICAgICAgcGl4ZWxDb25zdHJhaW50LnR5cGUgPSAncGl4ZWwnXG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShtZXRlckNvbnN0cmFpbnQsIG9wdHMpLmFkZE9iamVjdGl2ZShwaXhlbENvbnN0cmFpbnQsIG9wdHMpXG4gICAgfVxuICAgIHZpc3VhbEJvdW5kc01ldGVyQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuICAgIHZpc3VhbEJvdW5kc1BpeGVsQ29uc3RyYWludD86VmlzdWFsQm91bmRzQ29uc3RyYWludFxuXG4gICAgbWFnbmV0aXplKG9wdHM/OlBhcnRpYWw8TWFnbmV0aXplT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1hZ25ldGl6ZU9iamVjdGl2ZSA9IHRoaXMubWFnbmV0aXplT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTAwMFxuICAgICAgICBvYmoucmVsYXRpdmVUb2xlcmFuY2UgPSAwLjk5XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9iamVjdGl2ZShvYmosIG9wdHMpXG4gICAgfVxuICAgIG1hZ25ldGl6ZU9iamVjdGl2ZT86TWFnbmV0aXplT2JqZWN0aXZlXG5cbiAgICBhdm9pZE9jY2x1c2lvbihvcHRzPzpQYXJ0aWFsPE1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlPikge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID0gXG4gICAgICAgICAgICB0aGlzLm1pbmltaXplT2NjbHVzaW9uT2JqZWN0aXZlID8/IG5ldyBNYWduZXRpemVPYmplY3RpdmUodGhpcylcbiAgICAgICAgb2JqLnByaW9yaXR5ID0gMTFcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkT2JqZWN0aXZlKG9iaiwgb3B0cylcbiAgICB9XG4gICAgbWluaW1pemVPY2NsdXNpb25PYmplY3RpdmU/Ok1hZ25ldGl6ZU9iamVjdGl2ZVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIG9iamVjdGl2ZSB3aXRoIGl0J3Mgb3B0aW9ucy5cbiAgICAgKiBJZiB0aGUgb2JqZWN0aXZlIGluc3RhbmNlIGlzIGFscmVhZHkgcHJlc2VudCwgaXQncyBub3QgYWRkZWQgYWdhaW4uXG4gICAgICogXG4gICAgICogQWZ0ZXIgYW4gb2JqZWN0aXZlIGlzIGFkZGVkLCB0aGUgb2JqZWN0aXZlIGxpc3QgaXMgc3RhYmx5IHNvcnRlZCwgXG4gICAgICogYWNjb3JkaW5nIHRvIHRoZSBwcmlvcml0eSBvZiBlYWNoIG9iamVjdGl2ZS5cbiAgICAgKi9cbiAgICBhZGRPYmplY3RpdmU8VCBleHRlbmRzIFNwYXRpYWxPYmplY3RpdmU+KG9iajpULCBvcHRzPzpQYXJ0aWFsPFQ+KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqLCBvcHRzKVxuICAgICAgICBpZiAodGhpcy5vYmplY3RpdmVzLmluZGV4T2Yob2JqKSA9PT0gLTEpIFxuICAgICAgICAgICAgKHRoaXMub2JqZWN0aXZlcyBhcyBBcnJheTxTcGF0aWFsT2JqZWN0aXZlPikucHVzaChvYmopXG4gICAgICAgIHRoaXMuc29ydE9iamVjdGl2ZXMoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb2x1dGlvbnMgYmVpbmcgZXhwbG9yZWQgZm9yIHRoaXMgbGF5b3V0XG4gICAgICovXG4gICAgc29sdXRpb25zID0gbmV3IEFycmF5PExheW91dFNvbHV0aW9uPigpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBvcHRpbWl6YXRpb24gaXRlcmF0aW9uXG4gICAgICovXG4gICAgaXRlcmF0aW9uID0gMFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhpcyBsYXlvdXQgaGFzIGEgdmFsaWQgc29sdXRpb25cbiAgICAgKi9cbiAgICBnZXQgaGFzVmFsaWRTb2x1dGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29sdXRpb25zWzBdPy5pc0ZlYXNpYmxlID09PSB0cnVlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcHJpb3JpdHlTb3J0KGE6U3BhdGlhbE9iamVjdGl2ZSxiOlNwYXRpYWxPYmplY3RpdmUpIHtcbiAgICAgICAgaWYgKGEucHJpb3JpdHkgPT09IGIucHJpb3JpdHkpIHJldHVybiBhLmluZGV4IC0gYi5pbmRleFxuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHlcbiAgICB9XG5cbiAgICAvKiogc3RhYmxlLXNvcnQgb2JqZWN0aXZlcyBieSBwcmlvcml0eSAqL1xuICAgIHNvcnRPYmplY3RpdmVzKCkge1xuICAgICAgICBjb25zdCBvYmplY3RpdmVzID0gdGhpcy5vYmplY3RpdmVzIGFzIEFycmF5PFNwYXRpYWxPYmplY3RpdmU+XG4gICAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIG9iamVjdGl2ZXMpIG8uaW5kZXggPSBpbmRleCsrXG4gICAgICAgIG9iamVjdGl2ZXMuc29ydCh0aGlzLl9wcmlvcml0eVNvcnQpXG4gICAgfVxuXG4gICAgYmVzdFNvbHV0aW9uISA6IExheW91dFNvbHV0aW9uXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYmVzdCBzY29yZXMgYW5kIHNvcnQgc29sdXRpb25zXG4gICAgICovXG4gICAgc29ydFNvbHV0aW9ucygpIHtcbiAgICAgICAgdGhpcy5zb2x1dGlvbnMuc29ydCh0aGlzLmNvbXBhcmVTb2x1dGlvbnMpXG4gICAgICAgIHRoaXMuYmVzdFNvbHV0aW9uID0gdGhpcy5zb2x1dGlvbnNbMF1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFYWNoIG9iamVjdGl2ZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgc2NhbGFyIHZhbHVlIFxuICAgICAqIHRoYXQgaW5jcmVhc2VzIGluIGNvcnJlbGF0aW9uIHdpdGggaW1wcm92ZWQgZml0bmVzcy4gXG4gICAgICogXG4gICAgICogVGhlIGZpdG5lc3MgdmFsdWUgZG9lcyBub3QgbmVlZCB0byBiZSBub3JtYWxpemVkLCBhcyBcbiAgICAgKiBpbmRpdmlkdWFsIG9iamVjdGl2ZXMgYXJlIG5vdCB3ZWlnaHRlZCBkaXJlY3RseSBhZ2FpbnN0XG4gICAgICogb25lIGFub3RoZXIuIFJhdGhlciwgc29sdXRpb25zIGFyZSByYW5rZWQgYnkgcHJlZmVycmluZyBcbiAgICAgKiB0aGUgc29sdXRpb24gdGhhdCBoYXMgdGhlIGhpZ2hlc3Qgc2NvcmUgKHdpdGhpbiB0b2xlcmFuY2UpXG4gICAgICogb2YgZWFjaCBvYmplY3RpdmUsIGluIG9yZGVyIG9mIG9iamVjdGl2ZSBwcmlvcml0eS4gXG4gICAgICogXG4gICAgICogSWYgb25lIHNvbHV0aW9uIGlzIGZlYXNpYmxlIChubyBuZWdhdGl2ZSBzY29yZXMpIGFuZCB0aGUgXG4gICAgICogb3RoZXIgc29sdGlvbiBpc24ndCwgdGhlIGZlYXNpYmxlIG9uZSBpcyBhbHdheXMgcmFua2VkIGhpZ2hlci4gXG4gICAgICogXG4gICAgICogSW4gYWxsIG90aGVyIGNhc2VzLCBzb2x1dGlvbnMgYXJlIGNvbXBhcmVkIGJ5IGV4YW1pbmluZ1xuICAgICAqIHRoZWlyIG9iamVjdGl2ZSBzY29yZXMgc2VxdWVudGlhbGx5OlxuICAgICAqIFxuICAgICAqIElmIGF0IGFueSBwb2ludCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHNjb3JlcyBpcyBsYXJnZXIgXG4gICAgICogdGhhbiB0aGUgdG9sZXJhbmNlIGZvciBhIGdpdmVuIG9iamVjdGl2ZSwgdGhlIHR3byBzb2x1dGlvbnMgXG4gICAgICogd2lsbCBiZSByYW5rZWQgYnkgdGhhdCBvYmplY3RpdmUuIFxuICAgICAqIFxuICAgICAqIElmIGFueSB0d28gc29sdXRpb25zIGFyZSB3aXRoaW4gcmVsYXRpdmUgdG9sZXJhbmNlIFxuICAgICAqIG9mIG9uZSBhbm90aGVyIGZvciBhbGwgb2JqZWN0aXZlcywgdGhvc2UgdHdvIHdpbGwgYmVcbiAgICAgKiBjb21wYXJlZCB0byBvbmUgYW5vdGhlciBieSB0aGUgbG93ZXN0IHByaW9yaXR5IG9iamVjdGl2ZVxuICAgICAqIFxuICAgICAqIElmIGVpdGhlciBzb2x1dGlvbiBicmVha3MgY29uc3RyYWludHMsIHRoZW5cbiAgICAgKiB0aGUgb25lIHdpdGggdGhlIGxvd2VzdCBwZW5hbHR5IGlzIHJhbmtlZCBoaWdoZXJcbiAgICAgKi9cbiAgICBjb21wYXJlU29sdXRpb25zID0gKGE6TGF5b3V0U29sdXRpb24sIGI6TGF5b3V0U29sdXRpb24pID0+IHtcblxuICAgICAgICBjb25zdCBhTWluID0gYS5ib3VuZHMubWluXG4gICAgICAgIGNvbnN0IGFNYXggPSBhLmJvdW5kcy5tYXhcbiAgICAgICAgaWYgKGlzTmFOKGFNaW4ueCl8fGlzTmFOKGFNaW4ueSl8fGlzTmFOKGFNaW4ueil8fGlzTmFOKGFNYXgueCl8fGlzTmFOKGFNYXgueSl8fGlzTmFOKGFNYXgueikpXG4gICAgICAgICAgICByZXR1cm4gMVxuXG4gICAgICAgIGNvbnN0IG9iamVjdGl2ZXMgPSB0aGlzLm9iamVjdGl2ZXNcbiAgICAgICAgaWYgKGEuc2NvcmVzLmxlbmd0aCA8IG9iamVjdGl2ZXMubGVuZ3RoKSByZXR1cm4gMVxuICAgICAgICBpZiAoYi5zY29yZXMubGVuZ3RoIDwgb2JqZWN0aXZlcy5sZW5ndGgpIHJldHVybiAtMVxuXG4gICAgICAgIGNvbnN0IGFGZWFzaWJsZSA9IGEuaXNGZWFzaWJsZVxuICAgICAgICBjb25zdCBiRmVhc2libGUgPSBiLmlzRmVhc2libGVcbiAgICAgICAgaWYgKGFGZWFzaWJsZSAmJiAhYkZlYXNpYmxlKSByZXR1cm4gLTFcbiAgICAgICAgaWYgKGJGZWFzaWJsZSAmJiAhYUZlYXNpYmxlKSByZXR1cm4gMVxuXG4gICAgICAgIGxldCByYW5rID0gMFxuICAgICAgICBcbiAgICAgICAgY29uc3QgYmVzdFNjb3JlcyA9IHRoaXMuc29sdXRpb25zWzBdLnNjb3Jlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlQSA9IGEuc2NvcmVzW2ldIFxuICAgICAgICAgICAgY29uc3Qgc2NvcmVCID0gYi5zY29yZXNbaV0gXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NvcmVBKSkgcmV0dXJuIDFcbiAgICAgICAgICAgIGlmIChpc05hTihzY29yZUIpKSByZXR1cm4gLTFcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdGl2ZSA9IG9iamVjdGl2ZXNbaV1cbiAgICAgICAgICAgIGNvbnN0IG9SZWxUb2wgPSBvYmplY3RpdmUuY29tcHV0ZWRSZWxhdGl2ZVRvbGVyYW5jZVxuICAgICAgICAgICAgY29uc3Qgb0Fic1RvbCA9IG9iamVjdGl2ZS5jb21wdXRlZEFic29sdXRlVG9sZXJhbmNlXG4gICAgICAgICAgICBjb25zdCBiZXN0ID0gTWF0aC5tYXgoYmVzdFNjb3Jlc1tpXSwgc2NvcmVBLCBzY29yZUIpXG4gICAgICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSBNYXRoLm1pbihiZXN0IC0gTWF0aC5hYnMoYmVzdCkgKiBvUmVsVG9sLCAtb0Fic1RvbClcbiAgICAgICAgICAgIGlmIChzY29yZUEgPCB0b2xlcmFuY2UgfHwgc2NvcmVCIDwgdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0aXZlLnNvcnRCbGFtZSsrXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JlQiAtIHNjb3JlQSAvLyByYW5rIGJ5IGhpZ2hlc3Qgc2NvcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY29yZUIgLSBzY29yZUEgIT09IDApIHJhbmsgPSBzY29yZUIgLSBzY29yZUFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGFsbCBzY29yZXMgYXJlIHdpdGhpbiByZWxhdGl2ZSB0b2xlcmFuY2Ugb2Ygb25lIGFub3RoZXIsXG4gICAgICAgIC8vIHNvcnQgYnkgbG93ZXN0IHByaW9yaXR5IHNjb3JlXG4gICAgICAgIHJldHVybiByYW5rXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11dGF0aW9uU3RyYXRlZ3kge3R5cGU6c3RyaW5nLCBzdGVwU2l6ZTogbnVtYmVyfVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0U29sdXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobGF5b3V0PzpTcGF0aWFsTGF5b3V0KSB7IFxuICAgICAgICBpZiAobGF5b3V0KSB0aGlzLmxheW91dCA9IGxheW91dFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc29sdXRpb25cbiAgICAgKi9cbiAgICBsYXlvdXQ6IFNwYXRpYWxMYXlvdXQgPSB1bmRlZmluZWQgYXMgYW55XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGF5b3V0IG9yaWVudGF0aW9uIChyZWxhdGl2ZSB0byBwYXJlbnQgb3JpZW50YXRpb24pXG4gICAgICovXG4gICAgb3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvblxuXG4gICAgLyoqXG4gICAgICogVGhlIGxheW91dCBib3VuZHMgKHdvcmxkIHVuaXRzKVxuICAgICAqL1xuICAgIGJvdW5kcyA9IG5ldyBCb3gzXG5cblxuICAgIGdldCBhc3BlY3RQZW5hbHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZXNbdGhpcy5sYXlvdXQub2JqZWN0aXZlcy5pbmRleE9mKHRoaXMubGF5b3V0LmtlZXBBc3BlY3RDb25zdHJhaW50ISldfHwwXG4gICAgfVxuXG4gICAgZ2V0IG9yaWVudGF0aW9uUGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmVzW3RoaXMubGF5b3V0Lm9iamVjdGl2ZXMuaW5kZXhPZih0aGlzLmxheW91dC5vcmllbnRhdGlvbkNvbnN0cmFpbnQhKV18fDBcbiAgICB9XG5cbiAgICBnZXQgc3BhdGlhbEJvdW5kc1BlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3Jlc1t0aGlzLmxheW91dC5vYmplY3RpdmVzLmluZGV4T2YodGhpcy5sYXlvdXQuYm91bmRzQ29uc3RyYWludCEpXXx8MFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3RpdmVzIGZpdG5lc3Mgc2NvcmVzIGZvciB0aGlzIHNvbHV0aW9uXG4gICAgICogKG9uZSBmb3IgZWFjaCBvYmplY3RpdmUsIGhpZ2hlciBpcyBiZXR0ZXIpXG4gICAgICovXG4gICAgc2NvcmVzID0gW10gYXMgbnVtYmVyW11cblxuICAgIC8qKlxuICAgICAqIEFsbCBjb25zdHJhaW50cyBhcmUgc2F0aXNmaWVkXG4gICAgICovXG4gICAgaXNGZWFzaWJsZSA9IGZhbHNlXG4gICAgXG5cbiAgICBtdXRhdGlvblN0cmF0ZWdpZXMgPSBbXG4gICAgICAgIHt0eXBlOidyb3RhdGUnLCBzdGVwU2l6ZTogMC4xfSxcbiAgICAgICAge3R5cGU6J2NlbnRlcicsIHN0ZXBTaXplOiAwLjF9LFxuICAgICAgICB7dHlwZTonc2l6ZScsIHN0ZXBTaXplOiAwLjF9LFxuICAgICAgICB7dHlwZTonbWlubWF4Jywgc3RlcFNpemU6IDAuMX0sXG4gICAgXVxuXG4gICAgcHJpdmF0ZSBfc2VsZWN0U3RyYXRlZ3koKSB7XG4gICAgICAgIGNvbnN0IHN0cmF0ZWdpZXMgPSB0aGlzLm11dGF0aW9uU3RyYXRlZ2llc1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5fbXV0YXRpb25XZWlnaHRzXG5cbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb25Db25zdHJhaW50ID0gdGhpcy5sYXlvdXQub3JpZW50YXRpb25Db25zdHJhaW50XG4gICAgICAgIGNvbnN0IGFzcGVjdENvbnN0cmFpbnQgPSB0aGlzLmxheW91dC5rZWVwQXNwZWN0Q29uc3RyYWludFxuXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHN0cmF0ZWdpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHdlaWdodHNbaV0gPSBzdHJhdGVnaWVzW2ldLnN0ZXBTaXplXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb25Db25zdHJhaW50ICYmIHN0cmF0ZWdpZXNbaV0udHlwZSA9PSAncm90YXRlJyBcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm9yaWVudGF0aW9uUGVuYWx0eSA+IC1vcmllbnRhdGlvbkNvbnN0cmFpbnQuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSlcbiAgICAgICAgICAgICAgICB3ZWlnaHRzW2ldICo9IDAuMDFcbiAgICAgICAgICAgIGlmIChhc3BlY3RDb25zdHJhaW50ICYmIHN0cmF0ZWdpZXNbaV0udHlwZSA9PSAnc2l6ZScgXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5hc3BlY3RQZW5hbHR5IDwgLWFzcGVjdENvbnN0cmFpbnQuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSlcbiAgICAgICAgICAgICAgICB3ZWlnaHRzW2ldICo9IDEwMFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmRvbVNlbGVjdChzdHJhdGVnaWVzLCB3ZWlnaHRzKVxuICAgIH1cbiAgICBwcml2YXRlIF9tdXRhdGlvbldlaWdodHMgPSBbXSBhcyBudW1iZXJbXVxuXG4gICAgY29weShzb2x1dGlvbjpMYXlvdXRTb2x1dGlvbikge1xuICAgICAgICB0aGlzLmxheW91dCA9IHNvbHV0aW9uLmxheW91dFxuICAgICAgICB0aGlzLm9yaWVudGF0aW9uLmNvcHkoIHNvbHV0aW9uLm9yaWVudGF0aW9uIClcbiAgICAgICAgdGhpcy5ib3VuZHMuY29weSggc29sdXRpb24uYm91bmRzIClcbiAgICAgICAgdGhpcy5zY29yZXMubGVuZ3RoID0gMFxuICAgICAgICAvLyB0aGlzLmJlc3RTY29yZXMubGVuZ3RoID0gMFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvbHV0aW9uLnNjb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zY29yZXNbaV0gPSBzb2x1dGlvbi5zY29yZXNbaV1cbiAgICAgICAgICAgIC8vIHRoaXMuYmVzdFNjb3Jlc1tpXSA9IHNvbHV0aW9uLmJlc3RTY29yZXNbaV1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRmVhc2libGUgPSBzb2x1dGlvbi5pc0ZlYXNpYmxlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NjcmF0Y2hWMSA9IG5ldyBWZWN0b3IzIFxuICAgIHByaXZhdGUgc3RhdGljIF9zY3JhdGNoVjIgPSBuZXcgVmVjdG9yM1xuXG4gICAgcmFuZG9taXplKHNpemVIaW50Om51bWJlcikge1xuICAgICAgICAvLyB0aGlzLm9yaWVudGF0aW9uLmNvcHkocmFuZG9tUXVhdGVybmlvbigpKVxuICAgICAgICBjb25zdCBmYXIgPSBsZXZ5KHNpemVIaW50KVxuICAgICAgICAvLyBjb25zdCBjZW50ZXIgPSBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYxLnNldChcbiAgICAgICAgLy8gICAgICgoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBnYXVzc2lhbihzaXplSGludCAqIDAuMSkpICogZmFyLFxuICAgICAgICAvLyAgICAgKChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGdhdXNzaWFuKHNpemVIaW50ICogMC4xKSkgKiBmYXIsXG4gICAgICAgIC8vICAgICAtIGZhclxuICAgICAgICAvLyApXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IExheW91dFNvbHV0aW9uLl9zY3JhdGNoVjEuc2V0KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAtIGZhclxuICAgICAgICApXG5cbiAgICAgICAgY29uc3Qgdmlld1N0YXRlID0gdGhpcy5sYXlvdXQuYWRhcHRlci5zeXN0ZW0udmlld01ldHJpY3MudGFyZ2V0XG5cbiAgICAgICAgXG5cbiAgICAgICAgY2VudGVyLmFwcGx5TWF0cml4NCh2aWV3U3RhdGUud29ybGRNYXRyaXgpXG4gICAgICAgIGNvbnN0IHBhcmVudFN0YXRlID0gdGhpcy5sYXlvdXQuYWRhcHRlci5tZXRyaWNzLnRhcmdldC5wYXJlbnRTdGF0ZVxuICAgICAgICBwYXJlbnRTdGF0ZSAmJiBjZW50ZXIuYXBwbHlNYXRyaXg0KHBhcmVudFN0YXRlLndvcmxkTWF0cml4SW52ZXJzZSlcblxuICAgICAgICB0aGlzLm9yaWVudGF0aW9uLmNvcHkodmlld1N0YXRlLndvcmxkT3JpZW50YXRpb24pXG4gICAgICAgIHBhcmVudFN0YXRlICYmIHRoaXMub3JpZW50YXRpb24ubXVsdGlwbHkocGFyZW50U3RhdGUud29ybGRPcmllbnRhdGlvbkludmVyc2UpXG5cbiAgICAgICAgLy8gY29uc3QgaGFsZlNpemUgPSBMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYyLnNldChcbiAgICAgICAgLy8gICAgIE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIgKyBzaXplSGludCAqIDAuMSxcbiAgICAgICAgLy8gICAgIE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIgKyBzaXplSGludCAqIDAuMSxcbiAgICAgICAgLy8gICAgIE1hdGgucmFuZG9tKCkgKiBzaXplSGludCAqIDIgKyBzaXplSGludCAqIDAuMVxuICAgICAgICAvLyApXG4gICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5sYXlvdXQuYWRhcHRlci5tZXRyaWNzLmlubmVyQm91bmRzXG4gICAgICAgIGNvbnN0IHNpemUgPSBpbm5lci5pc0VtcHR5KCkgPyBcbiAgICAgICAgICAgIExheW91dFNvbHV0aW9uLl9zY3JhdGNoVjIuc2V0KDEsMSwxKSA6IFxuICAgICAgICAgICAgaW5uZXIuZ2V0U2l6ZShMYXlvdXRTb2x1dGlvbi5fc2NyYXRjaFYyKVxuICAgICAgICBzaXplLm5vcm1hbGl6ZSgpXG4gICAgICAgIHNpemUubXVsdGlwbHlTY2FsYXIoZmFyICogMiAqIE1hdGgudGFuKDUgKiBNYXRoVXRpbHMuREVHMlJBRCkpXG4gICAgICAgIC8vIHNpemUubXVsdGlwbHlTY2FsYXIoTWF0aC5yYW5kb20oKSAqIHNpemVIaW50ICogMilcbiAgICAgICAgdGhpcy5ib3VuZHMuc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLCBzaXplKVxuICAgICAgICAvLyB0aGlzLmJvdW5kcy5taW4uY29weShjZW50ZXIpLnN1YihoYWxmU2l6ZSlcbiAgICAgICAgLy8gdGhpcy5ib3VuZHMubWF4LmNvcHkoY2VudGVyKS5hZGQoaGFsZlNpemUpXG4gICAgICAgIC8vIHRoaXMuYm91bmRzID0gdGhpcy5ib3VuZHNcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZGlyZWN0aW9uID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIHN0YXRpYyBfY2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIHN0YXRpYyBfc2l6ZSA9IG5ldyBWZWN0b3IzXG4gICAgcHJpdmF0ZSBzdGF0aWMgX290aGVyQ2VudGVyID0gbmV3IFZlY3RvcjNcbiAgICBwcml2YXRlIHN0YXRpYyBfb3RoZXJTaXplID0gbmV3IFZlY3RvcjNcblxuICAgIG1vdmVUb3dhcmRzKHNvbHV0aW9uOkxheW91dFNvbHV0aW9uLCBtaW5GcmVxOm51bWJlciwgbWF4RnJlcTpudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3VuZHMuZ2V0Q2VudGVyKExheW91dFNvbHV0aW9uLl9jZW50ZXIpXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmJvdW5kcy5nZXRTaXplKExheW91dFNvbHV0aW9uLl9zaXplKVxuICAgICAgICBjb25zdCBvdGhlckJvdW5kcyA9IHNvbHV0aW9uLmJvdW5kc1xuICAgICAgICBjb25zdCBvdGhlckNlbnRlciA9IG90aGVyQm91bmRzLmdldENlbnRlcihMYXlvdXRTb2x1dGlvbi5fb3RoZXJDZW50ZXIpXG4gICAgICAgIGNvbnN0IG90aGVyU2l6ZSA9IG90aGVyQm91bmRzLmdldFNpemUoTGF5b3V0U29sdXRpb24uX290aGVyU2l6ZSlcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbi5zbGVycChzb2x1dGlvbi5vcmllbnRhdGlvbiwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSkubm9ybWFsaXplKClcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICAgIGNlbnRlci5sZXJwKG90aGVyQ2VudGVyLCBMYXlvdXRTb2x1dGlvbi5nZW5lcmF0ZVB1bHNlRnJlcXVlbmN5KG1pbkZyZXEsIG1heEZyZXEpKVxuICAgICAgICAgICAgc2l6ZS5sZXJwKG90aGVyU2l6ZSwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLm1pbi5sZXJwKG90aGVyQm91bmRzLm1pbiwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLm1heC5sZXJwKG90aGVyQm91bmRzLm1heCwgTGF5b3V0U29sdXRpb24uZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW5GcmVxLCBtYXhGcmVxKSlcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiAgXG4gICAgICogQHBhcmFtIHN0ZXBTaXplIFxuICAgICAqIFxuICAgICAqL1xuICAgIHBlcnR1cmIoKSA6IHR5cGVvZiBMYXlvdXRTb2x1dGlvbi5wcm90b3R5cGUubXV0YXRpb25TdHJhdGVnaWVzWzBdIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5fc2VsZWN0U3RyYXRlZ3koKVxuICAgICAgICBjb25zdCBzdHJhdGVneVR5cGUgPSBzdHJhdGVneS50eXBlXG4gICAgICAgIGxldCBzdGVwU2l6ZSA9IHN0cmF0ZWd5LnN0ZXBTaXplXG5cbiAgICAgICAgLy8gb3JpZW50YXRpb24gbXV0YXRpb24gc3RyYXRlZ3lcbiAgICAgICAgaWYgKHN0cmF0ZWd5VHlwZSA9PT0gJ3JvdGF0ZScgfHwgTWF0aC5yYW5kb20oKSA8IDAuMDAxKSB7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvblNwZWMgPSB0aGlzLmxheW91dC5vcmllbnRhdGlvbkNvbnN0cmFpbnQ/LnNwZWMgYXMgYW55XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb25TcGVjPy5pc1F1YXRlcm5pb24gJiYgXG4gICAgICAgICAgICAgICAgdGhpcy5vcmllbnRhdGlvblBlbmFsdHkgPCBvcmllbnRhdGlvblNwZWMuY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSAmJiBcbiAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpIDwgMC4wMSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24uY29weShvcmllbnRhdGlvblNwZWMpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4obGV2eShNYXRoLm1pbihzdGVwU2l6ZSwgMSkqMC4wMDAxKSwgMSlcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uLm11bHRpcGx5KHJhbmRvbVF1YXRlcm5pb24oc2NhbGUsIHNjYWxlKSkubm9ybWFsaXplKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJvdW5kcy5nZXRDZW50ZXIoTGF5b3V0U29sdXRpb24uX2NlbnRlcilcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGJvdW5kcy5nZXRTaXplKExheW91dFNvbHV0aW9uLl9zaXplKVxuXG4gICAgICAgIC8vIGNlbnRlciBtdXRhdGlvbiBzdHJhdGVnaWVzXG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdjZW50ZXInKSAge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTGF5b3V0U29sdXRpb24uX2RpcmVjdGlvbi5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihyYW5kb21RdWF0ZXJuaW9uKDEsMSkpXG4gICAgICAgICAgICBvZmZzZXQuc2V0TGVuZ3RoKGdhdXNzaWFuKHN0ZXBTaXplKSkubXVsdGlwbHlTY2FsYXIoc2l6ZS5sZW5ndGgoKSlcbiAgICAgICAgICAgIGNlbnRlci5hZGQob2Zmc2V0KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2l6ZSBtdXRhdGlvbiBzdHJhdGVnaWVzXG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdzaXplJykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAyICoqIGdhdXNzaWFuKHN0ZXBTaXplKVxuICAgICAgICAgICAgc2l6ZS5tdWx0aXBseVNjYWxhcihzY2FsZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHNpemUuY2xhbXBTY2FsYXIodGhpcy5sYXlvdXQuYWRhcHRlci5zeXN0ZW0uZXBzaWxsb25NZXRlcnMvMTAsMWUyMClcbiAgICAgICAgYm91bmRzLnNldEZyb21DZW50ZXJBbmRTaXplKGNlbnRlciwgc2l6ZSlcblxuXG4gICAgICAgIGlmIChzdHJhdGVneVR5cGUgPT09ICdtaW5tYXgnKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBMYXlvdXRTb2x1dGlvbi5fZGlyZWN0aW9uLnNldCgwLDAsMSkuYXBwbHlRdWF0ZXJuaW9uKHJhbmRvbVF1YXRlcm5pb24oMSwxKSlcbiAgICAgICAgICAgIG9mZnNldC5zZXRMZW5ndGgoZ2F1c3NpYW4oc3RlcFNpemUpKS5tdWx0aXBseShzaXplKVxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLmFkZChvZmZzZXQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5taW4uYWRkKG9mZnNldClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHNpemUgaGFzIG5vIG5lZ2F0aXZlIGNvbXBvbmVudHMsIG9yIGVsc2UgXG4gICAgICAgIC8vIEJveDMgaXMgdW5hYmxlIHRvIHRyYW5zaXRpb24gcHJvcGVybHlcbiAgICAgICAgLy8gYWx0ZXJuYXRpdmUgZml4OiB1cGRhdGUgQm94MyB0byBzdXBwb3J0IG5lZ2F0aXZlIHNpemUgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBtaW4gPSBib3VuZHMubWluXG4gICAgICAgIGNvbnN0IG1heCA9IGJvdW5kcy5tYXhcbiAgICAgICAgaWYgKG1pbi54ID4gbWF4LngpIHRoaXMuX3N3YXAobWluLG1heCwneCcpXG4gICAgICAgIGlmIChtaW4ueSA+IG1heC55KSB0aGlzLl9zd2FwKG1pbixtYXgsJ3knKVxuICAgICAgICBpZiAobWluLnogPiBtYXgueikgdGhpcy5fc3dhcChtaW4sbWF4LCd6JylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzdHJhdGVneVxuICAgIH1cblxuICAgIHByaXZhdGUgX3N3YXAoYTpWZWN0b3IzLCBiOlZlY3RvcjMsIGtleToneCd8J3knfCd6Jykge1xuICAgICAgICBjb25zdCBhVmFsdWUgPSBhW2tleV1cbiAgICAgICAgY29uc3QgYlZhbHVlID0gYltrZXldXG4gICAgICAgIGFba2V5XSA9IGJWYWx1ZVxuICAgICAgICBiW2tleV0gPSBhVmFsdWVcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVQdWxzZUZyZXF1ZW5jeShtaW46bnVtYmVyLG1heDpudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKVxuICAgIH1cblxuICAgIGFwcGx5KGV2YWx1YXRlPXRydWUpIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5sYXlvdXRcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IGxheW91dC5hZGFwdGVyICAgXG4gICAgICAgIGFkYXB0ZXIucmVmZXJlbmNlTm9kZSA9IGxheW91dC5yZWZlcmVuY2VOb2RlXG4gICAgICAgIGFkYXB0ZXIub3JpZW50YXRpb24udGFyZ2V0ID0gdGhpcy5vcmllbnRhdGlvblxuICAgICAgICBhZGFwdGVyLmJvdW5kcy50YXJnZXQgPSB0aGlzLmJvdW5kc1xuICAgICAgICBhZGFwdGVyLm1ldHJpY3MuaW52YWxpZGF0ZVN0YXRlcygpXG4gICAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGF5b3V0Lm9iamVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gbGF5b3V0Lm9iamVjdGl2ZXNbaV1cbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuc2NvcmVzW2ldID0gby5ldmFsdWF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlIDwgLW8uY29tcHV0ZWRBYnNvbHV0ZVRvbGVyYW5jZSB8fCAhaXNGaW5pdGUoc2NvcmUpKSBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZlYXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEggPSAxLjUyNTtcbnZhciByZXZlcnNlZCA9IGZ1bmN0aW9uIChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoMSAtIHApO1xuICAgIH07XG59O1xudmFyIG1pcnJvcmVkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCA8PSAwLjUgPyBlYXNpbmcoMiAqIHApIC8gMiA6ICgyIC0gZWFzaW5nKDIgKiAoMSAtIHApKSkgLyAyO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZVJldmVyc2VkRWFzaW5nID0gcmV2ZXJzZWQ7XG52YXIgY3JlYXRlTWlycm9yZWRFYXNpbmcgPSBtaXJyb3JlZDtcbnZhciBjcmVhdGVFeHBvSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHAsIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVCYWNrSW4gPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAgKiBwICogKChwb3dlciArIDEpICogcCAtIHBvd2VyKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nID0gZnVuY3Rpb24gKHBvd2VyKSB7XG4gICAgdmFyIGJhY2tFYXNpbmcgPSBjcmVhdGVCYWNrSW4ocG93ZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0Vhc2luZyhwKSA6IDAuNSAqICgyIC0gTWF0aC5wb3coMiwgLTEwICogKHAgLSAxKSkpO1xuICAgIH07XG59O1xudmFyIGxpbmVhciA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHA7XG59O1xudmFyIGVhc2VJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVFeHBvSW4oMik7XG52YXIgZWFzZU91dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChlYXNlSW4pO1xudmFyIGVhc2VJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChlYXNlSW4pO1xudmFyIGNpcmNJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNpbihNYXRoLmFjb3MocCkpO1xufTtcbnZhciBjaXJjT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGNpcmNJbik7XG52YXIgY2lyY0luT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGNpcmNPdXQpO1xudmFyIGJhY2tJbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVCYWNrSW4oREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIGJhY2tPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoYmFja0luKTtcbnZhciBiYWNrSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoYmFja0luKTtcbnZhciBhbnRpY2lwYXRlID0gLyojX19QVVJFX18qL2NyZWF0ZUFudGljaXBhdGVFYXNpbmcoREVGQVVMVF9PVkVSU0hPT1RfU1RSRU5HVEgpO1xudmFyIEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPSA0LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID0gOC4wIC8gMTEuMDtcbnZhciBCT1VOQ0VfVEhJUkRfVEhSRVNIT0xEID0gOS4wIC8gMTAuMDtcbnZhciBjYSA9IDQzNTYuMCAvIDM2MS4wO1xudmFyIGNiID0gMzU0NDIuMCAvIDE4MDUuMDtcbnZhciBjYyA9IDE2MDYxLjAgLyAxODA1LjA7XG52YXIgYm91bmNlT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICB2YXIgcDIgPSBwICogcDtcbiAgICByZXR1cm4gcCA8IEJPVU5DRV9GSVJTVF9USFJFU0hPTEQgPyA3LjU2MjUgKiBwMiA6IHAgPCBCT1VOQ0VfU0VDT05EX1RIUkVTSE9MRCA/IDkuMDc1ICogcDIgLSA5LjkgKiBwICsgMy40IDogcCA8IEJPVU5DRV9USElSRF9USFJFU0hPTEQgPyBjYSAqIHAyIC0gY2IgKiBwICsgY2MgOiAxMC44ICogcCAqIHAgLSAyMC41MiAqIHAgKyAxMC43Mjtcbn07XG52YXIgYm91bmNlSW4gPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCk7XG59O1xudmFyIGJvdW5jZUluT3V0ID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcCA8IDAuNSA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gcCAqIDIuMCkpIDogMC41ICogYm91bmNlT3V0KHAgKiAyLjAgLSAxLjApICsgMC41O1xufTtcbnZhciBORVdUT05fSVRFUkFUSU9OUyA9IDg7XG52YXIgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxO1xudmFyIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMTtcbnZhciBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xudmFyIEtfU1BMSU5FX1RBQkxFX1NJWkUgPSAxMTtcbnZhciBLX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyAoS19TUExJTkVfVEFCTEVfU0laRSAtIDEuMCk7XG52YXIgRkxPQVRfMzJfU1VQUE9SVEVEID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgYSA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMS4wIC0gMy4wICogYTIgKyAzLjAgKiBhMTtcbn07XG52YXIgYiA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYTIgLSA2LjAgKiBhMTtcbn07XG52YXIgYyA9IGZ1bmN0aW9uIChhMSkge1xuICAgIHJldHVybiAzLjAgKiBhMTtcbn07XG52YXIgZ2V0U2xvcGUgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIDMuMCAqIGEoYTEsIGEyKSAqIHQgKiB0ICsgMi4wICogYihhMSwgYTIpICogdCArIGMoYTEpO1xufTtcbnZhciBjYWxjQmV6aWVyID0gZnVuY3Rpb24gKHQsIGExLCBhMikge1xuICAgIHJldHVybiAoKGEoYTEsIGEyKSAqIHQgKyBiKGExLCBhMikpICogdCArIGMoYTEpKSAqIHQ7XG59O1xuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IEZMT0FUXzMyX1NVUFBPUlRFRCA/IG5ldyBGbG9hdDMyQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSkgOiBuZXcgQXJyYXkoS19TUExJTkVfVEFCTEVfU0laRSk7XG4gICAgdmFyIGJpbmFyeVN1YmRpdmlkZSA9IGZ1bmN0aW9uIChhWCwgYUEsIGFCKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICB2YXIgY3VycmVudFQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICAgICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYUEgPSBjdXJyZW50VDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUO1xuICAgIH07XG4gICAgdmFyIG5ld3RvblJhcGhzb25JdGVyYXRlID0gZnVuY3Rpb24gKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG9wZSA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50WDtcbiAgICAgICAgZm9yICg7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XG4gICAgfTtcbiAgICB2YXIgY2FsY1NhbXBsZVZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLX1NQTElORV9UQUJMRV9TSVpFOyArK2kpIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIEtfU0FNUExFX1NURVBfU0laRSwgbVgxLCBtWDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2V0VEZvclggPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLjA7XG4gICAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBLX1NQTElORV9UQUJMRV9TSVpFIC0gMTtcbiAgICAgICAgdmFyIGRpc3QgPSAwLjA7XG4gICAgICAgIHZhciBndWVzc0ZvclQgPSAwLjA7XG4gICAgICAgIHZhciBpbml0aWFsU2xvcGUgPSAwLjA7XG4gICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgfVxuICAgICAgICAtLWN1cnJlbnRTYW1wbGU7XG4gICAgICAgIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgICBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIEtfU0FNUExFX1NURVBfU0laRTtcbiAgICAgICAgaW5pdGlhbFNsb3BlID0gZ2V0U2xvcGUoZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIEtfU0FNUExFX1NURVBfU0laRSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcbiAgICB2YXIgcmVzb2x2ZXIgPSBmdW5jdGlvbiAoYVgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlO1xuICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gYVg7XG4gICAgICAgIH0gZWxzZSBpZiAoYVggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxjQmV6aWVyKGdldFRGb3JYKGFYKSwgbVkxLCBtWTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiByZXNvbHZlcjtcbn1cblxuZXhwb3J0IHsgcmV2ZXJzZWQsIG1pcnJvcmVkLCBjcmVhdGVSZXZlcnNlZEVhc2luZywgY3JlYXRlTWlycm9yZWRFYXNpbmcsIGNyZWF0ZUV4cG9JbiwgY3JlYXRlQmFja0luLCBjcmVhdGVBbnRpY2lwYXRlRWFzaW5nLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIGJvdW5jZU91dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBjdWJpY0JlemllciB9O1xuIiwiLy8gdHlwZSBjaGVja3MgZm9yIGFsbCBrbm93biB0eXBlc1xuLy9cbi8vIG5vdGUgdGhhdDpcbi8vXG4vLyAtIGNoZWNrIGJ5IGR1Y2stdHlwaW5nIG9uIGEgcHJvcGVydHkgbGlrZSBgaXNVbml0YCwgaW5zdGVhZCBvZiBjaGVja2luZyBpbnN0YW5jZW9mLlxuLy8gICBpbnN0YW5jZW9mIGNhbm5vdCBiZSB1c2VkIGJlY2F1c2UgdGhhdCB3b3VsZCBub3QgYWxsb3cgdG8gcGFzcyBkYXRhIGZyb21cbi8vICAgb25lIGluc3RhbmNlIG9mIG1hdGguanMgdG8gYW5vdGhlciBzaW5jZSBlYWNoIGhhcyBpdCdzIG93biBpbnN0YW5jZSBvZiBVbml0LlxuLy8gLSBjaGVjayB0aGUgYGlzVW5pdGAgcHJvcGVydHkgdmlhIHRoZSBjb25zdHJ1Y3Rvciwgc28gdGhlcmUgd2lsbCBiZSBub1xuLy8gICBtYXRjaGVzIGZvciBcImZha2VcIiBpbnN0YW5jZXMgbGlrZSBwbGFpbiBvYmplY3RzIHdpdGggYSBwcm9wZXJ0eSBgaXNVbml0YC5cbi8vICAgVGhhdCBpcyBpbXBvcnRhbnQgZm9yIHNlY3VyaXR5IHJlYXNvbnMuXG4vLyAtIEl0IG11c3Qgbm90IGJlIHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoZSB0eXBlIGNoZWNrcyB1c2VkIGludGVybmFsbHksXG4vLyAgIGZvciBzZWN1cml0eSByZWFzb25zLCBzbyB0aGVzZSBmdW5jdGlvbnMgYXJlIG5vdCBleHBvc2VkIGluIHRoZSBleHByZXNzaW9uXG4vLyAgIHBhcnNlci5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCaWdOdW1iZXIoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0JpZ051bWJlciA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBsZXgoeCkge1xuICByZXR1cm4geCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHgpLmlzQ29tcGxleCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyYWN0aW9uKHgpIHtcbiAgcmV0dXJuIHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih4KS5pc0ZyYWN0aW9uID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5pdCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzVW5pdCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0IGZ1bmN0aW9uIGlzTWF0cml4KHgpIHtcbiAgcmV0dXJuIHggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIGEgY29sbGVjdGlvbjogYW4gQXJyYXkgb3IgTWF0cml4XG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm5zIHtib29sZWFufSBpc0NvbGxlY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xsZWN0aW9uKHgpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgfHwgaXNNYXRyaXgoeCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEZW5zZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNEZW5zZU1hdHJpeCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc01hdHJpeCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYXJzZU1hdHJpeCh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNTcGFyc2VNYXRyaXggJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNNYXRyaXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSYW5nZSh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzUmFuZ2UgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleCh4KSB7XG4gIHJldHVybiB4ICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzSW5kZXggPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnYm9vbGVhbic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZXN1bHRTZXQoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc1Jlc3VsdFNldCA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0hlbHAoeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0hlbHAgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIERhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAoeCkge1xuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gIHJldHVybiAhISh4ICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4LmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgIWlzQ29tcGxleCh4KSAmJiAhaXNGcmFjdGlvbih4KSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsKHgpIHtcbiAgcmV0dXJuIHggPT09IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQoeCkge1xuICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzb3JOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0FjY2Vzc29yTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheU5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQXJyYXlOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Fzc2lnbm1lbnROb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0Fzc2lnbm1lbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNCbG9ja05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZGl0aW9uYWxOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc0NvbmRpdGlvbmFsTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb25zdGFudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzQ29uc3RhbnROb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbk5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzRnVuY3Rpb25Ob2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4Tm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNJbmRleE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdE5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT2JqZWN0Tm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYXRvck5vZGUoeCkge1xuICByZXR1cm4geCAmJiB4LmlzT3BlcmF0b3JOb2RlID09PSB0cnVlICYmIHguY29uc3RydWN0b3IucHJvdG90eXBlLmlzTm9kZSA9PT0gdHJ1ZSB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmVudGhlc2lzTm9kZSh4KSB7XG4gIHJldHVybiB4ICYmIHguaXNQYXJlbnRoZXNpc05vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmFuZ2VOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1JhbmdlTm9kZSA9PT0gdHJ1ZSAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc05vZGUgPT09IHRydWUgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTeW1ib2xOb2RlKHgpIHtcbiAgcmV0dXJuIHggJiYgeC5pc1N5bWJvbE5vZGUgPT09IHRydWUgJiYgeC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuaXNOb2RlID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhaW4oeCkge1xuICByZXR1cm4geCAmJiB4LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pc0NoYWluID09PSB0cnVlIHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVPZih4KSB7XG4gIHZhciB0ID0gdHlwZW9mIHg7XG5cbiAgaWYgKHQgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gSmF2YVNjcmlwdCB0eXBlc1xuICAgIGlmICh4ID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSByZXR1cm4gJ0FycmF5JztcbiAgICBpZiAoeCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiAnRGF0ZSc7XG4gICAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiAnUmVnRXhwJzsgLy8gbWF0aC5qcyB0eXBlc1xuXG4gICAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4gJ0JpZ051bWJlcic7XG4gICAgaWYgKGlzQ29tcGxleCh4KSkgcmV0dXJuICdDb21wbGV4JztcbiAgICBpZiAoaXNGcmFjdGlvbih4KSkgcmV0dXJuICdGcmFjdGlvbic7XG4gICAgaWYgKGlzTWF0cml4KHgpKSByZXR1cm4gJ01hdHJpeCc7XG4gICAgaWYgKGlzVW5pdCh4KSkgcmV0dXJuICdVbml0JztcbiAgICBpZiAoaXNJbmRleCh4KSkgcmV0dXJuICdJbmRleCc7XG4gICAgaWYgKGlzUmFuZ2UoeCkpIHJldHVybiAnUmFuZ2UnO1xuICAgIGlmIChpc1Jlc3VsdFNldCh4KSkgcmV0dXJuICdSZXN1bHRTZXQnO1xuICAgIGlmIChpc05vZGUoeCkpIHJldHVybiB4LnR5cGU7XG4gICAgaWYgKGlzQ2hhaW4oeCkpIHJldHVybiAnQ2hhaW4nO1xuICAgIGlmIChpc0hlbHAoeCkpIHJldHVybiAnSGVscCc7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG5cbiAgaWYgKHQgPT09ICdmdW5jdGlvbicpIHJldHVybiAnRnVuY3Rpb24nO1xuICByZXR1cm4gdDsgLy8gY2FuIGJlICdzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nLCAuLi5cbn0iLCJpbXBvcnQgeyBpc0JpZ051bWJlciB9IGZyb20gJy4vaXMuanMnO1xuLyoqXG4gKiBDbG9uZSBhbiBvYmplY3RcbiAqXG4gKiAgICAgY2xvbmUoeClcbiAqXG4gKiBDYW4gY2xvbmUgYW55IHByaW1pdGl2ZSB0eXBlLCBhcnJheSwgYW5kIG9iamVjdC5cbiAqIElmIHggaGFzIGEgZnVuY3Rpb24gY2xvbmUsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHRvIGNsb25lIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHsqfSB4XG4gKiBAcmV0dXJuIHsqfSBjbG9uZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZSh4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7IC8vIGltbXV0YWJsZSBwcmltaXRpdmUgdHlwZXNcblxuICBpZiAodHlwZSA9PT0gJ251bWJlcicgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nIHx8IHggPT09IG51bGwgfHwgeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHg7XG4gIH0gLy8gdXNlIGNsb25lIGZ1bmN0aW9uIG9mIHRoZSBvYmplY3Qgd2hlbiBhdmFpbGFibGVcblxuXG4gIGlmICh0eXBlb2YgeC5jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB4LmNsb25lKCk7XG4gIH0gLy8gYXJyYXlcblxuXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIHgubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNsb25lKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh4IGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIG5ldyBEYXRlKHgudmFsdWVPZigpKTtcbiAgaWYgKGlzQmlnTnVtYmVyKHgpKSByZXR1cm4geDsgLy8gYmlnbnVtYmVycyBhcmUgaW1tdXRhYmxlXG5cbiAgaWYgKHggaW5zdGFuY2VvZiBSZWdFeHApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjbG9uZSAnICsgeCk7IC8vIFRPRE86IGNsb25lIGEgUmVnRXhwXG4gIC8vIG9iamVjdFxuXG4gIHJldHVybiBtYXBPYmplY3QoeCwgY2xvbmUpO1xufVxuLyoqXG4gKiBBcHBseSBtYXAgdG8gYWxsIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGggbWFwcGVkIHByb3BlcnRpZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2spIHtcbiAgdmFyIGNsb25lID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkpIHtcbiAgICAgIGNsb25lW2tleV0gPSBjYWxsYmFjayhvYmplY3Rba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb25lO1xufVxuLyoqXG4gKiBFeHRlbmQgb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KGIsIHByb3ApKSB7XG4gICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCBleHRlbmQgYW4gb2JqZWN0IGEgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXh0ZW5kKGEsIGIpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIEFycmF5cyB0byBkZWVwRXh0ZW5kXG4gIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmQnKTtcbiAgfVxuXG4gIGZvciAodmFyIHByb3AgaW4gYikge1xuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgcHJvcCBub3QgYmVpbmcgaW4gT2JqZWN0LnByb3RvdHlwZSBvciBGdW5jdGlvbi5wcm90b3R5cGVcbiAgICAvLyB0byBwcmV2ZW50IHBvbGx1dGluZyBmb3IgZXhhbXBsZSBPYmplY3QuX19wcm90b19fLlxuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShiLCBwcm9wKSAmJiAhKHByb3AgaW4gT2JqZWN0LnByb3RvdHlwZSkgJiYgIShwcm9wIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgIGlmIChiW3Byb3BdICYmIGJbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICBpZiAoYVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYVtwcm9wXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFbcHJvcF0gJiYgYVtwcm9wXS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgZGVlcEV4dGVuZChhW3Byb3BdLCBiW3Byb3BdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGJbcHJvcF0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhW3Byb3BdID0gYltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYTtcbn1cbi8qKlxuICogRGVlcCB0ZXN0IGVxdWFsaXR5IG9mIGFsbCBmaWVsZHMgaW4gdHdvIHBhaXJzIG9mIGFycmF5cyBvciBvYmplY3RzLlxuICogQ29tcGFyZXMgdmFsdWVzIGFuZCBmdW5jdGlvbnMgc3RyaWN0bHkgKGllLiAyIGlzIG5vdCB0aGUgc2FtZSBhcyAnMicpLlxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYVxuICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhLCBiKSB7XG4gIHZhciBwcm9wLCBpLCBsZW47XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGIpIHx8ICEoYiBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYSkge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBiKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHByb3AgaW4gYikge1xuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5maWx0ZXJlZEZvckluTG9vcFxuICAgICAgaWYgKCEocHJvcCBpbiBhKSB8fCAhZGVlcFN0cmljdEVxdWFsKGFbcHJvcF0sIGJbcHJvcF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmbGF0dGVuIGEgbmVzdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXN0ZWRPYmplY3RcbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgZmxhdHRlbmVkIG9iamVjdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QpIHtcbiAgdmFyIGZsYXR0ZW5lZE9iamVjdCA9IHt9O1xuXG4gIF9kZWVwRmxhdHRlbihuZXN0ZWRPYmplY3QsIGZsYXR0ZW5lZE9iamVjdCk7XG5cbiAgcmV0dXJuIGZsYXR0ZW5lZE9iamVjdDtcbn0gLy8gaGVscGVyIGZ1bmN0aW9uIHVzZWQgYnkgZGVlcEZsYXR0ZW5cblxuZnVuY3Rpb24gX2RlZXBGbGF0dGVuKG5lc3RlZE9iamVjdCwgZmxhdHRlbmVkT2JqZWN0KSB7XG4gIGZvciAodmFyIHByb3AgaW4gbmVzdGVkT2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KG5lc3RlZE9iamVjdCwgcHJvcCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG5lc3RlZE9iamVjdFtwcm9wXTtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgX2RlZXBGbGF0dGVuKHZhbHVlLCBmbGF0dGVuZWRPYmplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxhdHRlbmVkT2JqZWN0W3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBzdXBwb3J0cyBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgc3VwcG9ydGVkXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gY2FuRGVmaW5lUHJvcGVydHkoKSB7XG4gIC8vIHRlc3QgbmVlZGVkIGZvciBicm9rZW4gSUU4IGltcGxlbWVudGF0aW9uXG4gIHRyeSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7fVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBdHRhY2ggYSBsYXp5IGxvYWRpbmcgcHJvcGVydHkgdG8gYSBjb25zdGFudC5cbiAqIFRoZSBnaXZlbiBmdW5jdGlvbiBgZm5gIGlzIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHByb3BlcnR5IGlzIGZpcnN0IHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0ICAgICAgICAgT2JqZWN0IHdoZXJlIHRvIGFkZCB0aGUgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wICAgICAgICAgICBQcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB2YWx1ZVJlc29sdmVyIEZ1bmN0aW9uIHJldHVybmluZyB0aGUgcHJvcGVydHkgdmFsdWUuIENhbGxlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhvdXQgYXJndW1lbnRzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5KG9iamVjdCwgcHJvcCwgdmFsdWVSZXNvbHZlcikge1xuICB2YXIgX3VuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gIHZhciBfdmFsdWU7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcCwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKF91bmluaXRpYWxpemVkKSB7XG4gICAgICAgIF92YWx1ZSA9IHZhbHVlUmVzb2x2ZXIoKTtcbiAgICAgICAgX3VuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF92YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgIF91bmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9KTtcbn1cbi8qKlxuICogVHJhdmVyc2UgYSBwYXRoIGludG8gYW4gb2JqZWN0LlxuICogV2hlbiBhIG5hbWVzcGFjZSBpcyBtaXNzaW5nLCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGggICBBIGRvdCBzZXBhcmF0ZWQgc3RyaW5nIGxpa2UgJ25hbWUuc3BhY2UnXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIG9iamVjdCBhdCB0aGUgZW5kIG9mIHRoZSBwYXRoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlKG9iamVjdCwgcGF0aCkge1xuICBpZiAocGF0aCAmJiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHJhdmVyc2Uob2JqZWN0LCBwYXRoLnNwbGl0KCcuJykpO1xuICB9XG5cbiAgdmFyIG9iaiA9IG9iamVjdDtcblxuICBpZiAocGF0aCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaV07XG5cbiAgICAgIGlmICghKGtleSBpbiBvYmopKSB7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICB9XG5cbiAgICAgIG9iaiA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG4vKipcbiAqIEEgc2FmZSBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIGEgZmFjdG9yeSBoYXMgZmllbGRzOlxuICpcbiAqIC0gZmFjdG9yeTogZnVuY3Rpb24gKHR5cGU6IE9iamVjdCwgY29uZmlnOiBPYmplY3QsIGxvYWQ6IGZ1bmN0aW9uLCB0eXBlZDogZnVuY3Rpb24gWywgbWF0aDogT2JqZWN0XSkgICAocmVxdWlyZWQpXG4gKiAtIG5hbWU6IHN0cmluZyAob3B0aW9uYWwpXG4gKiAtIHBhdGg6IHN0cmluZyAgICBBIGRvdCBzZXBhcmF0ZWQgcGF0aCAob3B0aW9uYWwpXG4gKiAtIG1hdGg6IGJvb2xlYW4gICBJZiB0cnVlIChmYWxzZSBieSBkZWZhdWx0KSwgdGhlIG1hdGggbmFtZXNwYWNlIGlzIHBhc3NlZFxuICogICAgICAgICAgICAgICAgICAgYXMgZmlmdGggYXJndW1lbnQgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGVnYWN5RmFjdG9yeShvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0LmZhY3RvcnkgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIEdldCBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gcGF0aFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGlzUGF0aChwYXRoKSkge1xuICAgICAgcmV0dXJuIGdldChvYmplY3QsIHBhdGguc3BsaXQoJy4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmplY3RbcGF0aF07XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoaWxkID0gb2JqZWN0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuICAgIGNoaWxkID0gY2hpbGQgPyBjaGlsZFtrZXldIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuLyoqXG4gKiBTZXQgYSBuZXN0ZWQgcHJvcGVydHkgaW4gYW4gb2JqZWN0XG4gKiBNdXRhdGVzIHRoZSBvYmplY3QgaXRzZWxmXG4gKiBJZiB0aGUgcGF0aCBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IHBhdGhcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaXNQYXRoKHBhdGgpKSB7XG4gICAgICByZXR1cm4gc2V0KG9iamVjdCwgcGF0aC5zcGxpdCgnLicpLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdFtwYXRoXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGQgPSBvYmplY3Q7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXRoW2ldO1xuXG4gICAgaWYgKGNoaWxkW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2hpbGRba2V5XSA9IHt9O1xuICAgIH1cblxuICAgIGNoaWxkID0gY2hpbGRba2V5XTtcbiAgfVxuXG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbGFzdEtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICBjaGlsZFtsYXN0S2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB2YWx1ZSB0byB0cmFuc2Zvcm0gYSB2YWx1ZSB3aGVuIHBpY2tpbmcgaXRcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmplY3QsIHByb3BlcnRpZXMsIHRyYW5zZm9ybSkge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IGdldChvYmplY3QsIGtleSk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0KGNvcHksIGtleSwgdHJhbnNmb3JtID8gdHJhbnNmb3JtKHZhbHVlLCBrZXkpIDogdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuLyoqXG4gKiBTaGFsbG93IHZlcnNpb24gb2YgcGljaywgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgb2JqZWN0IHByb3BlcnRpZXNcbiAqIGJ1dCBub3QgZm9yIG5lc3RlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2tTaGFsbG93KG9iamVjdCwgcHJvcGVydGllcykge1xuICB2YXIgY29weSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvcHlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb3B5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGtleSA9PiBvYmplY3Rba2V5XSk7XG59IC8vIGhlbHBlciBmdW5jdGlvbiB0byB0ZXN0IHdoZXRoZXIgYSBzdHJpbmcgY29udGFpbnMgYSBwYXRoIGxpa2UgJ3VzZXIubmFtZSdcblxuZnVuY3Rpb24gaXNQYXRoKHN0cikge1xuICByZXR1cm4gc3RyLmluZGV4T2YoJy4nKSAhPT0gLTE7XG59IiwiLyoqXG4gKiB0eXBlZC1mdW5jdGlvblxuICpcbiAqIFR5cGUgY2hlY2tpbmcgZm9yIEphdmFTY3JpcHQgZnVuY3Rpb25zXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvblxuICovXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gT2xkTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBPbGROb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC50eXBlZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiAgZnVuY3Rpb24gb2sgKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90T2sgKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZGVmICgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHt7XG4gICAqICAgcGFyYW1zOiBQYXJhbVtdLFxuICAgKiAgIGZuOiBmdW5jdGlvblxuICAgKiB9fSBTaWduYXR1cmVcbiAgICpcbiAgICogQHR5cGVkZWYge3tcbiAgICogICB0eXBlczogVHlwZVtdLFxuICAgKiAgIHJlc3RQYXJhbTogYm9vbGVhblxuICAgKiB9fSBQYXJhbVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0eXBlSW5kZXg6IG51bWJlcixcbiAgICogICB0ZXN0OiBmdW5jdGlvbixcbiAgICogICBjb252ZXJzaW9uPzogQ29udmVyc2lvbkRlZixcbiAgICogICBjb252ZXJzaW9uSW5kZXg6IG51bWJlcixcbiAgICogfX0gVHlwZVxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIGZyb206IHN0cmluZyxcbiAgICogICB0bzogc3RyaW5nLFxuICAgKiAgIGNvbnZlcnQ6IGZ1bmN0aW9uICgqKSA6ICpcbiAgICogfX0gQ29udmVyc2lvbkRlZlxuICAgKlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgIG5hbWU6IHN0cmluZyxcbiAgICogICB0ZXN0OiBmdW5jdGlvbigqKSA6IGJvb2xlYW5cbiAgICogfX0gVHlwZURlZlxuICAgKi9cblxuICAvLyBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgZnVuY3Rpb24gY3JlYXRlICgpIHtcbiAgICAvLyBkYXRhIHR5cGUgdGVzdHNcbiAgICB2YXIgX3R5cGVzID0gW1xuICAgICAgeyBuYW1lOiAnbnVtYmVyJywgICAgdGVzdDogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJyB9IH0sXG4gICAgICB7IG5hbWU6ICdzdHJpbmcnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnIH0gfSxcbiAgICAgIHsgbmFtZTogJ2Jvb2xlYW4nLCAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nIH0gfSxcbiAgICAgIHsgbmFtZTogJ0Z1bmN0aW9uJywgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJ30gfSxcbiAgICAgIHsgbmFtZTogJ0FycmF5JywgICAgIHRlc3Q6IEFycmF5LmlzQXJyYXkgfSxcbiAgICAgIHsgbmFtZTogJ0RhdGUnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgRGF0ZSB9IH0sXG4gICAgICB7IG5hbWU6ICdSZWdFeHAnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCBpbnN0YW5jZW9mIFJlZ0V4cCB9IH0sXG4gICAgICB7IG5hbWU6ICdPYmplY3QnLCAgICB0ZXN0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0XG4gICAgICB9fSxcbiAgICAgIHsgbmFtZTogJ251bGwnLCAgICAgIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSBudWxsIH0gfSxcbiAgICAgIHsgbmFtZTogJ3VuZGVmaW5lZCcsIHRlc3Q6IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSB1bmRlZmluZWQgfSB9XG4gICAgXTtcblxuICAgIHZhciBhbnlUeXBlID0ge1xuICAgICAgbmFtZTogJ2FueScsXG4gICAgICB0ZXN0OiBva1xuICAgIH1cblxuICAgIC8vIHR5cGVzIHdoaWNoIG5lZWQgdG8gYmUgaWdub3JlZFxuICAgIHZhciBfaWdub3JlID0gW107XG5cbiAgICAvLyB0eXBlIGNvbnZlcnNpb25zXG4gICAgdmFyIF9jb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBvYmplY3QsIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHR5cGVkIGZ1bmN0aW9uIGF0IHRoZSBlbmRcbiAgICB2YXIgdHlwZWQgPSB7XG4gICAgICB0eXBlczogX3R5cGVzLFxuICAgICAgY29udmVyc2lvbnM6IF9jb252ZXJzaW9ucyxcbiAgICAgIGlnbm9yZTogX2lnbm9yZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSB0ZXN0IGZ1bmN0aW9uIGZvciBhIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU5hbWVcbiAgICAgKiBAcmV0dXJuIHtUeXBlRGVmfSBSZXR1cm5zIHRoZSB0eXBlIGRlZmluaXRpb24gd2hlbiBmb3VuZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgVGhyb3dzIGEgVHlwZUVycm9yIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlQnlOYW1lICh0eXBlTmFtZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZSA9PT0gdHlwZU5hbWU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVOYW1lID09PSAnYW55JykgeyAvLyBzcGVjaWFsIGJha2VkLWluIGNhc2UgJ2FueSdcbiAgICAgICAgcmV0dXJuIGFueVR5cGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBoaW50ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gdHlwZSBcIicgKyB0eXBlTmFtZSArICdcIicgK1xuICAgICAgICAgIChoaW50ID8gKCcuIERpZCB5b3UgbWVhbiBcIicgKyBoaW50Lm5hbWUgKyAnXCI/JykgOiAnJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGluZGV4IG9mIGEgdHlwZSBkZWZpbml0aW9uLiBIYW5kbGVzIHNwZWNpYWwgY2FzZSAnYW55J1xuICAgICAqIEBwYXJhbSB7VHlwZURlZn0gdHlwZVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVHlwZUluZGV4KHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBhbnlUeXBlKSB7XG4gICAgICAgIHJldHVybiA5OTk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlZC50eXBlcy5pbmRleE9mKHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSB0eXBlIHRoYXQgbWF0Y2hlcyBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGZpcnN0IHR5cGUgZm9yIHdoaWNoXG4gICAgICogICAgICAgICAgICAgICAgICB0aGUgdHlwZSB0ZXN0IG1hdGNoZXMgdGhlIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRUeXBlTmFtZSh2YWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gZmluZEluQXJyYXkodHlwZWQudHlwZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkudGVzdCh2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5uYW1lO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBoYXMgdW5rbm93biB0eXBlLiBWYWx1ZTogJyArIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc3BlY2lmaWMgc2lnbmF0dXJlIGZyb20gYSAoY29tcG9zZWQpIHR5cGVkIGZ1bmN0aW9uLCBmb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgdHlwZWQuZmluZChmbiwgWydudW1iZXInLCAnc3RyaW5nJ10pXG4gICAgICogICB0eXBlZC5maW5kKGZuLCAnbnVtYmVyLCBzdHJpbmcnKVxuICAgICAqXG4gICAgICogRnVuY3Rpb24gZmluZCBvbmx5IG9ubHkgd29ya3MgZm9yIGV4YWN0IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBBIHR5cGVkLWZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gc2lnbmF0dXJlICAgU2lnbmF0dXJlIHRvIGJlIGZvdW5kLCBjYW4gYmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbiBhcnJheSBvciBhIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmcuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259ICAgICAgICAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbWF0Y2hpbmcgc2lnbmF0dXJlLCBvclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93cyBhbiBlcnJvciB3aGVuIG5vIHNpZ25hdHVyZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQgKGZuLCBzaWduYXR1cmUpIHtcbiAgICAgIGlmICghZm4uc2lnbmF0dXJlcykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiBpcyBubyB0eXBlZC1mdW5jdGlvbicpO1xuICAgICAgfVxuXG4gICAgICAvLyBub3JtYWxpemUgaW5wdXRcbiAgICAgIHZhciBhcnI7XG4gICAgICBpZiAodHlwZW9mIHNpZ25hdHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYXJyID0gc2lnbmF0dXJlLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyW2ldID0gYXJyW2ldLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzaWduYXR1cmUpKSB7XG4gICAgICAgIGFyciA9IHNpZ25hdHVyZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgYXJyYXkgb3IgYSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHIgPSBhcnIuam9pbignLCcpO1xuXG4gICAgICAvLyBmaW5kIGFuIGV4YWN0IG1hdGNoXG4gICAgICB2YXIgbWF0Y2ggPSBmbi5zaWduYXR1cmVzW3N0cl07XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBleHRlbmQgZmluZCB0byBtYXRjaCBub24tZXhhY3Qgc2lnbmF0dXJlc1xuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTaWduYXR1cmUgbm90IGZvdW5kIChzaWduYXR1cmU6ICcgKyAoZm4ubmFtZSB8fCAndW5uYW1lZCcpICsgJygnICsgYXJyLmpvaW4oJywgJykgKyAnKSknKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZ2l2ZW4gdmFsdWUgdG8gYW5vdGhlciBkYXRhIHR5cGUuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydCAodmFsdWUsIHR5cGUpIHtcbiAgICAgIHZhciBmcm9tID0gZmluZFR5cGVOYW1lKHZhbHVlKTtcblxuICAgICAgLy8gY2hlY2sgY29udmVyc2lvbiBpcyBuZWVkZWRcbiAgICAgIGlmICh0eXBlID09PSBmcm9tKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlZC5jb252ZXJzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY29udmVyc2lvbiA9IHR5cGVkLmNvbnZlcnNpb25zW2ldO1xuICAgICAgICBpZiAoY29udmVyc2lvbi5mcm9tID09PSBmcm9tICYmIGNvbnZlcnNpb24udG8gPT09IHR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gY29udmVyc2lvbi5jb252ZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGZyb20gJyArIGZyb20gKyAnIHRvICcgKyB0eXBlKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU3RyaW5naWZ5IHBhcmFtZXRlcnMgaW4gYSBub3JtYWxpemVkIHdheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeVBhcmFtcyAocGFyYW1zKSB7XG4gICAgICByZXR1cm4gcGFyYW1zXG4gICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIHZhciB0eXBlTmFtZXMgPSBwYXJhbS50eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gKHBhcmFtLnJlc3RQYXJhbSA/ICcuLi4nIDogJycpICsgdHlwZU5hbWVzLmpvaW4oJ3wnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSBwYXJhbWV0ZXIsIGxpa2UgXCIuLi5udW1iZXIgfCBib29sZWFuXCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1cbiAgICAgKiBAcGFyYW0ge0NvbnZlcnNpb25EZWZbXX0gY29udmVyc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtQYXJhbX0gcGFyYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZVBhcmFtIChwYXJhbSwgY29udmVyc2lvbnMpIHtcbiAgICAgIHZhciByZXN0UGFyYW0gPSBwYXJhbS5pbmRleE9mKCcuLi4nKSA9PT0gMDtcbiAgICAgIHZhciB0eXBlcyA9ICghcmVzdFBhcmFtKVxuICAgICAgICAgID8gcGFyYW1cbiAgICAgICAgICA6IChwYXJhbS5sZW5ndGggPiAzKVxuICAgICAgICAgICAgICA/IHBhcmFtLnNsaWNlKDMpXG4gICAgICAgICAgICAgIDogJ2FueSc7XG5cbiAgICAgIHZhciB0eXBlTmFtZXMgPSB0eXBlcy5zcGxpdCgnfCcpLm1hcCh0cmltKVxuICAgICAgICAgIC5maWx0ZXIobm90RW1wdHkpXG4gICAgICAgICAgLmZpbHRlcihub3RJZ25vcmUpO1xuXG4gICAgICB2YXIgbWF0Y2hpbmdDb252ZXJzaW9ucyA9IGZpbHRlckNvbnZlcnNpb25zKGNvbnZlcnNpb25zLCB0eXBlTmFtZXMpO1xuXG4gICAgICB2YXIgZXhhY3RUeXBlcyA9IHR5cGVOYW1lcy5tYXAoZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUodHlwZU5hbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogdHlwZU5hbWUsXG4gICAgICAgICAgdHlwZUluZGV4OiBmaW5kVHlwZUluZGV4KHR5cGUpLFxuICAgICAgICAgIHRlc3Q6IHR5cGUudGVzdCxcbiAgICAgICAgICBjb252ZXJzaW9uOiBudWxsLFxuICAgICAgICAgIGNvbnZlcnNpb25JbmRleDogLTFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29udmVydGlibGVUeXBlcyA9IG1hdGNoaW5nQ29udmVyc2lvbnMubWFwKGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICAgIHZhciB0eXBlID0gZmluZFR5cGVCeU5hbWUoY29udmVyc2lvbi5mcm9tKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGNvbnZlcnNpb24uZnJvbSxcbiAgICAgICAgICB0eXBlSW5kZXg6IGZpbmRUeXBlSW5kZXgodHlwZSksXG4gICAgICAgICAgdGVzdDogdHlwZS50ZXN0LFxuICAgICAgICAgIGNvbnZlcnNpb246IGNvbnZlcnNpb24sXG4gICAgICAgICAgY29udmVyc2lvbkluZGV4OiBjb252ZXJzaW9ucy5pbmRleE9mKGNvbnZlcnNpb24pXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZXM6IGV4YWN0VHlwZXMuY29uY2F0KGNvbnZlcnRpYmxlVHlwZXMpLFxuICAgICAgICByZXN0UGFyYW06IHJlc3RQYXJhbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHNpZ25hdHVyZSB3aXRoIGNvbW1hIHNlcGFyYXRlZCBwYXJhbWV0ZXJzLFxuICAgICAqIGxpa2UgXCJudW1iZXIgfCBib29sZWFuLCAuLi5zdHJpbmdcIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICAgICAqIEBwYXJhbSB7Q29udmVyc2lvbkRlZltdfSBjb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge1NpZ25hdHVyZSB8IG51bGx9IHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlU2lnbmF0dXJlIChzaWduYXR1cmUsIGZuLCBjb252ZXJzaW9ucykge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuXG4gICAgICBpZiAoc2lnbmF0dXJlLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgcGFyYW1zID0gc2lnbmF0dXJlXG4gICAgICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAgICAgLm1hcCh0cmltKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocGFyYW0sIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICB2YXIgcGFyc2VkUGFyYW0gPSBwYXJzZVBhcmFtKHBhcmFtLCBjb252ZXJzaW9ucyk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnNlZFBhcmFtLnJlc3RQYXJhbSAmJiAoaW5kZXggIT09IGFycmF5Lmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIHJlc3QgcGFyYW1ldGVyIFwiJyArIHBhcmFtICsgJ1wiOiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29ubHkgYWxsb3dlZCBmb3IgdGhlIGxhc3QgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUGFyYW07XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc29tZShpc0ludmFsaWRQYXJhbSkpIHtcbiAgICAgICAgLy8gaW52YWxpZCBzaWduYXR1cmU6IGF0IGxlYXN0IG9uZSBwYXJhbWV0ZXIgaGFzIG5vIHR5cGVzXG4gICAgICAgIC8vICh0aGV5IG1heSBoYXZlIGJlZW4gZmlsdGVyZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgZm46IGZuXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHNldCBvZiBwYXJhbXMgY29udGFpbnMgYSByZXN0UGFyYW1cbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBsYXN0IHBhcmFtZXRlciBpcyBhIHJlc3RQYXJhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1Jlc3RQYXJhbShwYXJhbXMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGxhc3QocGFyYW1zKVxuICAgICAgcmV0dXJuIHBhcmFtID8gcGFyYW0ucmVzdFBhcmFtIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIGEgcGFyYW1ldGVyIGNvbnRhaW5zIGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBhdCBsZWFzdCBvbmUgb2YgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBjb250YWlucyBhIGNvbnZlcnNpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29udmVyc2lvbnMocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5zb21lKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0eXBlLmNvbnZlcnNpb24gIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHR5cGUgdGVzdCBmb3IgYSBzaW5nbGUgcGFyYW1ldGVyLCB3aGljaCBjYW4gaGF2ZSBvbmUgb3IgbXVsdGlwbGVcbiAgICAgKiB0eXBlcy5cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKHg6ICopIDogYm9vbGVhbn0gUmV0dXJucyBhIHRlc3QgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdChwYXJhbSkge1xuICAgICAgaWYgKCFwYXJhbSB8fCBwYXJhbS50eXBlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gb2s7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRUeXBlQnlOYW1lKHBhcmFtLnR5cGVzWzBdLm5hbWUpLnRlc3Q7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXJhbS50eXBlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdmFyIHRlc3QwID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMF0ubmFtZSkudGVzdDtcbiAgICAgICAgdmFyIHRlc3QxID0gZmluZFR5cGVCeU5hbWUocGFyYW0udHlwZXNbMV0ubmFtZSkudGVzdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9yKHgpIHtcbiAgICAgICAgICByZXR1cm4gdGVzdDAoeCkgfHwgdGVzdDEoeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgeyAvLyBwYXJhbS50eXBlcy5sZW5ndGggPiAyXG4gICAgICAgIHZhciB0ZXN0cyA9IHBhcmFtLnR5cGVzLm1hcChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgIHJldHVybiBmaW5kVHlwZUJ5TmFtZSh0eXBlLm5hbWUpLnRlc3Q7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvcih4KSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRlc3RzW2ldKHgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXN0IGZvciBhbGwgcGFyYW1ldGVycyBvZiBhIHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oYXJnczogQXJyYXk8Kj4pIDogYm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlVGVzdHMocGFyYW1zKSB7XG4gICAgICB2YXIgdGVzdHMsIHRlc3QwLCB0ZXN0MTtcblxuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIC8vIHZhcmlhYmxlIGFyZ3VtZW50cyBsaWtlICcuLi5udW1iZXInXG4gICAgICAgIHRlc3RzID0gaW5pdGlhbChwYXJhbXMpLm1hcChjb21waWxlVGVzdCk7XG4gICAgICAgIHZhciB2YXJJbmRleCA9IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgdmFyIGxhc3RUZXN0ID0gY29tcGlsZVRlc3QobGFzdChwYXJhbXMpKTtcbiAgICAgICAgdmFyIHRlc3RSZXN0UGFyYW0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSB2YXJJbmRleDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghbGFzdFRlc3QoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0ZXN0c1tpXShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0ZXN0UmVzdFBhcmFtKGFyZ3MpICYmIChhcmdzLmxlbmd0aCA+PSB2YXJJbmRleCArIDEpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIG5vIHZhcmlhYmxlIGFyZ3VtZW50c1xuICAgICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXN0QXJncyhhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdDAoYXJnc1swXSkgJiYgYXJncy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdGVzdDAgPSBjb21waWxlVGVzdChwYXJhbXNbMF0pO1xuICAgICAgICAgIHRlc3QxID0gY29tcGlsZVRlc3QocGFyYW1zWzFdKTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHRlc3QwKGFyZ3NbMF0pICYmIHRlc3QxKGFyZ3NbMV0pICYmIGFyZ3MubGVuZ3RoID09PSAyO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICAgICAgdGVzdHMgPSBwYXJhbXMubWFwKGNvbXBpbGVUZXN0KTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVzdEFyZ3MoYXJncykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoIXRlc3RzW2ldKGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IHRlc3RzLmxlbmd0aDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgcGFyYW1ldGVyIGF0IGEgc3BlY2lmaWMgaW5kZXggb2YgYSBzaWduYXR1cmUuXG4gICAgICogSGFuZGxlcyByZXN0IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm4ge1BhcmFtIHwgbnVsbH0gUmV0dXJucyB0aGUgbWF0Y2hpbmcgcGFyYW1ldGVyIHdoZW4gZm91bmQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4IDwgc2lnbmF0dXJlLnBhcmFtcy5sZW5ndGhcbiAgICAgICAgICA/IHNpZ25hdHVyZS5wYXJhbXNbaW5kZXhdXG4gICAgICAgICAgOiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcylcbiAgICAgICAgICAgICAgPyBsYXN0KHNpZ25hdHVyZS5wYXJhbXMpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdHlwZSBuYW1lcyBvZiBhIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlfSBzaWduYXR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4Y2x1ZGVDb252ZXJzaW9uc1xuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBSZXR1cm5zIGFuIGFycmF5IHdpdGggdHlwZSBuYW1lc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEV4cGVjdGVkVHlwZU5hbWVzIChzaWduYXR1cmUsIGluZGV4LCBleGNsdWRlQ29udmVyc2lvbnMpIHtcbiAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtQXRJbmRleChzaWduYXR1cmUsIGluZGV4KTtcbiAgICAgIHZhciB0eXBlcyA9IHBhcmFtXG4gICAgICAgICAgPyBleGNsdWRlQ29udmVyc2lvbnNcbiAgICAgICAgICAgICAgICAgID8gcGFyYW0udHlwZXMuZmlsdGVyKGlzRXhhY3RUeXBlKVxuICAgICAgICAgICAgICAgICAgOiBwYXJhbS50eXBlc1xuICAgICAgICAgIDogW107XG5cbiAgICAgIHJldHVybiB0eXBlcy5tYXAoZ2V0VHlwZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgYSB0eXBlXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0eXBlIG5hbWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgaXMgYW4gZXhhY3QgdHlwZSBvciBjb252ZXJzaW9uXG4gICAgICogQHBhcmFtIHtUeXBlfSB0eXBlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIHdoZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0V4YWN0VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdHlwZS5jb252ZXJzaW9uID09PSBudWxsIHx8IHR5cGUuY29udmVyc2lvbiA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgZXJyb3IgbWVzc2FnZXM6IGNyZWF0ZSBhbiBhcnJheSB3aXRoXG4gICAgICogYWxsIGF2YWlsYWJsZSB0eXBlcyBvbiBhIHNwZWNpZmljIGFyZ3VtZW50IGluZGV4LlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gUmV0dXJucyBhbiBhcnJheSB3aXRoIGF2YWlsYWJsZSB0eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRXhwZWN0ZWRQYXJhbXMoc2lnbmF0dXJlcywgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlTmFtZXMgPSB1bmlxKGZsYXRNYXAoc2lnbmF0dXJlcywgZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlLCBpbmRleCwgZmFsc2UpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gKHR5cGVOYW1lcy5pbmRleE9mKCdhbnknKSAhPT0gLTEpID8gWydhbnknXSA6IHR5cGVOYW1lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2FycmF5LjwqPn0gYXJncyAgICAgICAgICBUaGUgYWN0dWFsIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmVbXX0gc2lnbmF0dXJlcyAgQSBsaXN0IHdpdGggYXZhaWxhYmxlIHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtUeXBlRXJyb3J9IFJldHVybnMgYSB0eXBlIGVycm9yIHdpdGggYWRkaXRpb25hbCBkYXRhXG4gICAgICogICAgICAgICAgICAgICAgICAgICBhdHRhY2hlZCB0byBpdCBpbiB0aGUgcHJvcGVydHkgYGRhdGFgXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSwgYXJncywgc2lnbmF0dXJlcykge1xuICAgICAgdmFyIGVyciwgZXhwZWN0ZWQ7XG4gICAgICB2YXIgX25hbWUgPSBuYW1lIHx8ICd1bm5hbWVkJztcblxuICAgICAgLy8gdGVzdCBmb3Igd3JvbmcgdHlwZSBhdCBzb21lIGluZGV4XG4gICAgICB2YXIgbWF0Y2hpbmdTaWduYXR1cmVzID0gc2lnbmF0dXJlcztcbiAgICAgIHZhciBpbmRleDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFyZ3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0TWF0Y2hpbmdEZWZzID0gbWF0Y2hpbmdTaWduYXR1cmVzLmZpbHRlcihmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgdmFyIHRlc3QgPSBjb21waWxlVGVzdChnZXRQYXJhbUF0SW5kZXgoc2lnbmF0dXJlLCBpbmRleCkpO1xuICAgICAgICAgIHJldHVybiAoaW5kZXggPCBzaWduYXR1cmUucGFyYW1zLmxlbmd0aCB8fCBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykpICYmXG4gICAgICAgICAgICAgIHRlc3QoYXJnc1tpbmRleF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobmV4dE1hdGNoaW5nRGVmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBubyBtYXRjaGluZyBzaWduYXR1cmVzIGFueW1vcmUsIHRocm93IGVycm9yIFwid3JvbmcgdHlwZVwiXG4gICAgICAgICAgZXhwZWN0ZWQgPSBtZXJnZUV4cGVjdGVkUGFyYW1zKG1hdGNoaW5nU2lnbmF0dXJlcywgaW5kZXgpO1xuICAgICAgICAgIGlmIChleHBlY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsVHlwZSA9IGZpbmRUeXBlTmFtZShhcmdzW2luZGV4XSk7XG5cbiAgICAgICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgICAgICcgKGV4cGVjdGVkOiAnICsgZXhwZWN0ZWQuam9pbignIG9yICcpICtcbiAgICAgICAgICAgICAgICAnLCBhY3R1YWw6ICcgKyBhY3R1YWxUeXBlICsgJywgaW5kZXg6ICcgKyBpbmRleCArICcpJyk7XG4gICAgICAgICAgICBlcnIuZGF0YSA9IHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd3cm9uZ1R5cGUnLFxuICAgICAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWxUeXBlLFxuICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hdGNoaW5nU2lnbmF0dXJlcyA9IG5leHRNYXRjaGluZ0RlZnM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdGVzdCBmb3IgdG9vIGZldyBhcmd1bWVudHNcbiAgICAgIHZhciBsZW5ndGhzID0gbWF0Y2hpbmdTaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBoYXNSZXN0UGFyYW0oc2lnbmF0dXJlLnBhcmFtcykgPyBJbmZpbml0eSA6IHNpZ25hdHVyZS5wYXJhbXMubGVuZ3RoO1xuICAgICAgfSk7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCBNYXRoLm1pbi5hcHBseShudWxsLCBsZW5ndGhzKSkge1xuICAgICAgICBleHBlY3RlZCA9IG1lcmdlRXhwZWN0ZWRQYXJhbXMobWF0Y2hpbmdTaWduYXR1cmVzLCBpbmRleCk7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBmZXcgYXJndW1lbnRzIGluIGZ1bmN0aW9uICcgKyBfbmFtZSArXG4gICAgICAgICAgICAnIChleHBlY3RlZDogJyArIGV4cGVjdGVkLmpvaW4oJyBvciAnKSArXG4gICAgICAgICAgICAnLCBpbmRleDogJyArIGFyZ3MubGVuZ3RoICsgJyknKTtcbiAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgY2F0ZWdvcnk6ICd0b29GZXdBcmdzJyxcbiAgICAgICAgICBmbjogX25hbWUsXG4gICAgICAgICAgaW5kZXg6IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIC8vIHRlc3QgZm9yIHRvbyBtYW55IGFyZ3VtZW50c1xuICAgICAgdmFyIG1heExlbmd0aCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGxlbmd0aHMpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyBpbiBmdW5jdGlvbiAnICsgX25hbWUgK1xuICAgICAgICAgICAgJyAoZXhwZWN0ZWQ6ICcgKyBtYXhMZW5ndGggKyAnLCBhY3R1YWw6ICcgKyBhcmdzLmxlbmd0aCArICcpJyk7XG4gICAgICAgIGVyci5kYXRhID0ge1xuICAgICAgICAgIGNhdGVnb3J5OiAndG9vTWFueUFyZ3MnLFxuICAgICAgICAgIGZuOiBfbmFtZSxcbiAgICAgICAgICBpbmRleDogYXJncy5sZW5ndGgsXG4gICAgICAgICAgZXhwZWN0ZWRMZW5ndGg6IG1heExlbmd0aFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgICB9XG5cbiAgICAgIGVyciA9IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBvZiB0eXBlIFwiJyArIGFyZ3Muam9pbignLCAnKSArXG4gICAgICAgICAgJ1wiIGRvIG5vdCBtYXRjaCBhbnkgb2YgdGhlIGRlZmluZWQgc2lnbmF0dXJlcyBvZiBmdW5jdGlvbiAnICsgX25hbWUgKyAnLicpO1xuICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgIGNhdGVnb3J5OiAnbWlzbWF0Y2gnLFxuICAgICAgICBhY3R1YWw6IGFyZ3MubWFwKGZpbmRUeXBlTmFtZSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbG93ZXN0IGluZGV4IG9mIGFsbCBleGFjdCB0eXBlcyBvZiBhIHBhcmFtZXRlciAobm8gY29udmVyc2lvbnMpXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsb3dlc3QgdHlwZSBpbiB0eXBlZC50eXBlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldExvd2VzdFR5cGVJbmRleCAocGFyYW0pIHtcbiAgICAgIHZhciBtaW4gPSA5OTk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW0udHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRXhhY3RUeXBlKHBhcmFtLnR5cGVzW2ldKSkge1xuICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcGFyYW0udHlwZXNbaV0udHlwZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGxvd2VzdCBpbmRleCBvZiB0aGUgY29udmVyc2lvbiBvZiBhbGwgdHlwZXMgb2YgdGhlIHBhcmFtZXRlclxuICAgICAqIGhhdmluZyBhIGNvbnZlcnNpb25cbiAgICAgKiBAcGFyYW0ge1BhcmFtfSBwYXJhbVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbG93ZXN0IGluZGV4IG9mIHRoZSBjb252ZXJzaW9ucyBvZiB0aGlzIHR5cGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXggKHBhcmFtKSB7XG4gICAgICB2YXIgbWluID0gOTk5O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNFeGFjdFR5cGUocGFyYW0udHlwZXNbaV0pKSB7XG4gICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBwYXJhbS50eXBlc1tpXS5jb252ZXJzaW9uSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gcGFyYW1zXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0xXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW0yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSByZXR1cm5zIGEgbmVnYXRpdmUgbnVtYmVyIHdoZW4gcGFyYW0xIG11c3QgZ2V0IGEgbG93ZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgIGluZGV4IHRoYW4gcGFyYW0yLCBhIHBvc2l0aXZlIG51bWJlciB3aGVuIHRoZSBvcHBvc2l0ZSxcbiAgICAgKiAgICAgICAgICAgICAgICAgIG9yIHplcm8gd2hlbiBib3RoIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVQYXJhbXMgKHBhcmFtMSwgcGFyYW0yKSB7XG4gICAgICB2YXIgYztcblxuICAgICAgLy8gY29tcGFyZSBoYXZpbmcgYSByZXN0IHBhcmFtZXRlciBvciBub3RcbiAgICAgIGMgPSBwYXJhbTEucmVzdFBhcmFtIC0gcGFyYW0yLnJlc3RQYXJhbTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIGhhdmluZyBjb252ZXJzaW9ucyBvciBub3RcbiAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhwYXJhbTEpIC0gaGFzQ29udmVyc2lvbnMocGFyYW0yKTtcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBpbmRleCBvZiB0aGUgdHlwZXNcbiAgICAgIGMgPSBnZXRMb3dlc3RUeXBlSW5kZXgocGFyYW0xKSAtIGdldExvd2VzdFR5cGVJbmRleChwYXJhbTIpO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXBhcmUgdGhlIGluZGV4IG9mIGFueSBjb252ZXJzaW9uXG4gICAgICByZXR1cm4gZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4KHBhcmFtMSkgLSBnZXRMb3dlc3RDb252ZXJzaW9uSW5kZXgocGFyYW0yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBzaWduYXR1cmVzXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyBhIG5lZ2F0aXZlIG51bWJlciB3aGVuIHBhcmFtMSBtdXN0IGdldCBhIGxvd2VyXG4gICAgICogICAgICAgICAgICAgICAgICBpbmRleCB0aGFuIHBhcmFtMiwgYSBwb3NpdGl2ZSBudW1iZXIgd2hlbiB0aGUgb3Bwb3NpdGUsXG4gICAgICogICAgICAgICAgICAgICAgICBvciB6ZXJvIHdoZW4gYm90aCBhcmUgZXF1YWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlU2lnbmF0dXJlcyAoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGxlbiA9IE1hdGgubWluKHNpZ25hdHVyZTEucGFyYW1zLmxlbmd0aCwgc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoKTtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGM7XG5cbiAgICAgIC8vIGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgYXQgYWxsIG9yIG5vdFxuICAgICAgYyA9IHNpZ25hdHVyZTEucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpIC0gc2lnbmF0dXJlMi5wYXJhbXMuc29tZShoYXNDb252ZXJzaW9ucylcbiAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICAvLyBuZXh0IGNvbXBhcmUgd2hldGhlciB0aGUgcGFyYW1zIGhhdmUgY29udmVyc2lvbnMgb25lIGJ5IG9uZVxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGMgPSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUxLnBhcmFtc1tpXSkgLSBoYXNDb252ZXJzaW9ucyhzaWduYXR1cmUyLnBhcmFtc1tpXSk7XG4gICAgICAgIGlmIChjICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZXMgb2YgdGhlIHBhcmFtcyBvbmUgYnkgb25lXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYyA9IGNvbXBhcmVQYXJhbXMoc2lnbmF0dXJlMS5wYXJhbXNbaV0sIHNpZ25hdHVyZTIucGFyYW1zW2ldKTtcbiAgICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb21wYXJlIHRoZSBudW1iZXIgb2YgcGFyYW1zXG4gICAgICByZXR1cm4gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoIC0gc2lnbmF0dXJlMi5wYXJhbXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYXJhbXMgY29udGFpbmluZyBhbGwgdHlwZXMgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIHRoZSBkZWZpbmVkIHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb252ZXJzaW9uRGVmW119IGNvbnZlcnNpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdHlwZU5hbWVzXG4gICAgICogQHJldHVybiB7Q29udmVyc2lvbkRlZltdfSBSZXR1cm5zIHRoZSBjb252ZXJzaW9ucyB0aGF0IGFyZSBhdmFpbGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBldmVyeSB0eXBlIChpZiBhbnkpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyQ29udmVyc2lvbnMoY29udmVyc2lvbnMsIHR5cGVOYW1lcykge1xuICAgICAgdmFyIG1hdGNoZXMgPSB7fTtcblxuICAgICAgY29udmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29udmVyc2lvbikge1xuICAgICAgICBpZiAodHlwZU5hbWVzLmluZGV4T2YoY29udmVyc2lvbi5mcm9tKSA9PT0gLTEgJiZcbiAgICAgICAgICAgIHR5cGVOYW1lcy5pbmRleE9mKGNvbnZlcnNpb24udG8pICE9PSAtMSAmJlxuICAgICAgICAgICAgIW1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSkge1xuICAgICAgICAgIG1hdGNoZXNbY29udmVyc2lvbi5mcm9tXSA9IGNvbnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcykubWFwKGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzW2Zyb21dO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlcHJvY2VzcyBhcmd1bWVudHMgYmVmb3JlIGNhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uOlxuICAgICAqIC0gaWYgbmVlZGVkIGNvbnZlcnQgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiAtIGluIGNhc2Ugb2YgcmVzdCBwYXJhbWV0ZXJzLCBtb3ZlIHRoZSByZXN0IHBhcmFtZXRlcnMgaW50byBhbiBBcnJheVxuICAgICAqIEBwYXJhbSB7UGFyYW1bXX0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIHdyYXBwZWQgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlQXJnc1ByZXByb2Nlc3NpbmcocGFyYW1zLCBmbikge1xuICAgICAgdmFyIGZuQ29udmVydCA9IGZuO1xuXG4gICAgICAvLyBUT0RPOiBjYW4gd2UgbWFrZSB0aGlzIHdyYXBwZXIgZnVuY3Rpb24gc21hcnRlci9zaW1wbGVyP1xuXG4gICAgICBpZiAocGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgIHZhciByZXN0UGFyYW0gPSBoYXNSZXN0UGFyYW0ocGFyYW1zKTtcbiAgICAgICAgdmFyIGNvbXBpbGVkQ29udmVyc2lvbnMgPSBwYXJhbXMubWFwKGNvbXBpbGVBcmdDb252ZXJzaW9uKVxuXG4gICAgICAgIGZuQ29udmVydCA9IGZ1bmN0aW9uIGNvbnZlcnRBcmdzKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgdmFyIGxhc3QgPSByZXN0UGFyYW0gPyBhcmd1bWVudHMubGVuZ3RoIC0gMSA6IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0OyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBjb21waWxlZENvbnZlcnNpb25zW2ldKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIGFyZ3NbbGFzdF0gPSBhcmd1bWVudHNbbGFzdF0ubWFwKGNvbXBpbGVkQ29udmVyc2lvbnNbbGFzdF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZm5QcmVwcm9jZXNzID0gZm5Db252ZXJ0O1xuICAgICAgaWYgKGhhc1Jlc3RQYXJhbShwYXJhbXMpKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwYXJhbXMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmblByZXByb2Nlc3MgPSBmdW5jdGlvbiBwcmVwcm9jZXNzUmVzdFBhcmFtcyAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZuQ29udmVydC5hcHBseSh0aGlzLFxuICAgICAgICAgICAgICBzbGljZShhcmd1bWVudHMsIDAsIG9mZnNldCkuY29uY2F0KFtzbGljZShhcmd1bWVudHMsIG9mZnNldCldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuUHJlcHJvY2VzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIGNvbnZlcnNpb24gZm9yIGEgcGFyYW1ldGVyIHRvIHRoZSByaWdodCB0eXBlXG4gICAgICogQHBhcmFtIHtQYXJhbX0gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbiB0aGF0IHdpbGwgY29udmVydCBhcmd1bWVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcmdDb252ZXJzaW9uKHBhcmFtKSB7XG4gICAgICB2YXIgdGVzdDAsIHRlc3QxLCBjb252ZXJzaW9uMCwgY29udmVyc2lvbjE7XG4gICAgICB2YXIgdGVzdHMgPSBbXTtcbiAgICAgIHZhciBjb252ZXJzaW9ucyA9IFtdO1xuXG4gICAgICBwYXJhbS50eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlLmNvbnZlcnNpb24pIHtcbiAgICAgICAgICB0ZXN0cy5wdXNoKGZpbmRUeXBlQnlOYW1lKHR5cGUuY29udmVyc2lvbi5mcm9tKS50ZXN0KTtcbiAgICAgICAgICBjb252ZXJzaW9ucy5wdXNoKHR5cGUuY29udmVyc2lvbi5jb252ZXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBvcHRpbWl6ZWQgY29udmVyc2lvbiBmdW5jdGlvbnMgZGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YgY29udmVyc2lvbnNcbiAgICAgIHN3aXRjaCAoY29udmVyc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0ZXN0MCA9IHRlc3RzWzBdXG4gICAgICAgICAgY29udmVyc2lvbjAgPSBjb252ZXJzaW9uc1swXTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY29udmVydEFyZyhhcmcpIHtcbiAgICAgICAgICAgIGlmICh0ZXN0MChhcmcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb252ZXJzaW9uMChhcmcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGVzdDAgPSB0ZXN0c1swXVxuICAgICAgICAgIHRlc3QxID0gdGVzdHNbMV1cbiAgICAgICAgICBjb252ZXJzaW9uMCA9IGNvbnZlcnNpb25zWzBdO1xuICAgICAgICAgIGNvbnZlcnNpb24xID0gY29udmVyc2lvbnNbMV07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBpZiAodGVzdDAoYXJnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2lvbjAoYXJnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRlc3QxKGFyZykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb24xKGFyZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNvbnZlcnRBcmcoYXJnKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb25zW2ldKGFyZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gYXJyYXkgd2l0aCBzaWduYXR1cmVzIGludG8gYSBtYXAgd2l0aCBzaWduYXR1cmVzLFxuICAgICAqIHdoZXJlIHNpZ25hdHVyZXMgd2l0aCB1bmlvbiB0eXBlcyBhcmUgc3BsaXQgaW50byBzZXBhcmF0ZSBzaWduYXR1cmVzXG4gICAgICpcbiAgICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGVyZSBhcmUgY29uZmxpY3RpbmcgdHlwZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2lnbmF0dXJlW119IHNpZ25hdHVyZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAgUmV0dXJucyBhIG1hcCB3aXRoIHNpZ25hdHVyZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMga2V5IGFuZCB0aGUgb3JpZ2luYWwgZnVuY3Rpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhpcyBzaWduYXR1cmUgYXMgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKSB7XG4gICAgICB2YXIgc2lnbmF0dXJlc01hcCA9IHt9O1xuICAgICAgc2lnbmF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWduYXR1cmUpIHtcbiAgICAgICAgaWYgKCFzaWduYXR1cmUucGFyYW1zLnNvbWUoaGFzQ29udmVyc2lvbnMpKSB7XG4gICAgICAgICAgc3BsaXRQYXJhbXMoc2lnbmF0dXJlLnBhcmFtcywgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICBzaWduYXR1cmVzTWFwW3N0cmluZ2lmeVBhcmFtcyhwYXJhbXMpXSA9IHNpZ25hdHVyZS5mbjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzaWduYXR1cmVzTWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHBhcmFtcyB3aXRoIHVuaW9uIHR5cGVzIGluIHRvIHNlcGFyYXRlIHBhcmFtcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHNwbGl0UGFyYW1zKFtbJ0FycmF5JywgJ09iamVjdCddLCBbJ3N0cmluZycsICdSZWdFeHAnXSlcbiAgICAgKiAgICAgLy8gcmV0dXJuczpcbiAgICAgKiAgICAgLy8gW1xuICAgICAqICAgICAvLyAgIFsnQXJyYXknLCAnc3RyaW5nJ10sXG4gICAgICogICAgIC8vICAgWydBcnJheScsICdSZWdFeHAnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdzdHJpbmcnXSxcbiAgICAgKiAgICAgLy8gICBbJ09iamVjdCcsICdSZWdFeHAnXVxuICAgICAqICAgICAvLyBdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcmFtW119IHBhcmFtc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlQ29udmVyc2lvblR5cGVzXG4gICAgICogQHJldHVybiB7UGFyYW1bXX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdFBhcmFtcyhwYXJhbXMsIGlnbm9yZUNvbnZlcnNpb25UeXBlcykge1xuICAgICAgZnVuY3Rpb24gX3NwbGl0UGFyYW1zKHBhcmFtcywgaW5kZXgsIHR5cGVzKSB7XG4gICAgICAgIGlmIChpbmRleCA8IHBhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbaW5kZXhdXG4gICAgICAgICAgdmFyIGZpbHRlcmVkVHlwZXMgPSBpZ25vcmVDb252ZXJzaW9uVHlwZXNcbiAgICAgICAgICAgICAgPyBwYXJhbS50eXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICAgIDogcGFyYW0udHlwZXM7XG4gICAgICAgICAgdmFyIHR5cGVHcm91cHNcblxuICAgICAgICAgIGlmIChwYXJhbS5yZXN0UGFyYW0pIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IHRoZSB0eXBlcyBvZiBhIHJlc3QgcGFyYW1ldGVyIGluIHR3bzpcbiAgICAgICAgICAgIC8vIG9uZSB3aXRoIG9ubHkgZXhhY3QgdHlwZXMsIGFuZCBvbmUgd2l0aCBleGFjdCB0eXBlcyBhbmQgY29udmVyc2lvbnNcbiAgICAgICAgICAgIHZhciBleGFjdFR5cGVzID0gZmlsdGVyZWRUeXBlcy5maWx0ZXIoaXNFeGFjdFR5cGUpXG4gICAgICAgICAgICB0eXBlR3JvdXBzID0gZXhhY3RUeXBlcy5sZW5ndGggPCBmaWx0ZXJlZFR5cGVzLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gW2V4YWN0VHlwZXMsIGZpbHRlcmVkVHlwZXNdXG4gICAgICAgICAgICAgICAgOiBbZmlsdGVyZWRUeXBlc11cblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNwbGl0IGFsbCB0aGUgdHlwZXMgb2YgYSByZWd1bGFyIHBhcmFtZXRlciBpbnRvIG9uZSB0eXBlIHBlciBncm91cFxuICAgICAgICAgICAgdHlwZUdyb3VwcyA9IGZpbHRlcmVkVHlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbdHlwZV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVjdXJzZSBvdmVyIHRoZSBncm91cHMgd2l0aCB0eXBlc1xuICAgICAgICAgIHJldHVybiBmbGF0TWFwKHR5cGVHcm91cHMsIGZ1bmN0aW9uICh0eXBlR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3BsaXRQYXJhbXMocGFyYW1zLCBpbmRleCArIDEsIHR5cGVzLmNvbmNhdChbdHlwZUdyb3VwXSkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBwYXJhbWV0ZXJzLiBOb3cgYnVpbGQgYSBuZXcgUGFyYW1cbiAgICAgICAgICB2YXIgc3BsaXR0ZWRQYXJhbXMgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUsIHR5cGVJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZXM6IHR5cGUsXG4gICAgICAgICAgICAgIHJlc3RQYXJhbTogKHR5cGVJbmRleCA9PT0gcGFyYW1zLmxlbmd0aCAtIDEpICYmIGhhc1Jlc3RQYXJhbShwYXJhbXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gW3NwbGl0dGVkUGFyYW1zXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3NwbGl0UGFyYW1zKHBhcmFtcywgMCwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0d28gc2lnbmF0dXJlcyBoYXZlIGEgY29uZmxpY3Rpbmcgc2lnbmF0dXJlXG4gICAgICogQHBhcmFtIHtTaWduYXR1cmV9IHNpZ25hdHVyZTFcbiAgICAgKiBAcGFyYW0ge1NpZ25hdHVyZX0gc2lnbmF0dXJlMlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBzaWduYXR1cmVzIGNvbmZsaWN0LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzQ29uZmxpY3RpbmdQYXJhbXMoc2lnbmF0dXJlMSwgc2lnbmF0dXJlMikge1xuICAgICAgdmFyIGlpID0gTWF0aC5tYXgoc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoLCBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFyIHR5cGVzTmFtZXMxID0gZ2V0RXhwZWN0ZWRUeXBlTmFtZXMoc2lnbmF0dXJlMSwgaSwgdHJ1ZSk7XG4gICAgICAgIHZhciB0eXBlc05hbWVzMiA9IGdldEV4cGVjdGVkVHlwZU5hbWVzKHNpZ25hdHVyZTIsIGksIHRydWUpO1xuXG4gICAgICAgIGlmICghaGFzT3ZlcmxhcCh0eXBlc05hbWVzMSwgdHlwZXNOYW1lczIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW4xID0gc2lnbmF0dXJlMS5wYXJhbXMubGVuZ3RoO1xuICAgICAgdmFyIGxlbjIgPSBzaWduYXR1cmUyLnBhcmFtcy5sZW5ndGg7XG4gICAgICB2YXIgcmVzdFBhcmFtMSA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUxLnBhcmFtcyk7XG4gICAgICB2YXIgcmVzdFBhcmFtMiA9IGhhc1Jlc3RQYXJhbShzaWduYXR1cmUyLnBhcmFtcyk7XG5cbiAgICAgIHJldHVybiByZXN0UGFyYW0xXG4gICAgICAgICAgPyByZXN0UGFyYW0yID8gKGxlbjEgPT09IGxlbjIpIDogKGxlbjIgPj0gbGVuMSlcbiAgICAgICAgICA6IHJlc3RQYXJhbTIgPyAobGVuMSA+PSBsZW4yKSAgOiAobGVuMSA9PT0gbGVuMilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lICAgICAgICAgICAgICAgVGhlIG5hbWUgZm9yIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gc2lnbmF0dXJlc01hcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW4gb2JqZWN0IHdpdGggb25lIG9yXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZSBzaWduYXR1cmVzIGFzIGtleSwgYW5kIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZSBhcyB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gIFJldHVybnMgdGhlIGNyZWF0ZWQgdHlwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc2lnbmF0dXJlc01hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTm8gc2lnbmF0dXJlcyBwcm92aWRlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBwYXJzZSB0aGUgc2lnbmF0dXJlcywgYW5kIGNoZWNrIGZvciBjb25mbGljdHNcbiAgICAgIHZhciBwYXJzZWRTaWduYXR1cmVzID0gW107XG4gICAgICBPYmplY3Qua2V5cyhzaWduYXR1cmVzTWFwKVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNpZ25hdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2lnbmF0dXJlKHNpZ25hdHVyZSwgc2lnbmF0dXJlc01hcFtzaWduYXR1cmVdLCB0eXBlZC5jb252ZXJzaW9ucyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKG5vdE51bGwpXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHBhcnNlZFNpZ25hdHVyZSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIHBhcmFtZXRlciBjb25mbGljdHMgd2l0aCBhbHJlYWR5IHBhcnNlZCBzaWduYXR1cmVzXG4gICAgICAgICAgICB2YXIgY29uZmxpY3RpbmdTaWduYXR1cmUgPSBmaW5kSW5BcnJheShwYXJzZWRTaWduYXR1cmVzLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFzQ29uZmxpY3RpbmdQYXJhbXMocywgcGFyc2VkU2lnbmF0dXJlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY29uZmxpY3RpbmdTaWduYXR1cmUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29uZmxpY3Rpbmcgc2lnbmF0dXJlcyBcIicgK1xuICAgICAgICAgICAgICAgICAgc3RyaW5naWZ5UGFyYW1zKGNvbmZsaWN0aW5nU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIgYW5kIFwiJyArXG4gICAgICAgICAgICAgICAgICBzdHJpbmdpZnlQYXJhbXMocGFyc2VkU2lnbmF0dXJlLnBhcmFtcykgKyAnXCIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlZFNpZ25hdHVyZXMucHVzaChwYXJzZWRTaWduYXR1cmUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAvLyBzcGxpdCBhbmQgZmlsdGVyIHRoZSB0eXBlcyBvZiB0aGUgc2lnbmF0dXJlcywgYW5kIHRoZW4gb3JkZXIgdGhlbVxuICAgICAgdmFyIHNpZ25hdHVyZXMgPSBmbGF0TWFwKHBhcnNlZFNpZ25hdHVyZXMsIGZ1bmN0aW9uIChwYXJzZWRTaWduYXR1cmUpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHBhcnNlZFNpZ25hdHVyZSA/IHNwbGl0UGFyYW1zKHBhcnNlZFNpZ25hdHVyZS5wYXJhbXMsIGZhbHNlKSA6IFtdXG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgIGZuOiBwYXJzZWRTaWduYXR1cmUuZm5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pLmZpbHRlcihub3ROdWxsKTtcblxuICAgICAgc2lnbmF0dXJlcy5zb3J0KGNvbXBhcmVTaWduYXR1cmVzKTtcblxuICAgICAgLy8gd2UgY3JlYXRlIGEgaGlnaGx5IG9wdGltaXplZCBjaGVja3MgZm9yIHRoZSBmaXJzdCBjb3VwbGUgb2Ygc2lnbmF0dXJlcyB3aXRoIG1heCAyIGFyZ3VtZW50c1xuICAgICAgdmFyIG9rMCA9IHNpZ25hdHVyZXNbMF0gJiYgc2lnbmF0dXJlc1swXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzBdLnBhcmFtcyk7XG4gICAgICB2YXIgb2sxID0gc2lnbmF0dXJlc1sxXSAmJiBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbMV0ucGFyYW1zKTtcbiAgICAgIHZhciBvazIgPSBzaWduYXR1cmVzWzJdICYmIHNpZ25hdHVyZXNbMl0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1syXS5wYXJhbXMpO1xuICAgICAgdmFyIG9rMyA9IHNpZ25hdHVyZXNbM10gJiYgc2lnbmF0dXJlc1szXS5wYXJhbXMubGVuZ3RoIDw9IDIgJiYgIWhhc1Jlc3RQYXJhbShzaWduYXR1cmVzWzNdLnBhcmFtcyk7XG4gICAgICB2YXIgb2s0ID0gc2lnbmF0dXJlc1s0XSAmJiBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggPD0gMiAmJiAhaGFzUmVzdFBhcmFtKHNpZ25hdHVyZXNbNF0ucGFyYW1zKTtcbiAgICAgIHZhciBvazUgPSBzaWduYXR1cmVzWzVdICYmIHNpZ25hdHVyZXNbNV0ucGFyYW1zLmxlbmd0aCA8PSAyICYmICFoYXNSZXN0UGFyYW0oc2lnbmF0dXJlc1s1XS5wYXJhbXMpO1xuICAgICAgdmFyIGFsbE9rID0gb2swICYmIG9rMSAmJiBvazIgJiYgb2szICYmIG9rNCAmJiBvazU7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIHRlc3RzXG4gICAgICB2YXIgdGVzdHMgPSBzaWduYXR1cmVzLm1hcChmdW5jdGlvbiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlVGVzdHMoc2lnbmF0dXJlLnBhcmFtcyk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRlc3QwMCA9IG9rMCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QxMCA9IG9rMSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QyMCA9IG9rMiA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbMl0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3QzMCA9IG9rMyA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbM10ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q0MCA9IG9rNCA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNF0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuICAgICAgdmFyIHRlc3Q1MCA9IG9rNSA/IGNvbXBpbGVUZXN0KHNpZ25hdHVyZXNbNV0ucGFyYW1zWzBdKSA6IG5vdE9rO1xuXG4gICAgICB2YXIgdGVzdDAxID0gb2swID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1swXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDExID0gb2sxID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1sxXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDIxID0gb2syID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1syXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDMxID0gb2szID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1szXS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDQxID0gb2s0ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s0XS5wYXJhbXNbMV0pIDogbm90T2s7XG4gICAgICB2YXIgdGVzdDUxID0gb2s1ID8gY29tcGlsZVRlc3Qoc2lnbmF0dXJlc1s1XS5wYXJhbXNbMV0pIDogbm90T2s7XG5cbiAgICAgIC8vIGNvbXBpbGUgdGhlIGZ1bmN0aW9uc1xuICAgICAgdmFyIGZucyA9IHNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uKHNpZ25hdHVyZSkge1xuICAgICAgICByZXR1cm4gY29tcGlsZUFyZ3NQcmVwcm9jZXNzaW5nKHNpZ25hdHVyZS5wYXJhbXMsIHNpZ25hdHVyZS5mbik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGZuMCA9IG9rMCA/IGZuc1swXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMSA9IG9rMSA/IGZuc1sxXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMiA9IG9rMiA/IGZuc1syXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuMyA9IG9rMyA/IGZuc1szXSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNCA9IG9rNCA/IGZuc1s0XSA6IHVuZGVmO1xuICAgICAgdmFyIGZuNSA9IG9rNSA/IGZuc1s1XSA6IHVuZGVmO1xuXG4gICAgICB2YXIgbGVuMCA9IG9rMCA/IHNpZ25hdHVyZXNbMF0ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjEgPSBvazEgPyBzaWduYXR1cmVzWzFdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW4yID0gb2syID8gc2lnbmF0dXJlc1syXS5wYXJhbXMubGVuZ3RoIDogLTE7XG4gICAgICB2YXIgbGVuMyA9IG9rMyA/IHNpZ25hdHVyZXNbM10ucGFyYW1zLmxlbmd0aCA6IC0xO1xuICAgICAgdmFyIGxlbjQgPSBvazQgPyBzaWduYXR1cmVzWzRdLnBhcmFtcy5sZW5ndGggOiAtMTtcbiAgICAgIHZhciBsZW41ID0gb2s1ID8gc2lnbmF0dXJlc1s1XS5wYXJhbXMubGVuZ3RoIDogLTE7XG5cbiAgICAgIC8vIHNpbXBsZSBhbmQgZ2VuZXJpYywgYnV0IGFsc28gc2xvd1xuICAgICAgdmFyIGlTdGFydCA9IGFsbE9rID8gNiA6IDA7XG4gICAgICB2YXIgaUVuZCA9IHNpZ25hdHVyZXMubGVuZ3RoO1xuICAgICAgdmFyIGdlbmVyaWMgPSBmdW5jdGlvbiBnZW5lcmljKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGlTdGFydDsgaSA8IGlFbmQ7IGkrKykge1xuICAgICAgICAgIGlmICh0ZXN0c1tpXShhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm5zW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IobmFtZSwgYXJndW1lbnRzLCBzaWduYXR1cmVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgLy8gZmFzdCwgc3BlY2lhbGl6ZWQgdmVyc2lvbi4gRmFsbHMgYmFjayB0byB0aGUgc2xvd2VyLCBnZW5lcmljIG9uZSBpZiBuZWVkZWRcbiAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4wICYmIHRlc3QwMChhcmcwKSAmJiB0ZXN0MDEoYXJnMSkpIHsgcmV0dXJuIGZuMC5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuMSAmJiB0ZXN0MTAoYXJnMCkgJiYgdGVzdDExKGFyZzEpKSB7IHJldHVybiBmbjEuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjIgJiYgdGVzdDIwKGFyZzApICYmIHRlc3QyMShhcmcxKSkgeyByZXR1cm4gZm4yLmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSBsZW4zICYmIHRlc3QzMChhcmcwKSAmJiB0ZXN0MzEoYXJnMSkpIHsgcmV0dXJuIGZuMy5hcHBseShmbiwgYXJndW1lbnRzKTsgfVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gbGVuNCAmJiB0ZXN0NDAoYXJnMCkgJiYgdGVzdDQxKGFyZzEpKSB7IHJldHVybiBmbjQuYXBwbHkoZm4sIGFyZ3VtZW50cyk7IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IGxlbjUgJiYgdGVzdDUwKGFyZzApICYmIHRlc3Q1MShhcmcxKSkgeyByZXR1cm4gZm41LmFwcGx5KGZuLCBhcmd1bWVudHMpOyB9XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyaWMuYXBwbHkoZm4sIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBuYW1lIHRoZSB0eXBlZCBmdW5jdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZTogbmFtZX0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBvbGQgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgT2JqZWN0LmRlZmluZVByb3BlcnR5IGFuZCBzb21lIGRvbid0IHN1cHBvcnQgc2V0dGluZyB0aGUgbmFtZSBwcm9wZXJ0eVxuICAgICAgICAvLyB0aGUgZnVuY3Rpb24gbmFtZSBpcyBub3QgZXNzZW50aWFsIGZvciB0aGUgZnVuY3Rpb25pbmcsIGl0J3MgbW9zdGx5IHVzZWZ1bCBmb3IgZGVidWdnaW5nLFxuICAgICAgICAvLyBzbyBpdCdzIGZpbmUgdG8gaGF2ZSB1bm5hbWVkIGZ1bmN0aW9ucy5cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIHNpZ25hdHVyZXMgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICBmbi5zaWduYXR1cmVzID0gY3JlYXRlU2lnbmF0dXJlc01hcChzaWduYXR1cmVzKTtcblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHR5cGUgc2hvdWxkIGJlIE5PVCBiZSBpZ25vcmVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVOYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3RJZ25vcmUodHlwZU5hbWUpIHtcbiAgICAgIHJldHVybiB0eXBlZC5pZ25vcmUuaW5kZXhPZih0eXBlTmFtZSkgPT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaW0gYSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBzdHJpbmcgaXMgbm90IGVtcHR5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90RW1wdHkoc3RyKSB7XG4gICAgICByZXR1cm4gISFzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGVzdCB3aGV0aGVyIGEgdmFsdWUgaXMgbm90IHN0cmljdCBlcXVhbCB0byBudWxsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm90TnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIHBhcmFtZXRlciBoYXMgbm8gdHlwZXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSB7UGFyYW19IHBhcmFtXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludmFsaWRQYXJhbSAocGFyYW0pIHtcbiAgICAgIHJldHVybiBwYXJhbS50eXBlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBidXQgdGhlIGxhc3QgaXRlbXMgb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycikge1xuICAgICAgcmV0dXJuIGFyci5zbGljZSgwLCBhcnIubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBsYXN0IGl0ZW0gb2YgYW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbGljZSBhbiBhcnJheSBvciBmdW5jdGlvbiBBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0ge0FycmF5IHwgQXJndW1lbnRzIHwgSUFyZ3VtZW50c30gYXJyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgc29tZSBpdGVtXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IGl0ZW1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYXJyYXkgY29udGFpbnMgaXRlbSwgZmFsc2UgaWYgbm90LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKGFycmF5LCBpdGVtKSB7XG4gICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBhcnJheXMgaGF2ZSBvdmVybGFwcGluZyBpdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGF0IGxlYXN0IG9uZSBpdGVtIGV4aXN0cyBpbiBib3RoIGFycmF5c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc092ZXJsYXAoYXJyYXkxLCBhcnJheTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb250YWlucyhhcnJheTIsIGFycmF5MVtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBmaXJzdCBpdGVtIGZyb20gYW4gYXJyYXkgZm9yIHdoaWNoIHRlc3QoYXJyW2ldKSByZXR1cm5zIHRydWVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB0ZXN0XG4gICAgICogQHJldHVybiB7KiB8IHVuZGVmaW5lZH0gUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hpbmcgaXRlbVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHVuZGVmaW5lZCB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluQXJyYXkoYXJyLCB0ZXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGVzdChhcnJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGFycltpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdW5pcXVlIGl0ZW1zIG9mIGFuIGFycmF5IHdpdGggc3RyaW5nc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGFyclxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHt9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbnRyaWVzW2FycltpXV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVudHJpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXQgbWFwIHRoZSByZXN1bHQgaW52b2tpbmcgYSBjYWxsYmFjayBmb3IgZXZlcnkgaXRlbSBpbiBhbiBhcnJheS5cbiAgICAgKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9zYW1naWxlcy83NjJlZTMzN2RmZjQ4NjIzZTcyOVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChhcnIsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyLm1hcChjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBmdW5jdGlvbiBuYW1lIGZyb20gYSBzZXQgb2YgdHlwZWQgZnVuY3Rpb25zLFxuICAgICAqIGFuZCBjaGVjayB3aGV0aGVyIHRoZSBuYW1lIG9mIGFsbCBmdW5jdGlvbnMgbWF0Y2ggKGlmIGdpdmVuKVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb25bXX0gZm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmFtZSAoZm5zKSB7XG4gICAgICB2YXIgbmFtZSA9ICcnO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm4gPSBmbnNbaV07XG5cbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgbmFtZXMgYXJlIHRoZSBzYW1lIHdoZW4gZGVmaW5lZFxuICAgICAgICBpZiAoKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgZm4uc2lnbmF0dXJlID09PSAnc3RyaW5nJykgJiYgZm4ubmFtZSAhPT0gJycpIHtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChuYW1lICE9PSBmbi5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGdW5jdGlvbiBuYW1lcyBkbyBub3QgbWF0Y2ggKGV4cGVjdGVkOiAnICsgbmFtZSArICcsIGFjdHVhbDogJyArIGZuLm5hbWUgKyAnKScpO1xuICAgICAgICAgICAgZXJyLmRhdGEgPSB7XG4gICAgICAgICAgICAgIGFjdHVhbDogZm4ubmFtZSxcbiAgICAgICAgICAgICAgZXhwZWN0ZWQ6IG5hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIC8vIGV4dHJhY3QgYW5kIG1lcmdlIGFsbCBzaWduYXR1cmVzIG9mIGEgbGlzdCB3aXRoIHR5cGVkIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGV4dHJhY3RTaWduYXR1cmVzKGZucykge1xuICAgICAgdmFyIGVycjtcbiAgICAgIHZhciBzaWduYXR1cmVzTWFwID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlVW5pcXVlKF9zaWduYXR1cmUsIF9mbikge1xuICAgICAgICBpZiAoc2lnbmF0dXJlc01hcC5oYXNPd25Qcm9wZXJ0eShfc2lnbmF0dXJlKSAmJiBfZm4gIT09IHNpZ25hdHVyZXNNYXBbX3NpZ25hdHVyZV0pIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ1NpZ25hdHVyZSBcIicgKyBfc2lnbmF0dXJlICsgJ1wiIGlzIGRlZmluZWQgdHdpY2UnKTtcbiAgICAgICAgICBlcnIuZGF0YSA9IHtzaWduYXR1cmU6IF9zaWduYXR1cmV9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAvLyBlbHNlOiBib3RoIHNpZ25hdHVyZXMgcG9pbnQgdG8gdGhlIHNhbWUgZnVuY3Rpb24sIHRoYXQncyBmaW5lXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZuID0gZm5zW2ldO1xuXG4gICAgICAgIC8vIHRlc3Qgd2hldGhlciB0aGlzIGlzIGEgdHlwZWQtZnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIG1lcmdlIHRoZSBzaWduYXR1cmVzXG4gICAgICAgICAgZm9yICh2YXIgc2lnbmF0dXJlIGluIGZuLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIGlmIChmbi5zaWduYXR1cmVzLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVVbmlxdWUoc2lnbmF0dXJlLCBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV0pO1xuICAgICAgICAgICAgICBzaWduYXR1cmVzTWFwW3NpZ25hdHVyZV0gPSBmbi5zaWduYXR1cmVzW3NpZ25hdHVyZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmbi5zaWduYXR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsaWRhdGVVbmlxdWUoZm4uc2lnbmF0dXJlLCBmbik7XG4gICAgICAgICAgc2lnbmF0dXJlc01hcFtmbi5zaWduYXR1cmVdID0gZm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXJyID0gbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gaXMgbm8gdHlwZWQtZnVuY3Rpb24gKGluZGV4OiAnICsgaSArICcpJyk7XG4gICAgICAgICAgZXJyLmRhdGEgPSB7aW5kZXg6IGl9O1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2lnbmF0dXJlc01hcDtcbiAgICB9XG5cbiAgICB0eXBlZCA9IGNyZWF0ZVR5cGVkRnVuY3Rpb24oJ3R5cGVkJywge1xuICAgICAgJ3N0cmluZywgT2JqZWN0JzogY3JlYXRlVHlwZWRGdW5jdGlvbixcbiAgICAgICdPYmplY3QnOiBmdW5jdGlvbiAoc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAvLyBmaW5kIGV4aXN0aW5nIG5hbWVcbiAgICAgICAgdmFyIGZucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBzaWduYXR1cmUgaW4gc2lnbmF0dXJlc01hcCkge1xuICAgICAgICAgIGlmIChzaWduYXR1cmVzTWFwLmhhc093blByb3BlcnR5KHNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgIGZucy5wdXNoKHNpZ25hdHVyZXNNYXBbc2lnbmF0dXJlXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gZ2V0TmFtZShmbnMpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZWRGdW5jdGlvbihuYW1lLCBzaWduYXR1cmVzTWFwKTtcbiAgICAgIH0sXG4gICAgICAnLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAoZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKGdldE5hbWUoZm5zKSwgZXh0cmFjdFNpZ25hdHVyZXMoZm5zKSk7XG4gICAgICB9LFxuICAgICAgJ3N0cmluZywgLi4uRnVuY3Rpb24nOiBmdW5jdGlvbiAobmFtZSwgZm5zKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVUeXBlZEZ1bmN0aW9uKG5hbWUsIGV4dHJhY3RTaWduYXR1cmVzKGZucykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHlwZWQuY3JlYXRlID0gY3JlYXRlO1xuICAgIHR5cGVkLnR5cGVzID0gX3R5cGVzO1xuICAgIHR5cGVkLmNvbnZlcnNpb25zID0gX2NvbnZlcnNpb25zO1xuICAgIHR5cGVkLmlnbm9yZSA9IF9pZ25vcmU7XG4gICAgdHlwZWQuY29udmVydCA9IGNvbnZlcnQ7XG4gICAgdHlwZWQuZmluZCA9IGZpbmQ7XG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSB0eXBlXG4gICAgICogQHBhcmFtIHt7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn19IHR5cGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtiZWZvcmVPYmplY3RUZXN0PXRydWVdXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsIHRoZSBuZXcgdGVzdCB3aWxsIGJlIGluc2VydGVkIGJlZm9yZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdGVzdCB3aXRoIG5hbWUgJ09iamVjdCcgKGlmIGFueSksIHNpbmNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RzIGZvciBPYmplY3QgbWF0Y2ggQXJyYXkgYW5kIGNsYXNzZXMgdG9vLlxuICAgICAqL1xuICAgIHR5cGVkLmFkZFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgYmVmb3JlT2JqZWN0VGVzdCkge1xuICAgICAgaWYgKCF0eXBlIHx8IHR5cGVvZiB0eXBlLm5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlLnRlc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7bmFtZTogc3RyaW5nLCB0ZXN0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGJlZm9yZU9iamVjdFRlc3QgIT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQudHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodHlwZWQudHlwZXNbaV0ubmFtZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIHR5cGVkLnR5cGVzLnNwbGljZShpLCAwLCB0eXBlKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0eXBlZC50eXBlcy5wdXNoKHR5cGUpO1xuICAgIH07XG5cbiAgICAvLyBhZGQgYSBjb252ZXJzaW9uXG4gICAgdHlwZWQuYWRkQ29udmVyc2lvbiA9IGZ1bmN0aW9uIChjb252ZXJzaW9uKSB7XG4gICAgICBpZiAoIWNvbnZlcnNpb25cbiAgICAgICAgICB8fCB0eXBlb2YgY29udmVyc2lvbi5mcm9tICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLnRvICE9PSAnc3RyaW5nJ1xuICAgICAgICAgIHx8IHR5cGVvZiBjb252ZXJzaW9uLmNvbnZlcnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IHdpdGggcHJvcGVydGllcyB7ZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBjb252ZXJ0OiBmdW5jdGlvbn0gZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdHlwZWQuY29udmVyc2lvbnMucHVzaChjb252ZXJzaW9uKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHR5cGVkO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZSgpO1xufSkpO1xuIiwiaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbi8qKlxuICogQHR5cGVkZWYge3tzaWduOiAnKycgfCAnLScgfCAnJywgY29lZmZpY2llbnRzOiBudW1iZXJbXSwgZXhwb25lbnQ6IG51bWJlcn19IFNwbGl0VmFsdWVcbiAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgbnVtYmVyIGlzIGludGVnZXJcbiAqIEBwYXJhbSB7bnVtYmVyIHwgYm9vbGVhbn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzSW50ZWdlclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgPT09IE1hdGgucm91bmQodmFsdWUpIDogZmFsc2U7IC8vIE5vdGU6IHdlIHVzZSA9PSwgbm90ID09PSwgYXMgd2UgY2FuIGhhdmUgQm9vbGVhbnMgYXMgd2VsbFxufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpZ24gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2lnbiA9IC8qICNfX1BVUkVfXyAqL01hdGguc2lnbiB8fCBmdW5jdGlvbiAoeCkge1xuICBpZiAoeCA+IDApIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmICh4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTIgbG9nYXJpdGhtIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGxvZzIgPSAvKiAjX19QVVJFX18gKi9NYXRoLmxvZzIgfHwgZnVuY3Rpb24gbG9nMih4KSB7XG4gIHJldHVybiBNYXRoLmxvZyh4KSAvIE1hdGguTE4yO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBiYXNlLTEwIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxMCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMTAgfHwgZnVuY3Rpb24gbG9nMTAoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCkgLyBNYXRoLkxOMTA7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgbnVtYmVyICsgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBsb2cxcCA9IC8qICNfX1BVUkVfXyAqL01hdGgubG9nMXAgfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHggKyAxKTtcbn07XG4vKipcbiAqIENhbGN1bGF0ZSBjdWJpYyByb290IGZvciBhIG51bWJlclxuICpcbiAqIENvZGUgZnJvbSBlczYtc2hpbS5qczpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9lczYtc2hpbS9ibG9iL21hc3Rlci9lczYtc2hpbS5qcyNMMTU2NC1MMTU3N1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjdWJpYyByb290IG9mIHhcbiAqL1xuXG5leHBvcnQgdmFyIGNicnQgPSAvKiAjX19QVVJFX18gKi9NYXRoLmNicnQgfHwgZnVuY3Rpb24gY2JydCh4KSB7XG4gIGlmICh4ID09PSAwKSB7XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICB2YXIgbmVnYXRlID0geCA8IDA7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKG5lZ2F0ZSkge1xuICAgIHggPSAteDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZSh4KSkge1xuICAgIHJlc3VsdCA9IE1hdGguZXhwKE1hdGgubG9nKHgpIC8gMyk7IC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3ViZV9yb290I051bWVyaWNhbF9tZXRob2RzXG5cbiAgICByZXN1bHQgPSAoeCAvIChyZXN1bHQgKiByZXN1bHQpICsgMiAqIHJlc3VsdCkgLyAzO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHg7XG4gIH1cblxuICByZXR1cm4gbmVnYXRlID8gLXJlc3VsdCA6IHJlc3VsdDtcbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgZXhwb25lbnRpYXRpb24gbWludXMgMVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn0gcmVzXG4gKi9cblxuZXhwb3J0IHZhciBleHBtMSA9IC8qICNfX1BVUkVfXyAqL01hdGguZXhwbTEgfHwgZnVuY3Rpb24gZXhwbTEoeCkge1xuICByZXR1cm4geCA+PSAyZS00IHx8IHggPD0gLTJlLTQgPyBNYXRoLmV4cCh4KSAtIDEgOiB4ICsgeCAqIHggLyAyICsgeCAqIHggKiB4IC8gNjtcbn07XG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgdG8gYSBmb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICBmb3JtYXQodmFsdWUpXG4gKiAgICBmb3JtYXQodmFsdWUsIG9wdGlvbnMpXG4gKiAgICBmb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqICAgIGZvcm1hdCh2YWx1ZSwgZm4pXG4gKlxuICogV2hlcmU6XG4gKlxuICogICAge251bWJlcn0gdmFsdWUgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gKiAgICB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gKiAgICAgICAgICAgICAgICAgICAgIHtzdHJpbmd9IG5vdGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIgbm90YXRpb24uIENob29zZSBmcm9tOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpeGVkJyAgICAgICAgICBBbHdheXMgdXNlIHJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2V4cG9uZW50aWFsJyAgICBBbHdheXMgdXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMS4yMzRlKzInIGFuZCAnMS40ZSs3J1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJyAgICBBbHdheXMgdXNlIGVuZ2luZWVyaW5nIG5vdGF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjRlKzAnIGFuZCAnMTQuMGUrNidcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvJyAoZGVmYXVsdCkgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGxvd2VyRXhwYCBhbmQgYHVwcGVyRXhwYCBib3VuZHMsIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzIGV4cG9uZW50aWFsIG5vdGF0aW9uIGVsc2V3aGVyZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93ZXIgYm91bmQgaXMgaW5jbHVkZWQsIHVwcGVyIGJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGV4Y2x1ZGVkLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICogICAgICAgICAgICAgICAgICAgICB7bnVtYmVyfSBwcmVjaXNpb24gICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbnMgJ2V4cG9uZW50aWFsJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VuZ2luZWVyaW5nJywgYW5kICdhdXRvJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgdG90YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyByZXR1cm5lZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmlmaWNhbnQgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgcHJlY2lzaW9uYCBpcyB1bmRlZmluZWQgYnkgZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IHJvdW5kaW5nIGFueSBkaWdpdHMuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTIuMDcxLCB7bm90YXRpb246ICdmaXhlZCd9KSAgICAgICAgICAgICAgICAvLyAnMTInXG4gKiAgICBmb3JtYXQoMi4zLCAgICB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogMn0pICAvLyAnMi4zMCdcbiAqICAgIGZvcm1hdCg1Mi44LCAgIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgIC8vICc1LjI4ZSsxJ1xuICogICAgZm9ybWF0KDEyMzQ1Njc4LCB7bm90YXRpb246ICdlbmdpbmVlcmluZyd9KSAgICAgICAgLy8gJzEyLjM0NTY3OGUrNidcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gaGFuZGxlIGZvcm1hdCh2YWx1ZSwgZm4pXG4gICAgcmV0dXJuIG9wdGlvbnModmFsdWUpO1xuICB9IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2VzXG5cblxuICBpZiAodmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuICdJbmZpbml0eSc7XG4gIH0gZWxzZSBpZiAodmFsdWUgPT09IC1JbmZpbml0eSkge1xuICAgIHJldHVybiAnLUluZmluaXR5JztcbiAgfSBlbHNlIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ05hTic7XG4gIH0gLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG9wdGlvbnNcblxuXG4gIHZhciBub3RhdGlvbiA9ICdhdXRvJztcbiAgdmFyIHByZWNpc2lvbjtcblxuICBpZiAob3B0aW9ucykge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMpKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIob3B0aW9ucy5wcmVjaXNpb24pKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9zIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG4gICAgICByZXR1cm4gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucyAmJiBvcHRpb25zKS5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaWdpdHMgPSBhcmd1bWVudHNbMl07XG4gICAgICAgIHZhciBlID0gYXJndW1lbnRzWzRdO1xuICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBub3RhdGlvbiBcIicgKyBub3RhdGlvbiArICdcIi4gJyArICdDaG9vc2UgXCJhdXRvXCIsIFwiZXhwb25lbnRpYWxcIiwgb3IgXCJmaXhlZFwiLicpO1xuICB9XG59XG4vKipcbiAqIFNwbGl0IGEgbnVtYmVyIGludG8gc2lnbiwgY29lZmZpY2llbnRzLCBhbmQgZXhwb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7U3BsaXRWYWx1ZX1cbiAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHNpZ24sIGNvZWZmaWNpZW50cywgYW5kIGV4cG9uZW50XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0TnVtYmVyKHZhbHVlKSB7XG4gIC8vIHBhcnNlIHRoZSBpbnB1dCB2YWx1ZVxuICB2YXIgbWF0Y2ggPSBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkubWF0Y2goL14wKj8oLT8pKFxcZCtcXC4/XFxkKikoZShbKy1dP1xcZCspKT8kLyk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignSW52YWxpZCBudW1iZXIgJyArIHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzaWduID0gbWF0Y2hbMV07XG4gIHZhciBkaWdpdHMgPSBtYXRjaFsyXTtcbiAgdmFyIGV4cG9uZW50ID0gcGFyc2VGbG9hdChtYXRjaFs0XSB8fCAnMCcpO1xuICB2YXIgZG90ID0gZGlnaXRzLmluZGV4T2YoJy4nKTtcbiAgZXhwb25lbnQgKz0gZG90ICE9PSAtMSA/IGRvdCAtIDEgOiBkaWdpdHMubGVuZ3RoIC0gMTtcbiAgdmFyIGNvZWZmaWNpZW50cyA9IGRpZ2l0cy5yZXBsYWNlKCcuJywgJycpIC8vIHJlbW92ZSB0aGUgZG90IChtdXN0IGJlIHJlbW92ZWQgYmVmb3JlIHJlbW92aW5nIGxlYWRpbmcgemVyb3MpXG4gIC5yZXBsYWNlKC9eMCovLCBmdW5jdGlvbiAoemVyb3MpIHtcbiAgICAvLyByZW1vdmUgbGVhZGluZyB6ZXJvcywgYWRkIHRoZWlyIGNvdW50IHRvIHRoZSBleHBvbmVudFxuICAgIGV4cG9uZW50IC09IHplcm9zLmxlbmd0aDtcbiAgICByZXR1cm4gJyc7XG4gIH0pLnJlcGxhY2UoLzAqJC8sICcnKSAvLyByZW1vdmUgdHJhaWxpbmcgemVyb3NcbiAgLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZCk7XG4gIH0pO1xuXG4gIGlmIChjb2VmZmljaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29lZmZpY2llbnRzLnB1c2goMCk7XG4gICAgZXhwb25lbnQrKztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2lnbjogc2lnbixcbiAgICBjb2VmZmljaWVudHM6IGNvZWZmaWNpZW50cyxcbiAgICBleHBvbmVudDogZXhwb25lbnRcbiAgfTtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIHZhciBzcGxpdCA9IHNwbGl0TnVtYmVyKHZhbHVlKTtcbiAgdmFyIHJvdW5kZWQgPSByb3VuZERpZ2l0cyhzcGxpdCwgcHJlY2lzaW9uKTtcbiAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcblxuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzO1xuXG4gIGlmIChpc051bWJlcihwcmVjaXNpb24pKSB7XG4gICAgLy8gYWRkIHplcm9lcyB0byBnaXZlIGNvcnJlY3Qgc2lnIGZpZ3NcbiAgICB3aGlsZSAocHJlY2lzaW9uID4gYy5sZW5ndGggfHwgZSAtIG5ld0V4cCArIDEgPiBjLmxlbmd0aCkge1xuICAgICAgYy5wdXNoKDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb25jYXRlbmF0ZSBjb2VmZmljaWVudHMgd2l0aCBuZWNlc3NhcnkgemVyb3NcbiAgICAvLyBhZGQgemVyb3MgaWYgbmVjZXNzYXJ5IChmb3IgZXhhbXBsZTogMWUrOCAtPiAxMDBlKzYpXG4gICAgdmFyIG1pc3NpbmdaZXJvcyA9IE1hdGguYWJzKGUgLSBuZXdFeHApIC0gKGMubGVuZ3RoIC0gMSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pc3NpbmdaZXJvczsgaSsrKSB7XG4gICAgICBjLnB1c2goMCk7XG4gICAgfVxuICB9IC8vIGZpbmQgZGlmZmVyZW5jZSBpbiBleHBvbmVudHNcblxuXG4gIHZhciBleHBEaWZmID0gTWF0aC5hYnMoZSAtIG5ld0V4cCk7XG4gIHZhciBkZWNpbWFsSWR4ID0gMTsgLy8gcHVzaCBkZWNpbWFsIGluZGV4IG92ZXIgYnkgZXhwRGlmZiB0aW1lc1xuXG4gIHdoaWxlIChleHBEaWZmID4gMCkge1xuICAgIGRlY2ltYWxJZHgrKztcbiAgICBleHBEaWZmLS07XG4gIH0gLy8gaWYgYWxsIGNvZWZmaWNpZW50IHZhbHVlcyBhcmUgemVybyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCBhbmQgcHJlY2lzaW9uIGlzIHVuc2V0LCBkb24ndCBhZGQgYSBkZWNpbWFsIHZhbHVlLlxuICAvLyBvdGhlcndpc2UgY29uY2F0IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGNvZWZmaWNpZW50c1xuXG5cbiAgdmFyIGRlY2ltYWxzID0gYy5zbGljZShkZWNpbWFsSWR4KS5qb2luKCcnKTtcbiAgdmFyIGRlY2ltYWxWYWwgPSBpc051bWJlcihwcmVjaXNpb24pICYmIGRlY2ltYWxzLmxlbmd0aCB8fCBkZWNpbWFscy5tYXRjaCgvWzEtOV0vKSA/ICcuJyArIGRlY2ltYWxzIDogJyc7XG4gIHZhciBzdHIgPSBjLnNsaWNlKDAsIGRlY2ltYWxJZHgpLmpvaW4oJycpICsgZGVjaW1hbFZhbCArICdlJyArIChlID49IDAgPyAnKycgOiAnJykgKyBuZXdFeHAudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIHN0cjtcbn1cbi8qKlxuICogRm9ybWF0IGEgbnVtYmVyIHdpdGggZml4ZWQgbm90YXRpb24uXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPXVuZGVmaW5lZF0gIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWwgcG9pbnQuIG51bGwgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG5cbiAgdmFyIHNwbGl0VmFsdWUgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gdHlwZW9mIHByZWNpc2lvbiA9PT0gJ251bWJlcicgPyByb3VuZERpZ2l0cyhzcGxpdFZhbHVlLCBzcGxpdFZhbHVlLmV4cG9uZW50ICsgMSArIHByZWNpc2lvbikgOiBzcGxpdFZhbHVlO1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzO1xuICB2YXIgcCA9IHJvdW5kZWQuZXhwb25lbnQgKyAxOyAvLyBleHBvbmVudCBtYXkgaGF2ZSBjaGFuZ2VkXG4gIC8vIGFwcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuICB2YXIgcHAgPSBwICsgKHByZWNpc2lvbiB8fCAwKTtcblxuICBpZiAoYy5sZW5ndGggPCBwcCkge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcCAtIGMubGVuZ3RoKSk7XG4gIH0gLy8gcHJlcGVuZCB6ZXJvcyBpZiBuZWVkZWRcblxuXG4gIGlmIChwIDwgMCkge1xuICAgIGMgPSB6ZXJvcygtcCArIDEpLmNvbmNhdChjKTtcbiAgICBwID0gMTtcbiAgfSAvLyBpbnNlcnQgYSBkb3QgaWYgbmVlZGVkXG5cblxuICBpZiAocCA8IGMubGVuZ3RoKSB7XG4gICAgYy5zcGxpY2UocCwgMCwgcCA9PT0gMCA/ICcwLicgOiAnLicpO1xuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQuc2lnbiArIGMuam9pbignJyk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBvbmVudGlhbCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IC8vIHJvdW5kIGlmIG5lZWRlZCwgZWxzZSBjcmVhdGUgYSBjbG9uZVxuXG5cbiAgdmFyIHNwbGl0ID0gc3BsaXROdW1iZXIodmFsdWUpO1xuICB2YXIgcm91bmRlZCA9IHByZWNpc2lvbiA/IHJvdW5kRGlnaXRzKHNwbGl0LCBwcmVjaXNpb24pIDogc3BsaXQ7XG4gIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gIHZhciBlID0gcm91bmRlZC5leHBvbmVudDsgLy8gYXBwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgIGMgPSBjLmNvbmNhdCh6ZXJvcyhwcmVjaXNpb24gLSBjLmxlbmd0aCkpO1xuICB9IC8vIGZvcm1hdCBhcyBgQy5DQ0NlK0VFRWAgb3IgYEMuQ0NDZS1FRUVgXG5cblxuICB2YXIgZmlyc3QgPSBjLnNoaWZ0KCk7XG4gIHJldHVybiByb3VuZGVkLnNpZ24gKyBmaXJzdCArIChjLmxlbmd0aCA+IDAgPyAnLicgKyBjLmpvaW4oJycpIDogJycpICsgJ2UnICsgKGUgPj0gMCA/ICcrJyA6ICcnKSArIGU7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGEgY2VydGFpbiBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249dW5kZWZpbmVkXSBPcHRpb25hbCBudW1iZXIgb2YgZGlnaXRzLlxuICogQHBhcmFtIHt7bG93ZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZCwgdXBwZXJFeHA6IG51bWJlciB8IHVuZGVmaW5lZH19IFtvcHRpb25zXVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCeSBkZWZhdWx0OlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyRXhwID0gLTMgKGluY2wpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXIgPSArNSAoZXhjbClcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9QcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbiwgb3B0aW9ucykge1xuICBpZiAoaXNOYU4odmFsdWUpIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfSAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cblxuXG4gIHZhciBsb3dlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sb3dlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sb3dlckV4cCA6IC0zO1xuICB2YXIgdXBwZXJFeHAgPSBvcHRpb25zICYmIG9wdGlvbnMudXBwZXJFeHAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXBwZXJFeHAgOiA1O1xuICB2YXIgc3BsaXQgPSBzcGxpdE51bWJlcih2YWx1ZSk7XG4gIHZhciByb3VuZGVkID0gcHJlY2lzaW9uID8gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikgOiBzcGxpdDtcblxuICBpZiAocm91bmRlZC5leHBvbmVudCA8IGxvd2VyRXhwIHx8IHJvdW5kZWQuZXhwb25lbnQgPj0gdXBwZXJFeHApIHtcbiAgICAvLyBleHBvbmVudGlhbCBub3RhdGlvblxuICAgIHJldHVybiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICB9IGVsc2Uge1xuICAgIHZhciBjID0gcm91bmRlZC5jb2VmZmljaWVudHM7XG4gICAgdmFyIGUgPSByb3VuZGVkLmV4cG9uZW50OyAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcblxuICAgIGlmIChjLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgICAgYyA9IGMuY29uY2F0KHplcm9zKHByZWNpc2lvbiAtIGMubGVuZ3RoKSk7XG4gICAgfSAvLyBhcHBlbmQgdHJhaWxpbmcgemVyb3NcbiAgICAvLyBUT0RPOiBzaW1wbGlmeSB0aGUgbmV4dCBzdGF0ZW1lbnRcblxuXG4gICAgYyA9IGMuY29uY2F0KHplcm9zKGUgLSBjLmxlbmd0aCArIDEgKyAoYy5sZW5ndGggPCBwcmVjaXNpb24gPyBwcmVjaXNpb24gLSBjLmxlbmd0aCA6IDApKSk7IC8vIHByZXBlbmQgemVyb3NcblxuICAgIGMgPSB6ZXJvcygtZSkuY29uY2F0KGMpO1xuICAgIHZhciBkb3QgPSBlID4gMCA/IGUgOiAwO1xuXG4gICAgaWYgKGRvdCA8IGMubGVuZ3RoIC0gMSkge1xuICAgICAgYy5zcGxpY2UoZG90ICsgMSwgMCwgJy4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmRlZC5zaWduICsgYy5qb2luKCcnKTtcbiAgfVxufVxuLyoqXG4gKiBSb3VuZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBhIG51bWJlciAqXG4gKiBAcGFyYW0ge1NwbGl0VmFsdWV9IHNwbGl0ICAgICAgIEEgdmFsdWUgc3BsaXQgd2l0aCAuc3BsaXROdW1iZXIodmFsdWUpXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uICBBIHBvc2l0aXZlIGludGVnZXJcbiAqIEByZXR1cm4ge1NwbGl0VmFsdWV9XG4gKiAgICAgICAgICAgICAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBzaWduLCBjb2VmZmljaWVudHMsIGFuZCBleHBvbmVudFxuICogICAgICAgICAgICAgIHdpdGggcm91bmRlZCBkaWdpdHNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmREaWdpdHMoc3BsaXQsIHByZWNpc2lvbikge1xuICAvLyBjcmVhdGUgYSBjbG9uZVxuICB2YXIgcm91bmRlZCA9IHtcbiAgICBzaWduOiBzcGxpdC5zaWduLFxuICAgIGNvZWZmaWNpZW50czogc3BsaXQuY29lZmZpY2llbnRzLFxuICAgIGV4cG9uZW50OiBzcGxpdC5leHBvbmVudFxuICB9O1xuICB2YXIgYyA9IHJvdW5kZWQuY29lZmZpY2llbnRzOyAvLyBwcmVwZW5kIHplcm9zIGlmIG5lZWRlZFxuXG4gIHdoaWxlIChwcmVjaXNpb24gPD0gMCkge1xuICAgIGMudW5zaGlmdCgwKTtcbiAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgcHJlY2lzaW9uKys7XG4gIH1cblxuICBpZiAoYy5sZW5ndGggPiBwcmVjaXNpb24pIHtcbiAgICB2YXIgcmVtb3ZlZCA9IGMuc3BsaWNlKHByZWNpc2lvbiwgYy5sZW5ndGggLSBwcmVjaXNpb24pO1xuXG4gICAgaWYgKHJlbW92ZWRbMF0gPj0gNSkge1xuICAgICAgdmFyIGkgPSBwcmVjaXNpb24gLSAxO1xuICAgICAgY1tpXSsrO1xuXG4gICAgICB3aGlsZSAoY1tpXSA9PT0gMTApIHtcbiAgICAgICAgYy5wb3AoKTtcblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIGMudW5zaGlmdCgwKTtcbiAgICAgICAgICByb3VuZGVkLmV4cG9uZW50Kys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaS0tO1xuICAgICAgICBjW2ldKys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWQ7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBhcnJheSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cbmZ1bmN0aW9uIHplcm9zKGxlbmd0aCkge1xuICB2YXIgYXJyID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFyci5wdXNoKDApO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgYSBudW1iZXIuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKiAgIDIuMzQgcmV0dXJucyAzXG4gKiAgIDAuMDAzNCByZXR1cm5zIDJcbiAqICAgMTIwLjVlKzMwIHJldHVybnMgNFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBkaWdpdHMgICBOdW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZGlnaXRzKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKCkucmVwbGFjZSgvZS4qJC8sICcnKSAvLyByZW1vdmUgZXhwb25lbnRpYWwgbm90YXRpb25cbiAgLnJlcGxhY2UoL14wXFwuPzAqfFxcLi8sICcnKSAvLyByZW1vdmUgZGVjaW1hbCBwb2ludCBhbmQgbGVhZGluZyB6ZXJvc1xuICAubGVuZ3RoO1xufVxuLyoqXG4gKiBNaW5pbXVtIG51bWJlciBhZGRlZCB0byBvbmUgdGhhdCBtYWtlcyB0aGUgcmVzdWx0IGRpZmZlcmVudCB0aGFuIG9uZVxuICovXG5cbmV4cG9ydCB2YXIgREJMX0VQU0lMT04gPSBOdW1iZXIuRVBTSUxPTiB8fCAyLjIyMDQ0NjA0OTI1MDMxMzA4MDg0NzI2MzMzNjE4MTZFLTE2O1xuLyoqXG4gKiBDb21wYXJlcyB0d28gZmxvYXRpbmcgcG9pbnQgbnVtYmVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4ICAgICAgICAgIEZpcnN0IHZhbHVlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW2Vwc2lsb25dICBUaGUgbWF4aW11bSByZWxhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4geCBhbmQgeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZXBzaWxvbiBpcyB1bmRlZmluZWQgb3IgbnVsbCwgdGhlIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Qgd2hldGhlciB4IGFuZCB5IGFyZSBleGFjdGx5IGVxdWFsLlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGUgdHdvIG51bWJlcnMgYXJlIG5lYXJseSBlcXVhbFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgLy8gaWYgZXBzaWxvbiBpcyBudWxsIG9yIHVuZGVmaW5lZCwgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWxcbiAgaWYgKGVwc2lsb24gPT09IG51bGwgfHwgZXBzaWxvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHggPT09IHk7XG4gIH1cblxuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5hTlxuXG5cbiAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIGF0IHRoaXMgcG9pbnQgeCBhbmQgeSBzaG91bGQgYmUgZmluaXRlXG5cblxuICBpZiAoaXNGaW5pdGUoeCkgJiYgaXNGaW5pdGUoeSkpIHtcbiAgICAvLyBjaGVjayBudW1iZXJzIGFyZSB2ZXJ5IGNsb3NlLCBuZWVkZWQgd2hlbiBjb21wYXJpbmcgbnVtYmVycyBuZWFyIHplcm9cbiAgICB2YXIgZGlmZiA9IE1hdGguYWJzKHggLSB5KTtcblxuICAgIGlmIChkaWZmIDwgREJMX0VQU0lMT04pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgcmVsYXRpdmUgZXJyb3JcbiAgICAgIHJldHVybiBkaWZmIDw9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh5KSkgKiBlcHNpbG9uO1xuICAgIH1cbiAgfSAvLyBJbmZpbml0ZSBhbmQgTnVtYmVyIG9yIG5lZ2F0aXZlIEluZmluaXRlIGFuZCBwb3NpdGl2ZSBJbmZpbml0ZSBjYXNlc1xuXG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgYXJjY29zIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgYWNvc2ggPSBNYXRoLmFjb3NoIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggLSAxKSArIHgpO1xufTtcbmV4cG9ydCB2YXIgYXNpbmggPSBNYXRoLmFzaW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoeCAqIHggKyAxKSArIHgpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIGFyY3RhbmdlbnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciBhdGFuaCA9IE1hdGguYXRhbmggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKCgxICsgeCkgLyAoMSAtIHgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5leHBvcnQgdmFyIGNvc2ggPSBNYXRoLmNvc2ggfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIChNYXRoLmV4cCh4KSArIE1hdGguZXhwKC14KSkgLyAyO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCB2YXIgc2luaCA9IE1hdGguc2luaCB8fCBmdW5jdGlvbiAoeCkge1xuICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAvIDI7XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IHZhciB0YW5oID0gTWF0aC50YW5oIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHZhciBlID0gTWF0aC5leHAoMiAqIHgpO1xuICByZXR1cm4gKGUgLSAxKSAvIChlICsgMSk7XG59OyIsIi8qKlxuICogQ29udmVydCBhIEJpZ051bWJlciB0byBhIGZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKlxuICogU3ludGF4OlxuICpcbiAqICAgIGZvcm1hdCh2YWx1ZSlcbiAqICAgIGZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAqICAgIGZvcm1hdCh2YWx1ZSwgcHJlY2lzaW9uKVxuICogICAgZm9ybWF0KHZhbHVlLCBmbilcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICB7bnVtYmVyfSB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBiZSBmb3JtYXR0ZWRcbiAqICAgIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLiBBdmFpbGFibGUgb3B0aW9uczpcbiAqICAgICAgICAgICAgICAgICAgICAge3N0cmluZ30gbm90YXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBub3RhdGlvbi4gQ2hvb3NlIGZyb206XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZml4ZWQnICAgICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxMjMuNDAnIGFuZCAnMTQwMDAwMDAnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnZXhwb25lbnRpYWwnICAgIEFsd2F5cyB1c2UgZXhwb25lbnRpYWwgbm90YXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycgKGRlZmF1bHQpIFJlZ3VsYXIgbnVtYmVyIG5vdGF0aW9uIGZvciBudW1iZXJzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhdmluZyBhbiBhYnNvbHV0ZSB2YWx1ZSBiZXR3ZWVuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLCBhbmQgdXNlc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvd2VyIGJvdW5kIGlzIGluY2x1ZGVkLCB1cHBlciBib3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyBleGNsdWRlZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yIGV4YW1wbGUgJzEyMy40JyBhbmQgJzEuNGU3Jy5cbiAqICAgICAgICAgICAgICAgICAgICAge251bWJlcn0gcHJlY2lzaW9uICAgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNiB0byByb3VuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZGlnaXRzIG9mIHRoZSBudW1iZXIuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb25zICdleHBvbmVudGlhbCcsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbmdpbmVlcmluZycsIGFuZCAnYXV0bycsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcmVjaXNpb25gIGRlZmluZXMgdGhlIHRvdGFsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2Ygbm90YXRpb24gJ2ZpeGVkJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgZGVmaW5lcyB0aGUgbnVtYmVyIG9mXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25pZmljYW50IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IGxvd2VyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSBsb3dlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGAtM2AuXG4gKiAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJ9IHVwcGVyRXhwICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGggYW4gZXhwb25lbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgbm90YXRpb249J2F1dG9gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHZhbHVlIGlzIGA1YC5cbiAqICAgIHtGdW5jdGlvbn0gZm4gICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbi4gQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgIGJ1aWx0LWluIG5vdGF0aW9ucy4gRnVuY3Rpb24gYGZuYCBpcyBjYWxsZWQgd2l0aCBgdmFsdWVgIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBhbmQgbXVzdCByZXR1cm4gYSBzdHJpbmcuIElzIHVzZWZ1bCBmb3IgZXhhbXBsZSB0b1xuICogICAgICAgICAgICAgICAgICAgICBmb3JtYXQgYWxsIHZhbHVlcyBpbnNpZGUgYSBtYXRyaXggaW4gYSBwYXJ0aWN1bGFyIHdheS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBmb3JtYXQoNi40KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnNi40J1xuICogICAgZm9ybWF0KDEyNDAwMDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEuMjRlNidcbiAqICAgIGZvcm1hdCgxLzMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gKiAgICBmb3JtYXQoMS8zLCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMC4zMzMnXG4gKiAgICBmb3JtYXQoMjEzODUsIDIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnMjEwMDAnXG4gKiAgICBmb3JtYXQoMTJlOCwge25vdGF0aW9uOiAnZml4ZWQnfSkgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcxMjAwMDAwMDAwJ1xuICogICAgZm9ybWF0KDIuMywgICAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDR9KSAgLy8gcmV0dXJucyAnMi4zMDAwJ1xuICogICAgZm9ybWF0KDUyLjgsICAge25vdGF0aW9uOiAnZXhwb25lbnRpYWwnfSkgICAgICAgICAgLy8gcmV0dXJucyAnNS4yOGUrMSdcbiAqICAgIGZvcm1hdCgxMjQwMCwgIHtub3RhdGlvbjogJ2VuZ2luZWVyaW5nJ30pICAgICAgICAgIC8vIHJldHVybnMgJzEyLjQwMGUrMydcbiAqXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfSBzdHIgVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGhhbmRsZSBmb3JtYXQodmFsdWUsIGZuKVxuICAgIHJldHVybiBvcHRpb25zKHZhbHVlKTtcbiAgfSAvLyBoYW5kbGUgc3BlY2lhbCBjYXNlc1xuXG5cbiAgaWYgKCF2YWx1ZS5pc0Zpbml0ZSgpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmlzTmFOKCkgPyAnTmFOJyA6IHZhbHVlLmd0KDApID8gJ0luZmluaXR5JyA6ICctSW5maW5pdHknO1xuICB9IC8vIGRlZmF1bHQgdmFsdWVzIGZvciBvcHRpb25zXG5cblxuICB2YXIgbm90YXRpb24gPSAnYXV0byc7XG4gIHZhciBwcmVjaXNpb247XG5cbiAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGRldGVybWluZSBub3RhdGlvbiBmcm9tIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5ub3RhdGlvbikge1xuICAgICAgbm90YXRpb24gPSBvcHRpb25zLm5vdGF0aW9uO1xuICAgIH0gLy8gZGV0ZXJtaW5lIHByZWNpc2lvbiBmcm9tIG9wdGlvbnNcblxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgcHJlY2lzaW9uID0gb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJlY2lzaW9uKSB7XG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcbiAgICB9XG4gIH0gLy8gaGFuZGxlIHRoZSB2YXJpb3VzIG5vdGF0aW9uc1xuXG5cbiAgc3dpdGNoIChub3RhdGlvbikge1xuICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgIHJldHVybiB0b0ZpeGVkKHZhbHVlLCBwcmVjaXNpb24pO1xuXG4gICAgY2FzZSAnZXhwb25lbnRpYWwnOlxuICAgICAgcmV0dXJuIHRvRXhwb25lbnRpYWwodmFsdWUsIHByZWNpc2lvbik7XG5cbiAgICBjYXNlICdlbmdpbmVlcmluZyc6XG4gICAgICByZXR1cm4gdG9FbmdpbmVlcmluZyh2YWx1ZSwgcHJlY2lzaW9uKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAge1xuICAgICAgICAvLyBkZXRlcm1pbmUgbG93ZXIgYW5kIHVwcGVyIGJvdW5kIGZvciBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IHN1cHBvcnQgZm9yIHVwcGVyIGFuZCBsb3dlciB0byBiZSBCaWdOdW1iZXJzIHRoZW1zZWx2ZXNcbiAgICAgICAgdmFyIGxvd2VyRXhwID0gb3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyRXhwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxvd2VyRXhwIDogLTM7XG4gICAgICAgIHZhciB1cHBlckV4cCA9IG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckV4cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51cHBlckV4cCA6IDU7IC8vIGhhbmRsZSBzcGVjaWFsIGNhc2UgemVyb1xuXG4gICAgICAgIGlmICh2YWx1ZS5pc1plcm8oKSkgcmV0dXJuICcwJzsgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIG91dHB1dCBleHBvbmVudGlhbCBub3RhdGlvblxuXG4gICAgICAgIHZhciBzdHI7XG4gICAgICAgIHZhciByb3VuZGVkID0gdmFsdWUudG9TaWduaWZpY2FudERpZ2l0cyhwcmVjaXNpb24pO1xuICAgICAgICB2YXIgZXhwID0gcm91bmRlZC5lO1xuXG4gICAgICAgIGlmIChleHAgPj0gbG93ZXJFeHAgJiYgZXhwIDwgdXBwZXJFeHApIHtcbiAgICAgICAgICAvLyBub3JtYWwgbnVtYmVyIG5vdGF0aW9uXG4gICAgICAgICAgc3RyID0gcm91bmRlZC50b0ZpeGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXhwb25lbnRpYWwgbm90YXRpb25cbiAgICAgICAgICBzdHIgPSB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pO1xuICAgICAgICB9IC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvcyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludFxuXG5cbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oKFxcLlxcZCo/KSgwKykpKCR8ZSkvLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGRpZ2l0cyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICB2YXIgZSA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICByZXR1cm4gZGlnaXRzICE9PSAnLicgPyBkaWdpdHMgKyBlIDogZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vdGF0aW9uIFwiJyArIG5vdGF0aW9uICsgJ1wiLiAnICsgJ0Nob29zZSBcImF1dG9cIiwgXCJleHBvbmVudGlhbFwiLCBvciBcImZpeGVkXCIuJyk7XG4gIH1cbn1cbi8qKlxuICogRm9ybWF0IGEgQmlnTnVtYmVyIGluIGVuZ2luZWVyaW5nIG5vdGF0aW9uLiBMaWtlICcxLjIzZSs2JywgJzIuM2UrMCcsICczLjUwMGUtMydcbiAqIEBwYXJhbSB7QmlnTnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb25dICAgICAgICBPcHRpb25hbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZmlndXJlcyB0byByZXR1cm4uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5naW5lZXJpbmcodmFsdWUsIHByZWNpc2lvbikge1xuICAvLyBmaW5kIG5lYXJlc3QgbG93ZXIgbXVsdGlwbGUgb2YgMyBmb3IgZXhwb25lbnRcbiAgdmFyIGUgPSB2YWx1ZS5lO1xuICB2YXIgbmV3RXhwID0gZSAlIDMgPT09IDAgPyBlIDogZSA8IDAgPyBlIC0gMyAtIGUgJSAzIDogZSAtIGUgJSAzOyAvLyBmaW5kIGRpZmZlcmVuY2UgaW4gZXhwb25lbnRzLCBhbmQgY2FsY3VsYXRlIHRoZSB2YWx1ZSB3aXRob3V0IGV4cG9uZW50XG5cbiAgdmFyIHZhbHVlV2l0aG91dEV4cCA9IHZhbHVlLm11bChNYXRoLnBvdygxMCwgLW5ld0V4cCkpO1xuICB2YXIgdmFsdWVTdHIgPSB2YWx1ZVdpdGhvdXRFeHAudG9QcmVjaXNpb24ocHJlY2lzaW9uKTtcblxuICBpZiAodmFsdWVTdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhbHVlU3RyID0gdmFsdWVXaXRob3V0RXhwLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWVTdHIgKyAnZScgKyAoZSA+PSAwID8gJysnIDogJycpICsgbmV3RXhwLnRvU3RyaW5nKCk7XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbi4gTGlrZSAnMS4yM2UrNScsICcyLjNlKzAnLCAnMy41MDBlLTMnXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uXSAgTnVtYmVyIG9mIGRpZ2l0cyBpbiBmb3JtYXR0ZWQgb3V0cHV0LlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXhpbXVtIGF2YWlsYWJsZSBkaWdpdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cG9uZW50aWFsKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgaWYgKHByZWNpc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvRXhwb25lbnRpYWwocHJlY2lzaW9uIC0gMSk7IC8vIE5vdGUgdGhlIG9mZnNldCBvZiBvbmVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWUudG9FeHBvbmVudGlhbCgpO1xuICB9XG59XG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciB3aXRoIGZpeGVkIG5vdGF0aW9uLlxuICogQHBhcmFtIHtCaWdOdW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj11bmRlZmluZWRdIE9wdGlvbmFsIG51bWJlciBvZiBkZWNpbWFscyBhZnRlciB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCBwb2ludC4gVW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbikge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZChwcmVjaXNpb24pO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc1N0cmluZywgdHlwZU9mIH0gZnJvbSAnLi9pcy5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0TnVtYmVyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdEJpZ051bWJlciB9IGZyb20gJy4vYmlnbnVtYmVyL2Zvcm1hdHRlci5qcyc7XG4vKipcbiAqIENoZWNrIGlmIGEgdGV4dCBlbmRzIHdpdGggYSBjZXJ0YWluIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHRleHQsIHNlYXJjaCkge1xuICB2YXIgc3RhcnQgPSB0ZXh0Lmxlbmd0aCAtIHNlYXJjaC5sZW5ndGg7XG4gIHZhciBlbmQgPSB0ZXh0Lmxlbmd0aDtcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpID09PSBzZWFyY2g7XG59XG4vKipcbiAqIEZvcm1hdCBhIHZhbHVlIG9mIGFueSB0eXBlIGludG8gYSBzdHJpbmcuXG4gKlxuICogVXNhZ2U6XG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUpXG4gKiAgICAgbWF0aC5mb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAqXG4gKiBXaGVuIHZhbHVlIGlzIGEgZnVuY3Rpb246XG4gKlxuICogLSBXaGVuIHRoZSBmdW5jdGlvbiBoYXMgYSBwcm9wZXJ0eSBgc3ludGF4YCwgaXQgcmV0dXJucyB0aGlzXG4gKiAgIHN5bnRheCBkZXNjcmlwdGlvbi5cbiAqIC0gSW4gb3RoZXIgY2FzZXMsIGEgc3RyaW5nIGAnZnVuY3Rpb24nYCBpcyByZXR1cm5lZC5cbiAqXG4gKiBXaGVuIGB2YWx1ZWAgaXMgYW4gT2JqZWN0OlxuICpcbiAqIC0gV2hlbiB0aGUgb2JqZWN0IGNvbnRhaW5zIGEgcHJvcGVydHkgYGZvcm1hdGAgYmVpbmcgYSBmdW5jdGlvbiwgdGhpc1xuICogICBmdW5jdGlvbiBpcyBpbnZva2VkIGFzIGB2YWx1ZS5mb3JtYXQob3B0aW9ucylgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICogLSBXaGVuIHRoZSBvYmplY3QgaGFzIGl0cyBvd24gYHRvU3RyaW5nYCBtZXRob2QsIHRoaXMgbWV0aG9kIGlzIGludm9rZWRcbiAqICAgYW5kIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKiAtIEluIG90aGVyIGNhc2VzIHRoZSBmdW5jdGlvbiB3aWxsIGxvb3Agb3ZlciBhbGwgb2JqZWN0IHByb3BlcnRpZXMgYW5kXG4gKiAgIHJldHVybiBKU09OIG9iamVjdCBub3RhdGlvbiBsaWtlICd7XCJhXCI6IDIsIFwiYlwiOiAzfScuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqICAgICBtYXRoLmZvcm1hdCgyLzcpICAgICAgICAgICAgICAgIC8vICcwLjI4NTcxNDI4NTcxNDI4NTcnXG4gKiAgICAgbWF0aC5mb3JtYXQobWF0aC5waSwgMykgICAgICAgICAvLyAnMy4xNCdcbiAqICAgICBtYXRoLmZvcm1hdChuZXcgQ29tcGxleCgyLCAzKSkgIC8vICcyICsgM2knXG4gKiAgICAgbWF0aC5mb3JtYXQoJ2hlbGxvJykgICAgICAgICAgICAvLyAnXCJoZWxsb1wiJ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgICAgICAgICAgICAgVmFsdWUgdG8gYmUgc3RyaW5naWZpZWRcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAoaXNCaWdOdW1iZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEJpZ051bWJlcih2YWx1ZSwgb3B0aW9ucyk7XG4gIH0gLy8gbm90ZTogd2UgdXNlIHVuc2FmZSBkdWNrLXR5cGluZyBoZXJlIHRvIGNoZWNrIGZvciBGcmFjdGlvbnMsIHRoaXMgaXNcbiAgLy8gb2sgaGVyZSBzaW5jZSB3ZSdyZSBvbmx5IGludm9raW5nIHRvU3RyaW5nIG9yIGNvbmNhdGVuYXRpbmcgaXRzIHZhbHVlc1xuXG5cbiAgaWYgKGxvb2tzTGlrZUZyYWN0aW9uKHZhbHVlKSkge1xuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLmZyYWN0aW9uICE9PSAnZGVjaW1hbCcpIHtcbiAgICAgIC8vIG91dHB1dCBhcyByYXRpbywgbGlrZSAnMS8zJ1xuICAgICAgcmV0dXJuIHZhbHVlLnMgKiB2YWx1ZS5uICsgJy8nICsgdmFsdWUuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3V0cHV0IGFzIGRlY2ltYWwsIGxpa2UgJzAuKDMpJ1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdEFycmF5KHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsdWUuc3ludGF4ID8gU3RyaW5nKHZhbHVlLnN5bnRheCkgOiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHZhbHVlLmZvcm1hdChvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHZhbHVlLnRvU3RyaW5nKG9wdGlvbnMpICE9PSB7fS50b1N0cmluZygpKSB7XG4gICAgICAvLyB0aGlzIG9iamVjdCBoYXMgYSBub24tbmF0aXZlIHRvU3RyaW5nIG1ldGhvZCwgdXNlIHRoYXQgb25lXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXModmFsdWUpLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gJ1wiJyArIGtleSArICdcIjogJyArIGZvcm1hdCh2YWx1ZVtrZXldLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICd7JyArIGVudHJpZXMuam9pbignLCAnKSArICd9JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbi8qKlxuICogU3RyaW5naWZ5IGEgdmFsdWUgaW50byBhIHN0cmluZyBlbmNsb3NlZCBpbiBkb3VibGUgcXVvdGVzLlxuICogVW5lc2NhcGVkIGRvdWJsZSBxdW90ZXMgYW5kIGJhY2tzbGFzaGVzIGluc2lkZSB0aGUgdmFsdWUgYXJlIGVzY2FwZWQuXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZSkge1xuICB2YXIgdGV4dCA9IFN0cmluZyh2YWx1ZSk7XG4gIHZhciBlc2NhcGVkID0gJyc7XG4gIHZhciBpID0gMDtcblxuICB3aGlsZSAoaSA8IHRleHQubGVuZ3RoKSB7XG4gICAgdmFyIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYztcbiAgICAgIGkrKztcbiAgICAgIGMgPSB0ZXh0LmNoYXJBdChpKTtcblxuICAgICAgaWYgKGMgPT09ICcnIHx8ICdcIlxcXFwvYmZucnR1Jy5pbmRleE9mKGMpID09PSAtMSkge1xuICAgICAgICBlc2NhcGVkICs9ICdcXFxcJzsgLy8gbm8gdmFsaWQgZXNjYXBlIGNoYXJhY3RlciAtPiBlc2NhcGUgaXRcbiAgICAgIH1cblxuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgZXNjYXBlZCArPSAnXFxcXFwiJztcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjO1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiAnXCInICsgZXNjYXBlZCArICdcIic7XG59XG4vKipcbiAqIEVzY2FwZSBzcGVjaWFsIEhUTUwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUodmFsdWUpIHtcbiAgdmFyIHRleHQgPSBTdHJpbmcodmFsdWUpO1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC8nL2csICcmIzM5OycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG4gIHJldHVybiB0ZXh0O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBmb3JtYXQgYW4gbi1kaW1lbnNpb25hbCBtYXRyaXhcbiAqIEV4YW1wbGUgb3V0cHV0OiBcIltbMSwgMl0sIFszLCA0XV1cIlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoYXJyYXksIG9wdGlvbnMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgdmFyIHN0ciA9ICdbJztcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgc3RyICs9ICcsICc7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBmb3JtYXRBcnJheShhcnJheVtpXSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICddJztcbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtYXQoYXJyYXksIG9wdGlvbnMpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSB2YWx1ZSBsb29rcyBsaWtlIGEgRnJhY3Rpb24gKHVuc2FmZSBkdWNrLXR5cGUgY2hlY2spXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cblxuZnVuY3Rpb24gbG9va3NMaWtlRnJhY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnMgPT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZS5uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUuZCA9PT0gJ251bWJlcicgfHwgZmFsc2U7XG59XG4vKipcbiAqIENvbXBhcmUgdHdvIHN0cmluZ3NcbiAqIEBwYXJhbSB7c3RyaW5nfSB4XG4gKiBAcGFyYW0ge3N0cmluZ30geVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVGV4dCh4LCB5KSB7XG4gIC8vIHdlIGRvbid0IHdhbnQgdG8gY29udmVydCBudW1iZXJzIHRvIHN0cmluZywgb25seSBhY2NlcHQgc3RyaW5nIGlucHV0XG4gIGlmICghaXNTdHJpbmcoeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQgaW4gZnVuY3Rpb24gY29tcGFyZVRleHQgJyArICcoZXhwZWN0ZWQ6IHN0cmluZyBvciBBcnJheSBvciBNYXRyaXgsIGFjdHVhbDogJyArIHR5cGVPZih4KSArICcsIGluZGV4OiAwKScpO1xuICB9XG5cbiAgaWYgKCFpc1N0cmluZyh5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCBpbiBmdW5jdGlvbiBjb21wYXJlVGV4dCAnICsgJyhleHBlY3RlZDogc3RyaW5nIG9yIEFycmF5IG9yIE1hdHJpeCwgYWN0dWFsOiAnICsgdHlwZU9mKHkpICsgJywgaW5kZXg6IDEpJyk7XG4gIH1cblxuICByZXR1cm4geCA9PT0geSA/IDAgOiB4ID4geSA/IDEgOiAtMTtcbn0iLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0RpbWVuc2lvbiBtaXNtYXRjaCAoPGFjdHVhbCBzaXplPiAhPSA8ZXhwZWN0ZWQgc2l6ZT4pJ1xuICogQHBhcmFtIHtudW1iZXIgfCBudW1iZXJbXX0gYWN0dWFsICAgICAgICBUaGUgYWN0dWFsIHNpemVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVtYmVyW119IGV4cGVjdGVkICAgICAgVGhlIGV4cGVjdGVkIHNpemVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcmVsYXRpb249JyE9J10gICAgICAgICAgT3B0aW9uYWwgcmVsYXRpb24gYmV0d2VlbiBhY3R1YWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGV4cGVjdGVkIHNpemU6ICchPScsICc8JywgZXRjLlxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gRGltZW5zaW9uRXJyb3IoYWN0dWFsLCBleHBlY3RlZCwgcmVsYXRpb24pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERpbWVuc2lvbkVycm9yKSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gIH1cblxuICB0aGlzLmFjdHVhbCA9IGFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICB0aGlzLnJlbGF0aW9uID0gcmVsYXRpb247XG4gIHRoaXMubWVzc2FnZSA9ICdEaW1lbnNpb24gbWlzbWF0Y2ggKCcgKyAoQXJyYXkuaXNBcnJheShhY3R1YWwpID8gJ1snICsgYWN0dWFsLmpvaW4oJywgJykgKyAnXScgOiBhY3R1YWwpICsgJyAnICsgKHRoaXMucmVsYXRpb24gfHwgJyE9JykgKyAnICcgKyAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkgPyAnWycgKyBleHBlY3RlZC5qb2luKCcsICcpICsgJ10nIDogZXhwZWN0ZWQpICsgJyknO1xuICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG59XG5EaW1lbnNpb25FcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuRGltZW5zaW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2VFcnJvcjtcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0RpbWVuc2lvbkVycm9yJztcbkRpbWVuc2lvbkVycm9yLnByb3RvdHlwZS5pc0RpbWVuc2lvbkVycm9yID0gdHJ1ZTsiLCIvKipcbiAqIENyZWF0ZSBhIHJhbmdlIGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ0luZGV4IG91dCBvZiByYW5nZSAoaW5kZXggPCBtaW4pJ1xuICogICAgICdJbmRleCBvdXQgb2YgcmFuZ2UgKGluZGV4IDwgbWF4KSdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggICAgIFRoZSBhY3R1YWwgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdICAgTWluaW11bSBpbmRleCAoaW5jbHVkZWQpXG4gKiBAcGFyYW0ge251bWJlcn0gW21heF0gICAgIE1heGltdW0gaW5kZXggKGV4Y2x1ZGVkKVxuICogQGV4dGVuZHMgUmFuZ2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gSW5kZXhFcnJvcihpbmRleCwgbWluLCBtYXgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZGV4RXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgfVxuXG4gIHRoaXMuaW5kZXggPSBpbmRleDtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICB0aGlzLm1pbiA9IDA7XG4gICAgdGhpcy5tYXggPSBtaW47XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gIH1cblxuICBpZiAodGhpcy5taW4gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4IDwgdGhpcy5taW4pIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSAnSW5kZXggb3V0IG9mIHJhbmdlICgnICsgdGhpcy5pbmRleCArICcgPCAnICsgdGhpcy5taW4gKyAnKSc7XG4gIH0gZWxzZSBpZiAodGhpcy5tYXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4ID49IHRoaXMubWF4KSB7XG4gICAgdGhpcy5tZXNzYWdlID0gJ0luZGV4IG91dCBvZiByYW5nZSAoJyArIHRoaXMuaW5kZXggKyAnID4gJyArICh0aGlzLm1heCAtIDEpICsgJyknO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9ICdJbmRleCBvdXQgb2YgcmFuZ2UgKCcgKyB0aGlzLmluZGV4ICsgJyknO1xuICB9XG5cbiAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xufVxuSW5kZXhFcnJvci5wcm90b3R5cGUgPSBuZXcgUmFuZ2VFcnJvcigpO1xuSW5kZXhFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZUVycm9yO1xuSW5kZXhFcnJvci5wcm90b3R5cGUubmFtZSA9ICdJbmRleEVycm9yJztcbkluZGV4RXJyb3IucHJvdG90eXBlLmlzSW5kZXhFcnJvciA9IHRydWU7IiwiaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuL2lzLmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4vc3RyaW5nLmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS5cbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBzaXplIG9mIHRoZSBmaXJzdCBlbnRyeSwgaXQgZG9lcyBub3QgdmFsaWRhdGVcbiAqIHdoZXRoZXIgYWxsIGRpbWVuc2lvbnMgbWF0Y2guICh1c2UgZnVuY3Rpb24gYHZhbGlkYXRlYCBmb3IgdGhhdClcbiAqIEBwYXJhbSB7QXJyYXl9IHhcbiAqIEBSZXR1cm4ge051bWJlcltdfSBzaXplXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5U2l6ZSh4KSB7XG4gIHZhciBzID0gW107XG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICBzLnB1c2goeC5sZW5ndGgpO1xuICAgIHggPSB4WzBdO1xuICB9XG5cbiAgcmV0dXJuIHM7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIGhhcyBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgIEN1cnJlbnQgZGltZW5zaW9uXG4gKiBAdGhyb3dzIERpbWVuc2lvbkVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF92YWxpZGF0ZShhcnJheSwgc2l6ZSwgZGltKSB7XG4gIHZhciBpO1xuICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChsZW4gIT09IHNpemVbZGltXSkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihsZW4sIHNpemVbZGltXSk7XG4gIH1cblxuICBpZiAoZGltIDwgc2l6ZS5sZW5ndGggLSAxKSB7XG4gICAgLy8gcmVjdXJzaXZlbHkgdmFsaWRhdGUgZWFjaCBjaGlsZCBhcnJheVxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoIC0gMSwgc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9XG5cbiAgICAgIF92YWxpZGF0ZShhcnJheVtpXSwgc2l6ZSwgZGltTmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxhc3QgZGltZW5zaW9uLiBub25lIG9mIHRoZSBjaGlsZHMgbWF5IGJlIGFuIGFycmF5XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheVtpXSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoICsgMSwgc2l6ZS5sZW5ndGgsICc+Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgZWFjaCBlbGVtZW50IGluIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgaGFzXG4gKiBhIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgc2l6ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgIEFycmF5IHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHRocm93cyBEaW1lbnNpb25FcnJvclxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFycmF5LCBzaXplKSB7XG4gIHZhciBpc1NjYWxhciA9IHNpemUubGVuZ3RoID09PSAwO1xuXG4gIGlmIChpc1NjYWxhcikge1xuICAgIC8vIHNjYWxhclxuICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFycmF5Lmxlbmd0aCwgMCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGFycmF5XG4gICAgX3ZhbGlkYXRlKGFycmF5LCBzaXplLCAwKTtcbiAgfVxufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgaW5kZXggaXMgYW4gaW50ZWdlciBudW1iZXIgd2l0aCBpbmRleCA+PSAwIGFuZCBpbmRleCA8IGxlbmd0aFxuICogd2hlbiBsZW5ndGggaXMgcHJvdmlkZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAgICBaZXJvLWJhc2VkIGluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTGVuZ3RoIG9mIHRoZSBhcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4KGluZGV4LCBsZW5ndGgpIHtcbiAgaWYgKCFpc051bWJlcihpbmRleCkgfHwgIWlzSW50ZWdlcihpbmRleCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleCBtdXN0IGJlIGFuIGludGVnZXIgKHZhbHVlOiAnICsgaW5kZXggKyAnKScpO1xuICB9XG5cbiAgaWYgKGluZGV4IDwgMCB8fCB0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBpbmRleCA+PSBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgSW5kZXhFcnJvcihpbmRleCwgbGVuZ3RoKTtcbiAgfVxufVxuLyoqXG4gKiBSZXNpemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheS4gVGhlIHJlc2l6ZWQgYXJyYXkgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemUgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHplcm8gYnkgZGVmYXVsdC4gU3BlY2lmeSBmb3IgZXhhbXBsZSBgbnVsbGAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGNsZWFybHkgc2VlIGVudHJpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0LlxuICogQHJldHVybiB7QXJyYXl9IGFycmF5ICAgICAgICAgVGhlIHJlc2l6ZWQgYXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplKGFycmF5LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIHNjYWxhcnMsIGhhdmluZyBzaXplPVtdID9cbiAgLy8gY2hlY2sgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50c1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzaXppbmcgdG8gc2NhbGFyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfSAvLyBjaGVjayB3aGV0aGVyIHNpemUgY29udGFpbnMgcG9zaXRpdmUgaW50ZWdlcnNcblxuXG4gIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSB8fCAhaXNJbnRlZ2VyKHZhbHVlKSB8fCB2YWx1ZSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgIH1cbiAgfSk7IC8vIHJlY3Vyc2l2ZWx5IHJlc2l6ZSB0aGUgYXJyYXlcblxuICB2YXIgX2RlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMDtcblxuICBfcmVzaXplKGFycmF5LCBzaXplLCAwLCBfZGVmYXVsdFZhbHVlKTtcblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHJlc2l6ZSBhIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgIEFycmF5IHRvIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgQXJyYXkgd2l0aCB0aGUgc2l6ZSBvZiBlYWNoIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgICAgICAgICBDdXJyZW50IGRpbWVuc2lvblxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICBWYWx1ZSB0byBiZSBmaWxsZWQgaW4gaW4gbmV3IGVudHJpZXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCBieSBkZWZhdWx0LlxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcmVzaXplKGFycmF5LCBzaXplLCBkaW0sIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgaTtcbiAgdmFyIGVsZW07XG4gIHZhciBvbGRMZW4gPSBhcnJheS5sZW5ndGg7XG4gIHZhciBuZXdMZW4gPSBzaXplW2RpbV07XG4gIHZhciBtaW5MZW4gPSBNYXRoLm1pbihvbGRMZW4sIG5ld0xlbik7IC8vIGFwcGx5IG5ldyBsZW5ndGhcblxuICBhcnJheS5sZW5ndGggPSBuZXdMZW47XG5cbiAgaWYgKGRpbSA8IHNpemUubGVuZ3RoIC0gMSkge1xuICAgIC8vIG5vbi1sYXN0IGRpbWVuc2lvblxuICAgIHZhciBkaW1OZXh0ID0gZGltICsgMTsgLy8gcmVzaXplIGV4aXN0aW5nIGNoaWxkIGFycmF5c1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG1pbkxlbjsgaSsrKSB7XG4gICAgICAvLyByZXNpemUgY2hpbGQgYXJyYXlcbiAgICAgIGVsZW0gPSBhcnJheVtpXTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW0pKSB7XG4gICAgICAgIGVsZW0gPSBbZWxlbV07IC8vIGFkZCBhIGRpbWVuc2lvblxuXG4gICAgICAgIGFycmF5W2ldID0gZWxlbTtcbiAgICAgIH1cblxuICAgICAgX3Jlc2l6ZShlbGVtLCBzaXplLCBkaW1OZXh0LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gLy8gY3JlYXRlIG5ldyBjaGlsZCBhcnJheXNcblxuXG4gICAgZm9yIChpID0gbWluTGVuOyBpIDwgbmV3TGVuOyBpKyspIHtcbiAgICAgIC8vIGdldCBjaGlsZCBhcnJheVxuICAgICAgZWxlbSA9IFtdO1xuICAgICAgYXJyYXlbaV0gPSBlbGVtOyAvLyByZXNpemUgbmV3IGNoaWxkIGFycmF5XG5cbiAgICAgIF9yZXNpemUoZWxlbSwgc2l6ZSwgZGltTmV4dCwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbGFzdCBkaW1lbnNpb25cbiAgICAvLyByZW1vdmUgZGltZW5zaW9ucyBvZiBleGlzdGluZyB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcbiAgICAgIHdoaWxlIChBcnJheS5pc0FycmF5KGFycmF5W2ldKSkge1xuICAgICAgICBhcnJheVtpXSA9IGFycmF5W2ldWzBdO1xuICAgICAgfVxuICAgIH0gLy8gZmlsbCBuZXcgZWxlbWVudHMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZVxuXG5cbiAgICBmb3IgKGkgPSBtaW5MZW47IGkgPCBuZXdMZW47IGkrKykge1xuICAgICAgYXJyYXlbaV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFJlLXNoYXBlIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXkgdG8gZml0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgICAgICAgICAgIEFycmF5IHRvIGJlIHJlc2hhcGVkXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSBzaXplcyAgTGlzdCBvZiBzaXplcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheX0gICAgICAgICAgICAgICBBcnJheSB3aG9zZSBkYXRhIGhhcyBiZWVuIGZvcm1hdHRlZCB0byBmaXQgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkIGRpbWVuc2lvbnNcbiAqXG4gKiBAdGhyb3dzIHtEaW1lbnNpb25FcnJvcn0gICAgICAgSWYgdGhlIHByb2R1Y3Qgb2YgdGhlIG5ldyBkaW1lbnNpb24gc2l6ZXMgZG9lc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBlcXVhbCB0aGF0IG9mIHRoZSBvbGQgb25lc1xuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2hhcGUoYXJyYXksIHNpemVzKSB7XG4gIHZhciBmbGF0QXJyYXkgPSBmbGF0dGVuKGFycmF5KTtcbiAgdmFyIG5ld0FycmF5O1xuXG4gIGZ1bmN0aW9uIHByb2R1Y3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKiBjdXJyKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgIUFycmF5LmlzQXJyYXkoc2l6ZXMpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChzaXplcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoMCwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gIH1cblxuICB2YXIgdG90YWxTaXplID0gMTtcblxuICBmb3IgKHZhciBzaXplSW5kZXggPSAwOyBzaXplSW5kZXggPCBzaXplcy5sZW5ndGg7IHNpemVJbmRleCsrKSB7XG4gICAgdG90YWxTaXplICo9IHNpemVzW3NpemVJbmRleF07XG4gIH1cblxuICBpZiAoZmxhdEFycmF5Lmxlbmd0aCAhPT0gdG90YWxTaXplKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHByb2R1Y3Qoc2l6ZXMpLCBwcm9kdWN0KGFycmF5U2l6ZShhcnJheSkpLCAnIT0nKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3QXJyYXkgPSBfcmVzaGFwZShmbGF0QXJyYXksIHNpemVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRGltZW5zaW9uRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihwcm9kdWN0KHNpemVzKSwgcHJvZHVjdChhcnJheVNpemUoYXJyYXkpKSwgJyE9Jyk7XG4gICAgfVxuXG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHJldHVybiBuZXdBcnJheTtcbn1cbi8qKlxuICogSXRlcmF0aXZlbHkgcmUtc2hhcGUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSB0byBmaXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAgICAgICAgICAgQXJyYXkgdG8gYmUgcmVzaGFwZWRcbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IHNpemVzICBMaXN0IG9mIHNpemVzIGZvciBlYWNoIGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5fSAgICAgICAgICAgICAgIEFycmF5IHdob3NlIGRhdGEgaGFzIGJlZW4gZm9ybWF0dGVkIHRvIGZpdCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQgZGltZW5zaW9uc1xuICovXG5cbmZ1bmN0aW9uIF9yZXNoYXBlKGFycmF5LCBzaXplcykge1xuICAvLyB0ZXN0aW5nIGlmIHRoZXJlIGFyZSBlbm91Z2ggZWxlbWVudHMgZm9yIHRoZSByZXF1ZXN0ZWQgc2hhcGVcbiAgdmFyIHRtcEFycmF5ID0gYXJyYXk7XG4gIHZhciB0bXBBcnJheTI7IC8vIGZvciBlYWNoIGRpbWVuc2lvbnMgc3RhcnRpbmcgYnkgdGhlIGxhc3Qgb25lIGFuZCBpZ25vcmluZyB0aGUgZmlyc3Qgb25lXG5cbiAgZm9yICh2YXIgc2l6ZUluZGV4ID0gc2l6ZXMubGVuZ3RoIC0gMTsgc2l6ZUluZGV4ID4gMDsgc2l6ZUluZGV4LS0pIHtcbiAgICB2YXIgc2l6ZSA9IHNpemVzW3NpemVJbmRleF07XG4gICAgdG1wQXJyYXkyID0gW107IC8vIGFnZ3JlZ2F0ZSB0aGUgZWxlbWVudHMgb2YgdGhlIGN1cnJlbnQgdG1wQXJyYXkgaW4gZWxlbWVudHMgb2YgdGhlIHJlcXVlc3RlZCBzaXplXG5cbiAgICB2YXIgbGVuZ3RoID0gdG1wQXJyYXkubGVuZ3RoIC8gc2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRtcEFycmF5Mi5wdXNoKHRtcEFycmF5LnNsaWNlKGkgKiBzaXplLCAoaSArIDEpICogc2l6ZSkpO1xuICAgIH0gLy8gc2V0IGl0IGFzIHRoZSBuZXcgdG1wQXJyYXkgZm9yIHRoZSBuZXh0IGxvb3AgdHVybiBvciBmb3IgcmV0dXJuXG5cblxuICAgIHRtcEFycmF5ID0gdG1wQXJyYXkyO1xuICB9XG5cbiAgcmV0dXJuIHRtcEFycmF5O1xufVxuLyoqXG4gKiBTcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBbc2l6ZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0dXJucyB0aGUgYXJyYXkgaXRzZWxmXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gc3F1ZWV6ZShhcnJheSwgc2l6ZSkge1xuICB2YXIgcyA9IHNpemUgfHwgYXJyYXlTaXplKGFycmF5KTsgLy8gc3F1ZWV6ZSBvdXRlciBkaW1lbnNpb25zXG5cbiAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpICYmIGFycmF5Lmxlbmd0aCA9PT0gMSkge1xuICAgIGFycmF5ID0gYXJyYXlbMF07XG4gICAgcy5zaGlmdCgpO1xuICB9IC8vIGZpbmQgdGhlIGZpcnN0IGRpbWVuc2lvbiB0byBiZSBzcXVlZXplZFxuXG5cbiAgdmFyIGRpbXMgPSBzLmxlbmd0aDtcblxuICB3aGlsZSAoc1tkaW1zIC0gMV0gPT09IDEpIHtcbiAgICBkaW1zLS07XG4gIH0gLy8gc3F1ZWV6ZSBpbm5lciBkaW1lbnNpb25zXG5cblxuICBpZiAoZGltcyA8IHMubGVuZ3RoKSB7XG4gICAgYXJyYXkgPSBfc3F1ZWV6ZShhcnJheSwgZGltcywgMCk7XG4gICAgcy5sZW5ndGggPSBkaW1zO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBzcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyBSZXF1aXJlZCBudW1iZXIgb2YgZGltZW5zaW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpbSAgQ3VycmVudCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtBcnJheSB8ICp9IFJldHVybnMgdGhlIHNxdWVlemVkIGFycmF5XG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIF9zcXVlZXplKGFycmF5LCBkaW1zLCBkaW0pIHtcbiAgdmFyIGksIGlpO1xuXG4gIGlmIChkaW0gPCBkaW1zKSB7XG4gICAgdmFyIG5leHQgPSBkaW0gKyAxO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBhcnJheVtpXSA9IF9zcXVlZXplKGFycmF5W2ldLCBkaW1zLCBuZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICBhcnJheSA9IGFycmF5WzBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogVW5zcXVlZXplIGEgbXVsdGkgZGltZW5zaW9uYWwgYXJyYXk6IGFkZCBkaW1lbnNpb25zIHdoZW4gbWlzc2luZ1xuICpcbiAqIFBhcmFtdGVyIGBzaXplYCB3aWxsIGJlIG11dGF0ZWQgdG8gbWF0Y2ggdGhlIG5ldywgdW5xdWVlemVkIG1hdHJpeCBzaXplLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZGltcyAgICAgICBEZXNpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IFtvdXRlcl0gICAgTnVtYmVyIG9mIG91dGVyIGRpbWVuc2lvbnMgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IFtzaXplXSBDdXJyZW50IHNpemUgb2YgYXJyYXkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldHVybnMgdGhlIGFycmF5IGl0c2VsZlxuICogQHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNxdWVlemUoYXJyYXksIGRpbXMsIG91dGVyLCBzaXplKSB7XG4gIHZhciBzID0gc2l6ZSB8fCBhcnJheVNpemUoYXJyYXkpOyAvLyB1bnNxdWVlemUgb3V0ZXIgZGltZW5zaW9uc1xuXG4gIGlmIChvdXRlcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0ZXI7IGkrKykge1xuICAgICAgYXJyYXkgPSBbYXJyYXldO1xuICAgICAgcy51bnNoaWZ0KDEpO1xuICAgIH1cbiAgfSAvLyB1bnNxdWVlemUgaW5uZXIgZGltZW5zaW9uc1xuXG5cbiAgYXJyYXkgPSBfdW5zcXVlZXplKGFycmF5LCBkaW1zLCAwKTtcblxuICB3aGlsZSAocy5sZW5ndGggPCBkaW1zKSB7XG4gICAgcy5wdXNoKDEpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSB1bnNxdWVlemUgYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zIFJlcXVpcmVkIG51bWJlciBvZiBkaW1lbnNpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gZGltICBDdXJyZW50IGRpbWVuc2lvblxuICogQHJldHVybnMge0FycmF5IHwgKn0gUmV0dXJucyB0aGUgc3F1ZWV6ZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3Vuc3F1ZWV6ZShhcnJheSwgZGltcywgZGltKSB7XG4gIHZhciBpLCBpaTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICB2YXIgbmV4dCA9IGRpbSArIDE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGFycmF5W2ldID0gX3Vuc3F1ZWV6ZShhcnJheVtpXSwgZGltcywgbmV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGQgPSBkaW07IGQgPCBkaW1zOyBkKyspIHtcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIEZsYXR0ZW4gYSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheSwgcHV0IGFsbCBlbGVtZW50cyBpbiBhIG9uZSBkaW1lbnNpb25hbFxuICogYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5ICAgQSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICBUaGUgZmxhdHRlbmVkIGFycmF5ICgxIGRpbWVuc2lvbmFsKVxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIC8vIGlmIG5vdCBhbiBhcnJheSwgcmV0dXJuIGFzIGlzXG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgdmFyIGZsYXQgPSBbXTtcbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiBjYWxsYmFjayh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChjYWxsYmFjayk7IC8vIHRyYXZlcnNlIHRocm91Z2ggc3ViLWFycmF5cyByZWN1cnNpdmVseVxuICAgIH0gZWxzZSB7XG4gICAgICBmbGF0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmbGF0O1xufVxuLyoqXG4gKiBBIHNhZmUgbWFwXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG59XG4vKipcbiAqIEEgc2FmZSBmb3JFYWNoXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChhcnJheSwgY2FsbGJhY2spIHtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBBIHNhZmUgZmlsdGVyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKGFycmF5LCBjYWxsYmFjaykge1xuICBpZiAoYXJyYXlTaXplKGFycmF5KS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGRpbWVuc2lvbmFsIG1hdHJpY2VzIHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBGaWx0ZXIgdmFsdWVzIGluIGEgY2FsbGJhY2sgZ2l2ZW4gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVnZXhwXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyB0aGUgZmlsdGVyZWQgYXJyYXlcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclJlZ0V4cChhcnJheSwgcmVnZXhwKSB7XG4gIGlmIChhcnJheVNpemUoYXJyYXkpLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgZGltZW5zaW9uYWwgbWF0cmljZXMgc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBlbnRyeSA9PiByZWdleHAudGVzdChlbnRyeSkpO1xufVxuLyoqXG4gKiBBIHNhZmUgam9pblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZXBhcmF0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xufVxuLyoqXG4gKiBBc3NpZ24gYSBudW1lcmljIGlkZW50aWZpZXIgdG8gZXZlcnkgZWxlbWVudCBvZiBhIHNvcnRlZCBhcnJheVxuICogQHBhcmFtIHtBcnJheX0gYSAgQW4gYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIG9yaWdpbmFsIHZhbHVlIGFuZCBpdHMgaWRlbnRpZmllclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGlmeShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG4gIHZhciBjb3VudCA9IDA7XG4gIGJbMF0gPSB7XG4gICAgdmFsdWU6IGFbMF0sXG4gICAgaWRlbnRpZmllcjogMFxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldID09PSBhW2kgLSAxXSkge1xuICAgICAgY291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cblxuICAgIGIucHVzaCh7XG4gICAgICB2YWx1ZTogYVtpXSxcbiAgICAgIGlkZW50aWZpZXI6IGNvdW50XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYjtcbn1cbi8qKlxuICogUmVtb3ZlIHRoZSBudW1lcmljIGlkZW50aWZpZXIgZnJvbSB0aGUgZWxlbWVudHNcbiAqIEBwYXJhbSB7YXJyYXl9IGEgIEFuIGFycmF5XG4gKiBAcmV0dXJuIHthcnJheX0gQW4gYXJyYXkgb2YgdmFsdWVzIHdpdGhvdXQgaWRlbnRpZmllcnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhbGl6ZShhKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGlucHV0IGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciBiID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgYi5wdXNoKGFbaV0udmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIGI7XG59XG4vKipcbiAqIENoZWNrIHRoZSBkYXRhdHlwZSBvZiBhIGdpdmVuIG9iamVjdFxuICogVGhpcyBpcyBhIGxvdyBsZXZlbCBpbXBsZW1lbnRhdGlvbiB0aGF0IHNob3VsZCBvbmx5IGJlIHVzZWQgYnlcbiAqIHBhcmVudCBNYXRyaXggY2xhc3NlcyBzdWNoIGFzIFNwYXJzZU1hdHJpeCBvciBEZW5zZU1hdHJpeFxuICogVGhpcyBtZXRob2QgZG9lcyBub3QgdmFsaWRhdGUgQXJyYXkgTWF0cml4IHNoYXBlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHlwZU9mICAgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gdXNlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhIHZhbHVlXG4gKiBAcmV0dXJuIHN0cmluZ1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheURhdGFUeXBlKGFycmF5LCB0eXBlT2YpIHtcbiAgdmFyIHR5cGU7IC8vIHRvIGhvbGQgdHlwZSBpbmZvXG5cbiAgdmFyIGxlbmd0aCA9IDA7IC8vIHRvIGhvbGQgbGVuZ3RoIHZhbHVlIHRvIGVuc3VyZSBpdCBoYXMgY29uc2lzdGVudCBzaXplc1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpdGVtKTsgLy8gU2F2aW5nIHRoZSB0YXJnZXQgbWF0cml4IHJvdyBzaXplXG5cbiAgICBpZiAoaSA9PT0gMCAmJiBpc0FycmF5KSB7XG4gICAgICBsZW5ndGggPSBpdGVtLmxlbmd0aDtcbiAgICB9IC8vIElmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYW4gYXJyYXkgYnV0IHRoZSBsZW5ndGggZG9lcyBub3QgZXF1YWwgdGhlIHRhcmdldFZlY3RvclNpemVcblxuXG4gICAgaWYgKGlzQXJyYXkgJiYgaXRlbS5sZW5ndGggIT09IGxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgaXRlbVR5cGUgPSBpc0FycmF5ID8gZ2V0QXJyYXlEYXRhVHlwZShpdGVtLCB0eXBlT2YpIC8vIHJlY3Vyc2UgaW50byBhIG5lc3RlZCBhcnJheVxuICAgIDogdHlwZU9mKGl0ZW0pO1xuXG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdHlwZSA9IGl0ZW1UeXBlOyAvLyBmaXJzdCBpdGVtXG4gICAgfSBlbHNlIGlmICh0eXBlICE9PSBpdGVtVHlwZSkge1xuICAgICAgcmV0dXJuICdtaXhlZCc7XG4gICAgfSBlbHNlIHsvLyB3ZSdyZSBnb29kLCBldmVyeXRoaW5nIGhhcyB0aGUgc2FtZSB0eXBlIHNvIGZhclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0eXBlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhc3QgaXRlbSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0gYXJyYXlcbiAqIEByZXR1cm5zIHsqfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cbi8qKlxuICogR2V0IGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhcnJheS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICByZXR1cm4gYXJyYXkuc2xpY2UoMCwgYXJyYXkubGVuZ3RoIC0gMSk7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBvciBzdHJpbmcgY29udGFpbnMgYW4gaXRlbVxuICogQHBhcmFtIHtBcnJheSB8IHN0cmluZ30gYXJyYXlcbiAqIEBwYXJhbSB7Kn0gaXRlbVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSIsImltcG9ydCB7IGNvbnRhaW5zIH0gZnJvbSAnLi9hcnJheS5qcyc7XG5pbXBvcnQgeyBwaWNrU2hhbGxvdyB9IGZyb20gJy4vb2JqZWN0LmpzJztcbi8qKlxuICogQ3JlYXRlIGEgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gaW5qZWN0IGRlcGVuZGVuY2llcy5cbiAqXG4gKiBUaGUgY3JlYXRlZCBmdW5jdGlvbnMgYXJlIG1lbW9pemVkLCBhIGNvbnNlY3V0aXZlIGNhbGwgb2YgdGhlIGZhY3RvcnlcbiAqIHdpdGggdGhlIGV4YWN0IHNhbWUgaW5wdXRzIHdpbGwgcmV0dXJuIHRoZSBzYW1lIGZ1bmN0aW9uIGluc3RhbmNlLlxuICogVGhlIG1lbW9pemVkIGNhY2hlIGlzIGV4cG9zZWQgb24gYGZhY3RvcnkuY2FjaGVgIGFuZCBjYW4gYmUgY2xlYXJlZFxuICogaWYgbmVlZGVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGNvbnN0IG5hbWUgPSAnbG9nJ1xuICogICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IFsnY29uZmlnJywgJ3R5cGVkJywgJ2RpdmlkZVNjYWxhcicsICdDb21wbGV4J11cbiAqXG4gKiAgICAgZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZyA9IGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoeyB0eXBlZCwgY29uZmlnLCBkaXZpZGVTY2FsYXIsIENvbXBsZXggfSkgPT4ge1xuICogICAgICAgLy8gLi4uIGNyZWF0ZSB0aGUgZnVuY3Rpb24gbG9nIGhlcmUgYW5kIHJldHVybiBpdFxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgICAgICAgTmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZFxuICogQHBhcmFtIHtzdHJpbmdbXX0gZGVwZW5kZW5jaWVzIFRoZSBuYW1lcyBvZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGUgICAgICAgQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggYWxsIGRlcGVuZGVuY2llc1xuICogQHBhcmFtIHtPYmplY3R9IFttZXRhXSAgICAgICAgIE9wdGlvbmFsIG9iamVjdCB3aXRoIG1ldGEgaW5mb3JtYXRpb24gdGhhdCB3aWxsIGJlIGF0dGFjaGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdGhlIGNyZWF0ZWQgZmFjdG9yeSBmdW5jdGlvbiBhcyBwcm9wZXJ0eSBgbWV0YWAuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCBjcmVhdGUsIG1ldGEpIHtcbiAgZnVuY3Rpb24gYXNzZXJ0QW5kQ3JlYXRlKHNjb3BlKSB7XG4gICAgLy8gd2Ugb25seSBwYXNzIHRoZSByZXF1ZXN0ZWQgZGVwZW5kZW5jaWVzIHRvIHRoZSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gdG8gcHJldmVudCBmdW5jdGlvbnMgdG8gcmVseSBvbiBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgbm90IGV4cGxpY2l0bHlcbiAgICAvLyByZXF1ZXN0ZWQuXG4gICAgdmFyIGRlcHMgPSBwaWNrU2hhbGxvdyhzY29wZSwgZGVwZW5kZW5jaWVzLm1hcChzdHJpcE9wdGlvbmFsTm90YXRpb24pKTtcbiAgICBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSk7XG4gICAgcmV0dXJuIGNyZWF0ZShkZXBzKTtcbiAgfVxuXG4gIGFzc2VydEFuZENyZWF0ZS5pc0ZhY3RvcnkgPSB0cnVlO1xuICBhc3NlcnRBbmRDcmVhdGUuZm4gPSBuYW1lO1xuICBhc3NlcnRBbmRDcmVhdGUuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzLnNsaWNlKCkuc29ydCgpO1xuXG4gIGlmIChtZXRhKSB7XG4gICAgYXNzZXJ0QW5kQ3JlYXRlLm1ldGEgPSBtZXRhO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydEFuZENyZWF0ZTtcbn1cbi8qKlxuICogU29ydCBhbGwgZmFjdG9yaWVzIHN1Y2ggdGhhdCB3aGVuIGxvYWRpbmcgaW4gb3JkZXIsIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGZhY3Rvcmllc1xuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIHNvcnRlZCBmYWN0b3JpZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRGYWN0b3JpZXMoZmFjdG9yaWVzKSB7XG4gIHZhciBmYWN0b3JpZXNCeU5hbWUgPSB7fTtcbiAgZmFjdG9yaWVzLmZvckVhY2goZmFjdG9yeSA9PiB7XG4gICAgZmFjdG9yaWVzQnlOYW1lW2ZhY3RvcnkuZm5dID0gZmFjdG9yeTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY29udGFpbnNEZXBlbmRlbmN5KGZhY3RvcnksIGRlcGVuZGVuY3kpIHtcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgIGlmIChpc0ZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgIGlmIChjb250YWlucyhmYWN0b3J5LmRlcGVuZGVuY2llcywgZGVwZW5kZW5jeS5mbiB8fCBkZXBlbmRlbmN5Lm5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFjdG9yeS5kZXBlbmRlbmNpZXMuc29tZShkID0+IGNvbnRhaW5zRGVwZW5kZW5jeShmYWN0b3JpZXNCeU5hbWVbZF0sIGRlcGVuZGVuY3kpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgc29ydGVkID0gW107XG5cbiAgZnVuY3Rpb24gYWRkRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgdmFyIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IHNvcnRlZC5sZW5ndGggJiYgIWNvbnRhaW5zRGVwZW5kZW5jeShzb3J0ZWRbaW5kZXhdLCBmYWN0b3J5KSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBzb3J0ZWQuc3BsaWNlKGluZGV4LCAwLCBmYWN0b3J5KTtcbiAgfSAvLyBzb3J0IHJlZ3VsYXIgZmFjdG9yeSBmdW5jdGlvbnNcblxuXG4gIGZhY3Rvcmllcy5maWx0ZXIoaXNGYWN0b3J5KS5mb3JFYWNoKGFkZEZhY3RvcnkpOyAvLyBzb3J0IGxlZ2FjeSBmYWN0b3J5IGZ1bmN0aW9ucyBBRlRFUiB0aGUgcmVndWxhciBmYWN0b3J5IGZ1bmN0aW9uc1xuXG4gIGZhY3Rvcmllcy5maWx0ZXIoZmFjdG9yeSA9PiAhaXNGYWN0b3J5KGZhY3RvcnkpKS5mb3JFYWNoKGFkZEZhY3RvcnkpO1xuICByZXR1cm4gc29ydGVkO1xufSAvLyBUT0RPOiBjb21tZW50IG9yIGNsZWFudXAgaWYgdW51c2VkIGluIHRoZSBlbmRcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmYWN0b3JpZXMpIHtcbiAgdmFyIHNjb3BlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgc29ydEZhY3RvcmllcyhmYWN0b3JpZXMpLmZvckVhY2goZmFjdG9yeSA9PiBmYWN0b3J5KHNjb3BlKSk7XG4gIHJldHVybiBzY29wZTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGZhY3RvcnkuIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpdCBoYXNcbiAqIHByb3BlcnRpZXMgbmFtZSwgZGVwZW5kZW5jaWVzLCBhbmQgYSBmdW5jdGlvbiBjcmVhdGUuXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmFjdG9yeShvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5mbiA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShvYmouZGVwZW5kZW5jaWVzKTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgYWxsIGRlcGVuZGVuY2llcyBvZiBhIGxpc3Qgd2l0aCBkZXBlbmRlbmNpZXMgYXJlIGF2YWlsYWJsZSBpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gKlxuICogV2lsbCB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiB0aGVyZSBhcmUgZGVwZW5kZW5jaWVzIG1pc3NpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICBOYW1lIGZvciB0aGUgZnVuY3Rpb24gdG8gYmUgY3JlYXRlZC4gVXNlZCB0byBnZW5lcmF0ZSBhIHVzZWZ1bCBlcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBkZXBlbmRlbmNpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZXBlbmRlbmNpZXMobmFtZSwgZGVwZW5kZW5jaWVzLCBzY29wZSkge1xuICB2YXIgYWxsRGVmaW5lZCA9IGRlcGVuZGVuY2llcy5maWx0ZXIoZGVwZW5kZW5jeSA9PiAhaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkpIC8vIGZpbHRlciBvcHRpb25hbHNcbiAgLmV2ZXJ5KGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gIT09IHVuZGVmaW5lZCk7XG5cbiAgaWYgKCFhbGxEZWZpbmVkKSB7XG4gICAgdmFyIG1pc3NpbmdEZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMuZmlsdGVyKGRlcGVuZGVuY3kgPT4gc2NvcGVbZGVwZW5kZW5jeV0gPT09IHVuZGVmaW5lZCk7IC8vIFRPRE86IGNyZWF0ZSBhIGN1c3RvbSBlcnJvciBjbGFzcyBmb3IgdGhpcywgYSBNYXRoanNFcnJvciBvciBzb21ldGhpbmcgbGlrZSB0aGF0XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGZ1bmN0aW9uIFxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiLCBcIikgKyBcInNvbWUgZGVwZW5kZW5jaWVzIGFyZSBtaXNzaW5nOiBcIi5jb25jYXQobWlzc2luZ0RlcGVuZGVuY2llcy5tYXAoZCA9PiBcIlxcXCJcIi5jb25jYXQoZCwgXCJcXFwiXCIpKS5qb2luKCcsICcpLCBcIi5cIikpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPcHRpb25hbERlcGVuZGVuY3koZGVwZW5kZW5jeSkge1xuICByZXR1cm4gZGVwZW5kZW5jeSAmJiBkZXBlbmRlbmN5WzBdID09PSAnPyc7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaXBPcHRpb25hbE5vdGF0aW9uKGRlcGVuZGVuY3kpIHtcbiAgcmV0dXJuIGRlcGVuZGVuY3kgJiYgZGVwZW5kZW5jeVswXSA9PT0gJz8nID8gZGVwZW5kZW5jeS5zbGljZSgxKSA6IGRlcGVuZGVuY3k7XG59IiwiLyoqXG4gKiBDcmVhdGUgYSB0eXBlZC1mdW5jdGlvbiB3aGljaCBjaGVja3MgdGhlIHR5cGVzIG9mIHRoZSBhcmd1bWVudHMgYW5kXG4gKiBjYW4gbWF0Y2ggdGhlbSBhZ2FpbnN0IG11bHRpcGxlIHByb3ZpZGVkIHNpZ25hdHVyZXMuIFRoZSB0eXBlZC1mdW5jdGlvblxuICogYXV0b21hdGljYWxseSBjb252ZXJ0cyBpbnB1dHMgaW4gb3JkZXIgdG8gZmluZCBhIG1hdGNoaW5nIHNpZ25hdHVyZS5cbiAqIFR5cGVkIGZ1bmN0aW9ucyB0aHJvdyBpbmZvcm1hdGl2ZSBlcnJvcnMgaW4gY2FzZSBvZiB3cm9uZyBpbnB1dCBhcmd1bWVudHMuXG4gKlxuICogU2VlIHRoZSBsaWJyYXJ5IFt0eXBlZC1mdW5jdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy90eXBlZC1mdW5jdGlvbilcbiAqIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIFN5bnRheDpcbiAqXG4gKiAgICAgbWF0aC50eXBlZChuYW1lLCBzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKiAgICAgbWF0aC50eXBlZChzaWduYXR1cmVzKSA6IGZ1bmN0aW9uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggbXVsdGlwbGUgdHlwZXMgcGVyIGFyZ3VtZW50ICh0eXBlIHVuaW9uKVxuICogICAgIGNvbnN0IGZuMiA9IHR5cGVkKHtcbiAqICAgICAgICdudW1iZXIgfCBib29sZWFuJzogZnVuY3Rpb24gKGIpIHtcbiAqICAgICAgICAgcmV0dXJuICdiIGlzIGEgbnVtYmVyIG9yIGJvb2xlYW4nXG4gKiAgICAgICB9LFxuICogICAgICAgJ3N0cmluZywgbnVtYmVyIHwgYm9vbGVhbic6IGZ1bmN0aW9uIChhLCBiKSB7XG4gKiAgICAgICAgIHJldHVybiAnYSBpcyBhIHN0cmluZywgYiBpcyBhIG51bWJlciBvciBib29sZWFuJ1xuICogICAgICAgfVxuICogICAgIH0pXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhIHR5cGVkIGZ1bmN0aW9uIHdpdGggYW4gYW55IHR5cGUgYXJndW1lbnRcbiAqICAgICBjb25zdCBsb2cgPSB0eXBlZCh7XG4gKiAgICAgICAnc3RyaW5nLCBhbnknOiBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAqICAgICAgICAgY29uc29sZS5sb2coJ2V2ZW50OiAnICsgZXZlbnQgKyAnLCBkYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25hbCBuYW1lIGZvciB0aGUgdHlwZWQtZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgZnVuY3Rpb24+fSBzaWduYXR1cmVzICAgT2JqZWN0IHdpdGggb25lIG9yIG11bHRpcGxlIGZ1bmN0aW9uIHNpZ25hdHVyZXNcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gVGhlIGNyZWF0ZWQgdHlwZWQtZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0FycmF5LCBpc0FycmF5Tm9kZSwgaXNBc3NpZ25tZW50Tm9kZSwgaXNCaWdOdW1iZXIsIGlzQmxvY2tOb2RlLCBpc0Jvb2xlYW4sIGlzQ2hhaW4sIGlzQ29tcGxleCwgaXNDb25kaXRpb25hbE5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0RhdGUsIGlzRGVuc2VNYXRyaXgsIGlzRnJhY3Rpb24sIGlzRnVuY3Rpb24sIGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzSGVscCwgaXNJbmRleCwgaXNJbmRleE5vZGUsIGlzTWF0cml4LCBpc05vZGUsIGlzTnVsbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc09iamVjdE5vZGUsIGlzT3BlcmF0b3JOb2RlLCBpc1BhcmVudGhlc2lzTm9kZSwgaXNSYW5nZSwgaXNSYW5nZU5vZGUsIGlzUmVnRXhwLCBpc1Jlc3VsdFNldCwgaXNTcGFyc2VNYXRyaXgsIGlzU3RyaW5nLCBpc1N5bWJvbE5vZGUsIGlzVW5kZWZpbmVkLCBpc1VuaXQgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgdHlwZWRGdW5jdGlvbiBmcm9tICd0eXBlZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBkaWdpdHMgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnOyAvLyByZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIHR5cGVkLWZ1bmN0aW9uXG5cbnZhciBfY3JlYXRlVHlwZWQyID0gZnVuY3Rpb24gX2NyZWF0ZVR5cGVkKCkge1xuICAvLyBpbml0aWFsbHksIHJldHVybiB0aGUgb3JpZ2luYWwgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgLy8gY29uc2VjdXRpdmVseSwgcmV0dXJuIGEgbmV3IGluc3RhbmNlIGZyb20gdHlwZWQuY3JlYXRlLlxuICBfY3JlYXRlVHlwZWQyID0gdHlwZWRGdW5jdGlvbi5jcmVhdGU7XG4gIHJldHVybiB0eXBlZEZ1bmN0aW9uO1xufTtcblxudmFyIGRlcGVuZGVuY2llcyA9IFsnP0JpZ051bWJlcicsICc/Q29tcGxleCcsICc/RGVuc2VNYXRyaXgnLCAnP0ZyYWN0aW9uJ107XG4vKipcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IHR5cGVkIGluc3RhbmNlXG4gKiBAcGFyYW0ge09iamVjdH0gZGVwZW5kZW5jaWVzICAgT2JqZWN0IHdpdGggZGF0YSB0eXBlcyBsaWtlIENvbXBsZXggYW5kIEJpZ051bWJlclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCB2YXIgY3JlYXRlVHlwZWQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KCd0eXBlZCcsIGRlcGVuZGVuY2llcywgZnVuY3Rpb24gY3JlYXRlVHlwZWQoX3JlZikge1xuICB2YXIge1xuICAgIEJpZ051bWJlcixcbiAgICBDb21wbGV4LFxuICAgIERlbnNlTWF0cml4LFxuICAgIEZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuXG4gIC8vIFRPRE86IHR5cGVkLWZ1bmN0aW9uIG11c3QgYmUgYWJsZSB0byBzaWxlbnRseSBpZ25vcmUgc2lnbmF0dXJlcyB3aXRoIHVua25vd24gZGF0YSB0eXBlc1xuICAvLyBnZXQgYSBuZXcgaW5zdGFuY2Ugb2YgdHlwZWQtZnVuY3Rpb25cbiAgdmFyIHR5cGVkID0gX2NyZWF0ZVR5cGVkMigpOyAvLyBkZWZpbmUgYWxsIHR5cGVzLiBUaGUgb3JkZXIgb2YgdGhlIHR5cGVzIGRldGVybWluZXMgaW4gd2hpY2ggb3JkZXIgZnVuY3Rpb25cbiAgLy8gYXJndW1lbnRzIGFyZSB0eXBlLWNoZWNrZWQgKHNvIGZvciBwZXJmb3JtYW5jZSBpdCdzIGltcG9ydGFudCB0byBwdXQgdGhlXG4gIC8vIG1vc3QgdXNlZCB0eXBlcyBmaXJzdCkuXG5cblxuICB0eXBlZC50eXBlcyA9IFt7XG4gICAgbmFtZTogJ251bWJlcicsXG4gICAgdGVzdDogaXNOdW1iZXJcbiAgfSwge1xuICAgIG5hbWU6ICdDb21wbGV4JyxcbiAgICB0ZXN0OiBpc0NvbXBsZXhcbiAgfSwge1xuICAgIG5hbWU6ICdCaWdOdW1iZXInLFxuICAgIHRlc3Q6IGlzQmlnTnVtYmVyXG4gIH0sIHtcbiAgICBuYW1lOiAnRnJhY3Rpb24nLFxuICAgIHRlc3Q6IGlzRnJhY3Rpb25cbiAgfSwge1xuICAgIG5hbWU6ICdVbml0JyxcbiAgICB0ZXN0OiBpc1VuaXRcbiAgfSwge1xuICAgIG5hbWU6ICdzdHJpbmcnLFxuICAgIHRlc3Q6IGlzU3RyaW5nXG4gIH0sIHtcbiAgICBuYW1lOiAnQ2hhaW4nLFxuICAgIHRlc3Q6IGlzQ2hhaW5cbiAgfSwge1xuICAgIG5hbWU6ICdBcnJheScsXG4gICAgdGVzdDogaXNBcnJheVxuICB9LCB7XG4gICAgbmFtZTogJ01hdHJpeCcsXG4gICAgdGVzdDogaXNNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdEZW5zZU1hdHJpeCcsXG4gICAgdGVzdDogaXNEZW5zZU1hdHJpeFxuICB9LCB7XG4gICAgbmFtZTogJ1NwYXJzZU1hdHJpeCcsXG4gICAgdGVzdDogaXNTcGFyc2VNYXRyaXhcbiAgfSwge1xuICAgIG5hbWU6ICdSYW5nZScsXG4gICAgdGVzdDogaXNSYW5nZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4JyxcbiAgICB0ZXN0OiBpc0luZGV4XG4gIH0sIHtcbiAgICBuYW1lOiAnYm9vbGVhbicsXG4gICAgdGVzdDogaXNCb29sZWFuXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVzdWx0U2V0JyxcbiAgICB0ZXN0OiBpc1Jlc3VsdFNldFxuICB9LCB7XG4gICAgbmFtZTogJ0hlbHAnLFxuICAgIHRlc3Q6IGlzSGVscFxuICB9LCB7XG4gICAgbmFtZTogJ2Z1bmN0aW9uJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uXG4gIH0sIHtcbiAgICBuYW1lOiAnRGF0ZScsXG4gICAgdGVzdDogaXNEYXRlXG4gIH0sIHtcbiAgICBuYW1lOiAnUmVnRXhwJyxcbiAgICB0ZXN0OiBpc1JlZ0V4cFxuICB9LCB7XG4gICAgbmFtZTogJ251bGwnLFxuICAgIHRlc3Q6IGlzTnVsbFxuICB9LCB7XG4gICAgbmFtZTogJ3VuZGVmaW5lZCcsXG4gICAgdGVzdDogaXNVbmRlZmluZWRcbiAgfSwge1xuICAgIG5hbWU6ICdBY2Nlc3Nvck5vZGUnLFxuICAgIHRlc3Q6IGlzQWNjZXNzb3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQXJyYXlOb2RlJyxcbiAgICB0ZXN0OiBpc0FycmF5Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Fzc2lnbm1lbnROb2RlJyxcbiAgICB0ZXN0OiBpc0Fzc2lnbm1lbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnQmxvY2tOb2RlJyxcbiAgICB0ZXN0OiBpc0Jsb2NrTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0NvbmRpdGlvbmFsTm9kZScsXG4gICAgdGVzdDogaXNDb25kaXRpb25hbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdDb25zdGFudE5vZGUnLFxuICAgIHRlc3Q6IGlzQ29uc3RhbnROb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnRnVuY3Rpb25Ob2RlJyxcbiAgICB0ZXN0OiBpc0Z1bmN0aW9uTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnLFxuICAgIHRlc3Q6IGlzRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ0luZGV4Tm9kZScsXG4gICAgdGVzdDogaXNJbmRleE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdOb2RlJyxcbiAgICB0ZXN0OiBpc05vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3ROb2RlJyxcbiAgICB0ZXN0OiBpc09iamVjdE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPcGVyYXRvck5vZGUnLFxuICAgIHRlc3Q6IGlzT3BlcmF0b3JOb2RlXG4gIH0sIHtcbiAgICBuYW1lOiAnUGFyZW50aGVzaXNOb2RlJyxcbiAgICB0ZXN0OiBpc1BhcmVudGhlc2lzTm9kZVxuICB9LCB7XG4gICAgbmFtZTogJ1JhbmdlTm9kZScsXG4gICAgdGVzdDogaXNSYW5nZU5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdTeW1ib2xOb2RlJyxcbiAgICB0ZXN0OiBpc1N5bWJvbE5vZGVcbiAgfSwge1xuICAgIG5hbWU6ICdPYmplY3QnLFxuICAgIHRlc3Q6IGlzT2JqZWN0XG4gIH0gLy8gb3JkZXIgJ09iamVjdCcgbGFzdCwgaXQgbWF0Y2hlcyBvbiBvdGhlciBjbGFzc2VzIHRvb1xuICBdO1xuICB0eXBlZC5jb252ZXJzaW9ucyA9IFt7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdCaWdOdW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFCaWdOdW1iZXIpIHtcbiAgICAgICAgdGhyb3dOb0JpZ251bWJlcih4KTtcbiAgICAgIH0gLy8gbm90ZTogY29udmVyc2lvbiBmcm9tIG51bWJlciB0byBCaWdOdW1iZXIgY2FuIGZhaWwgaWYgeCBoYXMgPjE1IGRpZ2l0c1xuXG5cbiAgICAgIGlmIChkaWdpdHMoeCkgPiAxNSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgbnVtYmVyIHdpdGggPjE1IHNpZ25pZmljYW50IGRpZ2l0cyB0byBCaWdOdW1iZXIgJyArICcodmFsdWU6ICcgKyB4ICsgJykuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlci4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ251bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgsIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdudW1iZXInLFxuICAgIHRvOiAnc3RyaW5nJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIHJldHVybiB4ICsgJyc7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0JpZ051bWJlcicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudG9OdW1iZXIoKSwgMCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ0ZyYWN0aW9uJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW1wbGljaXRseSBjb252ZXJ0IGEgRnJhY3Rpb24gdG8gQmlnTnVtYmVyIG9yIHZpY2UgdmVyc2EuICcgKyAnVXNlIGZ1bmN0aW9uIGJpZ251bWJlcih4KSB0byBjb252ZXJ0IHRvIEJpZ051bWJlciBvciBmcmFjdGlvbih4KSB0byBjb252ZXJ0IHRvIEZyYWN0aW9uLicpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdGcmFjdGlvbicsXG4gICAgdG86ICdDb21wbGV4JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghQ29tcGxleCkge1xuICAgICAgICB0aHJvd05vQ29tcGxleCh4KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHgudmFsdWVPZigpLCAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnbnVtYmVyJyxcbiAgICB0bzogJ0ZyYWN0aW9uJyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KHgpIHtcbiAgICAgIGlmICghRnJhY3Rpb24pIHtcbiAgICAgICAgdGhyb3dOb0ZyYWN0aW9uKHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZiA9IG5ldyBGcmFjdGlvbih4KTtcblxuICAgICAgaWYgKGYudmFsdWVPZigpICE9PSB4KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbXBsaWNpdGx5IGNvbnZlcnQgYSBudW1iZXIgdG8gYSBGcmFjdGlvbiB3aGVuIHRoZXJlIHdpbGwgYmUgYSBsb3NzIG9mIHByZWNpc2lvbiAnICsgJyh2YWx1ZTogJyArIHggKyAnKS4gJyArICdVc2UgZnVuY3Rpb24gZnJhY3Rpb24oeCkgdG8gY29udmVydCB0byBGcmFjdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGY7XG4gICAgfVxuICB9LCB7XG4gICAgLy8gRklYTUU6IGFkZCBjb252ZXJzaW9uIGZyb20gRnJhY3Rpb24gdG8gbnVtYmVyLCBmb3IgZXhhbXBsZSBmb3IgYHNxcnQoZnJhY3Rpb24oMSwzKSlgXG4gICAgLy8gIGZyb206ICdGcmFjdGlvbicsXG4gICAgLy8gIHRvOiAnbnVtYmVyJyxcbiAgICAvLyAgY29udmVydDogZnVuY3Rpb24gKHgpIHtcbiAgICAvLyAgICByZXR1cm4geC52YWx1ZU9mKClcbiAgICAvLyAgfVxuICAgIC8vIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ251bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICB2YXIgbiA9IE51bWJlcih4KTtcblxuICAgICAgaWYgKGlzTmFOKG4pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgXCInICsgeCArICdcIiB0byBhIG51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbjtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gQmlnTnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ3N0cmluZycsXG4gICAgdG86ICdGcmFjdGlvbicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUZyYWN0aW9uKSB7XG4gICAgICAgIHRocm93Tm9GcmFjdGlvbih4KTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IFwiJyArIHggKyAnXCIgdG8gRnJhY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnc3RyaW5nJyxcbiAgICB0bzogJ0NvbXBsZXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFDb21wbGV4KSB7XG4gICAgICAgIHRocm93Tm9Db21wbGV4KHgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoeCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCBcIicgKyB4ICsgJ1wiIHRvIENvbXBsZXgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnYm9vbGVhbicsXG4gICAgdG86ICdudW1iZXInLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgcmV0dXJuICt4O1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ0JpZ051bWJlcicsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICBpZiAoIUJpZ051bWJlcikge1xuICAgICAgICB0aHJvd05vQmlnbnVtYmVyKHgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigreCk7XG4gICAgfVxuICB9LCB7XG4gICAgZnJvbTogJ2Jvb2xlYW4nLFxuICAgIHRvOiAnRnJhY3Rpb24nLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoeCkge1xuICAgICAgaWYgKCFGcmFjdGlvbikge1xuICAgICAgICB0aHJvd05vRnJhY3Rpb24oeCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oK3gpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdib29sZWFuJyxcbiAgICB0bzogJ3N0cmluZycsXG4gICAgY29udmVydDogZnVuY3Rpb24gY29udmVydCh4KSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIH1cbiAgfSwge1xuICAgIGZyb206ICdBcnJheScsXG4gICAgdG86ICdNYXRyaXgnLFxuICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoYXJyYXkpIHtcbiAgICAgIGlmICghRGVuc2VNYXRyaXgpIHtcbiAgICAgICAgdGhyb3dOb01hdHJpeCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGFycmF5KTtcbiAgICB9XG4gIH0sIHtcbiAgICBmcm9tOiAnTWF0cml4JyxcbiAgICB0bzogJ0FycmF5JyxcbiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KG1hdHJpeCkge1xuICAgICAgcmV0dXJuIG1hdHJpeC52YWx1ZU9mKCk7XG4gICAgfVxuICB9XTtcbiAgcmV0dXJuIHR5cGVkO1xufSk7XG5cbmZ1bmN0aW9uIHRocm93Tm9CaWdudW1iZXIoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCB2YWx1ZSBcIi5jb25jYXQoeCwgXCIgaW50byBhIEJpZ051bWJlcjogbm8gY2xhc3MgJ0JpZ051bWJlcicgcHJvdmlkZWRcIikpO1xufVxuXG5mdW5jdGlvbiB0aHJvd05vQ29tcGxleCh4KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHZhbHVlIFwiLmNvbmNhdCh4LCBcIiBpbnRvIGEgQ29tcGxleCBudW1iZXI6IG5vIGNsYXNzICdDb21wbGV4JyBwcm92aWRlZFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93Tm9NYXRyaXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgYXJyYXkgaW50byBhIE1hdHJpeDogbm8gY2xhc3MgXFwnRGVuc2VNYXRyaXhcXCcgcHJvdmlkZWQnKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dOb0ZyYWN0aW9uKHgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdmFsdWUgXCIuY29uY2F0KHgsIFwiIGludG8gYSBGcmFjdGlvbiwgbm8gY2xhc3MgJ0ZyYWN0aW9uJyBwcm92aWRlZC5cIikpO1xufSIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1Jlc3VsdFNldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZVJlc3VsdFNldCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBBIFJlc3VsdFNldCBjb250YWlucyBhIGxpc3Qgb3IgcmVzdWx0c1xuICAgKiBAY2xhc3MgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGVudHJpZXNcbiAgICogQGNvbnN0cnVjdG9yIFJlc3VsdFNldFxuICAgKi9cbiAgZnVuY3Rpb24gUmVzdWx0U2V0KGVudHJpZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzdWx0U2V0KSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzIHx8IFtdO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudHlwZSA9ICdSZXN1bHRTZXQnO1xuICBSZXN1bHRTZXQucHJvdG90eXBlLmlzUmVzdWx0U2V0ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFycmF5IHdpdGggcmVzdWx0cyBob2xkIGJ5IHRoaXMgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge0FycmF5fSBlbnRyaWVzXG4gICAqL1xuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RyaW5naWZpZWQgcmVzdWx0cyBvZiB0aGUgUmVzdWx0U2V0XG4gICAqIEBtZW1iZXJvZiBSZXN1bHRTZXRcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyaW5nXG4gICAqL1xuXG5cbiAgUmVzdWx0U2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1snICsgdGhpcy5lbnRyaWVzLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBSZXN1bHRTZXRcbiAgICogQG1lbWJlcm9mIFJlc3VsdFNldFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlc3VsdFNldFwiLCBcImVudHJpZXNcIjogWy4uLl19YFxuICAgKi9cblxuXG4gIFJlc3VsdFNldC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSZXN1bHRTZXQnLFxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmVzdWx0U2V0IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgUmVzdWx0U2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmVzdWx0U2V0XCIsIFwiZW50cmllc1wiOiBbLi4uXX1gXG4gICAqIEByZXR1cm4ge1Jlc3VsdFNldH1cbiAgICovXG5cblxuICBSZXN1bHRTZXQuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUmVzdWx0U2V0KGpzb24uZW50cmllcyk7XG4gIH07XG5cbiAgcmV0dXJuIFJlc3VsdFNldDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiLypcclxuICogIGRlY2ltYWwuanMgdjEwLjIuMVxyXG4gKiAgQW4gYXJiaXRyYXJ5LXByZWNpc2lvbiBEZWNpbWFsIHR5cGUgZm9yIEphdmFTY3JpcHQuXHJcbiAqICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9kZWNpbWFsLmpzXHJcbiAqICBDb3B5cmlnaHQgKGMpIDIwMjAgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogIE1JVCBMaWNlbmNlXHJcbiAqL1xyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBFRElUQUJMRSBERUZBVUxUUyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCBtYWduaXR1ZGUuXHJcbiAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgdG9FeHBOZWdgLCBgdG9FeHBQb3NgLCBgbWluRWAgYW5kIGBtYXhFYC5cclxudmFyIEVYUF9MSU1JVCA9IDllMTUsICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOWUxNVxyXG5cclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLCBhbmQgb24gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBhcmd1bWVudCB0b1xyXG4gIC8vIGB0b0RlY2ltYWxQbGFjZXNgLCBgdG9FeHBvbmVudGlhbGAsIGB0b0ZpeGVkYCwgYHRvUHJlY2lzaW9uYCBhbmQgYHRvU2lnbmlmaWNhbnREaWdpdHNgLlxyXG4gIE1BWF9ESUdJVFMgPSAxZTksICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAxZTlcclxuXHJcbiAgLy8gQmFzZSBjb252ZXJzaW9uIGFscGhhYmV0LlxyXG4gIE5VTUVSQUxTID0gJzAxMjM0NTY3ODlhYmNkZWYnLFxyXG5cclxuICAvLyBUaGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgMTAgKDEwMjUgZGlnaXRzKS5cclxuICBMTjEwID0gJzIuMzAyNTg1MDkyOTk0MDQ1Njg0MDE3OTkxNDU0Njg0MzY0MjA3NjAxMTAxNDg4NjI4NzcyOTc2MDMzMzI3OTAwOTY3NTcyNjA5Njc3MzUyNDgwMjM1OTk3MjA1MDg5NTk4Mjk4MzQxOTY3Nzg0MDQyMjg2MjQ4NjMzNDA5NTI1NDY1MDgyODA2NzU2NjY2Mjg3MzY5MDk4NzgxNjg5NDgyOTA3MjA4MzI1NTU0NjgwODQzNzk5ODk0ODI2MjMzMTk4NTI4MzkzNTA1MzA4OTY1Mzc3NzMyNjI4ODQ2MTYzMzY2MjIyMjg3Njk4MjE5ODg2NzQ2NTQzNjY3NDc0NDA0MjQzMjc0MzY1MTU1MDQ4OTM0MzE0OTM5MzkxNDc5NjE5NDA0NDAwMjIyMTA1MTAxNzE0MTc0ODAwMzY4ODA4NDAxMjY0NzA4MDY4NTU2Nzc0MzIxNjIyODM1NTIyMDExNDgwNDY2MzcxNTY1OTEyMTM3MzQ1MDc0Nzg1Njk0NzY4MzQ2MzYxNjc5MjEwMTgwNjQ0NTA3MDY0ODAwMDI3NzUwMjY4NDkxNjc0NjU1MDU4Njg1NjkzNTY3MzQyMDY3MDU4MTEzNjQyOTIyNDU1NDQwNTc1ODkyNTcyNDIwODI0MTMxNDY5NTY4OTAxNjc1ODk0MDI1Njc3NjMxMTM1NjkxOTI5MjAzMzM3NjU4NzE0MTY2MDIzMDEwNTcwMzA4OTYzNDU3MjA3NTQ0MDM3MDg0NzQ2OTk0MDE2ODI2OTI4MjgwODQ4MTE4NDI4OTMxNDg0ODUyNDk0ODY0NDg3MTkyNzgwOTY3NjI3MTI3NTc3NTM5NzAyNzY2ODYwNTk1MjQ5NjcxNjY3NDE4MzQ4NTcwNDQyMjUwNzE5Nzk2NTAwNDcxNDk1MTA1MDQ5MjIxNDc3NjU2NzYzNjkzODY2Mjk3Njk3OTUyMjExMDcxODI2NDU0OTczNDc3MjY2MjQyNTcwOTQyOTMyMjU4Mjc5ODUwMjU4NTUwOTc4NTI2NTM4MzIwNzYwNjcyNjMxNzE2NDMwOTUwNTk5NTA4NzgwNzUyMzcxMDMzMzEwMTE5Nzg1NzU0NzMzMTU0MTQyMTgwODQyNzU0Mzg2MzU5MTc3ODExNzA1NDMwOTgyNzQ4MjM4NTA0NTY0ODAxOTA5NTYxMDI5OTI5MTgyNDMxODIzNzUyNTM1NzcwOTc1MDUzOTU2NTE4NzY5NzUxMDM3NDk3MDg4ODY5MjE4MDIwNTE4OTMzOTUwNzIzODUzOTIwNTE0NDYzNDE5NzI2NTI4NzI4Njk2NTExMDg2MjU3MTQ5MjE5ODg0OTk3ODc0ODg3Mzc3MTM0NTY4NjIwOTE2NzA1OCcsXHJcblxyXG4gIC8vIFBpICgxMDI1IGRpZ2l0cykuXHJcbiAgUEkgPSAnMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjkzOTkzNzUxMDU4MjA5NzQ5NDQ1OTIzMDc4MTY0MDYyODYyMDg5OTg2MjgwMzQ4MjUzNDIxMTcwNjc5ODIxNDgwODY1MTMyODIzMDY2NDcwOTM4NDQ2MDk1NTA1ODIyMzE3MjUzNTk0MDgxMjg0ODExMTc0NTAyODQxMDI3MDE5Mzg1MjExMDU1NTk2NDQ2MjI5NDg5NTQ5MzAzODE5NjQ0Mjg4MTA5NzU2NjU5MzM0NDYxMjg0NzU2NDgyMzM3ODY3ODMxNjUyNzEyMDE5MDkxNDU2NDg1NjY5MjM0NjAzNDg2MTA0NTQzMjY2NDgyMTMzOTM2MDcyNjAyNDkxNDEyNzM3MjQ1ODcwMDY2MDYzMTU1ODgxNzQ4ODE1MjA5MjA5NjI4MjkyNTQwOTE3MTUzNjQzNjc4OTI1OTAzNjAwMTEzMzA1MzA1NDg4MjA0NjY1MjEzODQxNDY5NTE5NDE1MTE2MDk0MzMwNTcyNzAzNjU3NTk1OTE5NTMwOTIxODYxMTczODE5MzI2MTE3OTMxMDUxMTg1NDgwNzQ0NjIzNzk5NjI3NDk1NjczNTE4ODU3NTI3MjQ4OTEyMjc5MzgxODMwMTE5NDkxMjk4MzM2NzMzNjI0NDA2NTY2NDMwODYwMjEzOTQ5NDYzOTUyMjQ3MzcxOTA3MDIxNzk4NjA5NDM3MDI3NzA1MzkyMTcxNzYyOTMxNzY3NTIzODQ2NzQ4MTg0Njc2Njk0MDUxMzIwMDA1NjgxMjcxNDUyNjM1NjA4Mjc3ODU3NzEzNDI3NTc3ODk2MDkxNzM2MzcxNzg3MjE0Njg0NDA5MDEyMjQ5NTM0MzAxNDY1NDk1ODUzNzEwNTA3OTIyNzk2ODkyNTg5MjM1NDIwMTk5NTYxMTIxMjkwMjE5NjA4NjQwMzQ0MTgxNTk4MTM2Mjk3NzQ3NzEzMDk5NjA1MTg3MDcyMTEzNDk5OTk5OTgzNzI5NzgwNDk5NTEwNTk3MzE3MzI4MTYwOTYzMTg1OTUwMjQ0NTk0NTUzNDY5MDgzMDI2NDI1MjIzMDgyNTMzNDQ2ODUwMzUyNjE5MzExODgxNzEwMTAwMDMxMzc4Mzg3NTI4ODY1ODc1MzMyMDgzODE0MjA2MTcxNzc2NjkxNDczMDM1OTgyNTM0OTA0Mjg3NTU0Njg3MzExNTk1NjI4NjM4ODIzNTM3ODc1OTM3NTE5NTc3ODE4NTc3ODA1MzIxNzEyMjY4MDY2MTMwMDE5Mjc4NzY2MTExOTU5MDkyMTY0MjAxOTg5MzgwOTUyNTcyMDEwNjU0ODU4NjMyNzg5JyxcclxuXHJcblxyXG4gIC8vIFRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBvZiB0aGUgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICBERUZBVUxUUyA9IHtcclxuXHJcbiAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIHN0YXRlZCByYW5nZXMgKGluY2x1c2l2ZSkuXHJcbiAgICAvLyBNb3N0IG9mIHRoZXNlIHZhbHVlcyBjYW4gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyB0aGUgYERlY2ltYWwuY29uZmlnYCBtZXRob2QuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgcmVzdWx0IG9mIGEgY2FsY3VsYXRpb24gb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgLy8gRS5nLiBgRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwIH0pO2BcclxuICAgIHByZWNpc2lvbjogMjAsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYX0RJR0lUU1xyXG5cclxuICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byBgcHJlY2lzaW9uYC5cclxuICAgIC8vXHJcbiAgICAvLyBST1VORF9VUCAgICAgICAgIDAgQXdheSBmcm9tIHplcm8uXHJcbiAgICAvLyBST1VORF9ET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgLy8gUk9VTkRfQ0VJTCAgICAgICAyIFRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfRkxPT1IgICAgICAzIFRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy8gUk9VTkRfSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgIC8vIFJPVU5EX0hBTEZfRE9XTiAgNSBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgZG93bi5cclxuICAgIC8vIFJPVU5EX0hBTEZfRVZFTiAgNiBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyBldmVuIG5laWdoYm91ci5cclxuICAgIC8vIFJPVU5EX0hBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBST1VORF9IQUxGX0ZMT09SIDggVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgLy9cclxuICAgIC8vIEUuZy5cclxuICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gNDtgXHJcbiAgICAvLyBgRGVjaW1hbC5yb3VuZGluZyA9IERlY2ltYWwuUk9VTkRfSEFMRl9VUDtgXHJcbiAgICByb3VuZGluZzogNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgLy9cclxuICAgIC8vIFVQICAgICAgICAgMCBUaGUgcmVtYWluZGVyIGlzIHBvc2l0aXZlIGlmIHRoZSBkaXZpZGVuZCBpcyBuZWdhdGl2ZSwgZWxzZSBpcyBuZWdhdGl2ZS5cclxuICAgIC8vIERPV04gICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZCAoSmF2YVNjcmlwdCAlKS5cclxuICAgIC8vIEZMT09SICAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAvLyBIQUxGX0VWRU4gIDYgVGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cclxuICAgIC8vIEVVQ0xJRCAgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuIEFsd2F5cyBwb3NpdGl2ZS5cclxuICAgIC8vXHJcbiAgICAvLyBUcnVuY2F0ZWQgZGl2aXNpb24gKDEpLCBmbG9vcmVkIGRpdmlzaW9uICgzKSwgdGhlIElFRUUgNzU0IHJlbWFpbmRlciAoNiksIGFuZCBFdWNsaWRpYW5cclxuICAgIC8vIGRpdmlzaW9uICg5KSBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLiBUaGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc29cclxuICAgIC8vIGJlIHVzZWQsIGJ1dCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgIG1vZHVsbzogMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOVxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC03XHJcbiAgICB0b0V4cE5lZzogLTcsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIC1FWFBfTElNSVRcclxuXHJcbiAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMjFcclxuICAgIHRvRXhwUG9zOiAgMjEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gRVhQX0xJTUlUXHJcblxyXG4gICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgbWluRTogLUVYUF9MSU1JVCwgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgbWF4RTogRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBFWFBfTElNSVRcclxuXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICBjcnlwdG86IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlL2ZhbHNlXHJcbiAgfSxcclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgRURJVEFCTEUgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuXHJcbiAgaW5leGFjdCwgcXVhZHJhbnQsXHJcbiAgZXh0ZXJuYWwgPSB0cnVlLFxyXG5cclxuICBkZWNpbWFsRXJyb3IgPSAnW0RlY2ltYWxFcnJvcl0gJyxcclxuICBpbnZhbGlkQXJndW1lbnQgPSBkZWNpbWFsRXJyb3IgKyAnSW52YWxpZCBhcmd1bWVudDogJyxcclxuICBwcmVjaXNpb25MaW1pdEV4Y2VlZGVkID0gZGVjaW1hbEVycm9yICsgJ1ByZWNpc2lvbiBsaW1pdCBleGNlZWRlZCcsXHJcbiAgY3J5cHRvVW5hdmFpbGFibGUgPSBkZWNpbWFsRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyxcclxuXHJcbiAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuICBtYXRocG93ID0gTWF0aC5wb3csXHJcblxyXG4gIGlzQmluYXJ5ID0gL14wYihbMDFdKyhcXC5bMDFdKik/fFxcLlswMV0rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNIZXggPSAvXjB4KFswLTlhLWZdKyhcXC5bMC05YS1mXSopP3xcXC5bMC05YS1mXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICBpc09jdGFsID0gL14wbyhbMC03XSsoXFwuWzAtN10qKT98XFwuWzAtN10rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgaXNEZWNpbWFsID0gL14oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxyXG5cclxuICBCQVNFID0gMWU3LFxyXG4gIExPR19CQVNFID0gNyxcclxuICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcclxuXHJcbiAgTE4xMF9QUkVDSVNJT04gPSBMTjEwLmxlbmd0aCAtIDEsXHJcbiAgUElfUFJFQ0lTSU9OID0gUEkubGVuZ3RoIC0gMSxcclxuXHJcbiAgLy8gRGVjaW1hbC5wcm90b3R5cGUgb2JqZWN0XHJcbiAgUCA9IHsgbmFtZTogJ1tvYmplY3QgRGVjaW1hbF0nIH07XHJcblxyXG5cclxuLy8gRGVjaW1hbCBwcm90b3R5cGUgbWV0aG9kc1xyXG5cclxuXHJcbi8qXHJcbiAqICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgIGFic1xyXG4gKiAgY2VpbFxyXG4gKiAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICBjbXBcclxuICogIGNvc2luZSAgICAgICAgICAgICAgICAgICAgY29zXHJcbiAqICBjdWJlUm9vdCAgICAgICAgICAgICAgICAgIGNicnRcclxuICogIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICAgZHBcclxuICogIGRpdmlkZWRCeSAgICAgICAgICAgICAgICAgZGl2XHJcbiAqICBkaXZpZGVkVG9JbnRlZ2VyQnkgICAgICAgIGRpdlRvSW50XHJcbiAqICBlcXVhbHMgICAgICAgICAgICAgICAgICAgIGVxXHJcbiAqICBmbG9vclxyXG4gKiAgZ3JlYXRlclRoYW4gICAgICAgICAgICAgICBndFxyXG4gKiAgZ3JlYXRlclRoYW5PckVxdWFsVG8gICAgICBndGVcclxuICogIGh5cGVyYm9saWNDb3NpbmUgICAgICAgICAgY29zaFxyXG4gKiAgaHlwZXJib2xpY1NpbmUgICAgICAgICAgICBzaW5oXHJcbiAqICBoeXBlcmJvbGljVGFuZ2VudCAgICAgICAgIHRhbmhcclxuICogIGludmVyc2VDb3NpbmUgICAgICAgICAgICAgYWNvc1xyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgICBhY29zaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNTaW5lICAgICBhc2luaFxyXG4gKiAgaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ICBhdGFuaFxyXG4gKiAgaW52ZXJzZVNpbmUgICAgICAgICAgICAgICBhc2luXHJcbiAqICBpbnZlcnNlVGFuZ2VudCAgICAgICAgICAgIGF0YW5cclxuICogIGlzRmluaXRlXHJcbiAqICBpc0ludGVnZXIgICAgICAgICAgICAgICAgIGlzSW50XHJcbiAqICBpc05hTlxyXG4gKiAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICBpc05lZ1xyXG4gKiAgaXNQb3NpdGl2ZSAgICAgICAgICAgICAgICBpc1Bvc1xyXG4gKiAgaXNaZXJvXHJcbiAqICBsZXNzVGhhbiAgICAgICAgICAgICAgICAgIGx0XHJcbiAqICBsZXNzVGhhbk9yRXF1YWxUbyAgICAgICAgIGx0ZVxyXG4gKiAgbG9nYXJpdGhtICAgICAgICAgICAgICAgICBsb2dcclxuICogIFttYXhpbXVtXSAgICAgICAgICAgICAgICAgW21heF1cclxuICogIFttaW5pbXVtXSAgICAgICAgICAgICAgICAgW21pbl1cclxuICogIG1pbnVzICAgICAgICAgICAgICAgICAgICAgc3ViXHJcbiAqICBtb2R1bG8gICAgICAgICAgICAgICAgICAgIG1vZFxyXG4gKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgICBleHBcclxuICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICAgbG5cclxuICogIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgbmVnXHJcbiAqICBwbHVzICAgICAgICAgICAgICAgICAgICAgIGFkZFxyXG4gKiAgcHJlY2lzaW9uICAgICAgICAgICAgICAgICBzZFxyXG4gKiAgcm91bmRcclxuICogIHNpbmUgICAgICAgICAgICAgICAgICAgICAgc2luXHJcbiAqICBzcXVhcmVSb290ICAgICAgICAgICAgICAgIHNxcnRcclxuICogIHRhbmdlbnQgICAgICAgICAgICAgICAgICAgdGFuXHJcbiAqICB0aW1lcyAgICAgICAgICAgICAgICAgICAgIG11bFxyXG4gKiAgdG9CaW5hcnlcclxuICogIHRvRGVjaW1hbFBsYWNlcyAgICAgICAgICAgdG9EUFxyXG4gKiAgdG9FeHBvbmVudGlhbFxyXG4gKiAgdG9GaXhlZFxyXG4gKiAgdG9GcmFjdGlvblxyXG4gKiAgdG9IZXhhZGVjaW1hbCAgICAgICAgICAgICB0b0hleFxyXG4gKiAgdG9OZWFyZXN0XHJcbiAqICB0b051bWJlclxyXG4gKiAgdG9PY3RhbFxyXG4gKiAgdG9Qb3dlciAgICAgICAgICAgICAgICAgICBwb3dcclxuICogIHRvUHJlY2lzaW9uXHJcbiAqICB0b1NpZ25pZmljYW50RGlnaXRzICAgICAgIHRvU0RcclxuICogIHRvU3RyaW5nXHJcbiAqICB0cnVuY2F0ZWQgICAgICAgICAgICAgICAgIHRydW5jXHJcbiAqICB2YWx1ZU9mICAgICAgICAgICAgICAgICAgIHRvSlNPTlxyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKi9cclxuUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICByZXR1cm4gZmluYWxpc2UoeCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgcG9zaXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmNlaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5cclxuICogICAxICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqICAtMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gKiAgIDAgICAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLFxyXG4gKiAgIE5hTiAgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBEZWNpbWFsIGlzIE5hTi5cclxuICpcclxuICovXHJcblAuY29tcGFyZWRUbyA9IFAuY21wID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgaSwgaiwgeGRMLCB5ZEwsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgeWQgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5kLFxyXG4gICAgeHMgPSB4LnMsXHJcbiAgICB5cyA9IHkucztcclxuXHJcbiAgLy8gRWl0aGVyIE5hTiBvciDCsUluZmluaXR5P1xyXG4gIGlmICgheGQgfHwgIXlkKSB7XHJcbiAgICByZXR1cm4gIXhzIHx8ICF5cyA/IE5hTiA6IHhzICE9PSB5cyA/IHhzIDogeGQgPT09IHlkID8gMCA6ICF4ZCBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICB9XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSByZXR1cm4geGRbMF0gPyB4cyA6IHlkWzBdID8gLXlzIDogMDtcclxuXHJcbiAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gIGlmICh4cyAhPT0geXMpIHJldHVybiB4cztcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKHguZSAhPT0geS5lKSByZXR1cm4geC5lID4geS5lIF4geHMgPCAwID8gMSA6IC0xO1xyXG5cclxuICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gIGZvciAoaSA9IDAsIGogPSB4ZEwgPCB5ZEwgPyB4ZEwgOiB5ZEw7IGkgPCBqOyArK2kpIHtcclxuICAgIGlmICh4ZFtpXSAhPT0geWRbaV0pIHJldHVybiB4ZFtpXSA+IHlkW2ldIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gIHJldHVybiB4ZEwgPT09IHlkTCA/IDAgOiB4ZEwgPiB5ZEwgXiB4cyA8IDAgPyAxIDogLTE7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIGNvcygwKSAgICAgICAgID0gMVxyXG4gKiBjb3MoLTApICAgICAgICA9IDFcclxuICogY29zKEluZmluaXR5KSAgPSBOYU5cclxuICogY29zKC1JbmZpbml0eSkgPSBOYU5cclxuICogY29zKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuY29zaW5lID0gUC5jb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5kKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gY29zKDApID0gY29zKC0wKSA9IDFcclxuICBpZiAoIXguZFswXSkgcmV0dXJuIG5ldyBDdG9yKDEpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBjb3NpbmUoQ3RvciwgdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSAzID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqICBjYnJ0KDApICA9ICAwXHJcbiAqICBjYnJ0KC0wKSA9IC0wXHJcbiAqICBjYnJ0KDEpICA9ICAxXHJcbiAqICBjYnJ0KC0xKSA9IC0xXHJcbiAqICBjYnJ0KE4pICA9ICBOXHJcbiAqICBjYnJ0KC1JKSA9IC1JXHJcbiAqICBjYnJ0KEkpICA9ICBJXHJcbiAqXHJcbiAqIE1hdGguY2JydCh4KSA9ICh4IDwgMCA/IC1NYXRoLnBvdygteCwgMS8zKSA6IE1hdGgucG93KHgsIDEvMykpXHJcbiAqXHJcbiAqL1xyXG5QLmN1YmVSb290ID0gUC5jYnJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBlLCBtLCBuLCByLCByZXAsIHMsIHNkLCB0LCB0MywgdDNwbHVzeCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSB4LnMgKiBtYXRocG93KHgucyAqIHgsIDEgLyAzKTtcclxuXHJcbiAgIC8vIE1hdGguY2JydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgIC8vIFBhc3MgeCB0byBNYXRoLnBvdyBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICBpZiAoIXMgfHwgTWF0aC5hYnMocykgPT0gMSAvIDApIHtcclxuICAgIG4gPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgZSA9IHguZTtcclxuXHJcbiAgICAvLyBBZGp1c3QgbiBleHBvbmVudCBzbyBpdCBpcyBhIG11bHRpcGxlIG9mIDMgYXdheSBmcm9tIHggZXhwb25lbnQuXHJcbiAgICBpZiAocyA9IChlIC0gbi5sZW5ndGggKyAxKSAlIDMpIG4gKz0gKHMgPT0gMSB8fCBzID09IC0yID8gJzAnIDogJzAwJyk7XHJcbiAgICBzID0gbWF0aHBvdyhuLCAxIC8gMyk7XHJcblxyXG4gICAgLy8gUmFyZWx5LCBlIG1heSBiZSBvbmUgbGVzcyB0aGFuIHRoZSByZXN1bHQgZXhwb25lbnQgdmFsdWUuXHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAzKSAtIChlICUgMyA9PSAoZSA8IDAgPyAtMSA6IDIpKTtcclxuXHJcbiAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gJzVlJyArIGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgfVxyXG5cclxuICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICAgIHIucyA9IHgucztcclxuICB9IGVsc2Uge1xyXG4gICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgLy8gSGFsbGV5J3MgbWV0aG9kLlxyXG4gIC8vIFRPRE8/IENvbXBhcmUgTmV3dG9uJ3MgbWV0aG9kLlxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSByO1xyXG4gICAgdDMgPSB0LnRpbWVzKHQpLnRpbWVzKHQpO1xyXG4gICAgdDNwbHVzeCA9IHQzLnBsdXMoeCk7XHJcbiAgICByID0gZGl2aWRlKHQzcGx1c3gucGx1cyh4KS50aW1lcyh0KSwgdDNwbHVzeC5wbHVzKHQzKSwgc2QgKyAyLCAxKTtcclxuXHJcbiAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvciA0OTk5XHJcbiAgICAgIC8vICwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHcsXHJcbiAgICBkID0gdGhpcy5kLFxyXG4gICAgbiA9IE5hTjtcclxuXHJcbiAgaWYgKGQpIHtcclxuICAgIHcgPSBkLmxlbmd0aCAtIDE7XHJcbiAgICBuID0gKHcgLSBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpKSAqIExPR19CQVNFO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3Qgd29yZC5cclxuICAgIHcgPSBkW3ddO1xyXG4gICAgaWYgKHcpIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbi0tO1xyXG4gICAgaWYgKG4gPCAwKSBuID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBuO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICBuIC8gMCA9IElcclxuICogIG4gLyBOID0gTlxyXG4gKiAgbiAvIEkgPSAwXHJcbiAqICAwIC8gbiA9IDBcclxuICogIDAgLyAwID0gTlxyXG4gKiAgMCAvIE4gPSBOXHJcbiAqICAwIC8gSSA9IDBcclxuICogIE4gLyBuID0gTlxyXG4gKiAgTiAvIDAgPSBOXHJcbiAqICBOIC8gTiA9IE5cclxuICogIE4gLyBJID0gTlxyXG4gKiAgSSAvIG4gPSBJXHJcbiAqICBJIC8gMCA9IElcclxuICogIEkgLyBOID0gTlxyXG4gKiAgSSAvIEkgPSBOXHJcbiAqXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICovXHJcblAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiBkaXZpZGUodGhpcywgbmV3IHRoaXMuY29uc3RydWN0b3IoeSkpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbFxyXG4gKiBieSB0aGUgdmFsdWUgb2YgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuZGl2VG9JbnQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIHJldHVybiBmaW5hbGlzZShkaXZpZGUoeCwgbmV3IEN0b3IoeSksIDAsIDEsIDEpLCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5lcXVhbHMgPSBQLmVxID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIGluIHRoZVxyXG4gKiBkaXJlY3Rpb24gb2YgbmVnYXRpdmUgSW5maW5pdHkuXHJcbiAqXHJcbiAqL1xyXG5QLmZsb29yID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMyk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCwgb3RoZXJ3aXNlIHJldHVyblxyXG4gKiBmYWxzZS5cclxuICpcclxuICovXHJcblAuZ3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBrID0gdGhpcy5jbXAoeSk7XHJcbiAgcmV0dXJuIGsgPT0gMSB8fCBrID09PSAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbMSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIGNvc2goeCkgPSAxICsgeF4yLzIhICsgeF40LzQhICsgeF42LzYhICsgLi4uXHJcbiAqXHJcbiAqIGNvc2goMCkgICAgICAgICA9IDFcclxuICogY29zaCgtMCkgICAgICAgID0gMVxyXG4gKiBjb3NoKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBjb3NoKC1JbmZpbml0eSkgPSBJbmZpbml0eVxyXG4gKiBjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKSAgIHJlc3VsdFxyXG4gKiAxMDAwICAgICAgOSAgICAgICAgICAgICAgICAgOS44NTAzNTU1NzAwODUyMzQ5Njk0ZSs0MzNcclxuICogMTAwMDAgICAgIDI1ICAgICAgICAgICAgICAgIDQuNDAzNDA5MTEyODMxNDYwNzkzNmUrNDM0MlxyXG4gKiAxMDAwMDAgICAgMTcxICAgICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAxMDAwMDAwICAgMzgxNyAgICAgICAgICAgICAgMS41MTY2MDc2OTg0MDEwNDM3NzI1ZSs0MzQyOTRcclxuICogMTAwMDAwMDAgIGFiYW5kb25lZCBhZnRlciAyIG1pbnV0ZSB3YWl0XHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgY29zaCh4KSA9IDAuNSAqIChleHAoeCkgKyBleHAoLXgpKVxyXG4gKlxyXG4gKi9cclxuUC5oeXBlcmJvbGljQ29zaW5lID0gUC5jb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBrLCBuLCBwciwgcm0sIGxlbixcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBvbmUgPSBuZXcgQ3RvcigxKTtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4LnMgPyAxIC8gMCA6IE5hTik7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBvbmU7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDEgLSA4Y29zXjIoeCkgKyA4Y29zXjQoeCkgKyAxXHJcbiAgLy8gaS5lLiBjb3MoeCkgPSAxIC0gY29zXjIoeC80KSg4IC0gOGNvc14yKHgvNCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAvLyBUT0RPPyBFc3RpbWF0aW9uIHJldXNlZCBmcm9tIGNvc2luZSgpIGFuZCBtYXkgbm90IGJlIG9wdGltYWwgaGVyZS5cclxuICBpZiAobGVuIDwgMzIpIHtcclxuICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICBuID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBrID0gMTY7XHJcbiAgICBuID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gIH1cclxuXHJcbiAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKG4pLCBuZXcgQ3RvcigxKSwgdHJ1ZSk7XHJcblxyXG4gIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgdmFyIGNvc2gyX3gsXHJcbiAgICBpID0gayxcclxuICAgIGQ4ID0gbmV3IEN0b3IoOCk7XHJcbiAgZm9yICg7IGktLTspIHtcclxuICAgIGNvc2gyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IG9uZS5taW51cyhjb3NoMl94LnRpbWVzKGQ4Lm1pbnVzKGNvc2gyX3gudGltZXMoZDgpKSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogc2luaCh4KSA9IHggKyB4XjMvMyEgKyB4XjUvNSEgKyB4XjcvNyEgKyAuLi5cclxuICpcclxuICogc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBzaW5oKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gKiBzaW5oKC1JbmZpbml0eSkgPSAtSW5maW5pdHlcclxuICogc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKVxyXG4gKiAxMCAgICAgICAyIG1zXHJcbiAqIDEwMCAgICAgIDUgbXNcclxuICogMTAwMCAgICAgMTQgbXNcclxuICogMTAwMDAgICAgODIgbXNcclxuICogMTAwMDAwICAgODg2IG1zICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gKiAyMDAwMDAgICAyNjEzIG1zXHJcbiAqIDMwMDAwMCAgIDU0MDcgbXNcclxuICogNDAwMDAwICAgODgyNCBtc1xyXG4gKiA1MDAwMDAgICAxMzAyNiBtcyAgICAgICAgICA4LjcwODA2NDM2MTI3MTgwODQxMjllKzIxNzE0NlxyXG4gKiAxMDAwMDAwICA0ODU0MyBtc1xyXG4gKlxyXG4gKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIHNpbmgoeCkgPSAwLjUgKiAoZXhwKHgpIC0gZXhwKC14KSlcclxuICpcclxuICovXHJcblAuaHlwZXJib2xpY1NpbmUgPSBQLnNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGssIHByLCBybSwgbGVuLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICBpZiAobGVuIDwgMykge1xyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIEFsdGVybmF0aXZlIGFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCgzeCkgPSBzaW5oKHgpKDMgKyA0c2luaF4yKHgpKVxyXG4gICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzMpKDMgKyA0c2luaF4yKHgvMykpXHJcbiAgICAvLyAzIG11bHRpcGxpY2F0aW9ucyBhbmQgMSBhZGRpdGlvblxyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luaCg1eCkgPSBzaW5oKHgpKDUgKyBzaW5oXjIoeCkoMjAgKyAxNnNpbmheMih4KSkpXHJcbiAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvNSkoNSArIHNpbmheMih4LzUpKDIwICsgMTZzaW5oXjIoeC81KSkpXHJcbiAgICAvLyA0IG11bHRpcGxpY2F0aW9ucyBhbmQgMiBhZGRpdGlvbnNcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgICB4ID0geC50aW1lcygxIC8gdGlueVBvdyg1LCBrKSk7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG5cclxuICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICB2YXIgc2luaDJfeCxcclxuICAgICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgICBmb3IgKDsgay0tOykge1xyXG4gICAgICBzaW5oMl94ID0geC50aW1lcyh4KTtcclxuICAgICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW5oMl94LnRpbWVzKGQxNi50aW1lcyhzaW5oMl94KS5wbHVzKGQyMCkpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAqIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLTEsIDFdXHJcbiAqXHJcbiAqIHRhbmgoeCkgPSBzaW5oKHgpIC8gY29zaCh4KVxyXG4gKlxyXG4gKiB0YW5oKDApICAgICAgICAgPSAwXHJcbiAqIHRhbmgoLTApICAgICAgICA9IC0wXHJcbiAqIHRhbmgoSW5maW5pdHkpICA9IDFcclxuICogdGFuaCgtSW5maW5pdHkpID0gLTFcclxuICogdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmh5cGVyYm9saWNUYW5nZW50ID0gUC50YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyk7XHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDc7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHJldHVybiBkaXZpZGUoeC5zaW5oKCksIHguY29zaCgpLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgKGludmVyc2UgY29zaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZlxyXG4gKiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy0xLCAxXVxyXG4gKiBSYW5nZTogWzAsIHBpXVxyXG4gKlxyXG4gKiBhY29zKHgpID0gcGkvMiAtIGFzaW4oeClcclxuICpcclxuICogYWNvcygwKSAgICAgICA9IHBpLzJcclxuICogYWNvcygtMCkgICAgICA9IHBpLzJcclxuICogYWNvcygxKSAgICAgICA9IDBcclxuICogYWNvcygtMSkgICAgICA9IHBpXHJcbiAqIGFjb3MoMS8yKSAgICAgPSBwaS8zXHJcbiAqIGFjb3MoLTEvMikgICAgPSAyKnBpLzNcclxuICogYWNvcyh8eHwgPiAxKSA9IE5hTlxyXG4gKiBhY29zKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLmludmVyc2VDb3NpbmUgPSBQLmFjb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBrID0geC5hYnMoKS5jbXAoMSksXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICBpZiAoayAhPT0gLTEpIHtcclxuICAgIHJldHVybiBrID09PSAwXHJcbiAgICAgIC8vIHx4fCBpcyAxXHJcbiAgICAgID8geC5pc05lZygpID8gZ2V0UGkoQ3RvciwgcHIsIHJtKSA6IG5ldyBDdG9yKDApXHJcbiAgICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgICAgOiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYWNvcygwLjUpID0gcGkvMyBhbmQgYWNvcygtMC41KSA9IDIqcGkvM1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguYXNpbigpO1xyXG4gIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gaGFsZlBpLm1pbnVzKHgpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBpbiByYWRpYW5zIG9mIHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWzEsIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWzAsIEluZmluaXR5XVxyXG4gKlxyXG4gKiBhY29zaCh4KSA9IGxuKHggKyBzcXJ0KHheMiAtIDEpKVxyXG4gKlxyXG4gKiBhY29zaCh4IDwgMSkgICAgID0gTmFOXHJcbiAqIGFjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICogYWNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAqIGFjb3NoKC1JbmZpbml0eSkgPSBOYU5cclxuICogYWNvc2goMCkgICAgICAgICA9IE5hTlxyXG4gKiBhY29zaCgtMCkgICAgICAgID0gTmFOXHJcbiAqIGFjb3NoKDEpICAgICAgICAgPSAwXHJcbiAqIGFjb3NoKC0xKSAgICAgICAgPSBOYU5cclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgPSBQLmFjb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBwciwgcm0sXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoeC5sdGUoMSkpIHJldHVybiBuZXcgQ3Rvcih4LmVxKDEpID8gMCA6IE5hTik7XHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA0O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLm1pbnVzKDEpLnNxcnQoKS5wbHVzKHgpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LmxuKCk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXNpbmgoeCkgPSBsbih4ICsgc3FydCh4XjIgKyAxKSlcclxuICpcclxuICogYXNpbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gKiBhc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogYXNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gKiBhc2luaCgwKSAgICAgICAgID0gMFxyXG4gKiBhc2luaCgtMCkgICAgICAgID0gLTBcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNTaW5lID0gUC5hc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgMiAqIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA2O1xyXG4gIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIHggPSB4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIHgubG4oKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyB0YW5nZW50IGluIHJhZGlhbnMgb2YgdGhlXHJcbiAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLTEsIDFdXHJcbiAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICpcclxuICogYXRhbmgoeCkgPSAwLjUgKiBsbigoMSArIHgpIC8gKDEgLSB4KSlcclxuICpcclxuICogYXRhbmgofHh8ID4gMSkgICA9IE5hTlxyXG4gKiBhdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAqIGF0YW5oKEluZmluaXR5KSAgPSBOYU5cclxuICogYXRhbmgoLUluZmluaXR5KSA9IE5hTlxyXG4gKiBhdGFuaCgwKSAgICAgICAgID0gMFxyXG4gKiBhdGFuaCgtMCkgICAgICAgID0gLTBcclxuICogYXRhbmgoMSkgICAgICAgICA9IEluZmluaXR5XHJcbiAqIGF0YW5oKC0xKSAgICAgICAgPSAtSW5maW5pdHlcclxuICpcclxuICovXHJcblAuaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ID0gUC5hdGFuaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLCB3cHIsIHhzZCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5lID49IDApIHJldHVybiBuZXcgQ3Rvcih4LmFicygpLmVxKDEpID8geC5zIC8gMCA6IHguaXNaZXJvKCkgPyB4IDogTmFOKTtcclxuXHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgeHNkID0geC5zZCgpO1xyXG5cclxuICBpZiAoTWF0aC5tYXgoeHNkLCBwcikgPCAyICogLXguZSAtIDEpIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgcHIsIHJtLCB0cnVlKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSB4c2QgLSB4LmU7XHJcblxyXG4gIHggPSBkaXZpZGUoeC5wbHVzKDEpLCBuZXcgQ3RvcigxKS5taW51cyh4KSwgd3ByICsgcHIsIDEpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHgubG4oKTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gIHJldHVybiB4LnRpbWVzKDAuNSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgKGludmVyc2Ugc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gKiBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1waS8yLCBwaS8yXVxyXG4gKlxyXG4gKiBhc2luKHgpID0gMiphdGFuKHgvKDEgKyBzcXJ0KDEgLSB4XjIpKSlcclxuICpcclxuICogYXNpbigwKSAgICAgICA9IDBcclxuICogYXNpbigtMCkgICAgICA9IC0wXHJcbiAqIGFzaW4oMS8yKSAgICAgPSBwaS82XHJcbiAqIGFzaW4oLTEvMikgICAgPSAtcGkvNlxyXG4gKiBhc2luKDEpICAgICAgID0gcGkvMlxyXG4gKiBhc2luKC0xKSAgICAgID0gLXBpLzJcclxuICogYXNpbih8eHwgPiAxKSA9IE5hTlxyXG4gKiBhc2luKE5hTikgICAgID0gTmFOXHJcbiAqXHJcbiAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgVGF5bG9yIHNlcmllcy5cclxuICpcclxuICovXHJcblAuaW52ZXJzZVNpbmUgPSBQLmFzaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGhhbGZQaSwgayxcclxuICAgIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIGsgPSB4LmFicygpLmNtcCgxKTtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKGsgIT09IC0xKSB7XHJcblxyXG4gICAgLy8gfHh8IGlzIDFcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgIGhhbGZQaS5zID0geC5zO1xyXG4gICAgICByZXR1cm4gaGFsZlBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFzaW4oMS8yKSA9IHBpLzYgYW5kIGFzaW4oLTEvMikgPSAtcGkvNlxyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguZGl2KG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKS5wbHVzKDEpKS5hdGFuKCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4geC50aW1lcygyKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCAoaW52ZXJzZSB0YW5nZW50KSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAqXHJcbiAqIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAqXHJcbiAqIGF0YW4oMCkgICAgICAgICA9IDBcclxuICogYXRhbigtMCkgICAgICAgID0gLTBcclxuICogYXRhbigxKSAgICAgICAgID0gcGkvNFxyXG4gKiBhdGFuKC0xKSAgICAgICAgPSAtcGkvNFxyXG4gKiBhdGFuKEluZmluaXR5KSAgPSBwaS8yXHJcbiAqIGF0YW4oLUluZmluaXR5KSA9IC1waS8yXHJcbiAqIGF0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5pbnZlcnNlVGFuZ2VudCA9IFAuYXRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaSwgaiwgaywgbiwgcHgsIHQsIHIsIHdwciwgeDIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHtcclxuICAgIGlmICgheC5zKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmIChwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICByLnMgPSB4LnM7XHJcbiAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoeC5pc1plcm8oKSkge1xyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG4gIH0gZWxzZSBpZiAoeC5hYnMoKS5lcSgxKSAmJiBwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC4yNSk7XHJcbiAgICByLnMgPSB4LnM7XHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gd3ByID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgLy8gVE9ETz8gaWYgKHggPj0gMSAmJiBwciA8PSBQSV9QUkVDSVNJT04pIGF0YW4oeCkgPSBoYWxmUGkgKiB4LnMgLSBhdGFuKDEgLyB4KTtcclxuXHJcbiAgLy8gQXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgLy8gRW5zdXJlIHx4fCA8IDAuNDJcclxuICAvLyBhdGFuKHgpID0gMiAqIGF0YW4oeCAvICgxICsgc3FydCgxICsgeF4yKSkpXHJcblxyXG4gIGsgPSBNYXRoLm1pbigyOCwgd3ByIC8gTE9HX0JBU0UgKyAyIHwgMCk7XHJcblxyXG4gIGZvciAoaSA9IGs7IGk7IC0taSkgeCA9IHguZGl2KHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cygxKSk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGogPSBNYXRoLmNlaWwod3ByIC8gTE9HX0JBU0UpO1xyXG4gIG4gPSAxO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICByID0gbmV3IEN0b3IoeCk7XHJcbiAgcHggPSB4O1xyXG5cclxuICAvLyBhdGFuKHgpID0geCAtIHheMy8zICsgeF41LzUgLSB4XjcvNyArIC4uLlxyXG4gIGZvciAoOyBpICE9PSAtMTspIHtcclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgdCA9IHIubWludXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgciA9IHQucGx1cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgaWYgKHIuZFtqXSAhPT0gdm9pZCAwKSBmb3IgKGkgPSBqOyByLmRbaV0gPT09IHQuZFtpXSAmJiBpLS07KTtcclxuICB9XHJcblxyXG4gIGlmIChrKSByID0gci50aW1lcygyIDw8IChrIC0gMSkpO1xyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShyLCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLmQ7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5kLmxlbmd0aCAtIDI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBOYU4sIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhdGhpcy5zO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzTmVnYXRpdmUgPSBQLmlzTmVnID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPCAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgcG9zaXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqXHJcbiAqL1xyXG5QLmlzUG9zaXRpdmUgPSBQLmlzUG9zID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnMgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICpcclxuICovXHJcblAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiAhIXRoaXMuZCAmJiB0aGlzLmRbMF0gPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbiA9IFAubHQgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA8IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuUC5sZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAxO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdG8gdGhlIHNwZWNpZmllZCBiYXNlLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIElmIG5vIGJhc2UgaXMgc3BlY2lmaWVkLCByZXR1cm4gbG9nWzEwXShhcmcpLlxyXG4gKlxyXG4gKiBsb2dbYmFzZV0oYXJnKSA9IGxuKGFyZykgLyBsbihiYXNlKVxyXG4gKlxyXG4gKiBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkIGlmIHRoZSBiYXNlIG9mIHRoZSBsb2cgaXMgMTAsIGFuZCAnYWxtb3N0IGFsd2F5cydcclxuICogb3RoZXJ3aXNlOlxyXG4gKlxyXG4gKiBEZXBlbmRpbmcgb24gdGhlIHJvdW5kaW5nIG1vZGUsIHRoZSByZXN1bHQgbWF5IGJlIGluY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGZpcnN0IGZpZnRlZW5cclxuICogcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OTk5OTk5OTk5OTkgb3IgWzUwXTAwMDAwMDAwMDAwMDAwLiBJbiB0aGF0IGNhc2UsIHRoZSBtYXhpbXVtIGVycm9yXHJcbiAqIGJldHdlZW4gdGhlIHJlc3VsdCBhbmQgdGhlIGNvcnJlY3RseSByb3VuZGVkIHJlc3VsdCB3aWxsIGJlIG9uZSB1bHAgKHVuaXQgaW4gdGhlIGxhc3QgcGxhY2UpLlxyXG4gKlxyXG4gKiBsb2dbLWJdKGEpICAgICAgID0gTmFOXHJcbiAqIGxvZ1swXShhKSAgICAgICAgPSBOYU5cclxuICogbG9nWzFdKGEpICAgICAgICA9IE5hTlxyXG4gKiBsb2dbTmFOXShhKSAgICAgID0gTmFOXHJcbiAqIGxvZ1tJbmZpbml0eV0oYSkgPSBOYU5cclxuICogbG9nW2JdKDApICAgICAgICA9IC1JbmZpbml0eVxyXG4gKiBsb2dbYl0oLTApICAgICAgID0gLUluZmluaXR5XHJcbiAqIGxvZ1tiXSgtYSkgICAgICAgPSBOYU5cclxuICogbG9nW2JdKDEpICAgICAgICA9IDBcclxuICogbG9nW2JdKEluZmluaXR5KSA9IEluZmluaXR5XHJcbiAqIGxvZ1tiXShOYU4pICAgICAgPSBOYU5cclxuICpcclxuICogW2Jhc2VdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAqXHJcbiAqL1xyXG5QLmxvZ2FyaXRobSA9IFAubG9nID0gZnVuY3Rpb24gKGJhc2UpIHtcclxuICB2YXIgaXNCYXNlMTAsIGQsIGRlbm9taW5hdG9yLCBrLCBpbmYsIG51bSwgc2QsIHIsXHJcbiAgICBhcmcgPSB0aGlzLFxyXG4gICAgQ3RvciA9IGFyZy5jb25zdHJ1Y3RvcixcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBndWFyZCA9IDU7XHJcblxyXG4gIC8vIERlZmF1bHQgYmFzZSBpcyAxMC5cclxuICBpZiAoYmFzZSA9PSBudWxsKSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoMTApO1xyXG4gICAgaXNCYXNlMTAgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBiYXNlID0gbmV3IEN0b3IoYmFzZSk7XHJcbiAgICBkID0gYmFzZS5kO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYmFzZSBpcyBuZWdhdGl2ZSwgb3Igbm9uLWZpbml0ZSwgb3IgaXMgMCBvciAxLlxyXG4gICAgaWYgKGJhc2UucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYmFzZS5lcSgxKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgaXNCYXNlMTAgPSBiYXNlLmVxKDEwKTtcclxuICB9XHJcblxyXG4gIGQgPSBhcmcuZDtcclxuXHJcbiAgLy8gSXMgYXJnIG5lZ2F0aXZlLCBub24tZmluaXRlLCAwIG9yIDE/XHJcbiAgaWYgKGFyZy5zIDwgMCB8fCAhZCB8fCAhZFswXSB8fCBhcmcuZXEoMSkpIHtcclxuICAgIHJldHVybiBuZXcgQ3RvcihkICYmICFkWzBdID8gLTEgLyAwIDogYXJnLnMgIT0gMSA/IE5hTiA6IGQgPyAwIDogMSAvIDApO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhlIHJlc3VsdCB3aWxsIGhhdmUgYSBub24tdGVybWluYXRpbmcgZGVjaW1hbCBleHBhbnNpb24gaWYgYmFzZSBpcyAxMCBhbmQgYXJnIGlzIG5vdCBhblxyXG4gIC8vIGludGVnZXIgcG93ZXIgb2YgMTAuXHJcbiAgaWYgKGlzQmFzZTEwKSB7XHJcbiAgICBpZiAoZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGluZiA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGsgPSBkWzBdOyBrICUgMTAgPT09IDA7KSBrIC89IDEwO1xyXG4gICAgICBpbmYgPSBrICE9PSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBzZCA9IHByICsgZ3VhcmQ7XHJcbiAgbnVtID0gbmF0dXJhbExvZ2FyaXRobShhcmcsIHNkKTtcclxuICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG5cclxuICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSA1IHJvdW5kaW5nIGRpZ2l0cy5cclxuICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgLy8gSWYgYXQgYSByb3VuZGluZyBib3VuZGFyeSwgaS5lLiB0aGUgcmVzdWx0J3Mgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCxcclxuICAvLyBjYWxjdWxhdGUgMTAgZnVydGhlciBkaWdpdHMuXHJcbiAgLy9cclxuICAvLyBJZiB0aGUgcmVzdWx0IGlzIGtub3duIHRvIGhhdmUgYW4gaW5maW5pdGUgZGVjaW1hbCBleHBhbnNpb24sIHJlcGVhdCB0aGlzIHVudGlsIGl0IGlzIGNsZWFyXHJcbiAgLy8gdGhhdCB0aGUgcmVzdWx0IGlzIGFib3ZlIG9yIGJlbG93IHRoZSBib3VuZGFyeS4gT3RoZXJ3aXNlLCBpZiBhZnRlciBjYWxjdWxhdGluZyB0aGUgMTBcclxuICAvLyBmdXJ0aGVyIGRpZ2l0cywgdGhlIGxhc3QgMTQgYXJlIG5pbmVzLCByb3VuZCB1cCBhbmQgYXNzdW1lIHRoZSByZXN1bHQgaXMgZXhhY3QuXHJcbiAgLy8gQWxzbyBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdCBpZiB0aGUgbGFzdCAxNCBhcmUgemVyby5cclxuICAvL1xyXG4gIC8vIEV4YW1wbGUgb2YgYSByZXN1bHQgdGhhdCB3aWxsIGJlIGluY29ycmVjdGx5IHJvdW5kZWQ6XHJcbiAgLy8gbG9nWzEwNDg1NzZdKDQ1MDM1OTk2MjczNzA1MDIpID0gMi42MDAwMDAwMDAwMDAwMDAwOTYxMDI3OTUxMTQ0NDc0Ni4uLlxyXG4gIC8vIFRoZSBhYm92ZSByZXN1bHQgY29ycmVjdGx5IHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWwgcGxhY2Ugc2hvdWxkIGJlIDIuNywgYnV0IGl0XHJcbiAgLy8gd2lsbCBiZSBnaXZlbiBhcyAyLjYgYXMgdGhlcmUgYXJlIDE1IHplcm9zIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSByZXF1ZXN0ZWQgZGVjaW1hbCBwbGFjZSwgc29cclxuICAvLyB0aGUgZXhhY3QgcmVzdWx0IHdvdWxkIGJlIGFzc3VtZWQgdG8gYmUgMi42LCB3aGljaCByb3VuZGVkIHVzaW5nIFJPVU5EX0NFSUwgdG8gMSBkZWNpbWFsXHJcbiAgLy8gcGxhY2UgaXMgc3RpbGwgMi42LlxyXG4gIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgayA9IHByLCBybSkpIHtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIHNkICs9IDEwO1xyXG4gICAgICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gICAgICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG4gICAgICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgICAgIGlmICghaW5mKSB7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQsIGFzIHRoZSBmaXJzdCBtYXkgYmUgNC5cclxuICAgICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UoayArIDEsIGsgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDEsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrICs9IDEwLCBybSkpO1xyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdsdCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuUC5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdndCcpO1xyXG59O1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiAgbiAtIDAgPSBuXHJcbiAqICBuIC0gTiA9IE5cclxuICogIG4gLSBJID0gLUlcclxuICogIDAgLSBuID0gLW5cclxuICogIDAgLSAwID0gMFxyXG4gKiAgMCAtIE4gPSBOXHJcbiAqICAwIC0gSSA9IC1JXHJcbiAqICBOIC0gbiA9IE5cclxuICogIE4gLSAwID0gTlxyXG4gKiAgTiAtIE4gPSBOXHJcbiAqICBOIC0gSSA9IE5cclxuICogIEkgLSBuID0gSVxyXG4gKiAgSSAtIDAgPSBJXHJcbiAqICBJIC0gTiA9IE5cclxuICogIEkgLSBJID0gTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZCwgZSwgaSwgaiwgaywgbGVuLCBwciwgcm0sIHhkLCB4ZSwgeExUeSwgeWQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgIGVsc2UgaWYgKHguZCkgeS5zID0gLXkucztcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICBlbHNlIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zICE9PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICB9XHJcblxyXG4gIHhkID0geC5kO1xyXG4gIHlkID0geS5kO1xyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIHplcm8gYW5kIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoeWRbMF0pIHkucyA9IC15LnM7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvIGFuZCB4IGlzIG5vbi16ZXJvLlxyXG4gICAgZWxzZSBpZiAoeGRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICAvLyBSZXR1cm4gemVybyBpZiBib3RoIGFyZSB6ZXJvLlxyXG4gICAgLy8gRnJvbSBJRUVFIDc1NCAoMjAwOCkgNi4zOiAwIC0gMCA9IC0wIC0gLTAgPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eS5cclxuICAgIGVsc2UgcmV0dXJuIG5ldyBDdG9yKHJtID09PSAzID8gLTAgOiAwKTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9XHJcblxyXG4gIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGUgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgayA9IHhlIC0gZTtcclxuXHJcbiAgLy8gSWYgYmFzZSAxZTcgZXhwb25lbnRzIGRpZmZlci4uLlxyXG4gIGlmIChrKSB7XHJcbiAgICB4TFR5ID0gayA8IDA7XHJcblxyXG4gICAgaWYgKHhMVHkpIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBrID0gLWs7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IHhlO1xyXG4gICAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTnVtYmVycyB3aXRoIG1hc3NpdmVseSBkaWZmZXJlbnQgZXhwb25lbnRzIHdvdWxkIHJlc3VsdCBpbiBhIHZlcnkgaGlnaCBudW1iZXIgb2ZcclxuICAgIC8vIHplcm9zIG5lZWRpbmcgdG8gYmUgcHJlcGVuZGVkLCBidXQgdGhpcyBjYW4gYmUgYXZvaWRlZCB3aGlsZSBzdGlsbCBlbnN1cmluZyBjb3JyZWN0XHJcbiAgICAvLyByb3VuZGluZyBieSBsaW1pdGluZyB0aGUgbnVtYmVyIG9mIHplcm9zIHRvIGBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSkgKyAyYC5cclxuICAgIGkgPSBNYXRoLm1heChNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSksIGxlbikgKyAyO1xyXG5cclxuICAgIGlmIChrID4gaSkge1xyXG4gICAgICBrID0gaTtcclxuICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgZC5yZXZlcnNlKCk7XHJcbiAgICBmb3IgKGkgPSBrOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuXHJcbiAgLy8gQmFzZSAxZTcgZXhwb25lbnRzIGVxdWFsLlxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gQ2hlY2sgZGlnaXRzIHRvIGRldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cclxuXHJcbiAgICBpID0geGQubGVuZ3RoO1xyXG4gICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgeExUeSA9IGkgPCBsZW47XHJcbiAgICBpZiAoeExUeSkgbGVuID0gaTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgaWYgKHhkW2ldICE9IHlkW2ldKSB7XHJcbiAgICAgICAgeExUeSA9IHhkW2ldIDwgeWRbaV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBrID0gMDtcclxuICB9XHJcblxyXG4gIGlmICh4TFR5KSB7XHJcbiAgICBkID0geGQ7XHJcbiAgICB4ZCA9IHlkO1xyXG4gICAgeWQgPSBkO1xyXG4gICAgeS5zID0gLXkucztcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgLy8gQXBwZW5kIHplcm9zIHRvIGB4ZGAgaWYgc2hvcnRlci5cclxuICAvLyBEb24ndCBhZGQgemVyb3MgdG8gYHlkYCBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0aW9uIG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgYHlkYCBsZW5ndGguXHJcbiAgZm9yIChpID0geWQubGVuZ3RoIC0gbGVuOyBpID4gMDsgLS1pKSB4ZFtsZW4rK10gPSAwO1xyXG5cclxuICAvLyBTdWJ0cmFjdCB5ZCBmcm9tIHhkLlxyXG4gIGZvciAoaSA9IHlkLmxlbmd0aDsgaSA+IGs7KSB7XHJcblxyXG4gICAgaWYgKHhkWy0taV0gPCB5ZFtpXSkge1xyXG4gICAgICBmb3IgKGogPSBpOyBqICYmIHhkWy0tal0gPT09IDA7KSB4ZFtqXSA9IEJBU0UgLSAxO1xyXG4gICAgICAtLXhkW2pdO1xyXG4gICAgICB4ZFtpXSArPSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIHhkW2ldIC09IHlkW2ldO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoOyB4ZFstLWxlbl0gPT09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICBmb3IgKDsgeGRbMF0gPT09IDA7IHhkLnNoaWZ0KCkpIC0tZTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoIXhkWzBdKSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICB5LmQgPSB4ZDtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqICAgbiAlIDAgPSAgTlxyXG4gKiAgIG4gJSBOID0gIE5cclxuICogICBuICUgSSA9ICBuXHJcbiAqICAgMCAlIG4gPSAgMFxyXG4gKiAgLTAgJSBuID0gLTBcclxuICogICAwICUgMCA9ICBOXHJcbiAqICAgMCAlIE4gPSAgTlxyXG4gKiAgIDAgJSBJID0gIDBcclxuICogICBOICUgbiA9ICBOXHJcbiAqICAgTiAlIDAgPSAgTlxyXG4gKiAgIE4gJSBOID0gIE5cclxuICogICBOICUgSSA9ICBOXHJcbiAqICAgSSAlIG4gPSAgTlxyXG4gKiAgIEkgJSAwID0gIE5cclxuICogICBJICUgTiA9ICBOXHJcbiAqICAgSSAlIEkgPSAgTlxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1vZHVsbyBgeWAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSBtb2R1bG8gbW9kZS5cclxuICpcclxuICovXHJcblAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHZhciBxLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrFJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIMKxMC5cclxuICBpZiAoIXguZCB8fCAheS5zIHx8IHkuZCAmJiAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgLy8gUmV0dXJuIHggaWYgeSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwLlxyXG4gIGlmICgheS5kIHx8IHguZCAmJiAheC5kWzBdKSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxuICB9XHJcblxyXG4gIC8vIFByZXZlbnQgcm91bmRpbmcgb2YgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucy5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICBpZiAoQ3Rvci5tb2R1bG8gPT0gOSkge1xyXG5cclxuICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgLy8gcmVzdWx0ID0geCAtIHEgKiB5ICAgIHdoZXJlICAwIDw9IHJlc3VsdCA8IGFicyh5KVxyXG4gICAgcSA9IGRpdmlkZSh4LCB5LmFicygpLCAwLCAzLCAxKTtcclxuICAgIHEucyAqPSB5LnM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHEgPSBkaXZpZGUoeCwgeSwgMCwgQ3Rvci5tb2R1bG8sIDEpO1xyXG4gIH1cclxuXHJcbiAgcSA9IHEudGltZXMoeSk7XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHgubWludXMocSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICogaS5lLiB0aGUgYmFzZSBlIHJhaXNlZCB0byB0aGUgcG93ZXIgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC5uYXR1cmFsRXhwb25lbnRpYWwgPSBQLmV4cCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gbmF0dXJhbEV4cG9uZW50aWFsKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLm5hdHVyYWxMb2dhcml0aG0gPSBQLmxuID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBuYXR1cmFsTG9nYXJpdGhtKHRoaXMpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbmVnYXRlZCwgaS5lLiBhcyBpZiBtdWx0aXBsaWVkIGJ5XHJcbiAqIC0xLlxyXG4gKlxyXG4gKi9cclxuUC5uZWdhdGVkID0gUC5uZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICB4LnMgPSAteC5zO1xyXG4gIHJldHVybiBmaW5hbGlzZSh4KTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiAgbiArIDAgPSBuXHJcbiAqICBuICsgTiA9IE5cclxuICogIG4gKyBJID0gSVxyXG4gKiAgMCArIG4gPSBuXHJcbiAqICAwICsgMCA9IDBcclxuICogIDAgKyBOID0gTlxyXG4gKiAgMCArIEkgPSBJXHJcbiAqICBOICsgbiA9IE5cclxuICogIE4gKyAwID0gTlxyXG4gKiAgTiArIE4gPSBOXHJcbiAqICBOICsgSSA9IE5cclxuICogIEkgKyBuID0gSVxyXG4gKiAgSSArIDAgPSBJXHJcbiAqICBJICsgTiA9IE5cclxuICogIEkgKyBJID0gSVxyXG4gKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHBsdXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGNhcnJ5LCBkLCBlLCBpLCBrLCBsZW4sIHByLCBybSwgeGQsIHlkLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gIGlmICgheC5kIHx8ICF5LmQpIHtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCBkaWZmZXJlbnQgc2lnbnMuXHJcbiAgICAvLyBSZXR1cm4geSBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgZWxzZSBpZiAoIXguZCkgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgPT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICB5LnMgPSAteS5zO1xyXG4gICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgfVxyXG5cclxuICB4ZCA9IHguZDtcclxuICB5ZCA9IHkuZDtcclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgemVyby5cclxuICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8uXHJcbiAgICBpZiAoIXlkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfVxyXG5cclxuICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAvLyBDYWxjdWxhdGUgYmFzZSAxZTcgZXhwb25lbnRzLlxyXG4gIGsgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG4gIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgaSA9IGsgLSBlO1xyXG5cclxuICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgaWYgKGkpIHtcclxuXHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICBpID0gLWk7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgZSA9IGs7XHJcbiAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMaW1pdCBudW1iZXIgb2YgemVyb3MgcHJlcGVuZGVkIHRvIG1heChjZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMS5cclxuICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcbiAgICBsZW4gPSBrID4gbGVuID8gayArIDEgOiBsZW4gKyAxO1xyXG5cclxuICAgIGlmIChpID4gbGVuKSB7XHJcbiAgICAgIGkgPSBsZW47XHJcbiAgICAgIGQubGVuZ3RoID0gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gTm90ZTogRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICBkLnJldmVyc2UoKTtcclxuICAgIGZvciAoOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICBkLnJldmVyc2UoKTtcclxuICB9XHJcblxyXG4gIGxlbiA9IHhkLmxlbmd0aDtcclxuICBpID0geWQubGVuZ3RoO1xyXG5cclxuICAvLyBJZiB5ZCBpcyBsb25nZXIgdGhhbiB4ZCwgc3dhcCB4ZCBhbmQgeWQgc28geGQgcG9pbnRzIHRvIHRoZSBsb25nZXIgYXJyYXkuXHJcbiAgaWYgKGxlbiAtIGkgPCAwKSB7XHJcbiAgICBpID0gbGVuO1xyXG4gICAgZCA9IHlkO1xyXG4gICAgeWQgPSB4ZDtcclxuICAgIHhkID0gZDtcclxuICB9XHJcblxyXG4gIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHlkLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhkIGNhbiBiZSBsZWZ0IGFzIHRoZXkgYXJlLlxyXG4gIGZvciAoY2FycnkgPSAwOyBpOykge1xyXG4gICAgY2FycnkgPSAoeGRbLS1pXSA9IHhkW2ldICsgeWRbaV0gKyBjYXJyeSkgLyBCQVNFIHwgMDtcclxuICAgIHhkW2ldICU9IEJBU0U7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FycnkpIHtcclxuICAgIHhkLnVuc2hpZnQoY2FycnkpO1xyXG4gICAgKytlO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgeS5kID0geGQ7XHJcbiAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIGUpO1xyXG5cclxuICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogW3pdIHtib29sZWFufG51bWJlcn0gV2hldGhlciB0byBjb3VudCBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3M6IHRydWUsIGZhbHNlLCAxIG9yIDAuXHJcbiAqXHJcbiAqL1xyXG5QLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoeikge1xyXG4gIHZhciBrLFxyXG4gICAgeCA9IHRoaXM7XHJcblxyXG4gIGlmICh6ICE9PSB2b2lkIDAgJiYgeiAhPT0gISF6ICYmIHogIT09IDEgJiYgeiAhPT0gMCkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgeik7XHJcblxyXG4gIGlmICh4LmQpIHtcclxuICAgIGsgPSBnZXRQcmVjaXNpb24oeC5kKTtcclxuICAgIGlmICh6ICYmIHguZSArIDEgPiBrKSBrID0geC5lICsgMTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IE5hTjtcclxuICB9XHJcblxyXG4gIHJldHVybiBrO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciB1c2luZ1xyXG4gKiByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnJvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHguZSArIDEsIEN0b3Iucm91bmRpbmcpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstMSwgMV1cclxuICpcclxuICogc2luKHgpID0geCAtIHheMy8zISArIHheNS81ISAtIC4uLlxyXG4gKlxyXG4gKiBzaW4oMCkgICAgICAgICA9IDBcclxuICogc2luKC0wKSAgICAgICAgPSAtMFxyXG4gKiBzaW4oSW5maW5pdHkpICA9IE5hTlxyXG4gKiBzaW4oLUluZmluaXR5KSA9IE5hTlxyXG4gKiBzaW4oTmFOKSAgICAgICA9IE5hTlxyXG4gKlxyXG4gKi9cclxuUC5zaW5lID0gUC5zaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHByLCBybSxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gIHggPSBzaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID4gMiA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogIHNxcnQoLW4pID0gIE5cclxuICogIHNxcnQoTikgID0gIE5cclxuICogIHNxcnQoLUkpID0gIE5cclxuICogIHNxcnQoSSkgID0gIElcclxuICogIHNxcnQoMCkgID0gIDBcclxuICogIHNxcnQoLTApID0gLTBcclxuICpcclxuICovXHJcblAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbSwgbiwgc2QsIHIsIHJlcCwgdCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgZCA9IHguZCxcclxuICAgIGUgPSB4LmUsXHJcbiAgICBzID0geC5zLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gIGlmIChzICE9PSAxIHx8ICFkIHx8ICFkWzBdKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoIXMgfHwgcyA8IDAgJiYgKCFkIHx8IGRbMF0pID8gTmFOIDogZCA/IHggOiAxIC8gMCk7XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gIHMgPSBNYXRoLnNxcnQoK3gpO1xyXG5cclxuICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICBuID0gZGlnaXRzVG9TdHJpbmcoZCk7XHJcblxyXG4gICAgaWYgKChuLmxlbmd0aCArIGUpICUgMiA9PSAwKSBuICs9ICcwJztcclxuICAgIHMgPSBNYXRoLnNxcnQobik7XHJcbiAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgIH1cclxuXHJcbiAgICByID0gbmV3IEN0b3Iobik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gIH1cclxuXHJcbiAgc2QgPSAoZSA9IEN0b3IucHJlY2lzaW9uKSArIDM7XHJcblxyXG4gIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICBmb3IgKDs7KSB7XHJcbiAgICB0ID0gcjtcclxuICAgIHIgPSB0LnBsdXMoZGl2aWRlKHgsIHQsIHNkICsgMiwgMSkpLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgLy8gVE9ETz8gUmVwbGFjZSB3aXRoIGZvci1sb29wIGFuZCBjaGVja1JvdW5kaW5nRGlnaXRzLlxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgc2QpID09PSAobiA9IGRpZ2l0c1RvU3RyaW5nKHIuZCkpLnNsaWNlKDAsIHNkKSkge1xyXG4gICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHMgYXJlIDk5OTkgb3JcclxuICAgICAgLy8gNDk5OSwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgcmVwID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKlxyXG4gKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAqXHJcbiAqIHRhbigwKSAgICAgICAgID0gMFxyXG4gKiB0YW4oLTApICAgICAgICA9IC0wXHJcbiAqIHRhbihJbmZpbml0eSkgID0gTmFOXHJcbiAqIHRhbigtSW5maW5pdHkpID0gTmFOXHJcbiAqIHRhbihOYU4pICAgICAgID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5QLnRhbmdlbnQgPSBQLnRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgcHIsIHJtLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIEN0b3IucHJlY2lzaW9uID0gcHIgKyAxMDtcclxuICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgeCA9IHguc2luKCk7XHJcbiAgeC5zID0gMTtcclxuICB4ID0gZGl2aWRlKHgsIG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKSwgcHIgKyAxMCwgMCk7XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UocXVhZHJhbnQgPT0gMiB8fCBxdWFkcmFudCA9PSA0ID8geC5uZWcoKSA6IHgsIHByLCBybSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogIG4gKiAwID0gMFxyXG4gKiAgbiAqIE4gPSBOXHJcbiAqICBuICogSSA9IElcclxuICogIDAgKiBuID0gMFxyXG4gKiAgMCAqIDAgPSAwXHJcbiAqICAwICogTiA9IE5cclxuICogIDAgKiBJID0gTlxyXG4gKiAgTiAqIG4gPSBOXHJcbiAqICBOICogMCA9IE5cclxuICogIE4gKiBOID0gTlxyXG4gKiAgTiAqIEkgPSBOXHJcbiAqICBJICogbiA9IElcclxuICogIEkgKiAwID0gTlxyXG4gKiAgSSAqIE4gPSBOXHJcbiAqICBJICogSSA9IElcclxuICpcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhpcyBEZWNpbWFsIHRpbWVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKi9cclxuUC50aW1lcyA9IFAubXVsID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgY2FycnksIGUsIGksIGssIHIsIHJMLCB0LCB4ZEwsIHlkTCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICB4ZCA9IHguZCxcclxuICAgIHlkID0gKHkgPSBuZXcgQ3Rvcih5KSkuZDtcclxuXHJcbiAgeS5zICo9IHgucztcclxuXHJcbiAgIC8vIElmIGVpdGhlciBpcyBOYU4sIMKxSW5maW5pdHkgb3IgwrEwLi4uXHJcbiAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgIHJldHVybiBuZXcgQ3RvcigheS5zIHx8IHhkICYmICF4ZFswXSAmJiAheWQgfHwgeWQgJiYgIXlkWzBdICYmICF4ZFxyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrEwIGFuZCB5IGlzIMKxSW5maW5pdHksIG9yIHkgaXMgwrEwIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgID8gTmFOXHJcblxyXG4gICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgaXMgwrFJbmZpbml0eS5cclxuICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxyXG4gICAgICA6ICF4ZCB8fCAheWQgPyB5LnMgLyAwIDogeS5zICogMCk7XHJcbiAgfVxyXG5cclxuICBlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKSArIG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgeGRMID0geGQubGVuZ3RoO1xyXG4gIHlkTCA9IHlkLmxlbmd0aDtcclxuXHJcbiAgLy8gRW5zdXJlIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gIGlmICh4ZEwgPCB5ZEwpIHtcclxuICAgIHIgPSB4ZDtcclxuICAgIHhkID0geWQ7XHJcbiAgICB5ZCA9IHI7XHJcbiAgICByTCA9IHhkTDtcclxuICAgIHhkTCA9IHlkTDtcclxuICAgIHlkTCA9IHJMO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgciA9IFtdO1xyXG4gIHJMID0geGRMICsgeWRMO1xyXG4gIGZvciAoaSA9IHJMOyBpLS07KSByLnB1c2goMCk7XHJcblxyXG4gIC8vIE11bHRpcGx5IVxyXG4gIGZvciAoaSA9IHlkTDsgLS1pID49IDA7KSB7XHJcbiAgICBjYXJyeSA9IDA7XHJcbiAgICBmb3IgKGsgPSB4ZEwgKyBpOyBrID4gaTspIHtcclxuICAgICAgdCA9IHJba10gKyB5ZFtpXSAqIHhkW2sgLSBpIC0gMV0gKyBjYXJyeTtcclxuICAgICAgcltrLS1dID0gdCAlIEJBU0UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHQgLyBCQVNFIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICByW2tdID0gKHJba10gKyBjYXJyeSkgJSBCQVNFIHwgMDtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKDsgIXJbLS1yTF07KSByLnBvcCgpO1xyXG5cclxuICBpZiAoY2FycnkpICsrZTtcclxuICBlbHNlIHIuc2hpZnQoKTtcclxuXHJcbiAgeS5kID0gcjtcclxuICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudChyLCBlKTtcclxuXHJcbiAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSAyLCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0JpbmFyeSA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMiwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBkcGBcclxuICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLlxyXG4gKlxyXG4gKiBJZiBgZHBgIGlzIG9taXR0ZWQsIHJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9EZWNpbWFsUGxhY2VzID0gUC50b0RQID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICB4ID0gbmV3IEN0b3IoeCk7XHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHJldHVybiB4O1xyXG5cclxuICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICByZXR1cm4gZmluYWxpc2UoeCwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIHJvdW5kZWQgdG9cclxuICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICovXHJcblAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgc3RyLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgMSwgcm0pO1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSwgZHAgKyAxKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIG5vcm1hbCAoZml4ZWQtcG9pbnQpIG5vdGF0aW9uIHRvXHJcbiAqIGBkcGAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgYW5kIHJvdW5kZWQgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpc1xyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBBcyB3aXRoIEphdmFTY3JpcHQgbnVtYmVycywgKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqXHJcbiAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICpcclxuICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAqICgtMCkudG9GaXhlZCgxKSBpcyAnMC4wJywgYnV0ICgtMC4wMSkudG9GaXhlZCgxKSBpcyAnLTAuMCcuXHJcbiAqICgtMCkudG9GaXhlZCgzKSBpcyAnMC4wMDAnLlxyXG4gKiAoLTAuNSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKlxyXG4gKi9cclxuUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciBzdHIsIHksXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHkgPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh5LCBmYWxzZSwgZHAgKyB5LmUgKyAxKTtcclxuICB9XHJcblxyXG4gIC8vIFRvIGRldGVybWluZSB3aGV0aGVyIHRvIGFkZCB0aGUgbWludXMgc2lnbiBsb29rIGF0IHRoZSB2YWx1ZSBiZWZvcmUgaXQgd2FzIHJvdW5kZWQsXHJcbiAgLy8gaS5lLiBsb29rIGF0IGB4YCByYXRoZXIgdGhhbiBgeWAuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgYXMgYSBzaW1wbGUgZnJhY3Rpb24gd2l0aCBhbiBpbnRlZ2VyXHJcbiAqIG51bWVyYXRvciBhbmQgYW4gaW50ZWdlciBkZW5vbWluYXRvci5cclxuICpcclxuICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBtYXhpbXVtXHJcbiAqIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgdGhlIGxvd2VzdFxyXG4gKiB2YWx1ZSBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICpcclxuICogW21heERdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IE1heGltdW0gZGVub21pbmF0b3IuIEludGVnZXIgPj0gMSBhbmQgPCBJbmZpbml0eS5cclxuICpcclxuICovXHJcblAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtYXhEKSB7XHJcbiAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGssIG4sIG4wLCBuMSwgcHIsIHEsIHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhkID0geC5kLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmICgheGQpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgbjEgPSBkMCA9IG5ldyBDdG9yKDEpO1xyXG4gIGQxID0gbjAgPSBuZXcgQ3RvcigwKTtcclxuXHJcbiAgZCA9IG5ldyBDdG9yKGQxKTtcclxuICBlID0gZC5lID0gZ2V0UHJlY2lzaW9uKHhkKSAtIHguZSAtIDE7XHJcbiAgayA9IGUgJSBMT0dfQkFTRTtcclxuICBkLmRbMF0gPSBtYXRocG93KDEwLCBrIDwgMCA/IExPR19CQVNFICsgayA6IGspO1xyXG5cclxuICBpZiAobWF4RCA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gZCBpcyAxMCoqZSwgdGhlIG1pbmltdW0gbWF4LWRlbm9taW5hdG9yIG5lZWRlZC5cclxuICAgIG1heEQgPSBlID4gMCA/IGQgOiBuMTtcclxuICB9IGVsc2Uge1xyXG4gICAgbiA9IG5ldyBDdG9yKG1heEQpO1xyXG4gICAgaWYgKCFuLmlzSW50KCkgfHwgbi5sdChuMSkpIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIG4pO1xyXG4gICAgbWF4RCA9IG4uZ3QoZCkgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgbiA9IG5ldyBDdG9yKGRpZ2l0c1RvU3RyaW5nKHhkKSk7XHJcbiAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICBDdG9yLnByZWNpc2lvbiA9IGUgPSB4ZC5sZW5ndGggKiBMT0dfQkFTRSAqIDI7XHJcblxyXG4gIGZvciAoOzspICB7XHJcbiAgICBxID0gZGl2aWRlKG4sIGQsIDAsIDEsIDEpO1xyXG4gICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgIGlmIChkMi5jbXAobWF4RCkgPT0gMSkgYnJlYWs7XHJcbiAgICBkMCA9IGQxO1xyXG4gICAgZDEgPSBkMjtcclxuICAgIGQyID0gbjE7XHJcbiAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMikpO1xyXG4gICAgbjAgPSBkMjtcclxuICAgIGQyID0gZDtcclxuICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIpKTtcclxuICAgIG4gPSBkMjtcclxuICB9XHJcblxyXG4gIGQyID0gZGl2aWRlKG1heEQubWludXMoZDApLCBkMSwgMCwgMSwgMSk7XHJcbiAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgbjAucyA9IG4xLnMgPSB4LnM7XHJcblxyXG4gIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDE/XHJcbiAgciA9IGRpdmlkZShuMSwgZDEsIGUsIDEpLm1pbnVzKHgpLmFicygpLmNtcChkaXZpZGUobjAsIGQwLCBlLCAxKS5taW51cyh4KS5hYnMoKSkgPCAxXHJcbiAgICAgID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiByO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDE2LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b0hleGFkZWNpbWFsID0gUC50b0hleCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMTYsIHNkLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJucyBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIGB5YCBpbiB0aGUgZGlyZWN0aW9uIG9mIHJvdW5kaW5nXHJcbiAqIG1vZGUgYHJtYCwgb3IgYERlY2ltYWwucm91bmRpbmdgIGlmIGBybWAgaXMgb21pdHRlZCwgdG8gdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHNpZ24gYXMgdGhpcyBEZWNpbWFsLCB1bmxlc3MgZWl0aGVyIHRoaXMgRGVjaW1hbFxyXG4gKiBvciBgeWAgaXMgTmFOLCBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSBhbHNvIGJlIE5hTi5cclxuICpcclxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLlxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBtYWduaXR1ZGUgdG8gcm91bmQgdG8gYSBtdWx0aXBsZSBvZi5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xyXG4gKlxyXG4gKi9cclxuUC50b05lYXJlc3QgPSBmdW5jdGlvbiAoeSwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICBpZiAoeSA9PSBudWxsKSB7XHJcblxyXG4gICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geC5cclxuICAgIGlmICgheC5kKSByZXR1cm4geDtcclxuXHJcbiAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHggaXMgbm90IGZpbml0ZSwgcmV0dXJuIHggaWYgeSBpcyBub3QgTmFOLCBlbHNlIE5hTi5cclxuICAgIGlmICgheC5kKSByZXR1cm4geS5zID8geCA6IHk7XHJcblxyXG4gICAgLy8gSWYgeSBpcyBub3QgZmluaXRlLCByZXR1cm4gSW5maW5pdHkgd2l0aCB0aGUgc2lnbiBvZiB4IGlmIHkgaXMgSW5maW5pdHksIGVsc2UgTmFOLlxyXG4gICAgaWYgKCF5LmQpIHtcclxuICAgICAgaWYgKHkucykgeS5zID0geC5zO1xyXG4gICAgICByZXR1cm4geTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHkgaXMgbm90IHplcm8sIGNhbGN1bGF0ZSB0aGUgbmVhcmVzdCBtdWx0aXBsZSBvZiB5IHRvIHguXHJcbiAgaWYgKHkuZFswXSkge1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHggPSBkaXZpZGUoeCwgeSwgMCwgcm0sIDEpLnRpbWVzKHkpO1xyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgZmluYWxpc2UoeCk7XHJcblxyXG4gIC8vIElmIHkgaXMgemVybywgcmV0dXJuIHplcm8gd2l0aCB0aGUgc2lnbiBvZiB4LlxyXG4gIH0gZWxzZSB7XHJcbiAgICB5LnMgPSB4LnM7XHJcbiAgICB4ID0geTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXHJcbiAqIFplcm8ga2VlcHMgaXRzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiArdGhpcztcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSA4LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqXHJcbiAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKi9cclxuUC50b09jdGFsID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCA4LCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWRcclxuICogdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRUNNQVNjcmlwdCBjb21wbGlhbnQuXHJcbiAqXHJcbiAqICAgcG93KHgsIE5hTikgICAgICAgICAgICAgICAgICAgICAgICAgICA9IE5hTlxyXG4gKiAgIHBvdyh4LCDCsTApICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMVxyXG5cclxuICogICBwb3coTmFOLCBub24temVybykgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA+IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhhYnMoeCkgPiAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdyhhYnMoeCkgPT0gMSwgwrFJbmZpbml0eSkgICAgICAgICAgID0gTmFOXHJcbiAqICAgcG93KGFicyh4KSA8IDEsICtJbmZpbml0eSkgICAgICAgICAgICA9ICswXHJcbiAqICAgcG93KGFicyh4KSA8IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygrSW5maW5pdHksIHkgPiAwKSAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coK0luZmluaXR5LCB5IDwgMCkgICAgICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA+IDApICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdygtSW5maW5pdHksIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgPSAtMFxyXG4gKiAgIHBvdygtSW5maW5pdHksIGV2ZW4gaW50ZWdlciA8IDApICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA+IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArMFxyXG4gKiAgIHBvdygrMCwgeSA8IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgID0gLTBcclxuICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA+IDApICAgICAgICAgICAgID0gKzBcclxuICogICBwb3coLTAsIG9kZCBpbnRlZ2VyIDwgMCkgICAgICAgICAgICAgID0gLUluZmluaXR5XHJcbiAqICAgcG93KC0wLCBldmVuIGludGVnZXIgPCAwKSAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gKiAgIHBvdyhmaW5pdGUgeCA8IDAsIGZpbml0ZSBub24taW50ZWdlcikgPSBOYU5cclxuICpcclxuICogRm9yIG5vbi1pbnRlZ2VyIG9yIHZlcnkgbGFyZ2UgZXhwb25lbnRzIHBvdyh4LCB5KSBpcyBjYWxjdWxhdGVkIHVzaW5nXHJcbiAqXHJcbiAqICAgeF55ID0gZXhwKHkqbG4oeCkpXHJcbiAqXHJcbiAqIEFzc3VtaW5nIHRoZSBmaXJzdCAxNSByb3VuZGluZyBkaWdpdHMgYXJlIGVhY2ggZXF1YWxseSBsaWtlbHkgdG8gYmUgYW55IGRpZ2l0IDAtOSwgdGhlXHJcbiAqIHByb2JhYmlsaXR5IG9mIGFuIGluY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0XHJcbiAqIFAoWzQ5XTl7MTR9IHwgWzUwXTB7MTR9KSA9IDIgKiAwLjIgKiAxMF4tMTQgPSA0ZS0xNSA9IDEvMi41ZSsxNFxyXG4gKiBpLmUuIDEgaW4gMjUwLDAwMCwwMDAsMDAwLDAwMFxyXG4gKlxyXG4gKiBJZiBhIHJlc3VsdCBpcyBpbmNvcnJlY3RseSByb3VuZGVkIHRoZSBtYXhpbXVtIGVycm9yIHdpbGwgYmUgMSB1bHAgKHVuaXQgaW4gbGFzdCBwbGFjZSkuXHJcbiAqXHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoaXMgRGVjaW1hbC5cclxuICpcclxuICovXHJcblAudG9Qb3dlciA9IFAucG93ID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZSwgaywgcHIsIHIsIHJtLCBzLFxyXG4gICAgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHluID0gKyh5ID0gbmV3IEN0b3IoeSkpO1xyXG5cclxuICAvLyBFaXRoZXIgwrFJbmZpbml0eSwgTmFOIG9yIMKxMD9cclxuICBpZiAoIXguZCB8fCAheS5kIHx8ICF4LmRbMF0gfHwgIXkuZFswXSkgcmV0dXJuIG5ldyBDdG9yKG1hdGhwb3coK3gsIHluKSk7XHJcblxyXG4gIHggPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgaWYgKHguZXEoMSkpIHJldHVybiB4O1xyXG5cclxuICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgaWYgKHkuZXEoMSkpIHJldHVybiBmaW5hbGlzZSh4LCBwciwgcm0pO1xyXG5cclxuICAvLyB5IGV4cG9uZW50XHJcbiAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gIC8vIElmIHkgaXMgYSBzbWFsbCBpbnRlZ2VyIHVzZSB0aGUgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJyBhbGdvcml0aG0uXHJcbiAgaWYgKGUgPj0geS5kLmxlbmd0aCAtIDEgJiYgKGsgPSB5biA8IDAgPyAteW4gOiB5bikgPD0gTUFYX1NBRkVfSU5URUdFUikge1xyXG4gICAgciA9IGludFBvdyhDdG9yLCB4LCBrLCBwcik7XHJcbiAgICByZXR1cm4geS5zIDwgMCA/IG5ldyBDdG9yKDEpLmRpdihyKSA6IGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgfVxyXG5cclxuICBzID0geC5zO1xyXG5cclxuICAvLyBpZiB4IGlzIG5lZ2F0aXZlXHJcbiAgaWYgKHMgPCAwKSB7XHJcblxyXG4gICAgLy8gaWYgeSBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgaWYgKGUgPCB5LmQubGVuZ3RoIC0gMSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgLy8gUmVzdWx0IGlzIHBvc2l0aXZlIGlmIHggaXMgbmVnYXRpdmUgYW5kIHRoZSBsYXN0IGRpZ2l0IG9mIGludGVnZXIgeSBpcyBldmVuLlxyXG4gICAgaWYgKCh5LmRbZV0gJiAxKSA9PSAwKSBzID0gMTtcclxuXHJcbiAgICAvLyBpZiB4LmVxKC0xKVxyXG4gICAgaWYgKHguZSA9PSAwICYmIHguZFswXSA9PSAxICYmIHguZC5sZW5ndGggPT0gMSkge1xyXG4gICAgICB4LnMgPSBzO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVzdGltYXRlIHJlc3VsdCBleHBvbmVudC5cclxuICAvLyB4XnkgPSAxMF5lLCAgd2hlcmUgZSA9IHkgKiBsb2cxMCh4KVxyXG4gIC8vIGxvZzEwKHgpID0gbG9nMTAoeF9zaWduaWZpY2FuZCkgKyB4X2V4cG9uZW50XHJcbiAgLy8gbG9nMTAoeF9zaWduaWZpY2FuZCkgPSBsbih4X3NpZ25pZmljYW5kKSAvIGxuKDEwKVxyXG4gIGsgPSBtYXRocG93KCt4LCB5bik7XHJcbiAgZSA9IGsgPT0gMCB8fCAhaXNGaW5pdGUoaylcclxuICAgID8gbWF0aGZsb29yKHluICogKE1hdGgubG9nKCcwLicgKyBkaWdpdHNUb1N0cmluZyh4LmQpKSAvIE1hdGguTE4xMCArIHguZSArIDEpKVxyXG4gICAgOiBuZXcgQ3RvcihrICsgJycpLmU7XHJcblxyXG4gIC8vIEV4cG9uZW50IGVzdGltYXRlIG1heSBiZSBpbmNvcnJlY3QgZS5nLiB4OiAwLjk5OTk5OTk5OTk5OTk5OTk5OSwgeTogMi4yOSwgZTogMCwgci5lOiAtMS5cclxuXHJcbiAgLy8gT3ZlcmZsb3cvdW5kZXJmbG93P1xyXG4gIGlmIChlID4gQ3Rvci5tYXhFICsgMSB8fCBlIDwgQ3Rvci5taW5FIC0gMSkgcmV0dXJuIG5ldyBDdG9yKGUgPiAwID8gcyAvIDAgOiAwKTtcclxuXHJcbiAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICBDdG9yLnJvdW5kaW5nID0geC5zID0gMTtcclxuXHJcbiAgLy8gRXN0aW1hdGUgdGhlIGV4dHJhIGd1YXJkIGRpZ2l0cyBuZWVkZWQgdG8gZW5zdXJlIGZpdmUgY29ycmVjdCByb3VuZGluZyBkaWdpdHMgZnJvbVxyXG4gIC8vIG5hdHVyYWxMb2dhcml0aG0oeCkuIEV4YW1wbGUgb2YgZmFpbHVyZSB3aXRob3V0IHRoZXNlIGV4dHJhIGRpZ2l0cyAocHJlY2lzaW9uOiAxMCk6XHJcbiAgLy8gbmV3IERlY2ltYWwoMi4zMjQ1NikucG93KCcyMDg3OTg3NDM2NTM0NTY2LjQ2NDExJylcclxuICAvLyBzaG91bGQgYmUgMS4xNjIzNzc4MjNlKzc2NDkxNDkwNTE3MzgxNSwgYnV0IGlzIDEuMTYyMzU1ODIzZSs3NjQ5MTQ5MDUxNzM4MTVcclxuICBrID0gTWF0aC5taW4oMTIsIChlICsgJycpLmxlbmd0aCk7XHJcblxyXG4gIC8vIHIgPSB4XnkgPSBleHAoeSpsbih4KSlcclxuICByID0gbmF0dXJhbEV4cG9uZW50aWFsKHkudGltZXMobmF0dXJhbExvZ2FyaXRobSh4LCBwciArIGspKSwgcHIpO1xyXG5cclxuICAvLyByIG1heSBiZSBJbmZpbml0eSwgZS5nLiAoMC45OTk5OTk5OTk5OTk5OTk5KS5wb3coLTFlKzQwKVxyXG4gIGlmIChyLmQpIHtcclxuXHJcbiAgICAvLyBUcnVuY2F0ZSB0byB0aGUgcmVxdWlyZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICByID0gZmluYWxpc2UociwgcHIgKyA1LCAxKTtcclxuXHJcbiAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCBpbmNyZWFzZSB0aGUgcHJlY2lzaW9uIGJ5IDEwIGFuZCByZWNhbGN1bGF0ZVxyXG4gICAgLy8gdGhlIHJlc3VsdC5cclxuICAgIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgcHIsIHJtKSkge1xyXG4gICAgICBlID0gcHIgKyAxMDtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBpbmNyZWFzZWQgcHJlY2lzaW9uIHBsdXMgZml2ZSByb3VuZGluZyBkaWdpdHMuXHJcbiAgICAgIHIgPSBmaW5hbGlzZShuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIGUgKyBrKSksIGUpLCBlICsgNSwgMSk7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0ICh0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgbWF5IGJlIDQgb3IgOSkuXHJcbiAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShwciArIDEsIHByICsgMTUpICsgMSA9PSAxZTE0KSB7XHJcbiAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHIucyA9IHM7XHJcbiAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgYHNkYCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudFxyXG4gKiB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBub3JtYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5QLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gIHZhciBzdHIsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICBpZiAoc2QgPT09IHZvaWQgMCkge1xyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbiAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCBzZCA8PSB4LmUgfHwgeC5lIDw9IEN0b3IudG9FeHBOZWcsIHNkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgc2RgXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAsIG9yIHRvIGBwcmVjaXNpb25gIGFuZCBgcm91bmRpbmdgIHJlc3BlY3RpdmVseSBpZlxyXG4gKiBvbWl0dGVkLlxyXG4gKlxyXG4gKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gKlxyXG4gKiAndG9TRCgpIGRpZ2l0cyBvdXQgb2YgcmFuZ2U6IHtzZH0nXHJcbiAqICd0b1NEKCkgZGlnaXRzIG5vdCBhbiBpbnRlZ2VyOiB7c2R9J1xyXG4gKiAndG9TRCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAqXHJcbiAqL1xyXG5QLnRvU2lnbmlmaWNhbnREaWdpdHMgPSBQLnRvU0QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICBzZCA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAqXHJcbiAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGlzIERlY2ltYWwgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuXHJcbiAqIGB0b0V4cFBvc2AsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIGB0b0V4cE5lZ2AuXHJcbiAqXHJcbiAqL1xyXG5QLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdHJ1bmNhdGVkIHRvIGEgd2hvbGUgbnVtYmVyLlxyXG4gKlxyXG4gKi9cclxuUC50cnVuY2F0ZWQgPSBQLnRydW5jID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gKiBVbmxpa2UgYHRvU3RyaW5nYCwgbmVnYXRpdmUgemVybyB3aWxsIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24uXHJcbiAqXHJcbiAqL1xyXG5QLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgcmV0dXJuIHguaXNOZWcoKSA/ICctJyArIHN0ciA6IHN0cjtcclxufTtcclxuXHJcblxyXG4vKlxyXG4vLyBBZGQgYWxpYXNlcyB0byBtYXRjaCBCaWdEZWNpbWFsIG1ldGhvZCBuYW1lcy5cclxuLy8gUC5hZGQgPSBQLnBsdXM7XHJcblAuc3VidHJhY3QgPSBQLm1pbnVzO1xyXG5QLm11bHRpcGx5ID0gUC50aW1lcztcclxuUC5kaXZpZGUgPSBQLmRpdjtcclxuUC5yZW1haW5kZXIgPSBQLm1vZDtcclxuUC5jb21wYXJlVG8gPSBQLmNtcDtcclxuUC5uZWdhdGUgPSBQLm5lZztcclxuICovXHJcblxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgRGVjaW1hbC5wcm90b3R5cGUgKFApIGFuZC9vciBEZWNpbWFsIG1ldGhvZHMsIGFuZCB0aGVpciBjYWxsZXJzLlxyXG5cclxuXHJcbi8qXHJcbiAqICBkaWdpdHNUb1N0cmluZyAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5sb2dhcml0aG0sIFAuc3F1YXJlUm9vdCwgUC50b0ZyYWN0aW9uLCBQLnRvUG93ZXIsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXRlVG9TdHJpbmcsIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobVxyXG4gKiAgY2hlY2tJbnQzMiAgICAgICAgICAgICAgIFAudG9EZWNpbWFsUGxhY2VzLCBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b05lYXJlc3QsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLCB0b1N0cmluZ0JpbmFyeSwgcmFuZG9tXHJcbiAqICBjaGVja1JvdW5kaW5nRGlnaXRzICAgICAgUC5sb2dhcml0aG0sIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAqICBjb252ZXJ0QmFzZSAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnksIHBhcnNlT3RoZXJcclxuICogIGNvcyAgICAgICAgICAgICAgICAgICAgICBQLmNvc1xyXG4gKiAgZGl2aWRlICAgICAgICAgICAgICAgICAgIFAuYXRhbmgsIFAuY3ViZVJvb3QsIFAuZGl2aWRlZEJ5LCBQLmRpdmlkZWRUb0ludGVnZXJCeSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLmxvZ2FyaXRobSwgUC5tb2R1bG8sIFAuc3F1YXJlUm9vdCwgUC50YW4sIFAudGFuaCwgUC50b0ZyYWN0aW9uLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCB0b1N0cmluZ0JpbmFyeSwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRheWxvclNlcmllcywgYXRhbjIsIHBhcnNlT3RoZXJcclxuICogIGZpbmFsaXNlICAgICAgICAgICAgICAgICBQLmFic29sdXRlVmFsdWUsIFAuYXRhbiwgUC5hdGFuaCwgUC5jZWlsLCBQLmNvcywgUC5jb3NoLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY3ViZVJvb3QsIFAuZGl2aWRlZFRvSW50ZWdlckJ5LCBQLmZsb29yLCBQLmxvZ2FyaXRobSwgUC5taW51cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLm1vZHVsbywgUC5uZWdhdGVkLCBQLnBsdXMsIFAucm91bmQsIFAuc2luLCBQLnNpbmgsIFAuc3F1YXJlUm9vdCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRhbiwgUC50aW1lcywgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCBQLnRvUG93ZXIsIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cyxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRydW5jYXRlZCwgZGl2aWRlLCBnZXRMbjEwLCBnZXRQaSwgbmF0dXJhbEV4cG9uZW50aWFsLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNlaWwsIGZsb29yLCByb3VuZCwgdHJ1bmNcclxuICogIGZpbml0ZVRvU3RyaW5nICAgICAgICAgICBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZywgUC52YWx1ZU9mLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5XHJcbiAqICBnZXRCYXNlMTBFeHBvbmVudCAgICAgICAgUC5taW51cywgUC5wbHVzLCBQLnRpbWVzLCBwYXJzZU90aGVyXHJcbiAqICBnZXRMbjEwICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIG5hdHVyYWxMb2dhcml0aG1cclxuICogIGdldFBpICAgICAgICAgICAgICAgICAgICBQLmFjb3MsIFAuYXNpbiwgUC5hdGFuLCB0b0xlc3NUaGFuSGFsZlBpLCBhdGFuMlxyXG4gKiAgZ2V0UHJlY2lzaW9uICAgICAgICAgICAgIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb25cclxuICogIGdldFplcm9TdHJpbmcgICAgICAgICAgICBkaWdpdHNUb1N0cmluZywgZmluaXRlVG9TdHJpbmdcclxuICogIGludFBvdyAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIHBhcnNlT3RoZXJcclxuICogIGlzT2RkICAgICAgICAgICAgICAgICAgICB0b0xlc3NUaGFuSGFsZlBpXHJcbiAqICBtYXhPck1pbiAgICAgICAgICAgICAgICAgbWF4LCBtaW5cclxuICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICBQLm5hdHVyYWxFeHBvbmVudGlhbCwgUC50b1Bvd2VyXHJcbiAqICBuYXR1cmFsTG9nYXJpdGhtICAgICAgICAgUC5hY29zaCwgUC5hc2luaCwgUC5hdGFuaCwgUC5sb2dhcml0aG0sIFAubmF0dXJhbExvZ2FyaXRobSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIG5hdHVyYWxFeHBvbmVudGlhbFxyXG4gKiAgbm9uRmluaXRlVG9TdHJpbmcgICAgICAgIGZpbml0ZVRvU3RyaW5nLCB0b1N0cmluZ0JpbmFyeVxyXG4gKiAgcGFyc2VEZWNpbWFsICAgICAgICAgICAgIERlY2ltYWxcclxuICogIHBhcnNlT3RoZXIgICAgICAgICAgICAgICBEZWNpbWFsXHJcbiAqICBzaW4gICAgICAgICAgICAgICAgICAgICAgUC5zaW5cclxuICogIHRheWxvclNlcmllcyAgICAgICAgICAgICBQLmNvc2gsIFAuc2luaCwgY29zLCBzaW5cclxuICogIHRvTGVzc1RoYW5IYWxmUGkgICAgICAgICBQLmNvcywgUC5zaW5cclxuICogIHRvU3RyaW5nQmluYXJ5ICAgICAgICAgICBQLnRvQmluYXJ5LCBQLnRvSGV4YWRlY2ltYWwsIFAudG9PY3RhbFxyXG4gKiAgdHJ1bmNhdGUgICAgICAgICAgICAgICAgIGludFBvd1xyXG4gKlxyXG4gKiAgVGhyb3dzOiAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uLCBjaGVja0ludDMyLCBnZXRMbjEwLCBnZXRQaSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsTG9nYXJpdGhtLCBjb25maWcsIHBhcnNlT3RoZXIsIHJhbmRvbSwgRGVjaW1hbFxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBkaWdpdHNUb1N0cmluZyhkKSB7XHJcbiAgdmFyIGksIGssIHdzLFxyXG4gICAgaW5kZXhPZkxhc3RXb3JkID0gZC5sZW5ndGggLSAxLFxyXG4gICAgc3RyID0gJycsXHJcbiAgICB3ID0gZFswXTtcclxuXHJcbiAgaWYgKGluZGV4T2ZMYXN0V29yZCA+IDApIHtcclxuICAgIHN0ciArPSB3O1xyXG4gICAgZm9yIChpID0gMTsgaSA8IGluZGV4T2ZMYXN0V29yZDsgaSsrKSB7XHJcbiAgICAgIHdzID0gZFtpXSArICcnO1xyXG4gICAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgICAgc3RyICs9IHdzO1xyXG4gICAgfVxyXG5cclxuICAgIHcgPSBkW2ldO1xyXG4gICAgd3MgPSB3ICsgJyc7XHJcbiAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICBpZiAoaykgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIGlmICh3ID09PSAwKSB7XHJcbiAgICByZXR1cm4gJzAnO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zIG9mIGxhc3Qgdy5cclxuICBmb3IgKDsgdyAlIDEwID09PSAwOykgdyAvPSAxMDtcclxuXHJcbiAgcmV0dXJuIHN0ciArIHc7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjaGVja0ludDMyKGksIG1pbiwgbWF4KSB7XHJcbiAgaWYgKGkgIT09IH5+aSB8fCBpIDwgbWluIHx8IGkgPiBtYXgpIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIGkpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIDUgcm91bmRpbmcgZGlnaXRzIGlmIGByZXBlYXRpbmdgIGlzIG51bGwsIDQgb3RoZXJ3aXNlLlxyXG4gKiBgcmVwZWF0aW5nID09IG51bGxgIGlmIGNhbGxlciBpcyBgbG9nYCBvciBgcG93YCxcclxuICogYHJlcGVhdGluZyAhPSBudWxsYCBpZiBjYWxsZXIgaXMgYG5hdHVyYWxMb2dhcml0aG1gIG9yIGBuYXR1cmFsRXhwb25lbnRpYWxgLlxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tSb3VuZGluZ0RpZ2l0cyhkLCBpLCBybSwgcmVwZWF0aW5nKSB7XHJcbiAgdmFyIGRpLCBrLCByLCByZDtcclxuXHJcbiAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGFycmF5IGQuXHJcbiAgZm9yIChrID0gZFswXTsgayA+PSAxMDsgayAvPSAxMCkgLS1pO1xyXG5cclxuICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgZD9cclxuICBpZiAoLS1pIDwgMCkge1xyXG4gICAgaSArPSBMT0dfQkFTRTtcclxuICAgIGRpID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgZGkgPSBNYXRoLmNlaWwoKGkgKyAxKSAvIExPR19CQVNFKTtcclxuICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgfVxyXG5cclxuICAvLyBpIGlzIHRoZSBpbmRleCAoMCAtIDYpIG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAvLyBFLmcuIGlmIHdpdGhpbiB0aGUgd29yZCAzNDg3NTYzIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBpcyA1LFxyXG4gIC8vIHRoZW4gaSA9IDQsIGsgPSAxMDAwLCByZCA9IDM0ODc1NjMgJSAxMDAwID0gNTYzXHJcbiAgayA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gaSk7XHJcbiAgcmQgPSBkW2RpXSAlIGsgfCAwO1xyXG5cclxuICBpZiAocmVwZWF0aW5nID09IG51bGwpIHtcclxuICAgIGlmIChpIDwgMykge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICByID0gcm0gPCA0ICYmIHJkID09IDk5OTk5IHx8IHJtID4gMyAmJiByZCA9PSA0OTk5OSB8fCByZCA9PSA1MDAwMCB8fCByZCA9PSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IChybSA8IDQgJiYgcmQgKyAxID09IGsgfHwgcm0gPiAzICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAyKSAtIDEgfHxcclxuICAgICAgICAgIChyZCA9PSBrIC8gMiB8fCByZCA9PSAwKSAmJiAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IDA7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChpIDwgNCkge1xyXG4gICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMSkgcmQgPSByZCAvIDEwMCB8IDA7XHJcbiAgICAgIGVsc2UgaWYgKGkgPT0gMikgcmQgPSByZCAvIDEwIHwgMDtcclxuICAgICAgciA9IChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCA9PSA5OTk5IHx8ICFyZXBlYXRpbmcgJiYgcm0gPiAzICYmIHJkID09IDQ5OTk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gKChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCArIDEgPT0gayB8fFxyXG4gICAgICAoIXJlcGVhdGluZyAmJiBybSA+IDMpICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAoZFtkaSArIDFdIC8gayAvIDEwMDAgfCAwKSA9PSBtYXRocG93KDEwLCBpIC0gMykgLSAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG4vLyBDb252ZXJ0IHN0cmluZyBvZiBgYmFzZUluYCB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGBiYXNlT3V0YC5cclxuLy8gRWcuIGNvbnZlcnRCYXNlKCcyNTUnLCAxMCwgMTYpIHJldHVybnMgWzE1LCAxNV0uXHJcbi8vIEVnLiBjb252ZXJ0QmFzZSgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG5mdW5jdGlvbiBjb252ZXJ0QmFzZShzdHIsIGJhc2VJbiwgYmFzZU91dCkge1xyXG4gIHZhciBqLFxyXG4gICAgYXJyID0gWzBdLFxyXG4gICAgYXJyTCxcclxuICAgIGkgPSAwLFxyXG4gICAgc3RyTCA9IHN0ci5sZW5ndGg7XHJcblxyXG4gIGZvciAoOyBpIDwgc3RyTDspIHtcclxuICAgIGZvciAoYXJyTCA9IGFyci5sZW5ndGg7IGFyckwtLTspIGFyclthcnJMXSAqPSBiYXNlSW47XHJcbiAgICBhcnJbMF0gKz0gTlVNRVJBTFMuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xyXG4gICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAoYXJyW2pdID4gYmFzZU91dCAtIDEpIHtcclxuICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PT0gdm9pZCAwKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgIGFycltqXSAlPSBiYXNlT3V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIGNvcyh4KSA9IDEgLSB4XjIvMiEgKyB4XjQvNCEgLSAuLi5cclxuICogfHh8IDwgcGkvMlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY29zaW5lKEN0b3IsIHgpIHtcclxuICB2YXIgaywgeSxcclxuICAgIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDgqKGNvc140KHgpIC0gY29zXjIoeCkpICsgMVxyXG4gIC8vIGkuZS4gY29zKHgpID0gOCooY29zXjQoeC80KSAtIGNvc14yKHgvNCkpICsgMVxyXG5cclxuICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgaWYgKGxlbiA8IDMyKSB7XHJcbiAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgeSA9ICgxIC8gdGlueVBvdyg0LCBrKSkudG9TdHJpbmcoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgayA9IDE2O1xyXG4gICAgeSA9ICcyLjMyODMwNjQzNjUzODY5NjI4OTA2MjVlLTEwJztcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uICs9IGs7XHJcblxyXG4gIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMSwgeC50aW1lcyh5KSwgbmV3IEN0b3IoMSkpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIGZvciAodmFyIGkgPSBrOyBpLS07KSB7XHJcbiAgICB2YXIgY29zMnggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IGNvczJ4LnRpbWVzKGNvczJ4KS5taW51cyhjb3MyeCkudGltZXMoOCkucGx1cygxKTtcclxuICB9XHJcblxyXG4gIEN0b3IucHJlY2lzaW9uIC09IGs7XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuXHJcbiAqL1xyXG52YXIgZGl2aWRlID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgLy8gQXNzdW1lcyBub24temVybyB4IGFuZCBrLCBhbmQgaGVuY2Ugbm9uLXplcm8gcmVzdWx0LlxyXG4gIGZ1bmN0aW9uIG11bHRpcGx5SW50ZWdlcih4LCBrLCBiYXNlKSB7XHJcbiAgICB2YXIgdGVtcCxcclxuICAgICAgY2FycnkgPSAwLFxyXG4gICAgICBpID0geC5sZW5ndGg7XHJcblxyXG4gICAgZm9yICh4ID0geC5zbGljZSgpOyBpLS07KSB7XHJcbiAgICAgIHRlbXAgPSB4W2ldICogayArIGNhcnJ5O1xyXG4gICAgICB4W2ldID0gdGVtcCAlIGJhc2UgfCAwO1xyXG4gICAgICBjYXJyeSA9IHRlbXAgLyBiYXNlIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgdmFyIGksIHI7XHJcblxyXG4gICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgIHIgPSBhTCA+IGJMID8gMSA6IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChpID0gciA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgciA9IGFbaV0gPiBiW2ldID8gMSA6IC0xO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBhTCwgYmFzZSkge1xyXG4gICAgdmFyIGkgPSAwO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgZm9yICg7IGFMLS07KSB7XHJcbiAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgIGFbYUxdID0gaSAqIGJhc2UgKyBhW2FMXSAtIGJbYUxdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFhWzBdICYmIGEubGVuZ3RoID4gMTspIGEuc2hpZnQoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbiAoeCwgeSwgcHIsIHJtLCBkcCwgYmFzZSkge1xyXG4gICAgdmFyIGNtcCwgZSwgaSwgaywgbG9nQmFzZSwgbW9yZSwgcHJvZCwgcHJvZEwsIHEsIHFkLCByZW0sIHJlbUwsIHJlbTAsIHNkLCB0LCB4aSwgeEwsIHlkMCxcclxuICAgICAgeUwsIHl6LFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgc2lnbiA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICB5ZCA9IHkuZDtcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGQgPyB5ZCAmJiB4ZFswXSA9PSB5ZFswXSA6ICF5ZCkgPyBOYU4gOlxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgMCBvciB5IGlzIMKxSW5maW5pdHksIG9yIHJldHVybiDCsUluZmluaXR5IGFzIHkgaXMgMC5cclxuICAgICAgICB4ZCAmJiB4ZFswXSA9PSAwIHx8ICF5ZCA/IHNpZ24gKiAwIDogc2lnbiAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChiYXNlKSB7XHJcbiAgICAgIGxvZ0Jhc2UgPSAxO1xyXG4gICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgIGxvZ0Jhc2UgPSBMT0dfQkFTRTtcclxuICAgICAgZSA9IG1hdGhmbG9vcih4LmUgLyBsb2dCYXNlKSAtIG1hdGhmbG9vcih5LmUgLyBsb2dCYXNlKTtcclxuICAgIH1cclxuXHJcbiAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgcSA9IG5ldyBDdG9yKHNpZ24pO1xyXG4gICAgcWQgPSBxLmQgPSBbXTtcclxuXHJcbiAgICAvLyBSZXN1bHQgZXhwb25lbnQgbWF5IGJlIG9uZSBsZXNzIHRoYW4gZS5cclxuICAgIC8vIFRoZSBkaWdpdCBhcnJheSBvZiBhIERlY2ltYWwgZnJvbSB0b1N0cmluZ0JpbmFyeSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IHlkW2ldID09ICh4ZFtpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICBpZiAoeWRbaV0gPiAoeGRbaV0gfHwgMCkpIGUtLTtcclxuXHJcbiAgICBpZiAocHIgPT0gbnVsbCkge1xyXG4gICAgICBzZCA9IHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSBpZiAoZHApIHtcclxuICAgICAgc2QgPSBwciArICh4LmUgLSB5LmUpICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNkID0gcHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkIDwgMCkge1xyXG4gICAgICBxZC5wdXNoKDEpO1xyXG4gICAgICBtb3JlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHByZWNpc2lvbiBpbiBudW1iZXIgb2YgYmFzZSAxMCBkaWdpdHMgdG8gYmFzZSAxZTcgZGlnaXRzLlxyXG4gICAgICBzZCA9IHNkIC8gbG9nQmFzZSArIDIgfCAwO1xyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICAgIC8vIGRpdmlzb3IgPCAxZTdcclxuICAgICAgaWYgKHlMID09IDEpIHtcclxuICAgICAgICBrID0gMDtcclxuICAgICAgICB5ZCA9IHlkWzBdO1xyXG4gICAgICAgIHNkKys7XHJcblxyXG4gICAgICAgIC8vIGsgaXMgdGhlIGNhcnJ5LlxyXG4gICAgICAgIGZvciAoOyAoaSA8IHhMIHx8IGspICYmIHNkLS07IGkrKykge1xyXG4gICAgICAgICAgdCA9IGsgKiBiYXNlICsgKHhkW2ldIHx8IDApO1xyXG4gICAgICAgICAgcWRbaV0gPSB0IC8geWQgfCAwO1xyXG4gICAgICAgICAgayA9IHQgJSB5ZCB8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb3JlID0gayB8fCBpIDwgeEw7XHJcblxyXG4gICAgICAvLyBkaXZpc29yID49IDFlN1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpc2UgeGQgYW5kIHlkIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWQgaXMgPj0gYmFzZS8yXHJcbiAgICAgICAgayA9IGJhc2UgLyAoeWRbMF0gKyAxKSB8IDA7XHJcblxyXG4gICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgeWQgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeGQgPSBtdWx0aXBseUludGVnZXIoeGQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICAgICAgICB4TCA9IHhkLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgcmVtID0geGQuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgIGZvciAoOyByZW1MIDwgeUw7KSByZW1bcmVtTCsrXSA9IDA7XHJcblxyXG4gICAgICAgIHl6ID0geWQuc2xpY2UoKTtcclxuICAgICAgICB5ei51bnNoaWZ0KDApO1xyXG4gICAgICAgIHlkMCA9IHlkWzBdO1xyXG5cclxuICAgICAgICBpZiAoeWRbMV0gPj0gYmFzZSAvIDIpICsreWQwO1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBrID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBrLlxyXG4gICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGsgd2lsbCBiZSBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gdGhlIGN1cnJlbnQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBrID0gcmVtMCAvIHlkMCB8IDA7XHJcblxyXG4gICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAoaylcclxuICAgICAgICAgICAgLy8gIDIuIGlmIHByb2R1Y3QgPiByZW1haW5kZXI6IHByb2R1Y3QgLT0gZGl2aXNvciwgay0tXHJcbiAgICAgICAgICAgIC8vICAzLiByZW1haW5kZXIgLT0gcHJvZHVjdFxyXG4gICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcclxuICAgICAgICAgICAgLy8gICAgNS4gY29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yXHJcbiAgICAgICAgICAgIC8vICAgIDYuIElmIHJlbWFpbmRlciA+IGRpdmlzb3I6IHJlbWFpbmRlciAtPSBkaXZpc29yLCBrKytcclxuXHJcbiAgICAgICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgICAgIGlmIChrID49IGJhc2UpIGsgPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHlJbnRlZ2VyKHlkLCBrLCBiYXNlKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBwcm9kdWN0ID4gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgay0tO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSBwcm9kdWN0LlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWQsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAvLyBJZiBrIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LCBzbyBjaGFuZ2UgY21wIHRvIDFcclxuICAgICAgICAgICAgICAvLyB0byBhdm9pZCBpdC4gSWYgayBpcyAxIHRoZXJlIGlzIGEgbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3cuXHJcbiAgICAgICAgICAgICAgaWYgKGsgPT0gMCkgY21wID0gayA9IDE7XHJcbiAgICAgICAgICAgICAgcHJvZCA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QudW5zaGlmdCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHByZXZpb3VzIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgY21wID0gY29tcGFyZSh5ZCwgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBrKys7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5ZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09PSAwKSB7XHJcbiAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgfSAgICAvLyBpZiBjbXAgPT09IDEsIGsgd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBrLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgcWRbaSsrXSA9IGs7XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wICYmIHJlbVswXSkge1xyXG4gICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhkW3hpXSB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtID0gW3hkW3hpXV07XHJcbiAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPT0gdm9pZCAwKSAmJiBzZC0tKTtcclxuXHJcbiAgICAgICAgbW9yZSA9IHJlbVswXSAhPT0gdm9pZCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgIGlmICghcWRbMF0pIHFkLnNoaWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9nQmFzZSBpcyAxIHdoZW4gZGl2aWRlIGlzIGJlaW5nIHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgIGlmIChsb2dCYXNlID09IDEpIHtcclxuICAgICAgcS5lID0gZTtcclxuICAgICAgaW5leGFjdCA9IG1vcmU7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gVG8gY2FsY3VsYXRlIHEuZSwgZmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHFkWzBdLlxyXG4gICAgICBmb3IgKGkgPSAxLCBrID0gcWRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGkrKztcclxuICAgICAgcS5lID0gaSArIGUgKiBsb2dCYXNlIC0gMTtcclxuXHJcbiAgICAgIGZpbmFsaXNlKHEsIGRwID8gcHIgKyBxLmUgKyAxIDogcHIsIHJtLCBtb3JlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcTtcclxuICB9O1xyXG59KSgpO1xyXG5cclxuXHJcbi8qXHJcbiAqIFJvdW5kIGB4YCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAqIENoZWNrIGZvciBvdmVyL3VuZGVyLWZsb3cuXHJcbiAqL1xyXG4gZnVuY3Rpb24gZmluYWxpc2UoeCwgc2QsIHJtLCBpc1RydW5jYXRlZCkge1xyXG4gIHZhciBkaWdpdHMsIGksIGosIGssIHJkLCByb3VuZFVwLCB3LCB4ZCwgeGRpLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIC8vIERvbid0IHJvdW5kIGlmIHNkIGlzIG51bGwgb3IgdW5kZWZpbmVkLlxyXG4gIG91dDogaWYgKHNkICE9IG51bGwpIHtcclxuICAgIHhkID0geC5kO1xyXG5cclxuICAgIC8vIEluZmluaXR5L05hTi5cclxuICAgIGlmICgheGQpIHJldHVybiB4O1xyXG5cclxuICAgIC8vIHJkOiB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgLy8gdzogdGhlIHdvcmQgb2YgeGQgY29udGFpbmluZyByZCwgYSBiYXNlIDFlNyBudW1iZXIuXHJcbiAgICAvLyB4ZGk6IHRoZSBpbmRleCBvZiB3IHdpdGhpbiB4ZC5cclxuICAgIC8vIGRpZ2l0czogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgIC8vIGk6IHdoYXQgd291bGQgYmUgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3IGlmIGFsbCB0aGUgbnVtYmVycyB3ZXJlIDcgZGlnaXRzIGxvbmcgKGkuZS4gaWZcclxuICAgIC8vIHRoZXkgaGFkIGxlYWRpbmcgemVyb3MpXHJcbiAgICAvLyBqOiBpZiA+IDAsIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIHcgKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG5cclxuICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkgeGQuXHJcbiAgICBmb3IgKGRpZ2l0cyA9IDEsIGsgPSB4ZFswXTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcbiAgICBpID0gc2QgLSBkaWdpdHM7XHJcblxyXG4gICAgLy8gSXMgdGhlIHJvdW5kaW5nIGRpZ2l0IGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgIGogPSBzZDtcclxuICAgICAgdyA9IHhkW3hkaSA9IDBdO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgIHJkID0gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHhkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgICBrID0geGQubGVuZ3RoO1xyXG4gICAgICBpZiAoeGRpID49IGspIHtcclxuICAgICAgICBpZiAoaXNUcnVuY2F0ZWQpIHtcclxuXHJcbiAgICAgICAgICAvLyBOZWVkZWQgYnkgYG5hdHVyYWxFeHBvbmVudGlhbGAsIGBuYXR1cmFsTG9nYXJpdGhtYCBhbmQgYHNxdWFyZVJvb3RgLlxyXG4gICAgICAgICAgZm9yICg7IGsrKyA8PSB4ZGk7KSB4ZC5wdXNoKDApO1xyXG4gICAgICAgICAgdyA9IHJkID0gMDtcclxuICAgICAgICAgIGRpZ2l0cyA9IDE7XHJcbiAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdyA9IGsgPSB4ZFt4ZGldO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgICAgICBmb3IgKGRpZ2l0cyA9IDE7IGsgPj0gMTA7IGsgLz0gMTApIGRpZ2l0cysrO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LlxyXG4gICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcsIGFkanVzdGVkIGZvciBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3IGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZGlnaXRzLlxyXG4gICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyBkaWdpdHM7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiB3LlxyXG4gICAgICAgIHJkID0gaiA8IDAgPyAwIDogdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFyZSB0aGVyZSBhbnkgbm9uLXplcm8gZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdD9cclxuICAgIGlzVHJ1bmNhdGVkID0gaXNUcnVuY2F0ZWQgfHwgc2QgPCAwIHx8XHJcbiAgICAgIHhkW3hkaSArIDFdICE9PSB2b2lkIDAgfHwgKGogPCAwID8gdyA6IHcgJSBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkpO1xyXG5cclxuICAgIC8vIFRoZSBleHByZXNzaW9uIGB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpYCByZXR1cm5zIGFsbCB0aGUgZGlnaXRzIG9mIHcgdG8gdGhlIHJpZ2h0XHJcbiAgICAvLyBvZiB0aGUgZGlnaXQgYXQgKGxlZnQtdG8tcmlnaHQpIGluZGV4IGosIGUuZy4gaWYgdyBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb25cclxuICAgIC8vIHdpbGwgZ2l2ZSA3MTQuXHJcblxyXG4gICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICA/IChyZCB8fCBpc1RydW5jYXRlZCkgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgaXNUcnVuY2F0ZWQgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBkaWdpdCB0byB0aGUgbGVmdCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgb2RkLlxyXG4gICAgICAgICgoaSA+IDAgPyBqID4gMCA/IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSA6IDAgOiB4ZFt4ZGkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgaWYgKHNkIDwgMSB8fCAheGRbMF0pIHtcclxuICAgICAgeGQubGVuZ3RoID0gMDtcclxuICAgICAgaWYgKHJvdW5kVXApIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgIHhkWzBdID0gbWF0aHBvdygxMCwgKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRSk7XHJcbiAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeGRbMF0gPSB4LmUgPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXhjZXNzIGRpZ2l0cy5cclxuICAgIGlmIChpID09IDApIHtcclxuICAgICAgeGQubGVuZ3RoID0geGRpO1xyXG4gICAgICBrID0gMTtcclxuICAgICAgeGRpLS07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ZC5sZW5ndGggPSB4ZGkgKyAxO1xyXG4gICAgICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuXHJcbiAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIHcuXHJcbiAgICAgIHhkW3hkaV0gPSBqID4gMCA/ICh3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaikgJSBtYXRocG93KDEwLCBqKSB8IDApICogayA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdW5kVXApIHtcclxuICAgICAgZm9yICg7Oykge1xyXG5cclxuICAgICAgICAvLyBJcyB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgICAgICBpZiAoeGRpID09IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4ZFswXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4ZFswXTsgaiA+PSAxMDsgaiAvPSAxMCkgaSsrO1xyXG4gICAgICAgICAgaiA9IHhkWzBdICs9IGs7XHJcbiAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwKSBrKys7XHJcblxyXG4gICAgICAgICAgLy8gaWYgaSAhPSBrIHRoZSBsZW5ndGggaGFzIGluY3JlYXNlZC5cclxuICAgICAgICAgIGlmIChpICE9IGspIHtcclxuICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgIGlmICh4ZFswXSA9PSBCQVNFKSB4ZFswXSA9IDE7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhkW3hkaV0gKz0gaztcclxuICAgICAgICAgIGlmICh4ZFt4ZGldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgeGRbeGRpLS1dID0gMDtcclxuICAgICAgICAgIGsgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhkLmxlbmd0aDsgeGRbLS1pXSA9PT0gMDspIHhkLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgLy8gT3ZlcmZsb3c/XHJcbiAgICBpZiAoeC5lID4gQ3Rvci5tYXhFKSB7XHJcblxyXG4gICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgeC5lID0gTmFOO1xyXG5cclxuICAgIC8vIFVuZGVyZmxvdz9cclxuICAgIH0gZWxzZSBpZiAoeC5lIDwgQ3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmUgPSAwO1xyXG4gICAgICB4LmQgPSBbMF07XHJcbiAgICAgIC8vIEN0b3IudW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgIH0gLy8gZWxzZSBDdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBmaW5pdGVUb1N0cmluZyh4LCBpc0V4cCwgc2QpIHtcclxuICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5vbkZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gIHZhciBrLFxyXG4gICAgZSA9IHguZSxcclxuICAgIHN0ciA9IGRpZ2l0c1RvU3RyaW5nKHguZCksXHJcbiAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSBzdHIgKyAoeC5lIDwgMCA/ICdlJyA6ICdlKycpICsgeC5lO1xyXG4gIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgIHN0ciA9ICcwLicgKyBnZXRaZXJvU3RyaW5nKC1lIC0gMSkgKyBzdHI7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICB9IGVsc2UgaWYgKGUgPj0gbGVuKSB7XHJcbiAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhlICsgMSAtIGxlbik7XHJcbiAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGUgLSAxKSA+IDApIHN0ciA9IHN0ciArICcuJyArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICgoayA9IGUgKyAxKSA8IGxlbikgc3RyID0gc3RyLnNsaWNlKDAsIGspICsgJy4nICsgc3RyLnNsaWNlKGspO1xyXG4gICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICBpZiAoZSArIDEgPT09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIHRoZSBiYXNlIDEwIGV4cG9uZW50IGZyb20gdGhlIGJhc2UgMWU3IGV4cG9uZW50LlxyXG5mdW5jdGlvbiBnZXRCYXNlMTBFeHBvbmVudChkaWdpdHMsIGUpIHtcclxuICB2YXIgdyA9IGRpZ2l0c1swXTtcclxuXHJcbiAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBkaWdpdHMgYXJyYXkuXHJcbiAgZm9yICggZSAqPSBMT0dfQkFTRTsgdyA+PSAxMDsgdyAvPSAxMCkgZSsrO1xyXG4gIHJldHVybiBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0TG4xMChDdG9yLCBzZCwgcHIpIHtcclxuICBpZiAoc2QgPiBMTjEwX1BSRUNJU0lPTikge1xyXG5cclxuICAgIC8vIFJlc2V0IGdsb2JhbCBzdGF0ZSBpbiBjYXNlIHRoZSBleGNlcHRpb24gaXMgY2F1Z2h0LlxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgaWYgKHByKSBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhyb3cgRXJyb3IocHJlY2lzaW9uTGltaXRFeGNlZWRlZCk7XHJcbiAgfVxyXG4gIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihMTjEwKSwgc2QsIDEsIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UGkoQ3Rvciwgc2QsIHJtKSB7XHJcbiAgaWYgKHNkID4gUElfUFJFQ0lTSU9OKSB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoUEkpLCBzZCwgcm0sIHRydWUpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKGRpZ2l0cykge1xyXG4gIHZhciB3ID0gZGlnaXRzLmxlbmd0aCAtIDEsXHJcbiAgICBsZW4gPSB3ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICB3ID0gZGlnaXRzW3ddO1xyXG5cclxuICAvLyBJZiBub24temVyby4uLlxyXG4gIGlmICh3KSB7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgZm9yICg7IHcgJSAxMCA9PSAwOyB3IC89IDEwKSBsZW4tLTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQuXHJcbiAgICBmb3IgKHcgPSBkaWdpdHNbMF07IHcgPj0gMTA7IHcgLz0gMTApIGxlbisrO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxlbjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFplcm9TdHJpbmcoaykge1xyXG4gIHZhciB6cyA9ICcnO1xyXG4gIGZvciAoOyBrLS07KSB6cyArPSAnMCc7XHJcbiAgcmV0dXJuIHpzO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIHRvIHRoZSBwb3dlciBgbmAsIHdoZXJlIGBuYCBpcyBhblxyXG4gKiBpbnRlZ2VyIG9mIHR5cGUgbnVtYmVyLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRzICdleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZycuIENhbGxlZCBieSBgcG93YCBhbmQgYHBhcnNlT3RoZXJgLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaW50UG93KEN0b3IsIHgsIG4sIHByKSB7XHJcbiAgdmFyIGlzVHJ1bmNhdGVkLFxyXG4gICAgciA9IG5ldyBDdG9yKDEpLFxyXG5cclxuICAgIC8vIE1heCBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEgdGFrZXMgNTMgbG9vcCBpdGVyYXRpb25zLlxyXG4gICAgLy8gTWF4aW11bSBkaWdpdHMgYXJyYXkgbGVuZ3RoOyBsZWF2ZXMgWzI4LCAzNF0gZ3VhcmQgZGlnaXRzLlxyXG4gICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFICsgNCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIGlmIChuICUgMikge1xyXG4gICAgICByID0gci50aW1lcyh4KTtcclxuICAgICAgaWYgKHRydW5jYXRlKHIuZCwgaykpIGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBuID0gbWF0aGZsb29yKG4gLyAyKTtcclxuICAgIGlmIChuID09PSAwKSB7XHJcblxyXG4gICAgICAvLyBUbyBlbnN1cmUgY29ycmVjdCByb3VuZGluZyB3aGVuIHIuZCBpcyB0cnVuY2F0ZWQsIGluY3JlbWVudCB0aGUgbGFzdCB3b3JkIGlmIGl0IGlzIHplcm8uXHJcbiAgICAgIG4gPSByLmQubGVuZ3RoIC0gMTtcclxuICAgICAgaWYgKGlzVHJ1bmNhdGVkICYmIHIuZFtuXSA9PT0gMCkgKytyLmRbbl07XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHggPSB4LnRpbWVzKHgpO1xyXG4gICAgdHJ1bmNhdGUoeC5kLCBrKTtcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc09kZChuKSB7XHJcbiAgcmV0dXJuIG4uZFtuLmQubGVuZ3RoIC0gMV0gJiAxO1xyXG59XHJcblxyXG5cclxuLypcclxuICogSGFuZGxlIGBtYXhgIGFuZCBgbWluYC4gYGx0Z3RgIGlzICdsdCcgb3IgJ2d0Jy5cclxuICovXHJcbmZ1bmN0aW9uIG1heE9yTWluKEN0b3IsIGFyZ3MsIGx0Z3QpIHtcclxuICB2YXIgeSxcclxuICAgIHggPSBuZXcgQ3RvcihhcmdzWzBdKSxcclxuICAgIGkgPSAwO1xyXG5cclxuICBmb3IgKDsgKytpIDwgYXJncy5sZW5ndGg7KSB7XHJcbiAgICB5ID0gbmV3IEN0b3IoYXJnc1tpXSk7XHJcbiAgICBpZiAoIXkucykge1xyXG4gICAgICB4ID0geTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9IGVsc2UgaWYgKHhbbHRndF0oeSkpIHtcclxuICAgICAgeCA9IHk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzLlxyXG4gKlxyXG4gKiBUYXlsb3IvTWFjbGF1cmluIHNlcmllcy5cclxuICpcclxuICogZXhwKHgpID0geF4wLzAhICsgeF4xLzEhICsgeF4yLzIhICsgeF4zLzMhICsgLi4uXHJcbiAqXHJcbiAqIEFyZ3VtZW50IHJlZHVjdGlvbjpcclxuICogICBSZXBlYXQgeCA9IHggLyAzMiwgayArPSA1LCB1bnRpbCB8eHwgPCAwLjFcclxuICogICBleHAoeCkgPSBleHAoeCAvIDJeayleKDJeaylcclxuICpcclxuICogUHJldmlvdXNseSwgdGhlIGFyZ3VtZW50IHdhcyBpbml0aWFsbHkgcmVkdWNlZCBieVxyXG4gKiBleHAoeCkgPSBleHAocikgKiAxMF5rICB3aGVyZSByID0geCAtIGsgKiBsbjEwLCBrID0gZmxvb3IoeCAvIGxuMTApXHJcbiAqIHRvIGZpcnN0IHB1dCByIGluIHRoZSByYW5nZSBbMCwgbG4xMF0sIGJlZm9yZSBkaXZpZGluZyBieSAzMiB1bnRpbCB8eHwgPCAwLjEsIGJ1dCB0aGlzIHdhc1xyXG4gKiBmb3VuZCB0byBiZSBzbG93ZXIgdGhhbiBqdXN0IGRpdmlkaW5nIHJlcGVhdGVkbHkgYnkgMzIgYXMgYWJvdmUuXHJcbiAqXHJcbiAqIE1heCBpbnRlZ2VyIGFyZ3VtZW50OiBleHAoJzIwNzIzMjY1ODM2OTQ2NDEzJykgPSA2LjNlKzkwMDAwMDAwMDAwMDAwMDBcclxuICogTWluIGludGVnZXIgYXJndW1lbnQ6IGV4cCgnLTIwNzIzMjY1ODM2OTQ2NDExJykgPSAxLjJlLTkwMDAwMDAwMDAwMDAwMDBcclxuICogKE1hdGggb2JqZWN0IGludGVnZXIgbWluL21heDogTWF0aC5leHAoNzA5KSA9IDguMmUrMzA3LCBNYXRoLmV4cCgtNzQ1KSA9IDVlLTMyNClcclxuICpcclxuICogIGV4cChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGV4cCgtSW5maW5pdHkpID0gMFxyXG4gKiAgZXhwKE5hTikgICAgICAgPSBOYU5cclxuICogIGV4cCjCsTApICAgICAgICA9IDFcclxuICpcclxuICogIGV4cCh4KSBpcyBub24tdGVybWluYXRpbmcgZm9yIGFueSBmaW5pdGUsIG5vbi16ZXJvIHguXHJcbiAqXHJcbiAqICBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbmF0dXJhbEV4cG9uZW50aWFsKHgsIHNkKSB7XHJcbiAgdmFyIGRlbm9taW5hdG9yLCBndWFyZCwgaiwgcG93LCBzdW0sIHQsIHdwcixcclxuICAgIHJlcCA9IDAsXHJcbiAgICBpID0gMCxcclxuICAgIGsgPSAwLFxyXG4gICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG5cclxuICAvLyAwL05hTi9JbmZpbml0eT9cclxuICBpZiAoIXguZCB8fCAheC5kWzBdIHx8IHguZSA+IDE3KSB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBDdG9yKHguZFxyXG4gICAgICA/ICF4LmRbMF0gPyAxIDogeC5zIDwgMCA/IDAgOiAxIC8gMFxyXG4gICAgICA6IHgucyA/IHgucyA8IDAgPyAwIDogeCA6IDAgLyAwKTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgdCA9IG5ldyBDdG9yKDAuMDMxMjUpO1xyXG5cclxuICAvLyB3aGlsZSBhYnMoeCkgPj0gMC4xXHJcbiAgd2hpbGUgKHguZSA+IC0yKSB7XHJcblxyXG4gICAgLy8geCA9IHggLyAyXjVcclxuICAgIHggPSB4LnRpbWVzKHQpO1xyXG4gICAgayArPSA1O1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlIDIgKiBsb2cxMCgyXmspICsgNSAoZW1waXJpY2FsbHkgZGVyaXZlZCkgdG8gZXN0aW1hdGUgdGhlIGluY3JlYXNlIGluIHByZWNpc2lvblxyXG4gIC8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBjb3JyZWN0LlxyXG4gIGd1YXJkID0gTWF0aC5sb2cobWF0aHBvdygyLCBrKSkgLyBNYXRoLkxOMTAgKiAyICsgNSB8IDA7XHJcbiAgd3ByICs9IGd1YXJkO1xyXG4gIGRlbm9taW5hdG9yID0gcG93ID0gc3VtID0gbmV3IEN0b3IoMSk7XHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHI7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHBvdyA9IGZpbmFsaXNlKHBvdy50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgIGRlbm9taW5hdG9yID0gZGVub21pbmF0b3IudGltZXMoKytpKTtcclxuICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUocG93LCBkZW5vbWluYXRvciwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgaiA9IGs7XHJcbiAgICAgIHdoaWxlIChqLS0pIHN1bSA9IGZpbmFsaXNlKHN1bS50aW1lcyhzdW0pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OS5cclxuICAgICAgLy8gSWYgc28sIHJlcGVhdCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTgsIHJvdW5kaW5nOiAxXHJcbiAgICAgIC8vIGV4cCgxOC40MDQyNzI0NjI1OTUwMzQwODM1Njc3OTM5MTk4NDM3NjEpID0gOTgzNzI1NjAuMTIyOTk5OTk5OSAoc2hvdWxkIGJlIDk4MzcyNTYwLjEyMylcclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIGlmIChyZXAgPCAzICYmIGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gMTA7XHJcbiAgICAgICAgICBkZW5vbWluYXRvciA9IHBvdyA9IHQgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgcmVwKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmaW5hbGlzZShzdW0sIEN0b3IucHJlY2lzaW9uID0gcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdW0gPSB0O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cy5cclxuICpcclxuICogIGxuKC1uKSAgICAgICAgPSBOYU5cclxuICogIGxuKDApICAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKC0wKSAgICAgICAgPSAtSW5maW5pdHlcclxuICogIGxuKDEpICAgICAgICAgPSAwXHJcbiAqICBsbihJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICogIGxuKC1JbmZpbml0eSkgPSBOYU5cclxuICogIGxuKE5hTikgICAgICAgPSBOYU5cclxuICpcclxuICogIGxuKG4pIChuICE9IDEpIGlzIG5vbi10ZXJtaW5hdGluZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG5hdHVyYWxMb2dhcml0aG0oeSwgc2QpIHtcclxuICB2YXIgYywgYzAsIGRlbm9taW5hdG9yLCBlLCBudW1lcmF0b3IsIHJlcCwgc3VtLCB0LCB3cHIsIHgxLCB4MixcclxuICAgIG4gPSAxLFxyXG4gICAgZ3VhcmQgPSAxMCxcclxuICAgIHggPSB5LFxyXG4gICAgeGQgPSB4LmQsXHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gIC8vIElzIHggbmVnYXRpdmUgb3IgSW5maW5pdHksIE5hTiwgMCBvciAxP1xyXG4gIGlmICh4LnMgPCAwIHx8ICF4ZCB8fCAheGRbMF0gfHwgIXguZSAmJiB4ZFswXSA9PSAxICYmIHhkLmxlbmd0aCA9PSAxKSB7XHJcbiAgICByZXR1cm4gbmV3IEN0b3IoeGQgJiYgIXhkWzBdID8gLTEgLyAwIDogeC5zICE9IDEgPyBOYU4gOiB4ZCA/IDAgOiB4KTtcclxuICB9XHJcblxyXG4gIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgd3ByID0gcHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdwciA9IHNkO1xyXG4gIH1cclxuXHJcbiAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgYyA9IGRpZ2l0c1RvU3RyaW5nKHhkKTtcclxuICBjMCA9IGMuY2hhckF0KDApO1xyXG5cclxuICBpZiAoTWF0aC5hYnMoZSA9IHguZSkgPCAxLjVlMTUpIHtcclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICAvLyBUaGUgc2VyaWVzIGNvbnZlcmdlcyBmYXN0ZXIgdGhlIGNsb3NlciB0aGUgYXJndW1lbnQgaXMgdG8gMSwgc28gdXNpbmdcclxuICAgIC8vIGxuKGFeYikgPSBiICogbG4oYSksICAgbG4oYSkgPSBsbihhXmIpIC8gYlxyXG4gICAgLy8gbXVsdGlwbHkgdGhlIGFyZ3VtZW50IGJ5IGl0c2VsZiB1bnRpbCB0aGUgbGVhZGluZyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kIGFyZSA3LCA4LCA5LFxyXG4gICAgLy8gMTAsIDExLCAxMiBvciAxMywgcmVjb3JkaW5nIHRoZSBudW1iZXIgb2YgbXVsdGlwbGljYXRpb25zIHNvIHRoZSBzdW0gb2YgdGhlIHNlcmllcyBjYW5cclxuICAgIC8vIGxhdGVyIGJlIGRpdmlkZWQgYnkgdGhpcyBudW1iZXIsIHRoZW4gc2VwYXJhdGUgb3V0IHRoZSBwb3dlciBvZiAxMCB1c2luZ1xyXG4gICAgLy8gbG4oYSoxMF5iKSA9IGxuKGEpICsgYipsbigxMCkuXHJcblxyXG4gICAgLy8gbWF4IG4gaXMgMjEgKGdpdmVzIDAuOSwgMS4wIG9yIDEuMSkgKDllMTUgLyAyMSA9IDQuMmUxNCkuXHJcbiAgICAvL3doaWxlIChjMCA8IDkgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMSkge1xyXG4gICAgLy8gbWF4IG4gaXMgNiAoZ2l2ZXMgMC43IC0gMS4zKVxyXG4gICAgd2hpbGUgKGMwIDwgNyAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAzKSB7XHJcbiAgICAgIHggPSB4LnRpbWVzKHkpO1xyXG4gICAgICBjID0gZGlnaXRzVG9TdHJpbmcoeC5kKTtcclxuICAgICAgYzAgPSBjLmNoYXJBdCgwKTtcclxuICAgICAgbisrO1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSB4LmU7XHJcblxyXG4gICAgaWYgKGMwID4gMSkge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoJzAuJyArIGMpO1xyXG4gICAgICBlKys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ID0gbmV3IEN0b3IoYzAgKyAnLicgKyBjLnNsaWNlKDEpKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIFRoZSBhcmd1bWVudCByZWR1Y3Rpb24gbWV0aG9kIGFib3ZlIG1heSByZXN1bHQgaW4gb3ZlcmZsb3cgaWYgdGhlIGFyZ3VtZW50IHkgaXMgYSBtYXNzaXZlXHJcbiAgICAvLyBudW1iZXIgd2l0aCBleHBvbmVudCA+PSAxNTAwMDAwMDAwMDAwMDAwICg5ZTE1IC8gNiA9IDEuNWUxNSksIHNvIGluc3RlYWQgcmVjYWxsIHRoaXNcclxuICAgIC8vIGZ1bmN0aW9uIHVzaW5nIGxuKHgqMTBeZSkgPSBsbih4KSArIGUqbG4oMTApLlxyXG4gICAgdCA9IGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJyk7XHJcbiAgICB4ID0gbmF0dXJhbExvZ2FyaXRobShuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpLCB3cHIgLSBndWFyZCkucGx1cyh0KTtcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcblxyXG4gICAgcmV0dXJuIHNkID09IG51bGwgPyBmaW5hbGlzZSh4LCBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSkgOiB4O1xyXG4gIH1cclxuXHJcbiAgLy8geDEgaXMgeCByZWR1Y2VkIHRvIGEgdmFsdWUgbmVhciAxLlxyXG4gIHgxID0geDtcclxuXHJcbiAgLy8gVGF5bG9yIHNlcmllcy5cclxuICAvLyBsbih5KSA9IGxuKCgxICsgeCkvKDEgLSB4KSkgPSAyKHggKyB4XjMvMyArIHheNS81ICsgeF43LzcgKyAuLi4pXHJcbiAgLy8gd2hlcmUgeCA9ICh5IC0gMSkvKHkgKyAxKSAgICAofHh8IDwgMSlcclxuICBzdW0gPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgubWludXMoMSksIHgucGx1cygxKSwgd3ByLCAxKTtcclxuICB4MiA9IGZpbmFsaXNlKHgudGltZXMoeCksIHdwciwgMSk7XHJcbiAgZGVub21pbmF0b3IgPSAzO1xyXG5cclxuICBmb3IgKDs7KSB7XHJcbiAgICBudW1lcmF0b3IgPSBmaW5hbGlzZShudW1lcmF0b3IudGltZXMoeDIpLCB3cHIsIDEpO1xyXG4gICAgdCA9IHN1bS5wbHVzKGRpdmlkZShudW1lcmF0b3IsIG5ldyBDdG9yKGRlbm9taW5hdG9yKSwgd3ByLCAxKSk7XHJcblxyXG4gICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgc3VtID0gc3VtLnRpbWVzKDIpO1xyXG5cclxuICAgICAgLy8gUmV2ZXJzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLiBDaGVjayB0aGF0IGUgaXMgbm90IDAgYmVjYXVzZSwgYmVzaWRlcyBwcmV2ZW50aW5nIGFuXHJcbiAgICAgIC8vIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9uLCAtMCArIDAgPSArMCBhbmQgdG8gZW5zdXJlIGNvcnJlY3Qgcm91bmRpbmcgLTAgbmVlZHMgdG8gc3RheSAtMC5cclxuICAgICAgaWYgKGUgIT09IDApIHN1bSA9IHN1bS5wbHVzKGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJykpO1xyXG4gICAgICBzdW0gPSBkaXZpZGUoc3VtLCBuZXcgQ3RvcihuKSwgd3ByLCAxKTtcclxuXHJcbiAgICAgIC8vIElzIHJtID4gMyBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDQ5OTksIG9yIHJtIDwgNCAob3IgdGhlIHN1bW1hdGlvbiBoYXNcclxuICAgICAgLy8gYmVlbiByZXBlYXRlZCBwcmV2aW91c2x5KSBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDk5OTk/XHJcbiAgICAgIC8vIElmIHNvLCByZXN0YXJ0IHRoZSBzdW1tYXRpb24gd2l0aCBhIGhpZ2hlciBwcmVjaXNpb24sIG90aGVyd2lzZVxyXG4gICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxMiwgcm91bmRpbmc6IDFcclxuICAgICAgLy8gbG4oMTM1NTIwMDI4LjYxMjYwOTE3MTQyNjUzODE1MzMpID0gMTguNzI0NjI5OTk5OSB3aGVuIGl0IHNob3VsZCBiZSAxOC43MjQ2My5cclxuICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgICAgICAgICB0ID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4MS5taW51cygxKSwgeDEucGx1cygxKSwgd3ByLCAxKTtcclxuICAgICAgICAgIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgICAgICAgIGRlbm9taW5hdG9yID0gcmVwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1bSA9IHQ7XHJcbiAgICBkZW5vbWluYXRvciArPSAyO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIMKxSW5maW5pdHksIE5hTi5cclxuZnVuY3Rpb24gbm9uRmluaXRlVG9TdHJpbmcoeCkge1xyXG4gIC8vIFVuc2lnbmVkLlxyXG4gIHJldHVybiBTdHJpbmcoeC5zICogeC5zIC8gMCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBzdHJpbmcgYHN0cmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZURlY2ltYWwoeCwgc3RyKSB7XHJcbiAgdmFyIGUsIGksIGxlbjtcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXHJcbiAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgIC8vIEludGVnZXIuXHJcbiAgICBlID0gc3RyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQobGVuIC0gMSkgPT09IDQ4OyAtLWxlbik7XHJcbiAgc3RyID0gc3RyLnNsaWNlKGksIGxlbik7XHJcblxyXG4gIGlmIChzdHIpIHtcclxuICAgIGxlbiAtPSBpO1xyXG4gICAgeC5lID0gZSA9IGUgLSBpIC0gMTtcclxuICAgIHguZCA9IFtdO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgIGlmIChlIDwgMCkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICBpZiAoaSkgeC5kLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcbiAgICAgIGZvciAobGVuIC09IExPR19CQVNFOyBpIDwgbGVuOykgeC5kLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZShpKTtcclxuICAgICAgaSA9IExPR19CQVNFIC0gc3RyLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgLT0gbGVuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoOyBpLS07KSBzdHIgKz0gJzAnO1xyXG4gICAgeC5kLnB1c2goK3N0cik7XHJcblxyXG4gICAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKHguZSA+IHguY29uc3RydWN0b3IubWF4RSkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmICh4LmUgPCB4LmNvbnN0cnVjdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAvLyB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICAgIH0gLy8gZWxzZSB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gWmVyby5cclxuICAgIHguZSA9IDA7XHJcbiAgICB4LmQgPSBbMF07XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFBhcnNlIHRoZSB2YWx1ZSBvZiBhIG5ldyBEZWNpbWFsIGB4YCBmcm9tIGEgc3RyaW5nIGBzdHJgLCB3aGljaCBpcyBub3QgYSBkZWNpbWFsIHZhbHVlLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VPdGhlcih4LCBzdHIpIHtcclxuICB2YXIgYmFzZSwgQ3RvciwgZGl2aXNvciwgaSwgaXNGbG9hdCwgbGVuLCBwLCB4ZCwgeGU7XHJcblxyXG4gIGlmIChzdHIgPT09ICdJbmZpbml0eScgfHwgc3RyID09PSAnTmFOJykge1xyXG4gICAgaWYgKCErc3RyKSB4LnMgPSBOYU47XHJcbiAgICB4LmUgPSBOYU47XHJcbiAgICB4LmQgPSBudWxsO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNIZXgudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDE2O1xyXG4gICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgfSBlbHNlIGlmIChpc0JpbmFyeS50ZXN0KHN0cikpICB7XHJcbiAgICBiYXNlID0gMjtcclxuICB9IGVsc2UgaWYgKGlzT2N0YWwudGVzdChzdHIpKSAge1xyXG4gICAgYmFzZSA9IDg7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHN0cik7XHJcbiAgfVxyXG5cclxuICAvLyBJcyB0aGVyZSBhIGJpbmFyeSBleHBvbmVudCBwYXJ0P1xyXG4gIGkgPSBzdHIuc2VhcmNoKC9wL2kpO1xyXG5cclxuICBpZiAoaSA+IDApIHtcclxuICAgIHAgPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgaSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IHN0ci5zbGljZSgyKTtcclxuICB9XHJcblxyXG4gIC8vIENvbnZlcnQgYHN0cmAgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGBiYXNlYCByYWlzZWQgdG8gYSBwb3dlciBzdWNoIHRoYXQgdGhlXHJcbiAgLy8gZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG4gIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG4gIGlzRmxvYXQgPSBpID49IDA7XHJcbiAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gIGlmIChpc0Zsb2F0KSB7XHJcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcbiAgICBpID0gbGVuIC0gaTtcclxuXHJcbiAgICAvLyBsb2dbMTBdKDE2KSA9IDEuMjA0MS4uLiAsIGxvZ1sxMF0oODgpID0gMS45NDQ0Li4uLlxyXG4gICAgZGl2aXNvciA9IGludFBvdyhDdG9yLCBuZXcgQ3RvcihiYXNlKSwgaSwgaSAqIDIpO1xyXG4gIH1cclxuXHJcbiAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIEJBU0UpO1xyXG4gIHhlID0geGQubGVuZ3RoIC0gMTtcclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IHhlOyB4ZFtpXSA9PT0gMDsgLS1pKSB4ZC5wb3AoKTtcclxuICBpZiAoaSA8IDApIHJldHVybiBuZXcgQ3Rvcih4LnMgKiAwKTtcclxuICB4LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgeGUpO1xyXG4gIHguZCA9IHhkO1xyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIC8vIEF0IHdoYXQgcHJlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGRpdmlzaW9uIHRvIGVuc3VyZSBleGFjdCBjb252ZXJzaW9uP1xyXG4gIC8vIG1heERlY2ltYWxJbnRlZ2VyUGFydERpZ2l0Q291bnQgPSBjZWlsKGxvZ1sxMF0oYikgKiBvdGhlckJhc2VJbnRlZ2VyUGFydERpZ2l0Q291bnQpXHJcbiAgLy8gbG9nWzEwXSgyKSA9IDAuMzAxMDMsIGxvZ1sxMF0oOCkgPSAwLjkwMzA5LCBsb2dbMTBdKDE2KSA9IDEuMjA0MTJcclxuICAvLyBFLmcuIGNlaWwoMS4yICogMykgPSA0LCBzbyB1cCB0byA0IGRlY2ltYWwgZGlnaXRzIGFyZSBuZWVkZWQgdG8gcmVwcmVzZW50IDMgaGV4IGludCBkaWdpdHMuXHJcbiAgLy8gbWF4RGVjaW1hbEZyYWN0aW9uUGFydERpZ2l0Q291bnQgPSB7SGV4OjR8T2N0OjN8QmluOjF9ICogb3RoZXJCYXNlRnJhY3Rpb25QYXJ0RGlnaXRDb3VudFxyXG4gIC8vIFRoZXJlZm9yZSB1c2luZyA0ICogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygc3RyIHdpbGwgYWx3YXlzIGJlIGVub3VnaC5cclxuICBpZiAoaXNGbG9hdCkgeCA9IGRpdmlkZSh4LCBkaXZpc29yLCBsZW4gKiA0KTtcclxuXHJcbiAgLy8gTXVsdGlwbHkgYnkgdGhlIGJpbmFyeSBleHBvbmVudCBwYXJ0IGlmIHByZXNlbnQuXHJcbiAgaWYgKHApIHggPSB4LnRpbWVzKE1hdGguYWJzKHApIDwgNTQgPyBtYXRocG93KDIsIHApIDogRGVjaW1hbC5wb3coMiwgcCkpO1xyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIHg7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAqIHx4fCA8IHBpLzJcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmUoQ3RvciwgeCkge1xyXG4gIHZhciBrLFxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgaWYgKGxlbiA8IDMpIHJldHVybiB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcblxyXG4gIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogc2luKDV4KSA9IDE2KnNpbl41KHgpIC0gMjAqc2luXjMoeCkgKyA1KnNpbih4KVxyXG4gIC8vIGkuZS4gc2luKHgpID0gMTYqc2luXjUoeC81KSAtIDIwKnNpbl4zKHgvNSkgKyA1KnNpbih4LzUpXHJcbiAgLy8gYW5kICBzaW4oeCkgPSBzaW4oeC81KSg1ICsgc2luXjIoeC81KSgxNnNpbl4yKHgvNSkgLSAyMCkpXHJcblxyXG4gIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgayA9IGsgPiAxNiA/IDE2IDogayB8IDA7XHJcblxyXG4gIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgpO1xyXG5cclxuICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gIHZhciBzaW4yX3gsXHJcbiAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgZDIwID0gbmV3IEN0b3IoMjApO1xyXG4gIGZvciAoOyBrLS07KSB7XHJcbiAgICBzaW4yX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgeCA9IHgudGltZXMoZDUucGx1cyhzaW4yX3gudGltZXMoZDE2LnRpbWVzKHNpbjJfeCkubWludXMoZDIwKSkpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLy8gQ2FsY3VsYXRlIFRheWxvciBzZXJpZXMgZm9yIGBjb3NgLCBgY29zaGAsIGBzaW5gIGFuZCBgc2luaGAuXHJcbmZ1bmN0aW9uIHRheWxvclNlcmllcyhDdG9yLCBuLCB4LCB5LCBpc0h5cGVyYm9saWMpIHtcclxuICB2YXIgaiwgdCwgdSwgeDIsXHJcbiAgICBpID0gMSxcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpO1xyXG5cclxuICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gIHgyID0geC50aW1lcyh4KTtcclxuICB1ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gIGZvciAoOzspIHtcclxuICAgIHQgPSBkaXZpZGUodS50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgIHUgPSBpc0h5cGVyYm9saWMgPyB5LnBsdXModCkgOiB5Lm1pbnVzKHQpO1xyXG4gICAgeSA9IGRpdmlkZSh0LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgdCA9IHUucGx1cyh5KTtcclxuXHJcbiAgICBpZiAodC5kW2tdICE9PSB2b2lkIDApIHtcclxuICAgICAgZm9yIChqID0gazsgdC5kW2pdID09PSB1LmRbal0gJiYgai0tOyk7XHJcbiAgICAgIGlmIChqID09IC0xKSBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBqID0gdTtcclxuICAgIHUgPSB5O1xyXG4gICAgeSA9IHQ7XHJcbiAgICB0ID0gajtcclxuICAgIGkrKztcclxuICB9XHJcblxyXG4gIGV4dGVybmFsID0gdHJ1ZTtcclxuICB0LmQubGVuZ3RoID0gayArIDE7XHJcblxyXG4gIHJldHVybiB0O1xyXG59XHJcblxyXG5cclxuLy8gRXhwb25lbnQgZSBtdXN0IGJlIHBvc2l0aXZlIGFuZCBub24temVyby5cclxuZnVuY3Rpb24gdGlueVBvdyhiLCBlKSB7XHJcbiAgdmFyIG4gPSBiO1xyXG4gIHdoaWxlICgtLWUpIG4gKj0gYjtcclxuICByZXR1cm4gbjtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgIHJlZHVjZWQgdG8gbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGhhbGYgcGkuXHJcbmZ1bmN0aW9uIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkge1xyXG4gIHZhciB0LFxyXG4gICAgaXNOZWcgPSB4LnMgPCAwLFxyXG4gICAgcGkgPSBnZXRQaShDdG9yLCBDdG9yLnByZWNpc2lvbiwgMSksXHJcbiAgICBoYWxmUGkgPSBwaS50aW1lcygwLjUpO1xyXG5cclxuICB4ID0geC5hYnMoKTtcclxuXHJcbiAgaWYgKHgubHRlKGhhbGZQaSkpIHtcclxuICAgIHF1YWRyYW50ID0gaXNOZWcgPyA0IDogMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcbiAgdCA9IHguZGl2VG9JbnQocGkpO1xyXG5cclxuICBpZiAodC5pc1plcm8oKSkge1xyXG4gICAgcXVhZHJhbnQgPSBpc05lZyA/IDMgOiAyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB4ID0geC5taW51cyh0LnRpbWVzKHBpKSk7XHJcblxyXG4gICAgLy8gMCA8PSB4IDwgcGlcclxuICAgIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAyIDogMykgOiAoaXNOZWcgPyA0IDogMSk7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAxIDogNCkgOiAoaXNOZWcgPyAzIDogMik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geC5taW51cyhwaSkuYWJzKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIGFzIGEgc3RyaW5nIGluIGJhc2UgYGJhc2VPdXRgLlxyXG4gKlxyXG4gKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IGluY2x1ZGUgYSBiaW5hcnkgZXhwb25lbnQgc3VmZml4LlxyXG4gKi9cclxuZnVuY3Rpb24gdG9TdHJpbmdCaW5hcnkoeCwgYmFzZU91dCwgc2QsIHJtKSB7XHJcbiAgdmFyIGJhc2UsIGUsIGksIGssIGxlbiwgcm91bmRVcCwgc3RyLCB4ZCwgeSxcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgaXNFeHAgPSBzZCAhPT0gdm9pZCAwO1xyXG5cclxuICBpZiAoaXNFeHApIHtcclxuICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgfVxyXG5cclxuICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgc3RyID0gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgaSA9IHN0ci5pbmRleE9mKCcuJyk7XHJcblxyXG4gICAgLy8gVXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFjY29yZGluZyB0byBgdG9FeHBQb3NgIGFuZCBgdG9FeHBOZWdgPyBObywgYnV0IGlmIHJlcXVpcmVkOlxyXG4gICAgLy8gbWF4QmluYXJ5RXhwb25lbnQgPSBmbG9vcigoZGVjaW1hbEV4cG9uZW50ICsgMSkgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbWluQmluYXJ5RXhwb25lbnQgPSBmbG9vcihkZWNpbWFsRXhwb25lbnQgKiBsb2dbMl0oMTApKVxyXG4gICAgLy8gbG9nWzJdKDEwKSA9IDMuMzIxOTI4MDk0ODg3MzYyMzQ3ODcwMzE5NDI5NDg5MzkwMTc1ODY0XHJcblxyXG4gICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgIGJhc2UgPSAyO1xyXG4gICAgICBpZiAoYmFzZU91dCA9PSAxNikge1xyXG4gICAgICAgIHNkID0gc2QgKiA0IC0gMztcclxuICAgICAgfSBlbHNlIGlmIChiYXNlT3V0ID09IDgpIHtcclxuICAgICAgICBzZCA9IHNkICogMyAtIDI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJhc2UgPSBiYXNlT3V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgaXRzIGJhc2UgcmFpc2VkIHRvIGEgcG93ZXIgc3VjaFxyXG4gICAgLy8gdGhhdCB0aGUgZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG5cclxuICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICB5LmUgPSBzdHIubGVuZ3RoIC0gaTtcclxuICAgICAgeS5kID0gY29udmVydEJhc2UoZmluaXRlVG9TdHJpbmcoeSksIDEwLCBiYXNlKTtcclxuICAgICAgeS5lID0geS5kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgMTAsIGJhc2UpO1xyXG4gICAgZSA9IGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgICBpZiAoIXhkWzBdKSB7XHJcbiAgICAgIHN0ciA9IGlzRXhwID8gJzBwKzAnIDogJzAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgZS0tO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBuZXcgQ3Rvcih4KTtcclxuICAgICAgICB4LmQgPSB4ZDtcclxuICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgIHggPSBkaXZpZGUoeCwgeSwgc2QsIHJtLCAwLCBiYXNlKTtcclxuICAgICAgICB4ZCA9IHguZDtcclxuICAgICAgICBlID0geC5lO1xyXG4gICAgICAgIHJvdW5kVXAgPSBpbmV4YWN0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICBpID0geGRbc2RdO1xyXG4gICAgICBrID0gYmFzZSAvIDI7XHJcbiAgICAgIHJvdW5kVXAgPSByb3VuZFVwIHx8IHhkW3NkICsgMV0gIT09IHZvaWQgMDtcclxuXHJcbiAgICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgICA/IChpICE9PSB2b2lkIDAgfHwgcm91bmRVcCkgJiYgKHJtID09PSAwIHx8IHJtID09PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICA6IGkgPiBrIHx8IGkgPT09IGsgJiYgKHJtID09PSA0IHx8IHJvdW5kVXAgfHwgcm0gPT09IDYgJiYgeGRbc2QgLSAxXSAmIDEgfHxcclxuICAgICAgICAgIHJtID09PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICB4ZC5sZW5ndGggPSBzZDtcclxuXHJcbiAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXHJcbiAgICAgICAgZm9yICg7ICsreGRbLS1zZF0gPiBiYXNlIC0gMTspIHtcclxuICAgICAgICAgIHhkW3NkXSA9IDA7XHJcbiAgICAgICAgICBpZiAoIXNkKSB7XHJcbiAgICAgICAgICAgICsrZTtcclxuICAgICAgICAgICAgeGQudW5zaGlmdCgxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7ICF4ZFtsZW4gLSAxXTsgLS1sZW4pO1xyXG5cclxuICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcblxyXG4gICAgICAvLyBBZGQgYmluYXJ5IGV4cG9uZW50IHN1ZmZpeD9cclxuICAgICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgICAgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICAgIGlmIChiYXNlT3V0ID09IDE2IHx8IGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgICAgICBpID0gYmFzZU91dCA9PSAxNiA/IDQgOiAzO1xyXG4gICAgICAgICAgICBmb3IgKC0tbGVuOyBsZW4gJSBpOyBsZW4rKykgc3RyICs9ICcwJztcclxuICAgICAgICAgICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIGJhc2VPdXQpO1xyXG4gICAgICAgICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAgICAgICAvLyB4ZFswXSB3aWxsIGFsd2F5cyBiZSBiZSAxXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIHN0ciA9ICcxLic7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gIHN0ciArIChlIDwgMCA/ICdwJyA6ICdwKycpICsgZTtcclxuICAgICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgICAgIGZvciAoOyArK2U7KSBzdHIgPSAnMCcgKyBzdHI7XHJcbiAgICAgICAgc3RyID0gJzAuJyArIHN0cjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoKytlID4gbGVuKSBmb3IgKGUgLT0gbGVuOyBlLS0gOykgc3RyICs9ICcwJztcclxuICAgICAgICBlbHNlIGlmIChlIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSAoYmFzZU91dCA9PSAxNiA/ICcweCcgOiBiYXNlT3V0ID09IDIgPyAnMGInIDogYmFzZU91dCA9PSA4ID8gJzBvJyA6ICcnKSArIHN0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG59XHJcblxyXG5cclxuLy8gRG9lcyBub3Qgc3RyaXAgdHJhaWxpbmcgemVyb3MuXHJcbmZ1bmN0aW9uIHRydW5jYXRlKGFyciwgbGVuKSB7XHJcbiAgaWYgKGFyci5sZW5ndGggPiBsZW4pIHtcclxuICAgIGFyci5sZW5ndGggPSBsZW47XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBEZWNpbWFsIG1ldGhvZHNcclxuXHJcblxyXG4vKlxyXG4gKiAgYWJzXHJcbiAqICBhY29zXHJcbiAqICBhY29zaFxyXG4gKiAgYWRkXHJcbiAqICBhc2luXHJcbiAqICBhc2luaFxyXG4gKiAgYXRhblxyXG4gKiAgYXRhbmhcclxuICogIGF0YW4yXHJcbiAqICBjYnJ0XHJcbiAqICBjZWlsXHJcbiAqICBjbG9uZVxyXG4gKiAgY29uZmlnXHJcbiAqICBjb3NcclxuICogIGNvc2hcclxuICogIGRpdlxyXG4gKiAgZXhwXHJcbiAqICBmbG9vclxyXG4gKiAgaHlwb3RcclxuICogIGxuXHJcbiAqICBsb2dcclxuICogIGxvZzJcclxuICogIGxvZzEwXHJcbiAqICBtYXhcclxuICogIG1pblxyXG4gKiAgbW9kXHJcbiAqICBtdWxcclxuICogIHBvd1xyXG4gKiAgcmFuZG9tXHJcbiAqICByb3VuZFxyXG4gKiAgc2V0XHJcbiAqICBzaWduXHJcbiAqICBzaW5cclxuICogIHNpbmhcclxuICogIHNxcnRcclxuICogIHN1YlxyXG4gKiAgdGFuXHJcbiAqICB0YW5oXHJcbiAqICB0cnVuY1xyXG4gKi9cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhYnMoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hYnMoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgaW4gcmFkaWFucyBvZiBgeGAuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFjb3MoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gYWNvc2goeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5hY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiBgeGAgYW5kIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGFkZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLnBsdXMoeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhc2luaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmFzaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbigpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuaCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB5L3hgIGluIHRoZSByYW5nZSAtcGkgdG8gcGlcclxuICogKGluY2x1c2l2ZSksIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICogUmFuZ2U6IFstcGksIHBpXVxyXG4gKlxyXG4gKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB5LWNvb3JkaW5hdGUuXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHgtY29vcmRpbmF0ZS5cclxuICpcclxuICogYXRhbjIowrEwLCAtMCkgICAgICAgICAgICAgICA9IMKxcGlcclxuICogYXRhbjIowrEwLCArMCkgICAgICAgICAgICAgICA9IMKxMFxyXG4gKiBhdGFuMijCsTAsIC14KSAgICAgICAgICAgICAgID0gwrFwaSBmb3IgeCA+IDBcclxuICogYXRhbjIowrEwLCB4KSAgICAgICAgICAgICAgICA9IMKxMCBmb3IgeCA+IDBcclxuICogYXRhbjIoLXksIMKxMCkgICAgICAgICAgICAgICA9IC1waS8yIGZvciB5ID4gMFxyXG4gKiBhdGFuMih5LCDCsTApICAgICAgICAgICAgICAgID0gcGkvMiBmb3IgeSA+IDBcclxuICogYXRhbjIowrF5LCAtSW5maW5pdHkpICAgICAgICA9IMKxcGkgZm9yIGZpbml0ZSB5ID4gMFxyXG4gKiBhdGFuMijCsXksICtJbmZpbml0eSkgICAgICAgID0gwrEwIGZvciBmaW5pdGUgeSA+IDBcclxuICogYXRhbjIowrFJbmZpbml0eSwgeCkgICAgICAgICA9IMKxcGkvMiBmb3IgZmluaXRlIHhcclxuICogYXRhbjIowrFJbmZpbml0eSwgLUluZmluaXR5KSA9IMKxMypwaS80XHJcbiAqIGF0YW4yKMKxSW5maW5pdHksICtJbmZpbml0eSkgPSDCsXBpLzRcclxuICogYXRhbjIoTmFOLCB4KSA9IE5hTlxyXG4gKiBhdGFuMih5LCBOYU4pID0gTmFOXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBhdGFuMih5LCB4KSB7XHJcbiAgeSA9IG5ldyB0aGlzKHkpO1xyXG4gIHggPSBuZXcgdGhpcyh4KTtcclxuICB2YXIgcixcclxuICAgIHByID0gdGhpcy5wcmVjaXNpb24sXHJcbiAgICBybSA9IHRoaXMucm91bmRpbmcsXHJcbiAgICB3cHIgPSBwciArIDQ7XHJcblxyXG4gIC8vIEVpdGhlciBOYU5cclxuICBpZiAoIXkucyB8fCAheC5zKSB7XHJcbiAgICByID0gbmV3IHRoaXMoTmFOKTtcclxuXHJcbiAgLy8gQm90aCDCsUluZmluaXR5XHJcbiAgfSBlbHNlIGlmICgheS5kICYmICF4LmQpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKHgucyA+IDAgPyAwLjI1IDogMC43NSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIHggaXMgwrFJbmZpbml0eSBvciB5IGlzIMKxMFxyXG4gIH0gZWxzZSBpZiAoIXguZCB8fCB5LmlzWmVybygpKSB7XHJcbiAgICByID0geC5zIDwgMCA/IGdldFBpKHRoaXMsIHByLCBybSkgOiBuZXcgdGhpcygwKTtcclxuICAgIHIucyA9IHkucztcclxuXHJcbiAgLy8geSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwXHJcbiAgfSBlbHNlIGlmICgheS5kIHx8IHguaXNaZXJvKCkpIHtcclxuICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKDAuNSk7XHJcbiAgICByLnMgPSB5LnM7XHJcblxyXG4gIC8vIEJvdGggbm9uLXplcm8gYW5kIGZpbml0ZVxyXG4gIH0gZWxzZSBpZiAoeC5zIDwgMCkge1xyXG4gICAgdGhpcy5wcmVjaXNpb24gPSB3cHI7XHJcbiAgICB0aGlzLnJvdW5kaW5nID0gMTtcclxuICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gICAgeCA9IGdldFBpKHRoaXMsIHdwciwgMSk7XHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IHByO1xyXG4gICAgdGhpcy5yb3VuZGluZyA9IHJtO1xyXG4gICAgciA9IHkucyA8IDAgPyByLm1pbnVzKHgpIDogci5wbHVzKHgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gY2JydCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNicnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0NFSUxgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjZWlsKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAyKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENvbmZpZ3VyZSBnbG9iYWwgc2V0dGluZ3MgZm9yIGEgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogYG9iamAgaXMgYW4gb2JqZWN0IHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLFxyXG4gKlxyXG4gKiAgIHByZWNpc2lvbiAge251bWJlcn1cclxuICogICByb3VuZGluZyAgIHtudW1iZXJ9XHJcbiAqICAgdG9FeHBOZWcgICB7bnVtYmVyfVxyXG4gKiAgIHRvRXhwUG9zICAge251bWJlcn1cclxuICogICBtYXhFICAgICAgIHtudW1iZXJ9XHJcbiAqICAgbWluRSAgICAgICB7bnVtYmVyfVxyXG4gKiAgIG1vZHVsbyAgICAge251bWJlcn1cclxuICogICBjcnlwdG8gICAgIHtib29sZWFufG51bWJlcn1cclxuICogICBkZWZhdWx0cyAgIHt0cnVlfVxyXG4gKlxyXG4gKiBFLmcuIERlY2ltYWwuY29uZmlnKHsgcHJlY2lzaW9uOiAyMCwgcm91bmRpbmc6IDQgfSlcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvbmZpZyhvYmopIHtcclxuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgdGhyb3cgRXJyb3IoZGVjaW1hbEVycm9yICsgJ09iamVjdCBleHBlY3RlZCcpO1xyXG4gIHZhciBpLCBwLCB2LFxyXG4gICAgdXNlRGVmYXVsdHMgPSBvYmouZGVmYXVsdHMgPT09IHRydWUsXHJcbiAgICBwcyA9IFtcclxuICAgICAgJ3ByZWNpc2lvbicsIDEsIE1BWF9ESUdJVFMsXHJcbiAgICAgICdyb3VuZGluZycsIDAsIDgsXHJcbiAgICAgICd0b0V4cE5lZycsIC1FWFBfTElNSVQsIDAsXHJcbiAgICAgICd0b0V4cFBvcycsIDAsIEVYUF9MSU1JVCxcclxuICAgICAgJ21heEUnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICdtaW5FJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgJ21vZHVsbycsIDAsIDlcclxuICAgIF07XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgaWYgKHAgPSBwc1tpXSwgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICAgIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgICBpZiAobWF0aGZsb29yKHYpID09PSB2ICYmIHYgPj0gcHNbaSArIDFdICYmIHYgPD0gcHNbaSArIDJdKSB0aGlzW3BdID0gdjtcclxuICAgICAgZWxzZSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHAgPSAnY3J5cHRvJywgdXNlRGVmYXVsdHMpIHRoaXNbcF0gPSBERUZBVUxUU1twXTtcclxuICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgIGlmICh2ID09PSB0cnVlIHx8IHYgPT09IGZhbHNlIHx8IHYgPT09IDAgfHwgdiA9PT0gMSkge1xyXG4gICAgICBpZiAodikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgdGhpc1twXSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpc1twXSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNvcyh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmNvcygpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3NoKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuY29zaCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBEZWNpbWFsIGNvbnN0cnVjdG9yIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGFzIHRoaXMgRGVjaW1hbFxyXG4gKiBjb25zdHJ1Y3Rvci5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lKG9iaikge1xyXG4gIHZhciBpLCBwLCBwcztcclxuXHJcbiAgLypcclxuICAgKiBUaGUgRGVjaW1hbCBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiB2IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIERlY2ltYWwodikge1xyXG4gICAgdmFyIGUsIGksIHQsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIC8vIERlY2ltYWwgY2FsbGVkIHdpdGhvdXQgbmV3LlxyXG4gICAgaWYgKCEoeCBpbnN0YW5jZW9mIERlY2ltYWwpKSByZXR1cm4gbmV3IERlY2ltYWwodik7XHJcblxyXG4gICAgLy8gUmV0YWluIGEgcmVmZXJlbmNlIHRvIHRoaXMgRGVjaW1hbCBjb25zdHJ1Y3RvciwgYW5kIHNoYWRvdyBEZWNpbWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxyXG4gICAgLy8gd2hpY2ggcG9pbnRzIHRvIE9iamVjdC5cclxuICAgIHguY29uc3RydWN0b3IgPSBEZWNpbWFsO1xyXG5cclxuICAgIC8vIER1cGxpY2F0ZS5cclxuICAgIGlmICh2IGluc3RhbmNlb2YgRGVjaW1hbCkge1xyXG4gICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICBpZiAoIXYuZCB8fCB2LmUgPiBEZWNpbWFsLm1heEUpIHtcclxuXHJcbiAgICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBEZWNpbWFsLm1pbkUpIHtcclxuXHJcbiAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5kID0gdi5kLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICB4LmQgPSB2LmQgPyB2LmQuc2xpY2UoKSA6IHYuZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHQgPSB0eXBlb2YgdjtcclxuXHJcbiAgICBpZiAodCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgaWYgKHYgPT09IDApIHtcclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAtMSA6IDE7XHJcbiAgICAgICAgeC5lID0gMDtcclxuICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodiA8IDApIHtcclxuICAgICAgICB2ID0gLXY7XHJcbiAgICAgICAgeC5zID0gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5zID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRmFzdCBwYXRoIGZvciBzbWFsbCBpbnRlZ2Vycy5cclxuICAgICAgaWYgKHYgPT09IH5+diAmJiB2IDwgMWU3KSB7XHJcbiAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTApIGUrKztcclxuXHJcbiAgICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgICBpZiAoZSA+IERlY2ltYWwubWF4RSkge1xyXG4gICAgICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGUgPCBEZWNpbWFsLm1pbkUpIHtcclxuICAgICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgLy8gSW5maW5pdHksIE5hTi5cclxuICAgICAgfSBlbHNlIGlmICh2ICogMCAhPT0gMCkge1xyXG4gICAgICAgIGlmICghdikgeC5zID0gTmFOO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHBhcnNlRGVjaW1hbCh4LCB2LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgdik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWludXMgc2lnbj9cclxuICAgIGlmICgoaSA9IHYuY2hhckNvZGVBdCgwKSkgPT09IDQ1KSB7XHJcbiAgICAgIHYgPSB2LnNsaWNlKDEpO1xyXG4gICAgICB4LnMgPSAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFBsdXMgc2lnbj9cclxuICAgICAgaWYgKGkgPT09IDQzKSB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgeC5zID0gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNEZWNpbWFsLnRlc3QodikgPyBwYXJzZURlY2ltYWwoeCwgdikgOiBwYXJzZU90aGVyKHgsIHYpO1xyXG4gIH1cclxuXHJcbiAgRGVjaW1hbC5wcm90b3R5cGUgPSBQO1xyXG5cclxuICBEZWNpbWFsLlJPVU5EX1VQID0gMDtcclxuICBEZWNpbWFsLlJPVU5EX0RPV04gPSAxO1xyXG4gIERlY2ltYWwuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgRGVjaW1hbC5ST1VORF9GTE9PUiA9IDM7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX1VQID0gNDtcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgRGVjaW1hbC5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gIERlY2ltYWwuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICBEZWNpbWFsLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gIERlY2ltYWwuRVVDTElEID0gOTtcclxuXHJcbiAgRGVjaW1hbC5jb25maWcgPSBEZWNpbWFsLnNldCA9IGNvbmZpZztcclxuICBEZWNpbWFsLmNsb25lID0gY2xvbmU7XHJcbiAgRGVjaW1hbC5pc0RlY2ltYWwgPSBpc0RlY2ltYWxJbnN0YW5jZTtcclxuXHJcbiAgRGVjaW1hbC5hYnMgPSBhYnM7XHJcbiAgRGVjaW1hbC5hY29zID0gYWNvcztcclxuICBEZWNpbWFsLmFjb3NoID0gYWNvc2g7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmFkZCA9IGFkZDtcclxuICBEZWNpbWFsLmFzaW4gPSBhc2luO1xyXG4gIERlY2ltYWwuYXNpbmggPSBhc2luaDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuYXRhbiA9IGF0YW47XHJcbiAgRGVjaW1hbC5hdGFuaCA9IGF0YW5oOyAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5hdGFuMiA9IGF0YW4yO1xyXG4gIERlY2ltYWwuY2JydCA9IGNicnQ7ICAgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwuY2VpbCA9IGNlaWw7XHJcbiAgRGVjaW1hbC5jb3MgPSBjb3M7XHJcbiAgRGVjaW1hbC5jb3NoID0gY29zaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5kaXYgPSBkaXY7XHJcbiAgRGVjaW1hbC5leHAgPSBleHA7XHJcbiAgRGVjaW1hbC5mbG9vciA9IGZsb29yO1xyXG4gIERlY2ltYWwuaHlwb3QgPSBoeXBvdDsgICAgICAgIC8vIEVTNlxyXG4gIERlY2ltYWwubG4gPSBsbjtcclxuICBEZWNpbWFsLmxvZyA9IGxvZztcclxuICBEZWNpbWFsLmxvZzEwID0gbG9nMTA7ICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLmxvZzIgPSBsb2cyOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLm1heCA9IG1heDtcclxuICBEZWNpbWFsLm1pbiA9IG1pbjtcclxuICBEZWNpbWFsLm1vZCA9IG1vZDtcclxuICBEZWNpbWFsLm11bCA9IG11bDtcclxuICBEZWNpbWFsLnBvdyA9IHBvdztcclxuICBEZWNpbWFsLnJhbmRvbSA9IHJhbmRvbTtcclxuICBEZWNpbWFsLnJvdW5kID0gcm91bmQ7XHJcbiAgRGVjaW1hbC5zaWduID0gc2lnbjsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zaW4gPSBzaW47XHJcbiAgRGVjaW1hbC5zaW5oID0gc2luaDsgICAgICAgICAgLy8gRVM2XHJcbiAgRGVjaW1hbC5zcXJ0ID0gc3FydDtcclxuICBEZWNpbWFsLnN1YiA9IHN1YjtcclxuICBEZWNpbWFsLnRhbiA9IHRhbjtcclxuICBEZWNpbWFsLnRhbmggPSB0YW5oOyAgICAgICAgICAvLyBFUzZcclxuICBEZWNpbWFsLnRydW5jID0gdHJ1bmM7ICAgICAgICAvLyBFUzZcclxuXHJcbiAgaWYgKG9iaiA9PT0gdm9pZCAwKSBvYmogPSB7fTtcclxuICBpZiAob2JqKSB7XHJcbiAgICBpZiAob2JqLmRlZmF1bHRzICE9PSB0cnVlKSB7XHJcbiAgICAgIHBzID0gWydwcmVjaXNpb24nLCAncm91bmRpbmcnLCAndG9FeHBOZWcnLCAndG9FeHBQb3MnLCAnbWF4RScsICdtaW5FJywgJ21vZHVsbycsICdjcnlwdG8nXTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDspIGlmICghb2JqLmhhc093blByb3BlcnR5KHAgPSBwc1tpKytdKSkgb2JqW3BdID0gdGhpc1twXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIERlY2ltYWwuY29uZmlnKG9iaik7XHJcblxyXG4gIHJldHVybiBEZWNpbWFsO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIGRpdmlkZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZGl2KHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuZGl2KHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoZSBiYXNlIG9mIHRoZSBuYXR1cmFsIGxvZy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGV4cCh4KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLmV4cCgpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0ZMT09SYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gZmxvb3IoeCkge1xyXG4gIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDMpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSBzdW0gb2YgdGhlIHNxdWFyZXMgb2YgdGhlIGFyZ3VtZW50cyxcclxuICogcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBoeXBvdChhLCBiLCAuLi4pID0gc3FydChhXjIgKyBiXjIgKyAuLi4pXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaHlwb3QoKSB7XHJcbiAgdmFyIGksIG4sXHJcbiAgICB0ID0gbmV3IHRoaXMoMCk7XHJcblxyXG4gIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOykge1xyXG4gICAgbiA9IG5ldyB0aGlzKGFyZ3VtZW50c1tpKytdKTtcclxuICAgIGlmICghbi5kKSB7XHJcbiAgICAgIGlmIChuLnMpIHtcclxuICAgICAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKDEgLyAwKTtcclxuICAgICAgfVxyXG4gICAgICB0ID0gbjtcclxuICAgIH0gZWxzZSBpZiAodC5kKSB7XHJcbiAgICAgIHQgPSB0LnBsdXMobi50aW1lcyhuKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gIHJldHVybiB0LnNxcnQoKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIG9iamVjdCBpcyBhIERlY2ltYWwgaW5zdGFuY2UgKHdoZXJlIERlY2ltYWwgaXMgYW55IERlY2ltYWwgY29uc3RydWN0b3IpLFxyXG4gKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gaXNEZWNpbWFsSW5zdGFuY2Uob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERlY2ltYWwgfHwgb2JqICYmIG9iai5uYW1lID09PSAnW29iamVjdCBEZWNpbWFsXScgfHwgZmFsc2U7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG4oKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBsb2cgb2YgYHhgIHRvIHRoZSBiYXNlIGB5YCwgb3IgdG8gYmFzZSAxMCBpZiBubyBiYXNlXHJcbiAqIGlzIHNwZWNpZmllZCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBsb2dbeV0oeClcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYXJndW1lbnQgb2YgdGhlIGxvZ2FyaXRobS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbG9nKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGJhc2UgMiBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzIoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMik7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAxMCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGxvZzEwKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDEwKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gbWF4KCkge1xyXG4gIHJldHVybiBtYXhPck1pbih0aGlzLCBhcmd1bWVudHMsICdsdCcpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICpcclxuICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBtaW4oKSB7XHJcbiAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbW9kdWxvIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG1vZCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm1vZCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtdWx0aXBsaWVkIGJ5IGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG11bCh4LCB5KSB7XHJcbiAgcmV0dXJuIG5ldyB0aGlzKHgpLm11bCh5KTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByYWlzZWQgdG8gdGhlIHBvd2VyIGB5YCwgcm91bmRlZCB0byBwcmVjaXNpb25cclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZS5cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgZXhwb25lbnQuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3coeCwgeSkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5wb3coeSk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsIGFuZCB3aXRoXHJcbiAqIGBzZGAsIG9yIGBEZWNpbWFsLnByZWNpc2lvbmAgaWYgYHNkYCBpcyBvbWl0dGVkLCBzaWduaWZpY2FudCBkaWdpdHMgKG9yIGxlc3MgaWYgdHJhaWxpbmcgemVyb3NcclxuICogYXJlIHByb2R1Y2VkKS5cclxuICpcclxuICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiByYW5kb20oc2QpIHtcclxuICB2YXIgZCwgZSwgaywgbixcclxuICAgIGkgPSAwLFxyXG4gICAgciA9IG5ldyB0aGlzKDEpLFxyXG4gICAgcmQgPSBbXTtcclxuXHJcbiAgaWYgKHNkID09PSB2b2lkIDApIHNkID0gdGhpcy5wcmVjaXNpb247XHJcbiAgZWxzZSBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgayA9IE1hdGguY2VpbChzZCAvIExPR19CQVNFKTtcclxuXHJcbiAgaWYgKCF0aGlzLmNyeXB0bykge1xyXG4gICAgZm9yICg7IGkgPCBrOykgcmRbaSsrXSA9IE1hdGgucmFuZG9tKCkgKiAxZTcgfCAwO1xyXG5cclxuICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgfSBlbHNlIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XHJcbiAgICBkID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoaykpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgbiA9IGRbaV07XHJcblxyXG4gICAgICAvLyAwIDw9IG4gPCA0Mjk0OTY3Mjk2XHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gNC4yOWU5LCBpcyA0OTY3Mjk2IC8gNDI5NDk2NzI5NiA9IDAuMDAxMTYgKDEgaW4gODY1KS5cclxuICAgICAgaWYgKG4gPj0gNC4yOWU5KSB7XHJcbiAgICAgICAgZFtpXSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDQyODk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmRbaSsrXSA9IG4gJSAxZTc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgIC8vIGJ1ZmZlclxyXG4gICAgZCA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDQpO1xyXG5cclxuICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgIC8vIDAgPD0gbiA8IDIxNDc0ODM2NDhcclxuICAgICAgbiA9IGRbaV0gKyAoZFtpICsgMV0gPDwgOCkgKyAoZFtpICsgMl0gPDwgMTYpICsgKChkW2kgKyAzXSAmIDB4N2YpIDw8IDI0KTtcclxuXHJcbiAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gMi4xNGU5LCBpcyA3NDgzNjQ4IC8gMjE0NzQ4MzY0OCA9IDAuMDAzNSAoMSBpbiAyODYpLlxyXG4gICAgICBpZiAobiA+PSAyLjE0ZTkpIHtcclxuICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNCkuY29weShkLCBpKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDw9IDIxMzk5OTk5OTlcclxuICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgcmQucHVzaChuICUgMWU3KTtcclxuICAgICAgICBpICs9IDQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpID0gayAvIDQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICB9XHJcblxyXG4gIGsgPSByZFstLWldO1xyXG4gIHNkICU9IExPR19CQVNFO1xyXG5cclxuICAvLyBDb252ZXJ0IHRyYWlsaW5nIGRpZ2l0cyB0byB6ZXJvcyBhY2NvcmRpbmcgdG8gc2QuXHJcbiAgaWYgKGsgJiYgc2QpIHtcclxuICAgIG4gPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIHNkKTtcclxuICAgIHJkW2ldID0gKGsgLyBuIHwgMCkgKiBuO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gIGZvciAoOyByZFtpXSA9PT0gMDsgaS0tKSByZC5wb3AoKTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoaSA8IDApIHtcclxuICAgIGUgPSAwO1xyXG4gICAgcmQgPSBbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIGUgPSAtMTtcclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB3b3JkcyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHJkWzBdID09PSAwOyBlIC09IExPR19CQVNFKSByZC5zaGlmdCgpO1xyXG5cclxuICAgIC8vIENvdW50IHRoZSBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGsgPSAxLCBuID0gcmRbMF07IG4gPj0gMTA7IG4gLz0gMTApIGsrKztcclxuXHJcbiAgICAvLyBBZGp1c3QgdGhlIGV4cG9uZW50IGZvciBsZWFkaW5nIHplcm9zIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkLlxyXG4gICAgaWYgKGsgPCBMT0dfQkFTRSkgZSAtPSBMT0dfQkFTRSAtIGs7XHJcbiAgfVxyXG5cclxuICByLmUgPSBlO1xyXG4gIHIuZCA9IHJkO1xyXG5cclxuICByZXR1cm4gcjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiBUbyBlbXVsYXRlIGBNYXRoLnJvdW5kYCwgc2V0IHJvdW5kaW5nIHRvIDcgKFJPVU5EX0hBTEZfQ0VJTCkuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCB0aGlzLnJvdW5kaW5nKTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVyblxyXG4gKiAgIDEgICAgaWYgeCA+IDAsXHJcbiAqICAtMSAgICBpZiB4IDwgMCxcclxuICogICAwICAgIGlmIHggaXMgMCxcclxuICogIC0wICAgIGlmIHggaXMgLTAsXHJcbiAqICAgTmFOICBvdGhlcndpc2VcclxuICpcclxuICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2lnbih4KSB7XHJcbiAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gIHJldHVybiB4LmQgPyAoeC5kWzBdID8geC5zIDogMCAqIHgucykgOiB4LnMgfHwgTmFOO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc2luKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc2luKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNpbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zaW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHNxcnQoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS5zcXJ0KCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbWludXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3ViKHgsIHkpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkuc3ViKHkpO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFuKHgpIHtcclxuICByZXR1cm4gbmV3IHRoaXMoeCkudGFuKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gKlxyXG4gKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhbmgoeCkge1xyXG4gIHJldHVybiBuZXcgdGhpcyh4KS50YW5oKCk7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXHJcbiAqXHJcbiAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRydW5jKHgpIHtcclxuICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAxKTtcclxufVxyXG5cclxuXHJcblBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnRvU3RyaW5nO1xyXG5QW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XHJcblxyXG4vLyBDcmVhdGUgYW5kIGNvbmZpZ3VyZSBpbml0aWFsIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbmV4cG9ydCB2YXIgRGVjaW1hbCA9IGNsb25lKERFRkFVTFRTKTtcclxuXHJcbi8vIENyZWF0ZSB0aGUgaW50ZXJuYWwgY29uc3RhbnRzIGZyb20gdGhlaXIgc3RyaW5nIHZhbHVlcy5cclxuTE4xMCA9IG5ldyBEZWNpbWFsKExOMTApO1xyXG5QSSA9IG5ldyBEZWNpbWFsKFBJKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERlY2ltYWw7XHJcbiIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQmlnTnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9vbicsICdjb25maWcnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmlnTnVtYmVyQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBvbixcbiAgICBjb25maWdcbiAgfSA9IF9yZWY7XG4gIHZhciBFVUNMSUQgPSA5OyAvLyBVc2UgZXVjbGlkaWFuIGRpdmlzaW9uIGZvciBtb2QgY2FsY3VsYXRpb25cblxuICB2YXIgQmlnTnVtYmVyID0gRGVjaW1hbC5jbG9uZSh7XG4gICAgcHJlY2lzaW9uOiBjb25maWcucHJlY2lzaW9uLFxuICAgIG1vZHVsbzogRVVDTElEXG4gIH0pO1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50eXBlID0gJ0JpZ051bWJlcic7XG4gIEJpZ051bWJlci5wcm90b3R5cGUuaXNCaWdOdW1iZXIgPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIEJpZ051bWJlciBjb250YWluaW5nXG4gICAqIHR5cGUgaW5mb3JtYXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIEpTT04gb2JqZWN0IHN0cnVjdHVyZWQgYXM6XG4gICAqICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCaWdOdW1iZXJcIiwgXCJ2YWx1ZVwiOiBcIjAuMlwifWBcbiAgICovXG5cbiAgQmlnTnVtYmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0JpZ051bWJlcicsXG4gICAgICB2YWx1ZTogdGhpcy50b1N0cmluZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgQmlnTnVtYmVyIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkJpZ051bWJlclwiLCBcInZhbHVlXCI6IFwiMC4yXCJ9YFxuICAgKiBAcmV0dXJuIHtCaWdOdW1iZXJ9XG4gICAqL1xuXG5cbiAgQmlnTnVtYmVyLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEJpZ051bWJlcihqc29uLnZhbHVlKTtcbiAgfTtcblxuICBpZiAob24pIHtcbiAgICAvLyBsaXN0ZW4gZm9yIGNoYW5nZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24sIGF1dG9tYXRpY2FsbHkgYXBwbHkgY2hhbmdlZCBwcmVjaXNpb25cbiAgICBvbignY29uZmlnJywgZnVuY3Rpb24gKGN1cnIsIHByZXYpIHtcbiAgICAgIGlmIChjdXJyLnByZWNpc2lvbiAhPT0gcHJldi5wcmVjaXNpb24pIHtcbiAgICAgICAgQmlnTnVtYmVyLmNvbmZpZyh7XG4gICAgICAgICAgcHJlY2lzaW9uOiBjdXJyLnByZWNpc2lvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBCaWdOdW1iZXI7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsIi8qKlxuICogQGxpY2Vuc2UgQ29tcGxleC5qcyB2Mi4wLjEzIDEyLzA1LzIwMjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG4vKipcbiAqXG4gKiBUaGlzIGNsYXNzIGFsbG93cyB0aGUgbWFuaXB1bGF0aW9uIG9mIGNvbXBsZXggbnVtYmVycy5cbiAqIFlvdSBjYW4gcGFzcyBhIGNvbXBsZXggbnVtYmVyIGluIGRpZmZlcmVudCBmb3JtYXRzLiBFaXRoZXIgYXMgb2JqZWN0LCBkb3VibGUsIHN0cmluZyBvciB0d28gaW50ZWdlciBwYXJhbWV0ZXJzLlxuICpcbiAqIE9iamVjdCBmb3JtXG4gKiB7IHJlOiA8cmVhbD4sIGltOiA8aW1hZ2luYXJ5PiB9XG4gKiB7IGFyZzogPGFuZ2xlPiwgYWJzOiA8cmFkaXVzPiB9XG4gKiB7IHBoaTogPGFuZ2xlPiwgcjogPHJhZGl1cz4gfVxuICpcbiAqIEFycmF5IC8gVmVjdG9yIGZvcm1cbiAqIFsgcmVhbCwgaW1hZ2luYXJ5IF1cbiAqXG4gKiBEb3VibGUgZm9ybVxuICogOTkuMyAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogJzIzLjEzMzcnIC0gU2ltcGxlIHJlYWwgbnVtYmVyXG4gKiAnMTUrM2knIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqICczLWknIC0gYSBzaW1wbGUgY29tcGxleCBudW1iZXJcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIHZhciBjID0gbmV3IENvbXBsZXgoJzk5LjMrOGknKTtcbiAqIGMubXVsKHtyOiAzLCBpOiA5fSkuZGl2KDQuOSkuc3ViKDMsIDIpO1xuICpcbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29zaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpICsgTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICB2YXIgc2luaCA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKE1hdGguZXhwKHgpIC0gTWF0aC5leHAoLXgpKSAqIDAuNTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBjb3MoeCkgLSAxIHVzaW5nIFRheWxvciBzZXJpZXMgaWYgeCBpcyBzbWFsbC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHJldHVybnMge251bWJlcn0gY29zKHgpIC0gMVxuICAgKi9cblxuICB2YXIgY29zbTEgPSBmdW5jdGlvbih4KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5QSS80O1xuICAgIGlmICh4IDwgLWxpbWl0IHx8IHggPiBsaW1pdCkge1xuICAgICAgcmV0dXJuIChNYXRoLmNvcyh4KSAtIDEuMCk7XG4gICAgfVxuXG4gICAgdmFyIHh4ID0geCAqIHg7XG4gICAgcmV0dXJuIHh4ICpcbiAgICAgICgtMC41ICsgeHggKlxuICAgICAgICAoMS8yNCArIHh4ICpcbiAgICAgICAgICAoLTEvNzIwICsgeHggKlxuICAgICAgICAgICAgKDEvNDAzMjAgKyB4eCAqXG4gICAgICAgICAgICAgICgtMS8zNjI4ODAwICsgeHggKlxuICAgICAgICAgICAgICAgICgxLzQ3OTAwMTQ2MDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAoLTEvODcxNzgyOTEyMDAgKyB4eCAqXG4gICAgICAgICAgICAgICAgICAgICgxLzIwOTIyNzg5ODg4MDAwKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICB9O1xuXG4gIHZhciBoeXBvdCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIHZhciBhID0gTWF0aC5hYnMoeCk7XG4gICAgdmFyIGIgPSBNYXRoLmFicyh5KTtcblxuICAgIGlmIChhIDwgMzAwMCAmJiBiIDwgMzAwMCkge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICB9XG5cbiAgICBpZiAoYSA8IGIpIHtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IHggLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0geSAvIHg7XG4gICAgfVxuICAgIHJldHVybiBhICogTWF0aC5zcXJ0KDEgKyBiICogYik7XG4gIH07XG5cbiAgdmFyIHBhcnNlcl9leGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgU3ludGF4RXJyb3IoJ0ludmFsaWQgUGFyYW0nKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBsb2coc3FydChhXjIrYl4yKSkgaW4gYSB3YXkgdG8gYXZvaWQgb3ZlcmZsb3dzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBsb2dIeXBvdChhLCBiKSB7XG5cbiAgICB2YXIgX2EgPSBNYXRoLmFicyhhKTtcbiAgICB2YXIgX2IgPSBNYXRoLmFicyhiKTtcblxuICAgIGlmIChhID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2IpO1xuICAgIH1cblxuICAgIGlmIChiID09PSAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coX2EpO1xuICAgIH1cblxuICAgIGlmIChfYSA8IDMwMDAgJiYgX2IgPCAzMDAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coYSAqIGEgKyBiICogYikgKiAwLjU7XG4gICAgfVxuXG4gICAgLyogSSBnb3QgNCBpZGVhcyB0byBjb21wdXRlIHRoaXMgcHJvcGVydHkgd2l0aG91dCBvdmVyZmxvdzpcbiAgICAgKlxuICAgICAqIFRlc3RpbmcgMTAwMDAwMCB0aW1lcyB3aXRoIHJhbmRvbSBzYW1wbGVzIGZvciBhLGIg4oiIIFsxLCAxMDAwMDAwMDAwXSBhZ2FpbnN0IGEgYmlnIGRlY2ltYWwgbGlicmFyeSB0byBnZXQgYW4gZXJyb3IgZXN0aW1hdGVcbiAgICAgKlxuICAgICAqIDEuIE9ubHkgZWxpbWluYXRlIHRoZSBzcXVhcmUgcm9vdDogKE9WRVJBTEwgRVJST1I6IDMuOTEyMjQ4MzAzMDk1MTExNmUtMTEpXG5cbiAgICAgTWF0aC5sb2coYSAqIGEgKyBiICogYikgLyAyXG5cbiAgICAgKlxuICAgICAqXG4gICAgICogMi4gVHJ5IHRvIHVzZSB0aGUgbm9uLW92ZXJmbG93aW5nIHB5dGhhZ29yYXM6IChPVkVSQUxMIEVSUk9SOiA4Ljg4OTc2MDAzOTIxMDE1OWUtMTApXG5cbiAgICAgdmFyIGZuID0gZnVuY3Rpb24oYSwgYikge1xuICAgICBhID0gTWF0aC5hYnMoYSk7XG4gICAgIGIgPSBNYXRoLmFicyhiKTtcbiAgICAgdmFyIHQgPSBNYXRoLm1pbihhLCBiKTtcbiAgICAgYSA9IE1hdGgubWF4KGEsIGIpO1xuICAgICB0ID0gdCAvIGE7XG5cbiAgICAgcmV0dXJuIE1hdGgubG9nKGEpICsgTWF0aC5sb2coMSArIHQgKiB0KSAvIDI7XG4gICAgIH07XG5cbiAgICAgKiAzLiBBYnVzZSB0aGUgaWRlbnRpdHkgY29zKGF0YW4oeS94KSA9IHggLyBzcXJ0KHheMit5XjIpOiAoT1ZFUkFMTCBFUlJPUjogMy40NzgwMTc4NzM3MDM3MjA0ZS0xMClcblxuICAgICBNYXRoLmxvZyhhIC8gTWF0aC5jb3MoTWF0aC5hdGFuMihiLCBhKSkpXG5cbiAgICAgKiA0LiBVc2UgMy4gYW5kIGFwcGx5IGxvZyBydWxlczogKE9WRVJBTEwgRVJST1I6IDEuMjAxNDA4NzUwMjYyMDg5NmUtOSlcblxuICAgICBNYXRoLmxvZyhhKSAtIE1hdGgubG9nKE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKVxuXG4gICAgICovXG5cbiAgICByZXR1cm4gTWF0aC5sb2coYSAvIE1hdGguY29zKE1hdGguYXRhbjIoYiwgYSkpKTtcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgIHZhciB6ID0geydyZSc6IDAsICdpbSc6IDB9O1xuXG4gICAgaWYgKGEgPT09IHVuZGVmaW5lZCB8fCBhID09PSBudWxsKSB7XG4gICAgICB6WydyZSddID1cbiAgICAgICAgICAgICAgelsnaW0nXSA9IDA7XG4gICAgfSBlbHNlIGlmIChiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgelsnaW0nXSA9IGI7XG4gICAgfSBlbHNlXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG5cbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcblxuICAgICAgICAgIGlmICgnaW0nIGluIGEgJiYgJ3JlJyBpbiBhKSB7XG4gICAgICAgICAgICB6WydyZSddID0gYVsncmUnXTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydpbSddO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJ2FicycgaW4gYSAmJiAnYXJnJyBpbiBhKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShhWydhYnMnXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ2FyZyddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydhYnMnXSAqIE1hdGguY29zKGFbJ2FyZyddKTtcbiAgICAgICAgICAgIHpbJ2ltJ10gPSBhWydhYnMnXSAqIE1hdGguc2luKGFbJ2FyZyddKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCdyJyBpbiBhICYmICdwaGknIGluIGEpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGFbJ3InXSkgJiYgTnVtYmVyLmlzRmluaXRlKGFbJ3BoaSddKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWydyJ10gKiBNYXRoLmNvcyhhWydwaGknXSk7XG4gICAgICAgICAgICB6WydpbSddID0gYVsnciddICogTWF0aC5zaW4oYVsncGhpJ10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGggPT09IDIpIHsgLy8gUXVpY2sgYXJyYXkgY2hlY2tcbiAgICAgICAgICAgIHpbJ3JlJ10gPSBhWzBdO1xuICAgICAgICAgICAgelsnaW0nXSA9IGFbMV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG5cbiAgICAgICAgICB6WydpbSddID0gLyogdm9pZCAqL1xuICAgICAgICAgICAgICAgICAgelsncmUnXSA9IDA7XG5cbiAgICAgICAgICB2YXIgdG9rZW5zID0gYS5tYXRjaCgvXFxkK1xcLj9cXGQqZVsrLV0/XFxkK3xcXGQrXFwuP1xcZCp8XFwuXFxkK3wuL2cpO1xuICAgICAgICAgIHZhciBwbHVzID0gMTtcbiAgICAgICAgICB2YXIgbWludXMgPSAwO1xuXG4gICAgICAgICAgaWYgKHRva2VucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgaWYgKGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAvKiB2b2lkICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcrJykge1xuICAgICAgICAgICAgICBwbHVzKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgICBtaW51cysrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnaScgfHwgYyA9PT0gJ0knKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHBsdXMgKyBtaW51cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcnNlcl9leGl0KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodG9rZW5zW2kgKyAxXSAhPT0gJyAnICYmICFpc05hTih0b2tlbnNbaSArIDFdKSkge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgdG9rZW5zW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHpbJ2ltJ10gKz0gcGFyc2VGbG9hdCgobWludXMgJSAyID8gJy0nIDogJycpICsgJzEnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwbHVzID0gbWludXMgPSAwO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPT09IDAgfHwgaXNOYU4oYykpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpICsgMV0gPT09ICdpJyB8fCB0b2tlbnNbaSArIDFdID09PSAnSScpIHtcbiAgICAgICAgICAgICAgICB6WydpbSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB6WydyZSddICs9IHBhcnNlRmxvYXQoKG1pbnVzICUgMiA/ICctJyA6ICcnKSArIGMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBsdXMgPSBtaW51cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RpbGwgc29tZXRoaW5nIG9uIHRoZSBzdGFja1xuICAgICAgICAgIGlmIChwbHVzICsgbWludXMgPiAwKSB7XG4gICAgICAgICAgICBwYXJzZXJfZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHpbJ2ltJ10gPSAwO1xuICAgICAgICAgIHpbJ3JlJ10gPSBhO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFyc2VyX2V4aXQoKTtcbiAgICAgIH1cblxuICAgIGlmIChpc05hTih6WydyZSddKSB8fCBpc05hTih6WydpbSddKSkge1xuICAgICAgLy8gSWYgYSBjYWxjdWxhdGlvbiBpcyBOYU4sIHdlIHRyZWF0IGl0IGFzIE5hTiBhbmQgZG9uJ3QgdGhyb3dcbiAgICAgIC8vcGFyc2VyX2V4aXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gejtcbiAgfTtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgKi9cbiAgZnVuY3Rpb24gQ29tcGxleChhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGxleCkpIHtcbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhLCBiKTtcbiAgICB9XG5cbiAgICB2YXIgeiA9IHBhcnNlKGEsIGIpO1xuXG4gICAgdGhpc1sncmUnXSA9IHpbJ3JlJ107XG4gICAgdGhpc1snaW0nXSA9IHpbJ2ltJ107XG4gIH1cblxuICBDb21wbGV4LnByb3RvdHlwZSA9IHtcblxuICAgICdyZSc6IDAsXG4gICAgJ2ltJzogMCxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNpZ24gb2YgYSBjb21wbGV4IG51bWJlciwgd2hpY2ggaXMgYSBub3JtYWxpemVkIGNvbXBsZXhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaWduJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhYnMgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gLyBhYnMsXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLyBhYnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhZGQnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5ICsgSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5ICsgeiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSArIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gKyB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzdWInOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIEluZmluaXR5IC0gSW5maW5pdHkgPSBOYU5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSAmJiB6Wydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC0geiA9IEluZmluaXR5IHsgd2hlcmUgeiAhPSBJbmZpbml0eSB9XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ0lORklOSVRZJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdGhpc1sncmUnXSAtIHpbJ3JlJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ2ltJ10gLSB6WydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gY29tcGxleCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbXVsJzogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICB2YXIgeiA9IG5ldyBDb21wbGV4KGEsIGIpO1xuXG4gICAgICAvLyBJbmZpbml0eSAqIDAgPSBOYU5cbiAgICAgIGlmICgodGhpc1snaXNJbmZpbml0ZSddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNJbmZpbml0ZSddKCkpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydOQU4nXTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5maW5pdHkgKiB6ID0gSW5maW5pdHkgeyB3aGVyZSB6ICE9IDAgfVxuICAgICAgaWYgKHRoaXNbJ2lzSW5maW5pdGUnXSgpIHx8IHpbJ2lzSW5maW5pdGUnXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG9ydCBjaXJjdWl0IGZvciByZWFsIHZhbHVlc1xuICAgICAgaWYgKHpbJ2ltJ10gPT09IDAgJiYgdGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgodGhpc1sncmUnXSAqIHpbJ3JlJ10sIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydyZSddIC0gdGhpc1snaW0nXSAqIHpbJ2ltJ10sXG4gICAgICAgICAgICAgIHRoaXNbJ3JlJ10gKiB6WydpbSddICsgdGhpc1snaW0nXSAqIHpbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdkaXYnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIC8vIDAgLyAwID0gTmFOIGFuZCBJbmZpbml0eSAvIEluZmluaXR5ID0gTmFOXG4gICAgICBpZiAoKHRoaXNbJ2lzWmVybyddKCkgJiYgelsnaXNaZXJvJ10oKSkgfHwgKHRoaXNbJ2lzSW5maW5pdGUnXSgpICYmIHpbJ2lzSW5maW5pdGUnXSgpKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnTkFOJ107XG4gICAgICB9XG5cbiAgICAgIC8vIEluZmluaXR5IC8gMCA9IEluZmluaXR5XG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkgfHwgelsnaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgLy8gMCAvIEluZmluaXR5ID0gMFxuICAgICAgaWYgKHRoaXNbJ2lzWmVybyddKCkgfHwgelsnaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIGMgPSB6WydyZSddO1xuICAgICAgdmFyIGQgPSB6WydpbSddO1xuICAgICAgdmFyIHQsIHg7XG5cbiAgICAgIGlmICgwID09PSBkKSB7XG4gICAgICAgIC8vIERpdmlzb3IgaXMgcmVhbFxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoYSAvIGMsIGIgLyBjKTtcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGMpIDwgTWF0aC5hYnMoZCkpIHtcblxuICAgICAgICB4ID0gYyAvIGQ7XG4gICAgICAgIHQgPSBjICogeCArIGQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgIChhICogeCArIGIpIC8gdCxcbiAgICAgICAgICAgICAgICAoYiAqIHggLSBhKSAvIHQpO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHggPSBkIC8gYztcbiAgICAgICAgdCA9IGQgKiB4ICsgYztcblxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgKGEgKyBiICogeCkgLyB0LFxuICAgICAgICAgICAgICAgIChiIC0gYSAqIHgpIC8gdCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG93ZXIgb2YgdHdvIGNvbXBsZXggbnVtYmVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Bvdyc6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgdmFyIHogPSBuZXcgQ29tcGxleChhLCBiKTtcblxuICAgICAgYSA9IHRoaXNbJ3JlJ107XG4gICAgICBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKHpbJ2lzWmVybyddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ09ORSddO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgZXhwb25lbnQgaXMgcmVhbFxuICAgICAgaWYgKHpbJ2ltJ10gPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMCAmJiBhID4gMCkge1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGgucG93KGEsIHpbJ3JlJ10pLCAwKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGEgPT09IDApIHsgLy8gSWYgYmFzZSBpcyBmdWxseSBpbWFnaW5hcnlcblxuICAgICAgICAgIHN3aXRjaCAoKHpbJ3JlJ10gJSA0ICsgNCkgJSA0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleChNYXRoLnBvdyhiLCB6WydyZSddKSwgMCk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBNYXRoLnBvdyhiLCB6WydyZSddKSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgtTWF0aC5wb3coYiwgelsncmUnXSksIDApO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLU1hdGgucG93KGIsIHpbJ3JlJ10pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogSSBjb3VsZG4ndCBmaW5kIGEgZ29vZCBmb3JtdWxhLCBzbyBoZXJlIGlzIGEgZGVyaXZhdGlvbiBhbmQgb3B0aW1pemF0aW9uXG4gICAgICAgKlxuICAgICAgICogel8xXnpfMiA9IChhICsgYmkpXihjICsgZGkpXG4gICAgICAgKiAgICAgICAgID0gZXhwKChjICsgZGkpICogbG9nKGEgKyBiaSlcbiAgICAgICAqICAgICAgICAgPSBwb3coYV4yICsgYl4yLCAoYyArIGRpKSAvIDIpICogZXhwKGkoYyArIGRpKWF0YW4yKGIsIGEpKVxuICAgICAgICogPT4uLi5cbiAgICAgICAqIFJlID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBjb3MoZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqIEltID0gKHBvdyhhXjIgKyBiXjIsIGMgLyAyKSAqIGV4cCgtZCAqIGF0YW4yKGIsIGEpKSkgKiBzaW4oZCAqIGxvZyhhXjIgKyBiXjIpIC8gMiArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9Pi4uLlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZyhzcXJ0KGFeMiArIGJeMikpIC0gZCAqIGF0YW4yKGIsIGEpKSAqIGNvcyhkICogbG9nKHNxcnQoYV4yICsgYl4yKSkgKyBjICogYXRhbjIoYiwgYSkpXG4gICAgICAgKiBJbSA9IGV4cChjICogbG9nKHNxcnQoYV4yICsgYl4yKSkgLSBkICogYXRhbjIoYiwgYSkpICogc2luKGQgKiBsb2coc3FydChhXjIgKyBiXjIpKSArIGMgKiBhdGFuMihiLCBhKSlcbiAgICAgICAqXG4gICAgICAgKiA9PlxuICAgICAgICogUmUgPSBleHAoYyAqIGxvZ3NxMiAtIGQgKiBhcmcoel8xKSkgKiBjb3MoZCAqIGxvZ3NxMiArIGMgKiBhcmcoel8xKSlcbiAgICAgICAqIEltID0gZXhwKGMgKiBsb2dzcTIgLSBkICogYXJnKHpfMSkpICogc2luKGQgKiBsb2dzcTIgKyBjICogYXJnKHpfMSkpXG4gICAgICAgKlxuICAgICAgICovXG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDAgJiYgelsncmUnXSA+IDAgJiYgelsnaW0nXSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydaRVJPJ107XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmcgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgdmFyIGxvaCA9IGxvZ0h5cG90KGEsIGIpO1xuXG4gICAgICBhID0gTWF0aC5leHAoelsncmUnXSAqIGxvaCAtIHpbJ2ltJ10gKiBhcmcpO1xuICAgICAgYiA9IHpbJ2ltJ10gKiBsb2ggKyB6WydyZSddICogYXJnO1xuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBhICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGEgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzcXVhcmUgcm9vdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3NxcnQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuICAgICAgdmFyIHIgPSB0aGlzWydhYnMnXSgpO1xuXG4gICAgICB2YXIgcmUsIGltO1xuXG4gICAgICBpZiAoYSA+PSAwKSB7XG5cbiAgICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5zcXJ0KGEpLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlID0gMC41ICogTWF0aC5zcXJ0KDIuMCAqIChyICsgYSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmUgPSBNYXRoLmFicyhiKSAvIE1hdGguc3FydCgyICogKHIgLSBhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhIDw9IDApIHtcbiAgICAgICAgaW0gPSAwLjUgKiBNYXRoLnNxcnQoMi4wICogKHIgLSBhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbSA9IE1hdGguYWJzKGIpIC8gTWF0aC5zcXJ0KDIgKiAociArIGEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHJlLCBiIDwgMCA/IC1pbSA6IGltKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0bXAgPSBNYXRoLmV4cCh0aGlzWydyZSddKTtcblxuICAgICAgaWYgKHRoaXNbJ2ltJ10gPT09IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgodG1wLCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgdG1wICogTWF0aC5jb3ModGhpc1snaW0nXSksXG4gICAgICAgICAgICAgIHRtcCAqIE1hdGguc2luKHRoaXNbJ2ltJ10pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGV4cG9uZW50IGFuZCBzdWJ0cmFjdHMgb25lLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZSB0aGFuIGBDb21wbGV4KHgpLmV4cCgpLnN1YigxKWAgaWZcbiAgICAgKiBgeGAgaXMgc21hbGwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZXhwbTEnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBleHAoYSArIGkqYikgLSAxXG4gICAgICAgPSBleHAoYSkgKiAoY29zKGIpICsgaipzaW4oYikpIC0gMVxuICAgICAgID0gZXhwbTEoYSkqY29zKGIpICsgY29zbTEoYikgKyBqKmV4cChhKSpzaW4oYilcbiAgICAgICAqL1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5leHBtMShhKSAqIE1hdGguY29zKGIpICsgY29zbTEoYiksXG4gICAgICAgICAgICAgIE1hdGguZXhwKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnbG9nJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDAgJiYgYSA+IDApIHtcbiAgICAgICAgLy9yZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5sb2coYSksIDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGxvZ0h5cG90KGEsIGIpLFxuICAgICAgICAgICAgICBNYXRoLmF0YW4yKGIsIGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtYWduaXR1ZGUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgICdhYnMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIGh5cG90KHRoaXNbJ3JlJ10sIHRoaXNbJ2ltJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGFuZ2xlIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICAnYXJnJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXNbJ2ltJ10sIHRoaXNbJ3JlJ10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNpbmUgb2YgdGhlIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbihjKSA9IChlXmIgLSBlXigtYikpIC8gKDJpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpLFxuICAgICAgICAgICAgICBNYXRoLmNvcyhhKSAqIHNpbmgoYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2luZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nvcyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3MoeikgPSAoZV5iICsgZV4oLWIpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSxcbiAgICAgICAgICAgICAgLU1hdGguc2luKGEpICogc2luaChiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgdGFuZ2VudFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3Rhbic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyB0YW4oYykgPSAoZV4oY2kpIC0gZV4oLWNpKSkgLyAoaShlXihjaSkgKyBlXigtY2kpKSlcblxuICAgICAgdmFyIGEgPSAyICogdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gMiAqIHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKGEpICsgY29zaChiKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb3QnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290KGMpID0gaShlXihjaSkgKyBlXigtY2kpKSAvIChlXihjaSkgLSBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoYSkgLSBjb3NoKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIC1NYXRoLnNpbihhKSAvIGQsXG4gICAgICAgICAgICAgIHNpbmgoYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzZWNhbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzZWMnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gc2VjKGMpID0gMiAvIChlXihjaSkgKyBlXigtY2kpKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IDAuNSAqIGNvc2goMiAqIGIpICsgMC41ICogTWF0aC5jb3MoMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIE1hdGguY29zKGEpICogY29zaChiKSAvIGQsXG4gICAgICAgICAgICAgIE1hdGguc2luKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvc2VjYW5zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY3NjJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzYyhjKSA9IDJpIC8gKGVeKGNpKSAtIGVeKC1jaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gMC41ICogY29zaCgyICogYikgLSAwLjUgKiBNYXRoLmNvcygyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5zaW4oYSkgKiBjb3NoKGIpIC8gZCxcbiAgICAgICAgICAgICAgLU1hdGguY29zKGEpICogc2luaChiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFzaW4oYykgPSAtaSAqIGxvZyhjaSArIHNxcnQoMSAtIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgdmFyIHQxID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIGIgKiBiIC0gYSAqIGEgKyAxLFxuICAgICAgICAgICAgICAtMiAqIGEgKiBiKVsnc3FydCddKCk7XG5cbiAgICAgIHZhciB0MiA9IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICB0MVsncmUnXSAtIGIsXG4gICAgICAgICAgICAgIHQxWydpbSddICsgYSlbJ2xvZyddKCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0MlsnaW0nXSwgLXQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIGNvc2ludXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY29zJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3MoYykgPSBpICogbG9nKGMgLSBpICogc3FydCgxIC0gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgYiAqIGIgLSBhICogYSArIDEsXG4gICAgICAgICAgICAgIC0yICogYSAqIGIpWydzcXJ0J10oKTtcblxuICAgICAgdmFyIHQyID0gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHQxWydyZSddIC0gYixcbiAgICAgICAgICAgICAgdDFbJ2ltJ10gKyBhKVsnbG9nJ10oKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguUEkgLyAyIC0gdDJbJ2ltJ10sIHQyWydyZSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFyY3VzIHRhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGF0YW4oYykgPSBpIC8gMiBsb2coKGkgKyB4KSAvIChpIC0geCkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDApIHtcblxuICAgICAgICBpZiAoYiA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYiA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoMCwgLUluZmluaXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgKDEuMCAtIGIpICogKDEuMCAtIGIpO1xuXG4gICAgICB2YXIgdDEgPSBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgKDEgLSBiICogYiAtIGEgKiBhKSAvIGQsXG4gICAgICAgICAgICAgIC0yICogYSAvIGQpLmxvZygpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLTAuNSAqIHQxWydpbSddLCAwLjUgKiB0MVsncmUnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3RhbmdlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY290JzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3QoYykgPSBpIC8gMiBsb2coKGMgLSBpKSAvIChjICsgaSkpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KE1hdGguYXRhbjIoMSwgYSksIDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG4gICAgICByZXR1cm4gKGQgIT09IDApXG4gICAgICAgICAgICAgID8gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgYSAvIGQsXG4gICAgICAgICAgICAgICAgICAgICAgLWIgLyBkKS5hdGFuKClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gMCkgPyBhIC8gMCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gLWIgLyAwIDogMCkuYXRhbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXJjdXMgc2VjYW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYXNlYyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjKGMpID0gLWkgKiBsb2coMSAvIGMgKyBzcXJ0KDEgLSBpIC8gY14yKSlcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCgwLCBJbmZpbml0eSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gYSAqIGEgKyBiICogYjtcbiAgICAgIHJldHVybiAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICBhIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAtYiAvIGQpLmFjb3MoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhcmN1cyBjb3NlY2Fuc1xuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjc2MnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNzYyhjKSA9IC1pICogbG9nKGkgLyBjICsgc3FydCgxIC0gMSAvIGNeMikpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoTWF0aC5QSSAvIDIsIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbigpXG4gICAgICAgICAgICAgIDogbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgICAgICAgICAgKGEgIT09IDApID8gYSAvIDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIChiICE9PSAwKSA/IC1iIC8gMCA6IDApLmFzaW4oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IHNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdzaW5oJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIHNpbmgoYykgPSAoZV5jIC0gZV4tYykgLyAyXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5jb3MoYiksXG4gICAgICAgICAgICAgIGNvc2goYSkgKiBNYXRoLnNpbihiKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnY29zaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBjb3NoKGMpID0gKGVeYyArIGVeLWMpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgY29zaChhKSAqIE1hdGguY29zKGIpLFxuICAgICAgICAgICAgICBzaW5oKGEpICogTWF0aC5zaW4oYikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggdGFuaFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3RhbmgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gdGFuaChjKSA9IChlXmMgLSBlXi1jKSAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSArIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NvdGgnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gY290aChjKSA9IChlXmMgKyBlXi1jKSAvIChlXmMgLSBlXi1jKVxuXG4gICAgICB2YXIgYSA9IDIgKiB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSAyICogdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gY29zaChhKSAtIE1hdGguY29zKGIpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIHNpbmgoYSkgLyBkLFxuICAgICAgICAgICAgICAtTWF0aC5zaW4oYikgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGNvdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjc2NoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGNzY2goYykgPSAyIC8gKGVeYyAtIGVeLWMpXG5cbiAgICAgIHZhciBhID0gdGhpc1sncmUnXTtcbiAgICAgIHZhciBiID0gdGhpc1snaW0nXTtcbiAgICAgIHZhciBkID0gTWF0aC5jb3MoMiAqIGIpIC0gY29zaCgyICogYSk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgLTIgKiBzaW5oKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAyICogY29zaChhKSAqIE1hdGguc2luKGIpIC8gZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBzZWNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBzZWNoKGMpID0gMiAvIChlXmMgKyBlXi1jKVxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgZCA9IE1hdGguY29zKDIgKiBiKSArIGNvc2goMiAqIGEpO1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoXG4gICAgICAgICAgICAgIDIgKiBjb3NoKGEpICogTWF0aC5jb3MoYikgLyBkLFxuICAgICAgICAgICAgICAtMiAqIHNpbmgoYSkgKiBNYXRoLnNpbihiKSAvIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNpbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2luaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2luaChjKSA9IGxvZyhjICsgc3FydChjXjIgKyAxKSlcblxuICAgICAgdmFyIHRtcCA9IHRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gLXRoaXNbJ3JlJ107XG4gICAgICB0aGlzWydyZSddID0gdG1wO1xuICAgICAgdmFyIHJlcyA9IHRoaXNbJ2FzaW4nXSgpO1xuXG4gICAgICB0aGlzWydyZSddID0gLXRoaXNbJ2ltJ107XG4gICAgICB0aGlzWydpbSddID0gdG1wO1xuICAgICAgdG1wID0gcmVzWydyZSddO1xuXG4gICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgcmVzWydpbSddID0gdG1wO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBjb21wbGV4IGFjb3NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnYWNvc2gnOiBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gYWNvc2goYykgPSBsb2coYyArIHNxcnQoY14yIC0gMSkpXG5cbiAgICAgIHZhciByZXMgPSB0aGlzWydhY29zJ10oKTtcbiAgICAgIGlmIChyZXNbJ2ltJ10gPD0gMCkge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSAtcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSB0bXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdG1wID0gcmVzWydpbSddO1xuICAgICAgICByZXNbJ2ltJ10gPSAtcmVzWydyZSddO1xuICAgICAgICByZXNbJ3JlJ10gPSB0bXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXRhbmhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhdGFuaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhdGFuaChjKSA9IGxvZygoMStjKSAvICgxLWMpKSAvIDJcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgbm9JTSA9IGEgPiAxICYmIGIgPT09IDA7XG4gICAgICB2YXIgb25lTWludXMgPSAxIC0gYTtcbiAgICAgIHZhciBvbmVQbHVzID0gMSArIGE7XG4gICAgICB2YXIgZCA9IG9uZU1pbnVzICogb25lTWludXMgKyBiICogYjtcblxuICAgICAgdmFyIHggPSAoZCAhPT0gMClcbiAgICAgICAgICAgICAgPyBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAob25lUGx1cyAqIG9uZU1pbnVzIC0gYiAqIGIpIC8gZCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAqIG9uZU1pbnVzICsgb25lUGx1cyAqIGIpIC8gZClcbiAgICAgICAgICAgICAgOiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAgICAgICAoYSAhPT0gLTEpID8gKGEgLyAwKSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgKGIgIT09IDApID8gKGIgLyAwKSA6IDApO1xuXG4gICAgICB2YXIgdGVtcCA9IHhbJ3JlJ107XG4gICAgICB4WydyZSddID0gbG9nSHlwb3QoeFsncmUnXSwgeFsnaW0nXSkgLyAyO1xuICAgICAgeFsnaW0nXSA9IE1hdGguYXRhbjIoeFsnaW0nXSwgdGVtcCkgLyAyO1xuICAgICAgaWYgKG5vSU0pIHtcbiAgICAgICAgeFsnaW0nXSA9IC14WydpbSddO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29tcGxleCBhY290aFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Fjb3RoJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIGFjb3RoKGMpID0gbG9nKChjKzEpIC8gKGMtMSkpIC8gMlxuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG5cbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KDAsIE1hdGguUEkgLyAyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXRhbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hdGFuaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYWNzY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhY3NjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhY3NjaChjKSA9IGxvZygoMStzcXJ0KDErY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAoYiA9PT0gMCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgICAoYSAhPT0gMClcbiAgICAgICAgICAgICAgICA/IE1hdGgubG9nKGEgKyBNYXRoLnNxcnQoYSAqIGEgKyAxKSlcbiAgICAgICAgICAgICAgICA6IEluZmluaXR5LCAwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYXNpbmgoKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hc2luaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggYXNlY2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdhc2VjaCc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBhc2VjaChjKSA9IGxvZygoMStzcXJ0KDEtY14yKSkvYylcblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICBpZiAodGhpc1snaXNaZXJvJ10oKSkge1xuICAgICAgICByZXR1cm4gQ29tcGxleFsnSU5GSU5JVFknXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGQgPSBhICogYSArIGIgKiBiO1xuICAgICAgcmV0dXJuIChkICE9PSAwKVxuICAgICAgICAgICAgICA/IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIGEgLyBkLFxuICAgICAgICAgICAgICAgICAgICAgIC1iIC8gZCkuYWNvc2goKVxuICAgICAgICAgICAgICA6IG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICAgICAgICAgIChhICE9PSAwKSA/IGEgLyAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAoYiAhPT0gMCkgPyAtYiAvIDAgOiAwKS5hY29zaCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbXBsZXggaW52ZXJzZSAxL3pcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdpbnZlcnNlJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vIDEgLyAwID0gSW5maW5pdHkgYW5kIDEgLyBJbmZpbml0eSA9IDBcbiAgICAgIGlmICh0aGlzWydpc1plcm8nXSgpKSB7XG4gICAgICAgIHJldHVybiBDb21wbGV4WydJTkZJTklUWSddO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1snaXNJbmZpbml0ZSddKCkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhbJ1pFUk8nXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGEgPSB0aGlzWydyZSddO1xuICAgICAgdmFyIGIgPSB0aGlzWydpbSddO1xuXG4gICAgICB2YXIgZCA9IGEgKiBhICsgYiAqIGI7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChhIC8gZCwgLWIgLyBkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29tcGxleCBjb25qdWdhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtDb21wbGV4fVxuICAgICAqL1xuICAgICdjb25qdWdhdGUnOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmVnYXRlZCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ25lZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IENvbXBsZXgoLXRoaXNbJ3JlJ10sIC10aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2NlaWwnOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmNlaWwodGhpc1sncmUnXSAqIHBsYWNlcykgLyBwbGFjZXMsXG4gICAgICAgICAgICAgIE1hdGguY2VpbCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZsb29ycyB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q29tcGxleH1cbiAgICAgKi9cbiAgICAnZmxvb3InOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ3JlJ10gKiBwbGFjZXMpIC8gcGxhY2VzLFxuICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXNbJ2ltJ10gKiBwbGFjZXMpIC8gcGxhY2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VpbHMgdGhlIGFjdHVhbCBjb21wbGV4IG51bWJlclxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ3JvdW5kJzogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleChcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydyZSddICogcGxhY2VzKSAvIHBsYWNlcyxcbiAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzWydpbSddICogcGxhY2VzKSAvIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHR3byBjb21wbGV4IG51bWJlcnNcbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBuZXcgQ29tcGxleChJbmZpbml0eSkuZXF1YWxzKEluZmluaXR5KSA9PT0gZmFsc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdlcXVhbHMnOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHZhciB6ID0gbmV3IENvbXBsZXgoYSwgYik7XG5cbiAgICAgIHJldHVybiBNYXRoLmFicyh6WydyZSddIC0gdGhpc1sncmUnXSkgPD0gQ29tcGxleFsnRVBTSUxPTiddICYmXG4gICAgICAgICAgICAgIE1hdGguYWJzKHpbJ2ltJ10gLSB0aGlzWydpbSddKSA8PSBDb21wbGV4WydFUFNJTE9OJ107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgYWN0dWFsIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybnMge0NvbXBsZXh9XG4gICAgICovXG4gICAgJ2Nsb25lJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh0aGlzWydyZSddLCB0aGlzWydpbSddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHN0cmluZyBvZiB0aGUgYWN0dWFsIGNvbXBsZXggbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYSA9IHRoaXNbJ3JlJ107XG4gICAgICB2YXIgYiA9IHRoaXNbJ2ltJ107XG4gICAgICB2YXIgcmV0ID0gXCJcIjtcblxuICAgICAgaWYgKHRoaXNbJ2lzTmFOJ10oKSkge1xuICAgICAgICByZXR1cm4gJ05hTic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzWydpc0luZmluaXRlJ10oKSkge1xuICAgICAgICByZXR1cm4gJ0luZmluaXR5JztcbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKGEpIDwgQ29tcGxleFsnRVBTSUxPTiddKSB7XG4gICAgICAgIGEgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoTWF0aC5hYnMoYikgPCBDb21wbGV4WydFUFNJTE9OJ10pIHtcbiAgICAgICAgYiA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGlzIHJlYWwgbnVtYmVyXG4gICAgICBpZiAoYiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmV0ICsgYTtcbiAgICAgIH1cblxuICAgICAgaWYgKGEgIT09IDApIHtcbiAgICAgICAgcmV0Kz0gYTtcbiAgICAgICAgcmV0Kz0gXCIgXCI7XG4gICAgICAgIGlmIChiIDwgMCkge1xuICAgICAgICAgIGIgPSAtYjtcbiAgICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQrPSBcIitcIjtcbiAgICAgICAgfVxuICAgICAgICByZXQrPSBcIiBcIjtcbiAgICAgIH0gZWxzZSBpZiAoYiA8IDApIHtcbiAgICAgICAgYiA9IC1iO1xuICAgICAgICByZXQrPSBcIi1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKDEgIT09IGIpIHsgLy8gYiBpcyB0aGUgYWJzb2x1dGUgaW1hZ2luYXJ5IHBhcnRcbiAgICAgICAgcmV0Kz0gYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQgKyBcImlcIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYWN0dWFsIG51bWJlciBhcyBhIHZlY3RvclxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgICd0b1ZlY3Rvcic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gW3RoaXNbJ3JlJ10sIHRoaXNbJ2ltJ11dO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3R1YWwgcmVhbCB2YWx1ZSBvZiB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8bnVsbH1cbiAgICAgKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAodGhpc1snaW0nXSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpc1sncmUnXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBjb21wbGV4IG51bWJlciBpcyBub3Qgb24gdGhlIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzTmFOJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNOYU4odGhpc1sncmUnXSkgfHwgaXNOYU4odGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgemVybyBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzWmVybyc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbJ2ltJ10gPT09IDAgJiYgdGhpc1sncmUnXSA9PT0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgY29tcGxleCBudW1iZXIgaXMgbm90IGF0IHRoZSBpbmZpbml0eSBwb2xlIG9mIHRoZVxuICAgICAqIFJpZW1hbm4gc3BoZXJlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgJ2lzRmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNGaW5pdGUodGhpc1sncmUnXSkgJiYgaXNGaW5pdGUodGhpc1snaW0nXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYSBjb21wbGV4IG51bWJlciBpcyBhdCB0aGUgaW5maW5pdHkgcG9sZSBvZiB0aGVcbiAgICAgKiBSaWVtYW5uIHNwaGVyZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgICdpc0luZmluaXRlJzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISh0aGlzWydpc05hTiddKCkgfHwgdGhpc1snaXNGaW5pdGUnXSgpKTtcbiAgICB9XG4gIH07XG5cbiAgQ29tcGxleFsnWkVSTyddID0gbmV3IENvbXBsZXgoMCwgMCk7XG4gIENvbXBsZXhbJ09ORSddID0gbmV3IENvbXBsZXgoMSwgMCk7XG4gIENvbXBsZXhbJ0knXSA9IG5ldyBDb21wbGV4KDAsIDEpO1xuICBDb21wbGV4WydQSSddID0gbmV3IENvbXBsZXgoTWF0aC5QSSwgMCk7XG4gIENvbXBsZXhbJ0UnXSA9IG5ldyBDb21wbGV4KE1hdGguRSwgMCk7XG4gIENvbXBsZXhbJ0lORklOSVRZJ10gPSBuZXcgQ29tcGxleChJbmZpbml0eSwgSW5maW5pdHkpO1xuICBDb21wbGV4WydOQU4nXSA9IG5ldyBDb21wbGV4KE5hTiwgTmFOKTtcbiAgQ29tcGxleFsnRVBTSUxPTiddID0gMWUtMTU7XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ29tcGxleDtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGxleCwgXCJfX2VzTW9kdWxlXCIsIHsndmFsdWUnOiB0cnVlfSk7XG4gICAgQ29tcGxleFsnZGVmYXVsdCddID0gQ29tcGxleDtcbiAgICBDb21wbGV4WydDb21wbGV4J10gPSBDb21wbGV4O1xuICAgIG1vZHVsZVsnZXhwb3J0cyddID0gQ29tcGxleDtcbiAgfSBlbHNlIHtcbiAgICByb290WydDb21wbGV4J10gPSBDb21wbGV4O1xuICB9XG5cbn0pKHRoaXMpO1xuIiwiaW1wb3J0IENvbXBsZXggZnJvbSAnY29tcGxleC5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgaXNOdW1iZXIsIGlzVW5pdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0NvbXBsZXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuZXhwb3J0IHZhciBjcmVhdGVDb21wbGV4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG4gIENvbXBsZXgucHJvdG90eXBlLnR5cGUgPSAnQ29tcGxleCc7XG4gIENvbXBsZXgucHJvdG90eXBlLmlzQ29tcGxleCA9IHRydWU7XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wbGV4IG51bWJlclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkNvbXBsZXhcIiwgXCJyZVwiOiAyLCBcImltXCI6IDN9YFxuICAgKi9cblxuICBDb21wbGV4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbXBsZXgnLFxuICAgICAgcmU6IHRoaXMucmUsXG4gICAgICBpbTogdGhpcy5pbVxuICAgIH07XG4gIH07XG4gIC8qXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGNvbXBsZXggbnVtYmVyIGluIHBvbGFyIG5vdGF0aW9uXG4gICAqIFRoZSBhbmdsZSBwaGkgd2lsbCBiZSBzZXQgaW4gdGhlIGludGVydmFsIG9mIFstcGksIHBpXS5cbiAgICogQHJldHVybiB7e3I6IG51bWJlciwgcGhpOiBudW1iZXJ9fSBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHIgYW5kIHBoaS5cbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS50b1BvbGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByOiB0aGlzLmFicygpLFxuICAgICAgcGhpOiB0aGlzLmFyZygpXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29tcGxleCBudW1iZXIsXG4gICAqIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IEZ1bmN0aW9ufSBbb3B0aW9uc10gIEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGliL3V0aWxzL251bWJlcjpmb3JtYXQgZm9yIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb21wbGV4LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgaW0gPSB0aGlzLmltO1xuICAgIHZhciByZSA9IHRoaXMucmU7XG4gICAgdmFyIHN0clJlID0gZm9ybWF0KHRoaXMucmUsIG9wdGlvbnMpO1xuICAgIHZhciBzdHJJbSA9IGZvcm1hdCh0aGlzLmltLCBvcHRpb25zKTsgLy8gcm91bmQgZWl0aGVyIHJlIG9yIGltIHdoZW4gc21hbGxlciB0aGFuIHRoZSBjb25maWd1cmVkIHByZWNpc2lvblxuXG4gICAgdmFyIHByZWNpc2lvbiA9IGlzTnVtYmVyKG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMgPyBvcHRpb25zLnByZWNpc2lvbiA6IG51bGw7XG5cbiAgICBpZiAocHJlY2lzaW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgZXBzaWxvbiA9IE1hdGgucG93KDEwLCAtcHJlY2lzaW9uKTtcblxuICAgICAgaWYgKE1hdGguYWJzKHJlIC8gaW0pIDwgZXBzaWxvbikge1xuICAgICAgICByZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyhpbSAvIHJlKSA8IGVwc2lsb24pIHtcbiAgICAgICAgaW0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpbSA9PT0gMCkge1xuICAgICAgLy8gcmVhbCB2YWx1ZVxuICAgICAgc3RyID0gc3RyUmU7XG4gICAgfSBlbHNlIGlmIChyZSA9PT0gMCkge1xuICAgICAgLy8gcHVyZWx5IGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICBzdHIgPSAnaSc7XG4gICAgICB9IGVsc2UgaWYgKGltID09PSAtMSkge1xuICAgICAgICBzdHIgPSAnLWknO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gc3RySW0gKyAnaSc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBsZXggdmFsdWVcbiAgICAgIGlmIChpbSA8IDApIHtcbiAgICAgICAgaWYgKGltID09PSAtMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyAtICcgKyBzdHJJbS5zdWJzdHJpbmcoMSkgKyAnaSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbSA9PT0gMSkge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArIGknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHN0clJlICsgJyArICcgKyBzdHJJbSArICdpJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjb21wbGV4IG51bWJlciBmcm9tIHBvbGFyIGNvb3JkaW5hdGVzXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICAgQ29tcGxleC5mcm9tUG9sYXIocjogbnVtYmVyLCBwaGk6IG51bWJlcikgOiBDb21wbGV4XG4gICAqICAgICBDb21wbGV4LmZyb21Qb2xhcih7cjogbnVtYmVyLCBwaGk6IG51bWJlcn0pIDogQ29tcGxleFxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFyZ3MuLi5cbiAgICogQHJldHVybiB7Q29tcGxleH1cbiAgICovXG5cblxuICBDb21wbGV4LmZyb21Qb2xhciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGxleChhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnB1dCBoYXMgdG8gYmUgYW4gb2JqZWN0IHdpdGggciBhbmQgcGhpIGtleXMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAge1xuICAgICAgICAgIHZhciByID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIHZhciBwaGkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgICBpZiAoaXNOdW1iZXIocikpIHtcbiAgICAgICAgICAgIGlmIChpc1VuaXQocGhpKSAmJiBwaGkuaGFzQmFzZSgnQU5HTEUnKSkge1xuICAgICAgICAgICAgICAvLyBjb252ZXJ0IHVuaXQgdG8gYSBudW1iZXIgaW4gcmFkaWFuc1xuICAgICAgICAgICAgICBwaGkgPSBwaGkudG9OdW1iZXIoJ3JhZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIocGhpKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoe1xuICAgICAgICAgICAgICAgIHI6IHIsXG4gICAgICAgICAgICAgICAgcGhpOiBwaGlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BoaSBpcyBub3QgYSBudW1iZXIgbm9yIGFuIGFuZ2xlIHVuaXQuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JhZGl1cyByIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGluIGZ1bmN0aW9uIGZyb21Qb2xhcicpO1xuICAgIH1cbiAgfTtcblxuICBDb21wbGV4LnByb3RvdHlwZS52YWx1ZU9mID0gQ29tcGxleC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBDb21wbGV4IG51bWJlciBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEEgSlNPTiBPYmplY3Qgc3RydWN0dXJlZCBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAge1wibWF0aGpzXCI6IFwiQ29tcGxleFwiLCBcInJlXCI6IDIsIFwiaW1cIjogM31cbiAgICogICAgICAgICAgICAgICAgICAgICAgIEFsbCBwcm9wZXJ0aWVzIGFyZSBvcHRpb25hbCwgZGVmYXVsdCB2YWx1ZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGZvciBgcmVgIGFuZCBgaW1gIGFyZSAwLlxuICAgKiBAcmV0dXJuIHtDb21wbGV4fSBSZXR1cm5zIGEgbmV3IENvbXBsZXggbnVtYmVyXG4gICAqL1xuXG4gIENvbXBsZXguZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQ29tcGxleChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbXBhcmUgdHdvIGNvbXBsZXggbnVtYmVycywgYGFgIGFuZCBgYmA6XG4gICAqXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIHJlYWwgcGFydCBvZiBgYmBcbiAgICogLSBSZXR1cm5zIC0xIHdoZW4gdGhlIHJlYWwgcGFydCBvZiBgYWAgaXMgc21hbGxlciB0aGFuIHRoZSByZWFsIHBhcnQgb2YgYGJgXG4gICAqIC0gUmV0dXJucyAxIHdoZW4gdGhlIHJlYWwgcGFydHMgYXJlIGVxdWFsXG4gICAqICAgYW5kIHRoZSBpbWFnaW5hcnkgcGFydCBvZiBgYWAgaXMgbGFyZ2VyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgLTEgd2hlbiB0aGUgcmVhbCBwYXJ0cyBhcmUgZXF1YWxcbiAgICogICBhbmQgdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBhYCBpcyBzbWFsbGVyIHRoYW4gdGhlIGltYWdpbmFyeSBwYXJ0IG9mIGBiYFxuICAgKiAtIFJldHVybnMgMCB3aGVuIGJvdGggcmVhbCBhbmQgaW1hZ2luYXJ5IHBhcnRzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtcyB7Q29tcGxleH0gYVxuICAgKiBAcGFyYW1zIHtDb21wbGV4fSBiXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbXBhcmlzb24gcmVzdWx0OiAtMSwgMCwgb3IgMVxuICAgKi9cblxuXG4gIENvbXBsZXguY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEucmUgPiBiLnJlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoYS5yZSA8IGIucmUpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoYS5pbSA+IGIuaW0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChhLmltIDwgYi5pbSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHJldHVybiBDb21wbGV4O1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCIvKipcbiAqIEBsaWNlbnNlIEZyYWN0aW9uLmpzIHY0LjEuMCAxMy8wNS8yMDIxXG4gKiBodHRwczovL3d3dy54YXJnLm9yZy8yMDE0LzAzL3JhdGlvbmFsLW51bWJlcnMtaW4tamF2YXNjcmlwdC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFJvYmVydCBFaXNlbGUgKHJvYmVydEB4YXJnLm9yZylcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICoqL1xuXG5cbi8qKlxuICpcbiAqIFRoaXMgY2xhc3Mgb2ZmZXJzIHRoZSBwb3NzaWJpbGl0eSB0byBjYWxjdWxhdGUgZnJhY3Rpb25zLlxuICogWW91IGNhbiBwYXNzIGEgZnJhY3Rpb24gaW4gZGlmZmVyZW50IGZvcm1hdHMuIEVpdGhlciBhcyBhcnJheSwgYXMgZG91YmxlLCBhcyBzdHJpbmcgb3IgYXMgYW4gaW50ZWdlci5cbiAqXG4gKiBBcnJheS9PYmplY3QgZm9ybVxuICogWyAwID0+IDxub21pbmF0b3I+LCAxID0+IDxkZW5vbWluYXRvcj4gXVxuICogWyBuID0+IDxub21pbmF0b3I+LCBkID0+IDxkZW5vbWluYXRvcj4gXVxuICpcbiAqIEludGVnZXIgZm9ybVxuICogLSBTaW5nbGUgaW50ZWdlciB2YWx1ZVxuICpcbiAqIERvdWJsZSBmb3JtXG4gKiAtIFNpbmdsZSBkb3VibGUgdmFsdWVcbiAqXG4gKiBTdHJpbmcgZm9ybVxuICogMTIzLjQ1NiAtIGEgc2ltcGxlIGRvdWJsZVxuICogMTIzLzQ1NiAtIGEgc3RyaW5nIGZyYWN0aW9uXG4gKiAxMjMuJzQ1NicgLSBhIGRvdWJsZSB3aXRoIHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlc1xuICogMTIzLig0NTYpIC0gc3lub255bVxuICogMTIzLjQ1JzYnIC0gYSBkb3VibGUgd2l0aCByZXBlYXRpbmcgbGFzdCBwbGFjZVxuICogMTIzLjQ1KDYpIC0gc3lub255bVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogdmFyIGYgPSBuZXcgRnJhY3Rpb24oXCI5LjQnMzEnXCIpO1xuICogZi5tdWwoWy00LCAzXSkuZGl2KDQuOSk7XG4gKlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF4aW11bSBzZWFyY2ggZGVwdGggZm9yIGN5Y2xpYyByYXRpb25hbCBudW1iZXJzLiAyMDAwIHNob3VsZCBiZSBtb3JlIHRoYW4gZW5vdWdoLlxuICAvLyBFeGFtcGxlOiAxLzcgPSAwLigxNDI4NTcpIGhhcyA2IHJlcGVhdGluZyBkZWNpbWFsIHBsYWNlcy5cbiAgLy8gSWYgTUFYX0NZQ0xFX0xFTiBnZXRzIHJlZHVjZWQsIGxvbmcgY3ljbGVzIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCB0b1N0cmluZygpIG9ubHkgZ2V0cyB0aGUgZmlyc3QgMTAgZGlnaXRzXG4gIHZhciBNQVhfQ1lDTEVfTEVOID0gMjAwMDtcblxuICAvLyBQYXJzZWQgZGF0YSB0byBhdm9pZCBjYWxsaW5nIFwibmV3XCIgYWxsIHRoZSB0aW1lXG4gIHZhciBQID0ge1xuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxXG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gZXJyb3JDb25zdHJ1Y3RvcigpIHtcbiAgICAgIHZhciB0ZW1wID0gRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRlbXBbJ25hbWUnXSA9IHRoaXNbJ25hbWUnXSA9IG5hbWU7XG4gICAgICB0aGlzWydzdGFjayddID0gdGVtcFsnc3RhY2snXTtcbiAgICAgIHRoaXNbJ21lc3NhZ2UnXSA9IHRlbXBbJ21lc3NhZ2UnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJtZWRpYXRlSW5oZXJpdG9yKCkgeyB9XG4gICAgSW50ZXJtZWRpYXRlSW5oZXJpdG9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcbiAgICBlcnJvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBJbnRlcm1lZGlhdGVJbmhlcml0b3IoKTtcblxuICAgIHJldHVybiBlcnJvckNvbnN0cnVjdG9yO1xuICB9XG5cbiAgdmFyIERpdmlzaW9uQnlaZXJvID0gRnJhY3Rpb25bJ0RpdmlzaW9uQnlaZXJvJ10gPSBjcmVhdGVFcnJvcignRGl2aXNpb25CeVplcm8nKTtcbiAgdmFyIEludmFsaWRQYXJhbWV0ZXIgPSBGcmFjdGlvblsnSW52YWxpZFBhcmFtZXRlciddID0gY3JlYXRlRXJyb3IoJ0ludmFsaWRQYXJhbWV0ZXInKTtcblxuICBmdW5jdGlvbiBhc3NpZ24obiwgcykge1xuXG4gICAgaWYgKGlzTmFOKG4gPSBwYXJzZUludChuLCAxMCkpKSB7XG4gICAgICB0aHJvd0ludmFsaWRQYXJhbSgpO1xuICAgIH1cbiAgICByZXR1cm4gbiAqIHM7XG4gIH1cblxuICBmdW5jdGlvbiB0aHJvd0ludmFsaWRQYXJhbSgpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFBhcmFtZXRlcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yaXplKG51bSkge1xuXG4gICAgdmFyIGZhY3RvcnMgPSB7fTtcblxuICAgIHZhciBuID0gbnVtO1xuICAgIHZhciBpID0gMjtcbiAgICB2YXIgcyA9IDQ7XG5cbiAgICB3aGlsZSAocyA8PSBuKSB7XG5cbiAgICAgIHdoaWxlIChuICUgaSA9PT0gMCkge1xuICAgICAgICBuIC89IGk7XG4gICAgICAgIGZhY3RvcnNbaV0gPSAoZmFjdG9yc1tpXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgICBzICs9IDEgKyAyICogaSsrO1xuICAgIH1cblxuICAgIGlmIChuICE9PSBudW0pIHtcbiAgICAgIGlmIChuID4gMSlcbiAgICAgIGZhY3RvcnNbbl0gPSAoZmFjdG9yc1tuXSB8fCAwKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZhY3RvcnNbbnVtXSA9IChmYWN0b3JzW251bV0gfHwgMCkgKyAxO1xuICAgIH1cbiAgICByZXR1cm4gZmFjdG9ycztcbiAgfVxuXG4gIHZhciBwYXJzZSA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXG4gICAgdmFyIG4gPSAwLCBkID0gMSwgcyA9IDE7XG4gICAgdmFyIHYgPSAwLCB3ID0gMCwgeCA9IDAsIHkgPSAxLCB6ID0gMTtcblxuICAgIHZhciBBID0gMCwgQiA9IDE7XG4gICAgdmFyIEMgPSAxLCBEID0gMTtcblxuICAgIHZhciBOID0gMTAwMDAwMDA7XG4gICAgdmFyIE07XG5cbiAgICBpZiAocDEgPT09IHVuZGVmaW5lZCB8fCBwMSA9PT0gbnVsbCkge1xuICAgICAgLyogdm9pZCAqL1xuICAgIH0gZWxzZSBpZiAocDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbiA9IHAxO1xuICAgICAgZCA9IHAyO1xuICAgICAgcyA9IG4gKiBkO1xuICAgIH0gZWxzZVxuICAgICAgc3dpdGNoICh0eXBlb2YgcDEpIHtcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKFwiZFwiIGluIHAxICYmIFwiblwiIGluIHAxKSB7XG4gICAgICAgICAgICAgIG4gPSBwMVtcIm5cIl07XG4gICAgICAgICAgICAgIGQgPSBwMVtcImRcIl07XG4gICAgICAgICAgICAgIGlmIChcInNcIiBpbiBwMSlcbiAgICAgICAgICAgICAgICBuICo9IHAxW1wic1wiXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCBpbiBwMSkge1xuICAgICAgICAgICAgICBuID0gcDFbMF07XG4gICAgICAgICAgICAgIGlmICgxIGluIHAxKVxuICAgICAgICAgICAgICAgIGQgPSBwMVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gbiAqIGQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAocDEgPCAwKSB7XG4gICAgICAgICAgICAgIHMgPSBwMTtcbiAgICAgICAgICAgICAgcDEgPSAtcDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwMSAlIDEgPT09IDApIHtcbiAgICAgICAgICAgICAgbiA9IHAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMSA+IDApIHsgLy8gY2hlY2sgZm9yICE9IDAsIHNjYWxlIHdvdWxkIGJlY29tZSBOYU4gKGxvZygwKSksIHdoaWNoIGNvbnZlcmdlcyByZWFsbHkgc2xvd1xuXG4gICAgICAgICAgICAgIGlmIChwMSA+PSAxKSB7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKDEgKyBNYXRoLmxvZyhwMSkgLyBNYXRoLkxOMTApKTtcbiAgICAgICAgICAgICAgICBwMSAvPSB6O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVXNpbmcgRmFyZXkgU2VxdWVuY2VzXG4gICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuam9obmRjb29rLmNvbS9ibG9nLzIwMTAvMTAvMjAvYmVzdC1yYXRpb25hbC1hcHByb3hpbWF0aW9uL1xuXG4gICAgICAgICAgICAgIHdoaWxlIChCIDw9IE4gJiYgRCA8PSBOKSB7XG4gICAgICAgICAgICAgICAgTSA9IChBICsgQykgLyAoQiArIEQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAxID09PSBNKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoQiArIEQgPD0gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQSArIEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCICsgRDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRCA+IEIpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEM7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IEE7XG4gICAgICAgICAgICAgICAgICAgIGQgPSBCO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICBpZiAocDEgPiBNKSB7XG4gICAgICAgICAgICAgICAgICAgIEEgKz0gQztcbiAgICAgICAgICAgICAgICAgICAgQiArPSBEO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQyArPSBBO1xuICAgICAgICAgICAgICAgICAgICBEICs9IEI7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChCID4gTikge1xuICAgICAgICAgICAgICAgICAgICBuID0gQztcbiAgICAgICAgICAgICAgICAgICAgZCA9IEQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuID0gQTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IEI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG4gKj0gejtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocDEpIHx8IGlzTmFOKHAyKSkge1xuICAgICAgICAgICAgICBkID0gbiA9IE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEIgPSBwMS5tYXRjaCgvXFxkK3wuL2cpO1xuXG4gICAgICAgICAgICBpZiAoQiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgdGhyb3dJbnZhbGlkUGFyYW0oKTtcblxuICAgICAgICAgICAgaWYgKEJbQV0gPT09ICctJykgey8vIENoZWNrIGZvciBtaW51cyBzaWduIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgcyA9IC0xO1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQV0gPT09ICcrJykgey8vIENoZWNrIGZvciBwbHVzIHNpZ24gYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCLmxlbmd0aCA9PT0gQSArIDEpIHsgLy8gQ2hlY2sgaWYgaXQncyBqdXN0IGEgc2ltcGxlIG51bWJlciBcIjEyMzRcIlxuICAgICAgICAgICAgICB3ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDFdID09PSAnLicgfHwgQltBXSA9PT0gJy4nKSB7IC8vIENoZWNrIGlmIGl0J3MgYSBkZWNpbWFsIG51bWJlclxuXG4gICAgICAgICAgICAgIGlmIChCW0FdICE9PSAnLicpIHsgLy8gSGFuZGxlIDAuNSBhbmQgLjVcbiAgICAgICAgICAgICAgICB2ID0gYXNzaWduKEJbQSsrXSwgcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgQSsrO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQSArIDEgPT09IEIubGVuZ3RoIHx8IEJbQSArIDFdID09PSAnKCcgJiYgQltBICsgM10gPT09ICcpJyB8fCBCW0EgKyAxXSA9PT0gXCInXCIgJiYgQltBICsgM10gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgdyA9IGFzc2lnbihCW0FdLCBzKTtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5wb3coMTAsIEJbQV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBBKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVwZWF0aW5nIHBsYWNlc1xuICAgICAgICAgICAgICBpZiAoQltBXSA9PT0gJygnICYmIEJbQSArIDJdID09PSAnKScgfHwgQltBXSA9PT0gXCInXCIgJiYgQltBICsgMl0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgeCA9IGFzc2lnbihCW0EgKyAxXSwgcyk7XG4gICAgICAgICAgICAgICAgeiA9IE1hdGgucG93KDEwLCBCW0EgKyAxXS5sZW5ndGgpIC0gMTtcbiAgICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChCW0EgKyAxXSA9PT0gJy8nIHx8IEJbQSArIDFdID09PSAnOicpIHsgLy8gQ2hlY2sgZm9yIGEgc2ltcGxlIGZyYWN0aW9uIFwiMTIzLzQ1NlwiIG9yIFwiMTIzOjQ1NlwiXG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHkgPSBhc3NpZ24oQltBICsgMl0sIDEpO1xuICAgICAgICAgICAgICBBICs9IDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEJbQSArIDNdID09PSAnLycgJiYgQltBICsgMV0gPT09ICcgJykgeyAvLyBDaGVjayBmb3IgYSBjb21wbGV4IGZyYWN0aW9uIFwiMTIzIDEvMlwiXG4gICAgICAgICAgICAgIHYgPSBhc3NpZ24oQltBXSwgcyk7XG4gICAgICAgICAgICAgIHcgPSBhc3NpZ24oQltBICsgMl0sIHMpO1xuICAgICAgICAgICAgICB5ID0gYXNzaWduKEJbQSArIDRdLCAxKTtcbiAgICAgICAgICAgICAgQSArPSA1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQi5sZW5ndGggPD0gQSkgeyAvLyBDaGVjayBmb3IgbW9yZSB0b2tlbnMgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAgIGQgPSB5ICogejtcbiAgICAgICAgICAgICAgcyA9IC8qIHZvaWQgKi9cbiAgICAgICAgICAgICAgbiA9IHggKyBkICogdiArIHogKiB3O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogRmFsbCB0aHJvdWdoIG9uIGVycm9yICovXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93SW52YWxpZFBhcmFtKCk7XG4gICAgICB9XG5cbiAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IERpdmlzaW9uQnlaZXJvKCk7XG4gICAgfVxuXG4gICAgUFtcInNcIl0gPSBzIDwgMCA/IC0xIDogMTtcbiAgICBQW1wiblwiXSA9IE1hdGguYWJzKG4pO1xuICAgIFBbXCJkXCJdID0gTWF0aC5hYnMoZCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbW9kcG93KGIsIGUsIG0pIHtcblxuICAgIHZhciByID0gMTtcbiAgICBmb3IgKDsgZSA+IDA7IGIgPSAoYiAqIGIpICUgbSwgZSA+Pj0gMSkge1xuXG4gICAgICBpZiAoZSAmIDEpIHtcbiAgICAgICAgciA9IChyICogYikgJSBtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY3ljbGVMZW4obiwgZCkge1xuXG4gICAgZm9yICg7IGQgJSAyID09PSAwO1xuICAgICAgZCAvPSAyKSB7XG4gICAgfVxuXG4gICAgZm9yICg7IGQgJSA1ID09PSAwO1xuICAgICAgZCAvPSA1KSB7XG4gICAgfVxuXG4gICAgaWYgKGQgPT09IDEpIC8vIENhdGNoIG5vbi1jeWNsaWMgbnVtYmVyc1xuICAgICAgcmV0dXJuIDA7XG5cbiAgICAvLyBJZiB3ZSB3b3VsZCBsaWtlIHRvIGNvbXB1dGUgcmVhbGx5IGxhcmdlIG51bWJlcnMgcXVpY2tlciwgd2UgY291bGQgbWFrZSB1c2Ugb2YgRmVybWF0J3MgbGl0dGxlIHRoZW9yZW06XG4gICAgLy8gMTBeKGQtMSkgJSBkID09IDFcbiAgICAvLyBIb3dldmVyLCB3ZSBkb24ndCBuZWVkIHN1Y2ggbGFyZ2UgbnVtYmVycyBhbmQgTUFYX0NZQ0xFX0xFTiBzaG91bGQgYmUgdGhlIGNhcHN0b25lLFxuICAgIC8vIGFzIHdlIHdhbnQgdG8gdHJhbnNsYXRlIHRoZSBudW1iZXJzIHRvIHN0cmluZ3MuXG5cbiAgICB2YXIgcmVtID0gMTAgJSBkO1xuICAgIHZhciB0ID0gMTtcblxuICAgIGZvciAoOyByZW0gIT09IDE7IHQrKykge1xuICAgICAgcmVtID0gcmVtICogMTAgJSBkO1xuXG4gICAgICBpZiAodCA+IE1BWF9DWUNMRV9MRU4pXG4gICAgICAgIHJldHVybiAwOyAvLyBSZXR1cm5pbmcgMCBoZXJlIG1lYW5zIHRoYXQgd2UgZG9uJ3QgcHJpbnQgaXQgYXMgYSBjeWNsaWMgbnVtYmVyLiBJdCdzIGxpa2VseSB0aGF0IHRoZSBhbnN3ZXIgaXMgYGQtMWBcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGN5Y2xlU3RhcnQobiwgZCwgbGVuKSB7XG5cbiAgICB2YXIgcmVtMSA9IDE7XG4gICAgdmFyIHJlbTIgPSBtb2Rwb3coMTAsIGxlbiwgZCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDMwMDsgdCsrKSB7IC8vIHMgPCB+bG9nMTAoTnVtYmVyLk1BWF9WQUxVRSlcbiAgICAgIC8vIFNvbHZlIDEwXnMgPT0gMTBeKHMrdCkgKG1vZCBkKVxuXG4gICAgICBpZiAocmVtMSA9PT0gcmVtMilcbiAgICAgICAgcmV0dXJuIHQ7XG5cbiAgICAgIHJlbTEgPSByZW0xICogMTAgJSBkO1xuICAgICAgcmVtMiA9IHJlbTIgKiAxMCAlIGQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2NkKGEsIGIpIHtcblxuICAgIGlmICghYSlcbiAgICAgIHJldHVybiBiO1xuICAgIGlmICghYilcbiAgICAgIHJldHVybiBhO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIGEgJT0gYjtcbiAgICAgIGlmICghYSlcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICBiICU9IGE7XG4gICAgICBpZiAoIWIpXG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTW9kdWxlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge251bWJlcnxGcmFjdGlvbj19IGFcbiAgICogQHBhcmFtIHtudW1iZXI9fSBiXG4gICAqL1xuICBmdW5jdGlvbiBGcmFjdGlvbihhLCBiKSB7XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnJhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKGEsIGIpO1xuICAgIH1cblxuICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgaWYgKEZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgYSA9IGdjZChQW1wiZFwiXSwgUFtcIm5cIl0pOyAvLyBBYnVzZSBhXG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAxO1xuICAgIH1cblxuICAgIHRoaXNbXCJzXCJdID0gUFtcInNcIl07XG4gICAgdGhpc1tcIm5cIl0gPSBQW1wiblwiXSAvIGE7XG4gICAgdGhpc1tcImRcIl0gPSBQW1wiZFwiXSAvIGE7XG4gIH1cblxuICAvKipcbiAgICogQm9vbGVhbiBnbG9iYWwgdmFyaWFibGUgdG8gYmUgYWJsZSB0byBkaXNhYmxlIGF1dG9tYXRpYyByZWR1Y3Rpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAqXG4gICAqL1xuICBGcmFjdGlvblsnUkVEVUNFJ10gPSAxO1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZSA9IHtcblxuICAgIFwic1wiOiAxLFxuICAgIFwiblwiOiAwLFxuICAgIFwiZFwiOiAxLFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYWJzb2x1dGUgdmFsdWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTQpLmFicygpID0+IDRcbiAgICAgKiovXG4gICAgXCJhYnNcIjogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcIm5cIl0sIHRoaXNbXCJkXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGUgc2lnbiBvZiB0aGUgY3VycmVudCBmcmFjdGlvblxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbigtNCkubmVnKCkgPT4gNFxuICAgICAqKi9cbiAgICBcIm5lZ1wiOiBmdW5jdGlvbigpIHtcblxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbigtdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSwgdGhpc1tcImRcIl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKHtuOiAyLCBkOiAzfSkuYWRkKFwiMTQuOVwiKSA9PiA0NjcgLyAzMFxuICAgICAqKi9cbiAgICBcImFkZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdICsgUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdHdvIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oe246IDIsIGQ6IDN9KS5hZGQoXCIxNC45XCIpID0+IC00MjcgLyAzMFxuICAgICAqKi9cbiAgICBcInN1YlwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAqIFBbXCJkXCJdIC0gUFtcInNcIl0gKiB0aGlzW1wiZFwiXSAqIFBbXCJuXCJdLFxuICAgICAgICB0aGlzW1wiZFwiXSAqIFBbXCJkXCJdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLm11bCgzKSA9PiA1Nzc2IC8gMTExXG4gICAgICoqL1xuICAgIFwibXVsXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiblwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiZFwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0d28gcmF0aW9uYWwgbnVtYmVyc1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIi0xNy4oMzQ1KVwiKS5pbnZlcnNlKCkuZGl2KDMpXG4gICAgICoqL1xuICAgIFwiZGl2XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKFxuICAgICAgICB0aGlzW1wic1wiXSAqIFBbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSxcbiAgICAgICAgdGhpc1tcImRcIl0gKiBQW1wiblwiXVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBhY3R1YWwgb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiLTE3LigzNDUpXCIpLmNsb25lKClcbiAgICAgKiovXG4gICAgXCJjbG9uZVwiOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsbyBvZiB0d28gcmF0aW9uYWwgbnVtYmVycyAtIGEgbW9yZSBwcmVjaXNlIGZtb2RcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykubW9kKFs3LCA4XSkgPT4gKDEzLzMpICUgKDcvOCkgPSAoNS82KVxuICAgICAqKi9cbiAgICBcIm1vZFwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIGlmIChpc05hTih0aGlzWyduJ10pIHx8IGlzTmFOKHRoaXNbJ2QnXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAlIHRoaXNbXCJkXCJdLCAxKTtcbiAgICAgIH1cblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICBpZiAoMCA9PT0gUFtcIm5cIl0gJiYgMCA9PT0gdGhpc1tcImRcIl0pIHtcbiAgICAgICAgRnJhY3Rpb24oMCwgMCk7IC8vIFRocm93IERpdmlzaW9uQnlaZXJvXG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBGaXJzdCBzaWxseSBhdHRlbXB0LCBraW5kYSBzbG93XG4gICAgICAgKlxuICAgICAgIHJldHVybiB0aGF0W1wic3ViXCJdKHtcbiAgICAgICBcIm5cIjogbnVtW1wiblwiXSAqIE1hdGguZmxvb3IoKHRoaXMubiAvIHRoaXMuZCkgLyAobnVtLm4gLyBudW0uZCkpLFxuICAgICAgIFwiZFwiOiBudW1bXCJkXCJdLFxuICAgICAgIFwic1wiOiB0aGlzW1wic1wiXVxuICAgICAgIH0pOyovXG5cbiAgICAgIC8qXG4gICAgICAgKiBOZXcgYXR0ZW1wdDogYTEgLyBiMSA9IGEyIC8gYjIgKiBxICsgclxuICAgICAgICogPT4gYjIgKiBhMSA9IGEyICogYjEgKiBxICsgYjEgKiBiMiAqIHJcbiAgICAgICAqID0+IChiMiAqIGExICUgYTIgKiBiMSkgLyAoYjEgKiBiMilcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihcbiAgICAgICAgdGhpc1tcInNcIl0gKiAoUFtcImRcIl0gKiB0aGlzW1wiblwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSksXG4gICAgICAgIFBbXCJkXCJdICogdGhpc1tcImRcIl1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgZ2NkIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkuZ2NkKDMsNykgPT4gMS81NlxuICAgICAqL1xuICAgIFwiZ2NkXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIGdjZChhIC8gYiwgYyAvIGQpID0gZ2NkKGEsIGMpIC8gbGNtKGIsIGQpXG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSwgUFtcImRcIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGZyYWN0aW9uYWwgbGNtIG9mIHR3byByYXRpb25hbCBudW1iZXJzXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDUsOCkubGNtKDMsNykgPT4gMTVcbiAgICAgKi9cbiAgICBcImxjbVwiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuXG4gICAgICAvLyBsY20oYSAvIGIsIGMgLyBkKSA9IGxjbShhLCBjKSAvIGdjZChiLCBkKVxuXG4gICAgICBpZiAoUFtcIm5cIl0gPT09IDAgJiYgdGhpc1tcIm5cIl0gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oUFtcIm5cIl0gKiB0aGlzW1wiblwiXSwgZ2NkKFBbXCJuXCJdLCB0aGlzW1wiblwiXSkgKiBnY2QoUFtcImRcIl0sIHRoaXNbXCJkXCJdKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlaWwgb2YgYSByYXRpb25hbCBudW1iZXJcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykuY2VpbCgpID0+ICg1IC8gMSlcbiAgICAgKiovXG4gICAgXCJjZWlsXCI6IGZ1bmN0aW9uKHBsYWNlcykge1xuXG4gICAgICBwbGFjZXMgPSBNYXRoLnBvdygxMCwgcGxhY2VzIHx8IDApO1xuXG4gICAgICBpZiAoaXNOYU4odGhpc1tcIm5cIl0pIHx8IGlzTmFOKHRoaXNbXCJkXCJdKSkge1xuICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE5hTik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGguY2VpbChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBmbG9vciBvZiBhIHJhdGlvbmFsIG51bWJlclxuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbignNC4oMyknKS5mbG9vcigpID0+ICg0IC8gMSlcbiAgICAgKiovXG4gICAgXCJmbG9vclwiOiBmdW5jdGlvbihwbGFjZXMpIHtcblxuICAgICAgcGxhY2VzID0gTWF0aC5wb3coMTAsIHBsYWNlcyB8fCAwKTtcblxuICAgICAgaWYgKGlzTmFOKHRoaXNbXCJuXCJdKSB8fCBpc05hTih0aGlzW1wiZFwiXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihOYU4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihNYXRoLmZsb29yKHBsYWNlcyAqIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gLyB0aGlzW1wiZFwiXSksIHBsYWNlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyBhIHJhdGlvbmFsIG51bWJlcnNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oJzQuKDMpJykucm91bmQoKSA9PiAoNCAvIDEpXG4gICAgICoqL1xuICAgIFwicm91bmRcIjogZnVuY3Rpb24ocGxhY2VzKSB7XG5cbiAgICAgIHBsYWNlcyA9IE1hdGgucG93KDEwLCBwbGFjZXMgfHwgMCk7XG5cbiAgICAgIGlmIChpc05hTih0aGlzW1wiblwiXSkgfHwgaXNOYU4odGhpc1tcImRcIl0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTmFOKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5yb3VuZChwbGFjZXMgKiB0aGlzW1wic1wiXSAqIHRoaXNbXCJuXCJdIC8gdGhpc1tcImRcIl0pLCBwbGFjZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnZlcnNlIG9mIHRoZSBmcmFjdGlvbiwgbWVhbnMgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciBhcmUgZXhjaGFuZ2VkXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFstMywgNF0pLmludmVyc2UoKSA9PiAtNCAvIDNcbiAgICAgKiovXG4gICAgXCJpbnZlcnNlXCI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXNbXCJzXCJdICogdGhpc1tcImRcIl0sIHRoaXNbXCJuXCJdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZnJhY3Rpb24gdG8gc29tZSByYXRpb25hbCBleHBvbmVudCwgaWYgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oLTEsMikucG93KC0zKSA9PiAtOFxuICAgICAqL1xuICAgIFwicG93XCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG5cbiAgICAgIC8vIFRyaXZpYWwgY2FzZSB3aGVuIGV4cCBpcyBhbiBpbnRlZ2VyXG5cbiAgICAgIGlmIChQWydkJ10gPT09IDEpIHtcblxuICAgICAgICBpZiAoUFsncyddIDwgMCkge1xuICAgICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oTWF0aC5wb3codGhpc1sncyddICogdGhpc1tcImRcIl0sIFBbJ24nXSksIE1hdGgucG93KHRoaXNbXCJuXCJdLCBQWyduJ10pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKE1hdGgucG93KHRoaXNbJ3MnXSAqIHRoaXNbXCJuXCJdLCBQWyduJ10pLCBNYXRoLnBvdyh0aGlzW1wiZFwiXSwgUFsnbiddKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTmVnYXRpdmUgcm9vdHMgYmVjb21lIGNvbXBsZXhcbiAgICAgIGlmICh0aGlzWydzJ10gPCAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gTm93IHByaW1lIGZhY3RvciBuIGFuZCBkXG4gICAgICB2YXIgTiA9IGZhY3Rvcml6ZSh0aGlzWyduJ10pO1xuICAgICAgdmFyIEQgPSBmYWN0b3JpemUodGhpc1snZCddKTtcblxuICAgICAgLy8gRXhwb25lbnRpYXRlIGFuZCB0YWtlIHJvb3QgZm9yIG4gYW5kIGQgaW5kaXZpZHVhbGx5XG4gICAgICB2YXIgbiA9IHRoaXNbJ3MnXTtcbiAgICAgIHZhciBkID0gMTtcbiAgICAgIGZvciAodmFyIGsgaW4gTikge1xuICAgICAgICBpZiAoayA9PT0gJzEnKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGsgPT09ICcwJykge1xuICAgICAgICAgIG4gPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIE5ba10qPSBQWyduJ107XG5cbiAgICAgICAgaWYgKE5ba10gJSBQWydkJ10gPT09IDApIHtcbiAgICAgICAgICBOW2tdLz0gUFsnZCddO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIG4qPSBNYXRoLnBvdyhrLCBOW2tdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgayBpbiBEKSB7XG4gICAgICAgIGlmIChrID09PSAnMScpIGNvbnRpbnVlO1xuICAgICAgICBEW2tdKj0gUFsnbiddO1xuXG4gICAgICAgIGlmIChEW2tdICUgUFsnZCddID09PSAwKSB7XG4gICAgICAgICAgRFtrXS89IFBbJ2QnXTtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBkKj0gTWF0aC5wb3coaywgRFtrXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChQWydzJ10gPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oZCwgbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKG4sIGQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImVxdWFsc1wiOiBmdW5jdGlvbihhLCBiKSB7XG5cbiAgICAgIHBhcnNlKGEsIGIpO1xuICAgICAgcmV0dXJuIHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSA9PT0gUFtcInNcIl0gKiBQW1wiblwiXSAqIHRoaXNbXCJkXCJdOyAvLyBTYW1lIGFzIGNvbXBhcmUoKSA9PT0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oMTkuNikuZXF1YWxzKFs5OCwgNV0pO1xuICAgICAqKi9cbiAgICBcImNvbXBhcmVcIjogZnVuY3Rpb24oYSwgYikge1xuXG4gICAgICBwYXJzZShhLCBiKTtcbiAgICAgIHZhciB0ID0gKHRoaXNbXCJzXCJdICogdGhpc1tcIm5cIl0gKiBQW1wiZFwiXSAtIFBbXCJzXCJdICogUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSk7XG4gICAgICByZXR1cm4gKDAgPCB0KSAtICh0IDwgMCk7XG4gICAgfSxcblxuICAgIFwic2ltcGxpZnlcIjogZnVuY3Rpb24oZXBzKSB7XG5cbiAgICAgIC8vIEZpcnN0IG5haXZlIGltcGxlbWVudGF0aW9uLCBuZWVkcyBpbXByb3ZlbWVudFxuXG4gICAgICBpZiAoaXNOYU4odGhpc1snbiddKSB8fCBpc05hTih0aGlzWydkJ10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udCA9IHRoaXNbJ2FicyddKClbJ3RvQ29udGludWVkJ10oKTtcblxuICAgICAgZXBzID0gZXBzIHx8IDAuMDAxO1xuXG4gICAgICBmdW5jdGlvbiByZWMoYSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihhWzBdKTtcbiAgICAgICAgcmV0dXJuIHJlYyhhLnNsaWNlKDEpKVsnaW52ZXJzZSddKClbJ2FkZCddKGFbMF0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRtcCA9IHJlYyhjb250LnNsaWNlKDAsIGkgKyAxKSk7XG4gICAgICAgIGlmICh0bXBbJ3N1YiddKHRoaXNbJ2FicyddKCkpWydhYnMnXSgpLnZhbHVlT2YoKSA8IGVwcykge1xuICAgICAgICAgIHJldHVybiB0bXBbJ211bCddKHRoaXNbJ3MnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0d28gcmF0aW9uYWwgbnVtYmVycyBhcmUgZGl2aXNpYmxlXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKDE5LjYpLmRpdmlzaWJsZSgxLjUpO1xuICAgICAqL1xuICAgIFwiZGl2aXNpYmxlXCI6IGZ1bmN0aW9uKGEsIGIpIHtcblxuICAgICAgcGFyc2UoYSwgYik7XG4gICAgICByZXR1cm4gISghKFBbXCJuXCJdICogdGhpc1tcImRcIl0pIHx8ICgodGhpc1tcIm5cIl0gKiBQW1wiZFwiXSkgJSAoUFtcIm5cIl0gKiB0aGlzW1wiZFwiXSkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZyYWN0aW9uXG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMTAwLic5MTgyMydcIikudmFsdWVPZigpID0+IDEwMC45MTgyMzkxODIzOTE4M1xuICAgICAqKi9cbiAgICAndmFsdWVPZic6IGZ1bmN0aW9uKCkge1xuXG4gICAgICByZXR1cm4gdGhpc1tcInNcIl0gKiB0aGlzW1wiblwiXSAvIHRoaXNbXCJkXCJdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nLWZyYWN0aW9uIHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9GcmFjdGlvbigpID0+IFwiNCAxLzNcIlxuICAgICAqKi9cbiAgICAndG9GcmFjdGlvbic6IGZ1bmN0aW9uKGV4Y2x1ZGVXaG9sZSkge1xuXG4gICAgICB2YXIgd2hvbGUsIHN0ciA9IFwiXCI7XG4gICAgICB2YXIgbiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIGQgPSB0aGlzW1wiZFwiXTtcbiAgICAgIGlmICh0aGlzW1wic1wiXSA8IDApIHtcbiAgICAgICAgc3RyICs9ICctJztcbiAgICAgIH1cblxuICAgICAgaWYgKGQgPT09IDEpIHtcbiAgICAgICAgc3RyICs9IG47XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmIChleGNsdWRlV2hvbGUgJiYgKHdob2xlID0gTWF0aC5mbG9vcihuIC8gZCkpID4gMCkge1xuICAgICAgICAgIHN0ciArPSB3aG9sZTtcbiAgICAgICAgICBzdHIgKz0gXCIgXCI7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IG47XG4gICAgICAgIHN0ciArPSAnLyc7XG4gICAgICAgIHN0ciArPSBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxhdGV4IHJlcHJlc2VudGF0aW9uIG9mIGEgRnJhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBFeDogbmV3IEZyYWN0aW9uKFwiMS4nMydcIikudG9MYXRleCgpID0+IFwiXFxmcmFjezR9ezN9XCJcbiAgICAgKiovXG4gICAgJ3RvTGF0ZXgnOiBmdW5jdGlvbihleGNsdWRlV2hvbGUpIHtcblxuICAgICAgdmFyIHdob2xlLCBzdHIgPSBcIlwiO1xuICAgICAgdmFyIG4gPSB0aGlzW1wiblwiXTtcbiAgICAgIHZhciBkID0gdGhpc1tcImRcIl07XG4gICAgICBpZiAodGhpc1tcInNcIl0gPCAwKSB7XG4gICAgICAgIHN0ciArPSAnLSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkID09PSAxKSB7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXhjbHVkZVdob2xlICYmICh3aG9sZSA9IE1hdGguZmxvb3IobiAvIGQpKSA+IDApIHtcbiAgICAgICAgICBzdHIgKz0gd2hvbGU7XG4gICAgICAgICAgbiAlPSBkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyICs9IFwiXFxcXGZyYWN7XCI7XG4gICAgICAgIHN0ciArPSBuO1xuICAgICAgICBzdHIgKz0gJ317JztcbiAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgIHN0ciArPSAnfSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbnRpbnVlZCBmcmFjdGlvbiBlbGVtZW50c1xuICAgICAqXG4gICAgICogRXg6IG5ldyBGcmFjdGlvbihcIjcvOFwiKS50b0NvbnRpbnVlZCgpID0+IFswLDEsN11cbiAgICAgKi9cbiAgICAndG9Db250aW51ZWQnOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHQ7XG4gICAgICB2YXIgYSA9IHRoaXNbJ24nXTtcbiAgICAgIHZhciBiID0gdGhpc1snZCddO1xuICAgICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgICBpZiAoaXNOYU4oYSkgfHwgaXNOYU4oYikpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cblxuICAgICAgZG8ge1xuICAgICAgICByZXMucHVzaChNYXRoLmZsb29yKGEgLyBiKSk7XG4gICAgICAgIHQgPSBhICUgYjtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSB3aGlsZSAoYSAhPT0gMSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmcmFjdGlvbiB3aXRoIGFsbCBkaWdpdHNcbiAgICAgKlxuICAgICAqIEV4OiBuZXcgRnJhY3Rpb24oXCIxMDAuJzkxODIzJ1wiKS50b1N0cmluZygpID0+IFwiMTAwLig5MTgyMylcIlxuICAgICAqKi9cbiAgICAndG9TdHJpbmcnOiBmdW5jdGlvbihkZWMpIHtcblxuICAgICAgdmFyIGc7XG4gICAgICB2YXIgTiA9IHRoaXNbXCJuXCJdO1xuICAgICAgdmFyIEQgPSB0aGlzW1wiZFwiXTtcblxuICAgICAgaWYgKGlzTmFOKE4pIHx8IGlzTmFOKEQpKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIUZyYWN0aW9uWydSRURVQ0UnXSkge1xuICAgICAgICBnID0gZ2NkKE4sIEQpO1xuICAgICAgICBOIC89IGc7XG4gICAgICAgIEQgLz0gZztcbiAgICAgIH1cblxuICAgICAgZGVjID0gZGVjIHx8IDE1OyAvLyAxNSA9IGRlY2ltYWwgcGxhY2VzIHdoZW4gbm8gcmVwZXRhdGlvblxuXG4gICAgICB2YXIgY3ljTGVuID0gY3ljbGVMZW4oTiwgRCk7IC8vIEN5Y2xlIGxlbmd0aFxuICAgICAgdmFyIGN5Y09mZiA9IGN5Y2xlU3RhcnQoTiwgRCwgY3ljTGVuKTsgLy8gQ3ljbGUgc3RhcnRcblxuICAgICAgdmFyIHN0ciA9IHRoaXNbJ3MnXSA9PT0gLTEgPyBcIi1cIiA6IFwiXCI7XG5cbiAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG5cbiAgICAgIE4gJT0gRDtcbiAgICAgIE4gKj0gMTA7XG5cbiAgICAgIGlmIChOKVxuICAgICAgICBzdHIgKz0gXCIuXCI7XG5cbiAgICAgIGlmIChjeWNMZW4pIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gY3ljT2ZmOyBpLS07KSB7XG4gICAgICAgICAgc3RyICs9IE4gLyBEIHwgMDtcbiAgICAgICAgICBOICU9IEQ7XG4gICAgICAgICAgTiAqPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCIoXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSBjeWNMZW47IGktLTspIHtcbiAgICAgICAgICBzdHIgKz0gTiAvIEQgfCAwO1xuICAgICAgICAgIE4gJT0gRDtcbiAgICAgICAgICBOICo9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIilcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWM7IE4gJiYgaS0tOykge1xuICAgICAgICAgIHN0ciArPSBOIC8gRCB8IDA7XG4gICAgICAgICAgTiAlPSBEO1xuICAgICAgICAgIE4gKj0gMTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBGcmFjdGlvbjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFjdGlvbiwgXCJfX2VzTW9kdWxlXCIsIHsgJ3ZhbHVlJzogdHJ1ZSB9KTtcbiAgICBGcmFjdGlvblsnZGVmYXVsdCddID0gRnJhY3Rpb247XG4gICAgRnJhY3Rpb25bJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IEZyYWN0aW9uO1xuICB9IGVsc2Uge1xuICAgIHJvb3RbJ0ZyYWN0aW9uJ10gPSBGcmFjdGlvbjtcbiAgfVxuXG59KSh0aGlzKTtcbiIsImltcG9ydCBGcmFjdGlvbiBmcm9tICdmcmFjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdGcmFjdGlvbic7XG52YXIgZGVwZW5kZW5jaWVzID0gW107XG5leHBvcnQgdmFyIGNyZWF0ZUZyYWN0aW9uQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG4gIEZyYWN0aW9uLnByb3RvdHlwZS50eXBlID0gJ0ZyYWN0aW9uJztcbiAgRnJhY3Rpb24ucHJvdG90eXBlLmlzRnJhY3Rpb24gPSB0cnVlO1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIEZyYWN0aW9uIGNvbnRhaW5pbmcgdHlwZSBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZyYWN0aW9uXCIsIFwiblwiOiAzLCBcImRcIjogOH1gXG4gICAqL1xuXG4gIEZyYWN0aW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0ZyYWN0aW9uJyxcbiAgICAgIG46IHRoaXMucyAqIHRoaXMubixcbiAgICAgIGQ6IHRoaXMuZFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIEZyYWN0aW9uIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgYSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZyYWN0aW9uXCIsIFwiblwiOiAzLCBcImRcIjogOH1gXG4gICAqIEByZXR1cm4ge0JpZ051bWJlcn1cbiAgICovXG5cblxuICBGcmFjdGlvbi5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihqc29uKTtcbiAgfTtcblxuICByZXR1cm4gRnJhY3Rpb247XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZm9ybWF0LCBzaWduIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1JhbmdlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmFuZ2VDbGFzcyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoKSA9PiB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSByYW5nZS4gQSByYW5nZSBoYXMgYSBzdGFydCwgc3RlcCwgYW5kIGVuZCwgYW5kIGNvbnRhaW5zIGZ1bmN0aW9uc1xuICAgKiB0byBpdGVyYXRlIG92ZXIgdGhlIHJhbmdlLlxuICAgKlxuICAgKiBBIHJhbmdlIGNhbiBiZSBjb25zdHJ1Y3RlZCBhczpcbiAgICpcbiAgICogICAgIGNvbnN0IHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBlbmQpXG4gICAqICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKVxuICAgKlxuICAgKiBUbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGUgcmFuZ2U6XG4gICAqICAgICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAqICAgICAgICAgY29uc29sZS5sb2coeClcbiAgICogICAgIH0pXG4gICAqICAgICByYW5nZS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICogICAgICAgICByZXR1cm4gbWF0aC5zaW4oeClcbiAgICogICAgIH0pXG4gICAqICAgICByYW5nZS50b0FycmF5KClcbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGNvbnN0IGMgPSBuZXcgUmFuZ2UoMiwgNikgICAgICAgLy8gMjoxOjVcbiAgICogICAgIGMudG9BcnJheSgpICAgICAgICAgICAgICAgICAgICAgLy8gWzIsIDMsIDQsIDVdXG4gICAqICAgICBjb25zdCBkID0gbmV3IFJhbmdlKDIsIC0zLCAtMSkgIC8vIDI6LTE6LTJcbiAgICogICAgIGQudG9BcnJheSgpICAgICAgICAgICAgICAgICAgICAgLy8gWzIsIDEsIDAsIC0xLCAtMl1cbiAgICpcbiAgICogQGNsYXNzIFJhbmdlXG4gICAqIEBjb25zdHJ1Y3RvciBSYW5nZVxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgIGluY2x1ZGVkIGxvd2VyIGJvdW5kXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgICAgZXhjbHVkZWQgdXBwZXIgYm91bmRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwXSBzdGVwIHNpemUsIGRlZmF1bHQgdmFsdWUgaXMgMVxuICAgKi9cbiAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdmFyIGhhc1N0YXJ0ID0gc3RhcnQgIT09IG51bGwgJiYgc3RhcnQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaGFzRW5kID0gZW5kICE9PSBudWxsICYmIGVuZCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBoYXNTdGVwID0gc3RlcCAhPT0gbnVsbCAmJiBzdGVwICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaGFzU3RhcnQpIHtcbiAgICAgIGlmIChpc0JpZ051bWJlcihzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydC50b051bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBzdGFydCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc0VuZCkge1xuICAgICAgaWYgKGlzQmlnTnVtYmVyKGVuZCkpIHtcbiAgICAgICAgZW5kID0gZW5kLnRvTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBlbmQgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNTdGVwKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoc3RlcCkpIHtcbiAgICAgICAgc3RlcCA9IHN0ZXAudG9OdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ZXAgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBzdGVwIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0ID0gaGFzU3RhcnQgPyBwYXJzZUZsb2F0KHN0YXJ0KSA6IDA7XG4gICAgdGhpcy5lbmQgPSBoYXNFbmQgPyBwYXJzZUZsb2F0KGVuZCkgOiAwO1xuICAgIHRoaXMuc3RlcCA9IGhhc1N0ZXAgPyBwYXJzZUZsb2F0KHN0ZXApIDogMTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudHlwZSA9ICdSYW5nZSc7XG4gIFJhbmdlLnByb3RvdHlwZS5pc1JhbmdlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSByYW5nZSxcbiAgICogVGhlIHN0cmluZyBjb250YWlucyB0aGUgc3RhcnQsIG9wdGlvbmFsIHN0ZXAsIGFuZCBlbmQsIHNlcGFyYXRlZCBieSBhIGNvbG9uLlxuICAgKiBJZiB0aGUgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCByYW5nZSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICogRm9yIGV4YW1wbGUgc3RyPScwOjI6MTEnLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtSYW5nZSB8IG51bGx9IHJhbmdlXG4gICAqL1xuXG4gIFJhbmdlLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBzdHIuc3BsaXQoJzonKTtcbiAgICB2YXIgbnVtcyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGFyZyk7XG4gICAgfSk7XG4gICAgdmFyIGludmFsaWQgPSBudW1zLnNvbWUoZnVuY3Rpb24gKG51bSkge1xuICAgICAgcmV0dXJuIGlzTmFOKG51bSk7XG4gICAgfSk7XG5cbiAgICBpZiAoaW52YWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3dpdGNoIChudW1zLmxlbmd0aCkge1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKG51bXNbMF0sIG51bXNbMV0pO1xuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UobnVtc1swXSwgbnVtc1syXSwgbnVtc1sxXSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSByYW5nZVxuICAgKiBAcmV0dXJuIHtSYW5nZX0gY2xvbmVcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCwgdGhpcy5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBzaXplIG9mIHRoZSByYW5nZS5cbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIG9uZSBudW1iZXIsIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIHJhbmdlLlxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IDA7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcDtcbiAgICB2YXIgZW5kID0gdGhpcy5lbmQ7XG4gICAgdmFyIGRpZmYgPSBlbmQgLSBzdGFydDtcblxuICAgIGlmIChzaWduKHN0ZXApID09PSBzaWduKGRpZmYpKSB7XG4gICAgICBsZW4gPSBNYXRoLmNlaWwoZGlmZiAvIHN0ZXApO1xuICAgIH0gZWxzZSBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgbGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaXNOYU4obGVuKSkge1xuICAgICAgbGVuID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gW2xlbl07XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIG1pbmltdW0gdmFsdWUgaW4gdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCB1bmRlZmluZWR9IG1pblxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemUoKVswXTtcblxuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgaWYgKHRoaXMuc3RlcCA+IDApIHtcbiAgICAgICAgLy8gcG9zaXRpdmUgc3RlcFxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5lZ2F0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgKyAoc2l6ZSAtIDEpICogdGhpcy5zdGVwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm4ge251bWJlciB8IHVuZGVmaW5lZH0gbWF4XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZSgpWzBdO1xuXG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBpZiAodGhpcy5zdGVwID4gMCkge1xuICAgICAgICAvLyBwb3NpdGl2ZSBzdGVwXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0ICsgKHNpemUgLSAxKSAqIHRoaXMuc3RlcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5lZ2F0aXZlIHN0ZXBcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIHZhbHVlIGluIHRoZSByYW5nZS5cbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIG1ldGhvZCBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIFJhbmdlIGJlaW5nIHRyYXZlcnNlZC5cbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB4ID0gdGhpcy5zdGFydDtcbiAgICB2YXIgc3RlcCA9IHRoaXMuc3RlcDtcbiAgICB2YXIgZW5kID0gdGhpcy5lbmQ7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgICB3aGlsZSAoeCA8IGVuZCkge1xuICAgICAgICBjYWxsYmFjayh4LCBbaV0sIHRoaXMpO1xuICAgICAgICB4ICs9IHN0ZXA7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0ZXAgPCAwKSB7XG4gICAgICB3aGlsZSAoeCA+IGVuZCkge1xuICAgICAgICBjYWxsYmFjayh4LCBbaV0sIHRoaXMpO1xuICAgICAgICB4ICs9IHN0ZXA7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUgaW4gdGhlIFJhbmdlLCBhbmQgcmV0dXJuIHRoZVxuICAgKiByZXN1bHRzIGFzIGFuIGFycmF5XG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBtZXRob2QgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBvYmopIHtcbiAgICAgIGFycmF5W2luZGV4WzBdXSA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIFJhbmdlcyBkYXRhXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGFycmF5W2luZGV4WzBdXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgcHJpbWl0aXZlIHZhbHVlIG9mIHRoZSBSYW5nZSwgYSBvbmUgZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQG1lbWJlcm9mIFJhbmdlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBSYW5nZS5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYSBjYWNoaW5nIG1lY2hhbmlzbSBmb3IgcmFuZ2UudmFsdWVPZigpXG4gICAgcmV0dXJuIHRoaXMudG9BcnJheSgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZSwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIE91dHB1dCBpcyBmb3JtYXR0ZWQgYXMgJ3N0YXJ0OnN0ZXA6ZW5kJywgZm9yIGV4YW1wbGUgJzI6Nicgb3IgJzA6MC4yOjExJ1xuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBmdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSBmb3JtYXQodGhpcy5zdGFydCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodGhpcy5zdGVwICE9PSAxKSB7XG4gICAgICBzdHIgKz0gJzonICsgZm9ybWF0KHRoaXMuc3RlcCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGZvcm1hdCh0aGlzLmVuZCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2UuXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhbmdlXG4gICAqIEBtZW1iZXJvZiBSYW5nZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJhbmdlXCIsIFwic3RhcnRcIjogMiwgXCJlbmRcIjogNCwgXCJzdGVwXCI6IDF9YFxuICAgKi9cblxuXG4gIFJhbmdlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JhbmdlJyxcbiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgZW5kOiB0aGlzLmVuZCxcbiAgICAgIHN0ZXA6IHRoaXMuc3RlcFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFJhbmdlIGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgUmFuZ2VcbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gQSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VcIiwgXCJzdGFydFwiOiAyLCBcImVuZFwiOiA0LCBcInN0ZXBcIjogMX1gXG4gICAqIEByZXR1cm4ge1JhbmdlfVxuICAgKi9cblxuXG4gIFJhbmdlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKGpzb24uc3RhcnQsIGpzb24uZW5kLCBqc29uLnN0ZXApO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnTWF0cml4JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbmV4cG9ydCB2YXIgY3JlYXRlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKCkgPT4ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIE1hdHJpeFxuICAgKlxuICAgKiBBIE1hdHJpeCBpcyBhIHdyYXBwZXIgYXJvdW5kIGFuIEFycmF5LiBBIG1hdHJpeCBjYW4gaG9sZCBhIG11bHRpIGRpbWVuc2lvbmFsXG4gICAqIGFycmF5LiBBIG1hdHJpeCBjYW4gYmUgY29uc3RydWN0ZWQgYXM6XG4gICAqXG4gICAqICAgICBsZXQgbWF0cml4ID0gbWF0aC5tYXRyaXgoZGF0YSlcbiAgICpcbiAgICogTWF0cml4IGNvbnRhaW5zIHRoZSBmdW5jdGlvbnMgdG8gcmVzaXplLCBnZXQgYW5kIHNldCB2YWx1ZXMsIGdldCB0aGUgc2l6ZSxcbiAgICogY2xvbmUgdGhlIG1hdHJpeCBhbmQgdG8gY29udmVydCB0aGUgbWF0cml4IHRvIGEgdmVjdG9yLCBhcnJheSwgb3Igc2NhbGFyLlxuICAgKiBGdXJ0aGVybW9yZSwgb25lIGNhbiBpdGVyYXRlIG92ZXIgdGhlIG1hdHJpeCB1c2luZyBtYXAgYW5kIGZvckVhY2guXG4gICAqIFRoZSBpbnRlcm5hbCBBcnJheSBvZiB0aGUgTWF0cml4IGNhbiBiZSBhY2Nlc3NlZCB1c2luZyB0aGUgZnVuY3Rpb24gdmFsdWVPZi5cbiAgICpcbiAgICogRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIGxldCBtYXRyaXggPSBtYXRoLm1hdHJpeChbWzEsIDJdLCBbMywgNF1dKVxuICAgKiAgICAgbWF0aXguc2l6ZSgpICAgICAgICAgICAgICAvLyBbMiwgMl1cbiAgICogICAgIG1hdHJpeC5yZXNpemUoWzMsIDJdLCA1KVxuICAgKiAgICAgbWF0cml4LnZhbHVlT2YoKSAgICAgICAgICAvLyBbWzEsIDJdLCBbMywgNF0sIFs1LCA1XV1cbiAgICogICAgIG1hdHJpeC5zdWJzZXQoWzEsMl0pICAgICAgIC8vIDMgKGluZGV4ZXMgYXJlIHplcm8tYmFzZWQpXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdNYXRyaXgnO1xuICBNYXRyaXgucHJvdG90eXBlLmlzTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG4gIE1hdHJpeC5wcm90b3R5cGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2Ugc3RvcmFnZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgZGF0YXR5cGUgb2YgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3QgZm9ybWF0ID0gbWF0cml4LmRhdGF0eXBlKCkgICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBkYXRhdHlwZS5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBkYXRhdHlwZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBNYXRyaXggV2l0aCB0aGUgdHlwZSBvZiB0aGUgY3VycmVudCBtYXRyaXggaW5zdGFuY2VcbiAgICogQHBhcmFtIHtBcnJheSB8IE9iamVjdH0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGNyZWF0ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeCB8ICp9IFtyZXBsYWNlbWVudF1cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdWJzZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzaW5nbGUgZWxlbWVudCBmcm9tIHRoZSBtYXRyaXguXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGdldCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdICAgICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbWF0cml4IGlzIHJlc2l6ZWQuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1hdHJpeCBlbGVtZW50cyB3aWxsIGJlIGxlZnQgdW5kZWZpbmVkLlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzZXQgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNpemUgaW4gcGxhY2UpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBzaXplICAgICAgICAgICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHJlc2l6ZSBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2hhcGUgdGhlIG1hdHJpeCB0byB0aGUgZ2l2ZW4gc2l6ZS4gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aGVuXG4gICAqIGBjb3B5PXRydWVgLCBvdGhlcndpc2UgcmV0dXJuIHRoZSBtYXRyaXggaXRzZWxmIChyZXNoYXBlIGluIHBsYWNlKS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5yZXNoYXBlID0gZnVuY3Rpb24gKHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSByZXNoYXBlIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG1hdHJpeFxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgY2xvbmUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IHNpemVcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHNpemUgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LCB0aGUgaW5kZXhcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgZWxlbWVudCwgYW5kIHRoZSBNYXRyaXggYmVpbmcgdHJhdmVyc2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwWmVyb3NdIEludm9rZSBjYWxsYmFjayBmdW5jdGlvbiBmb3Igbm9uLXplcm8gdmFsdWVzIG9ubHkuXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gbWF0cml4XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBtYXAgb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvckVhY2ggb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIE1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTWF0cml4IGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSB0b0FycmF5IG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIE1hdHJpeDogYSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHZhbHVlT2Ygb24gYSBNYXRyaXggaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeCwgd2l0aCBvcHRpb25hbCBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvcm1hdCBvbiBhIE1hdHJpeCBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBNYXRyaXggaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIHRvU3RyaW5nIG9uIGEgTWF0cml4IGludGVyZmFjZScpO1xuICB9O1xuXG4gIHJldHVybiBNYXRyaXg7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQXJyYXksIGlzQmlnTnVtYmVyLCBpc0NvbGxlY3Rpb24sIGlzSW5kZXgsIGlzTWF0cml4LCBpc051bWJlciwgaXNTdHJpbmcsIHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSwgZ2V0QXJyYXlEYXRhVHlwZSwgcmVzaGFwZSwgcmVzaXplLCB1bnNxdWVlemUsIHZhbGlkYXRlLCB2YWxpZGF0ZUluZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBjbG9uZSwgZGVlcFN0cmljdEVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnRGVuc2VNYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZURlbnNlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIERlbnNlIE1hdHJpeCBpbXBsZW1lbnRhdGlvbi4gQSByZWd1bGFyLCBkZW5zZSBtYXRyaXgsIHN1cHBvcnRpbmcgbXVsdGktZGltZW5zaW9uYWwgbWF0cmljZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgbWF0cml4IHR5cGUuXG4gICAqIEBjbGFzcyBEZW5zZU1hdHJpeFxuICAgKi9cbiAgZnVuY3Rpb24gRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGVuc2VNYXRyaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmIChkYXRhdHlwZSAmJiAhaXNTdHJpbmcoZGF0YXR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0YXR5cGU6ICcgKyBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTWF0cml4KGRhdGEpKSB7XG4gICAgICAvLyBjaGVjayBkYXRhIGlzIGEgRGVuc2VNYXRyaXhcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdEZW5zZU1hdHJpeCcpIHtcbiAgICAgICAgLy8gY2xvbmUgZGF0YSAmIHNpemVcbiAgICAgICAgdGhpcy5fZGF0YSA9IGNsb25lKGRhdGEuX2RhdGEpO1xuICAgICAgICB0aGlzLl9zaXplID0gY2xvbmUoZGF0YS5fc2l6ZSk7XG4gICAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgZGF0YS5fZGF0YXR5cGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBidWlsZCBkYXRhIGZyb20gZXhpc3RpbmcgbWF0cml4XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhLnRvQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGRhdGEuc2l6ZSgpO1xuICAgICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlIHx8IGRhdGEuX2RhdGF0eXBlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBpc0FycmF5KGRhdGEuZGF0YSkgJiYgaXNBcnJheShkYXRhLnNpemUpKSB7XG4gICAgICAvLyBpbml0aWFsaXplIGZpZWxkcyBmcm9tIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX2RhdGEgPSBkYXRhLmRhdGE7XG4gICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplOyAvLyB2ZXJpZnkgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG5cbiAgICAgIHZhbGlkYXRlKHRoaXMuX2RhdGEsIHRoaXMuX3NpemUpO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLmRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgLy8gcmVwbGFjZSBuZXN0ZWQgTWF0cmljZXMgd2l0aCBBcnJheXNcbiAgICAgIHRoaXMuX2RhdGEgPSBwcmVwcm9jZXNzKGRhdGEpOyAvLyBnZXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGFycmF5XG5cbiAgICAgIHRoaXMuX3NpemUgPSBhcnJheVNpemUodGhpcy5fZGF0YSk7IC8vIHZlcmlmeSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJyYXksIFRPRE86IGNvbXB1dGUgc2l6ZSB3aGlsZSBwcm9jZXNzaW5nIGFycmF5XG5cbiAgICAgIHZhbGlkYXRlKHRoaXMuX2RhdGEsIHRoaXMuX3NpemUpOyAvLyBkYXRhIHR5cGUgdW5rbm93blxuXG4gICAgICB0aGlzLl9kYXRhdHlwZSA9IGRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoZGF0YSkge1xuICAgICAgLy8gdW5zdXBwb3J0ZWQgdHlwZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBkYXRhICgnICsgdHlwZU9mKGRhdGEpICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm90aGluZyBwcm92aWRlZFxuICAgICAgdGhpcy5fZGF0YSA9IFtdO1xuICAgICAgdGhpcy5fc2l6ZSA9IFswXTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfVxuICB9XG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlID0gbmV3IE1hdHJpeCgpO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IERlbnNlTWF0cml4XG4gICAqL1xuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGVEZW5zZU1hdHJpeCA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudHlwZSA9ICdEZW5zZU1hdHJpeCc7XG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5pc0RlbnNlTWF0cml4ID0gdHJ1ZTtcbiAgLyoqXG4gICAqIEdldCB0aGUgbWF0cml4IHR5cGVcbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgIGNvbnN0IG1hdHJpeFR5cGUgPSBtYXRyaXguZ2V0RGF0YVR5cGUoKSAgLy8gcmV0cmlldmVzIHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBAbWVtYmVyT2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgIHR5cGUgaW5mb3JtYXRpb247IGlmIG11bHRpcGxlIHR5cGVzIGFyZSBmb3VuZCBmcm9tIHRoZSBNYXRyaXgsIGl0IHdpbGwgcmV0dXJuIFwibWl4ZWRcIlxuICAgKi9cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZ2V0RGF0YVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEFycmF5RGF0YVR5cGUodGhpcy5fZGF0YSwgdHlwZU9mKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgIC8vIHJldHJpZXZlIHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgc3RvcmFnZSBmb3JtYXQuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdkZW5zZSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGF0eXBlIG9mIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5kYXRhdHlwZSgpICAgLy8gcmV0cmlldmUgbWF0cml4IGRhdGF0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmRhdGF0eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhdHlwZTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBEZW5zZU1hdHJpeFxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZGF0YXR5cGUpIHtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN1YnNldCBvZiB0aGUgbWF0cml4LCBvciByZXBsYWNlIGEgc3Vic2V0IG9mIHRoZSBtYXRyaXguXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgICAgY29uc3Qgc3Vic2V0ID0gbWF0cml4LnN1YnNldChpbmRleCkgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBzdWJzZXRcbiAgICogICAgIGNvbnN0IHZhbHVlID0gbWF0cml4LnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQpICAgLy8gcmVwbGFjZSBzdWJzZXRcbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnN1YnNldCA9IGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gX2dldCh0aGlzLCBpbmRleCk7XG4gICAgICAvLyBpbnRlbnRpb25hbCBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gX3NldCh0aGlzLCBpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoIWlzQXJyYXkoaW5kZXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChpbmRleC5sZW5ndGggIT09IHRoaXMuX3NpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXgubGVuZ3RoLCB0aGlzLl9zaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayBpbmRleFxuXG5cbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGluZGV4Lmxlbmd0aDsgeCsrKSB7XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4W3hdLCB0aGlzLl9zaXplW3hdKTtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbmRleC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXhJID0gaW5kZXhbaV07XG4gICAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgICAgZGF0YSA9IGRhdGFbaW5kZXhJXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBsZWZ0IHVuZGVmaW5lZC5cbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IHNlbGZcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXgubGVuZ3RoIDwgdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgIH1cblxuICAgIHZhciBpLCBpaSwgaW5kZXhJOyAvLyBlbmxhcmdlIG1hdHJpeCB3aGVuIG5lZWRlZFxuXG4gICAgdmFyIHNpemUgPSBpbmRleC5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBpICsgMTtcbiAgICB9KTtcblxuICAgIF9maXQodGhpcywgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gdHJhdmVyc2Ugb3ZlciB0aGUgZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICBmb3IgKGkgPSAwLCBpaSA9IGluZGV4Lmxlbmd0aCAtIDE7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpbmRleEkgPSBpbmRleFtpXTtcbiAgICAgIHZhbGlkYXRlSW5kZXgoaW5kZXhJLCBkYXRhLmxlbmd0aCk7XG4gICAgICBkYXRhID0gZGF0YVtpbmRleEldO1xuICAgIH0gLy8gc2V0IG5ldyB2YWx1ZVxuXG5cbiAgICBpbmRleEkgPSBpbmRleFtpbmRleC5sZW5ndGggLSAxXTtcbiAgICB2YWxpZGF0ZUluZGV4KGluZGV4SSwgZGF0YS5sZW5ndGgpO1xuICAgIGRhdGFbaW5kZXhJXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3VibWF0cml4IG9mIHRoaXMgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4fSBtYXRyaXhcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXggICBaZXJvLWJhc2VkIGluZGV4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2dldChtYXRyaXgsIGluZGV4KSB7XG4gICAgaWYgKCFpc0luZGV4KGluZGV4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH1cblxuICAgIHZhciBpc1NjYWxhciA9IGluZGV4LmlzU2NhbGFyKCk7XG5cbiAgICBpZiAoaXNTY2FsYXIpIHtcbiAgICAgIC8vIHJldHVybiBhIHNjYWxhclxuICAgICAgcmV0dXJuIG1hdHJpeC5nZXQoaW5kZXgubWluKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG4gICAgICB2YXIgc2l6ZSA9IGluZGV4LnNpemUoKTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoICE9PSBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihzaXplLmxlbmd0aCwgbWF0cml4Ll9zaXplLmxlbmd0aCk7XG4gICAgICB9IC8vIHZhbGlkYXRlIGlmIGFueSBvZiB0aGUgcmFuZ2VzIGluIHRoZSBpbmRleCBpcyBvdXQgb2YgcmFuZ2VcblxuXG4gICAgICB2YXIgbWluID0gaW5kZXgubWluKCk7XG4gICAgICB2YXIgbWF4ID0gaW5kZXgubWF4KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG1hdHJpeC5fc2l6ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgobWluW2ldLCBtYXRyaXguX3NpemVbaV0pO1xuICAgICAgICB2YWxpZGF0ZUluZGV4KG1heFtpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICAgIH0gLy8gcmV0cmlldmUgc3VibWF0cml4XG4gICAgICAvLyBUT0RPOiBtb3JlIGVmZmljaWVudCB3aGVuIGNyZWF0aW5nIGFuIGVtcHR5IG1hdHJpeCBhbmQgc2V0dGluZyBfZGF0YSBhbmQgX3NpemUgbWFudWFsbHlcblxuXG4gICAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KF9nZXRTdWJtYXRyaXgobWF0cml4Ll9kYXRhLCBpbmRleCwgc2l6ZS5sZW5ndGgsIDApLCBtYXRyaXguX2RhdGF0eXBlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGdldCBhIHN1Ym1hdHJpeCBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIG1hdHJpeC5cbiAgICogSW5kZXggaXMgbm90IGNoZWNrZWQgZm9yIGNvcnJlY3QgbnVtYmVyIG9yIGxlbmd0aCBvZiBkaW1lbnNpb25zLlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGltcyAgIFRvdGFsIG51bWJlciBvZiBkaW1lbnNpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW0gICAgQ3VycmVudCBkaW1lbnNpb25cbiAgICogQHJldHVybiB7QXJyYXl9IHN1Ym1hdHJpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9nZXRTdWJtYXRyaXgoZGF0YSwgaW5kZXgsIGRpbXMsIGRpbSkge1xuICAgIHZhciBsYXN0ID0gZGltID09PSBkaW1zIC0gMTtcbiAgICB2YXIgcmFuZ2UgPSBpbmRleC5kaW1lbnNpb24oZGltKTtcblxuICAgIGlmIChsYXN0KSB7XG4gICAgICByZXR1cm4gcmFuZ2UubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhbGlkYXRlSW5kZXgoaSwgZGF0YS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gZGF0YVtpXTtcbiAgICAgIH0pLnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJhbmdlLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YWxpZGF0ZUluZGV4KGksIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgdmFyIGNoaWxkID0gZGF0YVtpXTtcbiAgICAgICAgcmV0dXJuIF9nZXRTdWJtYXRyaXgoY2hpbGQsIGluZGV4LCBkaW1zLCBkaW0gKyAxKTtcbiAgICAgIH0pLnZhbHVlT2YoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzdWJtYXRyaXggaW4gdGhpcyBtYXRyaXhcbiAgICogSW5kZXhlcyBhcmUgemVyby1iYXNlZC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcGFyYW0ge0RlbnNlTWF0cml4IHwgQXJyYXkgfCAqfSBzdWJtYXRyaXhcbiAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgICAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLlxuICAgKiBAcmV0dXJuIHtEZW5zZU1hdHJpeH0gbWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3NldChtYXRyaXgsIGluZGV4LCBzdWJtYXRyaXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH0gLy8gZ2V0IGluZGV4IHNpemUgYW5kIGNoZWNrIHdoZXRoZXIgdGhlIGluZGV4IGNvbnRhaW5zIGEgc2luZ2xlIHZhbHVlXG5cblxuICAgIHZhciBpU2l6ZSA9IGluZGV4LnNpemUoKTtcbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpOyAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCwgYW5kIGNvbnZlcnQgaXQgaW50byBhbiBBcnJheSBpZiBuZWVkZWRcblxuICAgIHZhciBzU2l6ZTtcblxuICAgIGlmIChpc01hdHJpeChzdWJtYXRyaXgpKSB7XG4gICAgICBzU2l6ZSA9IHN1Ym1hdHJpeC5zaXplKCk7XG4gICAgICBzdWJtYXRyaXggPSBzdWJtYXRyaXgudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzU2l6ZSA9IGFycmF5U2l6ZShzdWJtYXRyaXgpO1xuICAgIH1cblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gc2V0IGEgc2NhbGFyXG4gICAgICAvLyBjaGVjayB3aGV0aGVyIHN1Ym1hdHJpeCBpcyBhIHNjYWxhclxuICAgICAgaWYgKHNTaXplLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTY2FsYXIgZXhwZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgbWF0cml4LnNldChpbmRleC5taW4oKSwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgYSBzdWJtYXRyaXhcbiAgICAgIC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcbiAgICAgIGlmIChpU2l6ZS5sZW5ndGggPCBtYXRyaXguX3NpemUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpU2l6ZS5sZW5ndGgsIG1hdHJpeC5fc2l6ZS5sZW5ndGgsICc8Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggPCBpU2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIG51bWJlciBvZiBtaXNzaW5nIG91dGVyIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgb3V0ZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSAmJiBzU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIG91dGVyKys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IC8vIHVuc3F1ZWV6ZSBib3RoIG91dGVyIGFuZCBpbm5lciBkaW1lbnNpb25zXG5cblxuICAgICAgICBzdWJtYXRyaXggPSB1bnNxdWVlemUoc3VibWF0cml4LCBpU2l6ZS5sZW5ndGgsIG91dGVyLCBzU2l6ZSk7XG4gICAgICB9IC8vIGNoZWNrIHdoZXRoZXIgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCBtYXRjaGVzIHRoZSBpbmRleCBzaXplXG5cblxuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoaVNpemUsIHNTaXplKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUsIHNTaXplLCAnPicpO1xuICAgICAgfSAvLyBlbmxhcmdlIG1hdHJpeCB3aGVuIG5lZWRlZFxuXG5cbiAgICAgIHZhciBzaXplID0gaW5kZXgubWF4KCkubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICBfZml0KG1hdHJpeCwgc2l6ZSwgZGVmYXVsdFZhbHVlKTsgLy8gaW5zZXJ0IHRoZSBzdWIgbWF0cml4XG5cblxuICAgICAgdmFyIGRpbXMgPSBpU2l6ZS5sZW5ndGg7XG4gICAgICB2YXIgZGltID0gMDtcblxuICAgICAgX3NldFN1Ym1hdHJpeChtYXRyaXguX2RhdGEsIGluZGV4LCBzdWJtYXRyaXgsIGRpbXMsIGRpbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhIHN1Ym1hdHJpeCBvZiBhIG11bHRpIGRpbWVuc2lvbmFsIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHtBcnJheX0gc3VibWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaW1zICAgVG90YWwgbnVtYmVyIG9mIGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9zZXRTdWJtYXRyaXgoZGF0YSwgaW5kZXgsIHN1Ym1hdHJpeCwgZGltcywgZGltKSB7XG4gICAgdmFyIGxhc3QgPSBkaW0gPT09IGRpbXMgLSAxO1xuICAgIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbihkaW0pO1xuXG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKGRhdGFJbmRleCwgc3ViSW5kZXgpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChkYXRhSW5kZXgpO1xuICAgICAgICBkYXRhW2RhdGFJbmRleF0gPSBzdWJtYXRyaXhbc3ViSW5kZXhbMF1dO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKGRhdGFJbmRleCwgc3ViSW5kZXgpIHtcbiAgICAgICAgdmFsaWRhdGVJbmRleChkYXRhSW5kZXgpO1xuXG4gICAgICAgIF9zZXRTdWJtYXRyaXgoZGF0YVtkYXRhSW5kZXhdLCBpbmRleCwgc3VibWF0cml4W3N1YkluZGV4WzBdXSwgZGltcywgZGltICsgMSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgbWF0cml4IHRvIHRoZSBnaXZlbiBzaXplLiBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdoZW5cbiAgICogYGNvcHk9dHJ1ZWAsIG90aGVyd2lzZSByZXR1cm4gdGhlIG1hdHJpeCBpdHNlbGYgKHJlc2l6ZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdIHx8IE1hdHJpeH0gc2l6ZSBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBkZWZhdWx0VmFsdWUsIGNvcHkpIHtcbiAgICAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcbiAgICBpZiAoIWlzQ29sbGVjdGlvbihzaXplKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgb3IgTWF0cml4IGV4cGVjdGVkJyk7XG4gICAgfSAvLyBTcGFyc2VNYXRyaXggaW5wdXQgaXMgYWx3YXlzIDJkLCBmbGF0dGVuIHRoaXMgaW50byAxZCBpZiBpdCdzIGluZGVlZCBhIHZlY3RvclxuXG5cbiAgICB2YXIgc2l6ZUFycmF5ID0gc2l6ZS52YWx1ZU9mKCkubWFwKHZhbHVlID0+IHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlO1xuICAgIH0pOyAvLyBtYXRyaXggdG8gcmVzaXplXG5cbiAgICB2YXIgbSA9IGNvcHkgPyB0aGlzLmNsb25lKCkgOiB0aGlzOyAvLyByZXNpemUgbWF0cml4XG5cbiAgICByZXR1cm4gX3Jlc2l6ZShtLCBzaXplQXJyYXksIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3Jlc2l6ZShtYXRyaXgsIHNpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIC8vIGNoZWNrIHNpemVcbiAgICBpZiAoc2l6ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIGZpcnN0IHZhbHVlIGluIG1hdHJpeFxuICAgICAgdmFyIHYgPSBtYXRyaXguX2RhdGE7IC8vIGdvIGRlZXBcblxuICAgICAgd2hpbGUgKGlzQXJyYXkodikpIHtcbiAgICAgICAgdiA9IHZbMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2O1xuICAgIH0gLy8gcmVzaXplIG1hdHJpeFxuXG5cbiAgICBtYXRyaXguX3NpemUgPSBzaXplLnNsaWNlKDApOyAvLyBjb3B5IHRoZSBhcnJheVxuXG4gICAgbWF0cml4Ll9kYXRhID0gcmVzaXplKG1hdHJpeC5fZGF0YSwgbWF0cml4Ll9zaXplLCBkZWZhdWx0VmFsdWUpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWlnaHQgYmUgYmV0dGVyIHN1aXRlZCB0byBjb3B5IGJ5IGRlZmF1bHQsIGluc3RlYWQgb2YgbW9kaWZ5aW5nXG4gICAqICAgICAgIGluIHBsYWNlLiBGb3Igbm93LCBpdCBvcGVyYXRlcyBpbiBwbGFjZSB0byByZW1haW4gY29uc2lzdGVudCB3aXRoXG4gICAqICAgICAgIHJlc2l6ZSgpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gc2l6ZSAgICAgICAgICAgVGhlIG5ldyBzaXplIHRoZSBtYXRyaXggc2hvdWxkIGhhdmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvcHldICAgICAgICAgIFJldHVybiBhIHJlc2hhcGVkIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICBUaGUgcmVzaGFwZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnJlc2hhcGUgPSBmdW5jdGlvbiAoc2l6ZSwgY29weSkge1xuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7XG4gICAgbS5fZGF0YSA9IHJlc2hhcGUobS5fZGF0YSwgc2l6ZSk7XG4gICAgbS5fc2l6ZSA9IHNpemUuc2xpY2UoMCk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBFbmxhcmdlIHRoZSBtYXRyaXggd2hlbiBpdCBpcyBzbWFsbGVyIHRoYW4gZ2l2ZW4gc2l6ZS5cbiAgICogSWYgdGhlIG1hdHJpeCBpcyBsYXJnZXIgb3IgZXF1YWwgc2l6ZWQsIG5vdGhpbmcgaXMgZG9uZS5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RGVuc2VNYXRyaXh9IG1hdHJpeCAgICAgICAgICAgVGhlIG1hdHJpeCB0byBiZSByZXNpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemVcbiAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgICAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9maXQobWF0cml4LCBzaXplLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgLy8gY29weSB0aGUgYXJyYXlcbiAgICBuZXdTaXplID0gbWF0cml4Ll9zaXplLnNsaWNlKDApO1xuXG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTsgLy8gYWRkIGRpbWVuc2lvbnMgd2hlbiBuZWVkZWRcblxuICAgIHdoaWxlIChuZXdTaXplLmxlbmd0aCA8IHNpemUubGVuZ3RoKSB7XG4gICAgICBuZXdTaXplLnB1c2goMCk7XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9IC8vIGVubGFyZ2Ugc2l6ZSB3aGVuIG5lZWRlZFxuXG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzaXplLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGlmIChzaXplW2ldID4gbmV3U2l6ZVtpXSkge1xuICAgICAgICBuZXdTaXplW2ldID0gc2l6ZVtpXTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIC8vIHJlc2l6ZSBvbmx5IHdoZW4gc2l6ZSBpcyBjaGFuZ2VkXG4gICAgICBfcmVzaXplKG1hdHJpeCwgbmV3U2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm4ge0RlbnNlTWF0cml4fSBjbG9uZVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbSA9IG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjbG9uZSh0aGlzLl9kYXRhKSxcbiAgICAgIHNpemU6IGNsb25lKHRoaXMuX3NpemUpLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHJldHVybnMge251bWJlcltdfSBzaXplXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUuc2xpY2UoMCk7IC8vIHJldHVybiBhIGNsb25lIG9mIF9zaXplXG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbWF0cml4IHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uXG4gICAqIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICpcbiAgICogQHJldHVybiB7RGVuc2VNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtYXRyaXggaW5zdGFuY2VcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgdmFyIHJlY3Vyc2UgPSBmdW5jdGlvbiByZWN1cnNlKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY3Vyc2UoY2hpbGQsIGluZGV4LmNvbmNhdChpKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgbWUpO1xuICAgICAgfVxuICAgIH07IC8vIGRldGVybWluZSB0aGUgbmV3IGRhdGF0eXBlIHdoZW4gdGhlIG9yaWdpbmFsIG1hdHJpeCBoYXMgZGF0YXR5cGUgZGVmaW5lZFxuICAgIC8vIFRPRE86IHNob3VsZCBiZSBkb25lIGluIG1hdHJpeCBjb25zdHJ1Y3RvciBpbnN0ZWFkXG5cblxuICAgIHZhciBkYXRhID0gcmVjdXJzZSh0aGlzLl9kYXRhLCBbXSk7XG4gICAgdmFyIGRhdGF0eXBlID0gdGhpcy5fZGF0YXR5cGUgIT09IHVuZGVmaW5lZCA/IGdldEFycmF5RGF0YVR5cGUoZGF0YSwgdHlwZU9mKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBtYXRyaXggaW5zdGFuY2VcbiAgICB2YXIgbWUgPSB0aGlzO1xuXG4gICAgdmFyIHJlY3Vyc2UgPSBmdW5jdGlvbiByZWN1cnNlKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICAgICAgcmVjdXJzZShjaGlsZCwgaW5kZXguY29uY2F0KGkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIG1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVjdXJzZSh0aGlzLl9kYXRhLCBbXSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgd2l0aCBhIGNvcHkgb2YgdGhlIGRhdGEgb2YgdGhlIERlbnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgRGVuc2VNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNsb25lKHRoaXMuX2RhdGEpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIERlbnNlTWF0cml4OiBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXlcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMuX2RhdGEsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMuX2RhdGEpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0RlbnNlTWF0cml4JyxcbiAgICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgICBzaXplOiB0aGlzLl9zaXplLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUga3RoIE1hdHJpeCBkaWFnb25hbC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBbaz0wXSAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgcmV0cmlldmVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggd2l0aCB0aGUgZGlhZ29uYWwgdmFsdWVzLlxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4LnByb3RvdHlwZS5kaWFnb25hbCA9IGZ1bmN0aW9uIChrKSB7XG4gICAgLy8gdmFsaWRhdGUgayBpZiBhbnlcbiAgICBpZiAoaykge1xuICAgICAgLy8gY29udmVydCBCaWdOdW1iZXIgdG8gYSBudW1iZXJcbiAgICAgIGlmIChpc0JpZ051bWJlcihrKSkge1xuICAgICAgICBrID0gay50b051bWJlcigpO1xuICAgICAgfSAvLyBpcyBtdXN0IGJlIGFuIGludGVnZXJcblxuXG4gICAgICBpZiAoIWlzTnVtYmVyKGspIHx8ICFpc0ludGVnZXIoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHBhcmFtZXRlciBrIG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdCB2YWx1ZVxuICAgICAgayA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIG51bWJlciBkaWFnb25hbCB2YWx1ZXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB4IGlzIGEgbWF0cml4IGdldCBkaWFnb25hbCBmcm9tIG1hdHJpeFxuXG4gICAgdmFyIGRhdGEgPSBbXTsgLy8gbG9vcCByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgZGF0YVtpXSA9IHRoaXMuX2RhdGFbaSArIGtTdWJdW2kgKyBrU3VwZXJdO1xuICAgIH0gLy8gY3JlYXRlIERlbnNlTWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHNpemU6IFtuXSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgZGlhZ29uYWwgbWF0cml4LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZSAgICAgICAgICAgICAgICAgICAgIFRoZSBtYXRyaXggc2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBNYXRyaXggfCBBcnJheSB9IHZhbHVlIFRoZSB2YWx1ZXMgZm9yIHRoZSBkaWFnb25hbC5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICAgIFRoZSBrdGggZGlhZ29uYWwgd2hlcmUgdGhlIHZlY3RvciB3aWxsIGJlIGZpbGxlZCBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBub24tZGlhZ29uYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhdHlwZV0gICAgICAgICAgICAgIFRoZSBkYXRhdHlwZSBmb3IgdGhlIGRpYWdvbmFsXG4gICAqXG4gICAqIEByZXR1cm5zIHtEZW5zZU1hdHJpeH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5kaWFnb25hbCA9IGZ1bmN0aW9uIChzaXplLCB2YWx1ZSwgaywgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCwgc2l6ZSBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gbWFwIHNpemUgJiB2YWxpZGF0ZVxuXG5cbiAgICBzaXplID0gc2l6ZS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGEgYmlnIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKHMpKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgaXRcbiAgICAgICAgcyA9IHMudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICAgICAgaWYgKCFpc051bWJlcihzKSB8fCAhaXNJbnRlZ2VyKHMpIHx8IHMgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l6ZSB2YWx1ZXMgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcztcbiAgICB9KTsgLy8gdmFsaWRhdGUgayBpZiBhbnlcblxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9XG5cbiAgICB2YXIga1N1cGVyID0gayA+IDAgPyBrIDogMDtcbiAgICB2YXIga1N1YiA9IGsgPCAwID8gLWsgOiAwOyAvLyByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyBudW1iZXIgb2Ygbm9uLXplcm8gaXRlbXNcblxuICAgIHZhciBuID0gTWF0aC5taW4ocm93cyAtIGtTdWIsIGNvbHVtbnMgLSBrU3VwZXIpOyAvLyB2YWx1ZSBleHRyYWN0aW9uIGZ1bmN0aW9uXG5cbiAgICB2YXIgX3ZhbHVlOyAvLyBjaGVjayB2YWx1ZVxuXG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIHZhbGlkYXRlIGFycmF5XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBuKSB7XG4gICAgICAgIC8vIG51bWJlciBvZiB2YWx1ZXMgaW4gYXJyYXkgbXVzdCBiZSBuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBhcnJheSBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWVbaV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNNYXRyaXgodmFsdWUpKSB7XG4gICAgICAvLyBtYXRyaXggc2l6ZVxuICAgICAgdmFyIG1zID0gdmFsdWUuc2l6ZSgpOyAvLyB2YWxpZGF0ZSBtYXRyaXhcblxuICAgICAgaWYgKG1zLmxlbmd0aCAhPT0gMSB8fCBtc1swXSAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWF0cml4IGxlbmd0aCcpO1xuICAgICAgfSAvLyBkZWZpbmUgZnVuY3Rpb25cblxuXG4gICAgICBfdmFsdWUgPSBmdW5jdGlvbiBfdmFsdWUoaSkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWUgQCBpXG4gICAgICAgIHJldHVybiB2YWx1ZS5nZXQoW2ldKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmluZSBmdW5jdGlvblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKCkge1xuICAgICAgICAvLyByZXR1cm4gdmFsdWVcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IC8vIGRpc2NvdmVyIGRlZmF1bHQgdmFsdWUgaWYgbmVlZGVkXG5cblxuICAgIGlmICghZGVmYXVsdFZhbHVlKSB7XG4gICAgICAvLyBjaGVjayBmaXJzdCB2YWx1ZSBpbiBhcnJheVxuICAgICAgZGVmYXVsdFZhbHVlID0gaXNCaWdOdW1iZXIoX3ZhbHVlKDApKSA/IF92YWx1ZSgwKS5tdWwoMCkgLy8gdHJpY2sgdG8gY3JlYXRlIGEgQmlnTnVtYmVyIHdpdGggdmFsdWUgemVyb1xuICAgICAgOiAwO1xuICAgIH0gLy8gZW1wdHkgYXJyYXlcblxuXG4gICAgdmFyIGRhdGEgPSBbXTsgLy8gY2hlY2sgd2UgbmVlZCB0byByZXNpemUgYXJyYXlcblxuICAgIGlmIChzaXplLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHJlc2l6ZSBhcnJheVxuICAgICAgZGF0YSA9IHJlc2l6ZShkYXRhLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBmaWxsIGRpYWdvbmFsXG5cbiAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgbjsgZCsrKSB7XG4gICAgICAgIGRhdGFbZCArIGtTdWJdW2QgKyBrU3VwZXJdID0gX3ZhbHVlKGQpO1xuICAgICAgfVxuICAgIH0gLy8gY3JlYXRlIERlbnNlTWF0cml4XG5cblxuICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogR2VuZXJhdGUgYSBtYXRyaXggZnJvbSBhIEpTT04gb2JqZWN0XG4gICAqIEBtZW1iZXJvZiBEZW5zZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkRlbnNlTWF0cml4XCIsIGRhdGE6IFtdLCBzaXplOiBbXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtEZW5zZU1hdHJpeH1cbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIE1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlbnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpICAgICAgIE1hdHJpeCByb3cgaW5kZXggMVxuICAgKiBAcGFyYW0ge251bWJlcn0gaiAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgVGhlIG1hdHJpeCByZWZlcmVuY2VcbiAgICovXG5cblxuICBEZW5zZU1hdHJpeC5wcm90b3R5cGUuc3dhcFJvd3MgPSBmdW5jdGlvbiAoaSwgaikge1xuICAgIC8vIGNoZWNrIGluZGV4XG4gICAgaWYgKCFpc051bWJlcihpKSB8fCAhaXNJbnRlZ2VyKGkpIHx8ICFpc051bWJlcihqKSB8fCAhaXNJbnRlZ2VyKGopKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JvdyBpbmRleCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfSAvLyBjaGVjayBkaW1lbnNpb25zXG5cblxuICAgIGlmICh0aGlzLl9zaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHR3byBkaW1lbnNpb25hbCBtYXRyaXggaXMgc3VwcG9ydGVkJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbmRleFxuXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVswXSk7IC8vIHN3YXAgcm93c1xuXG4gICAgRGVuc2VNYXRyaXguX3N3YXBSb3dzKGksIGosIHRoaXMuX2RhdGEpOyAvLyByZXR1cm4gY3VycmVudCBpbnN0YW5jZVxuXG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIERlbnNlIE1hdHJpeCBkYXRhIHN0cnVjdHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgICAgICAgTWF0cml4IHJvdyBpbmRleCAxXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBqICAgICAgIE1hdHJpeCByb3cgaW5kZXggMlxuICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhICAgICBNYXRyaXggZGF0YVxuICAgKi9cblxuXG4gIERlbnNlTWF0cml4Ll9zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqLCBkYXRhKSB7XG4gICAgLy8gc3dhcCB2YWx1ZXMgaSA8LT4galxuICAgIHZhciB2aSA9IGRhdGFbaV07XG4gICAgZGF0YVtpXSA9IGRhdGFbal07XG4gICAgZGF0YVtqXSA9IHZpO1xuICB9O1xuICAvKipcbiAgICogUHJlcHJvY2VzcyBkYXRhLCB3aGljaCBjYW4gYmUgYW4gQXJyYXkgb3IgRGVuc2VNYXRyaXggd2l0aCBuZXN0ZWQgQXJyYXlzIGFuZFxuICAgKiBNYXRyaWNlcy4gUmVwbGFjZXMgYWxsIG5lc3RlZCBNYXRyaWNlcyB3aXRoIEFycmF5c1xuICAgKiBAbWVtYmVyb2YgRGVuc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcmV0dXJuIHtBcnJheX0gZGF0YVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHByZXByb2Nlc3MoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGVsZW0gPSBkYXRhW2ldO1xuXG4gICAgICBpZiAoaXNBcnJheShlbGVtKSkge1xuICAgICAgICBkYXRhW2ldID0gcHJlcHJvY2VzcyhlbGVtKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbSAmJiBlbGVtLmlzTWF0cml4ID09PSB0cnVlKSB7XG4gICAgICAgIGRhdGFbaV0gPSBwcmVwcm9jZXNzKGVsZW0udmFsdWVPZigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHJldHVybiBEZW5zZU1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNDb2xsZWN0aW9uLCBpc01hdHJpeCB9IGZyb20gJy4vaXMuanMnO1xuaW1wb3J0IHsgSW5kZXhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0luZGV4RXJyb3IuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi9hcnJheS5qcyc7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBhcnJheSBjb250YWlucyBjb2xsZWN0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgYXJyYXkgY29udGFpbnMgb25lIG9yIG11bHRpcGxlXG4gKiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnMgKEFycmF5cyBvciBNYXRyaWNlcykuIFJldHVybnMgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0NvbGxlY3Rpb25zKGFycmF5KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNDb2xsZWN0aW9uKGFycmF5W2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBSZWN1cnNpdmVseSBsb29wIG92ZXIgYWxsIGVsZW1lbnRzIGluIGEgZ2l2ZW4gbXVsdGkgZGltZW5zaW9uYWwgYXJyYXlcbiAqIGFuZCBpbnZva2UgdGhlIGNhbGxiYWNrIG9uIGVhY2ggb2YgdGhlIGVsZW1lbnRzLlxuICogQHBhcmFtIHtBcnJheSB8IE1hdHJpeH0gYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICBUaGUgY2FsbGJhY2sgbWV0aG9kIGlzIGludm9rZWQgd2l0aCBvbmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXI6IHRoZSBjdXJyZW50IGVsZW1lbnQgaW4gdGhlIGFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBGb3JFYWNoKGFycmF5LCBjYWxsYmFjaykge1xuICBpZiAoaXNNYXRyaXgoYXJyYXkpKSB7XG4gICAgYXJyYXkgPSBhcnJheS52YWx1ZU9mKCk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGRlZXBGb3JFYWNoKHZhbHVlLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRXhlY3V0ZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZWxlbWVudCB3aXNlIGZvciBlYWNoIGVsZW1lbnQgaW4gYXJyYXkgYW5kIGFueVxuICogbmVzdGVkIGFycmF5XG4gKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCB0d28gcGFyYW1ldGVyczpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUxIGFuZCB2YWx1ZTIsIHdoaWNoIGNvbnRhaW4gdGhlIGN1cnJlbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBvZiBib3RoIGFycmF5cy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheSB8IE1hdHJpeH0gcmVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBNYXAoYXJyYXksIGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgaWYgKGFycmF5ICYmIHR5cGVvZiBhcnJheS5tYXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUT0RPOiByZXBsYWNlIGFycmF5Lm1hcCB3aXRoIGEgZm9yIGxvb3AgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxuICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIGNhbGxiYWNrLCBza2lwWmVyb3MpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjYWxsYmFjayhhcnJheSk7XG4gIH1cbn1cbi8qKlxuICogUmVkdWNlIGEgZ2l2ZW4gbWF0cml4IG9yIGFycmF5IHRvIGEgbmV3IG1hdHJpeCBvclxuICogYXJyYXkgd2l0aCBvbmUgbGVzcyBkaW1lbnNpb24sIGFwcGx5aW5nIHRoZSBnaXZlblxuICogY2FsbGJhY2sgaW4gdGhlIHNlbGVjdGVkIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IG1hdFxuICogQHBhcmFtIHtudW1iZXJ9IGRpbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjaykge1xuICB2YXIgc2l6ZSA9IEFycmF5LmlzQXJyYXkobWF0KSA/IGFycmF5U2l6ZShtYXQpIDogbWF0LnNpemUoKTtcblxuICBpZiAoZGltIDwgMCB8fCBkaW0gPj0gc2l6ZS5sZW5ndGgpIHtcbiAgICAvLyBUT0RPOiB3b3VsZCBiZSBtb3JlIGNsZWFyIHdoZW4gdGhyb3dpbmcgYSBEaW1lbnNpb25FcnJvciBoZXJlXG4gICAgdGhyb3cgbmV3IEluZGV4RXJyb3IoZGltLCBzaXplLmxlbmd0aCk7XG4gIH1cblxuICBpZiAoaXNNYXRyaXgobWF0KSkge1xuICAgIHJldHVybiBtYXQuY3JlYXRlKF9yZWR1Y2UobWF0LnZhbHVlT2YoKSwgZGltLCBjYWxsYmFjaykpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjayk7XG4gIH1cbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVkdWNlIGEgbWF0cml4XG4gKiBAcGFyYW0ge0FycmF5fSBtYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaW1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldFxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcmVkdWNlKG1hdCwgZGltLCBjYWxsYmFjaykge1xuICB2YXIgaSwgcmV0LCB2YWwsIHRyYW47XG5cbiAgaWYgKGRpbSA8PSAwKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1hdFswXSkpIHtcbiAgICAgIHZhbCA9IG1hdFswXTtcblxuICAgICAgZm9yIChpID0gMTsgaSA8IG1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWwgPSBjYWxsYmFjayh2YWwsIG1hdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW4gPSBfc3dpdGNoKG1hdCk7XG4gICAgICByZXQgPSBbXTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRyYW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmV0W2ldID0gX3JlZHVjZSh0cmFuW2ldLCBkaW0gLSAxLCBjYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldID0gX3JlZHVjZShtYXRbaV0sIGRpbSAtIDEsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG59XG4vKipcbiAqIFRyYW5zcG9zZSBhIG1hdHJpeFxuICogQHBhcmFtIHtBcnJheX0gbWF0XG4gKiBAcmV0dXJucyB7QXJyYXl9IHJldFxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIF9zd2l0Y2gobWF0KSB7XG4gIHZhciBJID0gbWF0Lmxlbmd0aDtcbiAgdmFyIEogPSBtYXRbMF0ubGVuZ3RoO1xuICB2YXIgaSwgajtcbiAgdmFyIHJldCA9IFtdO1xuXG4gIGZvciAoaiA9IDA7IGogPCBKOyBqKyspIHtcbiAgICB2YXIgdG1wID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgSTsgaSsrKSB7XG4gICAgICB0bXAucHVzaChtYXRbaV1bal0pO1xuICAgIH1cblxuICAgIHJldC5wdXNoKHRtcCk7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufSAvLyBUT0RPOiBkb2N1bWVudCBmdW5jdGlvbiBzY2F0dGVyXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYXR0ZXIoYSwgaiwgdywgeCwgdSwgbWFyaywgY2luZGV4LCBmLCBpbnZlcnNlLCB1cGRhdGUsIHZhbHVlKSB7XG4gIC8vIGEgYXJyYXlzXG4gIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICB2YXIgYWluZGV4ID0gYS5faW5kZXg7XG4gIHZhciBhcHRyID0gYS5fcHRyOyAvLyB2YXJzXG5cbiAgdmFyIGssIGswLCBrMSwgaTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlcyAocGF0dGVybiBtYXRyaXgpXG5cbiAgaWYgKHgpIHtcbiAgICAvLyB2YWx1ZXMgaW4galxuICAgIGZvciAoazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIGkgPSBhaW5kZXhba107IC8vIGNoZWNrIHZhbHVlIGV4aXN0cyBpbiBjdXJyZW50IGpcblxuICAgICAgaWYgKHdbaV0gIT09IG1hcmspIHtcbiAgICAgICAgLy8gaSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICB3W2ldID0gbWFyazsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHgoaSkgPSBBLCBjaGVjayB3ZSBuZWVkIHRvIGNhbGwgZnVuY3Rpb24gdGhpcyB0aW1lXG5cbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgIC8vIGNvcHkgdmFsdWUgdG8gd29ya3NwYWNlIGNhbGxpbmcgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGYoYXZhbHVlc1trXSwgdmFsdWUpIDogZih2YWx1ZSwgYXZhbHVlc1trXSk7IC8vIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcblxuICAgICAgICAgIHVbaV0gPSBtYXJrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvcHkgdmFsdWUgdG8gd29ya3NwYWNlXG4gICAgICAgICAgeFtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGYoYXZhbHVlc1trXSwgeFtpXSkgOiBmKHhbaV0sIGF2YWx1ZXNba10pOyAvLyBmdW5jdGlvbiB3YXMgY2FsbGVkIG9uIGN1cnJlbnQgcm93XG5cbiAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHZhbHVlcyBpbiBqXG4gICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgIC8vIHJvd1xuICAgICAgaSA9IGFpbmRleFtrXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICBpZiAod1tpXSAhPT0gbWFyaykge1xuICAgICAgICAvLyBpIGlzIG5ldyBlbnRyeSBpbiBqXG4gICAgICAgIHdbaV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluZGljYXRlIGZ1bmN0aW9uIHdhcyBjYWxsZWQgb24gY3VycmVudCByb3dcbiAgICAgICAgdVtpXSA9IG1hcms7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgaXNJbnRlZ2VyLCBsb2cyLCBsb2cxMCwgY2JydCwgZXhwbTEsIHNpZ24sIHRvRml4ZWQsIGxvZzFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbnZhciBuMSA9ICdudW1iZXInO1xudmFyIG4yID0gJ251bWJlciwgbnVtYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBhYnNOdW1iZXIoYSkge1xuICByZXR1cm4gTWF0aC5hYnMoYSk7XG59XG5hYnNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gYWRkTnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgKyBiO1xufVxuYWRkTnVtYmVyLnNpZ25hdHVyZSA9IG4yO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0TnVtYmVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuc3VidHJhY3ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlOdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAqIGI7XG59XG5tdWx0aXBseU51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVOdW1iZXIoYSwgYikge1xuICByZXR1cm4gYSAvIGI7XG59XG5kaXZpZGVOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG5leHBvcnQgZnVuY3Rpb24gdW5hcnlNaW51c051bWJlcih4KSB7XG4gIHJldHVybiAteDtcbn1cbnVuYXJ5TWludXNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gdW5hcnlQbHVzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHg7XG59XG51bmFyeVBsdXNOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY2JydE51bWJlcih4KSB7XG4gIHJldHVybiBjYnJ0KHgpO1xufVxuY2JydE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBjZWlsTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguY2VpbCh4KTtcbn1cbmNlaWxOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gY3ViZU51bWJlcih4KSB7XG4gIHJldHVybiB4ICogeCAqIHg7XG59XG5jdWJlTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cE51bWJlcih4KSB7XG4gIHJldHVybiBNYXRoLmV4cCh4KTtcbn1cbmV4cE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBleHBtMU51bWJlcih4KSB7XG4gIHJldHVybiBleHBtMSh4KTtcbn1cbmV4cG0xTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIGZpeE51bWJlcih4KSB7XG4gIHJldHVybiB4ID4gMCA/IE1hdGguZmxvb3IoeCkgOiBNYXRoLmNlaWwoeCk7XG59XG5maXhOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG5leHBvcnQgZnVuY3Rpb24gZmxvb3JOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbn1cbmZsb29yTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgZ2NkIGZvciBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGdyZWF0ZXN0IGNvbW1vbiBkZW5vbWluYXRvciBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdjZE51bWJlcihhLCBiKSB7XG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gZ2NkIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH0gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVjbGlkZWFuX2FsZ29yaXRobVxuXG5cbiAgdmFyIHI7XG5cbiAgd2hpbGUgKGIgIT09IDApIHtcbiAgICByID0gYSAlIGI7XG4gICAgYSA9IGI7XG4gICAgYiA9IHI7XG4gIH1cblxuICByZXR1cm4gYSA8IDAgPyAtYSA6IGE7XG59XG5nY2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSBsY20gZm9yIHR3byBudW1iZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGxlYXN0IGNvbW1vbiBtdWx0aXBsZSBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxjbU51bWJlcihhLCBiKSB7XG4gIGlmICghaXNJbnRlZ2VyKGEpIHx8ICFpc0ludGVnZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlcnMgaW4gZnVuY3Rpb24gbGNtIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH1cblxuICBpZiAoYSA9PT0gMCB8fCBiID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXVjbGlkZWFuX2FsZ29yaXRobVxuICAvLyBldmFsdWF0ZSBsY20gaGVyZSBpbmxpbmUgdG8gcmVkdWNlIG92ZXJoZWFkXG5cblxuICB2YXIgdDtcbiAgdmFyIHByb2QgPSBhICogYjtcblxuICB3aGlsZSAoYiAhPT0gMCkge1xuICAgIHQgPSBiO1xuICAgIGIgPSBhICUgdDtcbiAgICBhID0gdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmFicyhwcm9kIC8gYSk7XG59XG5sY21OdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbG9nYXJpdGhtIG9mIGEgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dOdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5sb2coeCk7XG59XG5sb2dOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgMTAtYmFzZSBsb2dhcml0aG0gb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZzEwTnVtYmVyKHgpIHtcbiAgcmV0dXJuIGxvZzEwKHgpO1xufVxubG9nMTBOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgMi1iYXNlIGxvZ2FyaXRobSBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nMk51bWJlcih4KSB7XG4gIHJldHVybiBsb2cyKHgpO1xufVxubG9nMk51bWJlci5zaWduYXR1cmUgPSBuMTtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIGBudW1iZXIrMWBcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cxcE51bWJlcih4KSB7XG4gIHJldHVybiBsb2cxcCh4KTtcbn1cbmxvZzFwTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG1vZHVsdXMgb2YgdHdvIG51bWJlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHJldHVybnMge251bWJlcn0gcmVzXG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtb2ROdW1iZXIoeCwgeSkge1xuICBpZiAoeSA+IDApIHtcbiAgICAvLyBXZSBkb24ndCB1c2UgSmF2YVNjcmlwdCdzICUgb3BlcmF0b3IgaGVyZSBhcyB0aGlzIGRvZXNuJ3Qgd29ya1xuICAgIC8vIGNvcnJlY3RseSBmb3IgeCA8IDAgYW5kIHggPT09IDBcbiAgICAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW9kdWxvX29wZXJhdGlvblxuICAgIHJldHVybiB4IC0geSAqIE1hdGguZmxvb3IoeCAvIHkpO1xuICB9IGVsc2UgaWYgKHkgPT09IDApIHtcbiAgICByZXR1cm4geDtcbiAgfSBlbHNlIHtcbiAgICAvLyB5IDwgMFxuICAgIC8vIFRPRE86IGltcGxlbWVudCBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvclxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBtb2QgZm9yIGEgbmVnYXRpdmUgZGl2aXNvcicpO1xuICB9XG59XG5tb2ROdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbnRoIHJvb3Qgb2YgYSwgc29sdmUgeF5yb290ID09IGFcbiAqIGh0dHA6Ly9yb3NldHRhY29kZS5vcmcvd2lraS9OdGhfcm9vdCNKYXZhU2NyaXB0XG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHBhcmFtIHtudW1iZXJ9IHJvb3RcbiAqIEBwcml2YXRlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG50aFJvb3ROdW1iZXIoYSwgcm9vdCkge1xuICB2YXIgaW52ID0gcm9vdCA8IDA7XG5cbiAgaWYgKGludikge1xuICAgIHJvb3QgPSAtcm9vdDtcbiAgfVxuXG4gIGlmIChyb290ID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb290IG11c3QgYmUgbm9uLXplcm8nKTtcbiAgfVxuXG4gIGlmIChhIDwgMCAmJiBNYXRoLmFicyhyb290KSAlIDIgIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jvb3QgbXVzdCBiZSBvZGQgd2hlbiBhIGlzIG5lZ2F0aXZlLicpO1xuICB9IC8vIGVkZ2UgY2FzZXMgemVybyBhbmQgaW5maW5pdHlcblxuXG4gIGlmIChhID09PSAwKSB7XG4gICAgcmV0dXJuIGludiA/IEluZmluaXR5IDogMDtcbiAgfVxuXG4gIGlmICghaXNGaW5pdGUoYSkpIHtcbiAgICByZXR1cm4gaW52ID8gMCA6IGE7XG4gIH1cblxuICB2YXIgeCA9IE1hdGgucG93KE1hdGguYWJzKGEpLCAxIC8gcm9vdCk7IC8vIElmIGEgPCAwLCB3ZSByZXF1aXJlIHRoYXQgcm9vdCBpcyBhbiBvZGQgaW50ZWdlcixcbiAgLy8gc28gKC0xKSBeICgxL3Jvb3QpID0gLTFcblxuICB4ID0gYSA8IDAgPyAteCA6IHg7XG4gIHJldHVybiBpbnYgPyAxIC8geCA6IHg7IC8vIFZlcnkgbmljZSBhbGdvcml0aG0sIGJ1dCBmYWlscyB3aXRoIG50aFJvb3QoLTIsIDMpLlxuICAvLyBOZXd0b24ncyBtZXRob2QgaGFzIHNvbWUgd2VsbC1rbm93biBwcm9ibGVtcyBhdCB0aW1lczpcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTmV3dG9uJTI3c19tZXRob2QjRmFpbHVyZV9hbmFseXNpc1xuXG4gIC8qXG4gIGxldCB4ID0gMSAvLyBJbml0aWFsIGd1ZXNzXG4gIGxldCB4UHJldiA9IDFcbiAgbGV0IGkgPSAwXG4gIGNvbnN0IGlNYXggPSAxMDAwMFxuICBkbyB7XG4gICAgY29uc3QgZGVsdGEgPSAoYSAvIE1hdGgucG93KHgsIHJvb3QgLSAxKSAtIHgpIC8gcm9vdFxuICAgIHhQcmV2ID0geFxuICAgIHggPSB4ICsgZGVsdGFcbiAgICBpKytcbiAgfVxuICB3aGlsZSAoeFByZXYgIT09IHggJiYgaSA8IGlNYXgpXG4gICBpZiAoeFByZXYgIT09IHgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIG50aFJvb3QgZmFpbGVkIHRvIGNvbnZlcmdlJylcbiAgfVxuICAgcmV0dXJuIGludiA/IDEgLyB4IDogeFxuICAqL1xufVxubnRoUm9vdE51bWJlci5zaWduYXR1cmUgPSBuMjtcbmV4cG9ydCBmdW5jdGlvbiBzaWduTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHNpZ24oeCk7XG59XG5zaWduTnVtYmVyLnNpZ25hdHVyZSA9IG4xO1xuZXhwb3J0IGZ1bmN0aW9uIHNxcnROdW1iZXIoeCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KHgpO1xufVxuc3FydE51bWJlci5zaWduYXR1cmUgPSBuMTtcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVOdW1iZXIoeCkge1xuICByZXR1cm4geCAqIHg7XG59XG5zcXVhcmVOdW1iZXIuc2lnbmF0dXJlID0gbjE7XG4vKipcbiAqIENhbGN1bGF0ZSB4Z2NkIGZvciB0d28gbnVtYmVyc1xuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc3VsdFxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24geGdjZE51bWJlcihhLCBiKSB7XG4gIC8vIHNvdXJjZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXh0ZW5kZWRfRXVjbGlkZWFuX2FsZ29yaXRobVxuICB2YXIgdDsgLy8gdXNlZCB0byBzd2FwIHR3byB2YXJpYWJsZXNcblxuICB2YXIgcTsgLy8gcXVvdGllbnRcblxuICB2YXIgcjsgLy8gcmVtYWluZGVyXG5cbiAgdmFyIHggPSAwO1xuICB2YXIgbGFzdHggPSAxO1xuICB2YXIgeSA9IDE7XG4gIHZhciBsYXN0eSA9IDA7XG5cbiAgaWYgKCFpc0ludGVnZXIoYSkgfHwgIWlzSW50ZWdlcihiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiB4Z2NkIG11c3QgYmUgaW50ZWdlciBudW1iZXJzJyk7XG4gIH1cblxuICB3aGlsZSAoYikge1xuICAgIHEgPSBNYXRoLmZsb29yKGEgLyBiKTtcbiAgICByID0gYSAtIHEgKiBiO1xuICAgIHQgPSB4O1xuICAgIHggPSBsYXN0eCAtIHEgKiB4O1xuICAgIGxhc3R4ID0gdDtcbiAgICB0ID0geTtcbiAgICB5ID0gbGFzdHkgLSBxICogeTtcbiAgICBsYXN0eSA9IHQ7XG4gICAgYSA9IGI7XG4gICAgYiA9IHI7XG4gIH1cblxuICB2YXIgcmVzO1xuXG4gIGlmIChhIDwgMCkge1xuICAgIHJlcyA9IFstYSwgLWxhc3R4LCAtbGFzdHldO1xuICB9IGVsc2Uge1xuICAgIHJlcyA9IFthLCBhID8gbGFzdHggOiAwLCBsYXN0eV07XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxueGdjZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCB4XnksIGZvciB0d28gbnVtYmVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHJldHVybiB7bnVtYmVyfSByZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcG93TnVtYmVyKHgsIHkpIHtcbiAgLy8geF5JbmZpbml0eSA9PT0gMCBpZiAtMSA8IHggPCAxXG4gIC8vIEEgcmVhbCBudW1iZXIgMCBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGNvbXBsZXgoMClcbiAgaWYgKHggKiB4IDwgMSAmJiB5ID09PSBJbmZpbml0eSB8fCB4ICogeCA+IDEgJiYgeSA9PT0gLUluZmluaXR5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gTWF0aC5wb3coeCwgeSk7XG59XG5wb3dOdW1iZXIuc2lnbmF0dXJlID0gbjI7XG4vKipcbiAqIHJvdW5kIGEgbnVtYmVyIHRvIHRoZSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbHMsIG9yIHRvIHplcm8gaWYgZGVjaW1hbHMgaXNcbiAqIG5vdCBwcm92aWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgICAgICAgbnVtYmVyIG9mIGRlY2ltYWxzLCBiZXR3ZWVuIDAgYW5kIDE1ICgwIGJ5IGRlZmF1bHQpXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJvdW5kZWRWYWx1ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZE51bWJlcih2YWx1ZSkge1xuICB2YXIgZGVjaW1hbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIHJldHVybiBwYXJzZUZsb2F0KHRvRml4ZWQodmFsdWUsIGRlY2ltYWxzKSk7XG59XG5yb3VuZE51bWJlci5zaWduYXR1cmUgPSBuMjtcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBub3JtIG9mIGEgbnVtYmVyLCB0aGUgYWJzb2x1dGUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtTnVtYmVyKHgpIHtcbiAgcmV0dXJuIE1hdGguYWJzKHgpO1xufVxubm9ybU51bWJlci5zaWduYXR1cmUgPSBuMTsiLCJpbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdpc051bWVyaWMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlSXNOdW1lcmljID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIGFuIG51bWVyaWMgdmFsdWUuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudC13aXNlIGluIGNhc2Ugb2YgQXJyYXkgb3IgTWF0cml4IGlucHV0LlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmlzTnVtZXJpYyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5pc051bWVyaWMoMikgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICogICAgbWF0aC5pc051bWVyaWMoJzInKSAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqICAgIG1hdGguaGFzTnVtZXJpY1ZhbHVlKCcyJykgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKDApICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguYmlnbnVtYmVyKDUwMCkpICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguZnJhY3Rpb24oNCkpICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqICAgIG1hdGguaXNOdW1lcmljKG1hdGguY29tcGxleCgnMi00aScpICAgLy8gcmV0dXJucyBmYWxzZVxuICAgKiAgICBtYXRoLmlzTnVtZXJpYyhbMi4zLCAnZm9vJywgZmFsc2VdKSAgIC8vIHJldHVybnMgW3RydWUsIGZhbHNlLCB0cnVlXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgaXNaZXJvLCBpc1Bvc2l0aXZlLCBpc05lZ2F0aXZlLCBpc0ludGVnZXIsIGhhc051bWVyaWNWYWx1ZVxuICAgKlxuICAgKiBAcGFyYW0geyp9IHggICAgICAgVmFsdWUgdG8gYmUgdGVzdGVkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICBSZXR1cm5zIHRydWUgd2hlbiBgeGAgaXMgYSBgbnVtYmVyYCwgYEJpZ051bWJlcmAsXG4gICAqICAgICAgICAgICAgICAgICAgICBgRnJhY3Rpb25gLCBvciBgYm9vbGVhbmAuIFJldHVybnMgZmFsc2UgZm9yIG90aGVyIHR5cGVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgVGhyb3dzIGFuIGVycm9yIGluIGNhc2Ugb2YgdW5rbm93biB0eXBlcy5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlckZyYWN0aW9uQm9vbGVhbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgJ0NvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCB8IE5vZGUnOiBmdW5jdGlvbiBDb21wbGV4VW5pdFN0cmluZ051bGxVbmRlZmluZWROb2RlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8qKlxuICogQ29tcGFyZXMgdHdvIEJpZ051bWJlcnMuXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0geCAgICAgICBGaXJzdCB2YWx1ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0JpZ051bWJlcn0geSAgICAgICBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtlcHNpbG9uXSAgVGhlIG1heGltdW0gcmVsYXRpdmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGVwc2lsb24gaXMgdW5kZWZpbmVkIG9yIG51bGwsIHRoZSBmdW5jdGlvbiB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0IHdoZXRoZXIgeCBhbmQgeSBhcmUgZXhhY3RseSBlcXVhbC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhlIHR3byBudW1iZXJzIGFyZSBuZWFybHkgZXF1YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lYXJseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgLy8gaWYgZXBzaWxvbiBpcyBudWxsIG9yIHVuZGVmaW5lZCwgdGVzdCB3aGV0aGVyIHggYW5kIHkgYXJlIGV4YWN0bHkgZXF1YWxcbiAgaWYgKGVwc2lsb24gPT09IG51bGwgfHwgZXBzaWxvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHguZXEoeSk7XG4gIH0gLy8gdXNlIFwiPT1cIiBvcGVyYXRvciwgaGFuZGxlcyBpbmZpbml0aWVzXG5cblxuICBpZiAoeC5lcSh5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5hTlxuXG5cbiAgaWYgKHguaXNOYU4oKSB8fCB5LmlzTmFOKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXQgdGhpcyBwb2ludCB4IGFuZCB5IHNob3VsZCBiZSBmaW5pdGVcblxuXG4gIGlmICh4LmlzRmluaXRlKCkgJiYgeS5pc0Zpbml0ZSgpKSB7XG4gICAgLy8gY2hlY2sgbnVtYmVycyBhcmUgdmVyeSBjbG9zZSwgbmVlZGVkIHdoZW4gY29tcGFyaW5nIG51bWJlcnMgbmVhciB6ZXJvXG4gICAgdmFyIGRpZmYgPSB4Lm1pbnVzKHkpLmFicygpO1xuXG4gICAgaWYgKGRpZmYuaXNaZXJvKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgcmVsYXRpdmUgZXJyb3JcbiAgICAgIHZhciBtYXggPSB4LmNvbnN0cnVjdG9yLm1heCh4LmFicygpLCB5LmFicygpKTtcbiAgICAgIHJldHVybiBkaWZmLmx0ZShtYXgudGltZXMoZXBzaWxvbikpO1xuICAgIH1cbiAgfSAvLyBJbmZpbml0ZSBhbmQgTnVtYmVyIG9yIG5lZ2F0aXZlIEluZmluaXRlIGFuZCBwb3NpdGl2ZSBJbmZpbml0ZSBjYXNlc1xuXG5cbiAgcmV0dXJuIGZhbHNlO1xufSIsImltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNvbXBsZXhFcXVhbHMgfSBmcm9tICcuLi8uLi91dGlscy9jb21wbGV4LmpzJztcbnZhciBuYW1lID0gJ2VxdWFsU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZyddO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbFNjYWxhciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byBzY2FsYXIgdmFsdWVzIGFyZSBuZWFybHkgZXF1YWwuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBlcXVhbCwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdib29sZWFuLCBib29sZWFuJzogZnVuY3Rpb24gYm9vbGVhbkJvb2xlYW4oeCwgeSkge1xuICAgICAgcmV0dXJuIHggPT09IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIG5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5lcSh5KSB8fCBiaWdOZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5lcXVhbHMoeSk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgQ29tcGxleCc6IGZ1bmN0aW9uIENvbXBsZXhDb21wbGV4KHgsIHkpIHtcbiAgICAgIHJldHVybiBjb21wbGV4RXF1YWxzKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbFNjYWxhck51bWJlciA9IGZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIG5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuL251bWJlci5qcyc7XG4vKipcbiAqIFRlc3Qgd2hldGhlciB0d28gY29tcGxleCB2YWx1ZXMgYXJlIGVxdWFsIHByb3ZpZGVkIGEgZ2l2ZW4gZXBzaWxvbi5cbiAqIERvZXMgbm90IHVzZSBvciBjaGFuZ2UgdGhlIGdsb2JhbCBDb21wbGV4LkVQU0lMT04gc2V0dGluZ1xuICogQHBhcmFtIHtDb21wbGV4fSB4XG4gKiBAcGFyYW0ge0NvbXBsZXh9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBlcHNpbG9uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcGxleEVxdWFscyh4LCB5LCBlcHNpbG9uKSB7XG4gIHJldHVybiBuZWFybHlFcXVhbCh4LnJlLCB5LnJlLCBlcHNpbG9uKSAmJiBuZWFybHlFcXVhbCh4LmltLCB5LmltLCBlcHNpbG9uKTtcbn0iLCJpbXBvcnQgeyBpc0FycmF5LCBpc0JpZ051bWJlciwgaXNDb2xsZWN0aW9uLCBpc0luZGV4LCBpc01hdHJpeCwgaXNOdW1iZXIsIGlzU3RyaW5nLCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGNsb25lLCBkZWVwU3RyaWN0RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplLCBnZXRBcnJheURhdGFUeXBlLCB1bnNxdWVlemUsIHZhbGlkYXRlSW5kZXggfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ1NwYXJzZU1hdHJpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdlcXVhbFNjYWxhcicsICdNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3BhcnNlTWF0cml4Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFNwYXJzZSBNYXRyaXggaW1wbGVtZW50YXRpb24uIFRoaXMgdHlwZSBpbXBsZW1lbnRzIGEgQ29tcHJlc3NlZCBDb2x1bW4gU3RvcmFnZSBmb3JtYXRcbiAgICogZm9yIHNwYXJzZSBtYXRyaWNlcy5cbiAgICogQGNsYXNzIFNwYXJzZU1hdHJpeFxuICAgKi9cbiAgZnVuY3Rpb24gU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwYXJzZU1hdHJpeCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGF0eXBlICYmICFpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhdHlwZTogJyArIGRhdGF0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXRyaXgoZGF0YSkpIHtcbiAgICAgIC8vIGNyZWF0ZSBmcm9tIG1hdHJpeFxuICAgICAgX2NyZWF0ZUZyb21NYXRyaXgodGhpcywgZGF0YSwgZGF0YXR5cGUpO1xuICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBpc0FycmF5KGRhdGEuaW5kZXgpICYmIGlzQXJyYXkoZGF0YS5wdHIpICYmIGlzQXJyYXkoZGF0YS5zaXplKSkge1xuICAgICAgLy8gaW5pdGlhbGl6ZSBmaWVsZHNcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IGRhdGEudmFsdWVzO1xuICAgICAgdGhpcy5faW5kZXggPSBkYXRhLmluZGV4O1xuICAgICAgdGhpcy5fcHRyID0gZGF0YS5wdHI7XG4gICAgICB0aGlzLl9zaXplID0gZGF0YS5zaXplO1xuICAgICAgdGhpcy5fZGF0YXR5cGUgPSBkYXRhdHlwZSB8fCBkYXRhLmRhdGF0eXBlO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShkYXRhKSkge1xuICAgICAgLy8gY3JlYXRlIGZyb20gYXJyYXlcbiAgICAgIF9jcmVhdGVGcm9tQXJyYXkodGhpcywgZGF0YSwgZGF0YXR5cGUpO1xuICAgIH0gZWxzZSBpZiAoZGF0YSkge1xuICAgICAgLy8gdW5zdXBwb3J0ZWQgdHlwZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBkYXRhICgnICsgdHlwZU9mKGRhdGEpICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm90aGluZyBwcm92aWRlZFxuICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICB0aGlzLl9pbmRleCA9IFtdO1xuICAgICAgdGhpcy5fcHRyID0gWzBdO1xuICAgICAgdGhpcy5fc2l6ZSA9IFswLCAwXTtcbiAgICAgIHRoaXMuX2RhdGF0eXBlID0gZGF0YXR5cGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZyb21NYXRyaXgobWF0cml4LCBzb3VyY2UsIGRhdGF0eXBlKSB7XG4gICAgLy8gY2hlY2sgbWF0cml4IHR5cGVcbiAgICBpZiAoc291cmNlLnR5cGUgPT09ICdTcGFyc2VNYXRyaXgnKSB7XG4gICAgICAvLyBjbG9uZSBhcnJheXNcbiAgICAgIG1hdHJpeC5fdmFsdWVzID0gc291cmNlLl92YWx1ZXMgPyBjbG9uZShzb3VyY2UuX3ZhbHVlcykgOiB1bmRlZmluZWQ7XG4gICAgICBtYXRyaXguX2luZGV4ID0gY2xvbmUoc291cmNlLl9pbmRleCk7XG4gICAgICBtYXRyaXguX3B0ciA9IGNsb25lKHNvdXJjZS5fcHRyKTtcbiAgICAgIG1hdHJpeC5fc2l6ZSA9IGNsb25lKHNvdXJjZS5fc2l6ZSk7XG4gICAgICBtYXRyaXguX2RhdGF0eXBlID0gZGF0YXR5cGUgfHwgc291cmNlLl9kYXRhdHlwZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYnVpbGQgZnJvbSBtYXRyaXggZGF0YVxuICAgICAgX2NyZWF0ZUZyb21BcnJheShtYXRyaXgsIHNvdXJjZS52YWx1ZU9mKCksIGRhdGF0eXBlIHx8IHNvdXJjZS5fZGF0YXR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGcm9tQXJyYXkobWF0cml4LCBkYXRhLCBkYXRhdHlwZSkge1xuICAgIC8vIGluaXRpYWxpemUgZmllbGRzXG4gICAgbWF0cml4Ll92YWx1ZXMgPSBbXTtcbiAgICBtYXRyaXguX2luZGV4ID0gW107XG4gICAgbWF0cml4Ll9wdHIgPSBbXTtcbiAgICBtYXRyaXguX2RhdGF0eXBlID0gZGF0YXR5cGU7IC8vIGRpc2NvdmVyIHJvd3MgJiBjb2x1bW5zLCBkbyBub3QgdXNlIG1hdGguc2l6ZSgpIHRvIGF2b2lkIGxvb3BpbmcgYXJyYXkgdHdpY2VcblxuICAgIHZhciByb3dzID0gZGF0YS5sZW5ndGg7XG4gICAgdmFyIGNvbHVtbnMgPSAwOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKGRhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkYXRhdHlwZSwgZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGRhdGF0eXBlKTtcbiAgICB9IC8vIGNoZWNrIHdlIGhhdmUgcm93cyAoZW1wdHkgYXJyYXkpXG5cblxuICAgIGlmIChyb3dzID4gMCkge1xuICAgICAgLy8gY29sdW1uIGluZGV4XG4gICAgICB2YXIgaiA9IDA7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgLy8gc3RvcmUgcG9pbnRlciB0byB2YWx1ZXMgaW5kZXhcbiAgICAgICAgbWF0cml4Ll9wdHIucHVzaChtYXRyaXguX2luZGV4Lmxlbmd0aCk7IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBjdXJyZW50IHJvd1xuICAgICAgICAgIHZhciByb3cgPSBkYXRhW2ldOyAvLyBjaGVjayByb3cgaXMgYW4gYXJyYXlcblxuICAgICAgICAgIGlmIChpc0FycmF5KHJvdykpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb2x1bW5zIGlmIG5lZWRlZCAob25seSBvbiBmaXJzdCBjb2x1bW4pXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCAmJiBjb2x1bW5zIDwgcm93Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBjb2x1bW5zID0gcm93Lmxlbmd0aDtcbiAgICAgICAgICAgIH0gLy8gY2hlY2sgcm93IGhhcyBjb2x1bW5cblxuXG4gICAgICAgICAgICBpZiAoaiA8IHJvdy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gdmFsdWVcbiAgICAgICAgICAgICAgdmFyIHYgPSByb3dbal07IC8vIGNoZWNrIHZhbHVlICE9IDBcblxuICAgICAgICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdmFsdWVcbiAgICAgICAgICAgICAgICBtYXRyaXguX3ZhbHVlcy5wdXNoKHYpOyAvLyBpbmRleFxuXG5cbiAgICAgICAgICAgICAgICBtYXRyaXguX2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbHVtbnMgaWYgbmVlZGVkIChvbmx5IG9uIGZpcnN0IGNvbHVtbilcbiAgICAgICAgICAgIGlmIChqID09PSAwICYmIGNvbHVtbnMgPCAxKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSAxO1xuICAgICAgICAgICAgfSAvLyBjaGVjayB2YWx1ZSAhPSAwIChyb3cgaXMgYSBzY2FsYXIpXG5cblxuICAgICAgICAgICAgaWYgKCFlcShyb3csIHplcm8pKSB7XG4gICAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlXG4gICAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2gocm93KTsgLy8gaW5kZXhcblxuXG4gICAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaW5jcmVtZW50IGluZGV4XG5cblxuICAgICAgICBqKys7XG4gICAgICB9IHdoaWxlIChqIDwgY29sdW1ucyk7XG4gICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgdmFsdWVzIGluIHB0clxuXG5cbiAgICBtYXRyaXguX3B0ci5wdXNoKG1hdHJpeC5faW5kZXgubGVuZ3RoKTsgLy8gc2l6ZVxuXG5cbiAgICBtYXRyaXguX3NpemUgPSBbcm93cywgY29sdW1uc107XG4gIH1cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlID0gbmV3IE1hdHJpeCgpO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFNwYXJzZU1hdHJpeFxuICAgKi9cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmNyZWF0ZVNwYXJzZU1hdHJpeCA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhdHlwZSkge1xuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KGRhdGEsIGRhdGF0eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEF0dGFjaCB0eXBlIGluZm9ybWF0aW9uXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50eXBlID0gJ1NwYXJzZU1hdHJpeCc7XG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuaXNTcGFyc2VNYXRyaXggPSB0cnVlO1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggdHlwZVxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgY29uc3QgbWF0cml4VHlwZSA9IG1hdHJpeC5nZXREYXRhVHlwZSgpICAvLyByZXRyaWV2ZXMgdGhlIG1hdHJpeCB0eXBlXG4gICAqXG4gICAqIEBtZW1iZXJPZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybiB7c3RyaW5nfSAgIHR5cGUgaW5mb3JtYXRpb247IGlmIG11bHRpcGxlIHR5cGVzIGFyZSBmb3VuZCBmcm9tIHRoZSBNYXRyaXgsIGl0IHdpbGwgcmV0dXJuIFwibWl4ZWRcIlxuICAgKi9cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmdldERhdGFUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRBcnJheURhdGFUeXBlKHRoaXMuX3ZhbHVlcywgdHlwZU9mKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBmb3JtYXQgdXNlZCBieSB0aGUgbWF0cml4LlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICAgIGNvbnN0IGZvcm1hdCA9IG1hdHJpeC5zdG9yYWdlKCkgICAvLyByZXRyaWV2ZSBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgIFRoZSBzdG9yYWdlIGZvcm1hdC5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdzcGFyc2UnO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBkYXRhdHlwZSBvZiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBmb3JtYXQgPSBtYXRyaXguZGF0YXR5cGUoKSAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGF0YXR5cGVcbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICBUaGUgZGF0YXR5cGUuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5kYXRhdHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YXR5cGU7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU3BhcnNlTWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2RhdGF0eXBlXVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGRhdGEsIGRhdGF0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTcGFyc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBtYXRyaXggZGVuc2l0eS5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBkZW5zaXR5ID0gbWF0cml4LmRlbnNpdHkoKSAgICAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSBtYXRyaXggZGVuc2l0eVxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgIFRoZSBtYXRyaXggZGVuc2l0eS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmRlbnNpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcm93cyAmIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBjYWxjdWxhdGUgZGVuc2l0eVxuXG4gICAgcmV0dXJuIHJvd3MgIT09IDAgJiYgY29sdW1ucyAhPT0gMCA/IHRoaXMuX2luZGV4Lmxlbmd0aCAvIChyb3dzICogY29sdW1ucykgOiAwO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3Vic2V0IG9mIHRoZSBtYXRyaXgsIG9yIHJlcGxhY2UgYSBzdWJzZXQgb2YgdGhlIG1hdHJpeC5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgICBjb25zdCBzdWJzZXQgPSBtYXRyaXguc3Vic2V0KGluZGV4KSAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHN1YnNldFxuICAgKiAgICAgY29uc3QgdmFsdWUgPSBtYXRyaXguc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCkgICAvLyByZXBsYWNlIHN1YnNldFxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCAqfSBbcmVwbGFjZW1lbnRdXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZT0wXSAgICAgIERlZmF1bHQgdmFsdWUsIGZpbGxlZCBpbiBvbiBuZXcgZW50cmllcyB3aGVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgZmlsbGVkIHdpdGggemVyb3MuXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zdWJzZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzdWJzZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBjaGVjayBhcmd1bWVudHNcblxuXG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfZ2V0c3Vic2V0KHRoaXMsIGluZGV4KTtcbiAgICAgIC8vIGludGVudGlvbmFsIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIDI6XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBfc2V0c3Vic2V0KHRoaXMsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzJyk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9nZXRzdWJzZXQobWF0cml4LCBpZHgpIHtcbiAgICAvLyBjaGVjayBpZHhcbiAgICBpZiAoIWlzSW5kZXgoaWR4KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH1cblxuICAgIHZhciBpc1NjYWxhciA9IGlkeC5pc1NjYWxhcigpO1xuXG4gICAgaWYgKGlzU2NhbGFyKSB7XG4gICAgICAvLyByZXR1cm4gYSBzY2FsYXJcbiAgICAgIHJldHVybiBtYXRyaXguZ2V0KGlkeC5taW4oKSk7XG4gICAgfSAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cblxuICAgIHZhciBzaXplID0gaWR4LnNpemUoKTtcblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gbWF0cml4Ll9zaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKHNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIHZhcnNcblxuXG4gICAgdmFyIGksIGlpLCBrLCBrazsgLy8gdmFsaWRhdGUgaWYgYW55IG9mIHRoZSByYW5nZXMgaW4gdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZVxuXG4gICAgdmFyIG1pbiA9IGlkeC5taW4oKTtcbiAgICB2YXIgbWF4ID0gaWR4Lm1heCgpO1xuXG4gICAgZm9yIChpID0gMCwgaWkgPSBtYXRyaXguX3NpemUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFsaWRhdGVJbmRleChtaW5baV0sIG1hdHJpeC5fc2l6ZVtpXSk7XG4gICAgICB2YWxpZGF0ZUluZGV4KG1heFtpXSwgbWF0cml4Ll9zaXplW2ldKTtcbiAgICB9IC8vIG1hdHJpeCBhcnJheXNcblxuXG4gICAgdmFyIG12YWx1ZXMgPSBtYXRyaXguX3ZhbHVlcztcbiAgICB2YXIgbWluZGV4ID0gbWF0cml4Ll9pbmRleDtcbiAgICB2YXIgbXB0ciA9IG1hdHJpeC5fcHRyOyAvLyByb3dzICYgY29sdW1ucyBkaW1lbnNpb25zIGZvciByZXN1bHQgbWF0cml4XG5cbiAgICB2YXIgcm93cyA9IGlkeC5kaW1lbnNpb24oMCk7XG4gICAgdmFyIGNvbHVtbnMgPSBpZHguZGltZW5zaW9uKDEpOyAvLyB3b3Jrc3BhY2UgJiBwZXJtdXRhdGlvbiB2ZWN0b3JcblxuICAgIHZhciB3ID0gW107XG4gICAgdmFyIHB2ID0gW107IC8vIGxvb3Agcm93cyBpbiByZXN1bHRpbmcgbWF0cml4XG5cbiAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKGksIHIpIHtcbiAgICAgIC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3JcbiAgICAgIHB2W2ldID0gclswXTsgLy8gbWFyayBpIGluIHdvcmtzcGFjZVxuXG4gICAgICB3W2ldID0gdHJ1ZTtcbiAgICB9KTsgLy8gcmVzdWx0IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB2YWx1ZXMgPSBtdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gcmVzdWx0IG1hdHJpeFxuXG4gICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBwdHIucHVzaChpbmRleC5sZW5ndGgpOyAvLyBsb29wIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKGsgPSBtcHRyW2pdLCBrayA9IG1wdHJbaiArIDFdOyBrIDwga2s7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IG1pbmRleFtrXTsgLy8gY2hlY2sgcm93IGlzIGluIHJlc3VsdCBtYXRyaXhcblxuICAgICAgICBpZiAod1tpXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIHB1c2ggaW5kZXhcbiAgICAgICAgICBpbmRleC5wdXNoKHB2W2ldKTsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2gobXZhbHVlc1trXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHVwZGF0ZSBwdHJcblxuICAgIHB0ci5wdXNoKGluZGV4Lmxlbmd0aCk7IC8vIHJldHVybiBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgZGF0YXR5cGU6IG1hdHJpeC5fZGF0YXR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRzdWJzZXQobWF0cml4LCBpbmRleCwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyBjaGVjayBpbmRleFxuICAgIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgIH0gLy8gZ2V0IGluZGV4IHNpemUgYW5kIGNoZWNrIHdoZXRoZXIgdGhlIGluZGV4IGNvbnRhaW5zIGEgc2luZ2xlIHZhbHVlXG5cblxuICAgIHZhciBpU2l6ZSA9IGluZGV4LnNpemUoKTtcbiAgICB2YXIgaXNTY2FsYXIgPSBpbmRleC5pc1NjYWxhcigpOyAvLyBjYWxjdWxhdGUgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCwgYW5kIGNvbnZlcnQgaXQgaW50byBhbiBBcnJheSBpZiBuZWVkZWRcblxuICAgIHZhciBzU2l6ZTtcblxuICAgIGlmIChpc01hdHJpeChzdWJtYXRyaXgpKSB7XG4gICAgICAvLyBzdWJtYXRyaXggc2l6ZVxuICAgICAgc1NpemUgPSBzdWJtYXRyaXguc2l6ZSgpOyAvLyB1c2UgYXJyYXkgcmVwcmVzZW50YXRpb25cblxuICAgICAgc3VibWF0cml4ID0gc3VibWF0cml4LnRvQXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2V0IHN1Ym1hdHJpeCBzaXplIChhcnJheSwgc2NhbGFyKVxuICAgICAgc1NpemUgPSBhcnJheVNpemUoc3VibWF0cml4KTtcbiAgICB9IC8vIGNoZWNrIGluZGV4IGlzIGEgc2NhbGFyXG5cblxuICAgIGlmIChpc1NjYWxhcikge1xuICAgICAgLy8gdmVyaWZ5IHN1Ym1hdHJpeCBpcyBhIHNjYWxhclxuICAgICAgaWYgKHNTaXplLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTY2FsYXIgZXhwZWN0ZWQnKTtcbiAgICAgIH0gLy8gc2V0IHZhbHVlXG5cblxuICAgICAgbWF0cml4LnNldChpbmRleC5taW4oKSwgc3VibWF0cml4LCBkZWZhdWx0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zLCBpbmRleCBzaXplIG11c3QgYmUgb25lIG9yIHR3byBkaW1lbnNpb25zXG4gICAgICBpZiAoaVNpemUubGVuZ3RoICE9PSAxICYmIGlTaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUubGVuZ3RoLCBtYXRyaXguX3NpemUubGVuZ3RoLCAnPCcpO1xuICAgICAgfSAvLyBjaGVjayBzdWJtYXRyaXggYW5kIGluZGV4IGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uc1xuXG5cbiAgICAgIGlmIChzU2l6ZS5sZW5ndGggPCBpU2l6ZS5sZW5ndGgpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIG51bWJlciBvZiBtaXNzaW5nIG91dGVyIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgb3V0ZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSAmJiBzU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpU2l6ZVtpXSA9PT0gMSkge1xuICAgICAgICAgIG91dGVyKys7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IC8vIHVuc3F1ZWV6ZSBib3RoIG91dGVyIGFuZCBpbm5lciBkaW1lbnNpb25zXG5cblxuICAgICAgICBzdWJtYXRyaXggPSB1bnNxdWVlemUoc3VibWF0cml4LCBpU2l6ZS5sZW5ndGgsIG91dGVyLCBzU2l6ZSk7XG4gICAgICB9IC8vIGNoZWNrIHdoZXRoZXIgdGhlIHNpemUgb2YgdGhlIHN1Ym1hdHJpeCBtYXRjaGVzIHRoZSBpbmRleCBzaXplXG5cblxuICAgICAgaWYgKCFkZWVwU3RyaWN0RXF1YWwoaVNpemUsIHNTaXplKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaVNpemUsIHNTaXplLCAnPicpO1xuICAgICAgfSAvLyBvZmZzZXRzXG5cblxuICAgICAgdmFyIHgwID0gaW5kZXgubWluKClbMF07XG4gICAgICB2YXIgeTAgPSBpbmRleC5taW4oKVsxXTsgLy8gc3VibWF0cml4IHJvd3MgYW5kIGNvbHVtbnNcblxuICAgICAgdmFyIG0gPSBzU2l6ZVswXTtcbiAgICAgIHZhciBuID0gc1NpemVbMV07IC8vIGxvb3Agc3VibWF0cml4XG5cbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbTsgeCsrKSB7XG4gICAgICAgIC8vIGxvb3AgY29sdW1uc1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG47IHkrKykge1xuICAgICAgICAgIC8vIHZhbHVlIGF0IGksIGpcbiAgICAgICAgICB2YXIgdiA9IHN1Ym1hdHJpeFt4XVt5XTsgLy8gaW52b2tlIHNldCAoemVybyB2YWx1ZSB3aWxsIHJlbW92ZSBlbnRyeSBmcm9tIG1hdHJpeClcblxuICAgICAgICAgIG1hdHJpeC5zZXQoW3ggKyB4MCwgeSArIHkwXSwgdiwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHNpbmdsZSBlbGVtZW50IGZyb20gdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleCAgIFplcm8tYmFzZWQgaW5kZXhcbiAgICogQHJldHVybiB7Kn0gdmFsdWVcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBnZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyByb3cgYW5kIGNvbHVtblxuXG5cbiAgICB2YXIgaSA9IGluZGV4WzBdO1xuICAgIHZhciBqID0gaW5kZXhbMV07IC8vIGNoZWNrIGksIGogYXJlIHZhbGlkXG5cbiAgICB2YWxpZGF0ZUluZGV4KGksIHRoaXMuX3NpemVbMF0pO1xuICAgIHZhbGlkYXRlSW5kZXgoaiwgdGhpcy5fc2l6ZVsxXSk7IC8vIGZpbmQgdmFsdWUgaW5kZXhcblxuICAgIHZhciBrID0gX2dldFZhbHVlSW5kZXgoaSwgdGhpcy5fcHRyW2pdLCB0aGlzLl9wdHJbaiArIDFdLCB0aGlzLl9pbmRleCk7IC8vIGNoZWNrIGsgaXMgcHJpb3IgdG8gbmV4dCBjb2x1bW4gayBhbmQgaXQgaXMgaW4gdGhlIGNvcnJlY3Qgcm93XG5cblxuICAgIGlmIChrIDwgdGhpcy5fcHRyW2ogKyAxXSAmJiB0aGlzLl9pbmRleFtrXSA9PT0gaSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1trXTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFJlcGxhY2UgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ICAgWmVyby1iYXNlZCBpbmRleFxuICAgKiBAcGFyYW0geyp9IHZcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAgICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzIHdoZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIG1hdHJpeCBpcyByZXNpemVkLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtYXRyaXggZWxlbWVudHMgd2lsbCBiZSBzZXQgdG8gemVyby5cbiAgICogQHJldHVybiB7U3BhcnNlTWF0cml4fSBzZWxmXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgsIHYsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghaXNBcnJheShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4Lmxlbmd0aCAhPT0gdGhpcy5fc2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihpbmRleC5sZW5ndGgsIHRoaXMuX3NpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBzZXQgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyByb3cgYW5kIGNvbHVtblxuXG5cbiAgICB2YXIgaSA9IGluZGV4WzBdO1xuICAgIHZhciBqID0gaW5kZXhbMV07IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKHRoaXMuX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFt0aGlzLl9kYXRhdHlwZSwgdGhpcy5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIHRoaXMuX2RhdGF0eXBlKTtcbiAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcmVzaXplIG1hdHJpeFxuXG5cbiAgICBpZiAoaSA+IHJvd3MgLSAxIHx8IGogPiBjb2x1bW5zIC0gMSkge1xuICAgICAgLy8gcmVzaXplIG1hdHJpeFxuICAgICAgX3Jlc2l6ZSh0aGlzLCBNYXRoLm1heChpICsgMSwgcm93cyksIE1hdGgubWF4KGogKyAxLCBjb2x1bW5zKSwgZGVmYXVsdFZhbHVlKTsgLy8gdXBkYXRlIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgICAgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgICBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTtcbiAgICB9IC8vIGNoZWNrIGksIGogYXJlIHZhbGlkXG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgcm93cyk7XG4gICAgdmFsaWRhdGVJbmRleChqLCBjb2x1bW5zKTsgLy8gZmluZCB2YWx1ZSBpbmRleFxuXG4gICAgdmFyIGsgPSBfZ2V0VmFsdWVJbmRleChpLCB0aGlzLl9wdHJbal0sIHRoaXMuX3B0cltqICsgMV0sIHRoaXMuX2luZGV4KTsgLy8gY2hlY2sgayBpcyBwcmlvciB0byBuZXh0IGNvbHVtbiBrIGFuZCBpdCBpcyBpbiB0aGUgY29ycmVjdCByb3dcblxuXG4gICAgaWYgKGsgPCB0aGlzLl9wdHJbaiArIDFdICYmIHRoaXMuX2luZGV4W2tdID09PSBpKSB7XG4gICAgICAvLyBjaGVjayB2YWx1ZSAhPSAwXG4gICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgIC8vIHVwZGF0ZSB2YWx1ZVxuICAgICAgICB0aGlzLl92YWx1ZXNba10gPSB2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIHZhbHVlIGZyb20gbWF0cml4XG4gICAgICAgIF9yZW1vdmUoaywgaiwgdGhpcy5fdmFsdWVzLCB0aGlzLl9pbmRleCwgdGhpcy5fcHRyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW5zZXJ0IHZhbHVlIEAgKGksIGopXG4gICAgICBfaW5zZXJ0KGssIGksIGosIHYsIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gX2dldFZhbHVlSW5kZXgoaSwgdG9wLCBib3R0b20sIGluZGV4KSB7XG4gICAgLy8gY2hlY2sgcm93IGlzIG9uIHRoZSBib3R0b20gc2lkZVxuICAgIGlmIChib3R0b20gLSB0b3AgPT09IDApIHtcbiAgICAgIHJldHVybiBib3R0b207XG4gICAgfSAvLyBsb29wIHJvd3MgW3RvcCwgYm90dG9tW1xuXG5cbiAgICBmb3IgKHZhciByID0gdG9wOyByIDwgYm90dG9tOyByKyspIHtcbiAgICAgIC8vIGNoZWNrIHdlIGZvdW5kIHZhbHVlIGluZGV4XG4gICAgICBpZiAoaW5kZXhbcl0gPT09IGkpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgfSAvLyB3ZSBkaWQgbm90IGZpbmQgcm93XG5cblxuICAgIHJldHVybiB0b3A7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVtb3ZlKGssIGosIHZhbHVlcywgaW5kZXgsIHB0cikge1xuICAgIC8vIHJlbW92ZSB2YWx1ZSBAIGtcbiAgICB2YWx1ZXMuc3BsaWNlKGssIDEpO1xuICAgIGluZGV4LnNwbGljZShrLCAxKTsgLy8gdXBkYXRlIHBvaW50ZXJzXG5cbiAgICBmb3IgKHZhciB4ID0gaiArIDE7IHggPCBwdHIubGVuZ3RoOyB4KyspIHtcbiAgICAgIHB0clt4XS0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoaywgaSwgaiwgdiwgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gaW5zZXJ0IHZhbHVlXG4gICAgdmFsdWVzLnNwbGljZShrLCAwLCB2KTsgLy8gdXBkYXRlIHJvdyBmb3Iga1xuXG4gICAgaW5kZXguc3BsaWNlKGssIDAsIGkpOyAvLyB1cGRhdGUgY29sdW1uIHBvaW50ZXJzXG5cbiAgICBmb3IgKHZhciB4ID0gaiArIDE7IHggPCBwdHIubGVuZ3RoOyB4KyspIHtcbiAgICAgIHB0clt4XSsrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaXplIGluIHBsYWNlKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcltdIHwgTWF0cml4fSBzaXplICBUaGUgbmV3IHNpemUgdGhlIG1hdHJpeCBzaG91bGQgaGF2ZS5cbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPTBdICAgICAgRGVmYXVsdCB2YWx1ZSwgZmlsbGVkIGluIG9uIG5ldyBlbnRyaWVzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudHMgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBmaWxsZWQgd2l0aCB6ZXJvcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbY29weV0gICAgICAgICAgUmV0dXJuIGEgcmVzaXplZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2l6ZWQgbWF0cml4XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgZGVmYXVsdFZhbHVlLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0NvbGxlY3Rpb24oc2l6ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IG9yIE1hdHJpeCBleHBlY3RlZCcpO1xuICAgIH0gLy8gU3BhcnNlTWF0cml4IGlucHV0IGlzIGFsd2F5cyAyZCwgZmxhdHRlbiB0aGlzIGludG8gMWQgaWYgaXQncyBpbmRlZWQgYSB2ZWN0b3JcblxuXG4gICAgdmFyIHNpemVBcnJheSA9IHNpemUudmFsdWVPZigpLm1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZTtcbiAgICB9KTtcblxuICAgIGlmIChzaXplQXJyYXkubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbnMgbWF0cml4IGFyZSBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIGNoZWNrIHNpemVzXG5cblxuICAgIHNpemVBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc2l6ZSwgbXVzdCBjb250YWluIHBvc2l0aXZlIGludGVnZXJzICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZUFycmF5KSArICcpJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIG1hdHJpeCB0byByZXNpemVcblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJlc2l6ZSBtYXRyaXhcblxuICAgIHJldHVybiBfcmVzaXplKG0sIHNpemVBcnJheVswXSwgc2l6ZUFycmF5WzFdLCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9yZXNpemUobWF0cml4LCByb3dzLCBjb2x1bW5zLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAvLyB2YWx1ZSB0byBpbnNlcnQgYXQgdGhlIHRpbWUgb2YgZ3Jvd2luZyBtYXRyaXhcbiAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWUgfHwgMDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhtYXRyaXguX2RhdGF0eXBlKSkge1xuICAgICAgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkYXRhdHlwZSwgZGF0YXR5cGUpXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFttYXRyaXguX2RhdGF0eXBlLCBtYXRyaXguX2RhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBtYXRyaXguX2RhdGF0eXBlKTsgLy8gY29udmVydCB2YWx1ZSB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB2YWx1ZSA9IHR5cGVkLmNvbnZlcnQodmFsdWUsIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH0gLy8gc2hvdWxkIHdlIGluc2VydCB0aGUgdmFsdWU/XG5cblxuICAgIHZhciBpbnMgPSAhZXEodmFsdWUsIHplcm8pOyAvLyBvbGQgY29sdW1ucyBhbmQgcm93c1xuXG4gICAgdmFyIHIgPSBtYXRyaXguX3NpemVbMF07XG4gICAgdmFyIGMgPSBtYXRyaXguX3NpemVbMV07XG4gICAgdmFyIGksIGosIGs7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5jcmVhc2UgY29sdW1uc1xuXG4gICAgaWYgKGNvbHVtbnMgPiBjKSB7XG4gICAgICAvLyBsb29wIG5ldyBjb2x1bW5zXG4gICAgICBmb3IgKGogPSBjOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cbiAgICAgICAgbWF0cml4Ll9wdHJbal0gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7IC8vIGNoZWNrIHdlIG5lZWQgdG8gaW5zZXJ0IG1hdHJpeC5fdmFsdWVzXG5cbiAgICAgICAgaWYgKGlucykge1xuICAgICAgICAgIC8vIGxvb3Agcm93c1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGFkZCBuZXcgbWF0cml4Ll92YWx1ZXNcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnB1c2godmFsdWUpOyAvLyB1cGRhdGUgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXgucHVzaChpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gc3RvcmUgbnVtYmVyIG9mIG1hdHJpeC5fdmFsdWVzIGluIG1hdHJpeC5fcHRyXG5cblxuICAgICAgbWF0cml4Ll9wdHJbY29sdW1uc10gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChjb2x1bW5zIDwgYykge1xuICAgICAgLy8gdHJ1bmNhdGUgbWF0cml4Ll9wdHJcbiAgICAgIG1hdHJpeC5fcHRyLnNwbGljZShjb2x1bW5zICsgMSwgYyAtIGNvbHVtbnMpOyAvLyB0cnVuY2F0ZSBtYXRyaXguX3ZhbHVlcyBhbmQgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShtYXRyaXguX3B0cltjb2x1bW5zXSwgbWF0cml4Ll92YWx1ZXMubGVuZ3RoKTtcblxuICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UobWF0cml4Ll9wdHJbY29sdW1uc10sIG1hdHJpeC5faW5kZXgubGVuZ3RoKTtcbiAgICB9IC8vIHVwZGF0ZSBjb2x1bW5zXG5cblxuICAgIGMgPSBjb2x1bW5zOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluY3JlYXNlIHJvd3NcblxuICAgIGlmIChyb3dzID4gcikge1xuICAgICAgLy8gY2hlY2sgd2UgaGF2ZSB0byBpbnNlcnQgdmFsdWVzXG4gICAgICBpZiAoaW5zKSB7XG4gICAgICAgIC8vIGluc2VydHNcbiAgICAgICAgdmFyIG4gPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgYzsgaisrKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIG1hdHJpeC5fcHRyIGZvciBjdXJyZW50IGNvbHVtblxuICAgICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll9wdHJbal0gKyBuOyAvLyB3aGVyZSB0byBpbnNlcnQgbWF0cml4Ll92YWx1ZXNcblxuICAgICAgICAgIGsgPSBtYXRyaXguX3B0cltqICsgMV0gKyBuOyAvLyBwb2ludGVyXG5cbiAgICAgICAgICB2YXIgcCA9IDA7IC8vIGxvb3AgbmV3IHJvd3MsIGluaXRpYWxpemUgcG9pbnRlclxuXG4gICAgICAgICAgZm9yIChpID0gcjsgaSA8IHJvd3M7IGkrKywgcCsrKSB7XG4gICAgICAgICAgICAvLyBhZGQgdmFsdWVcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShrICsgcCwgMCwgdmFsdWUpOyAvLyB1cGRhdGUgbWF0cml4Ll9pbmRleFxuXG5cbiAgICAgICAgICAgIG1hdHJpeC5faW5kZXguc3BsaWNlKGsgKyBwLCAwLCBpKTsgLy8gaW5jcmVtZW50IGluc2VydHNcblxuXG4gICAgICAgICAgICBuKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHN0b3JlIG51bWJlciBvZiBtYXRyaXguX3ZhbHVlcyBpbiBtYXRyaXguX3B0clxuXG5cbiAgICAgICAgbWF0cml4Ll9wdHJbY10gPSBtYXRyaXguX3ZhbHVlcy5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyb3dzIDwgcikge1xuICAgICAgLy8gZGVsZXRlc1xuICAgICAgdmFyIGQgPSAwOyAvLyBsb29wIGNvbHVtbnNcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGM7IGorKykge1xuICAgICAgICAvLyB1cGRhdGUgbWF0cml4Ll9wdHIgZm9yIGN1cnJlbnQgY29sdW1uXG4gICAgICAgIG1hdHJpeC5fcHRyW2pdID0gbWF0cml4Ll9wdHJbal0gLSBkOyAvLyB3aGVyZSBtYXRyaXguX3ZhbHVlcyBzdGFydCBmb3IgbmV4dCBjb2x1bW5cblxuICAgICAgICB2YXIgazAgPSBtYXRyaXguX3B0cltqXTtcbiAgICAgICAgdmFyIGsxID0gbWF0cml4Ll9wdHJbaiArIDFdIC0gZDsgLy8gbG9vcCBtYXRyaXguX2luZGV4XG5cbiAgICAgICAgZm9yIChrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93XG4gICAgICAgICAgaSA9IG1hdHJpeC5faW5kZXhba107IC8vIGNoZWNrIHdlIG5lZWQgdG8gZGVsZXRlIHZhbHVlIGFuZCBtYXRyaXguX2luZGV4XG5cbiAgICAgICAgICBpZiAoaSA+IHJvd3MgLSAxKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdmFsdWVcbiAgICAgICAgICAgIG1hdHJpeC5fdmFsdWVzLnNwbGljZShrLCAxKTsgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBtYXRyaXguX2luZGV4XG5cblxuICAgICAgICAgICAgbWF0cml4Ll9pbmRleC5zcGxpY2UoaywgMSk7IC8vIGluY3JlYXNlIGRlbGV0ZXNcblxuXG4gICAgICAgICAgICBkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIHVwZGF0ZSBtYXRyaXguX3B0ciBmb3IgY3VycmVudCBjb2x1bW5cblxuXG4gICAgICBtYXRyaXguX3B0cltqXSA9IG1hdHJpeC5fdmFsdWVzLmxlbmd0aDtcbiAgICB9IC8vIHVwZGF0ZSBtYXRyaXguX3NpemVcblxuXG4gICAgbWF0cml4Ll9zaXplWzBdID0gcm93cztcbiAgICBtYXRyaXguX3NpemVbMV0gPSBjb2x1bW5zOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIC8qKlxuICAgKiBSZXNoYXBlIHRoZSBtYXRyaXggdG8gdGhlIGdpdmVuIHNpemUuIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXggd2hlblxuICAgKiBgY29weT10cnVlYCwgb3RoZXJ3aXNlIHJldHVybiB0aGUgbWF0cml4IGl0c2VsZiAocmVzaGFwZSBpbiBwbGFjZSkuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgbWlnaHQgYmUgYmV0dGVyIHN1aXRlZCB0byBjb3B5IGJ5IGRlZmF1bHQsIGluc3RlYWQgb2YgbW9kaWZ5aW5nXG4gICAqICAgICAgIGluIHBsYWNlLiBGb3Igbm93LCBpdCBvcGVyYXRlcyBpbiBwbGFjZSB0byByZW1haW4gY29uc2lzdGVudCB3aXRoXG4gICAqICAgICAgIHJlc2l6ZSgpLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyW119IHNpemUgICAgICAgICAgIFRoZSBuZXcgc2l6ZSB0aGUgbWF0cml4IHNob3VsZCBoYXZlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb3B5XSAgICAgICAgICBSZXR1cm4gYSByZXNoYXBlZCBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgVGhlIHJlc2hhcGVkIG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUucmVzaGFwZSA9IGZ1bmN0aW9uIChzaXplLCBjb3B5KSB7XG4gICAgLy8gdmFsaWRhdGUgYXJndW1lbnRzXG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmIChzaXplLmxlbmd0aCAhPT0gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGFyc2UgbWF0cmljZXMgY2FuIG9ubHkgYmUgcmVzaGFwZWQgaW4gdHdvIGRpbWVuc2lvbnMnKTtcbiAgICB9IC8vIGNoZWNrIHNpemVzXG5cblxuICAgIHNpemUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpIHx8ICFpc0ludGVnZXIodmFsdWUpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHNpemUsIG11c3QgY29udGFpbiBwb3NpdGl2ZSBpbnRlZ2VycyAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gbSAqIG4gbXVzdCBub3QgY2hhbmdlXG5cbiAgICBpZiAodGhpcy5fc2l6ZVswXSAqIHRoaXMuX3NpemVbMV0gIT09IHNpemVbMF0gKiBzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2hhcGluZyBzcGFyc2UgbWF0cml4IHdpbGwgcmVzdWx0IGluIHRoZSB3cm9uZyBudW1iZXIgb2YgZWxlbWVudHMnKTtcbiAgICB9IC8vIG1hdHJpeCB0byByZXNoYXBlXG5cblxuICAgIHZhciBtID0gY29weSA/IHRoaXMuY2xvbmUoKSA6IHRoaXM7IC8vIHJldHVybiB1bmNoYW5nZWQgaWYgdGhlIHNhbWUgc2hhcGVcblxuICAgIGlmICh0aGlzLl9zaXplWzBdID09PSBzaXplWzBdICYmIHRoaXMuX3NpemVbMV0gPT09IHNpemVbMV0pIHtcbiAgICAgIHJldHVybiBtO1xuICAgIH0gLy8gQ29udmVydCB0byBDT08gZm9ybWF0IChnZW5lcmF0ZSBhIGNvbHVtbiBpbmRleClcblxuXG4gICAgdmFyIGNvbEluZGV4ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0uX3B0ci5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtLl9wdHJbaSArIDFdIC0gbS5fcHRyW2ldOyBqKyspIHtcbiAgICAgICAgY29sSW5kZXgucHVzaChpKTtcbiAgICAgIH1cbiAgICB9IC8vIENsb25lIHRoZSB2YWx1ZXMgYXJyYXlcblxuXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcy5zbGljZSgpOyAvLyBDbG9uZSB0aGUgcm93IGluZGV4IGFycmF5XG5cblxuICAgIHZhciByb3dJbmRleCA9IG0uX2luZGV4LnNsaWNlKCk7IC8vIFRyYW5zZm9ybSB0aGUgKHJvdywgY29sdW1uKSBpbmRpY2VzXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtLl9pbmRleC5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciByMSA9IHJvd0luZGV4W19pXTtcbiAgICAgIHZhciBjMSA9IGNvbEluZGV4W19pXTtcbiAgICAgIHZhciBmbGF0ID0gcjEgKiBtLl9zaXplWzFdICsgYzE7XG4gICAgICBjb2xJbmRleFtfaV0gPSBmbGF0ICUgc2l6ZVsxXTtcbiAgICAgIHJvd0luZGV4W19pXSA9IE1hdGguZmxvb3IoZmxhdCAvIHNpemVbMV0pO1xuICAgIH0gLy8gTm93IHJlc2hhcGluZyBpcyBzdXBwb3NlZCB0byBwcmVzZXJ2ZSB0aGUgcm93LW1ham9yIG9yZGVyLCBCVVQgdGhlc2Ugc3BhcnNlIG1hdHJpY2VzIGFyZSBzdG9yZWRcbiAgICAvLyBpbiBjb2x1bW4tbWFqb3Igb3JkZXIsIHNvIHdlIGhhdmUgdG8gcmVvcmRlciB0aGUgdmFsdWUgYXJyYXkgbm93LiBPbmUgb3B0aW9uIGlzIHRvIHVzZSBhIG11bHRpc29ydCxcbiAgICAvLyBzb3J0aW5nIHNldmVyYWwgYXJyYXlzIGJhc2VkIG9uIHNvbWUgb3RoZXIgYXJyYXkuXG4gICAgLy8gT1IsIHdlIGNvdWxkIGVhc2lseSBqdXN0OlxuICAgIC8vIDEuIFJlbW92ZSBhbGwgdmFsdWVzIGZyb20gdGhlIG1hdHJpeFxuXG5cbiAgICBtLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICBtLl9pbmRleC5sZW5ndGggPSAwO1xuICAgIG0uX3B0ci5sZW5ndGggPSBzaXplWzFdICsgMTtcbiAgICBtLl9zaXplID0gc2l6ZS5zbGljZSgpO1xuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbS5fcHRyLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIG0uX3B0cltfaTJdID0gMDtcbiAgICB9IC8vIDIuIFJlLWluc2VydCBhbGwgZWxlbWVudHMgaW4gdGhlIHByb3BlciBvcmRlciAoc2ltcGxpZmllZCBjb2RlIGZyb20gU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zZXQpXG4gICAgLy8gVGhpcyBzdGVwIGlzIHByb2JhYmx5IHRoZSBtb3N0IHRpbWUtY29uc3VtaW5nXG5cblxuICAgIGZvciAodmFyIGggPSAwOyBoIDwgdmFsdWVzLmxlbmd0aDsgaCsrKSB7XG4gICAgICB2YXIgX2kzID0gcm93SW5kZXhbaF07XG4gICAgICB2YXIgX2ogPSBjb2xJbmRleFtoXTtcbiAgICAgIHZhciB2ID0gdmFsdWVzW2hdO1xuXG4gICAgICB2YXIgayA9IF9nZXRWYWx1ZUluZGV4KF9pMywgbS5fcHRyW19qXSwgbS5fcHRyW19qICsgMV0sIG0uX2luZGV4KTtcblxuICAgICAgX2luc2VydChrLCBfaTMsIF9qLCB2LCBtLl92YWx1ZXMsIG0uX2luZGV4LCBtLl9wdHIpO1xuICAgIH0gLy8gVGhlIHZhbHVlIGluZGljZXMgYXJlIGluc2VydGVkIG91dCBvZiBvcmRlciwgYnV0IGFwcGFyZW50bHkgdGhhdCdzLi4uIHN0aWxsIE9LP1xuXG5cbiAgICByZXR1cm4gbTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBtYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IGNsb25lXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbSA9IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMgPyBjbG9uZSh0aGlzLl92YWx1ZXMpIDogdW5kZWZpbmVkLFxuICAgICAgaW5kZXg6IGNsb25lKHRoaXMuX2luZGV4KSxcbiAgICAgIHB0cjogY2xvbmUodGhpcy5fcHRyKSxcbiAgICAgIHNpemU6IGNsb25lKHRoaXMuX3NpemUpLFxuICAgICAgZGF0YXR5cGU6IHRoaXMuX2RhdGF0eXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIG07XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gc2l6ZVxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZS5zbGljZSgwKTsgLy8gY29weSB0aGUgQXJyYXlcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBtYXRyaXggd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25cbiAgICogZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCwgdGhlIGluZGV4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGVsZW1lbnQsIGFuZCB0aGUgTWF0cml4IGJlaW5nIHRyYXZlcnNlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFplcm9zXSBJbnZva2UgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG5vbi16ZXJvIHZhbHVlcyBvbmx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtTcGFyc2VNYXRyaXh9IG1hdHJpeFxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBza2lwWmVyb3MpIHtcbiAgICAvLyBjaGVjayBpdCBpcyBhIHBhdHRlcm4gbWF0cml4XG4gICAgaWYgKCF0aGlzLl92YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGludm9rZSBtYXAgb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBtYXRyaXggaW5zdGFuY2VcblxuXG4gICAgdmFyIG1lID0gdGhpczsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICB2YXIgaW52b2tlID0gZnVuY3Rpb24gaW52b2tlKHYsIGksIGopIHtcbiAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHYsIFtpLCBqXSwgbWUpO1xuICAgIH07IC8vIGludm9rZSBfbWFwXG5cblxuICAgIHJldHVybiBfbWFwKHRoaXMsIDAsIHJvd3MgLSAxLCAwLCBjb2x1bW5zIC0gMSwgaW52b2tlLCBza2lwWmVyb3MpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG1hdHJpeCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbiB0aGUgaW50ZXJ2YWxcbiAgICogW21pblJvdy4ubWF4Um93LCBtaW5Db2x1bW4uLm1heENvbHVtbl0uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX21hcChtYXRyaXgsIG1pblJvdywgbWF4Um93LCBtaW5Db2x1bW4sIG1heENvbHVtbiwgY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIHJlc3VsdCBhcnJheXNcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwO1xuXG4gICAgaWYgKGlzU3RyaW5nKG1hdHJpeC5fZGF0YXR5cGUpKSB7XG4gICAgICAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGRhdGF0eXBlLCBkYXRhdHlwZSlcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW21hdHJpeC5fZGF0YXR5cGUsIG1hdHJpeC5fZGF0YXR5cGVdKSB8fCBlcXVhbFNjYWxhcjsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIG1hdHJpeC5fZGF0YXR5cGUpO1xuICAgIH0gLy8gaW52b2tlIGNhbGxiYWNrXG5cblxuICAgIHZhciBpbnZva2UgPSBmdW5jdGlvbiBpbnZva2UodiwgeCwgeSkge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICB2ID0gY2FsbGJhY2sodiwgeCwgeSk7IC8vIGNoZWNrIHZhbHVlICE9IDBcblxuICAgICAgaWYgKCFlcSh2LCB6ZXJvKSkge1xuICAgICAgICAvLyBzdG9yZSB2YWx1ZVxuICAgICAgICB2YWx1ZXMucHVzaCh2KTsgLy8gaW5kZXhcblxuICAgICAgICBpbmRleC5wdXNoKHgpO1xuICAgICAgfVxuICAgIH07IC8vIGxvb3AgY29sdW1uc1xuXG5cbiAgICBmb3IgKHZhciBqID0gbWluQ29sdW1uOyBqIDw9IG1heENvbHVtbjsgaisrKSB7XG4gICAgICAvLyBzdG9yZSBwb2ludGVyIHRvIHZhbHVlcyBpbmRleFxuICAgICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cblxuICAgICAgdmFyIGswID0gbWF0cml4Ll9wdHJbal07XG4gICAgICB2YXIgazEgPSBtYXRyaXguX3B0cltqICsgMV07XG5cbiAgICAgIGlmIChza2lwWmVyb3MpIHtcbiAgICAgICAgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuICAgICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgICAgdmFyIGkgPSBtYXRyaXguX2luZGV4W2tdOyAvLyBjaGVjayBpIGlzIGluIHJhbmdlXG5cbiAgICAgICAgICBpZiAoaSA+PSBtaW5Sb3cgJiYgaSA8PSBtYXhSb3cpIHtcbiAgICAgICAgICAgIC8vIHZhbHVlIEAga1xuICAgICAgICAgICAgaW52b2tlKG1hdHJpeC5fdmFsdWVzW2tdLCBpIC0gbWluUm93LCBqIC0gbWluQ29sdW1uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhY2hlIGhvbGRpbmcgYWxsIGRlZmluZWQgdmFsdWVzXG4gICAgICAgIHZhciBfdmFsdWVzID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgX2sgPSBrMDsgX2sgPCBrMTsgX2srKykge1xuICAgICAgICAgIHZhciBfaTQgPSBtYXRyaXguX2luZGV4W19rXTtcbiAgICAgICAgICBfdmFsdWVzW19pNF0gPSBtYXRyaXguX3ZhbHVlc1tfa107XG4gICAgICAgIH0gLy8gbG9vcCBvdmVyIGFsbCByb3dzIChpbmRleGVzIGNhbiBiZSB1bm9yZGVyZWQgc28gd2UgY2FuJ3QgdXNlIHRoYXQpLFxuICAgICAgICAvLyBhbmQgZWl0aGVyIHJlYWQgdGhlIHZhbHVlIG9yIHplcm9cblxuXG4gICAgICAgIGZvciAodmFyIF9pNSA9IG1pblJvdzsgX2k1IDw9IG1heFJvdzsgX2k1KyspIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfaTUgaW4gX3ZhbHVlcyA/IF92YWx1ZXNbX2k1XSA6IDA7XG4gICAgICAgICAgaW52b2tlKHZhbHVlLCBfaTUgLSBtaW5Sb3csIGogLSBtaW5Db2x1bW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBzdG9yZSBudW1iZXIgb2YgdmFsdWVzIGluIHB0clxuXG5cbiAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbbWF4Um93IC0gbWluUm93ICsgMSwgbWF4Q29sdW1uIC0gbWluQ29sdW1uICsgMV1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQsIHRoZSBpbmRleFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50LCBhbmQgdGhlIE1hdHJpeCBiZWluZyB0cmF2ZXJzZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBaZXJvc10gSW52b2tlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBub24temVybyB2YWx1ZXMgb25seS5cbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNraXBaZXJvcykge1xuICAgIC8vIGNoZWNrIGl0IGlzIGEgcGF0dGVybiBtYXRyaXhcbiAgICBpZiAoIXRoaXMuX3ZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIGZvckVhY2ggb24gYSBQYXR0ZXJuIG9ubHkgbWF0cml4Jyk7XG4gICAgfSAvLyBtYXRyaXggaW5zdGFuY2VcblxuXG4gICAgdmFyIG1lID0gdGhpczsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gdGhpcy5fc2l6ZVsxXTsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTtcblxuICAgICAgaWYgKHNraXBaZXJvcykge1xuICAgICAgICAvLyBsb29wIGsgd2l0aGluIFtrMCwgazFbXG4gICAgICAgIGZvciAodmFyIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgICAvLyByb3cgaW5kZXhcbiAgICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W2tdOyAvLyB2YWx1ZSBAIGtcblxuICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3ZhbHVlc1trXSwgW2ksIGpdLCBtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhY2hlIGhvbGRpbmcgYWxsIGRlZmluZWQgdmFsdWVzXG4gICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBfazIgPSBrMDsgX2syIDwgazE7IF9rMisrKSB7XG4gICAgICAgICAgdmFyIF9pNiA9IHRoaXMuX2luZGV4W19rMl07XG4gICAgICAgICAgdmFsdWVzW19pNl0gPSB0aGlzLl92YWx1ZXNbX2syXTtcbiAgICAgICAgfSAvLyBsb29wIG92ZXIgYWxsIHJvd3MgKGluZGV4ZXMgY2FuIGJlIHVub3JkZXJlZCBzbyB3ZSBjYW4ndCB1c2UgdGhhdCksXG4gICAgICAgIC8vIGFuZCBlaXRoZXIgcmVhZCB0aGUgdmFsdWUgb3IgemVyb1xuXG5cbiAgICAgICAgZm9yICh2YXIgX2k3ID0gMDsgX2k3IDwgcm93czsgX2k3KyspIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfaTcgaW4gdmFsdWVzID8gdmFsdWVzW19pN10gOiAwO1xuICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCBbX2k3LCBqXSwgbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGFuIEFycmF5IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIG9mIHRoZSBTcGFyc2VNYXRyaXhcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdG9BcnJheSh0aGlzLl92YWx1ZXMsIHRoaXMuX2luZGV4LCB0aGlzLl9wdHIsIHRoaXMuX3NpemUsIHRydWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhlIFNwYXJzZU1hdHJpeDogYSB0d28gZGltZW5zaW9ucyBhcnJheVxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXlcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90b0FycmF5KHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0ciwgdGhpcy5fc2l6ZSwgZmFsc2UpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF90b0FycmF5KHZhbHVlcywgaW5kZXgsIHB0ciwgc2l6ZSwgY29weSkge1xuICAgIC8vIHJvd3MgYW5kIGNvbHVtbnNcbiAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBzaXplWzFdOyAvLyByZXN1bHRcblxuICAgIHZhciBhID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqOyAvLyBpbml0aWFsaXplIGFycmF5XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBhW2ldID0gW107XG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgICAgYVtpXVtqXSA9IDA7XG4gICAgICB9XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICBpID0gaW5kZXhba107IC8vIHNldCB2YWx1ZSAodXNlIG9uZSBmb3IgcGF0dGVybiBtYXRyaXgpXG5cbiAgICAgICAgYVtpXVtqXSA9IHZhbHVlcyA/IGNvcHkgPyBjbG9uZSh2YWx1ZXNba10pIDogdmFsdWVzW2tdIDogMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXgsIHdpdGggb3B0aW9uYWwgZm9ybWF0dGluZyBvcHRpb25zLlxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRnVuY3Rpb259IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zLiBTZWVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWIvdXRpbHMvbnVtYmVyOmZvcm1hdCBmb3IgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBTcGFyc2VNYXRyaXgucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gcm93cyBhbmQgY29sdW1uc1xuICAgIHZhciByb3dzID0gdGhpcy5fc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IHRoaXMuX3NpemVbMV07IC8vIGRlbnNpdHlcblxuICAgIHZhciBkZW5zaXR5ID0gdGhpcy5kZW5zaXR5KCk7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgc3RyID0gJ1NwYXJzZSBNYXRyaXggWycgKyBmb3JtYXQocm93cywgb3B0aW9ucykgKyAnIHggJyArIGZvcm1hdChjb2x1bW5zLCBvcHRpb25zKSArICddIGRlbnNpdHk6ICcgKyBmb3JtYXQoZGVuc2l0eSwgb3B0aW9ucykgKyAnXFxuJzsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gazAgPD0gayA8IGsxIHdoZXJlIGswID0gX3B0cltqXSAmJiBrMSA9IF9wdHJbaisxXVxuICAgICAgdmFyIGswID0gdGhpcy5fcHRyW2pdO1xuICAgICAgdmFyIGsxID0gdGhpcy5fcHRyW2ogKyAxXTsgLy8gbG9vcCBrIHdpdGhpbiBbazAsIGsxW1xuXG4gICAgICBmb3IgKHZhciBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvdyBpbmRleFxuICAgICAgICB2YXIgaSA9IHRoaXMuX2luZGV4W2tdOyAvLyBhcHBlbmQgdmFsdWVcblxuICAgICAgICBzdHIgKz0gJ1xcbiAgICAoJyArIGZvcm1hdChpLCBvcHRpb25zKSArICcsICcgKyBmb3JtYXQoaiwgb3B0aW9ucykgKyAnKSA9PT4gJyArICh0aGlzLl92YWx1ZXMgPyBmb3JtYXQodGhpcy5fdmFsdWVzW2tdLCBvcHRpb25zKSA6ICdYJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHJldHVybnMge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMudG9BcnJheSgpKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAbWVtYmVyb2YgU3BhcnNlTWF0cml4XG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1NwYXJzZU1hdHJpeCcsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcbiAgICAgIGluZGV4OiB0aGlzLl9pbmRleCxcbiAgICAgIHB0cjogdGhpcy5fcHRyLFxuICAgICAgc2l6ZTogdGhpcy5fc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiB0aGlzLl9kYXRhdHlwZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGt0aCBNYXRyaXggZGlhZ29uYWwuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTcGFyc2VNYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICBUaGUga3RoIGRpYWdvbmFsIHdoZXJlIHRoZSB2ZWN0b3Igd2lsbCByZXRyaWV2ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICAgVGhlIG1hdHJpeCB2ZWN0b3Igd2l0aCB0aGUgZGlhZ29uYWwgdmFsdWVzLlxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5wcm90b3R5cGUuZGlhZ29uYWwgPSBmdW5jdGlvbiAoaykge1xuICAgIC8vIHZhbGlkYXRlIGsgaWYgYW55XG4gICAgaWYgKGspIHtcbiAgICAgIC8vIGNvbnZlcnQgQmlnTnVtYmVyIHRvIGEgbnVtYmVyXG4gICAgICBpZiAoaXNCaWdOdW1iZXIoaykpIHtcbiAgICAgICAgayA9IGsudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gaXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG5cblxuICAgICAgaWYgKCFpc051bWJlcihrKSB8fCAhaXNJbnRlZ2VyKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXJhbWV0ZXIgayBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQgdmFsdWVcbiAgICAgIGsgPSAwO1xuICAgIH1cblxuICAgIHZhciBrU3VwZXIgPSBrID4gMCA/IGsgOiAwO1xuICAgIHZhciBrU3ViID0gayA8IDAgPyAtayA6IDA7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgcm93cyA9IHRoaXMuX3NpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSB0aGlzLl9zaXplWzFdOyAvLyBudW1iZXIgZGlhZ29uYWwgdmFsdWVzXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gZGlhZ29uYWwgYXJyYXlzXG5cbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGluZGV4ID0gW107XG4gICAgdmFyIHB0ciA9IFtdOyAvLyBpbml0aWFsIHB0ciB2YWx1ZVxuXG4gICAgcHRyWzBdID0gMDsgLy8gbG9vcCBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqID0ga1N1cGVyOyBqIDwgY29sdW1ucyAmJiB2YWx1ZXMubGVuZ3RoIDwgbjsgaisrKSB7XG4gICAgICAvLyBrMCA8PSBrIDwgazEgd2hlcmUgazAgPSBfcHRyW2pdICYmIGsxID0gX3B0cltqKzFdXG4gICAgICB2YXIgazAgPSB0aGlzLl9wdHJbal07XG4gICAgICB2YXIgazEgPSB0aGlzLl9wdHJbaiArIDFdOyAvLyBsb29wIHggd2l0aGluIFtrMCwgazFbXG5cbiAgICAgIGZvciAodmFyIHggPSBrMDsgeCA8IGsxOyB4KyspIHtcbiAgICAgICAgLy8gcm93IGluZGV4XG4gICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhbeF07IC8vIGNoZWNrIHJvd1xuXG4gICAgICAgIGlmIChpID09PSBqIC0ga1N1cGVyICsga1N1Yikge1xuICAgICAgICAgIC8vIHZhbHVlIG9uIHRoaXMgY29sdW1uXG4gICAgICAgICAgdmFsdWVzLnB1c2godGhpcy5fdmFsdWVzW3hdKTsgLy8gc3RvcmUgcm93XG5cbiAgICAgICAgICBpbmRleFt2YWx1ZXMubGVuZ3RoIC0gMV0gPSBpIC0ga1N1YjsgLy8gZXhpdCBsb29wXG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gY2xvc2UgcHRyXG5cblxuICAgIHB0ci5wdXNoKHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cml4XG5cbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIHB0cjogcHRyLFxuICAgICAgc2l6ZTogW24sIDFdXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG1hdHJpeCBmcm9tIGEgSlNPTiBvYmplY3RcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlNwYXJzZU1hdHJpeFwiLCBcInZhbHVlc1wiOiBbXSwgXCJpbmRleFwiOiBbXSwgXCJwdHJcIjogW10sIFwic2l6ZVwiOiBbXX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtTcGFyc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChqc29uKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpYWdvbmFsIG1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge0FycmF5fSBzaXplICAgICAgICAgICAgICAgICAgICAgICBUaGUgbWF0cml4IHNpemUuXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQXJyYXkgfCBNYXRyaXggfSB2YWx1ZSAgIFRoZSB2YWx1ZXMgZm9yIHRoZSBkaWFnb25hbC5cbiAgICogQHBhcmFtIHtudW1iZXIgfCBCaWdOdW1iZXJ9IFtrPTBdICAgICAgICAgVGhlIGt0aCBkaWFnb25hbCB3aGVyZSB0aGUgdmVjdG9yIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gICAgICAgICAgICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3Igbm9uLWRpYWdvbmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdICAgICAgICAgICAgICAgIFRoZSBNYXRyaXggZGF0YXR5cGUsIHZhbHVlcyBtdXN0IGJlIG9mIHRoaXMgZGF0YXR5cGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTcGFyc2VNYXRyaXh9XG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LmRpYWdvbmFsID0gZnVuY3Rpb24gKHNpemUsIHZhbHVlLCBrLCBkZWZhdWx0VmFsdWUsIGRhdGF0eXBlKSB7XG4gICAgaWYgKCFpc0FycmF5KHNpemUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCwgc2l6ZSBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZS5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSB0d28gZGltZW5zaW9ucyBtYXRyaXggYXJlIHN1cHBvcnRlZCcpO1xuICAgIH0gLy8gbWFwIHNpemUgJiB2YWxpZGF0ZVxuXG5cbiAgICBzaXplID0gc2l6ZS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgIC8vIGNoZWNrIGl0IGlzIGEgYmlnIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKHMpKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgaXRcbiAgICAgICAgcyA9IHMudG9OdW1iZXIoKTtcbiAgICAgIH0gLy8gdmFsaWRhdGUgYXJndW1lbnRzXG5cblxuICAgICAgaWYgKCFpc051bWJlcihzKSB8fCAhaXNJbnRlZ2VyKHMpIHx8IHMgPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2l6ZSB2YWx1ZXMgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VycycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcztcbiAgICB9KTsgLy8gdmFsaWRhdGUgayBpZiBhbnlcblxuICAgIGlmIChrKSB7XG4gICAgICAvLyBjb252ZXJ0IEJpZ051bWJlciB0byBhIG51bWJlclxuICAgICAgaWYgKGlzQmlnTnVtYmVyKGspKSB7XG4gICAgICAgIGsgPSBrLnRvTnVtYmVyKCk7XG4gICAgICB9IC8vIGlzIG11c3QgYmUgYW4gaW50ZWdlclxuXG5cbiAgICAgIGlmICghaXNOdW1iZXIoaykgfHwgIWlzSW50ZWdlcihrKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgcGFyYW1ldGVyIGsgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZhdWx0IHZhbHVlXG4gICAgICBrID0gMDtcbiAgICB9IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDtcblxuICAgIGlmIChpc1N0cmluZyhkYXRhdHlwZSkpIHtcbiAgICAgIC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZGF0YXR5cGUsIGRhdGF0eXBlKVxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZGF0YXR5cGUsIGRhdGF0eXBlXSkgfHwgZXF1YWxTY2FsYXI7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgdmFyIGtTdXBlciA9IGsgPiAwID8gayA6IDA7XG4gICAgdmFyIGtTdWIgPSBrIDwgMCA/IC1rIDogMDsgLy8gcm93cyBhbmQgY29sdW1uc1xuXG4gICAgdmFyIHJvd3MgPSBzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gc2l6ZVsxXTsgLy8gbnVtYmVyIG9mIG5vbi16ZXJvIGl0ZW1zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MgLSBrU3ViLCBjb2x1bW5zIC0ga1N1cGVyKTsgLy8gdmFsdWUgZXh0cmFjdGlvbiBmdW5jdGlvblxuXG4gICAgdmFyIF92YWx1ZTsgLy8gY2hlY2sgdmFsdWVcblxuXG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAvLyB2YWxpZGF0ZSBhcnJheVxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gbikge1xuICAgICAgICAvLyBudW1iZXIgb2YgdmFsdWVzIGluIGFycmF5IG11c3QgYmUgblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgYXJyYXkgbGVuZ3RoJyk7XG4gICAgICB9IC8vIGRlZmluZSBmdW5jdGlvblxuXG5cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZShpKSB7XG4gICAgICAgIC8vIHJldHVybiB2YWx1ZSBAIGlcbiAgICAgICAgcmV0dXJuIHZhbHVlW2ldO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTWF0cml4KHZhbHVlKSkge1xuICAgICAgLy8gbWF0cml4IHNpemVcbiAgICAgIHZhciBtcyA9IHZhbHVlLnNpemUoKTsgLy8gdmFsaWRhdGUgbWF0cml4XG5cbiAgICAgIGlmIChtcy5sZW5ndGggIT09IDEgfHwgbXNbMF0gIT09IG4pIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIHZhbHVlcyBpbiBhcnJheSBtdXN0IGJlIG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1hdHJpeCBsZW5ndGgnKTtcbiAgICAgIH0gLy8gZGVmaW5lIGZ1bmN0aW9uXG5cblxuICAgICAgX3ZhbHVlID0gZnVuY3Rpb24gX3ZhbHVlKGkpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlIEAgaVxuICAgICAgICByZXR1cm4gdmFsdWUuZ2V0KFtpXSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkZWZpbmUgZnVuY3Rpb25cbiAgICAgIF92YWx1ZSA9IGZ1bmN0aW9uIF92YWx1ZSgpIHtcbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfSAvLyBjcmVhdGUgYXJyYXlzXG5cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSBbXTtcbiAgICB2YXIgcHRyID0gW107IC8vIGxvb3AgaXRlbXNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBudW1iZXIgb2Ygcm93cyB3aXRoIHZhbHVlXG4gICAgICBwdHIucHVzaCh2YWx1ZXMubGVuZ3RoKTsgLy8gZGlhZ29uYWwgaW5kZXhcblxuICAgICAgdmFyIGkgPSBqIC0ga1N1cGVyOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHNldCBkaWFnb25hbCB2YWx1ZVxuXG4gICAgICBpZiAoaSA+PSAwICYmIGkgPCBuKSB7XG4gICAgICAgIC8vIGdldCB2YWx1ZSBAIGlcbiAgICAgICAgdmFyIHYgPSBfdmFsdWUoaSk7IC8vIGNoZWNrIGZvciB6ZXJvXG5cblxuICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgLy8gY29sdW1uXG4gICAgICAgICAgaW5kZXgucHVzaChpICsga1N1Yik7IC8vIGFkZCB2YWx1ZVxuXG4gICAgICAgICAgdmFsdWVzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIGxhc3QgdmFsdWUgc2hvdWxkIGJlIG51bWJlciBvZiB2YWx1ZXNcblxuXG4gICAgcHRyLnB1c2godmFsdWVzLmxlbmd0aCk7IC8vIGNyZWF0ZSBTcGFyc2VNYXRyaXhcblxuICAgIHJldHVybiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcHRyOiBwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc11cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIFN3YXAgcm93cyBpIGFuZCBqIGluIE1hdHJpeC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNwYXJzZU1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgTWF0cml4IHJvdyBpbmRleCAyXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgIFRoZSBtYXRyaXggcmVmZXJlbmNlXG4gICAqL1xuXG5cbiAgU3BhcnNlTWF0cml4LnByb3RvdHlwZS5zd2FwUm93cyA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gY2hlY2sgaW5kZXhcbiAgICBpZiAoIWlzTnVtYmVyKGkpIHx8ICFpc0ludGVnZXIoaSkgfHwgIWlzTnVtYmVyKGopIHx8ICFpc0ludGVnZXIoaikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm93IGluZGV4IG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcnMnKTtcbiAgICB9IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuXG4gICAgaWYgKHRoaXMuX3NpemUubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgdHdvIGRpbWVuc2lvbmFsIG1hdHJpeCBpcyBzdXBwb3J0ZWQnKTtcbiAgICB9IC8vIHZhbGlkYXRlIGluZGV4XG5cblxuICAgIHZhbGlkYXRlSW5kZXgoaSwgdGhpcy5fc2l6ZVswXSk7XG4gICAgdmFsaWRhdGVJbmRleChqLCB0aGlzLl9zaXplWzBdKTsgLy8gc3dhcCByb3dzXG5cbiAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGksIGosIHRoaXMuX3NpemVbMV0sIHRoaXMuX3ZhbHVlcywgdGhpcy5faW5kZXgsIHRoaXMuX3B0cik7IC8vIHJldHVybiBjdXJyZW50IGluc3RhbmNlXG5cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogTG9vcCByb3dzIHdpdGggZGF0YSBpbiBjb2x1bW4gai5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGogICAgICAgICAgICBDb2x1bW5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzICAgICAgICBNYXRyaXggdmFsdWVzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ICAgICAgICAgTWF0cml4IHJvdyBpbmRlY2VzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHB0ciAgICAgICAgICAgTWF0cml4IGNvbHVtbiBwb2ludGVyc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgZm9yIGV2ZXJ5IHJvdyBpbiBjb2x1bW4galxuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5fZm9yRWFjaFJvdyA9IGZ1bmN0aW9uIChqLCB2YWx1ZXMsIGluZGV4LCBwdHIsIGNhbGxiYWNrKSB7XG4gICAgLy8gaW5kZWNlcyBmb3IgY29sdW1uIGpcbiAgICB2YXIgazAgPSBwdHJbal07XG4gICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gbG9vcFxuXG4gICAgZm9yICh2YXIgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrXG4gICAgICBjYWxsYmFjayhpbmRleFtrXSwgdmFsdWVzW2tdKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTd2FwIHJvd3MgeCBhbmQgeSBpbiBTcGFyc2UgTWF0cml4IGRhdGEgc3RydWN0dXJlcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggICAgICAgICBNYXRyaXggcm93IGluZGV4IDFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgICAgICBNYXRyaXggcm93IGluZGV4IDJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnMgICBOdW1iZXIgb2YgY29sdW1ucyBpbiBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzICAgICBNYXRyaXggdmFsdWVzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ICAgICAgTWF0cml4IHJvdyBpbmRlY2VzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHB0ciAgICAgICAgTWF0cml4IGNvbHVtbiBwb2ludGVyc1xuICAgKi9cblxuXG4gIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MgPSBmdW5jdGlvbiAoeCwgeSwgY29sdW1ucywgdmFsdWVzLCBpbmRleCwgcHRyKSB7XG4gICAgLy8gbG9vcCBjb2x1bW5zXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cbiAgICAgIHZhciBrMCA9IHB0cltqXTtcbiAgICAgIHZhciBrMSA9IHB0cltqICsgMV07IC8vIGZpbmQgdmFsdWUgaW5kZXggQCB4XG5cbiAgICAgIHZhciBreCA9IF9nZXRWYWx1ZUluZGV4KHgsIGswLCBrMSwgaW5kZXgpOyAvLyBmaW5kIHZhbHVlIGluZGV4IEAgeFxuXG5cbiAgICAgIHZhciBreSA9IF9nZXRWYWx1ZUluZGV4KHksIGswLCBrMSwgaW5kZXgpOyAvLyBjaGVjayBib3RoIHJvd3MgZXhpc3QgaW4gbWF0cml4XG5cblxuICAgICAgaWYgKGt4IDwgazEgJiYga3kgPCBrMSAmJiBpbmRleFtreF0gPT09IHggJiYgaW5kZXhba3ldID09PSB5KSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIChjaGVjayBmb3IgcGF0dGVybiBtYXRyaXgpXG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YXIgdiA9IHZhbHVlc1treF07XG4gICAgICAgICAgdmFsdWVzW2t4XSA9IHZhbHVlc1treV07XG4gICAgICAgICAgdmFsdWVzW2t5XSA9IHY7XG4gICAgICAgIH0gLy8gbmV4dCBjb2x1bW5cblxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayB4IHJvdyBleGlzdCAmIG5vIHkgcm93XG5cblxuICAgICAgaWYgKGt4IDwgazEgJiYgaW5kZXhba3hdID09PSB4ICYmIChreSA+PSBrMSB8fCBpbmRleFtreV0gIT09IHkpKSB7XG4gICAgICAgIC8vIHZhbHVlIEAgeCAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICB2YXIgdnggPSB2YWx1ZXMgPyB2YWx1ZXNba3hdIDogdW5kZWZpbmVkOyAvLyBpbnNlcnQgdmFsdWUgQCB5XG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt5LCAwLCB5KTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreSwgMCwgdngpO1xuICAgICAgICB9IC8vIHJlbW92ZSB2YWx1ZSBAIHggKGFkanVzdCBhcnJheSBpbmRleCBpZiBuZWVkZWQpXG5cblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3kgPD0ga3ggPyBreCArIDEgOiBreCwgMSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3kgPD0ga3ggPyBreCArIDEgOiBreCwgMSk7XG4gICAgICAgIH0gLy8gbmV4dCBjb2x1bW5cblxuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBjaGVjayB5IHJvdyBleGlzdCAmIG5vIHggcm93XG5cblxuICAgICAgaWYgKGt5IDwgazEgJiYgaW5kZXhba3ldID09PSB5ICYmIChreCA+PSBrMSB8fCBpbmRleFtreF0gIT09IHgpKSB7XG4gICAgICAgIC8vIHZhbHVlIEAgeSAoY2hlY2sgZm9yIHBhdHRlcm4gbWF0cml4KVxuICAgICAgICB2YXIgdnkgPSB2YWx1ZXMgPyB2YWx1ZXNba3ldIDogdW5kZWZpbmVkOyAvLyBpbnNlcnQgdmFsdWUgQCB4XG5cbiAgICAgICAgaW5kZXguc3BsaWNlKGt4LCAwLCB4KTtcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFsdWVzLnNwbGljZShreCwgMCwgdnkpO1xuICAgICAgICB9IC8vIHJlbW92ZSB2YWx1ZSBAIHkgKGFkanVzdCBhcnJheSBpbmRleCBpZiBuZWVkZWQpXG5cblxuICAgICAgICBpbmRleC5zcGxpY2Uoa3ggPD0ga3kgPyBreSArIDEgOiBreSwgMSk7XG5cbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhbHVlcy5zcGxpY2Uoa3ggPD0ga3kgPyBreSArIDEgOiBreSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNwYXJzZU1hdHJpeDtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnbnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZU51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBudW1iZXIgb3IgY29udmVydCBhIHN0cmluZywgYm9vbGVhbiwgb3IgdW5pdCB0byBhIG51bWJlci5cbiAgICogV2hlbiB2YWx1ZSBpcyBhIG1hdHJpeCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIG51bWJlci5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm51bWJlcih2YWx1ZSlcbiAgICogICAgbWF0aC5udW1iZXIodW5pdCwgdmFsdWVsZXNzVW5pdClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubnVtYmVyKDIpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDJcbiAgICogICAgbWF0aC5udW1iZXIoJzcuMicpICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNy4yXG4gICAqICAgIG1hdGgubnVtYmVyKHRydWUpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDFcbiAgICogICAgbWF0aC5udW1iZXIoW3RydWUsIGZhbHNlLCB0cnVlLCB0cnVlXSkgLy8gcmV0dXJucyBbMSwgMCwgMSwgMV1cbiAgICogICAgbWF0aC5udW1iZXIobWF0aC51bml0KCc1MmNtJyksICdtJykgICAgLy8gcmV0dXJucyAwLjUyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIGJvb2xlYW4sIGNvbXBsZXgsIGluZGV4LCBtYXRyaXgsIHN0cmluZywgdW5pdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbiB8IEFycmF5IHwgTWF0cml4IHwgVW5pdCB8IG51bGx9IFt2YWx1ZV0gIFZhbHVlIHRvIGJlIGNvbnZlcnRlZFxuICAgKiBAcGFyYW0ge1VuaXQgfCBzdHJpbmd9IFt2YWx1ZWxlc3NVbml0XSBBIHZhbHVlbGVzcyB1bml0LCB1c2VkIHRvIGNvbnZlcnQgYSB1bml0IHRvIGEgbnVtYmVyXG4gICAqIEByZXR1cm4ge251bWJlciB8IEFycmF5IHwgTWF0cml4fSBUaGUgY3JlYXRlZCBudW1iZXJcbiAgICovXG4gIHZhciBudW1iZXIgPSB0eXBlZCgnbnVtYmVyJywge1xuICAgICcnOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIGlmICh4ID09PSAnTmFOJykgcmV0dXJuIE5hTjtcbiAgICAgIHZhciBudW0gPSBOdW1iZXIoeCk7XG5cbiAgICAgIGlmIChpc05hTihudW0pKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignU3RyaW5nIFwiJyArIHggKyAnXCIgaXMgbm8gdmFsaWQgbnVtYmVyJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChbJzBiJywgJzBvJywgJzB4J10uaW5jbHVkZXMoeC5zdWJzdHJpbmcoMCwgMikpKSB7XG4gICAgICAgIGlmIChudW0gPiAyICoqIDMyIC0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlN0cmluZyBcXFwiXCIuY29uY2F0KHgsIFwiXFxcIiBpcyBvdXQgb2YgcmFuZ2VcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bSAmIDB4ODAwMDAwMDApIHtcbiAgICAgICAgICBudW0gPSAtMSAqIH4obnVtIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LnRvTnVtYmVyKCk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgudmFsdWVPZigpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY29uZCBhcmd1bWVudCB3aXRoIHZhbHVlbGVzcyB1bml0IGV4cGVjdGVkJyk7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgICdVbml0LCBzdHJpbmcgfCBVbml0JzogZnVuY3Rpb24gVW5pdFN0cmluZ1VuaXQodW5pdCwgdmFsdWVsZXNzVW5pdCkge1xuICAgICAgcmV0dXJuIHVuaXQudG9OdW1iZXIodmFsdWVsZXNzVW5pdCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzKTtcbiAgICB9XG4gIH0pOyAvLyByZXZpdmVyIGZ1bmN0aW9uIHRvIHBhcnNlIGEgSlNPTiBvYmplY3QgbGlrZTpcbiAgLy9cbiAgLy8gICAgIHtcIm1hdGhqc1wiOlwibnVtYmVyXCIsXCJ2YWx1ZVwiOlwiMi4zXCJ9XG4gIC8vXG4gIC8vIGludG8gYSBudW1iZXIgMi4zXG5cbiAgbnVtYmVyLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChqc29uLnZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gbnVtYmVyO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xudmFyIG5hbWUgPSAnYmlnbnVtYmVyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0JpZ051bWJlciddO1xuZXhwb3J0IHZhciBjcmVhdGVCaWdudW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBCaWdOdW1iZXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIEJpZ051bWJlciwgd2hpY2ggY2FuIHN0b3JlIG51bWJlcnMgd2l0aCBhcmJpdHJhcnkgcHJlY2lzaW9uLlxuICAgKiBXaGVuIGEgbWF0cml4IGlzIHByb3ZpZGVkLCBhbGwgZWxlbWVudHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gQmlnTnVtYmVyLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguYmlnbnVtYmVyKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAwLjEgKyAwLjIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMC4zMDAwMDAwMDAwMDAwMDAwNFxuICAgKiAgICBtYXRoLmJpZ251bWJlcigwLjEpICsgbWF0aC5iaWdudW1iZXIoMC4yKSAgLy8gcmV0dXJucyBCaWdOdW1iZXIgMC4zXG4gICAqXG4gICAqXG4gICAqICAgIDcuMmU1MDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciBJbmZpbml0eVxuICAgKiAgICBtYXRoLmJpZ251bWJlcignNy4yZTUwMCcpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBCaWdOdW1iZXIgNy4yZTUwMFxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYm9vbGVhbiwgY29tcGxleCwgaW5kZXgsIG1hdHJpeCwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBBcnJheSB8IE1hdHJpeCB8IGJvb2xlYW4gfCBudWxsfSBbdmFsdWVdICBWYWx1ZSBmb3IgdGhlIGJpZyBudW1iZXIsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgYnkgZGVmYXVsdC5cbiAgICogQHJldHVybnMge0JpZ051bWJlcn0gVGhlIGNyZWF0ZWQgYmlnbnVtYmVyXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ2JpZ251bWJlcicsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKDApO1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgLy8gY29udmVydCB0byBzdHJpbmcgdG8gcHJldmVudCBlcnJvcnMgaW4gY2FzZSBvZiA+MTUgZGlnaXRzXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4ICsgJycpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICAvLyB3ZSBhc3N1bWUgYSBCaWdOdW1iZXIgaXMgaW1tdXRhYmxlXG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcih4Lm4pLmRpdih4LmQpLnRpbWVzKHgucyk7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcigwKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG52YXIgbmFtZSA9ICdmcmFjdGlvbic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdGcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVGcmFjdGlvbiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIEZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmcmFjdGlvbiBjb252ZXJ0IGEgdmFsdWUgdG8gYSBmcmFjdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKiAgICAgbWF0aC5mcmFjdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKVxuICAgKiAgICAgbWF0aC5mcmFjdGlvbih7bjogbnVtZXJhdG9yLCBkOiBkZW5vbWluYXRvcn0pXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKG1hdHJpeDogQXJyYXkgfCBNYXRyaXgpICAgICAgICAgVHVybiBhbGwgbWF0cml4IGVudHJpZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRvIGZyYWN0aW9uc1xuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguZnJhY3Rpb24oMSwgMylcbiAgICogICAgIG1hdGguZnJhY3Rpb24oJzIvMycpXG4gICAqICAgICBtYXRoLmZyYWN0aW9uKHtuOiAyLCBkOiAzfSlcbiAgICogICAgIG1hdGguZnJhY3Rpb24oWzAuMiwgMC4yNSwgMS4yNV0pXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBiaWdudW1iZXIsIG51bWJlciwgc3RyaW5nLCB1bml0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBBcnJheSB8IE1hdHJpeH0gW2FyZ3NdXG4gICAqICAgICAgICAgICAgQXJndW1lbnRzIHNwZWNpZnlpbmcgdGhlIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3Igb2ZcbiAgICogICAgICAgICAgICB0aGUgZnJhY3Rpb25cbiAgICogQHJldHVybiB7RnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyBhIGZyYWN0aW9uXG4gICAqL1xuICByZXR1cm4gdHlwZWQoJ2ZyYWN0aW9uJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmICghaXNGaW5pdGUoeCkgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHggKyAnIGNhbm5vdCBiZSByZXByZXNlbnRlZCBhcyBhIGZyYWN0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHgpO1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG4gICAgfSxcbiAgICBudWxsOiBmdW5jdGlvbiBfbnVsbCh4KSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKDApO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4LnRvU3RyaW5nKCkpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4OyAvLyBmcmFjdGlvbnMgYXJlIGltbXV0YWJsZVxuICAgIH0sXG4gICAgT2JqZWN0OiBmdW5jdGlvbiBPYmplY3QoeCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih4KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdtYXRyaXgnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnTWF0cml4JywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVNYXRyaXggPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBNYXRyaXgsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBNYXRyaXguIFRoZSBmdW5jdGlvbiBjcmVhdGVzIGEgbmV3IGBtYXRoLk1hdHJpeGAgb2JqZWN0IGZyb21cbiAgICogYW4gYEFycmF5YC4gQSBNYXRyaXggaGFzIHV0aWxpdHkgZnVuY3Rpb25zIHRvIG1hbmlwdWxhdGUgdGhlIGRhdGEgaW4gdGhlXG4gICAqIG1hdHJpeCwgbGlrZSBnZXR0aW5nIHRoZSBzaXplIGFuZCBnZXR0aW5nIG9yIHNldHRpbmcgdmFsdWVzIGluIHRoZSBtYXRyaXguXG4gICAqIFN1cHBvcnRlZCBzdG9yYWdlIGZvcm1hdHMgYXJlICdkZW5zZScgYW5kICdzcGFyc2UnLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubWF0cml4KCkgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggdXNpbmcgZGVmYXVsdCBzdG9yYWdlIGZvcm1hdCAoZGVuc2UpLlxuICAgKiAgICBtYXRoLm1hdHJpeChkYXRhKSAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYSBtYXRyaXggd2l0aCBpbml0aWFsIGRhdGEgdXNpbmcgZGVmYXVsdCBzdG9yYWdlIGZvcm1hdCAoZGVuc2UpLlxuICAgKiAgICBtYXRoLm1hdHJpeCgnZGVuc2UnKSAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZXMgYW4gZW1wdHkgbWF0cml4IHVzaW5nIHRoZSBnaXZlbiBzdG9yYWdlIGZvcm1hdC5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ2RlbnNlJykgICAgICAgICAgICAvLyBjcmVhdGVzIGEgbWF0cml4IHdpdGggaW5pdGlhbCBkYXRhIHVzaW5nIHRoZSBnaXZlbiBzdG9yYWdlIGZvcm1hdC5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ3NwYXJzZScpICAgICAgICAgICAvLyBjcmVhdGVzIGEgc3BhcnNlIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YS5cbiAgICogICAgbWF0aC5tYXRyaXgoZGF0YSwgJ3NwYXJzZScsICdudW1iZXInKSAvLyBjcmVhdGVzIGEgc3BhcnNlIG1hdHJpeCB3aXRoIGluaXRpYWwgZGF0YSwgbnVtYmVyIGRhdGEgdHlwZS5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIGxldCBtID0gbWF0aC5tYXRyaXgoW1sxLCAyXSwgWzMsIDRdXSlcbiAgICogICAgbS5zaXplKCkgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcnJheSBbMiwgMl1cbiAgICogICAgbS5yZXNpemUoWzMsIDJdLCA1KVxuICAgKiAgICBtLnZhbHVlT2YoKSAgICAgICAgICAgICAgICAgICAgIC8vIEFycmF5IFtbMSwgMl0sIFszLCA0XSwgWzUsIDVdXVxuICAgKiAgICBtLmdldChbMSwgMF0pICAgICAgICAgICAgICAgICAgICAvLyBudW1iZXIgM1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbnVtYmVyLCBzdHJpbmcsIHVuaXQsIHNwYXJzZVxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5IHwgTWF0cml4fSBbZGF0YV0gICAgQSBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgVGhlIE1hdHJpeCBzdG9yYWdlIGZvcm1hdFxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9IFRoZSBjcmVhdGVkIG1hdHJpeFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKFtdKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGZvcm1hdCkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10sIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBzdHJpbmcnOiBmdW5jdGlvbiBzdHJpbmdTdHJpbmcoZm9ybWF0LCBkYXRhdHlwZSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoW10sIGZvcm1hdCwgZGF0YXR5cGUpO1xuICAgIH0sXG4gICAgQXJyYXk6IGZ1bmN0aW9uIEFycmF5KGRhdGEpIHtcbiAgICAgIHJldHVybiBfY3JlYXRlKGRhdGEpO1xuICAgIH0sXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoZGF0YSkge1xuICAgICAgcmV0dXJuIF9jcmVhdGUoZGF0YSwgZGF0YS5zdG9yYWdlKCkpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBzdHJpbmcnOiBfY3JlYXRlLFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nLCBzdHJpbmcnOiBfY3JlYXRlXG4gIH0pO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1hdHJpeCB3aXRoIGdpdmVuIHN0b3JhZ2UgZm9ybWF0XG4gICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YXR5cGVdXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9IFJldHVybnMgYSBuZXcgTWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGUoZGF0YSwgZm9ybWF0LCBkYXRhdHlwZSkge1xuICAgIC8vIGdldCBzdG9yYWdlIGZvcm1hdCBjb25zdHJ1Y3RvclxuICAgIGlmIChmb3JtYXQgPT09ICdkZW5zZScgfHwgZm9ybWF0ID09PSAnZGVmYXVsdCcgfHwgZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgRGVuc2VNYXRyaXgoZGF0YSwgZGF0YXR5cGUpO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQgPT09ICdzcGFyc2UnKSB7XG4gICAgICByZXR1cm4gbmV3IFNwYXJzZU1hdHJpeChkYXRhLCBkYXRhdHlwZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBtYXRyaXggdHlwZSAnICsgSlNPTi5zdHJpbmdpZnkoZm9ybWF0KSArICcuJyk7XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAndW5hcnlNaW51cyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVVbmFyeU1pbnVzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEludmVyc2UgdGhlIHNpZ24gb2YgYSB2YWx1ZSwgYXBwbHkgYSB1bmFyeSBtaW51cyBvcGVyYXRpb24uXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuIEJvb2xlYW4gdmFsdWVzIGFuZFxuICAgKiBzdHJpbmdzIHdpbGwgYmUgY29udmVydGVkIHRvIGEgbnVtYmVyLiBGb3IgY29tcGxleCBudW1iZXJzLCBib3RoIHJlYWwgYW5kXG4gICAqIGNvbXBsZXggdmFsdWUgYXJlIGludmVydGVkLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgudW5hcnlNaW51cyh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKDMuNSkgICAgICAvLyByZXR1cm5zIC0zLjVcbiAgICogICAgbWF0aC51bmFyeU1pbnVzKC00LjIpICAgICAvLyByZXR1cm5zIDQuMlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYWRkLCBzdWJ0cmFjdCwgdW5hcnlQbHVzXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCBOdW1iZXIgdG8gYmUgaW52ZXJ0ZWQuXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0aGUgdmFsdWUgd2l0aCBpbnZlcnRlZCBzaWduLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBudW1iZXI6IHVuYXJ5TWludXNOdW1iZXIsXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5uZWcoKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4Lm5lZygpO1xuICAgIH0sXG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyh4LnZhbHVlKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIHVuYXJ5TWludXMoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9IC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBzdHJpbmdcblxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGFic051bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdhYnMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWJzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYSBudW1iZXIuIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzXG4gICAqIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5hYnMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguYWJzKDMuNSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy41XG4gICAqICAgIG1hdGguYWJzKC00LjIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNC4yXG4gICAqXG4gICAqICAgIG1hdGguYWJzKFszLCAtNSwgLTEsIDAsIDJdKSAgLy8gcmV0dXJucyBBcnJheSBbMywgNSwgMSwgMCwgMl1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHNpZ25cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXggfCBVbml0fSB4XG4gICAqICAgICAgICAgICAgQSBudW1iZXIgb3IgbWF0cml4IGZvciB3aGljaCB0byBnZXQgdGhlIGFic29sdXRlIHZhbHVlXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4IHwgVW5pdH1cbiAgICogICAgICAgICAgICBBYnNvbHV0ZSB2YWx1ZSBvZiBgeGBcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgbnVtYmVyOiBhYnNOdW1iZXIsXG4gICAgQ29tcGxleDogZnVuY3Rpb24gQ29tcGxleCh4KSB7XG4gICAgICByZXR1cm4geC5hYnMoKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmFicygpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBhYnMoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgIFVuaXQ6IGZ1bmN0aW9uIFVuaXQoeCkge1xuICAgICAgcmV0dXJuIHguYWJzKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFkZE51bWJlciB9IGZyb20gJy4uLy4uL3BsYWluL251bWJlci9pbmRleC5qcyc7XG52YXIgbmFtZSA9ICdhZGRTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWRkU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEFkZCB0d28gc2NhbGFyIHZhbHVlcywgYHggKyB5YC5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyBtZWFudCBmb3IgaW50ZXJuYWwgdXNlOiBpdCBpcyB1c2VkIGJ5IHRoZSBwdWJsaWMgZnVuY3Rpb25cbiAgICogYGFkZGBcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gYWRkXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleH0geSAgICAgICAgICBTZWNvbmQgdmFsdWUgdG8gYWRkXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBTdW0gb2YgYHhgIGFuZCBgeWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogYWRkTnVtYmVyLFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoeCwgeSkge1xuICAgICAgcmV0dXJuIHguYWRkKHkpO1xuICAgIH0sXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5hZGQoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICh4LnZhbHVlID09PSBudWxsIHx8IHgudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeCBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIGlmICh5LnZhbHVlID09PSBudWxsIHx8IHkudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgeSBjb250YWlucyBhIHVuaXQgd2l0aCB1bmRlZmluZWQgdmFsdWUnKTtcbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHRocm93IG5ldyBFcnJvcignVW5pdHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICB2YXIgcmVzID0geC5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gdGhpcyhyZXMudmFsdWUsIHkudmFsdWUpO1xuICAgICAgcmVzLmZpeFByZWZpeCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTEgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFMpLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMShzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBpbml0aWFsaXplIHB0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIGkgPSBhaW5kZXhba107IC8vIGludm9rZSBjYWxsYmFja1xuXG4gICAgICAgIHZhciB2ID0gaW52ZXJzZSA/IGNmKGIsIGF2YWx1ZXNba10pIDogY2YoYXZhbHVlc1trXSwgYik7IC8vIGNoZWNrIHZhbHVlIGlzIHplcm9cblxuICAgICAgICBpZiAoIWVxKHYsIHplcm8pKSB7XG4gICAgICAgICAgLy8gcHVzaCBpbmRleCAmIHZhbHVlXG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgICAgY3ZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIHMuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTE0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTE0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgRGVuc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLi56LCBiKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqLC4uLnopID0gZihBaWouLnosIGIpXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWouLnosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixBaWouLnopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2NTkwNDJcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xNChhLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcG9wdWxhdGUgY2RhdGEsIGl0ZXJhdGUgdGhyb3VnaCBkaW1lbnNpb25zXG5cblxuICAgIHZhciBjZGF0YSA9IGFzaXplLmxlbmd0aCA+IDAgPyBfaXRlcmF0ZShjZiwgMCwgYXNpemUsIGFzaXplWzBdLCBhZGF0YSwgYiwgaW52ZXJzZSkgOiBbXTsgLy8gYyBtYXRyaXhcblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogY2xvbmUoYXNpemUpLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07IC8vIHJlY3Vyc2l2ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIF9pdGVyYXRlKGYsIGxldmVsLCBzLCBuLCBhdiwgYnYsIGludmVyc2UpIHtcbiAgICAvLyBpbml0aWFsaXplIGFycmF5IGZvciB0aGlzIGxldmVsXG4gICAgdmFyIGN2ID0gW107IC8vIGNoZWNrIHdlIHJlYWNoIHRoZSBsYXN0IGxldmVsXG5cbiAgICBpZiAobGV2ZWwgPT09IHMubGVuZ3RoIC0gMSkge1xuICAgICAgLy8gbG9vcCBhcnJheXMgaW4gbGFzdCBsZXZlbFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrIGFuZCBzdG9yZSB2YWx1ZVxuICAgICAgICBjdltpXSA9IGludmVyc2UgPyBmKGJ2LCBhdltpXSkgOiBmKGF2W2ldLCBidik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0ZXJhdGUgY3VycmVudCBsZXZlbFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBuZXh0IGxldmVsXG4gICAgICAgIGN2W2pdID0gX2l0ZXJhdGUoZiwgbGV2ZWwgKyAxLCBzLCBzW2xldmVsICsgMV0sIGF2W2pdLCBidiwgaW52ZXJzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN2O1xuICB9XG59KTsiLCJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IG5lYXJseUVxdWFsIGFzIGJpZ05lYXJseUVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL25lYXJseUVxdWFsLmpzJztcbmltcG9ydCB7IGNlaWxOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2NlaWwnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJ3JvdW5kJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhciddO1xuZXhwb3J0IHZhciBjcmVhdGVDZWlsID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIHJvdW5kLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTExID0gY3JlYXRlQWxnb3JpdGhtMTEoe1xuICAgIHR5cGVkLFxuICAgIGVxdWFsU2NhbGFyXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgcGx1cyBpbmZpbml0eVxuICAgKiBJZiBgeGAgaXMgY29tcGxleCwgYm90aCByZWFsIGFuZCBpbWFnaW5hcnkgcGFydCBhcmUgcm91bmRlZCB0b3dhcmRzIHBsdXMgaW5maW5pdHkuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKHgpXG4gICAqICAgIG1hdGguY2VpbCh4LCBuKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKDMuMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGguY2VpbCgzLjgpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLmNlaWwoLTQuMikgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGguY2VpbCgtNC43KSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKDMuMjEyLCAyKSAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjIyXG4gICAqICAgIG1hdGguY2VpbCgzLjI4OCwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yOVxuICAgKiAgICBtYXRoLmNlaWwoLTQuMjEyLCAyKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjIxXG4gICAqICAgIG1hdGguY2VpbCgtNC43ODIsIDIpICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTQuNzhcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjI0LCAtMi43MSlcbiAgICogICAgbWF0aC5jZWlsKGMpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggNCAtIDJpXG4gICAqICAgIG1hdGguY2VpbChjLCAxKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMyAtIDIuN2lcbiAgICpcbiAgICogICAgbWF0aC5jZWlsKFszLjIsIDMuOCwgLTQuN10pICAvLyByZXR1cm5zIEFycmF5IFs0LCA0LCAtNF1cbiAgICogICAgbWF0aC5jZWlsKFszLjIxLCAzLjgyLCAtNC43MV0sIDEpICAvLyByZXR1cm5zIEFycmF5IFszLjMsIDMuOSwgLTQuN11cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGZsb29yLCBmaXgsIHJvdW5kXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSB4ICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIGRlY2ltYWxzXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fSBSb3VuZGVkIHZhbHVlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZCgnY2VpbCcsIHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2VpbE51bWJlcih4KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgICBpZiAobmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQoeCwgXCJlXCIpLnNwbGl0KCdlJyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmNlaWwoTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpICsgbikpKTtcbiAgICAgICAgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQocmVzdWx0LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSAtIG4pKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguY2VpbCgpO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIG51bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguY2VpbChuKTtcbiAgICB9LFxuICAgIEJpZ051bWJlcjogZnVuY3Rpb24gQmlnTnVtYmVyKHgpIHtcbiAgICAgIGlmIChiaWdOZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpLCBEZWNpbWFsLlJPVU5EX0NFSUwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LmNlaWwoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguY2VpbChuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgY2VpbCgwKSA9IDBcbiAgICAgIHJldHVybiBkZWVwTWFwKHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBudW1iZXInOiBmdW5jdGlvbiBBcnJheU1hdHJpeE51bWJlcih4LCBuKSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIGNlaWwoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCBpID0+IHRoaXMoaSwgbiksIHRydWUpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gU3BhcnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIERlbnNlTWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXknOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyQXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2ZpeCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdDb21wbGV4JywgJ21hdHJpeCcsICdjZWlsJywgJ2Zsb29yJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZpeCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIENvbXBsZXg6IF9Db21wbGV4LFxuICAgIG1hdHJpeCxcbiAgICBjZWlsLFxuICAgIGZsb29yXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBSb3VuZCBhIHZhbHVlIHRvd2FyZHMgemVyby5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZpeCh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5maXgoMy4yKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzXG4gICAqICAgIG1hdGguZml4KDMuOCkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZpeCgtNC4yKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00XG4gICAqICAgIG1hdGguZml4KC00LjcpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICpcbiAgICogICAgbWF0aC5maXgoMy4xMiwgMSkgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xXG4gICAqICAgIG1hdGguZml4KDMuMTgsIDEpICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMVxuICAgKiAgICBtYXRoLmZpeCgtNC4xMiwgMSkgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4xXG4gICAqICAgIG1hdGguZml4KC00LjE3LCAxKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjFcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjIyLCAtMi43OClcbiAgICogICAgbWF0aC5maXgoYykgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDJpXG4gICAqICAgIG1hdGguZml4KGMsIDEpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMuMiAtIDIuN2lcbiAgICpcbiAgICogICAgbWF0aC5maXgoWzMuMiwgMy44LCAtNC43XSkgICAgICAvLyByZXR1cm5zIEFycmF5IFszLCAzLCAtNF1cbiAgICogICAgbWF0aC5maXgoWzMuMiwgMy44LCAtNC43XSwgMSkgICAvLyByZXR1cm5zIEFycmF5IFszLjIsIDMuOCwgLTQuN11cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGNlaWwsIGZsb29yLCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgICBOdW1iZXIgdG8gYmUgcm91bmRlZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBBcnJheX0gW249MF0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gICAgIFJvdW5kZWQgdmFsdWVcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKCdmaXgnLCB7XG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHggPiAwID8gZmxvb3IoeCkgOiBjZWlsKHgpO1xuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4ID4gMCA/IGZsb29yKHgsIG4pIDogY2VpbCh4LCBuKTtcbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIG5ldyBfQ29tcGxleCh4LnJlID4gMCA/IE1hdGguZmxvb3IoeC5yZSkgOiBNYXRoLmNlaWwoeC5yZSksIHguaW0gPiAwID8gTWF0aC5mbG9vcih4LmltKSA6IE1hdGguY2VpbCh4LmltKSk7XG4gICAgfSxcbiAgICAnQ29tcGxleCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQ29tcGxleE51bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4gbmV3IF9Db21wbGV4KHgucmUgPiAwID8gZmxvb3IoeC5yZSwgbikgOiBjZWlsKHgucmUsIG4pLCB4LmltID4gMCA/IGZsb29yKHguaW0sIG4pIDogY2VpbCh4LmltLCBuKSk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC5pc05lZ2F0aXZlKCkgPyBjZWlsKHgpIDogZmxvb3IoeCk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgcmV0dXJuIHguaXNOZWdhdGl2ZSgpID8gY2VpbCh4LCBuKSA6IGZsb29yKHgsIG4pO1xuICAgIH0sXG4gICAgRnJhY3Rpb246IGZ1bmN0aW9uIEZyYWN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB4LnMgPCAwID8geC5jZWlsKCkgOiB4LmZsb29yKCk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEZyYWN0aW9uTnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LnMgPCAwID8geC5jZWlsKG4pIDogeC5mbG9vcihuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZml4KDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIEFycmF5TWF0cml4TnVtYmVyQmlnTnVtYmVyKHgsIG4pIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZml4KDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCBEZWNpbWFsIGZyb20gJ2RlY2ltYWwuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVlcE1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgbmVhcmx5RXF1YWwgYXMgYmlnTmVhcmx5RXF1YWwgfSBmcm9tICcuLi8uLi91dGlscy9iaWdudW1iZXIvbmVhcmx5RXF1YWwuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ2Zsb29yJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdyb3VuZCcsICdtYXRyaXgnLCAnZXF1YWxTY2FsYXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlRmxvb3IgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgcm91bmQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyXG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFJvdW5kIGEgdmFsdWUgdG93YXJkcyBtaW51cyBpbmZpbml0eS5cbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmZsb29yKHgpXG4gICAqICAgIG1hdGguZmxvb3IoeCwgbilcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoMy4yKSAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgM1xuICAgKiAgICBtYXRoLmZsb29yKDMuOCkgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5mbG9vcigtNC4yKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKiAgICBtYXRoLmZsb29yKC00LjcpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC01XG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoMy4yMTIsIDIpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMjFcbiAgICogICAgbWF0aC5mbG9vcigzLjI4OCwgMikgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4yOFxuICAgKiAgICBtYXRoLmZsb29yKC00LjIxMiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC4yMlxuICAgKiAgICBtYXRoLmZsb29yKC00Ljc4MiwgMikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43OVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC5jb21wbGV4KDMuMjQsIC0yLjcxKVxuICAgKiAgICBtYXRoLmZsb29yKGMpICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggMyAtIDNpXG4gICAqICAgIG1hdGguZmxvb3IoYywgMSkgICAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAzLjIgLSAyLjhpXG4gICAqXG4gICAqICAgIG1hdGguZmxvb3IoWzMuMiwgMy44LCAtNC43XSkgICAgICAgLy8gcmV0dXJucyBBcnJheSBbMywgMywgLTVdXG4gICAqICAgIG1hdGguZmxvb3IoWzMuMjEsIDMuODIsIC00LjcxXSwgMSkgIC8vIHJldHVybnMgQXJyYXkgWzMuMiwgMy44LCAtNC44XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZml4LCByb3VuZFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2Zsb29yJywge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4KSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuZWFybHlFcXVhbCh4LCByb3VuZCh4LCBuKSwgY29uZmlnLmVwc2lsb24pKSB7XG4gICAgICAgIHJldHVybiByb3VuZCh4LCBuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbbnVtYmVyLCBleHBvbmVudF0gPSBcIlwiLmNvbmNhdCh4LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguZmxvb3IoTnVtYmVyKFwiXCIuY29uY2F0KG51bWJlciwgXCJlXCIpLmNvbmNhdChOdW1iZXIoZXhwb25lbnQpICsgbikpKTtcbiAgICAgICAgW251bWJlciwgZXhwb25lbnRdID0gXCJcIi5jb25jYXQocmVzdWx0LCBcImVcIikuc3BsaXQoJ2UnKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihcIlwiLmNvbmNhdChudW1iZXIsIFwiZVwiKS5jb25jYXQoTnVtYmVyKGV4cG9uZW50KSAtIG4pKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIHJldHVybiB4LmZsb29yKG4pO1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgaWYgKGJpZ05lYXJseUVxdWFsKHgsIHJvdW5kKHgpLCBjb25maWcuZXBzaWxvbikpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kKHgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHguZmxvb3IoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCBuKSB7XG4gICAgICBpZiAoYmlnTmVhcmx5RXF1YWwoeCwgcm91bmQoeCwgbiksIGNvbmZpZy5lcHNpbG9uKSkge1xuICAgICAgICByZXR1cm4gcm91bmQoeCwgbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMobi50b051bWJlcigpLCBEZWNpbWFsLlJPVU5EX0ZMT09SKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEZyYWN0aW9uOiBmdW5jdGlvbiBGcmFjdGlvbih4KSB7XG4gICAgICByZXR1cm4geC5mbG9vcigpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBudW1iZXInOiBmdW5jdGlvbiBGcmFjdGlvbk51bWJlcih4LCBuKSB7XG4gICAgICByZXR1cm4geC5mbG9vcihuKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgpIHtcbiAgICAgIC8vIGRlZXAgbWFwIGNvbGxlY3Rpb24sIHNraXAgemVyb3Mgc2luY2UgZmxvb3IoMCkgPSAwXG4gICAgICByZXR1cm4gZGVlcE1hcCh4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgbnVtYmVyJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhOdW1iZXIoeCwgbikge1xuICAgICAgLy8gZGVlcCBtYXAgY29sbGVjdGlvbiwgc2tpcCB6ZXJvcyBzaW5jZSBjZWlsKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgaSA9PiB0aGlzKGksIG4pLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTEoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBEZW5zZU1hdHJpeE51bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIEFycmF5JzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlckFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0wMSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0wMSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIFNwYXJzZU1hdHJpeCBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKERpaiwgU2lqKS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBOTlogdGltZXMgKG51bWJlciBvZiBub256ZXJvIGl0ZW1zIGluIFNwYXJzZU1hdHJpeCkuXG4gICAqXG4gICAqXG4gICAqICAgICAgICAgIOKUjCAgZihEaWosIFNpaikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIERpaiAgICAgICAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBkZW5zZU1hdHJpeCAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEQpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIHNwYXJzZU1hdHJpeCAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKFMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKERpaixTaWopIG9wZXJhdGlvbiB0byBpbnZva2UsIHdoZXJlIERpaiA9IERlbnNlTWF0cml4KGksaikgYW5kIFNpaiA9IFNwYXJzZU1hdHJpeChpLGopXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihTaWosRGlqKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBEZW5zZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIHZhciBkdCA9IHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0ID8gYWR0IDogdW5kZWZpbmVkOyAvLyBjYWxsYmFjayBmdW5jdGlvblxuXG4gICAgdmFyIGNmID0gZHQgPyB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSkgOiBjYWxsYmFjazsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGo7IC8vIHJlc3VsdCAoRGVuc2VNYXRyaXgpXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBjXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBjZGF0YVtpXSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gY29sdW1uIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W2ldID0gaW52ZXJzZSA/IGNmKGJ2YWx1ZXNba10sIGFkYXRhW2ldW2pdKSA6IGNmKGFkYXRhW2ldW2pdLCBidmFsdWVzW2tdKTsgLy8gbWFyayBpIGFzIHVwZGF0ZWRcblxuICAgICAgICB3W2ldID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBjaGVjayByb3cgaXMgaW4gd29ya3NwYWNlXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gY1tpXVtqXSB3YXMgYWxyZWFkeSBjYWxjdWxhdGVkXG4gICAgICAgICAgY2RhdGFbaV1bal0gPSB4W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGl0ZW0gZG9lcyBub3QgZXhpc3QgaW4gU1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gYWRhdGFbaV1bal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGRlbnNlTWF0cml4LmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE1BWChOTlpBLCBOTlpCKSB0aW1lc1xuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoQWlqLCBCaWopICA7IEEoaSxqKSAhPT0gMCAmJiBCKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkICBBKGksaikgICAgICAgOyBBKGksaikgIT09IDBcbiAgICogICAgICAgICAg4pSUICBCKGksaikgICAgICAgOyBCKGksaikgIT09IDBcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQSlcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQilcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoQWlqLEJpaikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgICAgICAgICBTcGFyc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjAyOTRcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0wNChhLCBiLCBjYWxsYmFjaykge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJ2YWx1ZXMgPSBiLl92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IGIuX2luZGV4O1xuICAgIHZhciBicHRyID0gYi5fcHRyO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGVxdWFsIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZSB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgZXEgPSB0eXBlZC5maW5kKGVxdWFsU2NhbGFyLCBbZHQsIGR0XSk7IC8vIGNvbnZlcnQgMCB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICB6ZXJvID0gdHlwZWQuY29udmVydCgwLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4YSA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciB4YiA9IGF2YWx1ZXMgJiYgYnZhbHVlcyA/IFtdIDogdW5kZWZpbmVkOyAvLyBtYXJrcyBpbmRpY2F0aW5nIHdlIGhhdmUgYSB2YWx1ZSBpbiB4IGZvciBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHdhID0gW107XG4gICAgdmFyIHdiID0gW107IC8vIHZhcnNcblxuICAgIHZhciBpLCBqLCBrLCBrMCwgazE7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyBjb2x1bW5zIG1hcmtcblxuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gbG9vcCBBKDosailcblxuICAgICAgZm9yIChrMCA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBhaW5kZXhba107IC8vIHVwZGF0ZSBjXG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB3YVtpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICB4YVtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gbG9vcCBCKDosailcblxuXG4gICAgICBmb3IgKGswID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgaSA9IGJpbmRleFtrXTsgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiBBXG5cbiAgICAgICAgaWYgKHdhW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHJlY29yZCBpbiB4YSBAIGlcbiAgICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja1xuICAgICAgICAgICAgdmFyIHYgPSBjZih4YVtpXSwgYnZhbHVlc1trXSk7IC8vIGNoZWNrIGZvciB6ZXJvXG5cbiAgICAgICAgICAgIGlmICghZXEodiwgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gdXBkYXRlIHdvcmtzcGFjZVxuICAgICAgICAgICAgICB4YVtpXSA9IHY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyByZW1vdmUgbWFyayAoaW5kZXggd2lsbCBiZSByZW1vdmVkIGxhdGVyKVxuICAgICAgICAgICAgICB3YVtpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVwZGF0ZSBjXG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICAgIHdiW2ldID0gbWFyazsgLy8gY2hlY2sgd2UgbmVlZCB0byBwcm9jZXNzIHZhbHVlc1xuXG4gICAgICAgICAgaWYgKHhiKSB7XG4gICAgICAgICAgICB4YltpXSA9IGJ2YWx1ZXNba107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKG5vbiBwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAoeGEgJiYgeGIpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmaXJzdCBpbmRleCBpbiBqXG4gICAgICAgIGsgPSBjcHRyW2pdOyAvLyBsb29wIGluZGV4IGluIGpcblxuICAgICAgICB3aGlsZSAoayA8IGNpbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICBpID0gY2luZGV4W2tdOyAvLyBjaGVjayB3b3Jrc3BhY2UgaGFzIHZhbHVlIEAgaVxuXG4gICAgICAgICAgaWYgKHdhW2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHZhbHVlIChBaWogIT0gMCB8fCAoQWlqICE9IDAgJiYgQmlqICE9IDApKVxuICAgICAgICAgICAgY3ZhbHVlc1trXSA9IHhhW2ldOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgICAgfSBlbHNlIGlmICh3YltpXSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZSAoYmlqICE9IDApXG4gICAgICAgICAgICBjdmFsdWVzW2tdID0geGJbaV07IC8vIGluY3JlbWVudCBwb2ludGVyXG5cbiAgICAgICAgICAgIGsrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGV4IEAga1xuICAgICAgICAgICAgY2luZGV4LnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHVwZGF0ZSBjcHRyXG5cblxuICAgIGNwdHJbY29sdW1uc10gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTEwJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTEwID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IFMgbm9uemVybyBpdGVtcyBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihTaWosIGIpLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5aIHRpbWVzIChudW1iZXIgb2Ygbm9uemVybyBpdGVtcyBpbiBTKS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKFNpaiwgYikgIDsgUyhpLGopICE9PSAwXG4gICAqIEMoaSxqKSA9IOKUpFxuICAgKiAgICAgICAgICDilJQgIGIgICAgICAgICAgOyBvdGhlcndpc2VcbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgcyAgICAgICAgICAgICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtTY2FsYXJ9ICAgYiAgICAgICAgICAgICAgICAgVGhlIFNjYWxhciB2YWx1ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosYikgb3BlcmF0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBpbnZlcnNlICAgICAgICAgICBBIHRydWUgdmFsdWUgaW5kaWNhdGVzIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkIGYoYixTaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9wdWxsLzM0NiNpc3N1ZWNvbW1lbnQtOTc2MjY4MTNcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBhbGdvcml0aG0xMChzLCBiLCBjYWxsYmFjaywgaW52ZXJzZSkge1xuICAgIC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGF2YWx1ZXMgPSBzLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IHMuX2luZGV4O1xuICAgIHZhciBhcHRyID0gcy5fcHRyO1xuICAgIHZhciBhc2l6ZSA9IHMuX3NpemU7XG4gICAgdmFyIGFkdCA9IHMuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCBhbmQgU2NhbGFyIHZhbHVlJyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgcm93cyA9IGFzaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gYXNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IGIgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgYiA9IHR5cGVkLmNvbnZlcnQoYiwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGNkYXRhID0gW107IC8vIHdvcmtzcGFjZXNcblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBjb2x1bW5zIG1hcmtcbiAgICAgIHZhciBtYXJrID0gaiArIDE7IC8vIHZhbHVlcyBpbiBqXG5cbiAgICAgIGZvciAodmFyIGswID0gYXB0cltqXSwgazEgPSBhcHRyW2ogKyAxXSwgayA9IGswOyBrIDwgazE7IGsrKykge1xuICAgICAgICAvLyByb3dcbiAgICAgICAgdmFyIHIgPSBhaW5kZXhba107IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB4W3JdID0gYXZhbHVlc1trXTtcbiAgICAgICAgd1tyXSA9IG1hcms7XG4gICAgICB9IC8vIGxvb3Agcm93c1xuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgQyBvbiBmaXJzdCBjb2x1bW5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcm93IGFycmF5XG4gICAgICAgICAgY2RhdGFbaV0gPSBbXTtcbiAgICAgICAgfSAvLyBjaGVjayBzcGFyc2UgbWF0cml4IGhhcyBhIHZhbHVlIEAgaSxqXG5cblxuICAgICAgICBpZiAod1tpXSA9PT0gbWFyaykge1xuICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFjaywgdXBkYXRlIENcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGludmVyc2UgPyBjZihiLCB4W2ldKSA6IGNmKHhbaV0sIGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlbnNlIG1hdHJpeCB2YWx1ZSBAIGksIGpcbiAgICAgICAgICBjZGF0YVtpXVtqXSA9IGI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGltZW5zaW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvci9EaW1lbnNpb25FcnJvci5qcyc7XG52YXIgbmFtZSA9ICdhbGdvcml0aG0xMyc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCddO1xuZXhwb3J0IHZhciBjcmVhdGVBbGdvcml0aG0xMyA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyBvdmVyIERlbnNlTWF0cml4IGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKEFpai4ueiwgQmlqLi56KS5cbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBNeE4gdGltZXMuXG4gICAqXG4gICAqIEMoaSxqLC4uLnopID0gZihBaWouLnosIEJpai4ueilcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgYSAgICAgICAgICAgICAgICAgVGhlIERlbnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgRGVuc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpai4ueixCaWouLnopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzY1ODY1OFxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEzKGEsIGIsIGNhbGxiYWNrKSB7XG4gICAgLy8gYSBhcnJheXNcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGFycmF5c1xuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gYyBhcnJheXNcblxuICAgIHZhciBjc2l6ZSA9IFtdOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyB2YWxpZGF0ZSBlYWNoIG9uZSBvZiB0aGUgZGltZW5zaW9uIHNpemVzXG5cblxuICAgIGZvciAodmFyIHMgPSAwOyBzIDwgYXNpemUubGVuZ3RoOyBzKyspIHtcbiAgICAgIC8vIG11c3QgbWF0Y2hcbiAgICAgIGlmIChhc2l6ZVtzXSAhPT0gYnNpemVbc10pIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgICB9IC8vIHVwZGF0ZSBkaW1lbnNpb24gaW4gY1xuXG5cbiAgICAgIGNzaXplW3NdID0gYXNpemVbc107XG4gICAgfSAvLyBkYXRhdHlwZVxuXG5cbiAgICB2YXIgZHQ7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHBvcHVsYXRlIGNkYXRhLCBpdGVyYXRlIHRocm91Z2ggZGltZW5zaW9uc1xuXG5cbiAgICB2YXIgY2RhdGEgPSBjc2l6ZS5sZW5ndGggPiAwID8gX2l0ZXJhdGUoY2YsIDAsIGNzaXplLCBjc2l6ZVswXSwgYWRhdGEsIGJkYXRhKSA6IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogY2RhdGEsXG4gICAgICBzaXplOiBjc2l6ZSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9OyAvLyByZWN1cnNpdmUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiBfaXRlcmF0ZShmLCBsZXZlbCwgcywgbiwgYXYsIGJ2KSB7XG4gICAgLy8gaW5pdGlhbGl6ZSBhcnJheSBmb3IgdGhpcyBsZXZlbFxuICAgIHZhciBjdiA9IFtdOyAvLyBjaGVjayB3ZSByZWFjaCB0aGUgbGFzdCBsZXZlbFxuXG4gICAgaWYgKGxldmVsID09PSBzLmxlbmd0aCAtIDEpIHtcbiAgICAgIC8vIGxvb3AgYXJyYXlzIGluIGxhc3QgbGV2ZWxcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIC8vIGludm9rZSBjYWxsYmFjayBhbmQgc3RvcmUgdmFsdWVcbiAgICAgICAgY3ZbaV0gPSBmKGF2W2ldLCBidltpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGl0ZXJhdGUgY3VycmVudCBsZXZlbFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgLy8gaXRlcmF0ZSBuZXh0IGxldmVsXG4gICAgICAgIGN2W2pdID0gX2l0ZXJhdGUoZiwgbGV2ZWwgKyAxLCBzLCBzW2xldmVsICsgMV0sIGF2W2pdLCBidltqXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN2O1xuICB9XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTAyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTAyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE5OWiB0aW1lcyAobnVtYmVyIG9mIG5vbnplcm8gaXRlbXMgaW4gU3BhcnNlTWF0cml4KS5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoUylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAoQylcbiAgICpcbiAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzQ3NzU3MVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTAyKGRlbnNlTWF0cml4LCBzcGFyc2VNYXRyaXgsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gZGVuc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhZGF0YSA9IGRlbnNlTWF0cml4Ll9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGRlbnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBhZHQgPSBkZW5zZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgYnZhbHVlcyA9IHNwYXJzZU1hdHJpeC5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBzcGFyc2VNYXRyaXguX2luZGV4O1xuICAgIHZhciBicHRyID0gc3BhcnNlTWF0cml4Ll9wdHI7XG4gICAgdmFyIGJzaXplID0gc3BhcnNlTWF0cml4Ll9zaXplO1xuICAgIHZhciBiZHQgPSBzcGFyc2VNYXRyaXguX2RhdGF0eXBlOyAvLyB2YWxpZGF0ZSBkaW1lbnNpb25zXG5cbiAgICBpZiAoYXNpemUubGVuZ3RoICE9PSBic2l6ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcihhc2l6ZS5sZW5ndGgsIGJzaXplLmxlbmd0aCk7XG4gICAgfSAvLyBjaGVjayByb3dzICYgY29sdW1uc1xuXG5cbiAgICBpZiAoYXNpemVbMF0gIT09IGJzaXplWzBdIHx8IGFzaXplWzFdICE9PSBic2l6ZVsxXSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaC4gTWF0cml4IEEgKCcgKyBhc2l6ZSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgKCcgKyBic2l6ZSArICcpJyk7XG4gICAgfSAvLyBzcGFyc2UgbWF0cml4IGNhbm5vdCBiZSBhIFBhdHRlcm4gbWF0cml4XG5cblxuICAgIGlmICghYnZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gRGVuc2UgTWF0cml4IGFuZCBQYXR0ZXJuIFNwYXJzZSBNYXRyaXgnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gZXF1YWwgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGVxID0gZXF1YWxTY2FsYXI7IC8vIHplcm8gdmFsdWVcblxuICAgIHZhciB6ZXJvID0gMDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnICYmIGFkdCA9PT0gYmR0KSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHQgKFNwYXJzZU1hdHJpeClcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gbG9vcCBjb2x1bW5zIGluIGJcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICAvLyB1cGRhdGUgY3B0clxuICAgICAgY3B0cltqXSA9IGNpbmRleC5sZW5ndGg7IC8vIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgICBmb3IgKHZhciBrMCA9IGJwdHJbal0sIGsxID0gYnB0cltqICsgMV0sIGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIHZhciBpID0gYmluZGV4W2tdOyAvLyB1cGRhdGUgQyhpLGopXG5cbiAgICAgICAgdmFyIGNpaiA9IGludmVyc2UgPyBjZihidmFsdWVzW2tdLCBhZGF0YVtpXVtqXSkgOiBjZihhZGF0YVtpXVtqXSwgYnZhbHVlc1trXSk7IC8vIGNoZWNrIGZvciBub256ZXJvXG5cbiAgICAgICAgaWYgKCFlcShjaWosIHplcm8pKSB7XG4gICAgICAgICAgLy8gcHVzaCBpICYgdlxuICAgICAgICAgIGNpbmRleC5wdXNoKGkpO1xuICAgICAgICAgIGN2YWx1ZXMucHVzaChjaWopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgY3B0clxuXG5cbiAgICBjcHRyW2NvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBzcGFyc2VNYXRyaXguY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbcm93cywgY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IERpbWVuc2lvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvRGltZW5zaW9uRXJyb3IuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMDMnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMDMgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoRGlqLCBTaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE0qTiB0aW1lcy5cbiAgICpcbiAgICpcbiAgICogICAgICAgICAg4pSMICBmKERpaiwgU2lqKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgZihEaWosIDApICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGRlbnNlTWF0cml4ICAgICAgIFRoZSBEZW5zZU1hdHJpeCBpbnN0YW5jZSAoRClcbiAgICogQHBhcmFtIHtNYXRyaXh9ICAgc3BhcnNlTWF0cml4ICAgICAgVGhlIFNwYXJzZU1hdHJpeCBpbnN0YW5jZSAoQylcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICAgVGhlIGYoRGlqLFNpaikgb3BlcmF0aW9uIHRvIGludm9rZSwgd2hlcmUgRGlqID0gRGVuc2VNYXRyaXgoaSxqKSBhbmQgU2lqID0gU3BhcnNlTWF0cml4KGksailcbiAgICogQHBhcmFtIHtib29sZWFufSAgaW52ZXJzZSAgICAgICAgICAgQSB0cnVlIHZhbHVlIGluZGljYXRlcyBjYWxsYmFjayBzaG91bGQgYmUgaW52b2tlZCBmKFNpaixEaWopXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NDc3NTcxXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDMoZGVuc2VNYXRyaXgsIHNwYXJzZU1hdHJpeCwgY2FsbGJhY2ssIGludmVyc2UpIHtcbiAgICAvLyBkZW5zZSBtYXRyaXggYXJyYXlzXG4gICAgdmFyIGFkYXRhID0gZGVuc2VNYXRyaXguX2RhdGE7XG4gICAgdmFyIGFzaXplID0gZGVuc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGFkdCA9IGRlbnNlTWF0cml4Ll9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gc3BhcnNlTWF0cml4Ll92YWx1ZXM7XG4gICAgdmFyIGJpbmRleCA9IHNwYXJzZU1hdHJpeC5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBzcGFyc2VNYXRyaXguX3B0cjtcbiAgICB2YXIgYnNpemUgPSBzcGFyc2VNYXRyaXguX3NpemU7XG4gICAgdmFyIGJkdCA9IHNwYXJzZU1hdHJpeC5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuXG4gICAgaWYgKCFidmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBEZW5zZSBNYXRyaXggYW5kIFBhdHRlcm4gU3BhcnNlIE1hdHJpeCcpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIGNhbGxiYWNrIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBjZiA9IGNhbGxiYWNrOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmICh0eXBlb2YgYWR0ID09PSAnc3RyaW5nJyAmJiBhZHQgPT09IGJkdCkge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCAoRGVuc2VNYXRyaXgpXG5cblxuICAgIHZhciBjZGF0YSA9IFtdOyAvLyBpbml0aWFsaXplIGRlbnNlIG1hdHJpeFxuXG4gICAgZm9yICh2YXIgeiA9IDA7IHogPCByb3dzOyB6KyspIHtcbiAgICAgIC8vIGluaXRpYWxpemUgcm93XG4gICAgICBjZGF0YVt6XSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIG1hcmtzIGluZGljYXRpbmcgd2UgaGF2ZSBhIHZhbHVlIGluIHggZm9yIGEgZ2l2ZW4gY29sdW1uXG5cbiAgICB2YXIgdyA9IFtdOyAvLyBsb29wIGNvbHVtbnMgaW4gYlxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbiBtYXJrXG4gICAgICB2YXIgbWFyayA9IGogKyAxOyAvLyB2YWx1ZXMgaW4gY29sdW1uIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBicHRyW2pdLCBrMSA9IGJwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaSA9IGJpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbaV0gPSBpbnZlcnNlID8gY2YoYnZhbHVlc1trXSwgYWRhdGFbaV1bal0pIDogY2YoYWRhdGFbaV1bal0sIGJ2YWx1ZXNba10pO1xuICAgICAgICB3W2ldID0gbWFyaztcbiAgICAgIH0gLy8gcHJvY2VzcyB3b3Jrc3BhY2VcblxuXG4gICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xuICAgICAgICAvLyBjaGVjayB3ZSBoYXZlIGEgY2FsY3VsYXRlZCB2YWx1ZSBmb3IgY3VycmVudCByb3dcbiAgICAgICAgaWYgKHdbeV0gPT09IG1hcmspIHtcbiAgICAgICAgICAvLyB1c2UgY2FsY3VsYXRlZCB2YWx1ZVxuICAgICAgICAgIGNkYXRhW3ldW2pdID0geFt5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjYWxjdWxhdGUgdmFsdWVcbiAgICAgICAgICBjZGF0YVt5XVtqXSA9IGludmVyc2UgPyBjZih6ZXJvLCBhZGF0YVt5XVtqXSkgOiBjZihhZGF0YVt5XVtqXSwgemVybyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGRlbnNlTWF0cml4LmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA1JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2VxdWFsU2NhbGFyJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA1ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIG5vbnplcm8gaXRlbXMgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGYoQWlqLCBCaWopLlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIE1BWChOTlpBLCBOTlpCKSB0aW1lc1xuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoQWlqLCBCaWopICA7IEEoaSxqKSAhPT0gMCB8fCBCKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgMCAgICAgICAgICAgIDsgb3RoZXJ3aXNlXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGEgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEEpXG4gICAqIEBwYXJhbSB7TWF0cml4fSAgIGIgICAgICAgICAgICAgICAgIFRoZSBTcGFyc2VNYXRyaXggaW5zdGFuY2UgKEIpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixCaWopIG9wZXJhdGlvbiB0byBpbnZva2VcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgU3BhcnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDUoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgZGltZW5zaW9uc1xuXG4gICAgaWYgKGFzaXplLmxlbmd0aCAhPT0gYnNpemUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoYXNpemUubGVuZ3RoLCBic2l6ZS5sZW5ndGgpO1xuICAgIH0gLy8gY2hlY2sgcm93cyAmIGNvbHVtbnNcblxuXG4gICAgaWYgKGFzaXplWzBdICE9PSBic2l6ZVswXSB8fCBhc2l6ZVsxXSAhPT0gYnNpemVbMV0pIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2guIE1hdHJpeCBBICgnICsgYXNpemUgKyAnKSBtdXN0IG1hdGNoIE1hdHJpeCBCICgnICsgYnNpemUgKyAnKScpO1xuICAgIH0gLy8gcm93cyAmIGNvbHVtbnNcblxuXG4gICAgdmFyIHJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgY29sdW1ucyA9IGFzaXplWzFdOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBlcXVhbCBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmUgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpOyAvLyBjYWxsYmFja1xuXG4gICAgICBjZiA9IHR5cGVkLmZpbmQoY2FsbGJhY2ssIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdCBhcnJheXNcblxuXG4gICAgdmFyIGN2YWx1ZXMgPSBhdmFsdWVzICYmIGJ2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHhhID0gY3ZhbHVlcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIHZhciB4YiA9IGN2YWx1ZXMgPyBbXSA6IHVuZGVmaW5lZDsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyB2YXJzXG5cbiAgICB2YXIgaSwgaiwgaywgazE7IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gdXBkYXRlIGNwdHJcbiAgICAgIGNwdHJbal0gPSBjaW5kZXgubGVuZ3RoOyAvLyBjb2x1bW5zIG1hcmtcblxuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gbG9vcCB2YWx1ZXMgQSg6LGopXG5cbiAgICAgIGZvciAoayA9IGFwdHJbal0sIGsxID0gYXB0cltqICsgMV07IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICBpID0gYWluZGV4W2tdOyAvLyBwdXNoIGluZGV4XG5cbiAgICAgICAgY2luZGV4LnB1c2goaSk7IC8vIHVwZGF0ZSB3b3Jrc3BhY2VcblxuICAgICAgICB3YVtpXSA9IG1hcms7IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAoeGEpIHtcbiAgICAgICAgICB4YVtpXSA9IGF2YWx1ZXNba107XG4gICAgICAgIH1cbiAgICAgIH0gLy8gbG9vcCB2YWx1ZXMgQig6LGopXG5cblxuICAgICAgZm9yIChrID0gYnB0cltqXSwgazEgPSBicHRyW2ogKyAxXTsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBiaW5kZXhba107IC8vIGNoZWNrIHJvdyBleGlzdGVkIGluIEFcblxuICAgICAgICBpZiAod2FbaV0gIT09IG1hcmspIHtcbiAgICAgICAgICAvLyBwdXNoIGluZGV4XG4gICAgICAgICAgY2luZGV4LnB1c2goaSk7XG4gICAgICAgIH0gLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG5cbiAgICAgICAgd2JbaV0gPSBtYXJrOyAvLyBjaGVjayB3ZSBuZWVkIHRvIHByb2Nlc3MgdmFsdWVzXG5cbiAgICAgICAgaWYgKHhiKSB7XG4gICAgICAgICAgeGJbaV0gPSBidmFsdWVzW2tdO1xuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXMgKG5vbiBwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAoY3ZhbHVlcykge1xuICAgICAgICAvLyBpbml0aWFsaXplIGZpcnN0IGluZGV4IGluIGpcbiAgICAgICAgayA9IGNwdHJbal07IC8vIGxvb3AgaW5kZXggaW4galxuXG4gICAgICAgIHdoaWxlIChrIDwgY2luZGV4Lmxlbmd0aCkge1xuICAgICAgICAgIC8vIHJvd1xuICAgICAgICAgIGkgPSBjaW5kZXhba107IC8vIG1hcmtzXG5cbiAgICAgICAgICB2YXIgd2FpID0gd2FbaV07XG4gICAgICAgICAgdmFyIHdiaSA9IHdiW2ldOyAvLyBjaGVjayBBaWogb3IgQmlqIGFyZSBub256ZXJvXG5cbiAgICAgICAgICBpZiAod2FpID09PSBtYXJrIHx8IHdiaSA9PT0gbWFyaykge1xuICAgICAgICAgICAgLy8gbWF0cml4IHZhbHVlcyBAIGksalxuICAgICAgICAgICAgdmFyIHZhID0gd2FpID09PSBtYXJrID8geGFbaV0gOiB6ZXJvO1xuICAgICAgICAgICAgdmFyIHZiID0gd2JpID09PSBtYXJrID8geGJbaV0gOiB6ZXJvOyAvLyBDaWpcblxuICAgICAgICAgICAgdmFyIHZjID0gY2YodmEsIHZiKTsgLy8gY2hlY2sgZm9yIHplcm9cblxuICAgICAgICAgICAgaWYgKCFlcSh2YywgemVybykpIHtcbiAgICAgICAgICAgICAgLy8gcHVzaCB2YWx1ZVxuICAgICAgICAgICAgICBjdmFsdWVzLnB1c2godmMpOyAvLyBpbmNyZW1lbnQgcG9pbnRlclxuXG4gICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHJlbW92ZSB2YWx1ZSBAIGksIGRvIG5vdCBpbmNyZW1lbnQgcG9pbnRlclxuICAgICAgICAgICAgICBjaW5kZXguc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIGNwdHJcblxuXG4gICAgY3B0cltjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYS5jcmVhdGVTcGFyc2VNYXRyaXgoe1xuICAgICAgdmFsdWVzOiBjdmFsdWVzLFxuICAgICAgaW5kZXg6IGNpbmRleCxcbiAgICAgIHB0cjogY3B0cixcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnYWxnb3JpdGhtMTInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQWxnb3JpdGhtMTIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBTcGFyc2VNYXRyaXggUyBub256ZXJvIGl0ZW1zIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBmKFNpaiwgYikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKlxuICAgKiAgICAgICAgICDilIwgIGYoU2lqLCBiKSAgOyBTKGksaikgIT09IDBcbiAgICogQyhpLGopID0g4pSkXG4gICAqICAgICAgICAgIOKUlCAgZigwLCBiKSAgICA7IG90aGVyd2lzZVxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBzICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChTKVxuICAgKiBAcGFyYW0ge1NjYWxhcn0gICBiICAgICAgICAgICAgICAgICBUaGUgU2NhbGFyIHZhbHVlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgIFRoZSBmKEFpaixiKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gIGludmVyc2UgICAgICAgICAgIEEgdHJ1ZSB2YWx1ZSBpbmRpY2F0ZXMgY2FsbGJhY2sgc2hvdWxkIGJlIGludm9rZWQgZihiLFNpailcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICAgICAgICAgRGVuc2VNYXRyaXggKEMpXG4gICAqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3NkZWpvbmcvbWF0aGpzL3B1bGwvMzQ2I2lzc3VlY29tbWVudC05NzYyNjgxM1xuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIGFsZ29yaXRobTEyKHMsIGIsIGNhbGxiYWNrLCBpbnZlcnNlKSB7XG4gICAgLy8gc3BhcnNlIG1hdHJpeCBhcnJheXNcbiAgICB2YXIgYXZhbHVlcyA9IHMuX3ZhbHVlcztcbiAgICB2YXIgYWluZGV4ID0gcy5faW5kZXg7XG4gICAgdmFyIGFwdHIgPSBzLl9wdHI7XG4gICAgdmFyIGFzaXplID0gcy5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gcy5fZGF0YXR5cGU7IC8vIHNwYXJzZSBtYXRyaXggY2Fubm90IGJlIGEgUGF0dGVybiBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gUGF0dGVybiBTcGFyc2UgTWF0cml4IGFuZCBTY2FsYXIgdmFsdWUnKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gY2FsbGJhY2sgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGNmID0gY2FsbGJhY2s7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGNvbnZlcnQgYiB0byB0aGUgc2FtZSBkYXRhdHlwZVxuXG4gICAgICBiID0gdHlwZWQuY29udmVydChiLCBkdCk7IC8vIGNhbGxiYWNrXG5cbiAgICAgIGNmID0gdHlwZWQuZmluZChjYWxsYmFjaywgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0IGFycmF5c1xuXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gd29ya3NwYWNlc1xuXG4gICAgdmFyIHggPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gdmFsdWVzIGluIGpcblxuICAgICAgZm9yICh2YXIgazAgPSBhcHRyW2pdLCBrMSA9IGFwdHJbaiArIDFdLCBrID0gazA7IGsgPCBrMTsgaysrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgciA9IGFpbmRleFtrXTsgLy8gdXBkYXRlIHdvcmtzcGFjZVxuXG4gICAgICAgIHhbcl0gPSBhdmFsdWVzW2tdO1xuICAgICAgICB3W3JdID0gbWFyaztcbiAgICAgIH0gLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBDIG9uIGZpcnN0IGNvbHVtblxuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNyZWF0ZSByb3cgYXJyYXlcbiAgICAgICAgICBjZGF0YVtpXSA9IFtdO1xuICAgICAgICB9IC8vIGNoZWNrIHNwYXJzZSBtYXRyaXggaGFzIGEgdmFsdWUgQCBpLGpcblxuXG4gICAgICAgIGlmICh3W2ldID09PSBtYXJrKSB7XG4gICAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrLCB1cGRhdGUgQ1xuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIHhbaV0pIDogY2YoeFtpXSwgYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZGVuc2UgbWF0cml4IHZhbHVlIEAgaSwgalxuICAgICAgICAgIGNkYXRhW2ldW2pdID0gaW52ZXJzZSA/IGNmKGIsIDApIDogY2YoMCwgYik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHJldHVybiBkZW5zZSBtYXRyaXhcblxuXG4gICAgcmV0dXJuIG5ldyBEZW5zZU1hdHJpeCh7XG4gICAgICBkYXRhOiBjZGF0YSxcbiAgICAgIHNpemU6IFtyb3dzLCBjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA1IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDUuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG5pbXBvcnQgeyBtb2ROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnbW9kJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVNb2QgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0wMiA9IGNyZWF0ZUFsZ29yaXRobTAyKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDUgPSBjcmVhdGVBbGdvcml0aG0wNSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIG1vZHVsdXMsIHRoZSByZW1haW5kZXIgb2YgYW4gaW50ZWdlciBkaXZpc2lvbi5cbiAgICpcbiAgICogRm9yIG1hdHJpY2VzLCB0aGUgZnVuY3Rpb24gaXMgZXZhbHVhdGVkIGVsZW1lbnQgd2lzZS5cbiAgICpcbiAgICogVGhlIG1vZHVsdXMgaXMgZGVmaW5lZCBhczpcbiAgICpcbiAgICogICAgIHggLSB5ICogZmxvb3IoeCAvIHkpXG4gICAqXG4gICAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubW9kKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm1vZCg4LCAzKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDJcbiAgICogICAgbWF0aC5tb2QoMTEsIDIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyAxXG4gICAqXG4gICAqICAgIGZ1bmN0aW9uIGlzT2RkKHgpIHtcbiAgICogICAgICByZXR1cm4gbWF0aC5tb2QoeCwgMikgIT0gMFxuICAgKiAgICB9XG4gICAqXG4gICAqICAgIGlzT2RkKDIpICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgaXNPZGQoMykgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaXZpZGVcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0geCBEaXZpZGVuZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IEFycmF5IHwgTWF0cml4fSB5IERpdmlzb3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBBcnJheSB8IE1hdHJpeH0gUmV0dXJucyB0aGUgcmVtYWluZGVyIG9mIGB4YCBkaXZpZGVkIGJ5IGB5YC5cbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBtb2ROdW1iZXIsXG4gICAgJ0JpZ051bWJlciwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQmlnTnVtYmVyQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIGlmICh5LmlzTmVnKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB5LmlzWmVybygpID8geCA6IHgubW9kKHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHkuY29tcGFyZSgwKSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIG1vZCBmb3IgYSBuZWdhdGl2ZSBkaXZpc29yJyk7XG4gICAgICB9IC8vIFdvcmthcm91bmQgc3VnZ2VzdGVkIGluIEZyYWN0aW9uLmpzIGxpYnJhcnkgdG8gY2FsY3VsYXRlIGNvcnJlY3QgbW9kdWxvIGZvciBuZWdhdGl2ZSBkaXZpZGVuZFxuXG5cbiAgICAgIHJldHVybiB4LmNvbXBhcmUoMCkgPj0gMCA/IHgubW9kKHkpIDogeC5tb2QoeSkuYWRkKHkpLm1vZCh5KTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDUoeCwgeSwgdGhpcywgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAnbXVsdGlwbHlTY2FsYXInO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTXVsdGlwbHlTY2FsYXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogTXVsdGlwbHkgdHdvIHNjYWxhciB2YWx1ZXMsIGB4ICogeWAuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgZm9yIGludGVybmFsIHVzZTogaXQgaXMgdXNlZCBieSB0aGUgcHVibGljIGZ1bmN0aW9uXG4gICAqIGBtdWx0aXBseWBcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGNvbGxlY3Rpb25zIChBcnJheSBvciBNYXRyaXgpLlxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSB4ICAgRmlyc3QgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIFNlY29uZCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0fSAgICAgTXVsdGlwbGljYXRpb24gb2YgYHhgIGFuZCBgeWBcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJldHVybiB0eXBlZCgnbXVsdGlwbHlTY2FsYXInLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogbXVsdGlwbHlOdW1iZXIsXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWwoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgudGltZXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5tdWwoeSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4LCBVbml0JzogZnVuY3Rpb24gbnVtYmVyRnJhY3Rpb25CaWdOdW1iZXJDb21wbGV4VW5pdCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geS5jbG9uZSgpO1xuICAgICAgcmVzLnZhbHVlID0gcmVzLnZhbHVlID09PSBudWxsID8gcmVzLl9ub3JtYWxpemUoeCkgOiB0aGlzKHJlcy52YWx1ZSwgeCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyIHwgQ29tcGxleCc6IGZ1bmN0aW9uIFVuaXROdW1iZXJGcmFjdGlvbkJpZ051bWJlckNvbXBsZXgoeCwgeSkge1xuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKHkpIDogdGhpcyhyZXMudmFsdWUsIHkpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubXVsdGlwbHkoeSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdtdWx0aXBseSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnLCAnYWRkU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ2RvdCddO1xuZXhwb3J0IHZhciBjcmVhdGVNdWx0aXBseSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhZGRTY2FsYXIsXG4gICAgbXVsdGlwbHlTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgZG90XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcblxuICBmdW5jdGlvbiBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKHNpemUxLCBzaXplMikge1xuICAgIC8vIGNoZWNrIGxlZnQgb3BlcmFuZCBkaW1lbnNpb25zXG4gICAgc3dpdGNoIChzaXplMS5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gY2hlY2sgc2l6ZTJcbiAgICAgICAgc3dpdGNoIChzaXplMi5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAvLyBWZWN0b3IgeCBWZWN0b3JcbiAgICAgICAgICAgIGlmIChzaXplMVswXSAhPT0gc2l6ZTJbMF0pIHtcbiAgICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0RpbWVuc2lvbiBtaXNtYXRjaCBpbiBtdWx0aXBsaWNhdGlvbi4gVmVjdG9ycyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgLy8gVmVjdG9yIHggTWF0cml4XG4gICAgICAgICAgICBpZiAoc2l6ZTFbMF0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIFZlY3RvciBsZW5ndGggKCcgKyBzaXplMVswXSArICcpIG11c3QgbWF0Y2ggTWF0cml4IHJvd3MgKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQiBoYXMgJyArIHNpemUyLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIGNoZWNrIHNpemUyXG4gICAgICAgIHN3aXRjaCAoc2l6ZTIubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgLy8gTWF0cml4IHggVmVjdG9yXG4gICAgICAgICAgICBpZiAoc2l6ZTFbMV0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIE1hdHJpeCBjb2x1bW5zICgnICsgc2l6ZTFbMV0gKyAnKSBtdXN0IG1hdGNoIFZlY3RvciBsZW5ndGggKCcgKyBzaXplMlswXSArICcpJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgLy8gTWF0cml4IHggTWF0cml4XG4gICAgICAgICAgICBpZiAoc2l6ZTFbMV0gIT09IHNpemUyWzBdKSB7XG4gICAgICAgICAgICAgIC8vIHRocm93IGVycm9yXG4gICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdEaW1lbnNpb24gbWlzbWF0Y2ggaW4gbXVsdGlwbGljYXRpb24uIE1hdHJpeCBBIGNvbHVtbnMgKCcgKyBzaXplMVsxXSArICcpIG11c3QgbWF0Y2ggTWF0cml4IEIgcm93cyAoJyArIHNpemUyWzBdICsgJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBtdWx0aXBseSBhIDEgb3IgMiBkaW1lbnNpb25hbCBtYXRyaXggKE1hdHJpeCBCIGhhcyAnICsgc2l6ZTIubGVuZ3RoICsgJyBkaW1lbnNpb25zKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgbXVsdGlwbHkgYSAxIG9yIDIgZGltZW5zaW9uYWwgbWF0cml4IChNYXRyaXggQSBoYXMgJyArIHNpemUxLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgIFNjYWxhciB2YWx1ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3RvclZlY3RvcihhLCBiLCBuKSB7XG4gICAgLy8gY2hlY2sgZW1wdHkgdmVjdG9yXG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IHR3byBlbXB0eSB2ZWN0b3JzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvdChhLCBiKTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgRGVuc2UgVmVjdG9yICAgKE0pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlWZWN0b3JNYXRyaXgoYSwgYikge1xuICAgIC8vIHByb2Nlc3Mgc3RvcmFnZVxuICAgIGlmIChiLnN0b3JhZ2UoKSAhPT0gJ2RlbnNlJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwb3J0IGZvciBTcGFyc2VNYXRyaXggbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9tdWx0aXBseVZlY3RvckRlbnNlTWF0cml4KGEsIGIpO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBNYXRyaXggICAoTXhOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIERlbnNlIFZlY3RvciAgIChOKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVZlY3RvckRlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYnNpemUgPSBiLl9zaXplO1xuICAgIHZhciBiZHQgPSBiLl9kYXRhdHlwZTsgLy8gcm93cyAmIGNvbHVtbnNcblxuICAgIHZhciBhbGVuZ3RoID0gYXNpemVbMF07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggY29sdW1uc1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiY29sdW1uczsgaisrKSB7XG4gICAgICAvLyBzdW0gKGRvIG5vdCBpbml0aWFsaXplIGl0IHdpdGggemVybylcbiAgICAgIHZhciBzdW0gPSBtZihhZGF0YVswXSwgYmRhdGFbMF1bal0pOyAvLyBsb29wIHZlY3RvclxuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgc3VtID0gYWYoc3VtLCBtZihhZGF0YVtpXSwgYmRhdGFbaV1bal0pKTtcbiAgICAgIH1cblxuICAgICAgY1tqXSA9IHN1bTtcbiAgICB9IC8vIHJldHVybiBtYXRyaXhcblxuXG4gICAgcmV0dXJuIGEuY3JlYXRlRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogYyxcbiAgICAgIHNpemU6IFtiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTilcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZSBWZWN0b3IgICAoTSlcbiAgICovXG5cblxuICB2YXIgX211bHRpcGx5TWF0cml4VmVjdG9yID0gdHlwZWQoJ19tdWx0aXBseU1hdHJpeFZlY3RvcicsIHtcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IF9tdWx0aXBseURlbnNlTWF0cml4VmVjdG9yLFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IF9tdWx0aXBseVNwYXJzZU1hdHJpeFZlY3RvclxuICB9KTtcbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIE1hdHJpeCAgICAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgTWF0cml4ICAgICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBNYXRyaXggICAgICAgICAoTXhDKVxuICAgKi9cblxuXG4gIHZhciBfbXVsdGlwbHlNYXRyaXhNYXRyaXggPSB0eXBlZCgnX211bHRpcGx5TWF0cml4TWF0cml4Jywge1xuICAgICdEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBfbXVsdGlwbHlEZW5zZU1hdHJpeERlbnNlTWF0cml4LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogX211bHRpcGx5RGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgsXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXhcbiAgfSk7XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgKE14TilcbiAgICogQHBhcmFtIHtNYXRyaXh9IGIgICAgICAgICAgICBEZW5zZSBWZWN0b3IgKE4pXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChNKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4VmVjdG9yKGEsIGIpIHtcbiAgICAvLyBhIGRlbnNlXG4gICAgdmFyIGFkYXRhID0gYS5fZGF0YTtcbiAgICB2YXIgYXNpemUgPSBhLl9zaXplO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBkZW5zZVxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYWNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgYyA9IFtdOyAvLyBsb29wIG1hdHJpeCBhIHJvd3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJvd3M7IGkrKykge1xuICAgICAgLy8gY3VycmVudCByb3dcbiAgICAgIHZhciByb3cgPSBhZGF0YVtpXTsgLy8gc3VtIChkbyBub3QgaW5pdGlhbGl6ZSBpdCB3aXRoIHplcm8pXG5cbiAgICAgIHZhciBzdW0gPSBtZihyb3dbMF0sIGJkYXRhWzBdKTsgLy8gbG9vcCBtYXRyaXggYSBjb2x1bW5zXG5cbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYWNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgc3VtID0gYWYoc3VtLCBtZihyb3dbal0sIGJkYXRhW2pdKSk7XG4gICAgICB9XG5cbiAgICAgIGNbaV0gPSBzdW07XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYXJvd3NdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIERlbnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseURlbnNlTWF0cml4RGVuc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgZGVuc2VcbiAgICB2YXIgYWRhdGEgPSBhLl9kYXRhO1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBiIGRlbnNlXG5cbiAgICB2YXIgYmRhdGEgPSBiLl9kYXRhO1xuICAgIHZhciBic2l6ZSA9IGIuX3NpemU7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGFjb2x1bW5zID0gYXNpemVbMV07XG4gICAgdmFyIGJjb2x1bW5zID0gYnNpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgfSAvLyByZXN1bHRcblxuXG4gICAgdmFyIGMgPSBbXTsgLy8gbG9vcCBtYXRyaXggYSByb3dzXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgIC8vIGN1cnJlbnQgcm93XG4gICAgICB2YXIgcm93ID0gYWRhdGFbaV07IC8vIGluaXRpYWxpemUgcm93IGFycmF5XG5cbiAgICAgIGNbaV0gPSBbXTsgLy8gbG9vcCBtYXRyaXggYiBjb2x1bW5zXG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmNvbHVtbnM7IGorKykge1xuICAgICAgICAvLyBzdW0gKGF2b2lkIGluaXRpYWxpemluZyBzdW0gdG8gemVybylcbiAgICAgICAgdmFyIHN1bSA9IG1mKHJvd1swXSwgYmRhdGFbMF1bal0pOyAvLyBsb29wIG1hdHJpeCBhIGNvbHVtbnNcblxuICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IGFjb2x1bW5zOyB4KyspIHtcbiAgICAgICAgICAvLyBtdWx0aXBseSAmIGFjY3VtdWxhdGVcbiAgICAgICAgICBzdW0gPSBhZihzdW0sIG1mKHJvd1t4XSwgYmRhdGFbeF1bal0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNbaV1bal0gPSBzdW07XG4gICAgICB9XG4gICAgfSAvLyByZXR1cm4gbWF0cml4XG5cblxuICAgIHJldHVybiBhLmNyZWF0ZURlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGMsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBEZW5zZU1hdHJpeCAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeChhLCBiKSB7XG4gICAgLy8gYSBkZW5zZVxuICAgIHZhciBhZGF0YSA9IGEuX2RhdGE7XG4gICAgdmFyIGFzaXplID0gYS5fc2l6ZTtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIGIgc3BhcnNlXG5cbiAgICB2YXIgYnZhbHVlcyA9IGIuX3ZhbHVlcztcbiAgICB2YXIgYmluZGV4ID0gYi5faW5kZXg7XG4gICAgdmFyIGJwdHIgPSBiLl9wdHI7XG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGIgbWF0cml4XG5cbiAgICBpZiAoIWJ2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IERlbnNlIE1hdHJpeCB0aW1lcyBQYXR0ZXJuIG9ubHkgTWF0cml4Jyk7XG4gICAgfSAvLyByb3dzICYgY29sdW1uc1xuXG5cbiAgICB2YXIgYXJvd3MgPSBhc2l6ZVswXTtcbiAgICB2YXIgYmNvbHVtbnMgPSBic2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gW107XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGIuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyBsb29wIGIgY29sdW1uc1xuXG4gICAgZm9yICh2YXIgamIgPSAwOyBqYiA8IGJjb2x1bW5zOyBqYisrKSB7XG4gICAgICAvLyB1cGRhdGUgcHRyXG4gICAgICBjcHRyW2piXSA9IGNpbmRleC5sZW5ndGg7IC8vIGluZGVjZXMgaW4gY29sdW1uIGpiXG5cbiAgICAgIHZhciBrYjAgPSBicHRyW2piXTtcbiAgICAgIHZhciBrYjEgPSBicHRyW2piICsgMV07IC8vIGRvIG5vdCBwcm9jZXNzIGNvbHVtbiBqYiBpZiBubyBkYXRhIGV4aXN0c1xuXG4gICAgICBpZiAoa2IxID4ga2IwKSB7XG4gICAgICAgIC8vIGxhc3Qgcm93IG1hcmsgcHJvY2Vzc2VkXG4gICAgICAgIHZhciBsYXN0ID0gMDsgLy8gbG9vcCBhIHJvd3NcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBjb2x1bW4gbWFya1xuICAgICAgICAgIHZhciBtYXJrID0gaSArIDE7IC8vIENbaSwgamJdXG5cbiAgICAgICAgICB2YXIgY2lqID0gdm9pZCAwOyAvLyB2YWx1ZXMgaW4gYiBjb2x1bW4galxuXG4gICAgICAgICAgZm9yICh2YXIga2IgPSBrYjA7IGtiIDwga2IxOyBrYisrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIHZhciBpYiA9IGJpbmRleFtrYl07IC8vIGNoZWNrIHZhbHVlIGhhcyBiZWVuIGluaXRpYWxpemVkXG5cbiAgICAgICAgICAgIGlmIChsYXN0ICE9PSBtYXJrKSB7XG4gICAgICAgICAgICAgIC8vIGZpcnN0IHZhbHVlIGluIGNvbHVtbiBqYlxuICAgICAgICAgICAgICBjaWogPSBtZihhZGF0YVtpXVtpYl0sIGJ2YWx1ZXNba2JdKTsgLy8gdXBkYXRlIG1hcmtcblxuICAgICAgICAgICAgICBsYXN0ID0gbWFyaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGFjY3VtdWxhdGUgdmFsdWVcbiAgICAgICAgICAgICAgY2lqID0gYWYoY2lqLCBtZihhZGF0YVtpXVtpYl0sIGJ2YWx1ZXNba2JdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gaGFzIGJlZW4gcHJvY2Vzc2VkIGFuZCB2YWx1ZSAhPSAwXG5cblxuICAgICAgICAgIGlmIChsYXN0ID09PSBtYXJrICYmICFlcShjaWosIHplcm8pKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHJvdyAmIHZhbHVlXG4gICAgICAgICAgICBjaW5kZXgucHVzaChpKTtcbiAgICAgICAgICAgIGN2YWx1ZXMucHVzaChjaWopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogQyA9IEEgKiBCXG4gICAqXG4gICAqIEBwYXJhbSB7TWF0cml4fSBhICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2UgVmVjdG9yIChOKVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXRyaXh9ICAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAoTSwgMSlcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhWZWN0b3IoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gdmFsaWRhdGUgYSBtYXRyaXhcblxuICAgIGlmICghYXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbXVsdGlwbHkgUGF0dGVybiBvbmx5IE1hdHJpeCB0aW1lcyBEZW5zZSBNYXRyaXgnKTtcbiAgICB9IC8vIGIgZGVuc2VcblxuXG4gICAgdmFyIGJkYXRhID0gYi5fZGF0YTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBicm93cyA9IGIuX3NpemVbMF07IC8vIHJlc3VsdFxuXG4gICAgdmFyIGN2YWx1ZXMgPSBbXTtcbiAgICB2YXIgY2luZGV4ID0gW107XG4gICAgdmFyIGNwdHIgPSBbXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gYWRkU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBhZiA9IGFkZFNjYWxhcjsgLy8gbXVsdGlwbHlTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIG1mID0gbXVsdGlwbHlTY2FsYXI7IC8vIGVxdWFsU2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBlcSA9IGVxdWFsU2NhbGFyOyAvLyB6ZXJvIHZhbHVlXG5cbiAgICB2YXIgemVybyA9IDA7IC8vIHByb2Nlc3MgZGF0YSB0eXBlc1xuXG4gICAgaWYgKGFkdCAmJiBiZHQgJiYgYWR0ID09PSBiZHQgJiYgdHlwZW9mIGFkdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gZmluZCBzaWduYXR1cmVzIHRoYXQgbWF0Y2hlcyAoZHQsIGR0KVxuXG4gICAgICBhZiA9IHR5cGVkLmZpbmQoYWRkU2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBtZiA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIGVxID0gdHlwZWQuZmluZChlcXVhbFNjYWxhciwgW2R0LCBkdF0pOyAvLyBjb252ZXJ0IDAgdG8gdGhlIHNhbWUgZGF0YXR5cGVcblxuICAgICAgemVybyA9IHR5cGVkLmNvbnZlcnQoMCwgZHQpO1xuICAgIH0gLy8gd29ya3NwYWNlXG5cblxuICAgIHZhciB4ID0gW107IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gdXBkYXRlIHB0clxuXG4gICAgY3B0clswXSA9IDA7IC8vIHJvd3MgaW4gYlxuXG4gICAgZm9yICh2YXIgaWIgPSAwOyBpYiA8IGJyb3dzOyBpYisrKSB7XG4gICAgICAvLyBiW2liXVxuICAgICAgdmFyIHZiaSA9IGJkYXRhW2liXTsgLy8gY2hlY2sgYltpYl0gIT0gMCwgYXZvaWQgbG9vcHNcblxuICAgICAgaWYgKCFlcSh2YmksIHplcm8pKSB7XG4gICAgICAgIC8vIEEgdmFsdWVzICYgaW5kZXggaW4gaWIgY29sdW1uXG4gICAgICAgIGZvciAodmFyIGthMCA9IGFwdHJbaWJdLCBrYTEgPSBhcHRyW2liICsgMV0sIGthID0ga2EwOyBrYSA8IGthMTsga2ErKykge1xuICAgICAgICAgIC8vIGEgcm93XG4gICAgICAgICAgdmFyIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgaWYgKCF3W2lhXSkge1xuICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgIHdbaWFdID0gdHJ1ZTsgLy8gYWRkIGkgdG8gcGF0dGVybiBvZiBDXG5cbiAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgIHhbaWFdID0gbWYodmJpLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYodmJpLCBhdmFsdWVzW2thXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG5cblxuICAgIGZvciAodmFyIHAxID0gY2luZGV4Lmxlbmd0aCwgcCA9IDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAvLyByb3dcbiAgICAgIHZhciBpYyA9IGNpbmRleFtwXTsgLy8gY29weSB2YWx1ZVxuXG4gICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbMV0gPSBjaW5kZXgubGVuZ3RoOyAvLyByZXR1cm4gc3BhcnNlIG1hdHJpeFxuXG4gICAgcmV0dXJuIGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIDFdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEMgPSBBICogQlxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gYSAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChNeE4pXG4gICAqIEBwYXJhbSB7TWF0cml4fSBiICAgICAgICAgICAgRGVuc2VNYXRyaXggICAgICAgKE54QylcbiAgICpcbiAgICogQHJldHVybiB7TWF0cml4fSAgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhDKVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9tdWx0aXBseVNwYXJzZU1hdHJpeERlbnNlTWF0cml4KGEsIGIpIHtcbiAgICAvLyBhIHNwYXJzZVxuICAgIHZhciBhdmFsdWVzID0gYS5fdmFsdWVzO1xuICAgIHZhciBhaW5kZXggPSBhLl9pbmRleDtcbiAgICB2YXIgYXB0ciA9IGEuX3B0cjtcbiAgICB2YXIgYWR0ID0gYS5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGEgbWF0cml4XG5cbiAgICBpZiAoIWF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG11bHRpcGx5IFBhdHRlcm4gb25seSBNYXRyaXggdGltZXMgRGVuc2UgTWF0cml4Jyk7XG4gICAgfSAvLyBiIGRlbnNlXG5cblxuICAgIHZhciBiZGF0YSA9IGIuX2RhdGE7XG4gICAgdmFyIGJkdCA9IGIuX2RhdGF0eXBlOyAvLyByb3dzICYgY29sdW1uc1xuXG4gICAgdmFyIGFyb3dzID0gYS5fc2l6ZVswXTtcbiAgICB2YXIgYnJvd3MgPSBiLl9zaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGIuX3NpemVbMV07IC8vIGRhdGF0eXBlXG5cbiAgICB2YXIgZHQ7IC8vIGFkZFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgYWYgPSBhZGRTY2FsYXI7IC8vIG11bHRpcGx5U2NhbGFyIHNpZ25hdHVyZSB0byB1c2VcblxuICAgIHZhciBtZiA9IG11bHRpcGx5U2NhbGFyOyAvLyBlcXVhbFNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgZXEgPSBlcXVhbFNjYWxhcjsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBkYXRhdHlwZVxuICAgICAgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWYgPSB0eXBlZC5maW5kKGFkZFNjYWxhciwgW2R0LCBkdF0pO1xuICAgICAgbWYgPSB0eXBlZC5maW5kKG11bHRpcGx5U2NhbGFyLCBbZHQsIGR0XSk7XG4gICAgICBlcSA9IHR5cGVkLmZpbmQoZXF1YWxTY2FsYXIsIFtkdCwgZHRdKTsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTtcbiAgICB9IC8vIHJlc3VsdFxuXG5cbiAgICB2YXIgY3ZhbHVlcyA9IFtdO1xuICAgIHZhciBjaW5kZXggPSBbXTtcbiAgICB2YXIgY3B0ciA9IFtdOyAvLyBjIG1hdHJpeFxuXG4gICAgdmFyIGMgPSBhLmNyZWF0ZVNwYXJzZU1hdHJpeCh7XG4gICAgICB2YWx1ZXM6IGN2YWx1ZXMsXG4gICAgICBpbmRleDogY2luZGV4LFxuICAgICAgcHRyOiBjcHRyLFxuICAgICAgc2l6ZTogW2Fyb3dzLCBiY29sdW1uc10sXG4gICAgICBkYXRhdHlwZTogZHRcbiAgICB9KTsgLy8gd29ya3NwYWNlXG5cbiAgICB2YXIgeCA9IFtdOyAvLyB2ZWN0b3Igd2l0aCBtYXJrcyBpbmRpY2F0aW5nIGEgdmFsdWUgeFtpXSBleGlzdHMgaW4gYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3ID0gW107IC8vIGxvb3AgYiBjb2x1bW5zXG5cbiAgICBmb3IgKHZhciBqYiA9IDA7IGpiIDwgYmNvbHVtbnM7IGpiKyspIHtcbiAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgIGNwdHJbamJdID0gY2luZGV4Lmxlbmd0aDsgLy8gbWFyayBpbiB3b3Jrc3BhY2UgZm9yIGN1cnJlbnQgY29sdW1uXG5cbiAgICAgIHZhciBtYXJrID0gamIgKyAxOyAvLyByb3dzIGluIGpiXG5cbiAgICAgIGZvciAodmFyIGliID0gMDsgaWIgPCBicm93czsgaWIrKykge1xuICAgICAgICAvLyBiW2liLCBqYl1cbiAgICAgICAgdmFyIHZiaWogPSBiZGF0YVtpYl1bamJdOyAvLyBjaGVjayBiW2liLCBqYl0gIT0gMCwgYXZvaWQgbG9vcHNcblxuICAgICAgICBpZiAoIWVxKHZiaWosIHplcm8pKSB7XG4gICAgICAgICAgLy8gQSB2YWx1ZXMgJiBpbmRleCBpbiBpYiBjb2x1bW5cbiAgICAgICAgICBmb3IgKHZhciBrYTAgPSBhcHRyW2liXSwga2ExID0gYXB0cltpYiArIDFdLCBrYSA9IGthMDsga2EgPCBrYTE7IGthKyspIHtcbiAgICAgICAgICAgIC8vIGEgcm93XG4gICAgICAgICAgICB2YXIgaWEgPSBhaW5kZXhba2FdOyAvLyBjaGVjayB2YWx1ZSBleGlzdHMgaW4gY3VycmVudCBqXG5cbiAgICAgICAgICAgIGlmICh3W2lhXSAhPT0gbWFyaykge1xuICAgICAgICAgICAgICAvLyBpYSBpcyBuZXcgZW50cnkgaW4galxuICAgICAgICAgICAgICB3W2lhXSA9IG1hcms7IC8vIGFkZCBpIHRvIHBhdHRlcm4gb2YgQ1xuXG4gICAgICAgICAgICAgIGNpbmRleC5wdXNoKGlhKTsgLy8geChpYSkgPSBBXG5cbiAgICAgICAgICAgICAgeFtpYV0gPSBtZih2YmlqLCBhdmFsdWVzW2thXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpIGV4aXN0cyBpbiBDIGFscmVhZHlcbiAgICAgICAgICAgICAgeFtpYV0gPSBhZih4W2lhXSwgbWYodmJpaiwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY29weSB2YWx1ZXMgZnJvbSB4IHRvIGNvbHVtbiBqYiBvZiBjXG5cblxuICAgICAgZm9yICh2YXIgcDAgPSBjcHRyW2piXSwgcDEgPSBjaW5kZXgubGVuZ3RoLCBwID0gcDA7IHAgPCBwMTsgcCsrKSB7XG4gICAgICAgIC8vIHJvd1xuICAgICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgICBjdmFsdWVzW3BdID0geFtpY107XG4gICAgICB9XG4gICAgfSAvLyB1cGRhdGUgcHRyXG5cblxuICAgIGNwdHJbYmNvbHVtbnNdID0gY2luZGV4Lmxlbmd0aDsgLy8gcmV0dXJuIHNwYXJzZSBtYXRyaXhcblxuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBDID0gQSAqIEJcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXh9IGEgICAgICAgICAgICBTcGFyc2VNYXRyaXggICAgICAoTXhOKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gYiAgICAgICAgICAgIFNwYXJzZU1hdHJpeCAgICAgIChOeEMpXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgU3BhcnNlTWF0cml4ICAgICAgKE14QylcbiAgICovXG5cblxuICBmdW5jdGlvbiBfbXVsdGlwbHlTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoYSwgYikge1xuICAgIC8vIGEgc3BhcnNlXG4gICAgdmFyIGF2YWx1ZXMgPSBhLl92YWx1ZXM7XG4gICAgdmFyIGFpbmRleCA9IGEuX2luZGV4O1xuICAgIHZhciBhcHRyID0gYS5fcHRyO1xuICAgIHZhciBhZHQgPSBhLl9kYXRhdHlwZTsgLy8gYiBzcGFyc2VcblxuICAgIHZhciBidmFsdWVzID0gYi5fdmFsdWVzO1xuICAgIHZhciBiaW5kZXggPSBiLl9pbmRleDtcbiAgICB2YXIgYnB0ciA9IGIuX3B0cjtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHJvd3MgJiBjb2x1bW5zXG5cbiAgICB2YXIgYXJvd3MgPSBhLl9zaXplWzBdO1xuICAgIHZhciBiY29sdW1ucyA9IGIuX3NpemVbMV07IC8vIGZsYWcgaW5kaWNhdGluZyBib3RoIG1hdHJpY2VzIChhICYgYikgY29udGFpbiBkYXRhXG5cbiAgICB2YXIgdmFsdWVzID0gYXZhbHVlcyAmJiBidmFsdWVzOyAvLyBkYXRhdHlwZVxuXG4gICAgdmFyIGR0OyAvLyBhZGRTY2FsYXIgc2lnbmF0dXJlIHRvIHVzZVxuXG4gICAgdmFyIGFmID0gYWRkU2NhbGFyOyAvLyBtdWx0aXBseVNjYWxhciBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgbWYgPSBtdWx0aXBseVNjYWxhcjsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAoYWR0ICYmIGJkdCAmJiBhZHQgPT09IGJkdCAmJiB0eXBlb2YgYWR0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZGF0YXR5cGVcbiAgICAgIGR0ID0gYWR0OyAvLyBmaW5kIHNpZ25hdHVyZXMgdGhhdCBtYXRjaGVzIChkdCwgZHQpXG5cbiAgICAgIGFmID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG1mID0gdHlwZWQuZmluZChtdWx0aXBseVNjYWxhciwgW2R0LCBkdF0pO1xuICAgIH0gLy8gcmVzdWx0XG5cblxuICAgIHZhciBjdmFsdWVzID0gdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNpbmRleCA9IFtdO1xuICAgIHZhciBjcHRyID0gW107IC8vIGMgbWF0cml4XG5cbiAgICB2YXIgYyA9IGEuY3JlYXRlU3BhcnNlTWF0cml4KHtcbiAgICAgIHZhbHVlczogY3ZhbHVlcyxcbiAgICAgIGluZGV4OiBjaW5kZXgsXG4gICAgICBwdHI6IGNwdHIsXG4gICAgICBzaXplOiBbYXJvd3MsIGJjb2x1bW5zXSxcbiAgICAgIGRhdGF0eXBlOiBkdFxuICAgIH0pOyAvLyB3b3Jrc3BhY2VcblxuICAgIHZhciB4ID0gdmFsdWVzID8gW10gOiB1bmRlZmluZWQ7IC8vIHZlY3RvciB3aXRoIG1hcmtzIGluZGljYXRpbmcgYSB2YWx1ZSB4W2ldIGV4aXN0cyBpbiBhIGdpdmVuIGNvbHVtblxuXG4gICAgdmFyIHcgPSBbXTsgLy8gdmFyaWFibGVzXG5cbiAgICB2YXIga2EsIGthMCwga2ExLCBrYiwga2IwLCBrYjEsIGlhLCBpYjsgLy8gbG9vcCBiIGNvbHVtbnNcblxuICAgIGZvciAodmFyIGpiID0gMDsgamIgPCBiY29sdW1uczsgamIrKykge1xuICAgICAgLy8gdXBkYXRlIHB0clxuICAgICAgY3B0cltqYl0gPSBjaW5kZXgubGVuZ3RoOyAvLyBtYXJrIGluIHdvcmtzcGFjZSBmb3IgY3VycmVudCBjb2x1bW5cblxuICAgICAgdmFyIG1hcmsgPSBqYiArIDE7IC8vIEIgdmFsdWVzICYgaW5kZXggaW4galxuXG4gICAgICBmb3IgKGtiMCA9IGJwdHJbamJdLCBrYjEgPSBicHRyW2piICsgMV0sIGtiID0ga2IwOyBrYiA8IGtiMTsga2IrKykge1xuICAgICAgICAvLyBiIHJvd1xuICAgICAgICBpYiA9IGJpbmRleFtrYl07IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyB2YWx1ZXNcblxuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgLy8gbG9vcCB2YWx1ZXMgaW4gYVs6LGliXVxuICAgICAgICAgIGZvciAoa2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7IC8vIHgoaWEpID0gQVxuXG4gICAgICAgICAgICAgIHhbaWFdID0gbWYoYnZhbHVlc1trYl0sIGF2YWx1ZXNba2FdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGkgZXhpc3RzIGluIEMgYWxyZWFkeVxuICAgICAgICAgICAgICB4W2lhXSA9IGFmKHhbaWFdLCBtZihidmFsdWVzW2tiXSwgYXZhbHVlc1trYV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbG9vcCB2YWx1ZXMgaW4gYVs6LGliXVxuICAgICAgICAgIGZvciAoa2EwID0gYXB0cltpYl0sIGthMSA9IGFwdHJbaWIgKyAxXSwga2EgPSBrYTA7IGthIDwga2ExOyBrYSsrKSB7XG4gICAgICAgICAgICAvLyByb3dcbiAgICAgICAgICAgIGlhID0gYWluZGV4W2thXTsgLy8gY2hlY2sgdmFsdWUgZXhpc3RzIGluIGN1cnJlbnQgalxuXG4gICAgICAgICAgICBpZiAod1tpYV0gIT09IG1hcmspIHtcbiAgICAgICAgICAgICAgLy8gaWEgaXMgbmV3IGVudHJ5IGluIGpcbiAgICAgICAgICAgICAgd1tpYV0gPSBtYXJrOyAvLyBhZGQgaSB0byBwYXR0ZXJuIG9mIENcblxuICAgICAgICAgICAgICBjaW5kZXgucHVzaChpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIGNoZWNrIHdlIG5lZWQgdG8gcHJvY2VzcyBtYXRyaXggdmFsdWVzIChwYXR0ZXJuIG1hdHJpeClcblxuXG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIC8vIGNvcHkgdmFsdWVzIGZyb20geCB0byBjb2x1bW4gamIgb2YgY1xuICAgICAgICBmb3IgKHZhciBwMCA9IGNwdHJbamJdLCBwMSA9IGNpbmRleC5sZW5ndGgsIHAgPSBwMDsgcCA8IHAxOyBwKyspIHtcbiAgICAgICAgICAvLyByb3dcbiAgICAgICAgICB2YXIgaWMgPSBjaW5kZXhbcF07IC8vIGNvcHkgdmFsdWVcblxuICAgICAgICAgIGN2YWx1ZXNbcF0gPSB4W2ljXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICBjcHRyW2Jjb2x1bW5zXSA9IGNpbmRleC5sZW5ndGg7IC8vIHJldHVybiBzcGFyc2UgbWF0cml4XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogTXVsdGlwbHkgdHdvIG9yIG1vcmUgdmFsdWVzLCBgeCAqIHlgLlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBtYXRyaXggcHJvZHVjdCBpcyBjYWxjdWxhdGVkLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubXVsdGlwbHkoeCwgeSlcbiAgICogICAgbWF0aC5tdWx0aXBseSh4LCB5LCB6LCAuLi4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLm11bHRpcGx5KDQsIDUuMikgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDIwLjhcbiAgICogICAgbWF0aC5tdWx0aXBseSgyLCAzLCA0KSAgICAgICAvLyByZXR1cm5zIG51bWJlciAyNFxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoNCwgMSlcbiAgICogICAgbWF0aC5tdWx0aXBseShhLCBiKSAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggNSArIDE0aVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gW1sxLCAyXSwgWzQsIDNdXVxuICAgKiAgICBjb25zdCBkID0gW1sxLCAyLCAzXSwgWzMsIC00LCA3XV1cbiAgICogICAgbWF0aC5tdWx0aXBseShjLCBkKSAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbNywgLTYsIDE3XSwgWzEzLCAtNCwgMzNdXVxuICAgKlxuICAgKiAgICBjb25zdCBlID0gbWF0aC51bml0KCcyLjEga20nKVxuICAgKiAgICBtYXRoLm11bHRpcGx5KDMsIGUpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA2LjMga21cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGRpdmlkZSwgcHJvZCwgY3Jvc3MsIGRvdFxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gbXVsdGlwbHlcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB5IFNlY29uZCB2YWx1ZSB0byBtdWx0aXBseVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IE11bHRpcGxpY2F0aW9uIG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIG11bHRpcGx5U2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyBjaGVjayBkaW1lbnNpb25zXG4gICAgICBfdmFsaWRhdGVNYXRyaXhEaW1lbnNpb25zKGFycmF5U2l6ZSh4KSwgYXJyYXlTaXplKHkpKTsgLy8gdXNlIGRlbnNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuXG5cbiAgICAgIHZhciBtID0gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSk7IC8vIHJldHVybiBhcnJheSBvciBzY2FsYXJcblxuICAgICAgcmV0dXJuIGlzTWF0cml4KG0pID8gbS52YWx1ZU9mKCkgOiBtO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgTWF0cml4JzogZnVuY3Rpb24gTWF0cml4TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGRpbWVuc2lvbnNcbiAgICAgIHZhciB4c2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgdmFyIHlzaXplID0geS5zaXplKCk7IC8vIGNoZWNrIGRpbWVuc2lvbnNcblxuICAgICAgX3ZhbGlkYXRlTWF0cml4RGltZW5zaW9ucyh4c2l6ZSwgeXNpemUpOyAvLyBwcm9jZXNzIGRpbWVuc2lvbnNcblxuXG4gICAgICBpZiAoeHNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIHByb2Nlc3MgeSBkaW1lbnNpb25zXG4gICAgICAgIGlmICh5c2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBWZWN0b3IgKiBWZWN0b3JcbiAgICAgICAgICByZXR1cm4gX211bHRpcGx5VmVjdG9yVmVjdG9yKHgsIHksIHhzaXplWzBdKTtcbiAgICAgICAgfSAvLyBWZWN0b3IgKiBNYXRyaXhcblxuXG4gICAgICAgIHJldHVybiBfbXVsdGlwbHlWZWN0b3JNYXRyaXgoeCwgeSk7XG4gICAgICB9IC8vIHByb2Nlc3MgeSBkaW1lbnNpb25zXG5cblxuICAgICAgaWYgKHlzaXplLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBNYXRyaXggKiBWZWN0b3JcbiAgICAgICAgcmV0dXJuIF9tdWx0aXBseU1hdHJpeFZlY3Rvcih4LCB5KTtcbiAgICAgIH0gLy8gTWF0cml4ICogTWF0cml4XG5cblxuICAgICAgcmV0dXJuIF9tdWx0aXBseU1hdHJpeE1hdHJpeCh4LCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIE1hdHJpeCAqIE1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIE1hdHJpeCAqIE1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgsIHkuc3RvcmFnZSgpKSwgeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBtdWx0aXBseVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh5LCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIG11bHRpcGx5U2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXknOiBmdW5jdGlvbiBhbnlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCBtdWx0aXBseVNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgYW55JzogbXVsdGlwbHlTY2FsYXIsXG4gICAgJ2FueSwgYW55LCAuLi5hbnknOiBmdW5jdGlvbiBhbnlBbnlBbnkoeCwgeSwgcmVzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMoeCwgeSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgPSB0aGlzKHJlc3VsdCwgcmVzdFtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9LCBtdWx0aXBseVNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTAxIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMDMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0wMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wNSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTA1LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEwIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTMgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbnZhciBuYW1lID0gJ3N1YnRyYWN0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICdhZGRTY2FsYXInLCAndW5hcnlNaW51cycsICdEZW5zZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVTdWJ0cmFjdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBlcXVhbFNjYWxhcixcbiAgICBhZGRTY2FsYXIsXG4gICAgdW5hcnlNaW51cyxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgLy8gVE9ETzogc3BsaXQgZnVuY3Rpb24gc3VidHJhY3QgaW4gdHdvOiBzdWJ0cmFjdCBhbmQgc3VidHJhY3RTY2FsYXJcbiAgdmFyIGFsZ29yaXRobTAxID0gY3JlYXRlQWxnb3JpdGhtMDEoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNSA9IGNyZWF0ZUFsZ29yaXRobTA1KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEwID0gY3JlYXRlQWxnb3JpdGhtMTAoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFN1YnRyYWN0IHR3byB2YWx1ZXMsIGB4IC0geWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdCg1LjMsIDIpICAgICAgICAvLyByZXR1cm5zIG51bWJlciAzLjNcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC5jb21wbGV4KDQsIDEpXG4gICAqICAgIG1hdGguc3VidHJhY3QoYSwgYikgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC0yICsgMmlcbiAgICpcbiAgICogICAgbWF0aC5zdWJ0cmFjdChbNSwgNywgNF0sIDQpICAvLyByZXR1cm5zIEFycmF5IFsxLCAzLCAwXVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC51bml0KCcyLjEga20nKVxuICAgKiAgICBjb25zdCBkID0gbWF0aC51bml0KCc1MDBtJylcbiAgICogICAgbWF0aC5zdWJ0cmFjdChjLCBkKSAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgMS42IGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBhZGRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4XG4gICAqICAgICAgICAgICAgSW5pdGlhbCB2YWx1ZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHlcbiAgICogICAgICAgICAgICBWYWx1ZSB0byBzdWJ0cmFjdCBmcm9tIGB4YFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9XG4gICAqICAgICAgICAgICAgU3VidHJhY3Rpb24gb2YgYHhgIGFuZCBgeWBcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggLSB5O1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5zdWIoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubWludXMoeSk7XG4gICAgfSxcbiAgICAnRnJhY3Rpb24sIEZyYWN0aW9uJzogZnVuY3Rpb24gRnJhY3Rpb25GcmFjdGlvbih4LCB5KSB7XG4gICAgICByZXR1cm4geC5zdWIoeSk7XG4gICAgfSxcbiAgICAnVW5pdCwgVW5pdCc6IGZ1bmN0aW9uIFVuaXRVbml0KHgsIHkpIHtcbiAgICAgIGlmICh4LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHggY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh5LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIHkgY29udGFpbnMgYSB1bml0IHdpdGggdW5kZWZpbmVkIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgheC5lcXVhbEJhc2UoeSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml0cyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHguY2xvbmUoKTtcbiAgICAgIHJlcy52YWx1ZSA9IHRoaXMocmVzLnZhbHVlLCB5LnZhbHVlKTtcbiAgICAgIHJlcy5maXhQcmVmaXggPSBmYWxzZTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgY2hlY2tFcXVhbERpbWVuc2lvbnMoeCwgeSk7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDUoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeERlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpO1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ0RlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBEZW5zZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMSh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICBjaGVja0VxdWFsRGltZW5zaW9ucyh4LCB5KTtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMyh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBhbnknOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEwKHgsIHVuYXJ5TWludXMoeSksIGFkZFNjYWxhcik7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzKTtcbiAgICB9LFxuICAgICdhbnksIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIGFueVNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdhbnksIEFycmF5JzogZnVuY3Rpb24gYW55QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh5KSwgeCwgdGhpcywgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH1cbiAgfSk7XG59KTtcbi8qKlxuICogQ2hlY2sgd2hldGhlciBtYXRyaXggeCBhbmQgeSBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBkaW1lbnNpb25zLlxuICogVGhyb3dzIGEgRGltZW5zaW9uRXJyb3Igd2hlbiBkaW1lbnNpb25zIGFyZSBub3QgZXF1YWxcbiAqIEBwYXJhbSB7TWF0cml4fSB4XG4gKiBAcGFyYW0ge01hdHJpeH0geVxuICovXG5cbmZ1bmN0aW9uIGNoZWNrRXF1YWxEaW1lbnNpb25zKHgsIHkpIHtcbiAgdmFyIHhzaXplID0geC5zaXplKCk7XG4gIHZhciB5c2l6ZSA9IHkuc2l6ZSgpO1xuXG4gIGlmICh4c2l6ZS5sZW5ndGggIT09IHlzaXplLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBEaW1lbnNpb25FcnJvcih4c2l6ZS5sZW5ndGgsIHlzaXplLmxlbmd0aCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbnZhciBuYW1lID0gJ2FsZ29yaXRobTA3JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFsZ29yaXRobTA3ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgU3BhcnNlTWF0cml4IEEgYW5kIFNwYXJzZU1hdHJpeCBCIGl0ZW1zICh6ZXJvIGFuZCBub256ZXJvKSBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZihBaWosIEJpaikuXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgTXhOIHRpbWVzLlxuICAgKlxuICAgKiBDKGksaikgPSBmKEFpaiwgQmlqKVxuICAgKlxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBhICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChBKVxuICAgKiBAcGFyYW0ge01hdHJpeH0gICBiICAgICAgICAgICAgICAgICBUaGUgU3BhcnNlTWF0cml4IGluc3RhbmNlIChCKVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgICBUaGUgZihBaWosQmlqKSBvcGVyYXRpb24gdG8gaW52b2tlXG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeH0gICAgICAgICAgICAgICAgICAgIERlbnNlTWF0cml4IChDKVxuICAgKlxuICAgKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pvc2Rlam9uZy9tYXRoanMvcHVsbC8zNDYjaXNzdWVjb21tZW50LTk3NjIwMjk0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWxnb3JpdGhtMDcoYSwgYiwgY2FsbGJhY2spIHtcbiAgICAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuICAgIHZhciBhc2l6ZSA9IGEuX3NpemU7XG4gICAgdmFyIGFkdCA9IGEuX2RhdGF0eXBlOyAvLyBzcGFyc2UgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGJzaXplID0gYi5fc2l6ZTtcbiAgICB2YXIgYmR0ID0gYi5fZGF0YXR5cGU7IC8vIHZhbGlkYXRlIGRpbWVuc2lvbnNcblxuICAgIGlmIChhc2l6ZS5sZW5ndGggIT09IGJzaXplLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGFzaXplLmxlbmd0aCwgYnNpemUubGVuZ3RoKTtcbiAgICB9IC8vIGNoZWNrIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIGlmIChhc2l6ZVswXSAhPT0gYnNpemVbMF0gfHwgYXNpemVbMV0gIT09IGJzaXplWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRGltZW5zaW9uIG1pc21hdGNoLiBNYXRyaXggQSAoJyArIGFzaXplICsgJykgbXVzdCBtYXRjaCBNYXRyaXggQiAoJyArIGJzaXplICsgJyknKTtcbiAgICB9IC8vIHJvd3MgJiBjb2x1bW5zXG5cblxuICAgIHZhciByb3dzID0gYXNpemVbMF07XG4gICAgdmFyIGNvbHVtbnMgPSBhc2l6ZVsxXTsgLy8gZGF0YXR5cGVcblxuICAgIHZhciBkdDsgLy8gemVybyB2YWx1ZVxuXG4gICAgdmFyIHplcm8gPSAwOyAvLyBjYWxsYmFjayBzaWduYXR1cmUgdG8gdXNlXG5cbiAgICB2YXIgY2YgPSBjYWxsYmFjazsgLy8gcHJvY2VzcyBkYXRhIHR5cGVzXG5cbiAgICBpZiAodHlwZW9mIGFkdCA9PT0gJ3N0cmluZycgJiYgYWR0ID09PSBiZHQpIHtcbiAgICAgIC8vIGRhdGF0eXBlXG4gICAgICBkdCA9IGFkdDsgLy8gY29udmVydCAwIHRvIHRoZSBzYW1lIGRhdGF0eXBlXG5cbiAgICAgIHplcm8gPSB0eXBlZC5jb252ZXJ0KDAsIGR0KTsgLy8gY2FsbGJhY2tcblxuICAgICAgY2YgPSB0eXBlZC5maW5kKGNhbGxiYWNrLCBbZHQsIGR0XSk7XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciBpLCBqOyAvLyByZXN1bHQgYXJyYXlzXG5cbiAgICB2YXIgY2RhdGEgPSBbXTsgLy8gaW5pdGlhbGl6ZSBjXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBjZGF0YVtpXSA9IFtdO1xuICAgIH0gLy8gd29ya3NwYWNlc1xuXG5cbiAgICB2YXIgeGEgPSBbXTtcbiAgICB2YXIgeGIgPSBbXTsgLy8gbWFya3MgaW5kaWNhdGluZyB3ZSBoYXZlIGEgdmFsdWUgaW4geCBmb3IgYSBnaXZlbiBjb2x1bW5cblxuICAgIHZhciB3YSA9IFtdO1xuICAgIHZhciB3YiA9IFtdOyAvLyBsb29wIGNvbHVtbnNcblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIGNvbHVtbnMgbWFya1xuICAgICAgdmFyIG1hcmsgPSBqICsgMTsgLy8gc2NhdHRlciB0aGUgdmFsdWVzIG9mIEEoOixqKSBpbnRvIHdvcmtzcGFjZVxuXG4gICAgICBfc2NhdHRlcihhLCBqLCB3YSwgeGEsIG1hcmspOyAvLyBzY2F0dGVyIHRoZSB2YWx1ZXMgb2YgQig6LGopIGludG8gd29ya3NwYWNlXG5cblxuICAgICAgX3NjYXR0ZXIoYiwgaiwgd2IsIHhiLCBtYXJrKTsgLy8gbG9vcCByb3dzXG5cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAvLyBtYXRyaXggdmFsdWVzIEAgaSxqXG4gICAgICAgIHZhciB2YSA9IHdhW2ldID09PSBtYXJrID8geGFbaV0gOiB6ZXJvO1xuICAgICAgICB2YXIgdmIgPSB3YltpXSA9PT0gbWFyayA/IHhiW2ldIDogemVybzsgLy8gaW52b2tlIGNhbGxiYWNrXG5cbiAgICAgICAgY2RhdGFbaV1bal0gPSBjZih2YSwgdmIpO1xuICAgICAgfVxuICAgIH0gLy8gcmV0dXJuIGRlbnNlIG1hdHJpeFxuXG5cbiAgICByZXR1cm4gbmV3IERlbnNlTWF0cml4KHtcbiAgICAgIGRhdGE6IGNkYXRhLFxuICAgICAgc2l6ZTogW3Jvd3MsIGNvbHVtbnNdLFxuICAgICAgZGF0YXR5cGU6IGR0XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3NjYXR0ZXIobSwgaiwgdywgeCwgbWFyaykge1xuICAgIC8vIGEgYXJyYXlzXG4gICAgdmFyIHZhbHVlcyA9IG0uX3ZhbHVlcztcbiAgICB2YXIgaW5kZXggPSBtLl9pbmRleDtcbiAgICB2YXIgcHRyID0gbS5fcHRyOyAvLyBsb29wIHZhbHVlcyBpbiBjb2x1bW4galxuXG4gICAgZm9yICh2YXIgayA9IHB0cltqXSwgazEgPSBwdHJbaiArIDFdOyBrIDwgazE7IGsrKykge1xuICAgICAgLy8gcm93XG4gICAgICB2YXIgaSA9IGluZGV4W2tdOyAvLyB1cGRhdGUgd29ya3NwYWNlXG5cbiAgICAgIHdbaV0gPSBtYXJrO1xuICAgICAgeFtpXSA9IHZhbHVlc1trXTtcbiAgICB9XG4gIH1cbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ2NvbmonO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uaiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiBhIGNvbXBsZXggdmFsdWUuXG4gICAqIElmIGB4ID0gYStiaWAsIHRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiBgeGAgaXMgYGEgLSBiaWAuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5jb25qKHgpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmNvbmoobWF0aC5jb21wbGV4KCcyICsgM2knKSkgIC8vIHJldHVybnMgQ29tcGxleCAyIC0gM2lcbiAgICogICAgbWF0aC5jb25qKG1hdGguY29tcGxleCgnMiAtIDNpJykpICAvLyByZXR1cm5zIENvbXBsZXggMiArIDNpXG4gICAqICAgIG1hdGguY29uaihtYXRoLmNvbXBsZXgoJy01LjJpJykpICAvLyByZXR1cm5zIENvbXBsZXggNS4yaVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgcmUsIGltLCBhcmcsIGFic1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geFxuICAgKiAgICAgICAgICAgIEEgY29tcGxleCBudW1iZXIgb3IgYXJyYXkgd2l0aCBjb21wbGV4IG51bWJlcnNcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IEFycmF5IHwgTWF0cml4fVxuICAgKiAgICAgICAgICAgIFRoZSBjb21wbGV4IGNvbmp1Z2F0ZSBvZiB4XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4LmNvbmp1Z2F0ZSgpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8vIChjKSAyMDE4LCBNYXJpdXN6IE5vd2FrXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogSVNDXG4vLyBEZXJpdmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vbHJ1LXF1ZXVlXG5leHBvcnQgZnVuY3Rpb24gbHJ1UXVldWUobGltaXQpIHtcbiAgdmFyIHNpemUgPSAwO1xuICB2YXIgYmFzZSA9IDE7XG4gIHZhciBxdWV1ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIHZhciBkZWwgPSBmdW5jdGlvbiBkZWwoaWQpIHtcbiAgICB2YXIgb2xkSW5kZXggPSBtYXBbaWRdO1xuICAgIGlmICghb2xkSW5kZXgpIHJldHVybjtcbiAgICBkZWxldGUgcXVldWVbb2xkSW5kZXhdO1xuICAgIGRlbGV0ZSBtYXBbaWRdO1xuICAgIC0tc2l6ZTtcbiAgICBpZiAoYmFzZSAhPT0gb2xkSW5kZXgpIHJldHVybjtcblxuICAgIGlmICghc2l6ZSkge1xuICAgICAgaW5kZXggPSAwO1xuICAgICAgYmFzZSA9IDE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHF1ZXVlLCArK2Jhc2UpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH07XG5cbiAgbGltaXQgPSBNYXRoLmFicyhsaW1pdCk7XG4gIHJldHVybiB7XG4gICAgaGl0OiBmdW5jdGlvbiBoaXQoaWQpIHtcbiAgICAgIHZhciBvbGRJbmRleCA9IG1hcFtpZF07XG4gICAgICB2YXIgbnVJbmRleCA9ICsraW5kZXg7XG4gICAgICBxdWV1ZVtudUluZGV4XSA9IGlkO1xuICAgICAgbWFwW2lkXSA9IG51SW5kZXg7XG5cbiAgICAgIGlmICghb2xkSW5kZXgpIHtcbiAgICAgICAgKytzaXplO1xuICAgICAgICBpZiAoc2l6ZSA8PSBsaW1pdCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWQgPSBxdWV1ZVtiYXNlXTtcbiAgICAgICAgZGVsKGlkKTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgcXVldWVbb2xkSW5kZXhdO1xuICAgICAgaWYgKGJhc2UgIT09IG9sZEluZGV4KSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAoIWhhc093blByb3BlcnR5LmNhbGwocXVldWUsICsrYmFzZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBkZWxldGU6IGRlbCxcbiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICBzaXplID0gaW5kZXggPSAwO1xuICAgICAgYmFzZSA9IDE7XG4gICAgICBxdWV1ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgfTtcbn1cbjsiLCIvLyBmdW5jdGlvbiB1dGlsc1xuaW1wb3J0IHsgbHJ1UXVldWUgfSBmcm9tICcuL2xydVF1ZXVlLmpzJztcbi8qKlxuICogTWVtb2l6ZSBhIGdpdmVuIGZ1bmN0aW9uIGJ5IGNhY2hpbmcgdGhlIGNvbXB1dGVkIHJlc3VsdC5cbiAqIFRoZSBjYWNoZSBvZiBhIG1lbW9pemVkIGZ1bmN0aW9uIGNhbiBiZSBjbGVhcmVkIGJ5IGRlbGV0aW5nIHRoZSBgY2FjaGVgXG4gKiBwcm9wZXJ0eSBvZiB0aGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gICAgICAgICAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gYmUgbWVtb2l6ZWQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE11c3QgYmUgYSBwdXJlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtmdW5jdGlvbihhcmdzOiBBcnJheSk6IHN0cmluZ30gW29wdGlvbnMuaGFzaGVyXVxuICogICAgQSBjdXN0b20gaGFzaCBidWlsZGVyLiBJcyBKU09OLnN0cmluZ2lmeSBieSBkZWZhdWx0LlxuICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IFtvcHRpb25zLmxpbWl0XVxuICogICAgTWF4aW11bSBudW1iZXIgb2YgdmFsdWVzIHRoYXQgbWF5IGJlIGNhY2hlZC4gVW5kZWZpbmVkIGluZGljYXRlc1xuICogICAgdW5saW1pdGVkIChkZWZhdWx0KVxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm5zIHRoZSBtZW1vaXplZCBmdW5jdGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGZuKSB7XG4gIHZhciB7XG4gICAgaGFzaGVyLFxuICAgIGxpbWl0XG4gIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBsaW1pdCA9IGxpbWl0ID09IG51bGwgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiBsaW1pdDtcbiAgaGFzaGVyID0gaGFzaGVyID09IG51bGwgPyBKU09OLnN0cmluZ2lmeSA6IGhhc2hlcjtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9pemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vaXplLmNhY2hlICE9PSAnb2JqZWN0Jykge1xuICAgICAgbWVtb2l6ZS5jYWNoZSA9IHtcbiAgICAgICAgdmFsdWVzOiBuZXcgTWFwKCksXG4gICAgICAgIGxydTogbHJ1UXVldWUobGltaXQgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgdmFyIGhhc2ggPSBoYXNoZXIoYXJncyk7XG5cbiAgICBpZiAobWVtb2l6ZS5jYWNoZS52YWx1ZXMuaGFzKGhhc2gpKSB7XG4gICAgICBtZW1vaXplLmNhY2hlLmxydS5oaXQoaGFzaCk7XG4gICAgICByZXR1cm4gbWVtb2l6ZS5jYWNoZS52YWx1ZXMuZ2V0KGhhc2gpO1xuICAgIH1cblxuICAgIHZhciBuZXdWYWwgPSBmbi5hcHBseShmbiwgYXJncyk7XG4gICAgbWVtb2l6ZS5jYWNoZS52YWx1ZXMuc2V0KGhhc2gsIG5ld1ZhbCk7XG4gICAgbWVtb2l6ZS5jYWNoZS52YWx1ZXMuZGVsZXRlKG1lbW9pemUuY2FjaGUubHJ1LmhpdChoYXNoKSk7XG4gICAgcmV0dXJuIG5ld1ZhbDtcbiAgfTtcbn1cbi8qKlxuICogTWVtb2l6ZSBhIGdpdmVuIGZ1bmN0aW9uIGJ5IGNhY2hpbmcgYWxsIHJlc3VsdHMgYW5kIHRoZSBhcmd1bWVudHMsXG4gKiBhbmQgY29tcGFyaW5nIGFnYWluc3QgdGhlIGFyZ3VtZW50cyBvZiBwcmV2aW91cyByZXN1bHRzIGJlZm9yZVxuICogZXhlY3V0aW5nIGFnYWluLlxuICogVGhpcyBpcyBsZXNzIHBlcmZvcm1hbnQgdGhhbiBgbWVtb2l6ZWAgd2hpY2ggY2FsY3VsYXRlcyBhIGhhc2gsXG4gKiB3aGljaCBpcyB2ZXJ5IGZhc3QgdG8gY29tcGFyZS4gVXNlIGBtZW1vaXplQ29tcGFyZWAgb25seSB3aGVuIGl0IGlzXG4gKiBub3QgcG9zc2libGUgdG8gY3JlYXRlIGEgdW5pcXVlIHNlcmlhbGl6YWJsZSBoYXNoIGZyb20gdGhlIGZ1bmN0aW9uXG4gKiBhcmd1bWVudHMuXG4gKiBUaGUgaXNFcXVhbCBmdW5jdGlvbiBtdXN0IGNvbXBhcmUgdHdvIHNldHMgb2YgYXJndW1lbnRzXG4gKiBhbmQgcmV0dXJuIHRydWUgd2hlbiBlcXVhbCAoY2FuIGJlIGEgZGVlcCBlcXVhbGl0eSBjaGVjayBmb3IgZXhhbXBsZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtmdW5jdGlvbihhOiAqLCBiOiAqKSA6IGJvb2xlYW59IGlzRXF1YWxcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUoZm4sIGlzRXF1YWwpIHtcbiAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbiBtZW1vaXplKCkge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IG1lbW9pemUuY2FjaGUubGVuZ3RoOyBjKyspIHtcbiAgICAgIHZhciBjYWNoZWQgPSBtZW1vaXplLmNhY2hlW2NdO1xuXG4gICAgICBpZiAoaXNFcXVhbChhcmdzLCBjYWNoZWQuYXJncykpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSB0aGlzIGNhY2hlIGVudHJ5IHRvIHRoZSB0b3Agc28gcmVjZW50bHkgdXNlZCBlbnRyaWVzIG1vdmUgdXA/XG4gICAgICAgIHJldHVybiBjYWNoZWQucmVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXMgPSBmbi5hcHBseShmbiwgYXJncyk7XG4gICAgbWVtb2l6ZS5jYWNoZS51bnNoaWZ0KHtcbiAgICAgIGFyZ3MsXG4gICAgICByZXNcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIG1lbW9pemUuY2FjaGUgPSBbXTtcbiAgcmV0dXJuIG1lbW9pemU7XG59XG4vKipcbiAqIEZpbmQgdGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyBleHBlY3RlZCBieSBhIHR5cGVkIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gICBBIHR5cGVkIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJldHVybnMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGV4cGVjdGVkIGFyZ3VtZW50cy5cbiAqICAgICAgICAgICAgICAgICAgUmV0dXJucyAtMSB3aGVuIG5vIHNpZ25hdHVyZXMgd2hlcmUgZm91bmQgb24gdGhlIGZ1bmN0aW9uLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhBcmd1bWVudENvdW50KGZuKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhmbi5zaWduYXR1cmVzIHx8IHt9KS5yZWR1Y2UoZnVuY3Rpb24gKGFyZ3MsIHNpZ25hdHVyZSkge1xuICAgIHZhciBjb3VudCA9IChzaWduYXR1cmUubWF0Y2goLywvZykgfHwgW10pLmxlbmd0aCArIDE7XG4gICAgcmV0dXJuIE1hdGgubWF4KGFyZ3MsIGNvdW50KTtcbiAgfSwgLTEpO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2lkZW50aXR5JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnQmlnTnVtYmVyJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCddO1xuZXhwb3J0IHZhciBjcmVhdGVJZGVudGl0eSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXgsXG4gICAgQmlnTnVtYmVyLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgMi1kaW1lbnNpb25hbCBpZGVudGl0eSBtYXRyaXggd2l0aCBzaXplIG0geCBuIG9yIG4geCBuLlxuICAgKiBUaGUgbWF0cml4IGhhcyBvbmVzIG9uIHRoZSBkaWFnb25hbCBhbmQgemVyb3MgZWxzZXdoZXJlLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguaWRlbnRpdHkobilcbiAgICogICAgbWF0aC5pZGVudGl0eShuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguaWRlbnRpdHkobSwgbilcbiAgICogICAgbWF0aC5pZGVudGl0eShtLCBuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguaWRlbnRpdHkoW20sIG5dKVxuICAgKiAgICBtYXRoLmlkZW50aXR5KFttLCBuXSwgZm9ybWF0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5pZGVudGl0eSgzKSAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDAsIDBdLCBbMCwgMSwgMF0sIFswLCAwLCAxXV1cbiAgICogICAgbWF0aC5pZGVudGl0eSgzLCAyKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDBdLCBbMCwgMV0sIFswLCAwXV1cbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgbWF0aC5pZGVudGl0eShtYXRoLnNpemUoQSkpICAgICAgICAgLy8gcmV0dXJucyBbWzEsIDAsIDBdLCBbMCwgMSwgMF1dXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBkaWFnLCBvbmVzLCB6ZXJvcywgc2l6ZSwgcmFuZ2VcbiAgICpcbiAgICogQHBhcmFtIHsuLi5udW1iZXIgfCBNYXRyaXggfCBBcnJheX0gc2l6ZSAgIFRoZSBzaXplIGZvciB0aGUgbWF0cml4XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAgICAgICAgICAgICAgICAgICBUaGUgTWF0cml4IHN0b3JhZ2UgZm9ybWF0XG4gICAqXG4gICAqIEByZXR1cm4ge01hdHJpeCB8IEFycmF5IHwgbnVtYmVyfSBBIG1hdHJpeCB3aXRoIG9uZXMgb24gdGhlIGRpYWdvbmFsLlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/IG1hdHJpeChbXSkgOiBbXTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGZvcm1hdCkge1xuICAgICAgcmV0dXJuIG1hdHJpeChmb3JtYXQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIG51bWJlckJpZ051bWJlcihyb3dzKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIHJvd3MsIGNvbmZpZy5tYXRyaXggPT09ICdNYXRyaXgnID8gJ2RlbnNlJyA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJTdHJpbmcocm93cywgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIHJvd3MsIGZvcm1hdCk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQmlnTnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXIocm93cywgY29scykge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eShyb3dzLCBjb2xzLCBjb25maWcubWF0cml4ID09PSAnTWF0cml4JyA/ICdkZW5zZScgOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciwgbnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmcnOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXJOdW1iZXJCaWdOdW1iZXJTdHJpbmcocm93cywgY29scywgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5KHJvd3MsIGNvbHMsIGZvcm1hdCk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoc2l6ZSkge1xuICAgICAgcmV0dXJuIF9pZGVudGl0eVZlY3RvcihzaXplKTtcbiAgICB9LFxuICAgICdBcnJheSwgc3RyaW5nJzogZnVuY3Rpb24gQXJyYXlTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUsIGZvcm1hdCk7XG4gICAgfSxcbiAgICBNYXRyaXg6IGZ1bmN0aW9uIE1hdHJpeChzaXplKSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUudmFsdWVPZigpLCBzaXplLnN0b3JhZ2UoKSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBzdHJpbmcnOiBmdW5jdGlvbiBNYXRyaXhTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX2lkZW50aXR5VmVjdG9yKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gX2lkZW50aXR5VmVjdG9yKHNpemUsIGZvcm1hdCkge1xuICAgIHN3aXRjaCAoc2l6ZS5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdCA/IG1hdHJpeChmb3JtYXQpIDogW107XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eShzaXplWzBdLCBzaXplWzBdLCBmb3JtYXQpO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBfaWRlbnRpdHkoc2l6ZVswXSwgc2l6ZVsxXSwgZm9ybWF0KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZWN0b3IgY29udGFpbmluZyB0d28gdmFsdWVzIGV4cGVjdGVkJyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaWRlbnRpdHkgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSByb3dzXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyfSBjb2xzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XVxuICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9pZGVudGl0eShyb3dzLCBjb2xzLCBmb3JtYXQpIHtcbiAgICAvLyBCaWdOdW1iZXIgY29uc3RydWN0b3Igd2l0aCB0aGUgcmlnaHQgcHJlY2lzaW9uXG4gICAgdmFyIEJpZyA9IGlzQmlnTnVtYmVyKHJvd3MpIHx8IGlzQmlnTnVtYmVyKGNvbHMpID8gQmlnTnVtYmVyIDogbnVsbDtcbiAgICBpZiAoaXNCaWdOdW1iZXIocm93cykpIHJvd3MgPSByb3dzLnRvTnVtYmVyKCk7XG4gICAgaWYgKGlzQmlnTnVtYmVyKGNvbHMpKSBjb2xzID0gY29scy50b051bWJlcigpO1xuXG4gICAgaWYgKCFpc0ludGVnZXIocm93cykgfHwgcm93cyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBpZGVudGl0eSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0ludGVnZXIoY29scykgfHwgY29scyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiBpZGVudGl0eSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgfVxuXG4gICAgdmFyIG9uZSA9IEJpZyA/IG5ldyBCaWdOdW1iZXIoMSkgOiAxO1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBCaWcgPyBuZXcgQmlnKDApIDogMDtcbiAgICB2YXIgc2l6ZSA9IFtyb3dzLCBjb2xzXTsgLy8gY2hlY2sgd2UgbmVlZCB0byByZXR1cm4gYSBtYXRyaXhcblxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIC8vIGNyZWF0ZSBkaWFnb25hbCBtYXRyaXggKHVzZSBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb24gZm9yIHN0b3JhZ2UgZm9ybWF0KVxuICAgICAgaWYgKGZvcm1hdCA9PT0gJ3NwYXJzZScpIHtcbiAgICAgICAgcmV0dXJuIFNwYXJzZU1hdHJpeC5kaWFnb25hbChzaXplLCBvbmUsIDAsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtYXQgPT09ICdkZW5zZScpIHtcbiAgICAgICAgcmV0dXJuIERlbnNlTWF0cml4LmRpYWdvbmFsKHNpemUsIG9uZSwgMCwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gbWF0cml4IHR5cGUgXFxcIlwiLmNvbmNhdChmb3JtYXQsIFwiXFxcIlwiKSk7XG4gICAgfSAvLyBjcmVhdGUgYW5kIHJlc2l6ZSBhcnJheVxuXG5cbiAgICB2YXIgcmVzID0gcmVzaXplKFtdLCBzaXplLCBkZWZhdWx0VmFsdWUpOyAvLyBmaWxsIGluIG9uZXMgb24gdGhlIGRpYWdvbmFsXG5cbiAgICB2YXIgbWluaW11bSA9IHJvd3MgPCBjb2xzID8gcm93cyA6IGNvbHM7IC8vIGZpbGwgZGlhZ29uYWxcblxuICAgIGZvciAodmFyIGQgPSAwOyBkIDwgbWluaW11bTsgZCsrKSB7XG4gICAgICByZXNbZF1bZF0gPSBvbmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7IiwiZXhwb3J0IGZ1bmN0aW9uIG5vQmlnbnVtYmVyKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiYmlnbnVtYmVyXCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9GcmFjdGlvbigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcImZyYWN0aW9uXCIgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9NYXRyaXgoKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm8gXCJtYXRyaXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub0luZGV4KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ05vIFwiaW5kZXhcIiBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub1N1YnNldCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdObyBcIm1hdHJpeFwiIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZScpO1xufSIsIi8qKlxuICogQ3JlYXRlIGEgc3ludGF4IGVycm9yIHdpdGggdGhlIG1lc3NhZ2U6XG4gKiAgICAgJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gPGZuPiAoPGNvdW50PiBwcm92aWRlZCwgPG1pbj4tPG1heD4gZXhwZWN0ZWQpJ1xuICogQHBhcmFtIHtzdHJpbmd9IGZuICAgICBGdW5jdGlvbiBuYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnQgIEFjdHVhbCBhcmd1bWVudCBjb3VudFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiAgICBNaW5pbXVtIHJlcXVpcmVkIGFyZ3VtZW50IGNvdW50XG4gKiBAcGFyYW0ge251bWJlcn0gW21heF0gIE1heGltdW0gcmVxdWlyZWQgYXJndW1lbnQgY291bnRcbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBcmd1bWVudHNFcnJvcihmbiwgY291bnQsIG1pbiwgbWF4KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBcmd1bWVudHNFcnJvcikpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICB9XG5cbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvdW50ID0gY291bnQ7XG4gIHRoaXMubWluID0gbWluO1xuICB0aGlzLm1heCA9IG1heDtcbiAgdGhpcy5tZXNzYWdlID0gJ1dyb25nIG51bWJlciBvZiBhcmd1bWVudHMgaW4gZnVuY3Rpb24gJyArIGZuICsgJyAoJyArIGNvdW50ICsgJyBwcm92aWRlZCwgJyArIG1pbiArIChtYXggIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IG51bGwgPyAnLScgKyBtYXggOiAnJykgKyAnIGV4cGVjdGVkKSc7XG4gIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbn1cbkFyZ3VtZW50c0Vycm9yLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXJyb3I7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUubmFtZSA9ICdBcmd1bWVudHNFcnJvcic7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUuaXNBcmd1bWVudHNFcnJvciA9IHRydWU7IiwiaW1wb3J0IHsgYXJyYXlTaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgbm9NYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9ub29wLmpzJztcbnZhciBuYW1lID0gJ3NpemUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnY29uZmlnJywgJz9tYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU2l6ZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZyxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBhIG1hdHJpeCBvciBzY2FsYXIuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgIG1hdGguc2l6ZSh4KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIG1hdGguc2l6ZSgyLjMpICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBbXVxuICAgKiAgICAgbWF0aC5zaXplKCdoZWxsbyB3b3JsZCcpICAgICAgICAvLyByZXR1cm5zIFsxMV1cbiAgICpcbiAgICogICAgIGNvbnN0IEEgPSBbWzEsIDIsIDNdLCBbNCwgNSwgNl1dXG4gICAqICAgICBtYXRoLnNpemUoQSkgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWzIsIDNdXG4gICAqICAgICBtYXRoLnNpemUobWF0aC5yYW5nZSgxLDYpKSAgICAgIC8vIHJldHVybnMgWzVdXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgcmVzaXplLCBzcXVlZXplLCBzdWJzZXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuIHwgbnVtYmVyIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geCAgQSBtYXRyaXhcbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9IEEgdmVjdG9yIHdpdGggc2l6ZSBvZiBgeGAuXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIE1hdHJpeDogZnVuY3Rpb24gTWF0cml4KHgpIHtcbiAgICAgIHJldHVybiB4LmNyZWF0ZSh4LnNpemUoKSk7XG4gICAgfSxcbiAgICBBcnJheTogYXJyYXlTaXplLFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHgpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gW3gubGVuZ3RoXSA6IG1hdHJpeChbeC5sZW5ndGhdKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsJzogZnVuY3Rpb24gbnVtYmVyQ29tcGxleEJpZ051bWJlclVuaXRCb29sZWFuTnVsbCh4KSB7XG4gICAgICAvLyBzY2FsYXJcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gW10gOiBtYXRyaXggPyBtYXRyaXgoW10pIDogbm9NYXRyaXgoKTtcbiAgICB9XG4gIH0pO1xufSk7IiwiaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuL29iamVjdC5qcyc7XG4vKipcbiAqIEdldCBhIHByb3BlcnR5IG9mIGEgcGxhaW4gb2JqZWN0XG4gKiBUaHJvd3MgYW4gZXJyb3IgaW4gY2FzZSB0aGUgb2JqZWN0IGlzIG5vdCBhIHBsYWluIG9iamVjdCBvciB0aGVcbiAqIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBvYmplY3QgaXRzZWxmXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgd2hlbiBzYWZlXG4gKi9cblxuZnVuY3Rpb24gZ2V0U2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkge1xuICAvLyBvbmx5IGFsbG93IGdldHRpbmcgc2FmZSBwcm9wZXJ0aWVzIG9mIGEgcGxhaW4gb2JqZWN0XG4gIGlmIChpc1BsYWluT2JqZWN0KG9iamVjdCkgJiYgaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSkge1xuICAgIHJldHVybiBvYmplY3RbcHJvcF07XG4gIH1cblxuICBpZiAodHlwZW9mIG9iamVjdFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1NhZmVNZXRob2Qob2JqZWN0LCBwcm9wKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFjY2VzcyBtZXRob2QgXCInICsgcHJvcCArICdcIiBhcyBhIHByb3BlcnR5Jyk7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwcm9wICsgJ1wiJyk7XG59XG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGEgcGxhaW4gb2JqZWN0LlxuICogVGhyb3dzIGFuIGVycm9yIGluIGNhc2UgdGhlIG9iamVjdCBpcyBub3QgYSBwbGFpbiBvYmplY3Qgb3IgdGhlXG4gKiBwcm9wZXJ0eSB3b3VsZCBvdmVycmlkZSBhbiBpbmhlcml0ZWQgcHJvcGVydHkgbGlrZSAuY29uc3RydWN0b3Igb3IgLnRvU3RyaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdmFsdWVcbiAqL1xuLy8gVE9ETzogbWVyZ2UgdGhpcyBmdW5jdGlvbiBpbnRvIGFjY2Vzcy5qcz9cblxuXG5mdW5jdGlvbiBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wLCB2YWx1ZSkge1xuICAvLyBvbmx5IGFsbG93IHNldHRpbmcgc2FmZSBwcm9wZXJ0aWVzIG9mIGEgcGxhaW4gb2JqZWN0XG4gIGlmIChpc1BsYWluT2JqZWN0KG9iamVjdCkgJiYgaXNTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wKSkge1xuICAgIG9iamVjdFtwcm9wXSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHByb3BlcnR5IFwiJyArIHByb3AgKyAnXCInKTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgcHJvcGVydHkgaXMgc2FmZSB0byB1c2UgZm9yIGFuIG9iamVjdC5cbiAqIEZvciBleGFtcGxlIC50b1N0cmluZyBhbmQgLmNvbnN0cnVjdG9yIGFyZSBub3Qgc2FmZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHNhZmVcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzU2FmZVByb3BlcnR5KG9iamVjdCwgcHJvcCkge1xuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBTQUZFOiB3aGl0ZWxpc3RlZFxuICAvLyBlLmcgbGVuZ3RoXG5cblxuICBpZiAoaGFzT3duUHJvcGVydHkoc2FmZU5hdGl2ZVByb3BlcnRpZXMsIHByb3ApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gVU5TQUZFOiBpbmhlcml0ZWQgZnJvbSBPYmplY3QgcHJvdG90eXBlXG4gIC8vIGUuZyBjb25zdHJ1Y3RvclxuXG5cbiAgaWYgKHByb3AgaW4gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIE9iamVjdC5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIEZ1bmN0aW9uIHByb3RvdHlwZVxuICAvLyBlLmcgY2FsbCwgYXBwbHlcblxuXG4gIGlmIChwcm9wIGluIEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIEZ1bmN0aW9uLnByb3RvdHlwZSBpcyBhIHJvb3Qgb2JqZWN0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgYSBtZXRob2QgaXMgc2FmZS5cbiAqIFRocm93cyBhbiBlcnJvciB3aGVuIHRoYXQncyBub3QgdGhlIGNhc2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKi9cbi8vIFRPRE86IG1lcmdlIHRoaXMgZnVuY3Rpb24gaW50byBhc3NpZ24uanM/XG5cblxuZnVuY3Rpb24gdmFsaWRhdGVTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSB7XG4gIGlmICghaXNTYWZlTWV0aG9kKG9iamVjdCwgbWV0aG9kKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIG1ldGhvZCBcIicgKyBtZXRob2QgKyAnXCInKTtcbiAgfVxufVxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgbWV0aG9kIGlzIHNhZmUuXG4gKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiB0aGF0J3Mgbm90IHRoZSBjYXNlIChmb3IgZXhhbXBsZSBmb3IgYGNvbnN0cnVjdG9yYCkuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgd2hlbiBzYWZlLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzU2FmZU1ldGhvZChvYmplY3QsIG1ldGhvZCkge1xuICBpZiAob2JqZWN0ID09PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBvYmplY3RbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGdob3N0ZWRcbiAgLy8gZS5nIG92ZXJyaWRkZW4gdG9TdHJpbmdcbiAgLy8gTm90ZSB0aGF0IElFMTAgZG9lc24ndCBzdXBwb3J0IF9fcHJvdG9fXyBhbmQgd2UgY2FuJ3QgZG8gdGhpcyBjaGVjayB0aGVyZS5cblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShvYmplY3QsIG1ldGhvZCkgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIG1ldGhvZCBpbiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBTQUZFOiB3aGl0ZWxpc3RlZFxuICAvLyBlLmcgdG9TdHJpbmdcblxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eShzYWZlTmF0aXZlTWV0aG9kcywgbWV0aG9kKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIFVOU0FGRTogaW5oZXJpdGVkIGZyb20gT2JqZWN0IHByb3RvdHlwZVxuICAvLyBlLmcgY29uc3RydWN0b3JcblxuXG4gIGlmIChtZXRob2QgaW4gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vICdpbicgaXMgdXNlZCBpbnN0ZWFkIG9mIGhhc093blByb3BlcnR5IGZvciBub2RlanMgdjAuMTBcbiAgICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgb24gcm9vdCBwcm90b3R5cGVzLiBJdCBpcyBzYWZlXG4gICAgLy8gaGVyZSBiZWNhdXNlIE9iamVjdC5wcm90b3R5cGUgaXMgYSByb290IG9iamVjdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBVTlNBRkU6IGluaGVyaXRlZCBmcm9tIEZ1bmN0aW9uIHByb3RvdHlwZVxuICAvLyBlLmcgY2FsbCwgYXBwbHlcblxuXG4gIGlmIChtZXRob2QgaW4gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgLy8gJ2luJyBpcyB1c2VkIGluc3RlYWQgb2YgaGFzT3duUHJvcGVydHkgZm9yIG5vZGVqcyB2MC4xMFxuICAgIC8vIHdoaWNoIGlzIGluY29uc2lzdGVudCBvbiByb290IHByb3RvdHlwZXMuIEl0IGlzIHNhZmVcbiAgICAvLyBoZXJlIGJlY2F1c2UgRnVuY3Rpb24ucHJvdG90eXBlIGlzIGEgcm9vdCBvYmplY3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cblxudmFyIHNhZmVOYXRpdmVQcm9wZXJ0aWVzID0ge1xuICBsZW5ndGg6IHRydWUsXG4gIG5hbWU6IHRydWVcbn07XG52YXIgc2FmZU5hdGl2ZU1ldGhvZHMgPSB7XG4gIHRvU3RyaW5nOiB0cnVlLFxuICB2YWx1ZU9mOiB0cnVlLFxuICB0b0xvY2FsZVN0cmluZzogdHJ1ZVxufTtcbmV4cG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgc2V0U2FmZVByb3BlcnR5IH07XG5leHBvcnQgeyBpc1NhZmVQcm9wZXJ0eSB9O1xuZXhwb3J0IHsgdmFsaWRhdGVTYWZlTWV0aG9kIH07XG5leHBvcnQgeyBpc1NhZmVNZXRob2QgfTtcbmV4cG9ydCB7IGlzUGxhaW5PYmplY3QgfTsiLCJpbXBvcnQgeyBpc0luZGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgc2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBEaW1lbnNpb25FcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL0RpbWVuc2lvbkVycm9yLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ3N1YnNldCc7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdtYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3Vic2V0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IGEgc3Vic2V0IG9mIGEgbWF0cml4IG9yIHN0cmluZy5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKiAgICAgbWF0aC5zdWJzZXQodmFsdWUsIGluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgYSBzdWJzZXRcbiAgICogICAgIG1hdGguc3Vic2V0KHZhbHVlLCBpbmRleCwgcmVwbGFjZW1lbnQgWywgZGVmYXVsdFZhbHVlXSkgIC8vIHJlcGxhY2UgYSBzdWJzZXRcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICAvLyBnZXQgYSBzdWJzZXRcbiAgICogICAgIGNvbnN0IGQgPSBbWzEsIDJdLCBbMywgNF1dXG4gICAqICAgICBtYXRoLnN1YnNldChkLCBtYXRoLmluZGV4KDEsIDApKSAgICAgICAgLy8gcmV0dXJucyAzXG4gICAqICAgICBtYXRoLnN1YnNldChkLCBtYXRoLmluZGV4KFswLCAxXSwgMSkpICAgLy8gcmV0dXJucyBbWzJdLCBbNF1dXG4gICAqXG4gICAqICAgICAvLyByZXBsYWNlIGEgc3Vic2V0XG4gICAqICAgICBjb25zdCBlID0gW11cbiAgICogICAgIGNvbnN0IGYgPSBtYXRoLnN1YnNldChlLCBtYXRoLmluZGV4KDAsIFswLCAyXSksIFs1LCA2XSkgIC8vIGYgPSBbWzUsIDZdXVxuICAgKiAgICAgY29uc3QgZyA9IG1hdGguc3Vic2V0KGYsIG1hdGguaW5kZXgoMSwgMSksIDcsIDApICAgICAgICAgLy8gZyA9IFtbNSwgNl0sIFswLCA3XV1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICBzaXplLCByZXNpemUsIHNxdWVlemUsIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG1hdHJpeCAgQW4gYXJyYXksIG1hdHJpeCwgb3Igc3RyaW5nXG4gICAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25cbiAgICogQHBhcmFtIHsqfSBbcmVwbGFjZW1lbnRdICAgICAgICAgICAgICAgICBBbiBhcnJheSwgbWF0cml4LCBvciBzY2FsYXIuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgcHJvdmlkZWQsIHRoZSBzdWJzZXQgaXMgcmVwbGFjZWQgd2l0aCByZXBsYWNlbWVudC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHJvdmlkZWQsIHRoZSBzdWJzZXQgaXMgcmV0dXJuZWRcbiAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPXVuZGVmaW5lZF0gICAgICBEZWZhdWx0IHZhbHVlLCBmaWxsZWQgaW4gb24gbmV3IGVudHJpZXMgd2hlblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBtYXRyaXggaXMgcmVzaXplZC4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGgubWF0cml4IGVsZW1lbnRzIHdpbGwgYmUgbGVmdCB1bmRlZmluZWQuXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBFaXRoZXIgdGhlIHJldHJpZXZlZCBzdWJzZXQgb3IgdGhlIHVwZGF0ZWQgbWF0cml4LlxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAvLyBnZXQgc3Vic2V0XG4gICAgJ0FycmF5LCBJbmRleCc6IGZ1bmN0aW9uIEFycmF5SW5kZXgodmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIgbSA9IG1hdHJpeCh2YWx1ZSk7XG4gICAgICB2YXIgc3Vic2V0ID0gbS5zdWJzZXQoaW5kZXgpOyAvLyByZXR1cm5zIGEgTWF0cml4XG5cbiAgICAgIHJldHVybiBpbmRleC5pc1NjYWxhcigpID8gc3Vic2V0IDogc3Vic2V0LnZhbHVlT2YoKTsgLy8gcmV0dXJuIGFuIEFycmF5IChsaWtlIHRoZSBpbnB1dClcbiAgICB9LFxuICAgICdNYXRyaXgsIEluZGV4JzogZnVuY3Rpb24gTWF0cml4SW5kZXgodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWUuc3Vic2V0KGluZGV4KTtcbiAgICB9LFxuICAgICdPYmplY3QsIEluZGV4JzogX2dldE9iamVjdFByb3BlcnR5LFxuICAgICdzdHJpbmcsIEluZGV4JzogX2dldFN1YnN0cmluZyxcbiAgICAvLyBzZXQgc3Vic2V0XG4gICAgJ0FycmF5LCBJbmRleCwgYW55JzogZnVuY3Rpb24gQXJyYXlJbmRleEFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgICByZXR1cm4gbWF0cml4KGNsb25lKHZhbHVlKSkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgdW5kZWZpbmVkKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIEluZGV4LCBhbnksIGFueSc6IGZ1bmN0aW9uIEFycmF5SW5kZXhBbnlBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gbWF0cml4KGNsb25lKHZhbHVlKSkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCwgYW55JzogZnVuY3Rpb24gTWF0cml4SW5kZXhBbnkodmFsdWUsIGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIHZhbHVlLmNsb25lKCkuc3Vic2V0KGluZGV4LCByZXBsYWNlbWVudCk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBJbmRleCwgYW55LCBhbnknOiBmdW5jdGlvbiBNYXRyaXhJbmRleEFueUFueSh2YWx1ZSwgaW5kZXgsIHJlcGxhY2VtZW50LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5jbG9uZSgpLnN1YnNldChpbmRleCwgcmVwbGFjZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBJbmRleCwgc3RyaW5nJzogX3NldFN1YnN0cmluZyxcbiAgICAnc3RyaW5nLCBJbmRleCwgc3RyaW5nLCBzdHJpbmcnOiBfc2V0U3Vic3RyaW5nLFxuICAgICdPYmplY3QsIEluZGV4LCBhbnknOiBfc2V0T2JqZWN0UHJvcGVydHlcbiAgfSk7XG59KTtcbi8qKlxuICogUmV0cmlldmUgYSBzdWJzZXQgb2YgYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgICAgICAgICAgICBzdHJpbmcgZnJvbSB3aGljaCB0byBnZXQgYSBzdWJzdHJpbmdcbiAqIEBwYXJhbSB7SW5kZXh9IGluZGV4ICAgICAgICAgICBBbiBpbmRleCBjb250YWluaW5nIHJhbmdlcyBmb3IgZWFjaCBkaW1lbnNpb25cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHN1YnN0cmluZ1xuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfZ2V0U3Vic3RyaW5nKHN0ciwgaW5kZXgpIHtcbiAgaWYgKCFpc0luZGV4KGluZGV4KSkge1xuICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXggZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKS5sZW5ndGgsIDEpO1xuICB9IC8vIHZhbGlkYXRlIHdoZXRoZXIgdGhlIHJhbmdlIGlzIG91dCBvZiByYW5nZVxuXG5cbiAgdmFyIHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWluKClbMF0sIHN0ckxlbik7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWF4KClbMF0sIHN0ckxlbik7XG4gIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbigwKTtcbiAgdmFyIHN1YnN0ciA9ICcnO1xuICByYW5nZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgc3Vic3RyICs9IHN0ci5jaGFyQXQodik7XG4gIH0pO1xuICByZXR1cm4gc3Vic3RyO1xufVxuLyoqXG4gKiBSZXBsYWNlIGEgc3Vic3RyaW5nIGluIGEgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgc3RyaW5nIHRvIGJlIHJlcGxhY2VkXG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleCAgICAgICAgICAgQW4gaW5kZXggY29udGFpbmluZyByYW5nZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVwbGFjZW1lbnQgICAgUmVwbGFjZW1lbnQgc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RlZmF1bHRWYWx1ZV0gRGVmYXVsdCB2YWx1ZSB0byBiZSB1c2VzIHdoZW4gcmVzaXppbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc3RyaW5nLiBpcyAnICcgYnkgZGVmYXVsdFxuICogQHJldHVybnMge3N0cmluZ30gcmVzdWx0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3NldFN1YnN0cmluZyhzdHIsIGluZGV4LCByZXBsYWNlbWVudCwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICghaW5kZXggfHwgaW5kZXguaXNJbmRleCAhPT0gdHJ1ZSkge1xuICAgIC8vIFRPRE86IGJldHRlciBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5kZXggZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKS5sZW5ndGgsIDEpO1xuICB9XG5cbiAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICdzdHJpbmcnIHx8IGRlZmF1bHRWYWx1ZS5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NpbmdsZSBjaGFyYWN0ZXIgZXhwZWN0ZWQgYXMgZGVmYXVsdFZhbHVlJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRlZmF1bHRWYWx1ZSA9ICcgJztcbiAgfVxuXG4gIHZhciByYW5nZSA9IGluZGV4LmRpbWVuc2lvbigwKTtcbiAgdmFyIGxlbiA9IHJhbmdlLnNpemUoKVswXTtcblxuICBpZiAobGVuICE9PSByZXBsYWNlbWVudC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IocmFuZ2Uuc2l6ZSgpWzBdLCByZXBsYWNlbWVudC5sZW5ndGgpO1xuICB9IC8vIHZhbGlkYXRlIHdoZXRoZXIgdGhlIHJhbmdlIGlzIG91dCBvZiByYW5nZVxuXG5cbiAgdmFyIHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gIHZhbGlkYXRlSW5kZXgoaW5kZXgubWluKClbMF0pO1xuICB2YWxpZGF0ZUluZGV4KGluZGV4Lm1heCgpWzBdKTsgLy8gY29weSB0aGUgc3RyaW5nIGludG8gYW4gYXJyYXkgd2l0aCBjaGFyYWN0ZXJzXG5cbiAgdmFyIGNoYXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJMZW47IGkrKykge1xuICAgIGNoYXJzW2ldID0gc3RyLmNoYXJBdChpKTtcbiAgfVxuXG4gIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHtcbiAgICBjaGFyc1t2XSA9IHJlcGxhY2VtZW50LmNoYXJBdChpWzBdKTtcbiAgfSk7IC8vIGluaXRpYWxpemUgdW5kZWZpbmVkIGNoYXJhY3RlcnMgd2l0aCBhIHNwYWNlXG5cbiAgaWYgKGNoYXJzLmxlbmd0aCA+IHN0ckxlbikge1xuICAgIGZvciAodmFyIF9pID0gc3RyTGVuIC0gMSwgX2xlbiA9IGNoYXJzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBpZiAoIWNoYXJzW19pXSkge1xuICAgICAgICBjaGFyc1tfaV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX2dldE9iamVjdFByb3BlcnR5KG9iamVjdCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4LnNpemUoKS5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRGltZW5zaW9uRXJyb3IoaW5kZXguc2l6ZSgpLCAxKTtcbiAgfVxuXG4gIHZhciBrZXkgPSBpbmRleC5kaW1lbnNpb24oMCk7XG5cbiAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkIGFzIGluZGV4IHRvIHJldHJpZXZlIGFuIG9iamVjdCBwcm9wZXJ0eScpO1xuICB9XG5cbiAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIGtleSk7XG59XG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAqIEBwYXJhbSB7Kn0gcmVwbGFjZW1lbnRcbiAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIHVwZGF0ZWQgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gX3NldE9iamVjdFByb3BlcnR5KG9iamVjdCwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gIGlmIChpbmRleC5zaXplKCkubGVuZ3RoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IERpbWVuc2lvbkVycm9yKGluZGV4LnNpemUoKSwgMSk7XG4gIH1cblxuICB2YXIga2V5ID0gaW5kZXguZGltZW5zaW9uKDApO1xuXG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCBhcyBpbmRleCB0byByZXRyaWV2ZSBhbiBvYmplY3QgcHJvcGVydHknKTtcbiAgfSAvLyBjbG9uZSB0aGUgb2JqZWN0LCBhbmQgYXBwbHkgdGhlIHByb3BlcnR5IHRvIHRoZSBjbG9uZVxuXG5cbiAgdmFyIHVwZGF0ZWQgPSBjbG9uZShvYmplY3QpO1xuICBzZXRTYWZlUHJvcGVydHkodXBkYXRlZCwga2V5LCByZXBsYWNlbWVudCk7XG4gIHJldHVybiB1cGRhdGVkO1xufSIsImltcG9ydCB7IGlzQmlnTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgaXNJbnRlZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbnVtYmVyLmpzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ3plcm9zJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnQmlnTnVtYmVyJ107XG5leHBvcnQgdmFyIGNyZWF0ZVplcm9zID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBCaWdOdW1iZXJcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG1hdHJpeCBmaWxsZWQgd2l0aCB6ZXJvcy4gVGhlIGNyZWF0ZWQgbWF0cml4IGNhbiBoYXZlIG9uZSBvclxuICAgKiBtdWx0aXBsZSBkaW1lbnNpb25zLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguemVyb3MobSlcbiAgICogICAgbWF0aC56ZXJvcyhtLCBmb3JtYXQpXG4gICAqICAgIG1hdGguemVyb3MobSwgbilcbiAgICogICAgbWF0aC56ZXJvcyhtLCBuLCBmb3JtYXQpXG4gICAqICAgIG1hdGguemVyb3MoW20sIG5dKVxuICAgKiAgICBtYXRoLnplcm9zKFttLCBuXSwgZm9ybWF0KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC56ZXJvcygzKSAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgWzAsIDAsIDBdXG4gICAqICAgIG1hdGguemVyb3MoMywgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIFtbMCwgMF0sIFswLCAwXSwgWzAsIDBdXVxuICAgKiAgICBtYXRoLnplcm9zKDMsICdkZW5zZScpICAgICAgICAgLy8gcmV0dXJucyBbMCwgMCwgMF1cbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtbMSwgMiwgM10sIFs0LCA1LCA2XV1cbiAgICogICAgbWF0aC56ZXJvcyhtYXRoLnNpemUoQSkpICAgICAgIC8vIHJldHVybnMgW1swLCAwLCAwXSwgWzAsIDAsIDBdXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgb25lcywgaWRlbnRpdHksIHNpemUsIHJhbmdlXG4gICAqXG4gICAqIEBwYXJhbSB7Li4ubnVtYmVyIHwgQXJyYXl9IHNpemUgICAgVGhlIHNpemUgb2YgZWFjaCBkaW1lbnNpb24gb2YgdGhlIG1hdHJpeFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gICAgICAgICAgIFRoZSBNYXRyaXggc3RvcmFnZSBmb3JtYXRcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXkgfCBNYXRyaXh9ICAgICAgICAgICBBIG1hdHJpeCBmaWxsZWQgd2l0aCB6ZXJvc1xuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnJzogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBjb25maWcubWF0cml4ID09PSAnQXJyYXknID8gX3plcm9zKFtdKSA6IF96ZXJvcyhbXSwgJ2RlZmF1bHQnKTtcbiAgICB9LFxuICAgIC8vIG1hdGguemVyb3MobSwgbiwgcCwgLi4uLCBmb3JtYXQpXG4gICAgLy8gVE9ETzogbW9yZSBhY2N1cmF0ZSBzaWduYXR1cmUgJy4uLm51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nJyBhcyBzb29uIGFzIHR5cGVkLWZ1bmN0aW9uIHN1cHBvcnRzIHRoaXNcbiAgICAnLi4ubnVtYmVyIHwgQmlnTnVtYmVyIHwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyU3RyaW5nKHNpemUpIHtcbiAgICAgIHZhciBsYXN0ID0gc2l6ZVtzaXplLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAodHlwZW9mIGxhc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBzaXplLnBvcCgpO1xuICAgICAgICByZXR1cm4gX3plcm9zKHNpemUsIGZvcm1hdCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZy5tYXRyaXggPT09ICdBcnJheScpIHtcbiAgICAgICAgcmV0dXJuIF96ZXJvcyhzaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBfemVyb3Moc2l6ZSwgJ2RlZmF1bHQnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIEFycmF5OiBfemVyb3MsXG4gICAgTWF0cml4OiBmdW5jdGlvbiBNYXRyaXgoc2l6ZSkge1xuICAgICAgdmFyIGZvcm1hdCA9IHNpemUuc3RvcmFnZSgpO1xuICAgICAgcmV0dXJuIF96ZXJvcyhzaXplLnZhbHVlT2YoKSwgZm9ybWF0KTtcbiAgICB9LFxuICAgICdBcnJheSB8IE1hdHJpeCwgc3RyaW5nJzogZnVuY3Rpb24gQXJyYXlNYXRyaXhTdHJpbmcoc2l6ZSwgZm9ybWF0KSB7XG4gICAgICByZXR1cm4gX3plcm9zKHNpemUudmFsdWVPZigpLCBmb3JtYXQpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gQXJyYXkgb3IgTWF0cml4IHdpdGggemVyb3NcbiAgICogQHBhcmFtIHtBcnJheX0gc2l6ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdD0nZGVmYXVsdCddXG4gICAqIEByZXR1cm4ge0FycmF5IHwgTWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiBfemVyb3Moc2l6ZSwgZm9ybWF0KSB7XG4gICAgdmFyIGhhc0JpZ051bWJlcnMgPSBfbm9ybWFsaXplKHNpemUpO1xuXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGhhc0JpZ051bWJlcnMgPyBuZXcgQmlnTnVtYmVyKDApIDogMDtcblxuICAgIF92YWxpZGF0ZShzaXplKTtcblxuICAgIGlmIChmb3JtYXQpIHtcbiAgICAgIC8vIHJldHVybiBhIG1hdHJpeFxuICAgICAgdmFyIG0gPSBtYXRyaXgoZm9ybWF0KTtcblxuICAgICAgaWYgKHNpemUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gbS5yZXNpemUoc2l6ZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJldHVybiBhbiBBcnJheVxuICAgICAgdmFyIGFyciA9IFtdO1xuXG4gICAgICBpZiAoc2l6ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXNpemUoYXJyLCBzaXplLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgfSAvLyByZXBsYWNlIEJpZ051bWJlcnMgd2l0aCBudW1iZXJzLCByZXR1cm5zIHRydWUgaWYgc2l6ZSBjb250YWluZWQgQmlnTnVtYmVyc1xuXG5cbiAgZnVuY3Rpb24gX25vcm1hbGl6ZShzaXplKSB7XG4gICAgdmFyIGhhc0JpZ051bWJlcnMgPSBmYWxzZTtcbiAgICBzaXplLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIGhhc0JpZ051bWJlcnMgPSB0cnVlO1xuICAgICAgICBhcnJbaW5kZXhdID0gdmFsdWUudG9OdW1iZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGFzQmlnTnVtYmVycztcbiAgfSAvLyB2YWxpZGF0ZSBhcmd1bWVudHNcblxuXG4gIGZ1bmN0aW9uIF92YWxpZGF0ZShzaXplKSB7XG4gICAgc2l6ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgIWlzSW50ZWdlcih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVycyBpbiBmdW5jdGlvbiB6ZXJvcyBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJzJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pOyAvLyBUT0RPOiB6ZXJvcyBjb250YWlucyBhbG1vc3QgdGhlIHNhbWUgY29kZSBhcyBvbmVzLiBSZXVzZSB0aGlzPyIsImltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXRTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZm9ybWF0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJ107XG5leHBvcnQgdmFyIGNyZWF0ZUZvcm1hdCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBGb3JtYXQgYSB2YWx1ZSBvZiBhbnkgdHlwZSBpbnRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGguZm9ybWF0KHZhbHVlKVxuICAgKiAgICBtYXRoLmZvcm1hdCh2YWx1ZSwgb3B0aW9ucylcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIHByZWNpc2lvbilcbiAgICogICAgbWF0aC5mb3JtYXQodmFsdWUsIGNhbGxiYWNrKVxuICAgKlxuICAgKiBXaGVyZTpcbiAgICpcbiAgICogIC0gYHZhbHVlOiAqYFxuICAgKiAgICBUaGUgdmFsdWUgdG8gYmUgZm9ybWF0dGVkXG4gICAqICAtIGBvcHRpb25zOiBPYmplY3RgXG4gICAqICAgIEFuIG9iamVjdCB3aXRoIGZvcm1hdHRpbmcgb3B0aW9ucy4gQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqICAgIC0gYG5vdGF0aW9uOiBzdHJpbmdgXG4gICAqICAgICAgTnVtYmVyIG5vdGF0aW9uLiBDaG9vc2UgZnJvbTpcbiAgICogICAgICAtICdmaXhlZCdcbiAgICogICAgICAgIEFsd2F5cyB1c2UgcmVndWxhciBudW1iZXIgbm90YXRpb24uXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQwJyBhbmQgJzE0MDAwMDAwJ1xuICAgKiAgICAgIC0gJ2V4cG9uZW50aWFsJ1xuICAgKiAgICAgICAgQWx3YXlzIHVzZSBleHBvbmVudGlhbCBub3RhdGlvbi5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxLjIzNGUrMicgYW5kICcxLjRlKzcnXG4gICAqICAgICAgLSAnZW5naW5lZXJpbmcnXG4gICAqICAgICAgICBBbHdheXMgdXNlIGVuZ2luZWVyaW5nIG5vdGF0aW9uOiBhbHdheXMgaGF2ZSBleHBvbmVudGlhbCBub3RhdGlvbixcbiAgICogICAgICAgIGFuZCBzZWxlY3QgdGhlIGV4cG9uZW50IHRvIGJlIGEgbXVsdGlwbGUgb2YgMy5cbiAgICogICAgICAgIEZvciBleGFtcGxlICcxMjMuNGUrMCcgYW5kICcxNC4wZSs2J1xuICAgKiAgICAgIC0gJ2F1dG8nIChkZWZhdWx0KVxuICAgKiAgICAgICAgUmVndWxhciBudW1iZXIgbm90YXRpb24gZm9yIG51bWJlcnMgaGF2aW5nIGFuIGFic29sdXRlIHZhbHVlIGJldHdlZW5cbiAgICogICAgICAgIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLCBhbmQgdXNlcyBleHBvbmVudGlhbCBub3RhdGlvbiBlbHNld2hlcmUuXG4gICAqICAgICAgICBMb3dlciBib3VuZCBpcyBpbmNsdWRlZCwgdXBwZXIgYm91bmQgaXMgZXhjbHVkZWQuXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSAnMTIzLjQnIGFuZCAnMS40ZTcnLlxuICAgKiAgICAtIGBwcmVjaXNpb246IG51bWJlcmBcbiAgICogICAgICBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDE2IHRvIHJvdW5kIHRoZSBkaWdpdHMgb2YgdGhlIG51bWJlci4gSW4gY2FzZVxuICAgKiAgICAgIG9mIG5vdGF0aW9ucyAnZXhwb25lbnRpYWwnLCAnZW5naW5lZXJpbmcnLCBhbmQgJ2F1dG8nLCBgcHJlY2lzaW9uYFxuICAgKiAgICAgIGRlZmluZXMgdGhlIHRvdGFsIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgcmV0dXJuZWQuXG4gICAqICAgICAgSW4gY2FzZSBvZiBub3RhdGlvbiAnZml4ZWQnLCBgcHJlY2lzaW9uYCBkZWZpbmVzIHRoZSBudW1iZXIgb2ZcbiAgICogICAgICBzaWduaWZpY2FudCBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuXG4gICAqICAgICAgYHByZWNpc2lvbmAgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQuXG4gICAqICAgIC0gYGxvd2VyRXhwOiBudW1iZXJgXG4gICAqICAgICAgRXhwb25lbnQgZGV0ZXJtaW5pbmcgdGhlIGxvd2VyIGJvdW5kYXJ5IGZvciBmb3JtYXR0aW5nIGEgdmFsdWUgd2l0aFxuICAgKiAgICAgIGFuIGV4cG9uZW50IHdoZW4gYG5vdGF0aW9uPSdhdXRvYC4gRGVmYXVsdCB2YWx1ZSBpcyBgLTNgLlxuICAgKiAgICAtIGB1cHBlckV4cDogbnVtYmVyYFxuICAgKiAgICAgIEV4cG9uZW50IGRldGVybWluaW5nIHRoZSB1cHBlciBib3VuZGFyeSBmb3IgZm9ybWF0dGluZyBhIHZhbHVlIHdpdGhcbiAgICogICAgICBhbiBleHBvbmVudCB3aGVuIGBub3RhdGlvbj0nYXV0b2AuIERlZmF1bHQgdmFsdWUgaXMgYDVgLlxuICAgKiAgICAtIGBmcmFjdGlvbjogc3RyaW5nYC4gQXZhaWxhYmxlIHZhbHVlczogJ3JhdGlvJyAoZGVmYXVsdCkgb3IgJ2RlY2ltYWwnLlxuICAgKiAgICAgIEZvciBleGFtcGxlIGBmb3JtYXQoZnJhY3Rpb24oMSwgMykpYCB3aWxsIG91dHB1dCAnMS8zJyB3aGVuICdyYXRpbycgaXNcbiAgICogICAgICBjb25maWd1cmVkLCBhbmQgd2lsbCBvdXRwdXQgYDAuKDMpYCB3aGVuICdkZWNpbWFsJyBpcyBjb25maWd1cmVkLlxuICAgKiAtIGBjYWxsYmFjazogZnVuY3Rpb25gXG4gICAqICAgQSBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbiwgaW52b2tlZCBmb3IgYWxsIG51bWVyaWMgZWxlbWVudHMgaW4gYHZhbHVlYCxcbiAgICogICBmb3IgZXhhbXBsZSBhbGwgZWxlbWVudHMgb2YgYSBtYXRyaXgsIG9yIHRoZSByZWFsIGFuZCBpbWFnaW5hcnlcbiAgICogICBwYXJ0cyBvZiBhIGNvbXBsZXggbnVtYmVyLiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZVxuICAgKiAgIGJ1aWx0LWluIG51bWVyaWMgbm90YXRpb24gd2l0aCBhbnkgdHlwZSBvZiBmb3JtYXR0aW5nLiBGdW5jdGlvbiBgY2FsbGJhY2tgXG4gICAqICAgaXMgY2FsbGVkIHdpdGggYHZhbHVlYCBhcyBwYXJhbWV0ZXIgYW5kIG11c3QgcmV0dXJuIGEgc3RyaW5nLlxuICAgKlxuICAgKiBXaGVuIGB2YWx1ZWAgaXMgYW4gT2JqZWN0OlxuICAgKlxuICAgKiAtIFdoZW4gdGhlIG9iamVjdCBjb250YWlucyBhIHByb3BlcnR5IGBmb3JtYXRgIGJlaW5nIGEgZnVuY3Rpb24sIHRoaXMgZnVuY3Rpb25cbiAgICogICBpcyBpbnZva2VkIGFzIGB2YWx1ZS5mb3JtYXQob3B0aW9ucylgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgKiAtIFdoZW4gdGhlIG9iamVjdCBoYXMgaXRzIG93biBgdG9TdHJpbmdgIG1ldGhvZCwgdGhpcyBtZXRob2QgaXMgaW52b2tlZFxuICAgKiAgIGFuZCB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgKiAtIEluIG90aGVyIGNhc2VzIHRoZSBmdW5jdGlvbiB3aWxsIGxvb3Agb3ZlciBhbGwgb2JqZWN0IHByb3BlcnRpZXMgYW5kXG4gICAqICAgcmV0dXJuIEpTT04gb2JqZWN0IG5vdGF0aW9uIGxpa2UgJ3tcImFcIjogMiwgXCJiXCI6IDN9Jy5cbiAgICpcbiAgICogV2hlbiB2YWx1ZSBpcyBhIGZ1bmN0aW9uOlxuICAgKlxuICAgKiAtIFdoZW4gdGhlIGZ1bmN0aW9uIGhhcyBhIHByb3BlcnR5IGBzeW50YXhgLCBpdCByZXR1cm5zIHRoaXNcbiAgICogICBzeW50YXggZGVzY3JpcHRpb24uXG4gICAqIC0gSW4gb3RoZXIgY2FzZXMsIGEgc3RyaW5nIGAnZnVuY3Rpb24nYCBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZm9ybWF0KDYuNCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnNi40J1xuICAgKiAgICBtYXRoLmZvcm1hdCgxMjQwMDAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgJzEuMjRlNidcbiAgICogICAgbWF0aC5mb3JtYXQoMS8zKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zICcwLjMzMzMzMzMzMzMzMzMzMzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDEvMywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMC4zMzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDIxMzg1LCAyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMjEwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDEyZTgsIHtub3RhdGlvbjogJ2ZpeGVkJ30pICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAnMTIwMDAwMDAwMCdcbiAgICogICAgbWF0aC5mb3JtYXQoMi4zLCAge25vdGF0aW9uOiAnZml4ZWQnLCBwcmVjaXNpb246IDR9KSAgICAvLyByZXR1cm5zICcyLjMwMDAnXG4gICAqICAgIG1hdGguZm9ybWF0KDUyLjgsIHtub3RhdGlvbjogJ2V4cG9uZW50aWFsJ30pICAgICAgICAgICAgLy8gcmV0dXJucyAnNS4yOGUrMSdcbiAgICogICAgbWF0aC5mb3JtYXQoMTI0MDAse25vdGF0aW9uOiAnZW5naW5lZXJpbmcnfSkgICAgICAgICAgICAvLyByZXR1cm5zICcxMi40MDBlKzMnXG4gICAqICAgIG1hdGguZm9ybWF0KDIwMDAsIHtsb3dlckV4cDogLTIsIHVwcGVyRXhwOiAyfSkgICAgICAgICAgLy8gcmV0dXJucyAnMmUrMydcbiAgICpcbiAgICogICAgZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3kodmFsdWUpIHtcbiAgICogICAgICAvLyByZXR1cm4gY3VycmVuY3kgbm90YXRpb24gd2l0aCB0d28gZGlnaXRzOlxuICAgKiAgICAgIHJldHVybiAnJCcgKyB2YWx1ZS50b0ZpeGVkKDIpXG4gICAqXG4gICAqICAgICAgLy8geW91IGNvdWxkIGFsc28gdXNlIG1hdGguZm9ybWF0IGluc2lkZSB0aGUgY2FsbGJhY2s6XG4gICAqICAgICAgLy8gcmV0dXJuICckJyArIG1hdGguZm9ybWF0KHZhbHVlLCB7bm90YXRpb246ICdmaXhlZCcsIHByZWNpc2lvbjogMn0pXG4gICAqICAgIH1cbiAgICogICAgbWF0aC5mb3JtYXQoWzIuMSwgMywgMC4wMTZdLCBmb3JtYXRDdXJyZW5jeX0gICAgICAgICAgICAvLyByZXR1cm5zICdbJDIuMTAsICQzLjAwLCAkMC4wMl0nXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBwcmludFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgRnVuY3Rpb24gfCBudW1iZXJ9IFtvcHRpb25zXSAgRm9ybWF0dGluZyBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB2YWx1ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBhbnk6IGZvcm1hdFN0cmluZyxcbiAgICAnYW55LCBPYmplY3QgfCBmdW5jdGlvbiB8IG51bWJlcic6IGZvcm1hdFN0cmluZ1xuICB9KTtcbn0pOyIsImltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IG5vQmlnbnVtYmVyLCBub0ZyYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5qcyc7XG52YXIgbmFtZSA9ICdudW1lcmljJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ251bWJlcicsICc/YmlnbnVtYmVyJywgJz9mcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVOdW1lcmljID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbnVtYmVyOiBfbnVtYmVyLFxuICAgIGJpZ251bWJlcixcbiAgICBmcmFjdGlvblxuICB9ID0gX3JlZjtcbiAgdmFyIHZhbGlkSW5wdXRUeXBlcyA9IHtcbiAgICBzdHJpbmc6IHRydWUsXG4gICAgbnVtYmVyOiB0cnVlLFxuICAgIEJpZ051bWJlcjogdHJ1ZSxcbiAgICBGcmFjdGlvbjogdHJ1ZVxuICB9OyAvLyBMb2FkIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9ucyBmb3IgZWFjaCBvdXRwdXQgdHlwZVxuXG4gIHZhciB2YWxpZE91dHB1dFR5cGVzID0ge1xuICAgIG51bWJlcjogeCA9PiBfbnVtYmVyKHgpLFxuICAgIEJpZ051bWJlcjogYmlnbnVtYmVyID8geCA9PiBiaWdudW1iZXIoeCkgOiBub0JpZ251bWJlcixcbiAgICBGcmFjdGlvbjogZnJhY3Rpb24gPyB4ID0+IGZyYWN0aW9uKHgpIDogbm9GcmFjdGlvblxuICB9O1xuICAvKipcbiAgICogQ29udmVydCBhIG51bWVyaWMgaW5wdXQgdG8gYSBzcGVjaWZpYyBudW1lcmljIHR5cGU6IG51bWJlciwgQmlnTnVtYmVyLCBvciBGcmFjdGlvbi5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLm51bWVyaWMoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcpICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgNFxuICAgKiAgICBtYXRoLm51bWVyaWMoJzQnLCAnbnVtYmVyJykgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDRcbiAgICogICAgbWF0aC5udW1lcmljKCc0JywgJ0JpZ051bWJlcicpICAgICAgICAgICAgICAvLyByZXR1cm5zIEJpZ051bWJlciA0XG4gICAqICAgIG1hdGgubnVtZXJpYygnNCcsICdGcmFjdGlvbicpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBGcmFjdGlvbiA0XG4gICAqICAgIG1hdGgubnVtZXJpYyg0LCAnRnJhY3Rpb24nKSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBGcmFjdGlvbiA0XG4gICAqICAgIG1hdGgubnVtZXJpYyhtYXRoLmZyYWN0aW9uKDIsIDUpLCAnbnVtYmVyJykgLy8gcmV0dXJucyBudW1iZXIgMC40XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBudW1iZXIsIGZyYWN0aW9uLCBiaWdudW1iZXIsIHN0cmluZywgZm9ybWF0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfSB2YWx1ZVxuICAgKiAgICAgICAgICAgICAgQSBudW1lcmljIHZhbHVlIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1lcmljIHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvdXRwdXRUeXBlXG4gICAqICAgICAgICAgICAgICBEZXNpcmVkIG51bWVyaWMgb3V0cHV0IHR5cGUuXG4gICAqICAgICAgICAgICAgICBBdmFpbGFibGUgdmFsdWVzOiAnbnVtYmVyJywgJ0JpZ051bWJlcicsIG9yICdGcmFjdGlvbidcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb259XG4gICAqICAgICAgICAgICAgICBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIHRoZSBudW1lcmljIGluIHRoZSByZXF1ZXN0ZWQgdHlwZVxuICAgKi9cblxuICByZXR1cm4gZnVuY3Rpb24gbnVtZXJpYyh2YWx1ZSwgb3V0cHV0VHlwZSkge1xuICAgIHZhciBpbnB1dFR5cGUgPSB0eXBlT2YodmFsdWUpO1xuXG4gICAgaWYgKCEoaW5wdXRUeXBlIGluIHZhbGlkSW5wdXRUeXBlcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0ICcgKyB2YWx1ZSArICcgb2YgdHlwZSBcIicgKyBpbnB1dFR5cGUgKyAnXCI7IHZhbGlkIGlucHV0IHR5cGVzIGFyZSAnICsgT2JqZWN0LmtleXModmFsaWRJbnB1dFR5cGVzKS5qb2luKCcsICcpKTtcbiAgICB9XG5cbiAgICBpZiAoIShvdXRwdXRUeXBlIGluIHZhbGlkT3V0cHV0VHlwZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAnICsgdmFsdWUgKyAnIHRvIHR5cGUgXCInICsgb3V0cHV0VHlwZSArICdcIjsgdmFsaWQgb3V0cHV0IHR5cGVzIGFyZSAnICsgT2JqZWN0LmtleXModmFsaWRPdXRwdXRUeXBlcykuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgaWYgKG91dHB1dFR5cGUgPT09IGlucHV0VHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRPdXRwdXRUeXBlc1tvdXRwdXRUeXBlXSh2YWx1ZSk7XG4gICAgfVxuICB9O1xufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgdHlwZU9mIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xudmFyIG5hbWUgPSAnZGl2aWRlU2NhbGFyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ251bWVyaWMnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGl2aWRlU2NhbGFyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbnVtZXJpY1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogRGl2aWRlIHR3byBzY2FsYXIgdmFsdWVzLCBgeCAvIHlgLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIG1lYW50IGZvciBpbnRlcm5hbCB1c2U6IGl0IGlzIHVzZWQgYnkgdGhlIHB1YmxpYyBmdW5jdGlvbnNcbiAgICogYGRpdmlkZWAgYW5kIGBpbnZgLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgY29sbGVjdGlvbnMgKEFycmF5IG9yIE1hdHJpeCkuXG4gICAqXG4gICAqIEBwYXJhbSAge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9IHggICBOdW1lcmF0b3JcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4fSB5ICAgICAgICAgIERlbm9taW5hdG9yXG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IFVuaXR9ICAgICBRdW90aWVudCwgYHggLyB5YFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggLyB5O1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5kaXYoeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2KHkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gVW5pdE51bWJlckZyYWN0aW9uQmlnTnVtYmVyKHgsIHkpIHtcbiAgICAgIHZhciByZXMgPSB4LmNsb25lKCk7IC8vIFRPRE86IG1vdmUgdGhlIGRpdmlkZSBmdW5jdGlvbiB0byBVbml0LmpzLCBpdCB1c2VzIGludGVybmFscyBvZiBVbml0XG5cbiAgICAgIHZhciBvbmUgPSBudW1lcmljKDEsIHR5cGVPZih5KSk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHJlcy52YWx1ZSA9PT0gbnVsbCA/IHJlcy5fbm9ybWFsaXplKG9uZSkgOiByZXMudmFsdWUsIHkpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciwgVW5pdCc6IGZ1bmN0aW9uIG51bWJlckZyYWN0aW9uQmlnTnVtYmVyVW5pdCh4LCB5KSB7XG4gICAgICB2YXIgcmVzID0geS5jbG9uZSgpO1xuICAgICAgcmVzID0gcmVzLnBvdygtMSk7IC8vIFRPRE86IG1vdmUgdGhlIGRpdmlkZSBmdW5jdGlvbiB0byBVbml0LmpzLCBpdCB1c2VzIGludGVybmFscyBvZiBVbml0XG5cbiAgICAgIHZhciBvbmUgPSBudW1lcmljKDEsIHR5cGVPZih4KSk7XG4gICAgICByZXMudmFsdWUgPSB0aGlzKHgsIHkudmFsdWUgPT09IG51bGwgPyB5Ll9ub3JtYWxpemUob25lKSA6IHkudmFsdWUpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgcmV0dXJuIHguZGl2aWRlKHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgYXJyYXlTaXplIGFzIHNpemUgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBwb3dOdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIG5hbWUgPSAncG93JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdpZGVudGl0eScsICdtdWx0aXBseScsICdtYXRyaXgnLCAnZnJhY3Rpb24nLCAnbnVtYmVyJywgJ0NvbXBsZXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUG93ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIGlkZW50aXR5LFxuICAgIG11bHRpcGx5LFxuICAgIG1hdHJpeCxcbiAgICBudW1iZXIsXG4gICAgZnJhY3Rpb24sXG4gICAgQ29tcGxleFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcG93ZXIgb2YgeCB0byB5LCBgeCBeIHlgLlxuICAgKiBNYXRyaXggZXhwb25lbnRpYXRpb24gaXMgc3VwcG9ydGVkIGZvciBzcXVhcmUgbWF0cmljZXMgYHhgLCBhbmQgcG9zaXRpdmVcbiAgICogaW50ZWdlciBleHBvbmVudHMgYHlgLlxuICAgKlxuICAgKiBGb3IgY3ViaWMgcm9vdHMgb2YgbmVnYXRpdmUgbnVtYmVycywgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHByaW5jaXBhbFxuICAgKiByb290IGJ5IGRlZmF1bHQuIEluIG9yZGVyIHRvIGxldCB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSByZWFsIHJvb3QsXG4gICAqIG1hdGguanMgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBgbWF0aC5jb25maWcoe3ByZWRpY3RhYmxlOiB0cnVlfSlgLlxuICAgKiBUbyByZXRyaWV2ZSBhbGwgY3ViaWMgcm9vdHMgb2YgYSB2YWx1ZSwgdXNlIGBtYXRoLmNicnQoeCwgdHJ1ZSlgLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgucG93KHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnBvdygyLCAzKSAgICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDhcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCgyLCAzKVxuICAgKiAgICBtYXRoLnBvdyhhLCAyKSAgICAgICAgICAgICAgICAvLyByZXR1cm5zIENvbXBsZXggLTUgKyAxMmlcbiAgICpcbiAgICogICAgY29uc3QgYiA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgbWF0aC5wb3coYiwgMikgICAgICAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbOSwgOF0sIFsxNiwgMTddXVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHksIHNxcnQsIGNicnQsIG50aFJvb3RcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleCB8IFVuaXQgfCBBcnJheSB8IE1hdHJpeH0geCAgVGhlIGJhc2VcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleH0geSAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGV4cG9uZW50XG4gICAqIEByZXR1cm4ge251bWJlciB8IEJpZ051bWJlciB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gVGhlIHZhbHVlIG9mIGB4YCB0byB0aGUgcG93ZXIgYHlgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdudW1iZXIsIG51bWJlcic6IF9wb3csXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgaWYgKHkuaXNJbnRlZ2VyKCkgfHwgeCA+PSAwIHx8IGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgICByZXR1cm4geC5wb3coeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoeC50b051bWJlcigpLCAwKS5wb3coeS50b051bWJlcigpLCAwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIGlmICh5LmQgIT09IDEpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gcG93IGRvZXMgbm90IHN1cHBvcnQgbm9uLWludGVnZXIgZXhwb25lbnRzIGZvciBmcmFjdGlvbnMuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIF9wb3coeC52YWx1ZU9mKCksIHkudmFsdWVPZigpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ0FycmF5LCBudW1iZXInOiBfcG93QXJyYXksXG4gICAgJ0FycmF5LCBCaWdOdW1iZXInOiBmdW5jdGlvbiBBcnJheUJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gX3Bvd0FycmF5KHgsIHkudG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBudW1iZXInOiBfcG93TWF0cml4LFxuICAgICdNYXRyaXgsIEJpZ051bWJlcic6IGZ1bmN0aW9uIE1hdHJpeEJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4gX3Bvd01hdHJpeCh4LCB5LnRvTnVtYmVyKCkpO1xuICAgIH0sXG4gICAgJ1VuaXQsIG51bWJlciB8IEJpZ051bWJlcic6IGZ1bmN0aW9uIFVuaXROdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgucG93KHkpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3dlciBvZiB4IHRvIHksIHheeSwgZm9yIHR3byBudW1iZXJzLlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBDb21wbGV4fSByZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgZnVuY3Rpb24gX3Bvdyh4LCB5KSB7XG4gICAgLy8gQWx0ZXJuYXRpdmVseSBjb3VsZCBkZWZpbmUgYSAncmVhbG1vZGUnIGNvbmZpZyBvcHRpb24gb3Igc29tZXRoaW5nLCBidXRcbiAgICAvLyAncHJlZGljdGFibGUnIHdpbGwgd29yayBmb3Igbm93XG4gICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSAmJiAhaXNJbnRlZ2VyKHkpICYmIHggPCAwKSB7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgeSBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBmcmFjdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHlGcmFjID0gZnJhY3Rpb24oeSk7XG4gICAgICAgIHZhciB5TnVtID0gbnVtYmVyKHlGcmFjKTtcblxuICAgICAgICBpZiAoeSA9PT0geU51bSB8fCBNYXRoLmFicygoeSAtIHlOdW0pIC8geSkgPCAxZS0xNCkge1xuICAgICAgICAgIGlmICh5RnJhYy5kICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuICh5RnJhYy5uICUgMiA9PT0gMCA/IDEgOiAtMSkgKiBNYXRoLnBvdygteCwgeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkgey8vIGZyYWN0aW9uKCkgdGhyb3dzIGFuIGVycm9yIGlmIHkgaXMgSW5maW5pdHksIGV0Yy5cbiAgICAgIH0gLy8gVW5hYmxlIHRvIGV4cHJlc3MgeSBhcyBhIGZyYWN0aW9uLCBzbyBjb250aW51ZSBvblxuXG4gICAgfSAvLyAqKmZvciBwcmVkaWN0YWJsZSBtb2RlKiogeF5JbmZpbml0eSA9PT0gTmFOIGlmIHggPCAtMVxuICAgIC8vIE4uQi4gdGhpcyBiZWhhdm91ciBpcyBkaWZmZXJlbnQgZnJvbSBgTWF0aC5wb3dgIHdoaWNoIGdpdmVzXG4gICAgLy8gKC0yKV5JbmZpbml0eSA9PT0gSW5maW5pdHlcblxuXG4gICAgaWYgKGNvbmZpZy5wcmVkaWN0YWJsZSAmJiAoeCA8IC0xICYmIHkgPT09IEluZmluaXR5IHx8IHggPiAtMSAmJiB4IDwgMCAmJiB5ID09PSAtSW5maW5pdHkpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIGlmIChpc0ludGVnZXIoeSkgfHwgeCA+PSAwIHx8IGNvbmZpZy5wcmVkaWN0YWJsZSkge1xuICAgICAgcmV0dXJuIHBvd051bWJlcih4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETzogdGhlIGZvbGxvd2luZyBpbmZpbml0eSBjaGVja3MgYXJlIGR1cGxpY2F0ZWQgZnJvbSBwb3dOdW1iZXIuIERlZHVwbGljYXRlIHRoaXMgc29tZWhvd1xuICAgICAgLy8geF5JbmZpbml0eSA9PT0gMCBpZiAtMSA8IHggPCAxXG4gICAgICAvLyBBIHJlYWwgbnVtYmVyIDAgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBjb21wbGV4KDApXG4gICAgICBpZiAoeCAqIHggPCAxICYmIHkgPT09IEluZmluaXR5IHx8IHggKiB4ID4gMSAmJiB5ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQ29tcGxleCh4LCAwKS5wb3coeSwgMCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIHBvd2VyIG9mIGEgMmQgYXJyYXlcbiAgICogQHBhcmFtIHtBcnJheX0geCAgICAgbXVzdCBiZSBhIDIgZGltZW5zaW9uYWwsIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgYSBwb3NpdGl2ZSwgaW50ZWdlciB2YWx1ZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX3Bvd0FycmF5KHgsIHkpIHtcbiAgICBpZiAoIWlzSW50ZWdlcih5KSB8fCB5IDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRm9yIEFeYiwgYiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciAodmFsdWUgaXMgJyArIHkgKyAnKScpO1xuICAgIH0gLy8gdmVyaWZ5IHRoYXQgQSBpcyBhIDIgZGltZW5zaW9uYWwgc3F1YXJlIG1hdHJpeFxuXG5cbiAgICB2YXIgcyA9IHNpemUoeCk7XG5cbiAgICBpZiAocy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRm9yIEFeYiwgQSBtdXN0IGJlIDIgZGltZW5zaW9uYWwgKEEgaGFzICcgKyBzLmxlbmd0aCArICcgZGltZW5zaW9ucyknKTtcbiAgICB9XG5cbiAgICBpZiAoc1swXSAhPT0gc1sxXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3IgQV5iLCBBIG11c3QgYmUgc3F1YXJlIChzaXplIGlzICcgKyBzWzBdICsgJ3gnICsgc1sxXSArICcpJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IGlkZW50aXR5KHNbMF0pLnZhbHVlT2YoKTtcbiAgICB2YXIgcHggPSB4O1xuXG4gICAgd2hpbGUgKHkgPj0gMSkge1xuICAgICAgaWYgKCh5ICYgMSkgPT09IDEpIHtcbiAgICAgICAgcmVzID0gbXVsdGlwbHkocHgsIHJlcyk7XG4gICAgICB9XG5cbiAgICAgIHkgPj49IDE7XG4gICAgICBweCA9IG11bHRpcGx5KHB4LCBweCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIDJkIG1hdHJpeFxuICAgKiBAcGFyYW0ge01hdHJpeH0geCAgICAgbXVzdCBiZSBhIDIgZGltZW5zaW9uYWwsIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgICAgYSBwb3NpdGl2ZSwgaW50ZWdlciB2YWx1ZVxuICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9wb3dNYXRyaXgoeCwgeSkge1xuICAgIHJldHVybiBtYXRyaXgoX3Bvd0FycmF5KHgudmFsdWVPZigpLCB5KSk7XG4gIH1cbn0pOyIsImZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBkZWVwTWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBpc0ludGVnZXIgfSBmcm9tICcuLi8uLi91dGlscy9udW1iZXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTEgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMiB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEyLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xuaW1wb3J0IHsgcm91bmROdW1iZXIgfSBmcm9tICcuLi8uLi9wbGFpbi9udW1iZXIvaW5kZXguanMnO1xudmFyIE5PX0lOVCA9ICdOdW1iZXIgb2YgZGVjaW1hbHMgaW4gZnVuY3Rpb24gcm91bmQgbXVzdCBiZSBhbiBpbnRlZ2VyJztcbnZhciBuYW1lID0gJ3JvdW5kJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdlcXVhbFNjYWxhcicsICd6ZXJvcycsICdCaWdOdW1iZXInLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUm91bmQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgemVyb3MsXG4gICAgQmlnTnVtYmVyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMTEgPSBjcmVhdGVBbGdvcml0aG0xMSh7XG4gICAgdHlwZWQsXG4gICAgZXF1YWxTY2FsYXJcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogUm91bmQgYSB2YWx1ZSB0b3dhcmRzIHRoZSBuZWFyZXN0IGludGVnZXIuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5yb3VuZCh4KVxuICAgKiAgICBtYXRoLnJvdW5kKHgsIG4pXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKDMuMjIpICAgICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDNcbiAgICogICAgbWF0aC5yb3VuZCgzLjgyKSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA0XG4gICAqICAgIG1hdGgucm91bmQoLTQuMikgICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgLTRcbiAgICogICAgbWF0aC5yb3VuZCgtNC43KSAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNVxuICAgKiAgICBtYXRoLnJvdW5kKDMuMjIsIDEpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuMlxuICAgKiAgICBtYXRoLnJvdW5kKDMuODgsIDEpICAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDMuOVxuICAgKiAgICBtYXRoLnJvdW5kKC00LjIxLCAxKSAgICAgICAgIC8vIHJldHVybnMgbnVtYmVyIC00LjJcbiAgICogICAgbWF0aC5yb3VuZCgtNC43MSwgMSkgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAtNC43XG4gICAqICAgIG1hdGgucm91bmQobWF0aC5waSwgMykgICAgICAgLy8gcmV0dXJucyBudW1iZXIgMy4xNDJcbiAgICogICAgbWF0aC5yb3VuZCgxMjMuNDU2NzgsIDIpICAgICAvLyByZXR1cm5zIG51bWJlciAxMjMuNDZcbiAgICpcbiAgICogICAgY29uc3QgYyA9IG1hdGguY29tcGxleCgzLjIsIC0yLjcpXG4gICAqICAgIG1hdGgucm91bmQoYykgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IDMgLSAzaVxuICAgKlxuICAgKiAgICBtYXRoLnJvdW5kKFszLjIsIDMuOCwgLTQuN10pIC8vIHJldHVybnMgQXJyYXkgWzMsIDQsIC01XVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgY2VpbCwgZml4LCBmbG9vclxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0geCAgTnVtYmVyIHRvIGJlIHJvdW5kZWRcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQXJyYXl9IFtuPTBdICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFsc1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBBcnJheSB8IE1hdHJpeH0gUm91bmRlZCB2YWx1ZVxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3VuZE51bWJlclNpZ25hdHVyZXMpLCB7fSwge1xuICAgIENvbXBsZXg6IGZ1bmN0aW9uIENvbXBsZXgoeCkge1xuICAgICAgcmV0dXJuIHgucm91bmQoKTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBudW1iZXInOiBmdW5jdGlvbiBDb21wbGV4TnVtYmVyKHgsIG4pIHtcbiAgICAgIGlmIChuICUgMSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKE5PX0lOVCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB4LnJvdW5kKG4pO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIEJpZ051bWJlcic6IGZ1bmN0aW9uIENvbXBsZXhCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9uID0gbi50b051bWJlcigpO1xuXG4gICAgICByZXR1cm4geC5yb3VuZChfbik7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBudW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCkudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICBCaWdOdW1iZXI6IGZ1bmN0aW9uIEJpZ051bWJlcih4KSB7XG4gICAgICByZXR1cm4geC50b0RlY2ltYWxQbGFjZXMoMCk7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgbikge1xuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgudG9EZWNpbWFsUGxhY2VzKG4udG9OdW1iZXIoKSk7XG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHgucm91bmQoKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgbnVtYmVyJzogZnVuY3Rpb24gRnJhY3Rpb25OdW1iZXIoeCwgbikge1xuICAgICAgaWYgKG4gJSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHgucm91bmQobik7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4KSB7XG4gICAgICAvLyBkZWVwIG1hcCBjb2xsZWN0aW9uLCBza2lwIHplcm9zIHNpbmNlIHJvdW5kKDApID0gMFxuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXInOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTExKHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gRGVuc2VNYXRyaXhOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyU3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIGNoZWNrIHNjYWxhciBpcyB6ZXJvXG4gICAgICBpZiAoZXF1YWxTY2FsYXIoeCwgMCkpIHtcbiAgICAgICAgLy8gZG8gbm90IGV4ZWN1dGUgYWxnb3JpdGhtLCByZXN1bHQgd2lsbCBiZSBhIHplcm8gbWF0cml4XG4gICAgICAgIHJldHVybiB6ZXJvcyh5LnNpemUoKSwgeS5zdG9yYWdlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnbnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBudW1iZXJDb21wbGV4QmlnTnVtYmVyRGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gY2hlY2sgc2NhbGFyIGlzIHplcm9cbiAgICAgIGlmIChlcXVhbFNjYWxhcih4LCAwKSkge1xuICAgICAgICAvLyBkbyBub3QgZXhlY3V0ZSBhbGdvcml0aG0sIHJlc3VsdCB3aWxsIGJlIGEgemVybyBtYXRyaXhcbiAgICAgICAgcmV0dXJuIHplcm9zKHkuc2l6ZSgpLCB5LnN0b3JhZ2UoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgbnVtYmVyIHwgQmlnTnVtYmVyJzogZnVuY3Rpb24gQXJyYXlOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgdGhpcywgZmFsc2UpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyLCBBcnJheSc6IGZ1bmN0aW9uIG51bWJlckNvbXBsZXhCaWdOdW1iZXJBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHkpLCB4LCB0aGlzLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KSk7XG59KTtcbnZhciByb3VuZE51bWJlclNpZ25hdHVyZXMgPSB7XG4gIG51bWJlcjogcm91bmROdW1iZXIsXG4gICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCBuKSB7XG4gICAgaWYgKCFpc0ludGVnZXIobikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoTk9fSU5UKTtcbiAgICB9XG5cbiAgICBpZiAobiA8IDAgfHwgbiA+IDE1KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ051bWJlciBvZiBkZWNpbWFscyBpbiBmdW5jdGlvbiByb3VuZCBtdXN0IGJlIGluIHRlIHJhbmdlIG9mIDAtMTUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmROdW1iZXIoeCwgbik7XG4gIH1cbn07XG5leHBvcnQgdmFyIGNyZWF0ZVJvdW5kTnVtYmVyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBbJ3R5cGVkJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHJvdW5kTnVtYmVyU2lnbmF0dXJlcyk7XG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnZXF1YWwnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2VxdWFsU2NhbGFyJywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUVxdWFsID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0d28gdmFsdWVzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHRlc3RzIHdoZXRoZXIgdGhlIHJlbGF0aXZlIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzXG4gICAqIHNtYWxsZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGUgZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG9cbiAgICogY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIEluIGNhc2Ugb2YgY29tcGxleCBudW1iZXJzLCB4LnJlIG11c3QgZXF1YWwgeS5yZSwgYW5kIHguaW0gbXVzdCBlcXVhbCB5LmltLlxuICAgKlxuICAgKiBWYWx1ZXMgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhcmUgY29tcGFyZWQgc3RyaWN0bHksIHRodXMgYG51bGxgIGlzIG9ubHlcbiAgICogZXF1YWwgdG8gYG51bGxgIGFuZCBub3RoaW5nIGVsc2UsIGFuZCBgdW5kZWZpbmVkYCBpcyBvbmx5IGVxdWFsIHRvXG4gICAqIGB1bmRlZmluZWRgIGFuZCBub3RoaW5nIGVsc2UuIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKHgsIHkpXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBtYXRoLmVxdWFsKDIgKyAyLCAzKSAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5lcXVhbCgyICsgMiwgNCkgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGgudW5pdCgnNTAgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCc1IG0nKVxuICAgKiAgICBtYXRoLmVxdWFsKGEsIGIpICAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gWzIsIDUsIDFdXG4gICAqICAgIGNvbnN0IGQgPSBbMiwgNywgMV1cbiAgICpcbiAgICogICAgbWF0aC5lcXVhbChjLCBkKSAgICAgICAgICAgICAvLyByZXR1cm5zIFt0cnVlLCBmYWxzZSwgdHJ1ZV1cbiAgICogICAgbWF0aC5kZWVwRXF1YWwoYywgZCkgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqICAgIG1hdGguZXF1YWwoXCIxMDAwXCIsIFwiMWUzXCIpICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLmVxdWFsKDAsIG51bGwpICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHVuZXF1YWwsIHNtYWxsZXIsIHNtYWxsZXJFcSwgbGFyZ2VyLCBsYXJnZXJFcSwgY29tcGFyZSwgZGVlcEVxdWFsLCBlcXVhbFRleHRcbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgYm9vbGVhbiB8IENvbXBsZXggfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBib29sZWFuIHwgQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBBcnJheSB8IE1hdHJpeH0geSBTZWNvbmQgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcmV0dXJuIHtib29sZWFuIHwgQXJyYXkgfCBNYXRyaXh9IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIGVxdWFsLCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYW55LCBhbnknOiBmdW5jdGlvbiBhbnlBbnkoeCwgeSkge1xuICAgICAgLy8gc3RyaWN0IGVxdWFsaXR5IGZvciBudWxsIGFuZCB1bmRlZmluZWQ/XG4gICAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geSA9PT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXF1YWxTY2FsYXIoeCwgeSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIGVxdWFsU2NhbGFyKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAzKHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgZXF1YWxTY2FsYXIpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBBcnJheSc6IGZ1bmN0aW9uIEFycmF5QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCBtYXRyaXgoeSkpLnZhbHVlT2YoKTtcbiAgICB9LFxuICAgICdBcnJheSwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMobWF0cml4KHgpLCB5KTtcbiAgICB9LFxuICAgICdNYXRyaXgsIEFycmF5JzogZnVuY3Rpb24gTWF0cml4QXJyYXkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIHRoaXMoeCwgbWF0cml4KHkpKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTIoeCwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGVxdWFsU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdhbnksIERlbnNlTWF0cml4JzogZnVuY3Rpb24gYW55RGVuc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgZXF1YWxTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIGVxdWFsU2NhbGFyLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuZXhwb3J0IHZhciBjcmVhdGVFcXVhbE51bWJlciA9IGZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdlcXVhbFNjYWxhciddLCAoX3JlZjIpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2FueSwgYW55JzogZnVuY3Rpb24gYW55QW55KHgsIHkpIHtcbiAgICAgIC8vIHN0cmljdCBlcXVhbGl0eSBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkP1xuICAgICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHkgPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB5ID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVxdWFsU2NhbGFyKHgsIHkpO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xudmFyIG5hbWUgPSAnc21hbGxlcic7XG52YXIgZGVwZW5kZW5jaWVzID0gWyd0eXBlZCcsICdjb25maWcnLCAnbWF0cml4JywgJ0RlbnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZVNtYWxsZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBjb25maWcsXG4gICAgbWF0cml4LFxuICAgIERlbnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDMgPSBjcmVhdGVBbGdvcml0aG0wMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNyA9IGNyZWF0ZUFsZ29yaXRobTA3KHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEyID0gY3JlYXRlQWxnb3JpdGhtMTIoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB2YWx1ZSB4IGlzIHNtYWxsZXIgdGhhbiB5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4geCBpcyBzbWFsbGVyIHRoYW4geSBhbmQgdGhlIHJlbGF0aXZlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB4IGFuZCB5IGlzIHNtYWxsZXIgdGhhbiB0aGUgY29uZmlndXJlZCBlcHNpbG9uLiBUaGVcbiAgICogZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMgc21hbGxlciB0aGFuIGFwcHJveGltYXRlbHkgMi4yMmUtMTYuXG4gICAqXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqIFN0cmluZ3MgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyIG51bWVyaWNhbCB2YWx1ZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLnNtYWxsZXIoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguc21hbGxlcigyLCAzKSAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZVxuICAgKiAgICBtYXRoLnNtYWxsZXIoNSwgMiAqIDIpICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyIGluY2gnKVxuICAgKiAgICBtYXRoLnNtYWxsZXIoYSwgYikgICAgICAgICAgICAvLyByZXR1cm5zIHRydWVcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIGVxdWFsLCB1bmVxdWFsLCBzbWFsbGVyRXEsIHNtYWxsZXIsIHNtYWxsZXJFcSwgY29tcGFyZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgeCBpcyBzbWFsbGVyIHRoYW4geSwgZWxzZSByZXR1cm5zIGZhbHNlXG4gICAqL1xuXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ2Jvb2xlYW4sIGJvb2xlYW4nOiBmdW5jdGlvbiBib29sZWFuQm9vbGVhbih4LCB5KSB7XG4gICAgICByZXR1cm4geCA8IHk7XG4gICAgfSxcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPCB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfSxcbiAgICAnQmlnTnVtYmVyLCBCaWdOdW1iZXInOiBmdW5jdGlvbiBCaWdOdW1iZXJCaWdOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHgubHQoeSkgJiYgIWJpZ05lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdGcmFjdGlvbiwgRnJhY3Rpb24nOiBmdW5jdGlvbiBGcmFjdGlvbkZyYWN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4LmNvbXBhcmUoeSkgPT09IC0xO1xuICAgIH0sXG4gICAgJ0NvbXBsZXgsIENvbXBsZXgnOiBmdW5jdGlvbiBDb21wbGV4Q29tcGxleCh4LCB5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvcmRlcmluZyByZWxhdGlvbiBpcyBkZWZpbmVkIGZvciBjb21wbGV4IG51bWJlcnMnKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZVNtYWxsZXJOdW1iZXIgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIFsndHlwZWQnLCAnY29uZmlnJ10sIChfcmVmMikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIGNvbmZpZ1xuICB9ID0gX3JlZjI7XG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ251bWJlciwgbnVtYmVyJzogZnVuY3Rpb24gbnVtYmVyTnVtYmVyKHgsIHkpIHtcbiAgICAgIHJldHVybiB4IDwgeSAmJiAhbmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH1cbiAgfSk7XG59KTsiLCJpbXBvcnQgeyBuZWFybHlFcXVhbCBhcyBiaWdOZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2JpZ251bWJlci9uZWFybHlFcXVhbC5qcyc7XG5pbXBvcnQgeyBuZWFybHlFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL251bWJlci5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA3IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDcuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTIgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xNCB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTE0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTEzIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTMuanMnO1xudmFyIG5hbWUgPSAnbGFyZ2VyJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2NvbmZpZycsICdtYXRyaXgnLCAnRGVuc2VNYXRyaXgnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTGFyZ2VyID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnLFxuICAgIG1hdHJpeCxcbiAgICBEZW5zZU1hdHJpeFxuICB9ID0gX3JlZjtcbiAgdmFyIGFsZ29yaXRobTAzID0gY3JlYXRlQWxnb3JpdGhtMDMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMDcgPSBjcmVhdGVBbGdvcml0aG0wNyh7XG4gICAgdHlwZWQsXG4gICAgRGVuc2VNYXRyaXhcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xMiA9IGNyZWF0ZUFsZ29yaXRobTEyKHtcbiAgICB0eXBlZCxcbiAgICBEZW5zZU1hdHJpeFxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEzID0gY3JlYXRlQWxnb3JpdGhtMTMoe1xuICAgIHR5cGVkXG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTQgPSBjcmVhdGVBbGdvcml0aG0xNCh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdmFsdWUgeCBpcyBsYXJnZXIgdGhhbiB5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4geCBpcyBsYXJnZXIgdGhhbiB5IGFuZCB0aGUgcmVsYXRpdmVcbiAgICogZGlmZmVyZW5jZSBiZXR3ZWVuIHggYW5kIHkgaXMgbGFyZ2VyIHRoYW4gdGhlIGNvbmZpZ3VyZWQgZXBzaWxvbi4gVGhlXG4gICAqIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzIHNtYWxsZXIgdGhhbiBhcHByb3hpbWF0ZWx5IDIuMjJlLTE2LlxuICAgKlxuICAgKiBGb3IgbWF0cmljZXMsIHRoZSBmdW5jdGlvbiBpcyBldmFsdWF0ZWQgZWxlbWVudCB3aXNlLlxuICAgKiBTdHJpbmdzIGFyZSBjb21wYXJlZCBieSB0aGVpciBudW1lcmljYWwgdmFsdWUuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5sYXJnZXIoeCwgeSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGgubGFyZ2VyKDIsIDMpICAgICAgICAgICAgIC8vIHJldHVybnMgZmFsc2VcbiAgICogICAgbWF0aC5sYXJnZXIoNSwgMiArIDIpICAgICAgICAgLy8gcmV0dXJucyB0cnVlXG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoJzUgY20nKVxuICAgKiAgICBjb25zdCBiID0gbWF0aC51bml0KCcyIGluY2gnKVxuICAgKiAgICBtYXRoLmxhcmdlcihhLCBiKSAgICAgICAgICAgICAvLyByZXR1cm5zIGZhbHNlXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBlcXVhbCwgdW5lcXVhbCwgc21hbGxlciwgc21hbGxlckVxLCBsYXJnZXJFcSwgY29tcGFyZVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHggRmlyc3QgdmFsdWUgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IGJvb2xlYW4gfCBVbml0IHwgc3RyaW5nIHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbiB8IEFycmF5IHwgTWF0cml4fSBSZXR1cm5zIHRydWUgd2hlbiB0aGUgeCBpcyBsYXJnZXIgdGhhbiB5LCBlbHNlIHJldHVybnMgZmFsc2VcbiAgICovXG5cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnYm9vbGVhbiwgYm9vbGVhbic6IGZ1bmN0aW9uIGJvb2xlYW5Cb29sZWFuKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ID4geTtcbiAgICB9LFxuICAgICdudW1iZXIsIG51bWJlcic6IGZ1bmN0aW9uIG51bWJlck51bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geCA+IHkgJiYgIW5lYXJseUVxdWFsKHgsIHksIGNvbmZpZy5lcHNpbG9uKTtcbiAgICB9LFxuICAgICdCaWdOdW1iZXIsIEJpZ051bWJlcic6IGZ1bmN0aW9uIEJpZ051bWJlckJpZ051bWJlcih4LCB5KSB7XG4gICAgICByZXR1cm4geC5ndCh5KSAmJiAhYmlnTmVhcmx5RXF1YWwoeCwgeSwgY29uZmlnLmVwc2lsb24pO1xuICAgIH0sXG4gICAgJ0ZyYWN0aW9uLCBGcmFjdGlvbic6IGZ1bmN0aW9uIEZyYWN0aW9uRnJhY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHguY29tcGFyZSh5KSA9PT0gMTtcbiAgICB9LFxuICAgICdDb21wbGV4LCBDb21wbGV4JzogZnVuY3Rpb24gQ29tcGxleENvbXBsZXgoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvcmRlcmluZyByZWxhdGlvbiBpcyBkZWZpbmVkIGZvciBjb21wbGV4IG51bWJlcnMnKTtcbiAgICB9LFxuICAgICdVbml0LCBVbml0JzogZnVuY3Rpb24gVW5pdFVuaXQoeCwgeSkge1xuICAgICAgaWYgKCF4LmVxdWFsQmFzZSh5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb21wYXJlIHVuaXRzIHdpdGggZGlmZmVyZW50IGJhc2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMoeC52YWx1ZSwgeS52YWx1ZSk7XG4gICAgfSxcbiAgICAnU3BhcnNlTWF0cml4LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTA3KHgsIHksIHRoaXMpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDMoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIERlbnNlTWF0cml4U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0wMyh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgdGhpcyk7XG4gICAgfSxcbiAgICAnQXJyYXksIEFycmF5JzogZnVuY3Rpb24gQXJyYXlBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIG1hdHJpeCh5KSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyhtYXRyaXgoeCksIHkpO1xuICAgIH0sXG4gICAgJ01hdHJpeCwgQXJyYXknOiBmdW5jdGlvbiBNYXRyaXhBcnJheSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gdGhpcyh4LCBtYXRyaXgoeSkpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMih4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCB0aGlzLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBTcGFyc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTEyKHksIHgsIHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBhbnlEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQoeSwgeCwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcbiAgICAnQXJyYXksIGFueSc6IGZ1bmN0aW9uIEFycmF5QW55KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeCksIHksIHRoaXMsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIHRoaXMsIHRydWUpLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5leHBvcnQgdmFyIGNyZWF0ZUxhcmdlck51bWJlciA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgWyd0eXBlZCcsICdjb25maWcnXSwgKF9yZWYyKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgY29uZmlnXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAnbnVtYmVyLCBudW1iZXInOiBmdW5jdGlvbiBudW1iZXJOdW1iZXIoeCwgeSkge1xuICAgICAgcmV0dXJuIHggPiB5ICYmICFuZWFybHlFcXVhbCh4LCB5LCBjb25maWcuZXBzaWxvbik7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0ZpYm9uYWNjaUhlYXAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnc21hbGxlcicsICdsYXJnZXInXTtcbmV4cG9ydCB2YXIgY3JlYXRlRmlib25hY2NpSGVhcENsYXNzID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgc21hbGxlcixcbiAgICBsYXJnZXJcbiAgfSA9IF9yZWY7XG4gIHZhciBvbmVPdmVyTG9nUGhpID0gMS4wIC8gTWF0aC5sb2coKDEuMCArIE1hdGguc3FydCg1LjApKSAvIDIuMCk7XG4gIC8qKlxuICAgKiBGaWJvbmFjY2kgSGVhcCBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbnRlcmFsbHkgZm9yIE1hdHJpeCBtYXRoLlxuICAgKiBAY2xhc3MgRmlib25hY2NpSGVhcFxuICAgKiBAY29uc3RydWN0b3IgRmlib25hY2NpSGVhcFxuICAgKi9cblxuICBmdW5jdGlvbiBGaWJvbmFjY2lIZWFwKCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGaWJvbmFjY2lIZWFwKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIGluaXRpYWxpemUgZmllbGRzXG5cblxuICAgIHRoaXMuX21pbmltdW0gPSBudWxsO1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggdHlwZSBpbmZvcm1hdGlvblxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnR5cGUgPSAnRmlib25hY2NpSGVhcCc7XG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmlzRmlib25hY2NpSGVhcCA9IHRydWU7XG4gIC8qKlxuICAgKiBJbnNlcnRzIGEgbmV3IGRhdGEgZWxlbWVudCBpbnRvIHRoZSBoZWFwLiBObyBoZWFwIGNvbnNvbGlkYXRpb24gaXNcbiAgICogcGVyZm9ybWVkIGF0IHRoaXMgdGltZSwgdGhlIG5ldyBub2RlIGlzIHNpbXBseSBpbnNlcnRlZCBpbnRvIHRoZSByb290XG4gICAqIGxpc3Qgb2YgdGhpcyBoZWFwLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIC8vIGNyZWF0ZSBub2RlXG4gICAgdmFyIG5vZGUgPSB7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGRlZ3JlZTogMFxuICAgIH07IC8vIGNoZWNrIHdlIGhhdmUgYSBub2RlIGluIHRoZSBtaW5pbXVtXG5cbiAgICBpZiAodGhpcy5fbWluaW11bSkge1xuICAgICAgLy8gbWluaW11bSBub2RlXG4gICAgICB2YXIgbWluaW11bSA9IHRoaXMuX21pbmltdW07IC8vIHVwZGF0ZSBsZWZ0ICYgcmlnaHQgb2Ygbm9kZVxuXG4gICAgICBub2RlLmxlZnQgPSBtaW5pbXVtO1xuICAgICAgbm9kZS5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICBtaW5pbXVtLnJpZ2h0ID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGU7IC8vIHVwZGF0ZSBtaW5pbXVtIG5vZGUgaW4gaGVhcCBpZiBuZWVkZWRcblxuICAgICAgaWYgKHNtYWxsZXIoa2V5LCBtaW5pbXVtLmtleSkpIHtcbiAgICAgICAgLy8gbm9kZSBoYXMgYSBzbWFsbGVyIGtleSwgdXNlIGl0IGFzIG1pbmltdW1cbiAgICAgICAgdGhpcy5fbWluaW11bSA9IG5vZGU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldCBsZWZ0ICYgcmlnaHRcbiAgICAgIG5vZGUubGVmdCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0ID0gbm9kZTsgLy8gdGhpcyBpcyB0aGUgZmlyc3Qgbm9kZVxuXG4gICAgICB0aGlzLl9taW5pbXVtID0gbm9kZTtcbiAgICB9IC8vIGluY3JlbWVudCBudW1iZXIgb2Ygbm9kZXMgaW4gaGVhcFxuXG5cbiAgICB0aGlzLl9zaXplKys7IC8vIHJldHVybiBub2RlXG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBub2RlcyBpbiBoZWFwLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIHRoaXMgaGVhcC5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBGaWJvbmFjY2lIZWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9taW5pbXVtID0gbnVsbDtcbiAgICB0aGlzLl9zaXplID0gMDtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgaGVhcCBpcyBlbXB0eSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemUgPT09IDA7XG4gIH07XG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgbm9kZSB3aXRoIG1pbmltdW0ga2V5IGZyb20gaGVhcC4gQW1vcnRpemVkIHJ1bm5pbmdcbiAgICogdGltZTogTyhsb2cgbikuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgRmlib25hY2NpSGVhcC5wcm90b3R5cGUuZXh0cmFjdE1pbmltdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbm9kZSB0byByZW1vdmVcbiAgICB2YXIgbm9kZSA9IHRoaXMuX21pbmltdW07IC8vIGNoZWNrIHdlIGhhdmUgYSBtaW5pbXVtXG5cbiAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSAvLyBjdXJyZW50IG1pbmltdW1cblxuXG4gICAgdmFyIG1pbmltdW0gPSB0aGlzLl9taW5pbXVtOyAvLyBnZXQgbnVtYmVyIG9mIGNoaWxkcmVuXG5cbiAgICB2YXIgbnVtYmVyT2ZDaGlsZHJlbiA9IG5vZGUuZGVncmVlOyAvLyBwb2ludGVyIHRvIHRoZSBmaXJzdCBjaGlsZFxuXG4gICAgdmFyIHggPSBub2RlLmNoaWxkOyAvLyBmb3IgZWFjaCBjaGlsZCBvZiBub2RlIGRvLi4uXG5cbiAgICB3aGlsZSAobnVtYmVyT2ZDaGlsZHJlbiA+IDApIHtcbiAgICAgIC8vIHN0b3JlIG5vZGUgaW4gcmlnaHQgc2lkZVxuICAgICAgdmFyIHRlbXBSaWdodCA9IHgucmlnaHQ7IC8vIHJlbW92ZSB4IGZyb20gY2hpbGQgbGlzdFxuXG4gICAgICB4LmxlZnQucmlnaHQgPSB4LnJpZ2h0O1xuICAgICAgeC5yaWdodC5sZWZ0ID0geC5sZWZ0OyAvLyBhZGQgeCB0byByb290IGxpc3Qgb2YgaGVhcFxuXG4gICAgICB4LmxlZnQgPSBtaW5pbXVtO1xuICAgICAgeC5yaWdodCA9IG1pbmltdW0ucmlnaHQ7XG4gICAgICBtaW5pbXVtLnJpZ2h0ID0geDtcbiAgICAgIHgucmlnaHQubGVmdCA9IHg7IC8vIHNldCBQYXJlbnRbeF0gdG8gbnVsbFxuXG4gICAgICB4LnBhcmVudCA9IG51bGw7XG4gICAgICB4ID0gdGVtcFJpZ2h0O1xuICAgICAgbnVtYmVyT2ZDaGlsZHJlbi0tO1xuICAgIH0gLy8gcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3Qgb2YgaGVhcFxuXG5cbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDsgLy8gdXBkYXRlIG1pbmltdW1cblxuICAgIGlmIChub2RlID09PSBub2RlLnJpZ2h0KSB7XG4gICAgICAvLyBlbXB0eVxuICAgICAgbWluaW11bSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZSBtaW5pbXVtXG4gICAgICBtaW5pbXVtID0gbm9kZS5yaWdodDsgLy8gd2UgbmVlZCB0byB1cGRhdGUgdGhlIHBvaW50ZXIgdG8gdGhlIHJvb3Qgd2l0aCBtaW5pbXVtIGtleVxuXG4gICAgICBtaW5pbXVtID0gX2ZpbmRNaW5pbXVtTm9kZShtaW5pbXVtLCB0aGlzLl9zaXplKTtcbiAgICB9IC8vIGRlY3JlbWVudCBzaXplIG9mIGhlYXBcblxuXG4gICAgdGhpcy5fc2l6ZS0tOyAvLyB1cGRhdGUgbWluaW11bVxuXG4gICAgdGhpcy5fbWluaW11bSA9IG1pbmltdW07IC8vIHJldHVybiBub2RlXG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBub2RlIGZyb20gdGhlIGhlYXAgZ2l2ZW4gdGhlIHJlZmVyZW5jZSB0byB0aGUgbm9kZS4gVGhlIHRyZWVzXG4gICAqIGluIHRoZSBoZWFwIHdpbGwgYmUgY29uc29saWRhdGVkLCBpZiBuZWNlc3NhcnkuIFRoaXMgb3BlcmF0aW9uIG1heSBmYWlsXG4gICAqIHRvIHJlbW92ZSB0aGUgY29ycmVjdCBlbGVtZW50IGlmIHRoZXJlIGFyZSBub2RlcyB3aXRoIGtleSB2YWx1ZSAtSW5maW5pdHkuXG4gICAqIFJ1bm5pbmcgdGltZTogTyhsb2cgbikgYW1vcnRpemVkLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIEZpYm9uYWNjaUhlYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgLy8gZGVjcmVhc2Uga2V5IHZhbHVlXG4gICAgdGhpcy5fbWluaW11bSA9IF9kZWNyZWFzZUtleSh0aGlzLl9taW5pbXVtLCBub2RlLCAtMSk7IC8vIHJlbW92ZSB0aGUgc21hbGxlc3RcblxuICAgIHRoaXMuZXh0cmFjdE1pbmltdW0oKTtcbiAgfTtcbiAgLyoqXG4gICAqIERlY3JlYXNlcyB0aGUga2V5IHZhbHVlIGZvciBhIGhlYXAgbm9kZSwgZ2l2ZW4gdGhlIG5ldyB2YWx1ZSB0byB0YWtlIG9uLlxuICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBoZWFwIG1heSBiZSBjaGFuZ2VkIGFuZCB3aWxsIG5vdCBiZSBjb25zb2xpZGF0ZWQuXG4gICAqIFJ1bm5pbmcgdGltZTogTygxKSBhbW9ydGl6ZWQuXG4gICAqIEBtZW1iZXJvZiBGaWJvbmFjY2lIZWFwXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gX2RlY3JlYXNlS2V5KG1pbmltdW0sIG5vZGUsIGtleSkge1xuICAgIC8vIHNldCBub2RlIGtleVxuICAgIG5vZGUua2V5ID0ga2V5OyAvLyBnZXQgcGFyZW50IG5vZGVcblxuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudDtcblxuICAgIGlmIChwYXJlbnQgJiYgc21hbGxlcihub2RlLmtleSwgcGFyZW50LmtleSkpIHtcbiAgICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcGFyZW50XG4gICAgICBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCk7IC8vIHJlbW92ZSBhbGwgbm9kZXMgZnJvbSBwYXJlbnQgdG8gdGhlIHJvb3QgcGFyZW50XG5cblxuICAgICAgX2Nhc2NhZGluZ0N1dChtaW5pbXVtLCBwYXJlbnQpO1xuICAgIH0gLy8gdXBkYXRlIG1pbmltdW0gbm9kZSBpZiBuZWVkZWRcblxuXG4gICAgaWYgKHNtYWxsZXIobm9kZS5rZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgbWluaW11bSA9IG5vZGU7XG4gICAgfSAvLyByZXR1cm4gbWluaW11bVxuXG5cbiAgICByZXR1cm4gbWluaW11bTtcbiAgfVxuICAvKipcbiAgICogVGhlIHJldmVyc2Ugb2YgdGhlIGxpbmsgb3BlcmF0aW9uOiByZW1vdmVzIG5vZGUgZnJvbSB0aGUgY2hpbGQgbGlzdCBvZiBwYXJlbnQuXG4gICAqIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCBtaW4gaXMgbm9uLW51bGwuIFJ1bm5pbmcgdGltZTogTygxKS5cbiAgICogQG1lbWJlcm9mIEZpYm9uYWNjaUhlYXBcbiAgICovXG5cblxuICBmdW5jdGlvbiBfY3V0KG1pbmltdW0sIG5vZGUsIHBhcmVudCkge1xuICAgIC8vIHJlbW92ZSBub2RlIGZyb20gcGFyZW50IGNoaWxkcmVuIGFuZCBkZWNyZW1lbnQgRGVncmVlW3BhcmVudF1cbiAgICBub2RlLmxlZnQucmlnaHQgPSBub2RlLnJpZ2h0O1xuICAgIG5vZGUucmlnaHQubGVmdCA9IG5vZGUubGVmdDtcbiAgICBwYXJlbnQuZGVncmVlLS07IC8vIHJlc2V0IHkuY2hpbGQgaWYgbmVjZXNzYXJ5XG5cbiAgICBpZiAocGFyZW50LmNoaWxkID09PSBub2RlKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBub2RlLnJpZ2h0O1xuICAgIH0gLy8gcmVtb3ZlIGNoaWxkIGlmIGRlZ3JlZSBpcyAwXG5cblxuICAgIGlmIChwYXJlbnQuZGVncmVlID09PSAwKSB7XG4gICAgICBwYXJlbnQuY2hpbGQgPSBudWxsO1xuICAgIH0gLy8gYWRkIG5vZGUgdG8gcm9vdCBsaXN0IG9mIGhlYXBcblxuXG4gICAgbm9kZS5sZWZ0ID0gbWluaW11bTtcbiAgICBub2RlLnJpZ2h0ID0gbWluaW11bS5yaWdodDtcbiAgICBtaW5pbXVtLnJpZ2h0ID0gbm9kZTtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlOyAvLyBzZXQgcGFyZW50W25vZGVdIHRvIG51bGxcblxuICAgIG5vZGUucGFyZW50ID0gbnVsbDsgLy8gc2V0IG1hcmtbbm9kZV0gdG8gZmFsc2VcblxuICAgIG5vZGUubWFyayA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIGNhc2NhZGluZyBjdXQgb3BlcmF0aW9uLiBUaGlzIGN1dHMgbm9kZSBmcm9tIGl0cyBwYXJlbnQgYW5kIHRoZW5cbiAgICogZG9lcyB0aGUgc2FtZSBmb3IgaXRzIHBhcmVudCwgYW5kIHNvIG9uIHVwIHRoZSB0cmVlLlxuICAgKiBSdW5uaW5nIHRpbWU6IE8obG9nIG4pOyBPKDEpIGV4Y2x1ZGluZyB0aGUgcmVjdXJzaW9uLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIF9jYXNjYWRpbmdDdXQobWluaW11bSwgbm9kZSkge1xuICAgIC8vIHN0b3JlIHBhcmVudCBub2RlXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50OyAvLyBpZiB0aGVyZSdzIGEgcGFyZW50Li4uXG5cbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gaWYgbm9kZSBpcyB1bm1hcmtlZCwgc2V0IGl0IG1hcmtlZFxuXG5cbiAgICBpZiAoIW5vZGUubWFyaykge1xuICAgICAgbm9kZS5tYXJrID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXQncyBtYXJrZWQsIGN1dCBpdCBmcm9tIHBhcmVudFxuICAgICAgX2N1dChtaW5pbXVtLCBub2RlLCBwYXJlbnQpOyAvLyBjdXQgaXRzIHBhcmVudCBhcyB3ZWxsXG5cblxuICAgICAgX2Nhc2NhZGluZ0N1dChwYXJlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTWFrZSB0aGUgZmlyc3Qgbm9kZSBhIGNoaWxkIG9mIHRoZSBzZWNvbmQgb25lLiBSdW5uaW5nIHRpbWU6IE8oMSkgYWN0dWFsLlxuICAgKiBAbWVtYmVyb2YgRmlib25hY2NpSGVhcFxuICAgKi9cblxuXG4gIHZhciBfbGlua05vZGVzID0gZnVuY3Rpb24gX2xpbmtOb2Rlcyhub2RlLCBwYXJlbnQpIHtcbiAgICAvLyByZW1vdmUgbm9kZSBmcm9tIHJvb3QgbGlzdCBvZiBoZWFwXG4gICAgbm9kZS5sZWZ0LnJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlLmxlZnQ7IC8vIG1ha2Ugbm9kZSBhIENoaWxkIG9mIHBhcmVudFxuXG4gICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICBpZiAoIXBhcmVudC5jaGlsZCkge1xuICAgICAgcGFyZW50LmNoaWxkID0gbm9kZTtcbiAgICAgIG5vZGUucmlnaHQgPSBub2RlO1xuICAgICAgbm9kZS5sZWZ0ID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5sZWZ0ID0gcGFyZW50LmNoaWxkO1xuICAgICAgbm9kZS5yaWdodCA9IHBhcmVudC5jaGlsZC5yaWdodDtcbiAgICAgIHBhcmVudC5jaGlsZC5yaWdodCA9IG5vZGU7XG4gICAgICBub2RlLnJpZ2h0LmxlZnQgPSBub2RlO1xuICAgIH0gLy8gaW5jcmVhc2UgZGVncmVlW3BhcmVudF1cblxuXG4gICAgcGFyZW50LmRlZ3JlZSsrOyAvLyBzZXQgbWFya1tub2RlXSBmYWxzZVxuXG4gICAgbm9kZS5tYXJrID0gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gX2ZpbmRNaW5pbXVtTm9kZShtaW5pbXVtLCBzaXplKSB7XG4gICAgLy8gdG8gZmluZCB0cmVlcyBvZiB0aGUgc2FtZSBkZWdyZWUgZWZmaWNpZW50bHkgd2UgdXNlIGFuIGFycmF5IG9mIGxlbmd0aCBPKGxvZyBuKSBpbiB3aGljaCB3ZSBrZWVwIGEgcG9pbnRlciB0byBvbmUgcm9vdCBvZiBlYWNoIGRlZ3JlZVxuICAgIHZhciBhcnJheVNpemUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHNpemUpICogb25lT3ZlckxvZ1BoaSkgKyAxOyAvLyBjcmVhdGUgbGlzdCB3aXRoIGluaXRpYWwgY2FwYWNpdHlcblxuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShhcnJheVNpemUpOyAvLyBmaW5kIHRoZSBudW1iZXIgb2Ygcm9vdCBub2Rlcy5cblxuICAgIHZhciBudW1Sb290cyA9IDA7XG4gICAgdmFyIHggPSBtaW5pbXVtO1xuXG4gICAgaWYgKHgpIHtcbiAgICAgIG51bVJvb3RzKys7XG4gICAgICB4ID0geC5yaWdodDtcblxuICAgICAgd2hpbGUgKHggIT09IG1pbmltdW0pIHtcbiAgICAgICAgbnVtUm9vdHMrKztcbiAgICAgICAgeCA9IHgucmlnaHQ7XG4gICAgICB9XG4gICAgfSAvLyB2YXJzXG5cblxuICAgIHZhciB5OyAvLyBGb3IgZWFjaCBub2RlIGluIHJvb3QgbGlzdCBkby4uLlxuXG4gICAgd2hpbGUgKG51bVJvb3RzID4gMCkge1xuICAgICAgLy8gYWNjZXNzIHRoaXMgbm9kZSdzIGRlZ3JlZS4uXG4gICAgICB2YXIgZCA9IHguZGVncmVlOyAvLyBnZXQgbmV4dCBub2RlXG5cbiAgICAgIHZhciBuZXh0ID0geC5yaWdodDsgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBub2RlIGFscmVhZHkgaW4gYXJyYXkgd2l0aCB0aGUgc2FtZSBkZWdyZWVcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgLy8gZ2V0IG5vZGUgd2l0aCB0aGUgc2FtZSBkZWdyZWUgaXMgYW55XG4gICAgICAgIHkgPSBhcnJheVtkXTtcblxuICAgICAgICBpZiAoIXkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAvLyBtYWtlIG9uZSBub2RlIHdpdGggdGhlIHNhbWUgZGVncmVlIGEgY2hpbGQgb2YgdGhlIG90aGVyLCBkbyB0aGlzIGJhc2VkIG9uIHRoZSBrZXkgdmFsdWUuXG5cblxuICAgICAgICBpZiAobGFyZ2VyKHgua2V5LCB5LmtleSkpIHtcbiAgICAgICAgICB2YXIgdGVtcCA9IHk7XG4gICAgICAgICAgeSA9IHg7XG4gICAgICAgICAgeCA9IHRlbXA7XG4gICAgICAgIH0gLy8gbWFrZSB5IGEgY2hpbGQgb2YgeFxuXG5cbiAgICAgICAgX2xpbmtOb2Rlcyh5LCB4KTsgLy8gd2UgaGF2ZSBoYW5kbGVkIHRoaXMgZGVncmVlLCBnbyB0byBuZXh0IG9uZS5cblxuXG4gICAgICAgIGFycmF5W2RdID0gbnVsbDtcbiAgICAgICAgZCsrO1xuICAgICAgfSAvLyBzYXZlIHRoaXMgbm9kZSBmb3IgbGF0ZXIgd2hlbiB3ZSBtaWdodCBlbmNvdW50ZXIgYW5vdGhlciBvZiB0aGUgc2FtZSBkZWdyZWUuXG5cblxuICAgICAgYXJyYXlbZF0gPSB4OyAvLyBtb3ZlIGZvcndhcmQgdGhyb3VnaCBsaXN0LlxuXG4gICAgICB4ID0gbmV4dDtcbiAgICAgIG51bVJvb3RzLS07XG4gICAgfSAvLyBTZXQgbWluIHRvIG51bGwgKGVmZmVjdGl2ZWx5IGxvc2luZyB0aGUgcm9vdCBsaXN0KSBhbmQgcmVjb25zdHJ1Y3QgdGhlIHJvb3QgbGlzdCBmcm9tIHRoZSBhcnJheSBlbnRyaWVzIGluIGFycmF5W10uXG5cblxuICAgIG1pbmltdW0gPSBudWxsOyAvLyBsb29wIG5vZGVzIGluIGFycmF5XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgICAvLyBnZXQgY3VycmVudCBub2RlXG4gICAgICB5ID0gYXJyYXlbaV07XG5cbiAgICAgIGlmICgheSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2hlY2sgaWYgd2UgaGF2ZSBhIGxpbmtlZCBsaXN0XG5cblxuICAgICAgaWYgKG1pbmltdW0pIHtcbiAgICAgICAgLy8gRmlyc3QgcmVtb3ZlIG5vZGUgZnJvbSByb290IGxpc3QuXG4gICAgICAgIHkubGVmdC5yaWdodCA9IHkucmlnaHQ7XG4gICAgICAgIHkucmlnaHQubGVmdCA9IHkubGVmdDsgLy8gbm93IGFkZCB0byByb290IGxpc3QsIGFnYWluLlxuXG4gICAgICAgIHkubGVmdCA9IG1pbmltdW07XG4gICAgICAgIHkucmlnaHQgPSBtaW5pbXVtLnJpZ2h0O1xuICAgICAgICBtaW5pbXVtLnJpZ2h0ID0geTtcbiAgICAgICAgeS5yaWdodC5sZWZ0ID0geTsgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIG5ldyBtaW4uXG5cbiAgICAgICAgaWYgKHNtYWxsZXIoeS5rZXksIG1pbmltdW0ua2V5KSkge1xuICAgICAgICAgIG1pbmltdW0gPSB5O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5pbXVtID0geTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWluaW11bTtcbiAgfVxuXG4gIHJldHVybiBGaWJvbmFjY2lIZWFwO1xufSwge1xuICBpc0NsYXNzOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdTcGEnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnYWRkU2NhbGFyJywgJ2VxdWFsU2NhbGFyJywgJ0ZpYm9uYWNjaUhlYXAnXTtcbmV4cG9ydCB2YXIgY3JlYXRlU3BhQ2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBhZGRTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRmlib25hY2NpSGVhcFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQW4gb3JkZXJlZCBTcGFyc2UgQWNjdW11bGF0b3IgaXMgYSByZXByZXNlbnRhdGlvbiBmb3IgYSBzcGFyc2UgdmVjdG9yIHRoYXQgaW5jbHVkZXMgYSBkZW5zZSBhcnJheVxuICAgKiBvZiB0aGUgdmVjdG9yIGVsZW1lbnRzIGFuZCBhbiBvcmRlcmVkIGxpc3Qgb2Ygbm9uLXplcm8gZWxlbWVudHMuXG4gICAqL1xuICBmdW5jdGlvbiBTcGEoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwYSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyBhbGxvY2F0ZSB2ZWN0b3IsIFRPRE8gdXNlIHR5cGVkIGFycmF5c1xuXG5cbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9oZWFwID0gbmV3IEZpYm9uYWNjaUhlYXAoKTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBTcGEucHJvdG90eXBlLnR5cGUgPSAnU3BhJztcbiAgU3BhLnByb3RvdHlwZS5pc1NwYSA9IHRydWU7XG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIGZvciBpbmRleCBpLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaSAgICAgICAgICAgICAgICAgICAgICAgVGhlIGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgQ29tcGxleH0gICBUaGUgdmFsdWUgYXQgaW5kZXggaVxuICAgKi9cblxuICBTcGEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgLy8gY2hlY2sgd2UgaGF2ZSBhIHZhbHVlIEAgaVxuICAgIGlmICghdGhpcy5fdmFsdWVzW2ldKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFwLmluc2VydChpLCB2KTsgLy8gc2V0IHRoZSB2YWx1ZSBAIGlcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlIEAgaVxuICAgICAgdGhpcy5fdmFsdWVzW2ldLnZhbHVlID0gdjtcbiAgICB9XG4gIH07XG5cbiAgU3BhLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSkge1xuICAgIHZhciBub2RlID0gdGhpcy5fdmFsdWVzW2ldO1xuXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuYWNjdW11bGF0ZSA9IGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgLy8gbm9kZSBAIGlcbiAgICB2YXIgbm9kZSA9IHRoaXMuX3ZhbHVlc1tpXTtcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgLy8gaW5zZXJ0IGluIGhlYXBcbiAgICAgIG5vZGUgPSB0aGlzLl9oZWFwLmluc2VydChpLCB2KTsgLy8gaW5pdGlhbGl6ZSB2YWx1ZVxuXG4gICAgICB0aGlzLl92YWx1ZXNbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhY2N1bXVsYXRlIHZhbHVlXG4gICAgICBub2RlLnZhbHVlID0gYWRkU2NhbGFyKG5vZGUudmFsdWUsIHYpO1xuICAgIH1cbiAgfTtcblxuICBTcGEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZnJvbSwgdG8sIGNhbGxiYWNrKSB7XG4gICAgLy8gcmVmZXJlbmNlc1xuICAgIHZhciBoZWFwID0gdGhpcy5faGVhcDtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5fdmFsdWVzOyAvLyBub2Rlc1xuXG4gICAgdmFyIG5vZGVzID0gW107IC8vIG5vZGUgd2l0aCBtaW5pbXVtIGtleSwgc2F2ZSBpdFxuXG4gICAgdmFyIG5vZGUgPSBoZWFwLmV4dHJhY3RNaW5pbXVtKCk7XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICB9IC8vIGV4dHJhY3Qgbm9kZXMgZnJvbSBoZWFwIChvcmRlcmVkKVxuXG5cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlLmtleSA8PSB0bykge1xuICAgICAgLy8gY2hlY2sgaXQgaXMgaW4gcmFuZ2VcbiAgICAgIGlmIChub2RlLmtleSA+PSBmcm9tKSB7XG4gICAgICAgIC8vIGNoZWNrIHZhbHVlIGlzIG5vdCB6ZXJvXG4gICAgICAgIGlmICghZXF1YWxTY2FsYXIobm9kZS52YWx1ZSwgMCkpIHtcbiAgICAgICAgICAvLyBpbnZva2UgY2FsbGJhY2tcbiAgICAgICAgICBjYWxsYmFjayhub2RlLmtleSwgbm9kZS52YWx1ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZXh0cmFjdCBuZXh0IG5vZGUsIHNhdmUgaXRcblxuXG4gICAgICBub2RlID0gaGVhcC5leHRyYWN0TWluaW11bSgpO1xuXG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0gLy8gcmVpbnNlcnQgYWxsIG5vZGVzIGluIGhlYXBcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gY3VycmVudCBub2RlXG4gICAgICB2YXIgbiA9IG5vZGVzW2ldOyAvLyBpbnNlcnQgbm9kZSBpbiBoZWFwXG5cbiAgICAgIG5vZGUgPSBoZWFwLmluc2VydChuLmtleSwgbi52YWx1ZSk7IC8vIHVwZGF0ZSB2YWx1ZXNcblxuICAgICAgdmFsdWVzW25vZGUua2V5XSA9IG5vZGU7XG4gICAgfVxuICB9O1xuXG4gIFNwYS5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uIChpLCBqKSB7XG4gICAgLy8gbm9kZSBAIGkgYW5kIGpcbiAgICB2YXIgbm9kZWkgPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgdmFyIG5vZGVqID0gdGhpcy5fdmFsdWVzW2pdOyAvLyBjaGVjayB3ZSBuZWVkIHRvIGluc2VydCBpbmRlY2VzXG5cbiAgICBpZiAoIW5vZGVpICYmIG5vZGVqKSB7XG4gICAgICAvLyBpbnNlcnQgaW4gaGVhcFxuICAgICAgbm9kZWkgPSB0aGlzLl9oZWFwLmluc2VydChpLCBub2Rlai52YWx1ZSk7IC8vIHJlbW92ZSBmcm9tIGhlYXBcblxuICAgICAgdGhpcy5faGVhcC5yZW1vdmUobm9kZWopOyAvLyBzZXQgdmFsdWVzXG5cblxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gbm9kZWk7XG4gICAgICB0aGlzLl92YWx1ZXNbal0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChub2RlaSAmJiAhbm9kZWopIHtcbiAgICAgIC8vIGluc2VydCBpbiBoZWFwXG4gICAgICBub2RlaiA9IHRoaXMuX2hlYXAuaW5zZXJ0KGosIG5vZGVpLnZhbHVlKTsgLy8gcmVtb3ZlIGZyb20gaGVhcFxuXG4gICAgICB0aGlzLl9oZWFwLnJlbW92ZShub2RlaSk7IC8vIHNldCB2YWx1ZXNcblxuXG4gICAgICB0aGlzLl92YWx1ZXNbal0gPSBub2RlajtcbiAgICAgIHRoaXMuX3ZhbHVlc1tpXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKG5vZGVpICYmIG5vZGVqKSB7XG4gICAgICAvLyBzd2FwIHZhbHVlc1xuICAgICAgdmFyIHYgPSBub2RlaS52YWx1ZTtcbiAgICAgIG5vZGVpLnZhbHVlID0gbm9kZWoudmFsdWU7XG4gICAgICBub2Rlai52YWx1ZSA9IHY7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTcGE7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IG1lbW9pemUgfSBmcm9tICcuLi9mdW5jdGlvbi5qcyc7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIGVcbiAqL1xuXG5leHBvcnQgdmFyIGNyZWF0ZUJpZ051bWJlckUgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMSkuZXhwKCk7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENhbGN1bGF0ZSBCaWdOdW1iZXIgZ29sZGVuIHJhdGlvLCBwaGkgPSAoMStzcXJ0KDUpKS8yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgcGhpXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJQaGkgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMSkucGx1cyhuZXcgQmlnTnVtYmVyKDUpLnNxcnQoKSkuZGl2KDIpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIHBpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQmlnTnVtYmVyICAgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJucyB7QmlnTnVtYmVyfSBSZXR1cm5zIHBpXG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJQaSA9IG1lbW9pemUoZnVuY3Rpb24gKEJpZ051bWJlcikge1xuICByZXR1cm4gQmlnTnVtYmVyLmFjb3MoLTEpO1xufSwge1xuICBoYXNoZXJcbn0pO1xuLyoqXG4gKiBDYWxjdWxhdGUgQmlnTnVtYmVyIHRhdSwgdGF1ID0gMiAqIHBpXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBCaWdOdW1iZXIgICBCaWdOdW1iZXIgY29uc3RydWN0b3JcbiAqIEByZXR1cm5zIHtCaWdOdW1iZXJ9IFJldHVybnMgdGF1XG4gKi9cblxuZXhwb3J0IHZhciBjcmVhdGVCaWdOdW1iZXJUYXUgPSBtZW1vaXplKGZ1bmN0aW9uIChCaWdOdW1iZXIpIHtcbiAgcmV0dXJuIGNyZWF0ZUJpZ051bWJlclBpKEJpZ051bWJlcikudGltZXMoMik7XG59LCB7XG4gIGhhc2hlclxufSk7XG4vKipcbiAqIENyZWF0ZSBhIGhhc2ggZm9yIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBUaGUgY3JlYXRlZCBoYXMgaXNcbiAqIHRoZSBjb25maWd1cmVkIHByZWNpc2lvblxuICogQHBhcmFtIHtBcnJheX0gYXJncyAgICAgICAgIFN1cHBvc2VkIHRvIGNvbnRhaW4gYSBzaW5nbGUgZW50cnkgd2l0aFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHByZWNpc2lvblxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBoYXNoZXIoYXJncykge1xuICByZXR1cm4gYXJnc1swXS5wcmVjaXNpb247XG59IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmltcG9ydCB7IGlzQ29tcGxleCwgaXNVbml0LCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvZnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgZW5kc1dpdGggfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgY2xvbmUsIGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUJpZ051bWJlclBpIGFzIGNyZWF0ZVBpIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmlnbnVtYmVyL2NvbnN0YW50cy5qcyc7XG52YXIgbmFtZSA9ICdVbml0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJz9vbicsICdjb25maWcnLCAnYWRkU2NhbGFyJywgJ3N1YnRyYWN0JywgJ211bHRpcGx5U2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdwb3cnLCAnYWJzJywgJ2ZpeCcsICdyb3VuZCcsICdlcXVhbCcsICdpc051bWVyaWMnLCAnZm9ybWF0JywgJ251bWJlcicsICdDb21wbGV4JywgJ0JpZ051bWJlcicsICdGcmFjdGlvbiddO1xuZXhwb3J0IHZhciBjcmVhdGVVbml0Q2xhc3MgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBvbixcbiAgICBjb25maWcsXG4gICAgYWRkU2NhbGFyLFxuICAgIHN1YnRyYWN0LFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBwb3csXG4gICAgYWJzLFxuICAgIGZpeCxcbiAgICByb3VuZCxcbiAgICBlcXVhbCxcbiAgICBpc051bWVyaWMsXG4gICAgZm9ybWF0LFxuICAgIG51bWJlcixcbiAgICBDb21wbGV4LFxuICAgIEJpZ051bWJlcjogX0JpZ051bWJlcixcbiAgICBGcmFjdGlvbjogX0ZyYWN0aW9uXG4gIH0gPSBfcmVmO1xuICB2YXIgdG9OdW1iZXIgPSBudW1iZXI7XG4gIC8qKlxuICAgKiBBIHVuaXQgY2FuIGJlIGNvbnN0cnVjdGVkIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAgICpcbiAgICogICAgIGNvbnN0IGEgPSBuZXcgVW5pdCh2YWx1ZSwgbmFtZSlcbiAgICogICAgIGNvbnN0IGIgPSBuZXcgVW5pdChudWxsLCBuYW1lKVxuICAgKiAgICAgY29uc3QgYyA9IFVuaXQucGFyc2Uoc3RyKVxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgICAgY29uc3QgYSA9IG5ldyBVbml0KDUsICdjbScpICAgICAgICAgICAgICAgLy8gNTAgbW1cbiAgICogICAgIGNvbnN0IGIgPSBVbml0LnBhcnNlKCcyMyBrZycpICAgICAgICAgICAgIC8vIDIzIGtnXG4gICAqICAgICBjb25zdCBjID0gbWF0aC5pbihhLCBuZXcgVW5pdChudWxsLCAnbScpICAvLyAwLjA1IG1cbiAgICogICAgIGNvbnN0IGQgPSBuZXcgVW5pdCg5LjgxLCBcIm0vc14yXCIpICAgICAgICAgLy8gOS44MSBtL3NeMlxuICAgKlxuICAgKiBAY2xhc3MgVW5pdFxuICAgKiBAY29uc3RydWN0b3IgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCB8IGJvb2xlYW59IFt2YWx1ZV0gIEEgdmFsdWUgbGlrZSA1LjJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAgIEEgdW5pdCBuYW1lIGxpa2UgXCJjbVwiIG9yIFwiaW5jaFwiLCBvciBhIGRlcml2ZWQgdW5pdCBvZiB0aGUgZm9ybTogXCJ1MVteZXgxXSBbdTJbXmV4Ml0gLi4uXSBbLyB1M1teZXgzXSBbdTRbXmV4NF1dXVwiLCBzdWNoIGFzIFwia2cgbV4yL3NeMlwiLCB3aGVyZSBlYWNoIHVuaXQgYXBwZWFyaW5nIGFmdGVyIHRoZSBmb3J3YXJkIHNsYXNoIGlzIHRha2VuIHRvIGJlIGluIHRoZSBkZW5vbWluYXRvci4gXCJrZyBtXjIgc14tMlwiIGlzIGEgc3lub255bSBhbmQgaXMgYWxzbyBhY2NlcHRhYmxlLiBBbnkgb2YgdGhlIHVuaXRzIGNhbiBpbmNsdWRlIGEgcHJlZml4LlxuICAgKi9cblxuICBmdW5jdGlvbiBVbml0KHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVuaXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgaXNOdW1lcmljKHZhbHVlKSB8fCBpc0NvbXBsZXgodmFsdWUpKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgcGFyYW1ldGVyIGluIFVuaXQgY29uc3RydWN0b3IgbXVzdCBiZSBudW1iZXIsIEJpZ051bWJlciwgRnJhY3Rpb24sIENvbXBsZXgsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lID09PSAnJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBwYXJhbWV0ZXIgaW4gVW5pdCBjb25zdHJ1Y3RvciBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHUgPSBVbml0LnBhcnNlKG5hbWUpO1xuICAgICAgdGhpcy51bml0cyA9IHUudW5pdHM7XG4gICAgICB0aGlzLmRpbWVuc2lvbnMgPSB1LmRpbWVuc2lvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5pdHMgPSBbe1xuICAgICAgICB1bml0OiBVTklUX05PTkUsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORSxcbiAgICAgICAgLy8gbGluayB0byBhIGxpc3Qgd2l0aCBzdXBwb3J0ZWQgcHJlZml4ZXNcbiAgICAgICAgcG93ZXI6IDBcbiAgICAgIH1dO1xuICAgICAgdGhpcy5kaW1lbnNpb25zID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uc1tpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgPyB0aGlzLl9ub3JtYWxpemUodmFsdWUpIDogbnVsbDtcbiAgICB0aGlzLmZpeFByZWZpeCA9IGZhbHNlOyAvLyBpZiB0cnVlLCBmdW5jdGlvbiBmb3JtYXQgd2lsbCBub3Qgc2VhcmNoIGZvciB0aGVcbiAgICAvLyBiZXN0IHByZWZpeCBidXQgbGVhdmUgaXQgYXMgaW5pdGlhbGx5IHByb3ZpZGVkLlxuICAgIC8vIGZpeFByZWZpeCBpcyBzZXQgdHJ1ZSBieSB0aGUgbWV0aG9kIFVuaXQudG9cbiAgICAvLyBUaGUganVzdGlmaWNhdGlvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBleHBsaWNpdGx5IGNhbGxlZCxcbiAgICAvLyB0aGUgY2FsbGVyIHdpc2hlcyB0aGUgdW5pdHMgdG8gYmUgcmV0dXJuZWQgZXhhY3RseSBhcyBoZSBzdXBwbGllZC5cblxuICAgIHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQXR0YWNoIHR5cGUgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS50eXBlID0gJ1VuaXQnO1xuICBVbml0LnByb3RvdHlwZS5pc1VuaXQgPSB0cnVlOyAvLyBwcml2YXRlIHZhcmlhYmxlcyBhbmQgZnVuY3Rpb25zIGZvciB0aGUgVW5pdCBwYXJzZXJcblxuICB2YXIgdGV4dCwgaW5kZXgsIGM7XG5cbiAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgd2hpbGUgKGMgPT09ICcgJyB8fCBjID09PSAnXFx0Jykge1xuICAgICAgbmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRGlnaXREb3QoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID09PSAnLic7XG4gIH1cblxuICBmdW5jdGlvbiBpc0RpZ2l0KGMpIHtcbiAgICByZXR1cm4gYyA+PSAnMCcgJiYgYyA8PSAnOSc7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGluZGV4Kys7XG4gICAgYyA9IHRleHQuY2hhckF0KGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydChvbGRJbmRleCkge1xuICAgIGluZGV4ID0gb2xkSW5kZXg7XG4gICAgYyA9IHRleHQuY2hhckF0KGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlTnVtYmVyKCkge1xuICAgIHZhciBudW1iZXIgPSAnJztcbiAgICB2YXIgb2xkSW5kZXggPSBpbmRleDtcblxuICAgIGlmIChjID09PSAnKycpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9IGVsc2UgaWYgKGMgPT09ICctJykge1xuICAgICAgbnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0RpZ2l0RG90KGMpKSB7XG4gICAgICAvLyBhICsgb3IgLSBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZGlnaXRcbiAgICAgIHJldmVydChvbGRJbmRleCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IC8vIGdldCBudW1iZXIsIGNhbiBoYXZlIGEgc2luZ2xlIGRvdFxuXG5cbiAgICBpZiAoYyA9PT0gJy4nKSB7XG4gICAgICBudW1iZXIgKz0gYztcbiAgICAgIG5leHQoKTtcblxuICAgICAgaWYgKCFpc0RpZ2l0KGMpKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm8gbGVnYWwgbnVtYmVyLCBpdCBpcyBqdXN0IGEgZG90XG4gICAgICAgIHJldmVydChvbGRJbmRleCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYyA9PT0gJy4nKSB7XG4gICAgICAgIG51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2hpbGUgKGlzRGlnaXQoYykpIHtcbiAgICAgIG51bWJlciArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH0gLy8gY2hlY2sgZm9yIGV4cG9uZW50aWFsIG5vdGF0aW9uIGxpa2UgXCIyLjNlLTRcIiBvciBcIjEuMjNlNTBcIlxuXG5cbiAgICBpZiAoYyA9PT0gJ0UnIHx8IGMgPT09ICdlJykge1xuICAgICAgLy8gVGhlIGdyYW1tYXIgYnJhbmNoZXMgaGVyZS4gVGhpcyBjb3VsZCBlaXRoZXIgYmUgcGFydCBvZiBhbiBleHBvbmVudCBvciB0aGUgc3RhcnQgb2YgYSB1bml0IHRoYXQgYmVnaW5zIHdpdGggdGhlIGxldHRlciBlLCBzdWNoIGFzIFwiNGV4YWJ5dGVzXCJcbiAgICAgIHZhciB0ZW50YXRpdmVOdW1iZXIgPSAnJztcbiAgICAgIHZhciB0ZW50YXRpdmVJbmRleCA9IGluZGV4O1xuICAgICAgdGVudGF0aXZlTnVtYmVyICs9IGM7XG4gICAgICBuZXh0KCk7XG5cbiAgICAgIGlmIChjID09PSAnKycgfHwgYyA9PT0gJy0nKSB7XG4gICAgICAgIHRlbnRhdGl2ZU51bWJlciArPSBjO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9IC8vIFNjaWVudGlmaWMgbm90YXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBhbiBleHBvbmVudCAob3RoZXJ3aXNlIHdlIGFzc3VtZSBpdCBpcyBub3Qgc2NpZW50aWZpYyBub3RhdGlvbilcblxuXG4gICAgICBpZiAoIWlzRGlnaXQoYykpIHtcbiAgICAgICAgLy8gVGhlIGUgb3IgRSBtdXN0IGJlbG9uZyB0byBzb21ldGhpbmcgZWxzZSwgc28gcmV0dXJuIHRoZSBudW1iZXIgd2l0aG91dCB0aGUgZSBvciBFLlxuICAgICAgICByZXZlcnQodGVudGF0aXZlSW5kZXgpO1xuICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgfSAvLyBXZSBjYW4gbm93IHNhZmVseSBzYXkgdGhhdCB0aGlzIGlzIHNjaWVudGlmaWMgbm90YXRpb24uXG5cblxuICAgICAgbnVtYmVyID0gbnVtYmVyICsgdGVudGF0aXZlTnVtYmVyO1xuXG4gICAgICB3aGlsZSAoaXNEaWdpdChjKSkge1xuICAgICAgICBudW1iZXIgKz0gYztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVVuaXQoKSB7XG4gICAgdmFyIHVuaXROYW1lID0gJyc7IC8vIEFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIG9ubHk7IG1hdGNoZXMgW2EtekEtWjAtOV1cblxuICAgIHdoaWxlIChpc0RpZ2l0KGMpIHx8IFVuaXQuaXNWYWxpZEFscGhhKGMpKSB7XG4gICAgICB1bml0TmFtZSArPSBjO1xuICAgICAgbmV4dCgpO1xuICAgIH0gLy8gTXVzdCBiZWdpbiB3aXRoIFthLXpBLVpdXG5cblxuICAgIHZhciBmaXJzdEMgPSB1bml0TmFtZS5jaGFyQXQoMCk7XG5cbiAgICBpZiAoVW5pdC5pc1ZhbGlkQWxwaGEoZmlyc3RDKSkge1xuICAgICAgcmV0dXJuIHVuaXROYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUNoYXJhY3Rlcih0b0ZpbmQpIHtcbiAgICBpZiAoYyA9PT0gdG9GaW5kKSB7XG4gICAgICBuZXh0KCk7XG4gICAgICByZXR1cm4gdG9GaW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSB1bml0LiBUaGUgdmFsdWUgb2YgdGhlIHVuaXQgaXMgcGFyc2VkIGFzIG51bWJlcixcbiAgICogQmlnTnVtYmVyLCBvciBGcmFjdGlvbiBkZXBlbmRpbmcgb24gdGhlIG1hdGguanMgY29uZmlnIHNldHRpbmcgYG51bWJlcmAuXG4gICAqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIHByb3ZpZGVkIHN0cmluZyBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgdW5pdCBvclxuICAgKiBjYW5ub3QgYmUgcGFyc2VkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICBBIHN0cmluZyBsaWtlIFwiNS4yIGluY2hcIiwgXCI0ZTIgY20vc14yXCJcbiAgICogQHJldHVybiB7VW5pdH0gdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucGFyc2UgPSBmdW5jdGlvbiAoc3RyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGV4dCA9IHN0cjtcbiAgICBpbmRleCA9IC0xO1xuICAgIGMgPSAnJztcblxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgaW4gVW5pdC5wYXJzZSwgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdCgpO1xuICAgIHVuaXQudW5pdHMgPSBbXTtcbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgdmFyIGV4cGVjdGluZ1VuaXQgPSBmYWxzZTsgLy8gQSB1bml0IHNob3VsZCBmb2xsb3cgdGhpcyBwYXR0ZXJuOlxuICAgIC8vIFtudW1iZXJdIC4uLlsgWyovXSB1bml0W15udW1iZXJdIF1cbiAgICAvLyB1bml0W15udW1iZXJdIC4uLiBbIFsqL10gdW5pdFtebnVtYmVyXSBdXG4gICAgLy8gUnVsZXM6XG4gICAgLy8gbnVtYmVyIGlzIGFueSBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgLy8gdW5pdCBpcyBhbnkgYWxwaGFudW1lcmljIHN0cmluZyBiZWdpbm5pbmcgd2l0aCBhbiBhbHBoYS4gVW5pdHMgd2l0aCBuYW1lcyBsaWtlIGUzIHNob3VsZCBiZSBhdm9pZGVkIGJlY2F1c2UgdGhleSBsb29rIGxpa2UgdGhlIGV4cG9uZW50IG9mIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyIVxuICAgIC8vIFRoZSBzdHJpbmcgbWF5IG9wdGlvbmFsbHkgYmVnaW4gd2l0aCBhIG51bWJlci5cbiAgICAvLyBFYWNoIHVuaXQgbWF5IG9wdGlvbmFsbHkgYmUgZm9sbG93ZWQgYnkgXm51bWJlci5cbiAgICAvLyBXaGl0ZXNwYWNlIG9yIGEgZm9yd2FyZCBzbGFzaCBpcyByZWNvbW1lbmRlZCBiZXR3ZWVuIGNvbnNlY3V0aXZlIHVuaXRzLCBhbHRob3VnaCB0aGUgZm9sbG93aW5nIHRlY2huaWNhbGx5IGlzIHBhcnNlYWJsZTpcbiAgICAvLyAgIDJtXjJrZy9zXjJcbiAgICAvLyBpdCBpcyBub3QgZ29vZCBmb3JtLiBJZiBhIHVuaXQgc3RhcnRzIHdpdGggZSwgdGhlbiBpdCBjb3VsZCBiZSBjb25mdXNlZCBhcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlcjpcbiAgICAvLyAgIDRlcmdcblxuICAgIG5leHQoKTtcbiAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBPcHRpb25hbCBudW1iZXIgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmdcblxuICAgIHZhciB2YWx1ZVN0ciA9IHBhcnNlTnVtYmVyKCk7XG4gICAgdmFyIHZhbHVlID0gbnVsbDtcblxuICAgIGlmICh2YWx1ZVN0cikge1xuICAgICAgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdCaWdOdW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IF9CaWdOdW1iZXIodmFsdWVTdHIpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcubnVtYmVyID09PSAnRnJhY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gbm90IGFsbCBudW1iZXJzIGNhbiBiZSB0dXJuZWQgaW4gRnJhY3Rpb25zLCBmb3IgZXhhbXBsZSB2ZXJ5IHNtYWxsIG51bWJlcnMgbm90XG4gICAgICAgICAgdmFsdWUgPSBuZXcgX0ZyYWN0aW9uKHZhbHVlU3RyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlU3RyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbnVtYmVyXG4gICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZVN0cik7XG4gICAgICB9XG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7IC8vIFdoaXRlc3BhY2UgaXMgbm90IHJlcXVpcmVkIGhlcmVcbiAgICAgIC8vIGhhbmRsZSBtdWx0aXBsaWNhdGlvbiBvciBkaXZpc2lvbiByaWdodCBhZnRlciB0aGUgdmFsdWUsIGxpa2UgJzEvcydcblxuICAgICAgaWYgKHBhcnNlQ2hhcmFjdGVyKCcqJykpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IDE7XG4gICAgICAgIGV4cGVjdGluZ1VuaXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUNoYXJhY3RlcignLycpKSB7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAtMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9XG4gICAgfSAvLyBTdGFjayB0byBrZWVwIHRyYWNrIG9mIHBvd2VyTXVsdGlwbGllcnMgYXBwbGllZCB0byBlYWNoIHBhcmVudGhlc2VzIGdyb3VwXG5cblxuICAgIHZhciBwb3dlck11bHRpcGxpZXJTdGFjayA9IFtdOyAvLyBSdW5uaW5nIHByb2R1Y3Qgb2YgYWxsIGVsZW1lbnRzIGluIHBvd2VyTXVsdGlwbGllclN0YWNrXG5cbiAgICB2YXIgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0ID0gMTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBza2lwV2hpdGVzcGFjZSgpOyAvLyBDaGVjayBmb3IgYW5kIGNvbnN1bWUgb3BlbmluZyBwYXJlbnRoZXNlcywgcHVzaGluZyBwb3dlck11bHRpcGxpZXJDdXJyZW50IHRvIHRoZSBzdGFja1xuICAgICAgLy8gQSAnKCcgd2lsbCBhbHdheXMgYXBwZWFyIGRpcmVjdGx5IGJlZm9yZSBhIHVuaXQuXG5cbiAgICAgIHdoaWxlIChjID09PSAnKCcpIHtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2sucHVzaChwb3dlck11bHRpcGxpZXJDdXJyZW50KTtcbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0ICo9IHBvd2VyTXVsdGlwbGllckN1cnJlbnQ7XG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICB9IC8vIElzIHRoZXJlIHNvbWV0aGluZyBoZXJlP1xuXG5cbiAgICAgIHZhciB1U3RyID0gdm9pZCAwO1xuXG4gICAgICBpZiAoYykge1xuICAgICAgICB2YXIgb2xkQyA9IGM7XG4gICAgICAgIHVTdHIgPSBwYXJzZVVuaXQoKTtcblxuICAgICAgICBpZiAodVN0ciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5leHBlY3RlZCBcIicgKyBvbGRDICsgJ1wiIGluIFwiJyArIHRleHQgKyAnXCIgYXQgaW5kZXggJyArIGluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbmQgb2YgaW5wdXQuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBWZXJpZnkgdGhlIHVuaXQgZXhpc3RzIGFuZCBnZXQgdGhlIHByZWZpeCAoaWYgYW55KVxuXG5cbiAgICAgIHZhciByZXMgPSBfZmluZFVuaXQodVN0cik7XG5cbiAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVW5pdCBub3QgZm91bmQuXG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5pdCBcIicgKyB1U3RyICsgJ1wiIG5vdCBmb3VuZC4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvd2VyID0gcG93ZXJNdWx0aXBsaWVyQ3VycmVudCAqIHBvd2VyTXVsdGlwbGllclN0YWNrUHJvZHVjdDsgLy8gSXMgdGhlcmUgYSBcIl4gbnVtYmVyXCI/XG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICAgIGlmIChwYXJzZUNoYXJhY3RlcignXicpKSB7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICAgIHZhciBwID0gcGFyc2VOdW1iZXIoKTtcblxuICAgICAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIHZhbGlkIG51bWJlciBmb3VuZCBmb3IgdGhlIHBvd2VyIVxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignSW4gXCInICsgc3RyICsgJ1wiLCBcIl5cIiBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3dlciAqPSBwO1xuICAgICAgfSAvLyBBZGQgdGhlIHVuaXQgdG8gdGhlIGxpc3RcblxuXG4gICAgICB1bml0LnVuaXRzLnB1c2goe1xuICAgICAgICB1bml0OiByZXMudW5pdCxcbiAgICAgICAgcHJlZml4OiByZXMucHJlZml4LFxuICAgICAgICBwb3dlcjogcG93ZXJcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1bml0LmRpbWVuc2lvbnNbaV0gKz0gKHJlcy51bml0LmRpbWVuc2lvbnNbaV0gfHwgMCkgKiBwb3dlcjtcbiAgICAgIH0gLy8gQ2hlY2sgZm9yIGFuZCBjb25zdW1lIGNsb3NpbmcgcGFyZW50aGVzZXMsIHBvcHBpbmcgZnJvbSB0aGUgc3RhY2suXG4gICAgICAvLyBBICcpJyB3aWxsIGFsd2F5cyBmb2xsb3cgYSB1bml0LlxuXG5cbiAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICAgIHdoaWxlIChjID09PSAnKScpIHtcbiAgICAgICAgaWYgKHBvd2VyTXVsdGlwbGllclN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5tYXRjaGVkIFwiKVwiIGluIFwiJyArIHRleHQgKyAnXCIgYXQgaW5kZXggJyArIGluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyU3RhY2tQcm9kdWN0IC89IHBvd2VyTXVsdGlwbGllclN0YWNrLnBvcCgpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICB9IC8vIFwiKlwiIGFuZCBcIi9cIiBzaG91bGQgbWVhbiB3ZSBhcmUgZXhwZWN0aW5nIHNvbWV0aGluZyB0byBjb21lIG5leHQuXG4gICAgICAvLyBJcyB0aGVyZSBhIGZvcndhcmQgc2xhc2g/IElmIHNvLCBuZWdhdGUgcG93ZXJNdWx0aXBsaWVyQ3VycmVudC4gVGhlIG5leHQgdW5pdCBvciBwYXJlbiBncm91cCBpcyBpbiB0aGUgZGVub21pbmF0b3IuXG5cblxuICAgICAgZXhwZWN0aW5nVW5pdCA9IGZhbHNlO1xuXG4gICAgICBpZiAocGFyc2VDaGFyYWN0ZXIoJyonKSkge1xuICAgICAgICAvLyBleHBsaWNpdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICBwb3dlck11bHRpcGxpZXJDdXJyZW50ID0gMTtcbiAgICAgICAgZXhwZWN0aW5nVW5pdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlQ2hhcmFjdGVyKCcvJykpIHtcbiAgICAgICAgLy8gZGl2aXNpb25cbiAgICAgICAgcG93ZXJNdWx0aXBsaWVyQ3VycmVudCA9IC0xO1xuICAgICAgICBleHBlY3RpbmdVbml0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIHBvd2VyTXVsdGlwbGllckN1cnJlbnQgPSAxO1xuICAgICAgfSAvLyBSZXBsYWNlIHRoZSB1bml0IGludG8gdGhlIGF1dG8gdW5pdCBzeXN0ZW1cblxuXG4gICAgICBpZiAocmVzLnVuaXQuYmFzZSkge1xuICAgICAgICB2YXIgYmFzZURpbSA9IHJlcy51bml0LmJhc2Uua2V5O1xuICAgICAgICBVTklUX1NZU1RFTVMuYXV0b1tiYXNlRGltXSA9IHtcbiAgICAgICAgICB1bml0OiByZXMudW5pdCxcbiAgICAgICAgICBwcmVmaXg6IHJlcy5wcmVmaXhcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IC8vIEhhcyB0aGUgc3RyaW5nIGJlZW4gZW50aXJlbHkgY29uc3VtZWQ/XG5cblxuICAgIHNraXBXaGl0ZXNwYWNlKCk7XG5cbiAgICBpZiAoYykge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb3VsZCBub3QgcGFyc2U6IFwiJyArIHN0ciArICdcIicpO1xuICAgIH0gLy8gSXMgdGhlcmUgYSB0cmFpbGluZyBzbGFzaD9cblxuXG4gICAgaWYgKGV4cGVjdGluZ1VuaXQpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVHJhaWxpbmcgY2hhcmFjdGVyczogXCInICsgc3RyICsgJ1wiJyk7XG4gICAgfSAvLyBJcyB0aGUgcGFyZW50aGVzZXMgc3RhY2sgZW1wdHk/XG5cblxuICAgIGlmIChwb3dlck11bHRpcGxpZXJTdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5tYXRjaGVkIFwiKFwiIGluIFwiJyArIHRleHQgKyAnXCInKTtcbiAgICB9IC8vIEFyZSB0aGVyZSBhbnkgdW5pdHMgYXQgYWxsP1xuXG5cbiAgICBpZiAodW5pdC51bml0cy5sZW5ndGggPT09IDAgJiYgIW9wdGlvbnMuYWxsb3dOb1VuaXRzKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1wiJyArIHN0ciArICdcIiBjb250YWlucyBubyB1bml0cycpO1xuICAgIH1cblxuICAgIHVuaXQudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdW5pdC5fbm9ybWFsaXplKHZhbHVlKSA6IG51bGw7XG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBjcmVhdGUgYSBjb3B5IG9mIHRoaXMgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtVbml0fSBSZXR1cm5zIGEgY2xvbmVkIHZlcnNpb24gb2YgdGhlIHVuaXRcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdW5pdCA9IG5ldyBVbml0KCk7XG4gICAgdW5pdC5maXhQcmVmaXggPSB0aGlzLmZpeFByZWZpeDtcbiAgICB1bml0LnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uO1xuICAgIHVuaXQudmFsdWUgPSBjbG9uZSh0aGlzLnZhbHVlKTtcbiAgICB1bml0LmRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnMuc2xpY2UoMCk7XG4gICAgdW5pdC51bml0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1bml0LnVuaXRzW2ldID0ge307XG5cbiAgICAgIGZvciAodmFyIHAgaW4gdGhpcy51bml0c1tpXSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy51bml0c1tpXSwgcCkpIHtcbiAgICAgICAgICB1bml0LnVuaXRzW2ldW3BdID0gdGhpcy51bml0c1tpXVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bml0O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhlIHVuaXQgaXMgZGVyaXZlZCAoc3VjaCBhcyBtL3MsIG9yIGNtXjIsIGJ1dCBub3QgTilcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdW5pdCBpcyBkZXJpdmVkXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX2lzRGVyaXZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy51bml0cy5sZW5ndGggPiAxIHx8IE1hdGguYWJzKHRoaXMudW5pdHNbMF0ucG93ZXIgLSAxLjApID4gMWUtMTU7XG4gIH07XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgYSB2YWx1ZSwgYmFzZWQgb24gaXRzIGN1cnJlbnRseSBzZXQgdW5pdChzKVxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgYm9vbGVhbn0gdmFsdWVcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFufSBub3JtYWxpemVkIHZhbHVlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuX25vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciB1bml0VmFsdWUsIHVuaXRPZmZzZXQsIHVuaXRQb3dlciwgdW5pdFByZWZpeFZhbHVlO1xuICAgIHZhciBjb252ZXJ0O1xuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdGhpcy51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzRGVyaXZlZCgpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgZGVyaXZlZCB1bml0LCBzbyBkbyBub3QgYXBwbHkgb2Zmc2V0cy5cbiAgICAgIC8vIEZvciBleGFtcGxlLCB3aXRoIEoga2deLTEgZGVnQ14tMSB5b3Ugd291bGQgTk9UIHdhbnQgdG8gYXBwbHkgdGhlIG9mZnNldC5cbiAgICAgIHZhciByZXMgPSB2YWx1ZTtcbiAgICAgIGNvbnZlcnQgPSBVbml0Ll9nZXROdW1iZXJDb252ZXJ0ZXIodHlwZU9mKHZhbHVlKSk7IC8vIGNvbnZlcnQgdG8gRnJhY3Rpb24gb3IgQmlnTnVtYmVyIGlmIG5lZWRlZFxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnVuaXQudmFsdWUpO1xuICAgICAgICB1bml0UHJlZml4VmFsdWUgPSBjb252ZXJ0KHRoaXMudW5pdHNbaV0ucHJlZml4LnZhbHVlKTtcbiAgICAgICAgdW5pdFBvd2VyID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnBvd2VyKTtcbiAgICAgICAgcmVzID0gbXVsdGlwbHlTY2FsYXIocmVzLCBwb3cobXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpLCB1bml0UG93ZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSB1bml0IG9mIHBvd2VyIDEsIGxpa2Uga2cgb3IgZGVnQ1xuICAgICAgY29udmVydCA9IFVuaXQuX2dldE51bWJlckNvbnZlcnRlcih0eXBlT2YodmFsdWUpKTsgLy8gY29udmVydCB0byBGcmFjdGlvbiBvciBCaWdOdW1iZXIgaWYgbmVlZGVkXG5cbiAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICAgIHVuaXRPZmZzZXQgPSBjb252ZXJ0KHRoaXMudW5pdHNbMF0udW5pdC5vZmZzZXQpO1xuICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgICByZXR1cm4gbXVsdGlwbHlTY2FsYXIoYWRkU2NhbGFyKHZhbHVlLCB1bml0T2Zmc2V0KSwgbXVsdGlwbHlTY2FsYXIodW5pdFZhbHVlLCB1bml0UHJlZml4VmFsdWUpKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBEZW5vcm1hbGl6ZSBhIHZhbHVlLCBiYXNlZCBvbiBpdHMgY3VycmVudGx5IHNldCB1bml0KHMpXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWZpeFZhbHVlXSAgICBPcHRpb25hbCBwcmVmaXggdmFsdWUgdG8gYmUgdXNlZCAoaWdub3JlZCBpZiB0aGlzIGlzIGEgZGVyaXZlZCB1bml0KVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGRlbm9ybWFsaXplZCB2YWx1ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9kZW5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlZml4VmFsdWUpIHtcbiAgICB2YXIgdW5pdFZhbHVlLCB1bml0T2Zmc2V0LCB1bml0UG93ZXIsIHVuaXRQcmVmaXhWYWx1ZTtcbiAgICB2YXIgY29udmVydDtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc0Rlcml2ZWQoKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIGRlcml2ZWQgdW5pdCwgc28gZG8gbm90IGFwcGx5IG9mZnNldHMuXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgd2l0aCBKIGtnXi0xIGRlZ0NeLTEgeW91IHdvdWxkIE5PVCB3YW50IHRvIGFwcGx5IHRoZSBvZmZzZXQuXG4gICAgICAvLyBBbHNvLCBwcmVmaXhWYWx1ZSBpcyBpZ25vcmVkLS1idXQgd2Ugd2lsbCBzdGlsbCB1c2UgdGhlIHByZWZpeCB2YWx1ZSBzdG9yZWQgaW4gZWFjaCB1bml0LCBzaW5jZSBrZyBpcyB1c3VhbGx5IHByZWZlcmFibGUgdG8gZyB1bmxlc3MgdGhlIHVzZXIgZGVjaWRlcyBvdGhlcndpc2UuXG4gICAgICB2YXIgcmVzID0gdmFsdWU7XG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHVuaXRWYWx1ZSA9IGNvbnZlcnQodGhpcy51bml0c1tpXS51bml0LnZhbHVlKTtcbiAgICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzW2ldLnByZWZpeC52YWx1ZSk7XG4gICAgICAgIHVuaXRQb3dlciA9IGNvbnZlcnQodGhpcy51bml0c1tpXS5wb3dlcik7XG4gICAgICAgIHJlcyA9IGRpdmlkZVNjYWxhcihyZXMsIHBvdyhtdWx0aXBseVNjYWxhcih1bml0VmFsdWUsIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRQb3dlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2luZ2xlIHVuaXQgb2YgcG93ZXIgMSwgbGlrZSBrZyBvciBkZWdDXG4gICAgICBjb252ZXJ0ID0gVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyKHR5cGVPZih2YWx1ZSkpOyAvLyBjb252ZXJ0IHRvIEZyYWN0aW9uIG9yIEJpZ051bWJlciBpZiBuZWVkZWRcblxuICAgICAgdW5pdFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQudmFsdWUpO1xuICAgICAgdW5pdFByZWZpeFZhbHVlID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnByZWZpeC52YWx1ZSk7XG4gICAgICB1bml0T2Zmc2V0ID0gY29udmVydCh0aGlzLnVuaXRzWzBdLnVuaXQub2Zmc2V0KTtcblxuICAgICAgaWYgKHByZWZpeFZhbHVlID09PSB1bmRlZmluZWQgfHwgcHJlZml4VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN1YnRyYWN0KGRpdmlkZVNjYWxhcihkaXZpZGVTY2FsYXIodmFsdWUsIHVuaXRWYWx1ZSksIHVuaXRQcmVmaXhWYWx1ZSksIHVuaXRPZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN1YnRyYWN0KGRpdmlkZVNjYWxhcihkaXZpZGVTY2FsYXIodmFsdWUsIHVuaXRWYWx1ZSksIHByZWZpeFZhbHVlKSwgdW5pdE9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRmluZCBhIHVuaXQgZnJvbSBhIHN0cmluZ1xuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyICAgICAgICAgICAgICBBIHN0cmluZyBsaWtlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm5zIHtPYmplY3QgfCBudWxsfSByZXN1bHQgIFdoZW4gZm91bmQsIGFuIG9iamVjdCB3aXRoIGZpZWxkcyB1bml0IGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXggaXMgcmV0dXJuZWQuIEVsc2UsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgdmFyIF9maW5kVW5pdCA9IG1lbW9pemUoc3RyID0+IHtcbiAgICAvLyBGaXJzdCwgbWF0Y2ggdW5pdHMgbmFtZXMgZXhhY3RseS4gRm9yIGV4YW1wbGUsIGEgdXNlciBjb3VsZCBkZWZpbmUgJ21tJyBhcyAxMF4tNCBtLCB3aGljaCBpcyBzaWxseSwgYnV0IHRoZW4gd2Ugd291bGQgd2FudCAnbW0nIHRvIG1hdGNoIHRoZSB1c2VyLWRlZmluZWQgdW5pdC5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIHN0cikpIHtcbiAgICAgIHZhciB1bml0ID0gVU5JVFNbc3RyXTtcbiAgICAgIHZhciBwcmVmaXggPSB1bml0LnByZWZpeGVzWycnXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuaXQsXG4gICAgICAgIHByZWZpeFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbmFtZSBpbiBVTklUUykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBfbmFtZSkpIHtcbiAgICAgICAgaWYgKGVuZHNXaXRoKHN0ciwgX25hbWUpKSB7XG4gICAgICAgICAgdmFyIF91bml0ID0gVU5JVFNbX25hbWVdO1xuICAgICAgICAgIHZhciBwcmVmaXhMZW4gPSBzdHIubGVuZ3RoIC0gX25hbWUubGVuZ3RoO1xuICAgICAgICAgIHZhciBwcmVmaXhOYW1lID0gc3RyLnN1YnN0cmluZygwLCBwcmVmaXhMZW4pO1xuXG4gICAgICAgICAgdmFyIF9wcmVmaXggPSBoYXNPd25Qcm9wZXJ0eShfdW5pdC5wcmVmaXhlcywgcHJlZml4TmFtZSkgPyBfdW5pdC5wcmVmaXhlc1twcmVmaXhOYW1lXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChfcHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHN0b3JlIHVuaXQsIHByZWZpeCwgYW5kIHZhbHVlXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB1bml0OiBfdW5pdCxcbiAgICAgICAgICAgICAgcHJlZml4OiBfcHJlZml4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LCB7XG4gICAgaGFzaGVyOiBhcmdzID0+IGFyZ3NbMF0sXG4gICAgbGltaXQ6IDEwMFxuICB9KTtcbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdpdmVuIGV4cHJlc3Npb24gaXMgYSB1bml0LlxuICAgKiBUaGUgdW5pdCBjYW4gaGF2ZSBhIHByZWZpeCBidXQgY2Fubm90IGhhdmUgYSB2YWx1ZS5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICBBIHN0cmluZyB0byBiZSB0ZXN0ZWQgd2hldGhlciBpdCBpcyBhIHZhbHVlIGxlc3MgdW5pdC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICBUaGUgdW5pdCBjYW4gaGF2ZSBwcmVmaXgsIGxpa2UgXCJjbVwiXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc3RyaW5nIGlzIGEgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQuaXNWYWx1ZWxlc3NVbml0ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gX2ZpbmRVbml0KG5hbWUpICE9PSBudWxsO1xuICB9O1xuICAvKipcbiAgICogY2hlY2sgaWYgdGhpcyB1bml0IGhhcyBnaXZlbiBiYXNlIHVuaXRcbiAgICogSWYgdGhpcyB1bml0IGlzIGEgZGVyaXZlZCB1bml0LCB0aGlzIHdpbGwgQUxXQVlTIHJldHVybiBmYWxzZSwgc2luY2UgYnkgZGVmaW5pdGlvbiBiYXNlIHVuaXRzIGFyZSBub3QgZGVyaXZlZC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtCQVNFX1VOSVRTIHwgc3RyaW5nIHwgdW5kZWZpbmVkfSBiYXNlXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuaGFzQmFzZSA9IGZ1bmN0aW9uIChiYXNlKSB7XG4gICAgaWYgKHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJykge1xuICAgICAgYmFzZSA9IEJBU0VfVU5JVFNbYmFzZV07XG4gICAgfVxuXG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBBbGwgZGltZW5zaW9ucyBtdXN0IGJlIHRoZSBzYW1lXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkFTRV9ESU1FTlNJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoTWF0aC5hYnMoKHRoaXMuZGltZW5zaW9uc1tpXSB8fCAwKSAtIChiYXNlLmRpbWVuc2lvbnNbaV0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyB1bml0IGhhcyBhIGJhc2Ugb3IgYmFzZXMgZXF1YWwgdG8gYW5vdGhlciBiYXNlIG9yIGJhc2VzXG4gICAqIEZvciBkZXJpdmVkIHVuaXRzLCB0aGUgZXhwb25lbnQgb24gZWFjaCBiYXNlIGFsc28gbXVzdCBtYXRjaFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgZXF1YWwgYmFzZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmVxdWFsQmFzZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIC8vIEFsbCBkaW1lbnNpb25zIG11c3QgYmUgdGhlIHNhbWVcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKE1hdGguYWJzKCh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKSkgPiAxZS0xMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHVuaXQgZXF1YWxzIGFub3RoZXIgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgYm90aCB1bml0cyBhcmUgZXF1YWxcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5lcXVhbEJhc2Uob3RoZXIpICYmIGVxdWFsKHRoaXMudmFsdWUsIG90aGVyLnZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoaXMgdW5pdCB3aXRoIGFub3RoZXIgb25lXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7VW5pdH0gcHJvZHVjdCBvZiB0aGlzIHVuaXQgYW5kIHRoZSBvdGhlciB1bml0XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5jbG9uZSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIERpbWVuc2lvbnMgYXJyYXlzIG1heSBiZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy4gRGVmYXVsdCB0byAwLlxuICAgICAgcmVzLmRpbWVuc2lvbnNbaV0gPSAodGhpcy5kaW1lbnNpb25zW2ldIHx8IDApICsgKG90aGVyLmRpbWVuc2lvbnNbaV0gfHwgMCk7XG4gICAgfSAvLyBBcHBlbmQgb3RoZXIncyB1bml0cyBsaXN0IG9udG8gcmVzXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBvdGhlci51bml0cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgZXZlcnkgdW5pdFxuICAgICAgdmFyIGludmVydGVkID0gX29iamVjdFNwcmVhZCh7fSwgb3RoZXIudW5pdHNbX2ldKTtcblxuICAgICAgcmVzLnVuaXRzLnB1c2goaW52ZXJ0ZWQpO1xuICAgIH0gLy8gSWYgYXQgbGVhc3Qgb25lIG9wZXJhbmQgaGFzIGEgdmFsdWUsIHRoZW4gdGhlIHJlc3VsdCBzaG91bGQgYWxzbyBoYXZlIGEgdmFsdWVcblxuXG4gICAgaWYgKHRoaXMudmFsdWUgIT09IG51bGwgfHwgb3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWxUaGlzID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG4gICAgICB2YXIgdmFsT3RoZXIgPSBvdGhlci52YWx1ZSA9PT0gbnVsbCA/IG90aGVyLl9ub3JtYWxpemUoMSkgOiBvdGhlci52YWx1ZTtcbiAgICAgIHJlcy52YWx1ZSA9IG11bHRpcGx5U2NhbGFyKHZhbFRoaXMsIHZhbE90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGdldE51bWVyaWNJZlVuaXRsZXNzKHJlcyk7XG4gIH07XG4gIC8qKlxuICAgKiBEaXZpZGUgdGhpcyB1bml0IGJ5IGFub3RoZXIgb25lXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7VW5pdH0gb3RoZXJcbiAgICogQHJldHVybiB7VW5pdH0gcmVzdWx0IG9mIGRpdmlkaW5nIHRoaXMgdW5pdCBieSB0aGUgb3RoZXIgdW5pdFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmRpdmlkZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgLSAob3RoZXIuZGltZW5zaW9uc1tpXSB8fCAwKTtcbiAgICB9IC8vIEludmVydCBhbmQgYXBwZW5kIG90aGVyJ3MgdW5pdHMgbGlzdCBvbnRvIHJlc1xuXG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBvdGhlci51bml0cy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAvLyBNYWtlIGEgc2hhbGxvdyBjb3B5IG9mIGV2ZXJ5IHVuaXRcbiAgICAgIHZhciBpbnZlcnRlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3RoZXIudW5pdHNbX2kyXSksIHt9LCB7XG4gICAgICAgIHBvd2VyOiAtb3RoZXIudW5pdHNbX2kyXS5wb3dlclxuICAgICAgfSk7XG5cbiAgICAgIHJlcy51bml0cy5wdXNoKGludmVydGVkKTtcbiAgICB9IC8vIElmIGF0IGxlYXN0IG9uZSBvcGVyYW5kIGhhcyBhIHZhbHVlLCB0aGUgcmVzdWx0IHNob3VsZCBoYXZlIGEgdmFsdWVcblxuXG4gICAgaWYgKHRoaXMudmFsdWUgIT09IG51bGwgfHwgb3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWxUaGlzID0gdGhpcy52YWx1ZSA9PT0gbnVsbCA/IHRoaXMuX25vcm1hbGl6ZSgxKSA6IHRoaXMudmFsdWU7XG4gICAgICB2YXIgdmFsT3RoZXIgPSBvdGhlci52YWx1ZSA9PT0gbnVsbCA/IG90aGVyLl9ub3JtYWxpemUoMSkgOiBvdGhlci52YWx1ZTtcbiAgICAgIHJlcy52YWx1ZSA9IGRpdmlkZVNjYWxhcih2YWxUaGlzLCB2YWxPdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwb3dlciBvZiBhIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlcn0gcFxuICAgKiBAcmV0dXJucyB7VW5pdH0gICAgICBUaGUgcmVzdWx0OiB0aGlzXnBcbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbiAocCkge1xuICAgIHZhciByZXMgPSB0aGlzLmNsb25lKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gRGltZW5zaW9ucyBhcnJheXMgbWF5IGJlIG9mIGRpZmZlcmVudCBsZW5ndGhzLiBEZWZhdWx0IHRvIDAuXG4gICAgICByZXMuZGltZW5zaW9uc1tpXSA9ICh0aGlzLmRpbWVuc2lvbnNbaV0gfHwgMCkgKiBwO1xuICAgIH0gLy8gQWRqdXN0IHRoZSBwb3dlciBvZiBlYWNoIHVuaXQgaW4gdGhlIGxpc3RcblxuXG4gICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgcmVzLnVuaXRzLmxlbmd0aDsgX2kzKyspIHtcbiAgICAgIHJlcy51bml0c1tfaTNdLnBvd2VyICo9IHA7XG4gICAgfVxuXG4gICAgaWYgKHJlcy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgcmVzLnZhbHVlID0gcG93KHJlcy52YWx1ZSwgcCk7IC8vIG9ubHkgYWxsb3cgbnVtZXJpYyBvdXRwdXQsIHdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGEgQ29tcGxleCBudW1iZXJcbiAgICAgIC8vIGlmICghaXNOdW1lcmljKHJlcy52YWx1ZSkpIHtcbiAgICAgIC8vICByZXMudmFsdWUgPSBOYU5cbiAgICAgIC8vIH1cbiAgICAgIC8vIFVwZGF0ZTogQ29tcGxleCBzdXBwb3J0ZWQgbm93XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IGZhbHNlO1xuICAgIHJldHVybiBnZXROdW1lcmljSWZVbml0bGVzcyhyZXMpO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSBudW1lcmljIHZhbHVlIG9mIHRoaXMgdW5pdCBpZiBpdCBpcyBkaW1lbnNpb25sZXNzLCBoYXMgYSB2YWx1ZSwgYW5kIGNvbmZpZy5wcmVkaWN0YWJsZSA9PSBmYWxzZTsgb3IgdGhlIG9yaWdpbmFsIHVuaXQgb3RoZXJ3aXNlXG4gICAqIEBwYXJhbSB7VW5pdH0gdW5pdFxuICAgKiBAcmV0dXJucyB7bnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBVbml0fSAgVGhlIG51bWVyaWMgdmFsdWUgb2YgdGhlIHVuaXQgaWYgY29uZGl0aW9ucyBhcmUgbWV0LCBvciB0aGUgb3JpZ2luYWwgdW5pdCBvdGhlcndpc2VcbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXROdW1lcmljSWZVbml0bGVzcyh1bml0KSB7XG4gICAgaWYgKHVuaXQuZXF1YWxCYXNlKEJBU0VfVU5JVFMuTk9ORSkgJiYgdW5pdC52YWx1ZSAhPT0gbnVsbCAmJiAhY29uZmlnLnByZWRpY3RhYmxlKSB7XG4gICAgICByZXR1cm4gdW5pdC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGFic29sdXRlIHZhbHVlIG9mIGEgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge251bWJlciB8IEZyYWN0aW9uIHwgQmlnTnVtYmVyfSB4XG4gICAqIEByZXR1cm5zIHtVbml0fSAgICAgIFRoZSByZXN1bHQ6IHx4fCwgYWJzb2x1dGUgdmFsdWUgb2YgeFxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLmFicyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaGlzIGdpdmVzIGNvcnJlY3QsIGJ1dCB1bmV4cGVjdGVkLCByZXN1bHRzIGZvciB1bml0cyB3aXRoIGFuIG9mZnNldC5cbiAgICAvLyBGb3IgZXhhbXBsZSwgYWJzKC0yODMuMTUgZGVnQykgPSAtMjYzLjE1IGRlZ0MgISEhXG4gICAgdmFyIHJldCA9IHRoaXMuY2xvbmUoKTtcbiAgICByZXQudmFsdWUgPSByZXQudmFsdWUgIT09IG51bGwgPyBhYnMocmV0LnZhbHVlKSA6IG51bGw7XG5cbiAgICBmb3IgKHZhciBpIGluIHJldC51bml0cykge1xuICAgICAgaWYgKHJldC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQScgfHwgcmV0LnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBUicpIHtcbiAgICAgICAgcmV0LnVuaXRzW2ldLnVuaXQgPSBVTklUUy5XO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRoZSB1bml0IHRvIGEgc3BlY2lmaWMgdW5pdCBuYW1lLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IFVuaXR9IHZhbHVlbGVzc1VuaXQgICBBIHVuaXQgd2l0aG91dCB2YWx1ZS4gQ2FuIGhhdmUgcHJlZml4LCBsaWtlIFwiY21cIlxuICAgKiBAcmV0dXJucyB7VW5pdH0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSB1bml0IHdpdGggYSBmaXhlZCBwcmVmaXggYW5kIHVuaXQuXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAodmFsdWVsZXNzVW5pdCkge1xuICAgIHZhciBvdGhlcjtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlID09PSBudWxsID8gdGhpcy5fbm9ybWFsaXplKDEpIDogdGhpcy52YWx1ZTtcblxuICAgIGlmICh0eXBlb2YgdmFsdWVsZXNzVW5pdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIG90aGVyID0gbmV3IFVuaXQobnVsbCwgdmFsdWVsZXNzVW5pdClcbiAgICAgIG90aGVyID0gVW5pdC5wYXJzZSh2YWx1ZWxlc3NVbml0KTtcblxuICAgICAgaWYgKCF0aGlzLmVxdWFsQmFzZShvdGhlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pdHMgZG8gbm90IG1hdGNoICgnXCIuY29uY2F0KG90aGVyLnRvU3RyaW5nKCksIFwiJyAhPSAnXCIpLmNvbmNhdCh0aGlzLnRvU3RyaW5nKCksIFwiJylcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXIudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29udmVydCB0byBhIHVuaXQgd2l0aCBhIHZhbHVlJyk7XG4gICAgICB9XG5cbiAgICAgIG90aGVyLnZhbHVlID0gY2xvbmUodmFsdWUpO1xuICAgICAgb3RoZXIuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICAgIG90aGVyLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gb3RoZXI7XG4gICAgfSBlbHNlIGlmIChpc1VuaXQodmFsdWVsZXNzVW5pdCkpIHtcbiAgICAgIGlmICghdGhpcy5lcXVhbEJhc2UodmFsdWVsZXNzVW5pdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pdHMgZG8gbm90IG1hdGNoICgnXCIuY29uY2F0KHZhbHVlbGVzc1VuaXQudG9TdHJpbmcoKSwgXCInICE9ICdcIikuY29uY2F0KHRoaXMudG9TdHJpbmcoKSwgXCInKVwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZWxlc3NVbml0LnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnZlcnQgdG8gYSB1bml0IHdpdGggYSB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBvdGhlciA9IHZhbHVlbGVzc1VuaXQuY2xvbmUoKTtcbiAgICAgIG90aGVyLnZhbHVlID0gY2xvbmUodmFsdWUpO1xuICAgICAgb3RoZXIuZml4UHJlZml4ID0gdHJ1ZTtcbiAgICAgIG90aGVyLnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gb3RoZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3RyaW5nIG9yIFVuaXQgZXhwZWN0ZWQgYXMgcGFyYW1ldGVyJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCB3aGVuIHJlcHJlc2VudGVkIHdpdGggZ2l2ZW4gdmFsdWVsZXNzIHVuaXRcbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBVbml0fSB2YWx1ZWxlc3NVbml0ICAgIEZvciBleGFtcGxlICdjbScgb3IgJ2luY2gnXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgdW5pdCB2YWx1ZSBhcyBudW1iZXIuXG4gICAqL1xuICAvLyBUT0RPOiBkZXByZWNhdGUgVW5pdC50b051bWJlcj8gSXQncyBhbHdheXMgYmV0dGVyIHRvIHVzZSB0b051bWVyaWNcblxuXG4gIFVuaXQucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKHZhbHVlbGVzc1VuaXQpIHtcbiAgICByZXR1cm4gdG9OdW1iZXIodGhpcy50b051bWVyaWModmFsdWVsZXNzVW5pdCkpO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBpbiB0aGUgb3JpZ2luYWwgbnVtZXJpYyB0eXBlXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgVW5pdH0gdmFsdWVsZXNzVW5pdCAgICBGb3IgZXhhbXBsZSAnY20nIG9yICdpbmNoJ1xuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbn0gUmV0dXJucyB0aGUgdW5pdCB2YWx1ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvTnVtZXJpYyA9IGZ1bmN0aW9uICh2YWx1ZWxlc3NVbml0KSB7XG4gICAgdmFyIG90aGVyO1xuXG4gICAgaWYgKHZhbHVlbGVzc1VuaXQpIHtcbiAgICAgIC8vIEFsbG93IGdldHRpbmcgdGhlIG51bWVyaWMgdmFsdWUgd2l0aG91dCBjb252ZXJ0aW5nIHRvIGEgZGlmZmVyZW50IHVuaXRcbiAgICAgIG90aGVyID0gdGhpcy50byh2YWx1ZWxlc3NVbml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSB0aGlzLmNsb25lKCk7XG4gICAgfVxuXG4gICAgaWYgKG90aGVyLl9pc0Rlcml2ZWQoKSB8fCBvdGhlci51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBvdGhlci5fZGVub3JtYWxpemUob3RoZXIudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3RoZXIuX2Rlbm9ybWFsaXplKG90aGVyLnZhbHVlLCBvdGhlci51bml0c1swXS5wcmVmaXgudmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdC5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdCgpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgc3RydWN0dXJlZCBhczpcbiAgICogICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlVuaXRcIiwgXCJ2YWx1ZVwiOiAyLCBcInVuaXRcIjogXCJjbVwiLCBcImZpeFByZWZpeFwiOiBmYWxzZX1gXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdVbml0JyxcbiAgICAgIHZhbHVlOiB0aGlzLl9kZW5vcm1hbGl6ZSh0aGlzLnZhbHVlKSxcbiAgICAgIHVuaXQ6IHRoaXMuZm9ybWF0VW5pdHMoKSxcbiAgICAgIGZpeFByZWZpeDogdGhpcy5maXhQcmVmaXhcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBVbml0IGZyb20gYSBKU09OIG9iamVjdFxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQSBKU09OIG9iamVjdCBzdHJ1Y3R1cmVkIGFzOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlVuaXRcIiwgXCJ2YWx1ZVwiOiAyLCBcInVuaXRcIjogXCJjbVwiLCBcImZpeFByZWZpeFwiOiBmYWxzZX1gXG4gICAqIEByZXR1cm4ge1VuaXR9XG4gICAqL1xuXG5cbiAgVW5pdC5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgdmFyIHVuaXQgPSBuZXcgVW5pdChqc29uLnZhbHVlLCBqc29uLnVuaXQpO1xuICAgIHVuaXQuZml4UHJlZml4ID0ganNvbi5maXhQcmVmaXggfHwgZmFsc2U7XG4gICAgcmV0dXJuIHVuaXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVuaXQuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS52YWx1ZU9mID0gVW5pdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIC8qKlxuICAgKiBTaW1wbGlmeSB0aGlzIFVuaXQncyB1bml0IGxpc3QgYW5kIHJldHVybiBhIG5ldyBVbml0IHdpdGggdGhlIHNpbXBsaWZpZWQgbGlzdC5cbiAgICogVGhlIHJldHVybmVkIFVuaXQgd2lsbCBjb250YWluIGEgbGlzdCBvZiB0aGUgXCJiZXN0XCIgdW5pdHMgZm9yIGZvcm1hdHRpbmcuXG4gICAqL1xuXG4gIFVuaXQucHJvdG90eXBlLnNpbXBsaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXQgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHByb3Bvc2VkVW5pdExpc3QgPSBbXTsgLy8gU2VhcmNoIGZvciBhIG1hdGNoaW5nIGJhc2VcblxuICAgIHZhciBtYXRjaGluZ0Jhc2U7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gY3VycmVudFVuaXRTeXN0ZW0pIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwga2V5KSkge1xuICAgICAgICBpZiAocmV0Lmhhc0Jhc2UoQkFTRV9VTklUU1trZXldKSkge1xuICAgICAgICAgIG1hdGNoaW5nQmFzZSA9IGtleTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaGluZ0Jhc2UgPT09ICdOT05FJykge1xuICAgICAgcmV0LnVuaXRzID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaGluZ1VuaXQ7XG5cbiAgICAgIGlmIChtYXRjaGluZ0Jhc2UpIHtcbiAgICAgICAgLy8gRG9lcyB0aGUgdW5pdCBzeXN0ZW0gaGF2ZSBhIG1hdGNoaW5nIHVuaXQ/XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwgbWF0Y2hpbmdCYXNlKSkge1xuICAgICAgICAgIG1hdGNoaW5nVW5pdCA9IGN1cnJlbnRVbml0U3lzdGVtW21hdGNoaW5nQmFzZV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoaW5nVW5pdCkge1xuICAgICAgICByZXQudW5pdHMgPSBbe1xuICAgICAgICAgIHVuaXQ6IG1hdGNoaW5nVW5pdC51bml0LFxuICAgICAgICAgIHByZWZpeDogbWF0Y2hpbmdVbml0LnByZWZpeCxcbiAgICAgICAgICBwb3dlcjogMS4wXG4gICAgICAgIH1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTXVsdGlwbGUgdW5pdHMgb3IgdW5pdHMgd2l0aCBwb3dlcnMgYXJlIGZvcm1hdHRlZCBsaWtlIHRoaXM6XG4gICAgICAgIC8vIDUgKGtnIG1eMikgLyAoc14zIG1vbClcbiAgICAgICAgLy8gQnVpbGQgYW4gcmVwcmVzZW50YXRpb24gZnJvbSB0aGUgYmFzZSB1bml0cyBvZiB0aGUgY3VycmVudCB1bml0IHN5c3RlbVxuICAgICAgICB2YXIgbWlzc2luZ0Jhc2VEaW0gPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBiYXNlRGltID0gQkFTRV9ESU1FTlNJT05TW2ldO1xuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKHJldC5kaW1lbnNpb25zW2ldIHx8IDApID4gMWUtMTIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjdXJyZW50VW5pdFN5c3RlbSwgYmFzZURpbSkpIHtcbiAgICAgICAgICAgICAgcHJvcG9zZWRVbml0TGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB1bml0OiBjdXJyZW50VW5pdFN5c3RlbVtiYXNlRGltXS51bml0LFxuICAgICAgICAgICAgICAgIHByZWZpeDogY3VycmVudFVuaXRTeXN0ZW1bYmFzZURpbV0ucHJlZml4LFxuICAgICAgICAgICAgICAgIHBvd2VyOiByZXQuZGltZW5zaW9uc1tpXSB8fCAwXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWlzc2luZ0Jhc2VEaW0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBJcyB0aGUgcHJvcG9zZWQgdW5pdCBsaXN0IFwic2ltcGxlclwiIHRoYW4gdGhlIGV4aXN0aW5nIG9uZT9cblxuXG4gICAgICAgIGlmIChwcm9wb3NlZFVuaXRMaXN0Lmxlbmd0aCA8IHJldC51bml0cy5sZW5ndGggJiYgIW1pc3NpbmdCYXNlRGltKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGlzIHVuaXQgbGlzdCB3aXRoIHRoZSBwcm9wb3NlZCBsaXN0XG4gICAgICAgICAgcmV0LnVuaXRzID0gcHJvcG9zZWRVbml0TGlzdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IFVuaXQgaW4gdGhlIFNJIHN5c3RlbSB3aXRoIHRoZSBzYW1lIHZhbHVlIGFzIHRoaXMgb25lXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUudG9TSSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5jbG9uZSgpO1xuICAgIHZhciBwcm9wb3NlZFVuaXRMaXN0ID0gW107IC8vIE11bHRpcGxlIHVuaXRzIG9yIHVuaXRzIHdpdGggcG93ZXJzIGFyZSBmb3JtYXR0ZWQgbGlrZSB0aGlzOlxuICAgIC8vIDUgKGtnIG1eMikgLyAoc14zIG1vbClcbiAgICAvLyBCdWlsZCBhbiByZXByZXNlbnRhdGlvbiBmcm9tIHRoZSBiYXNlIHVuaXRzIG9mIHRoZSBTSSB1bml0IHN5c3RlbVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBiYXNlRGltID0gQkFTRV9ESU1FTlNJT05TW2ldO1xuXG4gICAgICBpZiAoTWF0aC5hYnMocmV0LmRpbWVuc2lvbnNbaV0gfHwgMCkgPiAxZS0xMikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLnNpLCBiYXNlRGltKSkge1xuICAgICAgICAgIHByb3Bvc2VkVW5pdExpc3QucHVzaCh7XG4gICAgICAgICAgICB1bml0OiBVTklUX1NZU1RFTVMuc2lbYmFzZURpbV0udW5pdCxcbiAgICAgICAgICAgIHByZWZpeDogVU5JVF9TWVNURU1TLnNpW2Jhc2VEaW1dLnByZWZpeCxcbiAgICAgICAgICAgIHBvd2VyOiByZXQuZGltZW5zaW9uc1tpXSB8fCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZXhwcmVzcyBjdXN0b20gdW5pdCAnICsgYmFzZURpbSArICcgaW4gU0kgdW5pdHMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUmVwbGFjZSB0aGlzIHVuaXQgbGlzdCB3aXRoIHRoZSBwcm9wb3NlZCBsaXN0XG5cblxuICAgIHJldC51bml0cyA9IHByb3Bvc2VkVW5pdExpc3Q7XG4gICAgcmV0LmZpeFByZWZpeCA9IHRydWU7XG4gICAgcmV0LnNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiA9IHRydWU7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdW5pdHMgb2YgdGhpcyBVbml0LCB3aXRob3V0IHRoZSB2YWx1ZS4gVGhlIHVuaXQgbGlzdCBpcyBmb3JtYXR0ZWQgYXMtaXMgd2l0aG91dCBmaXJzdCBiZWluZyBzaW1wbGlmaWVkLlxuICAgKiBAbWVtYmVyb2YgVW5pdFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuZm9ybWF0VW5pdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0ck51bSA9ICcnO1xuICAgIHZhciBzdHJEZW4gPSAnJztcbiAgICB2YXIgbk51bSA9IDA7XG4gICAgdmFyIG5EZW4gPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy51bml0c1tpXS5wb3dlciA+IDApIHtcbiAgICAgICAgbk51bSsrO1xuICAgICAgICBzdHJOdW0gKz0gJyAnICsgdGhpcy51bml0c1tpXS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbaV0udW5pdC5uYW1lO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzW2ldLnBvd2VyIC0gMS4wKSA+IDFlLTE1KSB7XG4gICAgICAgICAgc3RyTnVtICs9ICdeJyArIHRoaXMudW5pdHNbaV0ucG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy51bml0c1tpXS5wb3dlciA8IDApIHtcbiAgICAgICAgbkRlbisrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuRGVuID4gMCkge1xuICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgdGhpcy51bml0cy5sZW5ndGg7IF9pNCsrKSB7XG4gICAgICAgIGlmICh0aGlzLnVuaXRzW19pNF0ucG93ZXIgPCAwKSB7XG4gICAgICAgICAgaWYgKG5OdW0gPiAwKSB7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJyAnICsgdGhpcy51bml0c1tfaTRdLnByZWZpeC5uYW1lICsgdGhpcy51bml0c1tfaTRdLnVuaXQubmFtZTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudW5pdHNbX2k0XS5wb3dlciArIDEuMCkgPiAxZS0xNSkge1xuICAgICAgICAgICAgICBzdHJEZW4gKz0gJ14nICsgLXRoaXMudW5pdHNbX2k0XS5wb3dlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyRGVuICs9ICcgJyArIHRoaXMudW5pdHNbX2k0XS5wcmVmaXgubmFtZSArIHRoaXMudW5pdHNbX2k0XS51bml0Lm5hbWU7XG4gICAgICAgICAgICBzdHJEZW4gKz0gJ14nICsgdGhpcy51bml0c1tfaTRdLnBvd2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUmVtb3ZlIGxlYWRpbmcgXCIgXCJcblxuXG4gICAgc3RyTnVtID0gc3RyTnVtLnN1YnN0cigxKTtcbiAgICBzdHJEZW4gPSBzdHJEZW4uc3Vic3RyKDEpOyAvLyBBZGQgcGFyYW5zIGZvciBiZXR0ZXIgY29weS9wYXN0ZSBiYWNrIGludG8gZXZhbHVhdGUsIGZvciBleGFtcGxlLCBvciBmb3IgYmV0dGVyIHByZXR0eSBwcmludCBmb3JtYXR0aW5nXG5cbiAgICBpZiAobk51bSA+IDEgJiYgbkRlbiA+IDApIHtcbiAgICAgIHN0ck51bSA9ICcoJyArIHN0ck51bSArICcpJztcbiAgICB9XG5cbiAgICBpZiAobkRlbiA+IDEgJiYgbk51bSA+IDApIHtcbiAgICAgIHN0ckRlbiA9ICcoJyArIHN0ckRlbiArICcpJztcbiAgICB9XG5cbiAgICB2YXIgc3RyID0gc3RyTnVtO1xuXG4gICAgaWYgKG5OdW0gPiAwICYmIG5EZW4gPiAwKSB7XG4gICAgICBzdHIgKz0gJyAvICc7XG4gICAgfVxuXG4gICAgc3RyICs9IHN0ckRlbjtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBVbml0LCB3aXRoIG9wdGlvbmFsIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIFVuaXRcbiAgICogQHBhcmFtIHtPYmplY3QgfCBudW1iZXIgfCBGdW5jdGlvbn0gW29wdGlvbnNdICBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYi91dGlscy9udW1iZXI6Zm9ybWF0IGZvciBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gb2YgdGhlIGF2YWlsYWJsZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBVbml0LnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIC8vIFNpbXBsZnkgdGhlIHVuaXQgbGlzdCwgdW5sZXNzIGl0IGlzIHZhbHVlbGVzcyBvciB3YXMgY3JlYXRlZCBkaXJlY3RseSBpbiB0aGVcbiAgICAvLyBjb25zdHJ1Y3RvciBvciBhcyB0aGUgcmVzdWx0IG9mIHRvIG9yIHRvU0lcbiAgICB2YXIgc2ltcCA9IHRoaXMuc2tpcEF1dG9tYXRpY1NpbXBsaWZpY2F0aW9uIHx8IHRoaXMudmFsdWUgPT09IG51bGwgPyB0aGlzLmNsb25lKCkgOiB0aGlzLnNpbXBsaWZ5KCk7IC8vIEFwcGx5IHNvbWUgY3VzdG9tIGxvZ2ljIGZvciBoYW5kbGluZyBWQSBhbmQgVkFSLiBUaGUgZ29hbCBpcyB0byBleHByZXNzIHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBhcyBhIHJlYWwgdmFsdWUsIGlmIHBvc3NpYmxlLiBPdGhlcndpc2UsIHVzZSBhIHJlYWwtdmFsdWVkIHVuaXQgaW5zdGVhZCBvZiBhIGNvbXBsZXgtdmFsdWVkIG9uZS5cblxuICAgIHZhciBpc0ltYWdpbmFyeSA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBzaW1wLnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBzaW1wLnZhbHVlICE9PSBudWxsICYmIGlzQ29tcGxleChzaW1wLnZhbHVlKSkge1xuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGJldHRlciwgZm9yIGV4YW1wbGUsIHVzZSByZWxhdGl2ZSBtYWduaXR1ZGUgb2YgcmUgYW5kIGltIHJhdGhlciB0aGFuIGFic29sdXRlXG4gICAgICBpc0ltYWdpbmFyeSA9IE1hdGguYWJzKHNpbXAudmFsdWUucmUpIDwgMWUtMTQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBzaW1wLnVuaXRzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoc2ltcC51bml0cywgaSkpIHtcbiAgICAgICAgaWYgKHNpbXAudW5pdHNbaV0udW5pdCkge1xuICAgICAgICAgIGlmIChzaW1wLnVuaXRzW2ldLnVuaXQubmFtZSA9PT0gJ1ZBJyAmJiBpc0ltYWdpbmFyeSkge1xuICAgICAgICAgICAgc2ltcC51bml0c1tpXS51bml0ID0gVU5JVFMuVkFSO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2ltcC51bml0c1tpXS51bml0Lm5hbWUgPT09ICdWQVInICYmICFpc0ltYWdpbmFyeSkge1xuICAgICAgICAgICAgc2ltcC51bml0c1tpXS51bml0ID0gVU5JVFMuVkE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBOb3cgYXBwbHkgdGhlIGJlc3QgcHJlZml4XG4gICAgLy8gVW5pdHMgbXVzdCBoYXZlIG9ubHkgb25lIHVuaXQgYW5kIG5vdCBoYXZlIHRoZSBmaXhQcmVmaXggZmxhZyBzZXRcblxuXG4gICAgaWYgKHNpbXAudW5pdHMubGVuZ3RoID09PSAxICYmICFzaW1wLmZpeFByZWZpeCkge1xuICAgICAgLy8gVW5pdHMgbXVzdCBoYXZlIGludGVnZXIgcG93ZXJzLCBvdGhlcndpc2UgdGhlIHByZWZpeCB3aWxsIGNoYW5nZSB0aGVcbiAgICAgIC8vIG91dHB1dHRlZCB2YWx1ZSBieSBub3QtYW4taW50ZWdlci1wb3dlci1vZi10ZW5cbiAgICAgIGlmIChNYXRoLmFicyhzaW1wLnVuaXRzWzBdLnBvd2VyIC0gTWF0aC5yb3VuZChzaW1wLnVuaXRzWzBdLnBvd2VyKSkgPCAxZS0xNCkge1xuICAgICAgICAvLyBBcHBseSB0aGUgYmVzdCBwcmVmaXhcbiAgICAgICAgc2ltcC51bml0c1swXS5wcmVmaXggPSBzaW1wLl9iZXN0UHJlZml4KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gc2ltcC5fZGVub3JtYWxpemUoc2ltcC52YWx1ZSk7XG5cbiAgICB2YXIgc3RyID0gc2ltcC52YWx1ZSAhPT0gbnVsbCA/IGZvcm1hdCh2YWx1ZSwgb3B0aW9ucyB8fCB7fSkgOiAnJztcbiAgICB2YXIgdW5pdFN0ciA9IHNpbXAuZm9ybWF0VW5pdHMoKTtcblxuICAgIGlmIChzaW1wLnZhbHVlICYmIGlzQ29tcGxleChzaW1wLnZhbHVlKSkge1xuICAgICAgc3RyID0gJygnICsgc3RyICsgJyknOyAvLyBTdXJyb3VuZCBjb21wbGV4IHZhbHVlcyB3aXRoICggKSB0byBlbmFibGUgYmV0dGVyIHBhcnNpbmdcbiAgICB9XG5cbiAgICBpZiAodW5pdFN0ci5sZW5ndGggPiAwICYmIHN0ci5sZW5ndGggPiAwKSB7XG4gICAgICBzdHIgKz0gJyAnO1xuICAgIH1cblxuICAgIHN0ciArPSB1bml0U3RyO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGJlc3QgcHJlZml4IHVzaW5nIGN1cnJlbnQgdmFsdWUuXG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHByZWZpeFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFVuaXQucHJvdG90eXBlLl9iZXN0UHJlZml4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnVuaXRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBjb21wdXRlIHRoZSBiZXN0IHByZWZpeCBmb3Igc2luZ2xlIHVuaXRzIHdpdGggaW50ZWdlciBwb3dlcnMsIGxpa2Uga2csIHNeMiwgTl4tMSwgYW5kIHNvIGZvcnRoIScpO1xuICAgIH1cblxuICAgIGlmIChNYXRoLmFicyh0aGlzLnVuaXRzWzBdLnBvd2VyIC0gTWF0aC5yb3VuZCh0aGlzLnVuaXRzWzBdLnBvd2VyKSkgPj0gMWUtMTQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgY29tcHV0ZSB0aGUgYmVzdCBwcmVmaXggZm9yIHNpbmdsZSB1bml0cyB3aXRoIGludGVnZXIgcG93ZXJzLCBsaWtlIGtnLCBzXjIsIE5eLTEsIGFuZCBzbyBmb3J0aCEnKTtcbiAgICB9IC8vIGZpbmQgdGhlIGJlc3QgcHJlZml4IHZhbHVlIChyZXN1bHRpbmcgaW4gdGhlIHZhbHVlIG9mIHdoaWNoXG4gICAgLy8gdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoZSBsb2cxMCBpcyBjbG9zZXN0IHRvIHplcm8sXG4gICAgLy8gdGhvdWdoIHdpdGggYSBsaXR0bGUgb2Zmc2V0IG9mIDEuMiBmb3IgbmljZXIgdmFsdWVzOiB5b3UgZ2V0IGFcbiAgICAvLyBzZXF1ZW5jZSAxbW0gMTAwbW0gNTAwbW0gMC42bSAxbSAxMG0gMTAwbSA1MDBtIDAuNmttIDFrbSAuLi5cbiAgICAvLyBOb3RlOiB0aGUgdW5pdHMgdmFsdWUgY2FuIGJlIGFueSBudW1lcmljIHR5cGUsIGJ1dCB0byBmaW5kIHRoZSBiZXN0XG4gICAgLy8gcHJlZml4IGl0J3MgZW5vdWdoIHRvIHdvcmsgd2l0aCBsaW1pdGVkIHByZWNpc2lvbiBvZiBhIHJlZ3VsYXIgbnVtYmVyXG4gICAgLy8gVXBkYXRlOiB1c2luZyBtYXRoanMgYWJzIHNpbmNlIHdlIGFsc28gYWxsb3cgY29tcGxleCBudW1iZXJzXG5cblxuICAgIHZhciBhYnNWYWx1ZSA9IHRoaXMudmFsdWUgIT09IG51bGwgPyBhYnModGhpcy52YWx1ZSkgOiAwO1xuICAgIHZhciBhYnNVbml0VmFsdWUgPSBhYnModGhpcy51bml0c1swXS51bml0LnZhbHVlKTtcbiAgICB2YXIgYmVzdFByZWZpeCA9IHRoaXMudW5pdHNbMF0ucHJlZml4O1xuXG4gICAgaWYgKGFic1ZhbHVlID09PSAwKSB7XG4gICAgICByZXR1cm4gYmVzdFByZWZpeDtcbiAgICB9XG5cbiAgICB2YXIgcG93ZXIgPSB0aGlzLnVuaXRzWzBdLnBvd2VyO1xuICAgIHZhciBiZXN0RGlmZiA9IE1hdGgubG9nKGFic1ZhbHVlIC8gTWF0aC5wb3coYmVzdFByZWZpeC52YWx1ZSAqIGFic1VuaXRWYWx1ZSwgcG93ZXIpKSAvIE1hdGguTE4xMCAtIDEuMjtcbiAgICBpZiAoYmVzdERpZmYgPiAtMi4yMDAwMDEgJiYgYmVzdERpZmYgPCAxLjgwMDAwMSkgcmV0dXJuIGJlc3RQcmVmaXg7IC8vIEFsbG93IHRoZSBvcmlnaW5hbCBwcmVmaXhcblxuICAgIGJlc3REaWZmID0gTWF0aC5hYnMoYmVzdERpZmYpO1xuICAgIHZhciBwcmVmaXhlcyA9IHRoaXMudW5pdHNbMF0udW5pdC5wcmVmaXhlcztcblxuICAgIGZvciAodmFyIHAgaW4gcHJlZml4ZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShwcmVmaXhlcywgcCkpIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW3BdO1xuXG4gICAgICAgIGlmIChwcmVmaXguc2NpZW50aWZpYykge1xuICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoTWF0aC5sb2coYWJzVmFsdWUgLyBNYXRoLnBvdyhwcmVmaXgudmFsdWUgKiBhYnNVbml0VmFsdWUsIHBvd2VyKSkgLyBNYXRoLkxOMTAgLSAxLjIpO1xuXG4gICAgICAgICAgaWYgKGRpZmYgPCBiZXN0RGlmZiB8fCBkaWZmID09PSBiZXN0RGlmZiAmJiBwcmVmaXgubmFtZS5sZW5ndGggPCBiZXN0UHJlZml4Lm5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjaG9vc2UgdGhlIHByZWZpeCB3aXRoIHRoZSBzbWFsbGVzdCBkaWZmLCBvciBpZiBlcXVhbCwgY2hvb3NlIHRoZSBvbmVcbiAgICAgICAgICAgIC8vIHdpdGggdGhlIHNob3J0ZXN0IG5hbWUgKGNhbiBoYXBwZW4gd2l0aCBTSE9SVExPTkcgZm9yIGV4YW1wbGUpXG4gICAgICAgICAgICBiZXN0UHJlZml4ID0gcHJlZml4O1xuICAgICAgICAgICAgYmVzdERpZmYgPSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiZXN0UHJlZml4O1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiB1bml0cyB3aG9zZSBzdW0gaXMgZXF1YWwgdG8gdGhpcyB1bml0XG4gICAqIEBtZW1iZXJvZiBVbml0XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0c10gQW4gYXJyYXkgb2Ygc3RyaW5ncyBvciB2YWx1ZWxlc3MgdW5pdHMuXG4gICAqXG4gICAqICAgRXhhbXBsZTpcbiAgICpcbiAgICogICBjb25zdCB1ID0gbmV3IFVuaXQoMSwgJ20nKVxuICAgKiAgIHUuc3BsaXRVbml0KFsnZmVldCcsICdpbmNoJ10pXG4gICAqICAgICBbIDMgZmVldCwgMy4zNzAwNzg3NDAxNTc1IGluY2ggXVxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdW5pdHMuXG4gICAqL1xuXG5cbiAgVW5pdC5wcm90b3R5cGUuc3BsaXRVbml0ID0gZnVuY3Rpb24gKHBhcnRzKSB7XG4gICAgdmFyIHggPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gQ29udmVydCB4IHRvIHRoZSByZXF1ZXN0ZWQgdW5pdFxuICAgICAgeCA9IHgudG8ocGFydHNbaV0pO1xuICAgICAgaWYgKGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIGJyZWFrOyAvLyBHZXQgdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhpcyB1bml0XG5cbiAgICAgIHZhciB4TnVtZXJpYyA9IHgudG9OdW1lcmljKCk7IC8vIENoZWNrIHRvIHNlZSBpZiB4TnVtZXJpYyBpcyBuZWFybHkgZXF1YWwgdG8gYW4gaW50ZWdlcixcbiAgICAgIC8vIHNpbmNlIGZpeCBjYW4gaW5jb3JyZWN0bHkgcm91bmQgZG93biBpZiB0aGVyZSBpcyByb3VuZC1vZmYgZXJyb3JcblxuICAgICAgdmFyIHhSb3VuZGVkID0gcm91bmQoeE51bWVyaWMpO1xuICAgICAgdmFyIHhGaXhlZCA9IHZvaWQgMDtcbiAgICAgIHZhciBpc05lYXJseUVxdWFsID0gZXF1YWwoeFJvdW5kZWQsIHhOdW1lcmljKTtcblxuICAgICAgaWYgKGlzTmVhcmx5RXF1YWwpIHtcbiAgICAgICAgeEZpeGVkID0geFJvdW5kZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4Rml4ZWQgPSBmaXgoeC50b051bWVyaWMoKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB5ID0gbmV3IFVuaXQoeEZpeGVkLCBwYXJ0c1tpXS50b1N0cmluZygpKTtcbiAgICAgIHJldC5wdXNoKHkpO1xuICAgICAgeCA9IHN1YnRyYWN0KHgsIHkpO1xuICAgIH0gLy8gVGhpcyBsaXR0bGUgYml0IGZpeGVzIGEgYnVnIHdoZXJlIHRoZSByZW1haW5kZXIgc2hvdWxkIGJlIDAgYnV0IGlzIGEgbGl0dGxlIGJpdCBvZmYuXG4gICAgLy8gQnV0IGluc3RlYWQgb2YgY29tcGFyaW5nIHgsIHRoZSByZW1haW5kZXIsIHdpdGggemVyby0td2Ugd2lsbCBjb21wYXJlIHRoZSBzdW0gb2ZcbiAgICAvLyBhbGwgdGhlIHBhcnRzIHNvIGZhciB3aXRoIHRoZSBvcmlnaW5hbCB2YWx1ZS4gSWYgdGhleSBhcmUgbmVhcmx5IGVxdWFsLFxuICAgIC8vIHdlIHNldCB0aGUgcmVtYWluZGVyIHRvIDAuXG5cblxuICAgIHZhciB0ZXN0U3VtID0gMDtcblxuICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IHJldC5sZW5ndGg7IF9pNSsrKSB7XG4gICAgICB0ZXN0U3VtID0gYWRkU2NhbGFyKHRlc3RTdW0sIHJldFtfaTVdLnZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoZXF1YWwodGVzdFN1bSwgdGhpcy52YWx1ZSkpIHtcbiAgICAgIHgudmFsdWUgPSAwO1xuICAgIH1cblxuICAgIHJldC5wdXNoKHgpO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgdmFyIFBSRUZJWEVTID0ge1xuICAgIE5PTkU6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgU0hPUlQ6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEc6IHtcbiAgICAgICAgbmFtZTogJ0cnLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTE1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTI0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0xLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwOiB7XG4gICAgICAgIG5hbWU6ICdwJyxcbiAgICAgICAgdmFsdWU6IDFlLTEyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZjoge1xuICAgICAgICBuYW1lOiAnZicsXG4gICAgICAgIHZhbHVlOiAxZS0xNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGE6IHtcbiAgICAgICAgbmFtZTogJ2EnLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6OiB7XG4gICAgICAgIG5hbWU6ICd6JyxcbiAgICAgICAgdmFsdWU6IDFlLTIxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBuYW1lOiAneScsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgTE9ORzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGVjYToge1xuICAgICAgICBuYW1lOiAnZGVjYScsXG4gICAgICAgIHZhbHVlOiAxZTEsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaGVjdG86IHtcbiAgICAgICAgbmFtZTogJ2hlY3RvJyxcbiAgICAgICAgdmFsdWU6IDFlMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBraWxvOiB7XG4gICAgICAgIG5hbWU6ICdraWxvJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lZ2E6IHtcbiAgICAgICAgbmFtZTogJ21lZ2EnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2lnYToge1xuICAgICAgICBuYW1lOiAnZ2lnYScsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZXJhOiB7XG4gICAgICAgIG5hbWU6ICd0ZXJhJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZXRhOiB7XG4gICAgICAgIG5hbWU6ICdwZXRhJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGE6IHtcbiAgICAgICAgbmFtZTogJ2V4YScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemV0dGE6IHtcbiAgICAgICAgbmFtZTogJ3pldHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b3R0YToge1xuICAgICAgICBuYW1lOiAneW90dGEnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRlY2k6IHtcbiAgICAgICAgbmFtZTogJ2RlY2knLFxuICAgICAgICB2YWx1ZTogMWUtMSxcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjZW50aToge1xuICAgICAgICBuYW1lOiAnY2VudGknLFxuICAgICAgICB2YWx1ZTogMWUtMixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtaWxsaToge1xuICAgICAgICBuYW1lOiAnbWlsbGknLFxuICAgICAgICB2YWx1ZTogMWUtMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1pY3JvOiB7XG4gICAgICAgIG5hbWU6ICdtaWNybycsXG4gICAgICAgIHZhbHVlOiAxZS02LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbmFubzoge1xuICAgICAgICBuYW1lOiAnbmFubycsXG4gICAgICAgIHZhbHVlOiAxZS05LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGljbzoge1xuICAgICAgICBuYW1lOiAncGljbycsXG4gICAgICAgIHZhbHVlOiAxZS0xMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGZlbXRvOiB7XG4gICAgICAgIG5hbWU6ICdmZW10bycsXG4gICAgICAgIHZhbHVlOiAxZS0xNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGF0dG86IHtcbiAgICAgICAgbmFtZTogJ2F0dG8nLFxuICAgICAgICB2YWx1ZTogMWUtMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZXB0bzoge1xuICAgICAgICBuYW1lOiAnemVwdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b2N0bzoge1xuICAgICAgICBuYW1lOiAneW9jdG8nLFxuICAgICAgICB2YWx1ZTogMWUtMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIFNRVUFSRUQ6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGRhOiB7XG4gICAgICAgIG5hbWU6ICdkYScsXG4gICAgICAgIHZhbHVlOiAxZTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaDoge1xuICAgICAgICBuYW1lOiAnaCcsXG4gICAgICAgIHZhbHVlOiAxZTQsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgazoge1xuICAgICAgICBuYW1lOiAnaycsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNOiB7XG4gICAgICAgIG5hbWU6ICdNJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlMTgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUOiB7XG4gICAgICAgIG5hbWU6ICdUJyxcbiAgICAgICAgdmFsdWU6IDFlMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQOiB7XG4gICAgICAgIG5hbWU6ICdQJyxcbiAgICAgICAgdmFsdWU6IDFlMzAsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFOiB7XG4gICAgICAgIG5hbWU6ICdFJyxcbiAgICAgICAgdmFsdWU6IDFlMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaOiB7XG4gICAgICAgIG5hbWU6ICdaJyxcbiAgICAgICAgdmFsdWU6IDFlNDIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZOiB7XG4gICAgICAgIG5hbWU6ICdZJyxcbiAgICAgICAgdmFsdWU6IDFlNDgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkOiB7XG4gICAgICAgIG5hbWU6ICdkJyxcbiAgICAgICAgdmFsdWU6IDFlLTIsXG4gICAgICAgIHNjaWVudGlmaWM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgYzoge1xuICAgICAgICBuYW1lOiAnYycsXG4gICAgICAgIHZhbHVlOiAxZS00LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG06IHtcbiAgICAgICAgbmFtZTogJ20nLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHU6IHtcbiAgICAgICAgbmFtZTogJ3UnLFxuICAgICAgICB2YWx1ZTogMWUtMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBuOiB7XG4gICAgICAgIG5hbWU6ICduJyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgcDoge1xuICAgICAgICBuYW1lOiAncCcsXG4gICAgICAgIHZhbHVlOiAxZS0yNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGY6IHtcbiAgICAgICAgbmFtZTogJ2YnLFxuICAgICAgICB2YWx1ZTogMWUtMzAsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIG5hbWU6ICdhJyxcbiAgICAgICAgdmFsdWU6IDFlLTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgejoge1xuICAgICAgICBuYW1lOiAneicsXG4gICAgICAgIHZhbHVlOiAxZS00MixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgbmFtZTogJ3knLFxuICAgICAgICB2YWx1ZTogMWUtNDgsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIENVQklDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBkYToge1xuICAgICAgICBuYW1lOiAnZGEnLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGg6IHtcbiAgICAgICAgbmFtZTogJ2gnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWU5LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRzoge1xuICAgICAgICBuYW1lOiAnRycsXG4gICAgICAgIHZhbHVlOiAxZTI3LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgVDoge1xuICAgICAgICBuYW1lOiAnVCcsXG4gICAgICAgIHZhbHVlOiAxZTM2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgUDoge1xuICAgICAgICBuYW1lOiAnUCcsXG4gICAgICAgIHZhbHVlOiAxZTQ1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgRToge1xuICAgICAgICBuYW1lOiAnRScsXG4gICAgICAgIHZhbHVlOiAxZTU0LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWjoge1xuICAgICAgICBuYW1lOiAnWicsXG4gICAgICAgIHZhbHVlOiAxZTYzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgWToge1xuICAgICAgICBuYW1lOiAnWScsXG4gICAgICAgIHZhbHVlOiAxZTcyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZDoge1xuICAgICAgICBuYW1lOiAnZCcsXG4gICAgICAgIHZhbHVlOiAxZS0zLFxuICAgICAgICBzY2llbnRpZmljOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGM6IHtcbiAgICAgICAgbmFtZTogJ2MnLFxuICAgICAgICB2YWx1ZTogMWUtNixcbiAgICAgICAgc2NpZW50aWZpYzogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtOiB7XG4gICAgICAgIG5hbWU6ICdtJyxcbiAgICAgICAgdmFsdWU6IDFlLTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB1OiB7XG4gICAgICAgIG5hbWU6ICd1JyxcbiAgICAgICAgdmFsdWU6IDFlLTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgbjoge1xuICAgICAgICBuYW1lOiAnbicsXG4gICAgICAgIHZhbHVlOiAxZS0yNyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHA6IHtcbiAgICAgICAgbmFtZTogJ3AnLFxuICAgICAgICB2YWx1ZTogMWUtMzYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBmOiB7XG4gICAgICAgIG5hbWU6ICdmJyxcbiAgICAgICAgdmFsdWU6IDFlLTQ1LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBuYW1lOiAnYScsXG4gICAgICAgIHZhbHVlOiAxZS01NCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHo6IHtcbiAgICAgICAgbmFtZTogJ3onLFxuICAgICAgICB2YWx1ZTogMWUtNjMsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIG5hbWU6ICd5JyxcbiAgICAgICAgdmFsdWU6IDFlLTcyLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBCSU5BUllfU0hPUlRfU0k6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGs6IHtcbiAgICAgICAgbmFtZTogJ2snLFxuICAgICAgICB2YWx1ZTogMWUzLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgTToge1xuICAgICAgICBuYW1lOiAnTScsXG4gICAgICAgIHZhbHVlOiAxZTYsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHOiB7XG4gICAgICAgIG5hbWU6ICdHJyxcbiAgICAgICAgdmFsdWU6IDFlOSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFQ6IHtcbiAgICAgICAgbmFtZTogJ1QnLFxuICAgICAgICB2YWx1ZTogMWUxMixcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFA6IHtcbiAgICAgICAgbmFtZTogJ1AnLFxuICAgICAgICB2YWx1ZTogMWUxNSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIEU6IHtcbiAgICAgICAgbmFtZTogJ0UnLFxuICAgICAgICB2YWx1ZTogMWUxOCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFo6IHtcbiAgICAgICAgbmFtZTogJ1onLFxuICAgICAgICB2YWx1ZTogMWUyMSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFk6IHtcbiAgICAgICAgbmFtZTogJ1knLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX1NIT1JUX0lFQzoge1xuICAgICAgJyc6IHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgS2k6IHtcbiAgICAgICAgbmFtZTogJ0tpJyxcbiAgICAgICAgdmFsdWU6IDEwMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNaToge1xuICAgICAgICBuYW1lOiAnTWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBHaToge1xuICAgICAgICBuYW1lOiAnR2knLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgMyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBUaToge1xuICAgICAgICBuYW1lOiAnVGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBQaToge1xuICAgICAgICBuYW1lOiAnUGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNSksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBFaToge1xuICAgICAgICBuYW1lOiAnRWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBaaToge1xuICAgICAgICBuYW1lOiAnWmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNyksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBZaToge1xuICAgICAgICBuYW1lOiAnWWknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgOCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH1cbiAgICB9LFxuICAgIEJJTkFSWV9MT05HX1NJOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBraWxvOiB7XG4gICAgICAgIG5hbWU6ICdraWxvJyxcbiAgICAgICAgdmFsdWU6IDFlMyxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1lZ2E6IHtcbiAgICAgICAgbmFtZTogJ21lZ2EnLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2lnYToge1xuICAgICAgICBuYW1lOiAnZ2lnYScsXG4gICAgICAgIHZhbHVlOiAxZTksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB0ZXJhOiB7XG4gICAgICAgIG5hbWU6ICd0ZXJhJyxcbiAgICAgICAgdmFsdWU6IDFlMTIsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZXRhOiB7XG4gICAgICAgIG5hbWU6ICdwZXRhJyxcbiAgICAgICAgdmFsdWU6IDFlMTUsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBleGE6IHtcbiAgICAgICAgbmFtZTogJ2V4YScsXG4gICAgICAgIHZhbHVlOiAxZTE4LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgemV0dGE6IHtcbiAgICAgICAgbmFtZTogJ3pldHRhJyxcbiAgICAgICAgdmFsdWU6IDFlMjEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB5b3R0YToge1xuICAgICAgICBuYW1lOiAneW90dGEnLFxuICAgICAgICB2YWx1ZTogMWUyNCxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQklOQVJZX0xPTkdfSUVDOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBraWJpOiB7XG4gICAgICAgIG5hbWU6ICdraWJpJyxcbiAgICAgICAgdmFsdWU6IDEwMjQsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBtZWJpOiB7XG4gICAgICAgIG5hbWU6ICdtZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDIpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZ2liaToge1xuICAgICAgICBuYW1lOiAnZ2liaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCAzKSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHRlYmk6IHtcbiAgICAgICAgbmFtZTogJ3RlYmknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNCksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBwZWJpOiB7XG4gICAgICAgIG5hbWU6ICdwZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDUpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXhpOiB7XG4gICAgICAgIG5hbWU6ICdleGknLFxuICAgICAgICB2YWx1ZTogTWF0aC5wb3coMTAyNCwgNiksXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICB6ZWJpOiB7XG4gICAgICAgIG5hbWU6ICd6ZWJpJyxcbiAgICAgICAgdmFsdWU6IE1hdGgucG93KDEwMjQsIDcpLFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9LFxuICAgICAgeW9iaToge1xuICAgICAgICBuYW1lOiAneW9iaScsXG4gICAgICAgIHZhbHVlOiBNYXRoLnBvdygxMDI0LCA4KSxcbiAgICAgICAgc2NpZW50aWZpYzogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgQlRVOiB7XG4gICAgICAnJzoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHNjaWVudGlmaWM6IHRydWVcbiAgICAgIH0sXG4gICAgICBNTToge1xuICAgICAgICBuYW1lOiAnTU0nLFxuICAgICAgICB2YWx1ZTogMWU2LFxuICAgICAgICBzY2llbnRpZmljOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBQUkVGSVhFUy5TSE9SVExPTkcgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuU0hPUlQsIFBSRUZJWEVTLkxPTkcpO1xuICBQUkVGSVhFUy5CSU5BUllfU0hPUlQgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuQklOQVJZX1NIT1JUX1NJLCBQUkVGSVhFUy5CSU5BUllfU0hPUlRfSUVDKTtcbiAgUFJFRklYRVMuQklOQVJZX0xPTkcgPSBfZXh0ZW5kcyh7fSwgUFJFRklYRVMuQklOQVJZX0xPTkdfU0ksIFBSRUZJWEVTLkJJTkFSWV9MT05HX0lFQyk7XG4gIC8qIEludGVybmFsbHksIGVhY2ggdW5pdCBpcyByZXByZXNlbnRlZCBieSBhIHZhbHVlIGFuZCBhIGRpbWVuc2lvbiBhcnJheS4gVGhlIGVsZW1lbnRzIG9mIHRoZSBkaW1lbnNpb25zIGFycmF5IGhhdmUgdGhlIGZvbGxvd2luZyBtZWFuaW5nOlxuICAgKiBJbmRleCAgRGltZW5zaW9uXG4gICAqIC0tLS0tICAtLS0tLS0tLS1cbiAgICogICAwICAgIExlbmd0aFxuICAgKiAgIDEgICAgTWFzc1xuICAgKiAgIDIgICAgVGltZVxuICAgKiAgIDMgICAgQ3VycmVudFxuICAgKiAgIDQgICAgVGVtcGVyYXR1cmVcbiAgICogICA1ICAgIEx1bWlub3VzIGludGVuc2l0eVxuICAgKiAgIDYgICAgQW1vdW50IG9mIHN1YnN0YW5jZVxuICAgKiAgIDcgICAgQW5nbGVcbiAgICogICA4ICAgIEJpdCAoZGlnaXRhbClcbiAgICogRm9yIGV4YW1wbGUsIHRoZSB1bml0IFwiMjk4LjE1IEtcIiBpcyBhIHB1cmUgdGVtcGVyYXR1cmUgYW5kIHdvdWxkIGhhdmUgYSB2YWx1ZSBvZiAyOTguMTUgYW5kIGEgZGltZW5zaW9uIGFycmF5IG9mIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwXS4gVGhlIHVuaXQgXCIxIGNhbCAvIChnbSDCsEMpXCIgY2FuIGJlIHdyaXR0ZW4gaW4gdGVybXMgb2YgdGhlIDkgZnVuZGFtZW50YWwgZGltZW5zaW9ucyBhcyBbbGVuZ3RoXjJdIC8gKFt0aW1lXjJdICogW3RlbXBlcmF0dXJlXSksIGFuZCB3b3VsZCBhIHZhbHVlIG9mIChhZnRlciBjb252ZXJzaW9uIHRvIFNJKSA0MTg0LjAgYW5kIGEgZGltZW5zaW9ucyBhcnJheSBvZiBbMiwgMCwgLTIsIDAsIC0xLCAwLCAwLCAwLCAwXS5cbiAgICpcbiAgICovXG5cbiAgdmFyIEJBU0VfRElNRU5TSU9OUyA9IFsnTUFTUycsICdMRU5HVEgnLCAnVElNRScsICdDVVJSRU5UJywgJ1RFTVBFUkFUVVJFJywgJ0xVTUlOT1VTX0lOVEVOU0lUWScsICdBTU9VTlRfT0ZfU1VCU1RBTkNFJywgJ0FOR0xFJywgJ0JJVCddO1xuICB2YXIgQkFTRV9VTklUUyA9IHtcbiAgICBOT05FOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BU1M6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTEVOR1RIOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIFRJTUU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQ1VSUkVOVDoge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBURU1QRVJBVFVSRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBMVU1JTk9VU19JTlRFTlNJVFk6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQU1PVU5UX09GX1NVQlNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDBdXG4gICAgfSxcbiAgICBGT1JDRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDEsIC0yLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgU1VSRkFDRToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDIsIDAsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBWT0xVTUU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAzLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRU5FUkdZOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBQT1dFUjoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0zLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgUFJFU1NVUkU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAtMSwgLTIsIDAsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19DSEFSR0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAxLCAxLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfQ0FQQUNJVEFOQ0U6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFstMSwgLTIsIDQsIDIsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19QT1RFTlRJQUw6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFsxLCAyLCAtMywgLTEsIDAsIDAsIDAsIDAsIDBdXG4gICAgfSxcbiAgICBFTEVDVFJJQ19SRVNJU1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMSwgMiwgLTMsIC0yLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgRUxFQ1RSSUNfSU5EVUNUQU5DRToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAtMiwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEVMRUNUUklDX0NPTkRVQ1RBTkNFOiB7XG4gICAgICBkaW1lbnNpb25zOiBbLTEsIC0yLCAzLCAyLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgTUFHTkVUSUNfRkxVWDoge1xuICAgICAgZGltZW5zaW9uczogWzEsIDIsIC0yLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIE1BR05FVElDX0ZMVVhfREVOU0lUWToge1xuICAgICAgZGltZW5zaW9uczogWzEsIDAsIC0yLCAtMSwgMCwgMCwgMCwgMCwgMF1cbiAgICB9LFxuICAgIEZSRVFVRU5DWToge1xuICAgICAgZGltZW5zaW9uczogWzAsIDAsIC0xLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0sXG4gICAgQU5HTEU6IHtcbiAgICAgIGRpbWVuc2lvbnM6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgIH0sXG4gICAgQklUOiB7XG4gICAgICBkaW1lbnNpb25zOiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMV1cbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIEJBU0VfVU5JVFMpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywga2V5KSkge1xuICAgICAgQkFTRV9VTklUU1trZXldLmtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICB2YXIgQkFTRV9VTklUX05PTkUgPSB7fTtcbiAgdmFyIFVOSVRfTk9ORSA9IHtcbiAgICBuYW1lOiAnJyxcbiAgICBiYXNlOiBCQVNFX1VOSVRfTk9ORSxcbiAgICB2YWx1ZTogMSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgZGltZW5zaW9uczogQkFTRV9ESU1FTlNJT05TLm1hcCh4ID0+IDApXG4gIH07XG4gIHZhciBVTklUUyA9IHtcbiAgICAvLyBsZW5ndGhcbiAgICBtZXRlcjoge1xuICAgICAgbmFtZTogJ21ldGVyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgaW5jaDoge1xuICAgICAgbmFtZTogJ2luY2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAyNTQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGZvb3Q6IHtcbiAgICAgIG5hbWU6ICdmb290JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4zMDQ4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5YXJkOiB7XG4gICAgICBuYW1lOiAneWFyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuOTE0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsZToge1xuICAgICAgbmFtZTogJ21pbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxNjA5LjM0NCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgbmFtZTogJ2xpbmsnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIwMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcm9kOiB7XG4gICAgICBuYW1lOiAncm9kJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNS4wMjkyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjaGFpbjoge1xuICAgICAgbmFtZTogJ2NoYWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjAuMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYW5nc3Ryb206IHtcbiAgICAgIG5hbWU6ICdhbmdzdHJvbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtOiB7XG4gICAgICBuYW1lOiAnbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBpbjoge1xuICAgICAgbmFtZTogJ2luJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBmdDoge1xuICAgICAgbmFtZTogJ2Z0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4zMDQ4LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB5ZDoge1xuICAgICAgbmFtZTogJ3lkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC45MTQ0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaToge1xuICAgICAgbmFtZTogJ21pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTYwOS4zNDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGxpOiB7XG4gICAgICBuYW1lOiAnbGknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5MRU5HVEgsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjIwMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcmQ6IHtcbiAgICAgIG5hbWU6ICdyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkxFTkdUSCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDUuMDI5MjEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjaDoge1xuICAgICAgbmFtZTogJ2NoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjAuMTE2OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWlsOiB7XG4gICAgICBuYW1lOiAnbWlsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTEVOR1RILFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMjU0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAxLzEwMDAgaW5jaFxuICAgIC8vIFN1cmZhY2VcbiAgICBtMjoge1xuICAgICAgbmFtZTogJ20yJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TUVVBUkVELFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNxaW46IHtcbiAgICAgIG5hbWU6ICdzcWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNjQ1MTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDY0NS4xNiBtbTJcbiAgICBzcWZ0OiB7XG4gICAgICBuYW1lOiAnc3FmdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjA5MjkwMzA0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA5MjkwMzA0IG0yXG4gICAgc3F5ZDoge1xuICAgICAgbmFtZTogJ3NxeWQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5TVVJGQUNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC44MzYxMjczNixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC44MzYxMjczNiBtMlxuICAgIHNxbWk6IHtcbiAgICAgIG5hbWU6ICdzcW1pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI1ODk5ODguMTEwMzM2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyLjU4OTk4ODExMDMzNiBrbTJcbiAgICBzcXJkOiB7XG4gICAgICBuYW1lOiAnc3FyZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNS4yOTI5NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjUuMjkyOTUgbTJcbiAgICBzcWNoOiB7XG4gICAgICBuYW1lOiAnc3FjaCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0MDQuNjg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDA0LjY4NzMgbTJcbiAgICBzcW1pbDoge1xuICAgICAgbmFtZTogJ3NxbWlsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYuNDUxNmUtMTAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDYuNDUxNiAqIDEwXi0xMCBtMlxuICAgIGFjcmU6IHtcbiAgICAgIG5hbWU6ICdhY3JlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuU1VSRkFDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQwNDYuODYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQwNDYuODYgbTJcbiAgICBoZWN0YXJlOiB7XG4gICAgICBuYW1lOiAnaGVjdGFyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlNVUkZBQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMDAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTAwMDAgbTJcbiAgICAvLyBWb2x1bWVcbiAgICBtMzoge1xuICAgICAgbmFtZTogJ20zJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkNVQklDLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEw6IHtcbiAgICAgIG5hbWU6ICdMJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsaXRyZVxuICAgIGw6IHtcbiAgICAgIG5hbWU6ICdsJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsaXRyZVxuICAgIGxpdHJlOiB7XG4gICAgICBuYW1lOiAnbGl0cmUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY3Vpbjoge1xuICAgICAgbmFtZTogJ2N1aW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjYzODcwNjRlLTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDEuNjM4NzA2NGUtNSBtM1xuICAgIGN1ZnQ6IHtcbiAgICAgIG5hbWU6ICdjdWZ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMjgzMTY4NDY1OTIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI4LjMxNiA4NDYgNTkyIExcbiAgICBjdXlkOiB7XG4gICAgICBuYW1lOiAnY3V5ZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuNzY0NTU0ODU3OTg0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA3NjQuNTU0IDg1NyA5ODQgTFxuICAgIHRlYXNwb29uOiB7XG4gICAgICBuYW1lOiAndGVhc3Bvb24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDAwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNSBtTFxuICAgIHRhYmxlc3Bvb246IHtcbiAgICAgIG5hbWU6ICd0YWJsZXNwb29uJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMTUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1IG1MXG4gICAgLy8ge25hbWU6ICdjdXAnLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjAwMDI0MCwgb2Zmc2V0OiAwfSwgLy8gMjQwIG1MICAvLyBub3QgcG9zc2libGUsIHdlIGhhdmUgYWxyZWFkeSBhbm90aGVyIGN1cFxuICAgIGRyb3A6IHtcbiAgICAgIG5hbWU6ICdkcm9wJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNWUtOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNSBtTCA9IDVlLTggbTNcbiAgICBndHQ6IHtcbiAgICAgIG5hbWU6ICdndHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA1ZS04LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAwLjA1IG1MID0gNWUtOCBtM1xuICAgIC8vIExpcXVpZCB2b2x1bWVcbiAgICBtaW5pbToge1xuICAgICAgbmFtZTogJ21pbmltJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAwMDAwNjE2MTE1MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMC4wNjE2MTE1MiBtTFxuICAgIGZsdWlkZHJhbToge1xuICAgICAgbmFtZTogJ2ZsdWlkZHJhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAzNjk2NjkxMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy42OTY2OTEgbUxcbiAgICBmbHVpZG91bmNlOiB7XG4gICAgICBuYW1lOiAnZmx1aWRvdW5jZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI5NTczNTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI5LjU3MzUzIG1MXG4gICAgZ2lsbDoge1xuICAgICAgbmFtZTogJ2dpbGwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDExODI5NDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExOC4yOTQxIG1MXG4gICAgY2M6IHtcbiAgICAgIG5hbWU6ICdjYycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDFlLTYgTFxuICAgIGN1cDoge1xuICAgICAgbmFtZTogJ2N1cCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMjM2NTg4MixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMjM2LjU4ODIgbUxcbiAgICBwaW50OiB7XG4gICAgICBuYW1lOiAncGludCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwNDczMTc2NSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gNDczLjE3NjUgbUxcbiAgICBxdWFydDoge1xuICAgICAgbmFtZTogJ3F1YXJ0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDA5NDYzNTI5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyA5NDYuMzUyOSBtTFxuICAgIGdhbGxvbjoge1xuICAgICAgbmFtZTogJ2dhbGxvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAzNzg1NDEyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAzLjc4NTQxMiBMXG4gICAgYmVlcmJhcnJlbDoge1xuICAgICAgbmFtZTogJ2JlZXJiYXJyZWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjExNzM0NzgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDExNy4zNDc4IExcbiAgICBvaWxiYXJyZWw6IHtcbiAgICAgIG5hbWU6ICdvaWxiYXJyZWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjE1ODk4NzMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDE1OC45ODczIExcbiAgICBob2dzaGVhZDoge1xuICAgICAgbmFtZTogJ2hvZ3NoZWFkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4yMzg0ODEwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzguNDgxMCBMXG4gICAgLy8ge25hbWU6ICdtaW4nLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjAwMDAwMDA2MTYxMTUyLCBvZmZzZXQ6IDB9LCAvLyAwLjA2MTYxMTUyIG1MIC8vIG1pbiBpcyBhbHJlYWR5IGluIHVzZSBhcyBtaW51dGVcbiAgICBmbGRyOiB7XG4gICAgICBuYW1lOiAnZmxkcicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDAzNjk2NjkxMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy42OTY2OTEgbUxcbiAgICBmbG96OiB7XG4gICAgICBuYW1lOiAnZmxveicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMDI5NTczNTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDI5LjU3MzUzIG1MXG4gICAgZ2k6IHtcbiAgICAgIG5hbWU6ICdnaScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwMTE4Mjk0MSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE4LjI5NDEgbUxcbiAgICBjcDoge1xuICAgICAgbmFtZTogJ2NwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVk9MVU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMC4wMDAyMzY1ODgyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyAyMzYuNTg4MiBtTFxuICAgIHB0OiB7XG4gICAgICBuYW1lOiAncHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMDQ3MzE3NjUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIDQ3My4xNzY1IG1MXG4gICAgcXQ6IHtcbiAgICAgIG5hbWU6ICdxdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMDAwOTQ2MzUyOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gOTQ2LjM1MjkgbUxcbiAgICBnYWw6IHtcbiAgICAgIG5hbWU6ICdnYWwnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5WT0xVTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAwLjAwMzc4NTQxMixcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMy43ODU0MTIgTFxuICAgIGJibDoge1xuICAgICAgbmFtZTogJ2JibCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTE3MzQ3OCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTE3LjM0NzggTFxuICAgIG9ibDoge1xuICAgICAgbmFtZTogJ29ibCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDAuMTU4OTg3MyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gMTU4Ljk4NzMgTFxuICAgIC8vIHtuYW1lOiAnaG9nc2hlYWQnLCBiYXNlOiBCQVNFX1VOSVRTLlZPTFVNRSwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAwLjIzODQ4MTAsIG9mZnNldDogMH0sIC8vIDIzOC40ODEwIEwgLy8gVE9ETzogaGg/XG4gICAgLy8gTWFzc1xuICAgIGc6IHtcbiAgICAgIG5hbWU6ICdnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAwLjAwMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZ3JhbToge1xuICAgICAgbmFtZTogJ2dyYW0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMC4wMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHRvbjoge1xuICAgICAgbmFtZTogJ3RvbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogOTA3LjE4NDc0LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICB0OiB7XG4gICAgICBuYW1lOiAndCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMTAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9ubmU6IHtcbiAgICAgIG5hbWU6ICd0b25uZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxMDAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBncmFpbjoge1xuICAgICAgbmFtZTogJ2dyYWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDY0Ljc5ODkxZS02LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkcmFtOiB7XG4gICAgICBuYW1lOiAnZHJhbScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLjc3MTg0NTE5NTMxMjVlLTMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG91bmNlOiB7XG4gICAgICBuYW1lOiAnb3VuY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMjguMzQ5NTIzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBwb3VuZG1hc3M6IHtcbiAgICAgIG5hbWU6ICdwb3VuZG1hc3MnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNDUzLjU5MjM3ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBodW5kcmVkd2VpZ2h0OiB7XG4gICAgICBuYW1lOiAnaHVuZHJlZHdlaWdodCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BU1MsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA0NS4zNTkyMzcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHN0aWNrOiB7XG4gICAgICBuYW1lOiAnc3RpY2snLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMTE1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzdG9uZToge1xuICAgICAgbmFtZTogJ3N0b25lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYuMzUwMjkzMTgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyOiB7XG4gICAgICBuYW1lOiAnZ3InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjQuNzk4OTFlLTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRyOiB7XG4gICAgICBuYW1lOiAnZHInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQVNTLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMS43NzE4NDUxOTUzMTI1ZS0zLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBvejoge1xuICAgICAgbmFtZTogJ296JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDI4LjM0OTUyMzEyNWUtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbGJtOiB7XG4gICAgICBuYW1lOiAnbGJtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1My41OTIzN2UtMyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY3d0OiB7XG4gICAgICBuYW1lOiAnY3d0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFTUyxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQ1LjM1OTIzNyxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVGltZVxuICAgIHM6IHtcbiAgICAgIG5hbWU6ICdzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtaW46IHtcbiAgICAgIG5hbWU6ICdtaW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogNjAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGg6IHtcbiAgICAgIG5hbWU6ICdoJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDM2MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHNlY29uZDoge1xuICAgICAgbmFtZTogJ3NlY29uZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBzZWM6IHtcbiAgICAgIG5hbWU6ICdzZWMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbWludXRlOiB7XG4gICAgICBuYW1lOiAnbWludXRlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDYwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBob3VyOiB7XG4gICAgICBuYW1lOiAnaG91cicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAzNjAwLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkYXk6IHtcbiAgICAgIG5hbWU6ICdkYXknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogODY0MDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHdlZWs6IHtcbiAgICAgIG5hbWU6ICd3ZWVrJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDcgKiA4NjQwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgbW9udGg6IHtcbiAgICAgIG5hbWU6ICdtb250aCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLlRJTUUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAyNjI5ODAwLFxuICAgICAgLy8gMS8xMnRoIG9mIEp1bGlhbiB5ZWFyXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHllYXI6IHtcbiAgICAgIG5hbWU6ICd5ZWFyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwLFxuICAgICAgLy8gSnVsaWFuIHllYXJcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZGVjYWRlOiB7XG4gICAgICBuYW1lOiAnZGVjYWRlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMCxcbiAgICAgIC8vIEp1bGlhbiBkZWNhZGVcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgY2VudHVyeToge1xuICAgICAgbmFtZTogJ2NlbnR1cnknLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5USU1FLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsXG4gICAgICB2YWx1ZTogMzE1NTc2MDAwMCxcbiAgICAgIC8vIEp1bGlhbiBjZW50dXJ5XG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1pbGxlbm5pdW06IHtcbiAgICAgIG5hbWU6ICdtaWxsZW5uaXVtJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVElNRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDMxNTU3NjAwMDAwLFxuICAgICAgLy8gSnVsaWFuIG1pbGxlbm5pdW1cbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gRnJlcXVlbmN5XG4gICAgaGVydHo6IHtcbiAgICAgIG5hbWU6ICdIZXJ0eicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZSRVFVRU5DWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICByZWNpcHJvY2FsOiB0cnVlXG4gICAgfSxcbiAgICBIejoge1xuICAgICAgbmFtZTogJ0h6JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRlJFUVVFTkNZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICByZWNpcHJvY2FsOiB0cnVlXG4gICAgfSxcbiAgICAvLyBBbmdsZVxuICAgIHJhZDoge1xuICAgICAgbmFtZTogJ3JhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIHJhZGlhbjoge1xuICAgICAgbmFtZTogJ3JhZGlhbicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gZGVnID0gcmFkIC8gKDIqcGkpICogMzYwID0gcmFkIC8gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NjkyMzY5MDc2ODQ4ODhcbiAgICBkZWc6IHtcbiAgICAgIG5hbWU6ICdkZWcnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBkZWdyZWU6IHtcbiAgICAgIG5hbWU6ICdkZWdyZWUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGdyYWQgPSByYWQgLyAoMipwaSkgKiA0MDAgID0gcmFkIC8gMC4wMTU3MDc5NjMyNjc5NDg5NjYxOTIzMTMyMTY5MTYzOTlcbiAgICBncmFkOiB7XG4gICAgICBuYW1lOiAnZ3JhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFOR0xFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGdyYWRpYW46IHtcbiAgICAgIG5hbWU6ICdncmFkaWFuJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBjeWNsZSA9IHJhZCAvICgyKnBpKSA9IHJhZCAvIDYuMjgzMTg1MzA3MTc5NTg2NDc2OTI1Mjg2NzY2NTc5M1xuICAgIGN5Y2xlOiB7XG4gICAgICBuYW1lOiAnY3ljbGUnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5BTkdMRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAvLyB3aWxsIGJlIGZpbGxlZCBpbiBieSBjYWxjdWxhdGVBbmdsZVZhbHVlcygpXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIGFyY3NlYyA9IHJhZCAvICgzNjAwICogKDM2MCAvIDIgKiBwaSkpID0gcmFkIC8gMC4wMDAwMDQ4NDgxMzY4MTEwOTUzNTk5MzU4OTkxNDEwMjM1Nzk1XG4gICAgYXJjc2VjOiB7XG4gICAgICBuYW1lOiAnYXJjc2VjJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhcmNtaW4gPSByYWQgLyAoNjAgKiAoMzYwIC8gMiAqIHBpKSkgPSByYWQgLyAwLjAwMDI5MDg4ODIwODY2NTcyMTU5NjE1Mzk0ODQ2MTQxNDc3XG4gICAgYXJjbWluOiB7XG4gICAgICBuYW1lOiAnYXJjbWluJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU5HTEUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgaW4gYnkgY2FsY3VsYXRlQW5nbGVWYWx1ZXMoKVxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjdXJyZW50XG4gICAgQToge1xuICAgICAgbmFtZTogJ0EnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5DVVJSRU5ULFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGFtcGVyZToge1xuICAgICAgbmFtZTogJ2FtcGVyZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkNVUlJFTlQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBUZW1wZXJhdHVyZVxuICAgIC8vIEsoQykgPSDCsEMgKyAyNzMuMTVcbiAgICAvLyBLKEYpID0gKMKwRiArIDQ1OS42NykgLyAxLjhcbiAgICAvLyBLKFIpID0gwrBSIC8gMS44XG4gICAgSzoge1xuICAgICAgbmFtZTogJ0snLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGRlZ0M6IHtcbiAgICAgIG5hbWU6ICdkZWdDJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAyNzMuMTVcbiAgICB9LFxuICAgIGRlZ0Y6IHtcbiAgICAgIG5hbWU6ICdkZWdGJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiA0NTkuNjdcbiAgICB9LFxuICAgIGRlZ1I6IHtcbiAgICAgIG5hbWU6ICdkZWdSJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBrZWx2aW46IHtcbiAgICAgIG5hbWU6ICdrZWx2aW4nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5URU1QRVJBVFVSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNlbHNpdXM6IHtcbiAgICAgIG5hbWU6ICdjZWxzaXVzJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAyNzMuMTVcbiAgICB9LFxuICAgIGZhaHJlbmhlaXQ6IHtcbiAgICAgIG5hbWU6ICdmYWhyZW5oZWl0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiA0NTkuNjdcbiAgICB9LFxuICAgIHJhbmtpbmU6IHtcbiAgICAgIG5hbWU6ICdyYW5raW5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuVEVNUEVSQVRVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxIC8gMS44LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBhbW91bnQgb2Ygc3Vic3RhbmNlXG4gICAgbW9sOiB7XG4gICAgICBuYW1lOiAnbW9sJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuQU1PVU5UX09GX1NVQlNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtb2xlOiB7XG4gICAgICBuYW1lOiAnbW9sZScsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkFNT1VOVF9PRl9TVUJTVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBsdW1pbm91cyBpbnRlbnNpdHlcbiAgICBjZDoge1xuICAgICAgbmFtZTogJ2NkJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTFVNSU5PVVNfSU5URU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGNhbmRlbGE6IHtcbiAgICAgIG5hbWU6ICdjYW5kZWxhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTFVNSU5PVVNfSU5URU5TSVRZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gVE9ETzogdW5pdHMgU1RFUkFESUFOXG4gICAgLy8ge25hbWU6ICdzcicsIGJhc2U6IEJBU0VfVU5JVFMuU1RFUkFESUFOLCBwcmVmaXhlczogUFJFRklYRVMuTk9ORSwgdmFsdWU6IDEsIG9mZnNldDogMH0sXG4gICAgLy8ge25hbWU6ICdzdGVyYWRpYW4nLCBiYXNlOiBCQVNFX1VOSVRTLlNURVJBRElBTiwgcHJlZml4ZXM6IFBSRUZJWEVTLk5PTkUsIHZhbHVlOiAxLCBvZmZzZXQ6IDB9LFxuICAgIC8vIEZvcmNlXG4gICAgTjoge1xuICAgICAgbmFtZTogJ04nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBuZXd0b246IHtcbiAgICAgIG5hbWU6ICduZXd0b24nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGR5bjoge1xuICAgICAgbmFtZTogJ2R5bicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkZPUkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDAuMDAwMDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGR5bmU6IHtcbiAgICAgIG5hbWU6ICdkeW5lJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAwLjAwMDAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBsYmY6IHtcbiAgICAgIG5hbWU6ICdsYmYnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQuNDQ4MjIxNjE1MjYwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcG91bmRmb3JjZToge1xuICAgICAgbmFtZTogJ3BvdW5kZm9yY2UnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5GT1JDRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDQuNDQ4MjIxNjE1MjYwNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAga2lwOiB7XG4gICAgICBuYW1lOiAna2lwJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiA0NDQ4LjIyMTYsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGtpbG9ncmFtZm9yY2U6IHtcbiAgICAgIG5hbWU6ICdraWxvZ3JhbWZvcmNlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRk9SQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5LjgwNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbmVyZ3lcbiAgICBKOiB7XG4gICAgICBuYW1lOiAnSicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBqb3VsZToge1xuICAgICAgbmFtZTogJ2pvdWxlJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGVyZzoge1xuICAgICAgbmFtZTogJ2VyZycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVORVJHWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDFlLTcsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFdoOiB7XG4gICAgICBuYW1lOiAnV2gnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTkVSR1ksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMzYwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQlRVOiB7XG4gICAgICBuYW1lOiAnQlRVJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkJUVSxcbiAgICAgIHZhbHVlOiAxMDU1LjA1NTg1MjYyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBlVjoge1xuICAgICAgbmFtZTogJ2VWJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEuNjAyMTc2NTY1ZS0xOSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgZWxlY3Ryb252b2x0OiB7XG4gICAgICBuYW1lOiAnZWxlY3Ryb252b2x0JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRU5FUkdZLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMS42MDIxNzY1NjVlLTE5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBQb3dlclxuICAgIFc6IHtcbiAgICAgIG5hbWU6ICdXJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgd2F0dDoge1xuICAgICAgbmFtZTogJ3dhdHQnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGhwOiB7XG4gICAgICBuYW1lOiAnaHAnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QT1dFUixcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDc0NS42OTk4NzE1Mzg2LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpY2FsIHBvd2VyIHVuaXRzXG4gICAgVkFSOiB7XG4gICAgICBuYW1lOiAnVkFSJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogQ29tcGxleC5JLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBWQToge1xuICAgICAgbmFtZTogJ1ZBJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUE9XRVIsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgLy8gUHJlc3N1cmVcbiAgICBQYToge1xuICAgICAgbmFtZTogJ1BhJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgcHNpOiB7XG4gICAgICBuYW1lOiAncHNpJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA2ODk0Ljc1NzI5Mjc2NDU5LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBhdG06IHtcbiAgICAgIG5hbWU6ICdhdG0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEwMTMyNSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYmFyOiB7XG4gICAgICBuYW1lOiAnYmFyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuU0hPUlRMT05HLFxuICAgICAgdmFsdWU6IDEwMDAwMCxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgdG9ycjoge1xuICAgICAgbmFtZTogJ3RvcnInLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5QUkVTU1VSRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5OT05FLFxuICAgICAgdmFsdWU6IDEzMy4zMjIsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIG1tSGc6IHtcbiAgICAgIG5hbWU6ICdtbUhnJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiAxMzMuMzIyLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBtbUgyTzoge1xuICAgICAgbmFtZTogJ21tSDJPJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5LjgwNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBjbUgyTzoge1xuICAgICAgbmFtZTogJ2NtSDJPJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuUFJFU1NVUkUsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTk9ORSxcbiAgICAgIHZhbHVlOiA5OC4wNjY1LFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjaGFyZ2VcbiAgICBjb3Vsb21iOiB7XG4gICAgICBuYW1lOiAnY291bG9tYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NIQVJHRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEM6IHtcbiAgICAgIG5hbWU6ICdDJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ0hBUkdFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIGNhcGFjaXRhbmNlXG4gICAgZmFyYWQ6IHtcbiAgICAgIG5hbWU6ICdmYXJhZCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NBUEFDSVRBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLkxPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgRjoge1xuICAgICAgbmFtZTogJ0YnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19DQVBBQ0lUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBwb3RlbnRpYWxcbiAgICB2b2x0OiB7XG4gICAgICBuYW1lOiAndm9sdCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX1BPVEVOVElBTCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFY6IHtcbiAgICAgIG5hbWU6ICdWJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUE9URU5USUFMLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIEVsZWN0cmljIHJlc2lzdGFuY2VcbiAgICBvaG06IHtcbiAgICAgIG5hbWU6ICdvaG0nLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5FTEVDVFJJQ19SRVNJU1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JUTE9ORyxcbiAgICAgIC8vIEJvdGggTW9obSBhbmQgbWVnYW9obSBhcmUgYWNjZXB0YWJsZVxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBVbmljb2RlIGJyZWFrcyBpbiBicm93c2VycyBpZiBjaGFyc2V0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICDOqToge1xuICAgICAgbmFtZTogJ86pJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfUkVTSVNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAqL1xuICAgIC8vIEVsZWN0cmljIGluZHVjdGFuY2VcbiAgICBoZW5yeToge1xuICAgICAgbmFtZTogJ2hlbnJ5JyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfSU5EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIEg6IHtcbiAgICAgIG5hbWU6ICdIJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfSU5EVUNUQU5DRSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBFbGVjdHJpYyBjb25kdWN0YW5jZVxuICAgIHNpZW1lbnM6IHtcbiAgICAgIG5hbWU6ICdzaWVtZW5zJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuRUxFQ1RSSUNfQ09ORFVDVEFOQ0UsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBTOiB7XG4gICAgICBuYW1lOiAnUycsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkVMRUNUUklDX0NPTkRVQ1RBTkNFLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIE1hZ25ldGljIGZsdXhcbiAgICB3ZWJlcjoge1xuICAgICAgbmFtZTogJ3dlYmVyJyxcbiAgICAgIGJhc2U6IEJBU0VfVU5JVFMuTUFHTkVUSUNfRkxVWCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5MT05HLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIFdiOiB7XG4gICAgICBuYW1lOiAnV2InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYLFxuICAgICAgcHJlZml4ZXM6IFBSRUZJWEVTLlNIT1JULFxuICAgICAgdmFsdWU6IDEsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIC8vIE1hZ25ldGljIGZsdXggZGVuc2l0eVxuICAgIHRlc2xhOiB7XG4gICAgICBuYW1lOiAndGVzbGEnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5NQUdORVRJQ19GTFVYX0RFTlNJVFksXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuTE9ORyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICBUOiB7XG4gICAgICBuYW1lOiAnVCcsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLk1BR05FVElDX0ZMVVhfREVOU0lUWSxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5TSE9SVCxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfSxcbiAgICAvLyBCaW5hcnlcbiAgICBiOiB7XG4gICAgICBuYW1lOiAnYicsXG4gICAgICBiYXNlOiBCQVNFX1VOSVRTLkJJVCxcbiAgICAgIHByZWZpeGVzOiBQUkVGSVhFUy5CSU5BUllfU0hPUlQsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgYml0czoge1xuICAgICAgbmFtZTogJ2JpdHMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX0xPTkcsXG4gICAgICB2YWx1ZTogMSxcbiAgICAgIG9mZnNldDogMFxuICAgIH0sXG4gICAgQjoge1xuICAgICAgbmFtZTogJ0InLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX1NIT1JULFxuICAgICAgdmFsdWU6IDgsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9LFxuICAgIGJ5dGVzOiB7XG4gICAgICBuYW1lOiAnYnl0ZXMnLFxuICAgICAgYmFzZTogQkFTRV9VTklUUy5CSVQsXG4gICAgICBwcmVmaXhlczogUFJFRklYRVMuQklOQVJZX0xPTkcsXG4gICAgICB2YWx1ZTogOCxcbiAgICAgIG9mZnNldDogMFxuICAgIH1cbiAgfTsgLy8gYWxpYXNlcyAoZm9ybWVybHkgcGx1cmFscylcblxuICB2YXIgQUxJQVNFUyA9IHtcbiAgICBtZXRlcnM6ICdtZXRlcicsXG4gICAgaW5jaGVzOiAnaW5jaCcsXG4gICAgZmVldDogJ2Zvb3QnLFxuICAgIHlhcmRzOiAneWFyZCcsXG4gICAgbWlsZXM6ICdtaWxlJyxcbiAgICBsaW5rczogJ2xpbmsnLFxuICAgIHJvZHM6ICdyb2QnLFxuICAgIGNoYWluczogJ2NoYWluJyxcbiAgICBhbmdzdHJvbXM6ICdhbmdzdHJvbScsXG4gICAgbHQ6ICdsJyxcbiAgICBsaXRyZXM6ICdsaXRyZScsXG4gICAgbGl0ZXI6ICdsaXRyZScsXG4gICAgbGl0ZXJzOiAnbGl0cmUnLFxuICAgIHRlYXNwb29uczogJ3RlYXNwb29uJyxcbiAgICB0YWJsZXNwb29uczogJ3RhYmxlc3Bvb24nLFxuICAgIG1pbmltczogJ21pbmltJyxcbiAgICBmbHVpZGRyYW1zOiAnZmx1aWRkcmFtJyxcbiAgICBmbHVpZG91bmNlczogJ2ZsdWlkb3VuY2UnLFxuICAgIGdpbGxzOiAnZ2lsbCcsXG4gICAgY3VwczogJ2N1cCcsXG4gICAgcGludHM6ICdwaW50JyxcbiAgICBxdWFydHM6ICdxdWFydCcsXG4gICAgZ2FsbG9uczogJ2dhbGxvbicsXG4gICAgYmVlcmJhcnJlbHM6ICdiZWVyYmFycmVsJyxcbiAgICBvaWxiYXJyZWxzOiAnb2lsYmFycmVsJyxcbiAgICBob2dzaGVhZHM6ICdob2dzaGVhZCcsXG4gICAgZ3R0czogJ2d0dCcsXG4gICAgZ3JhbXM6ICdncmFtJyxcbiAgICB0b25zOiAndG9uJyxcbiAgICB0b25uZXM6ICd0b25uZScsXG4gICAgZ3JhaW5zOiAnZ3JhaW4nLFxuICAgIGRyYW1zOiAnZHJhbScsXG4gICAgb3VuY2VzOiAnb3VuY2UnLFxuICAgIHBvdW5kbWFzc2VzOiAncG91bmRtYXNzJyxcbiAgICBodW5kcmVkd2VpZ2h0czogJ2h1bmRyZWR3ZWlnaHQnLFxuICAgIHN0aWNrczogJ3N0aWNrJyxcbiAgICBsYjogJ2xibScsXG4gICAgbGJzOiAnbGJtJyxcbiAgICBraXBzOiAna2lwJyxcbiAgICBrZ2Y6ICdraWxvZ3JhbWZvcmNlJyxcbiAgICBhY3JlczogJ2FjcmUnLFxuICAgIGhlY3RhcmVzOiAnaGVjdGFyZScsXG4gICAgc3FmZWV0OiAnc3FmdCcsXG4gICAgc3F5YXJkOiAnc3F5ZCcsXG4gICAgc3FtaWxlOiAnc3FtaScsXG4gICAgc3FtaWxlczogJ3NxbWknLFxuICAgIG1taGc6ICdtbUhnJyxcbiAgICBtbWgybzogJ21tSDJPJyxcbiAgICBjbWgybzogJ2NtSDJPJyxcbiAgICBzZWNvbmRzOiAnc2Vjb25kJyxcbiAgICBzZWNzOiAnc2Vjb25kJyxcbiAgICBtaW51dGVzOiAnbWludXRlJyxcbiAgICBtaW5zOiAnbWludXRlJyxcbiAgICBob3VyczogJ2hvdXInLFxuICAgIGhyOiAnaG91cicsXG4gICAgaHJzOiAnaG91cicsXG4gICAgZGF5czogJ2RheScsXG4gICAgd2Vla3M6ICd3ZWVrJyxcbiAgICBtb250aHM6ICdtb250aCcsXG4gICAgeWVhcnM6ICd5ZWFyJyxcbiAgICBkZWNhZGVzOiAnZGVjYWRlJyxcbiAgICBjZW50dXJpZXM6ICdjZW50dXJ5JyxcbiAgICBtaWxsZW5uaWE6ICdtaWxsZW5uaXVtJyxcbiAgICBoZXJ0ejogJ2hlcnR6JyxcbiAgICByYWRpYW5zOiAncmFkaWFuJyxcbiAgICBkZWdyZWVzOiAnZGVncmVlJyxcbiAgICBncmFkaWFuczogJ2dyYWRpYW4nLFxuICAgIGN5Y2xlczogJ2N5Y2xlJyxcbiAgICBhcmNzZWNvbmQ6ICdhcmNzZWMnLFxuICAgIGFyY3NlY29uZHM6ICdhcmNzZWMnLFxuICAgIGFyY21pbnV0ZTogJ2FyY21pbicsXG4gICAgYXJjbWludXRlczogJ2FyY21pbicsXG4gICAgQlRVczogJ0JUVScsXG4gICAgd2F0dHM6ICd3YXR0JyxcbiAgICBqb3VsZXM6ICdqb3VsZScsXG4gICAgYW1wZXJlczogJ2FtcGVyZScsXG4gICAgY291bG9tYnM6ICdjb3Vsb21iJyxcbiAgICB2b2x0czogJ3ZvbHQnLFxuICAgIG9obXM6ICdvaG0nLFxuICAgIGZhcmFkczogJ2ZhcmFkJyxcbiAgICB3ZWJlcnM6ICd3ZWJlcicsXG4gICAgdGVzbGFzOiAndGVzbGEnLFxuICAgIGVsZWN0cm9udm9sdHM6ICdlbGVjdHJvbnZvbHQnLFxuICAgIG1vbGVzOiAnbW9sZScsXG4gICAgYml0OiAnYml0cycsXG4gICAgYnl0ZTogJ2J5dGVzJ1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSB2YWx1ZXMgZm9yIHRoZSBhbmdsZSB1bml0cy5cbiAgICogVmFsdWUgaXMgY2FsY3VsYXRlZCBhcyBudW1iZXIgb3IgQmlnTnVtYmVyIGRlcGVuZGluZyBvbiB0aGUgY29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0ge3tudW1iZXI6ICdudW1iZXInIHwgJ0JpZ051bWJlcid9fSBjb25maWdcbiAgICovXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlQW5nbGVWYWx1ZXMoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5udW1iZXIgPT09ICdCaWdOdW1iZXInKSB7XG4gICAgICB2YXIgcGkgPSBjcmVhdGVQaShfQmlnTnVtYmVyKTtcbiAgICAgIFVOSVRTLnJhZC52YWx1ZSA9IG5ldyBfQmlnTnVtYmVyKDEpO1xuICAgICAgVU5JVFMuZGVnLnZhbHVlID0gcGkuZGl2KDE4MCk7IC8vIDIgKiBwaSAvIDM2MFxuXG4gICAgICBVTklUUy5ncmFkLnZhbHVlID0gcGkuZGl2KDIwMCk7IC8vIDIgKiBwaSAvIDQwMFxuXG4gICAgICBVTklUUy5jeWNsZS52YWx1ZSA9IHBpLnRpbWVzKDIpOyAvLyAyICogcGlcblxuICAgICAgVU5JVFMuYXJjc2VjLnZhbHVlID0gcGkuZGl2KDY0ODAwMCk7IC8vIDIgKiBwaSAvIDM2MCAvIDM2MDBcblxuICAgICAgVU5JVFMuYXJjbWluLnZhbHVlID0gcGkuZGl2KDEwODAwKTsgLy8gMiAqIHBpIC8gMzYwIC8gNjBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbnVtYmVyXG4gICAgICBVTklUUy5yYWQudmFsdWUgPSAxO1xuICAgICAgVU5JVFMuZGVnLnZhbHVlID0gTWF0aC5QSSAvIDE4MDsgLy8gMiAqIHBpIC8gMzYwXG5cbiAgICAgIFVOSVRTLmdyYWQudmFsdWUgPSBNYXRoLlBJIC8gMjAwOyAvLyAyICogcGkgLyA0MDBcblxuICAgICAgVU5JVFMuY3ljbGUudmFsdWUgPSBNYXRoLlBJICogMjsgLy8gMiAqIHBpXG5cbiAgICAgIFVOSVRTLmFyY3NlYy52YWx1ZSA9IE1hdGguUEkgLyA2NDgwMDA7IC8vIDIgKiBwaSAvIDM2MCAvIDM2MDBcblxuICAgICAgVU5JVFMuYXJjbWluLnZhbHVlID0gTWF0aC5QSSAvIDEwODAwOyAvLyAyICogcGkgLyAzNjAgLyA2MFxuICAgIH0gLy8gY29weSB0byB0aGUgZnVsbCBuYW1lcyBvZiB0aGUgYW5nbGVzXG5cblxuICAgIFVOSVRTLnJhZGlhbi52YWx1ZSA9IFVOSVRTLnJhZC52YWx1ZTtcbiAgICBVTklUUy5kZWdyZWUudmFsdWUgPSBVTklUUy5kZWcudmFsdWU7XG4gICAgVU5JVFMuZ3JhZGlhbi52YWx1ZSA9IFVOSVRTLmdyYWQudmFsdWU7XG4gIH0gLy8gYXBwbHkgdGhlIGFuZ2xlIHZhbHVlcyBub3dcblxuXG4gIGNhbGN1bGF0ZUFuZ2xlVmFsdWVzKGNvbmZpZyk7XG5cbiAgaWYgKG9uKSB7XG4gICAgLy8gcmVjYWxjdWxhdGUgdGhlIHZhbHVlcyBvbiBjaGFuZ2Ugb2YgY29uZmlndXJhdGlvblxuICAgIG9uKCdjb25maWcnLCBmdW5jdGlvbiAoY3VyciwgcHJldikge1xuICAgICAgaWYgKGN1cnIubnVtYmVyICE9PSBwcmV2Lm51bWJlcikge1xuICAgICAgICBjYWxjdWxhdGVBbmdsZVZhbHVlcyhjdXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQSB1bml0IHN5c3RlbSBpcyBhIHNldCBvZiBkaW1lbnNpb25hbGx5IGluZGVwZW5kZW50IGJhc2UgdW5pdHMgcGx1cyBhIHNldCBvZiBkZXJpdmVkIHVuaXRzLCBmb3JtZWQgYnkgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlzaW9uIG9mIHRoZSBiYXNlIHVuaXRzLCB0aGF0IGFyZSBieSBjb252ZW50aW9uIHVzZWQgd2l0aCB0aGUgdW5pdCBzeXN0ZW0uXG4gICAqIEEgdXNlciBwZXJoYXBzIGNvdWxkIGlzc3VlIGEgY29tbWFuZCB0byBzZWxlY3QgYSBwcmVmZXJyZWQgdW5pdCBzeXN0ZW0sIG9yIHVzZSB0aGUgZGVmYXVsdCAoc2VlIGJlbG93KS5cbiAgICogQXV0byB1bml0IHN5c3RlbTogVGhlIGRlZmF1bHQgdW5pdCBzeXN0ZW0gaXMgdXBkYXRlZCBvbiB0aGUgZmx5IGFueXRpbWUgYSB1bml0IGlzIHBhcnNlZC4gVGhlIGNvcnJlc3BvbmRpbmcgdW5pdCBpbiB0aGUgZGVmYXVsdCB1bml0IHN5c3RlbSBpcyB1cGRhdGVkLCBzbyB0aGF0IGFuc3dlcnMgYXJlIGdpdmVuIGluIHRoZSBzYW1lIHVuaXRzIHRoZSB1c2VyIHN1cHBsaWVzLlxuICAgKi9cblxuXG4gIHZhciBVTklUX1NZU1RFTVMgPSB7XG4gICAgc2k6IHtcbiAgICAgIC8vIEJhc2UgdW5pdHNcbiAgICAgIE5PTkU6IHtcbiAgICAgICAgdW5pdDogVU5JVF9OT05FLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICB9LFxuICAgICAgTEVOR1RIOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm0sXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTUFTUzoge1xuICAgICAgICB1bml0OiBVTklUUy5nLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JULmtcbiAgICAgIH0sXG4gICAgICBUSU1FOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLnMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgQ1VSUkVOVDoge1xuICAgICAgICB1bml0OiBVTklUUy5BLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFRFTVBFUkFUVVJFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkssXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgTFVNSU5PVVNfSU5URU5TSVRZOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLmNkLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEFNT1VOVF9PRl9TVUJTVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMubW9sLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEFOR0xFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLnJhZCxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBCSVQ6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuYml0cyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICAvLyBEZXJpdmVkIHVuaXRzXG4gICAgICBGT1JDRToge1xuICAgICAgICB1bml0OiBVTklUUy5OLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEVORVJHWToge1xuICAgICAgICB1bml0OiBVTklUUy5KLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIFBPV0VSOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLlcsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgUFJFU1NVUkU6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuUGEsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ0hBUkdFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkMsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ0FQQUNJVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuRixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19QT1RFTlRJQUw6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuVixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19SRVNJU1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLm9obSxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBFTEVDVFJJQ19JTkRVQ1RBTkNFOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLkgsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gICAgICB9LFxuICAgICAgRUxFQ1RSSUNfQ09ORFVDVEFOQ0U6IHtcbiAgICAgICAgdW5pdDogVU5JVFMuUyxcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH0sXG4gICAgICBNQUdORVRJQ19GTFVYOiB7XG4gICAgICAgIHVuaXQ6IFVOSVRTLldiLFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIE1BR05FVElDX0ZMVVhfREVOU0lUWToge1xuICAgICAgICB1bml0OiBVTklUUy5ULFxuICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLlNIT1JUWycnXVxuICAgICAgfSxcbiAgICAgIEZSRVFVRU5DWToge1xuICAgICAgICB1bml0OiBVTklUUy5IeixcbiAgICAgICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVFsnJ11cbiAgICAgIH1cbiAgICB9XG4gIH07IC8vIENsb25lIHRvIGNyZWF0ZSB0aGUgb3RoZXIgdW5pdCBzeXN0ZW1zXG5cbiAgVU5JVF9TWVNURU1TLmNncyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoVU5JVF9TWVNURU1TLnNpKSk7XG4gIFVOSVRfU1lTVEVNUy5jZ3MuTEVOR1RIID0ge1xuICAgIHVuaXQ6IFVOSVRTLm0sXG4gICAgcHJlZml4OiBQUkVGSVhFUy5TSE9SVC5jXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuTUFTUyA9IHtcbiAgICB1bml0OiBVTklUUy5nLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuRk9SQ0UgPSB7XG4gICAgdW5pdDogVU5JVFMuZHluLFxuICAgIHByZWZpeDogUFJFRklYRVMuU0hPUlRbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy5jZ3MuRU5FUkdZID0ge1xuICAgIHVuaXQ6IFVOSVRTLmVyZyxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07IC8vIHRoZXJlIGFyZSB3aG9sbHkgNCB1bmlxdWUgY2dzIHN5c3RlbXMgZm9yIGVsZWN0cmljaXR5IGFuZCBtYWduZXRpc20sXG4gIC8vIHNvIGxldCdzIG5vdCB3b3JyeSBhYm91dCBpdCB1bmxlc3Mgc29tZWJvZHkgY29tcGxhaW5zXG5cbiAgVU5JVF9TWVNURU1TLnVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShVTklUX1NZU1RFTVMuc2kpKTtcbiAgVU5JVF9TWVNURU1TLnVzLkxFTkdUSCA9IHtcbiAgICB1bml0OiBVTklUUy5mdCxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5NQVNTID0ge1xuICAgIHVuaXQ6IFVOSVRTLmxibSxcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5URU1QRVJBVFVSRSA9IHtcbiAgICB1bml0OiBVTklUUy5kZWdGLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTtcbiAgVU5JVF9TWVNURU1TLnVzLkZPUkNFID0ge1xuICAgIHVuaXQ6IFVOSVRTLmxiZixcbiAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gIH07XG4gIFVOSVRfU1lTVEVNUy51cy5FTkVSR1kgPSB7XG4gICAgdW5pdDogVU5JVFMuQlRVLFxuICAgIHByZWZpeDogUFJFRklYRVMuQlRVWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuUE9XRVIgPSB7XG4gICAgdW5pdDogVU5JVFMuaHAsXG4gICAgcHJlZml4OiBQUkVGSVhFUy5OT05FWycnXVxuICB9O1xuICBVTklUX1NZU1RFTVMudXMuUFJFU1NVUkUgPSB7XG4gICAgdW5pdDogVU5JVFMucHNpLFxuICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgfTsgLy8gQWRkIGFkZGl0aW9uYWwgdW5pdCBzeXN0ZW1zIGhlcmUuXG4gIC8vIENob29zZSBhIHVuaXQgc3lzdGVtIHRvIHNlZWQgdGhlIGF1dG8gdW5pdCBzeXN0ZW0uXG5cbiAgVU5JVF9TWVNURU1TLmF1dG8gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFVOSVRfU1lTVEVNUy5zaSkpOyAvLyBTZXQgdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW1cblxuICB2YXIgY3VycmVudFVuaXRTeXN0ZW0gPSBVTklUX1NZU1RFTVMuYXV0bztcbiAgLyoqXG4gICAqIFNldCBhIHVuaXQgc3lzdGVtIGZvciBmb3JtYXR0aW5nIGRlcml2ZWQgdW5pdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gVGhlIG5hbWUgb2YgdGhlIHVuaXQgc3lzdGVtLlxuICAgKi9cblxuICBVbml0LnNldFVuaXRTeXN0ZW0gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUX1NZU1RFTVMsIG5hbWUpKSB7XG4gICAgICBjdXJyZW50VW5pdFN5c3RlbSA9IFVOSVRfU1lTVEVNU1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbml0IHN5c3RlbSAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QuIENob2ljZXMgYXJlOiAnICsgT2JqZWN0LmtleXMoVU5JVF9TWVNURU1TKS5qb2luKCcsICcpKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW0uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGN1cnJlbnQgdW5pdCBzeXN0ZW0uXG4gICAqL1xuXG5cbiAgVW5pdC5nZXRVbml0U3lzdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9rZXkgaW4gVU5JVF9TWVNURU1TKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVF9TWVNURU1TLCBfa2V5KSkge1xuICAgICAgICBpZiAoVU5JVF9TWVNURU1TW19rZXldID09PSBjdXJyZW50VW5pdFN5c3RlbSkge1xuICAgICAgICAgIHJldHVybiBfa2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ29udmVydGVycyB0byBjb252ZXJ0IGZyb20gbnVtYmVyIHRvIGFuIG90aGVyIG51bWVyaWMgdHlwZSBsaWtlIEJpZ051bWJlclxuICAgKiBvciBGcmFjdGlvblxuICAgKi9cblxuXG4gIFVuaXQudHlwZUNvbnZlcnRlcnMgPSB7XG4gICAgQmlnTnVtYmVyOiBmdW5jdGlvbiBCaWdOdW1iZXIoeCkge1xuICAgICAgcmV0dXJuIG5ldyBfQmlnTnVtYmVyKHggKyAnJyk7IC8vIHN0cmluZ2lmeSB0byBwcmV2ZW50IGNvbnN0cnVjdG9yIGVycm9yXG4gICAgfSxcbiAgICBGcmFjdGlvbjogZnVuY3Rpb24gRnJhY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIG5ldyBfRnJhY3Rpb24oeCk7XG4gICAgfSxcbiAgICBDb21wbGV4OiBmdW5jdGlvbiBDb21wbGV4KHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUmV0cmlldmUgdGhlIHJpZ2h0IGNvbnZlcnRvciBmdW5jdGlvbiBjb3JyZXNwb25kaW5nIHdpdGggdGhlIHR5cGVcbiAgICogb2YgcHJvdmlkZWQgZXhhbXBsZVZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAgIEEgc3RyaW5nICdudW1iZXInLCAnQmlnTnVtYmVyJywgb3IgJ0ZyYWN0aW9uJ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIEluIGNhc2Ugb2YgYW4gdW5rbm93biB0eXBlLFxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICovXG5cbiAgVW5pdC5fZ2V0TnVtYmVyQ29udmVydGVyID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAoIVVuaXQudHlwZUNvbnZlcnRlcnNbdHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUgXCInICsgdHlwZSArICdcIicpO1xuICAgIH1cblxuICAgIHJldHVybiBVbml0LnR5cGVDb252ZXJ0ZXJzW3R5cGVdO1xuICB9OyAvLyBBZGQgZGltZW5zaW9ucyB0byBlYWNoIGJ1aWx0LWluIHVuaXRcblxuXG4gIGZvciAodmFyIF9rZXkyIGluIFVOSVRTKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KFVOSVRTLCBfa2V5MikpIHtcbiAgICAgIHZhciB1bml0ID0gVU5JVFNbX2tleTJdO1xuICAgICAgdW5pdC5kaW1lbnNpb25zID0gdW5pdC5iYXNlLmRpbWVuc2lvbnM7XG4gICAgfVxuICB9IC8vIENyZWF0ZSBhbGlhc2VzXG5cblxuICBmb3IgKHZhciBfbmFtZTIgaW4gQUxJQVNFUykge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eShBTElBU0VTLCBfbmFtZTIpKSB7XG4gICAgICB2YXIgX3VuaXQyID0gVU5JVFNbQUxJQVNFU1tfbmFtZTJdXTtcbiAgICAgIHZhciBhbGlhcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5MyBpbiBfdW5pdDIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KF91bml0MiwgX2tleTMpKSB7XG4gICAgICAgICAgYWxpYXNbX2tleTNdID0gX3VuaXQyW19rZXkzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhbGlhcy5uYW1lID0gX25hbWUyO1xuICAgICAgVU5JVFNbX25hbWUyXSA9IGFsaWFzO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgY2hhcmFjdGVyIGlzIGEgdmFsaWQgbGF0aW4gbGV0dGVyICh1cHBlciBvciBsb3dlciBjYXNlKS5cbiAgICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRkZW4sIGZvciBleGFtcGxlIHRvIGFsbG93IHN1cHBvcnQgb2Ygb3RoZXIgYWxwaGFiZXRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYyBUZXN0ZWQgY2hhcmFjdGVyXG4gICAqL1xuXG5cbiAgVW5pdC5pc1ZhbGlkQWxwaGEgPSBmdW5jdGlvbiBpc1ZhbGlkQWxwaGEoYykge1xuICAgIHJldHVybiAvXlthLXpBLVpdJC8udGVzdChjKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhc3NlcnRVbml0TmFtZUlzVmFsaWQobmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgYyA9IG5hbWUuY2hhckF0KGkpO1xuXG4gICAgICBpZiAoaSA9PT0gMCAmJiAhVW5pdC5pc1ZhbGlkQWxwaGEoYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVuaXQgbmFtZSAobXVzdCBiZWdpbiB3aXRoIGFscGhhIGNoYXJhY3Rlcik6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPiAwICYmICEoVW5pdC5pc1ZhbGlkQWxwaGEoYykgfHwgaXNEaWdpdChjKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVuaXQgbmFtZSAob25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhcmUgYWxsb3dlZCk6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdyYXBwZXIgYXJvdW5kIGNyZWF0ZVVuaXRTaW5nbGUuXG4gICAqIEV4YW1wbGU6XG4gICAqICBjcmVhdGVVbml0KHtcbiAgICogICAgZm9vOiB7IH0sXG4gICAqICAgIGJhcjoge1xuICAgKiAgICAgIGRlZmluaXRpb246ICdrZy9mb28nLFxuICAgKiAgICAgIGFsaWFzZXM6IFsnYmEnLCAnYmFycicsICdiYXJzJ10sXG4gICAqICAgICAgb2Zmc2V0OiAyMDBcbiAgICogICAgfSxcbiAgICogICAgYmF6OiAnNCBiYXInXG4gICAqICB9LFxuICAgKiAge1xuICAgKiAgICBvdmVycmlkZTogdHJ1ZVxuICAgKiAgfSlcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAgICAgIE9iamVjdCBtYXAuIEVhY2gga2V5IGJlY29tZXMgYSB1bml0IHdoaWNoIGlzIGRlZmluZWQgYnkgaXRzIHZhbHVlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgKi9cblxuXG4gIFVuaXQuY3JlYXRlVW5pdCA9IGZ1bmN0aW9uIChvYmosIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjcmVhdGVVbml0IGV4cGVjdHMgZmlyc3QgcGFyYW1ldGVyIHRvIGJlIG9mIHR5cGUgJ09iamVjdCdcIik7XG4gICAgfSAvLyBSZW1vdmUgYWxsIHVuaXRzIGFuZCBhbGlhc2VzIHdlIGFyZSBvdmVycmlkaW5nXG5cblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub3ZlcnJpZGUpIHtcbiAgICAgIGZvciAodmFyIF9rZXk0IGluIG9iaikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqLCBfa2V5NCkpIHtcbiAgICAgICAgICBVbml0LmRlbGV0ZVVuaXQoX2tleTQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9ialtfa2V5NF0uYWxpYXNlcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqW19rZXk0XS5hbGlhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBVbml0LmRlbGV0ZVVuaXQob2JqW19rZXk0XS5hbGlhc2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFRPRE86IHRyYXZlcnNlIG11bHRpcGxlIHRpbWVzIHVudGlsIGFsbCB1bml0cyBoYXZlIGJlZW4gYWRkZWRcblxuXG4gICAgdmFyIGxhc3RVbml0O1xuXG4gICAgZm9yICh2YXIgX2tleTUgaW4gb2JqKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqLCBfa2V5NSkpIHtcbiAgICAgICAgbGFzdFVuaXQgPSBVbml0LmNyZWF0ZVVuaXRTaW5nbGUoX2tleTUsIG9ialtfa2V5NV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXN0VW5pdDtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVzZXItZGVmaW5lZCB1bml0IGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBVbml0IHR5cGUuXG4gICAqIEV4YW1wbGU6XG4gICAqICBjcmVhdGVVbml0U2luZ2xlKCdrbm90JywgJzAuNTE0NDQ0NDQ0IG0vcycpXG4gICAqICBjcmVhdGVVbml0U2luZ2xlKCdhY3JlJywgbmV3IFVuaXQoNDM1NjAsICdmdF4yJykpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAgVGhlIG5hbWUgb2YgdGhlIG5ldyB1bml0LiBNdXN0IGJlIHVuaXF1ZS4gRXhhbXBsZTogJ2tub3QnXG4gICAqIEBwYXJhbSB7c3RyaW5nLCBVbml0LCBPYmplY3R9IGRlZmluaXRpb24gICAgICBEZWZpbml0aW9uIG9mIHRoZSB1bml0IGluIHRlcm1zXG4gICAqIG9mIGV4aXN0aW5nIHVuaXRzLiBGb3IgZXhhbXBsZSwgJzAuNTE0NDQ0NDQ0IG0gLyBzJy4gQ2FuIGJlIGEgVW5pdCwgYSBzdHJpbmcsXG4gICAqIG9yIGFuIE9iamVjdC4gSWYgYW4gT2JqZWN0LCBtYXkgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAgLSBkZWZpbml0aW9uIHtzdHJpbmd8VW5pdH0gVGhlIGRlZmluaXRpb24gb2YgdGhpcyB1bml0LlxuICAgKiAgIC0gcHJlZml4ZXMge3N0cmluZ30gXCJub25lXCIsIFwic2hvcnRcIiwgXCJsb25nXCIsIFwiYmluYXJ5X3Nob3J0XCIsIG9yIFwiYmluYXJ5X2xvbmdcIi5cbiAgICogICAgIFRoZSBkZWZhdWx0IGlzIFwibm9uZVwiLlxuICAgKiAgIC0gYWxpYXNlcyB7QXJyYXl9IEFycmF5IG9mIHN0cmluZ3MuIEV4YW1wbGU6IFsna25vdHMnLCAna3QnLCAna3RzJ11cbiAgICogICAtIG9mZnNldCB7TnVtZXJpY30gQW4gb2Zmc2V0IHRvIGFwcGx5IHdoZW4gY29udmVydGluZyBmcm9tIHRoZSB1bml0LiBGb3JcbiAgICogICAgIGV4YW1wbGUsIHRoZSBvZmZzZXQgZm9yIGNlbHNpdXMgaXMgMjczLjE1IGFuZCB0aGUgb2Zmc2V0IGZvciBmYXJoZW5oZWl0XG4gICAqICAgICBpcyA0NTkuNjcuIERlZmF1bHQgaXMgMC5cbiAgICogICAtIGJhc2VOYW1lIHtzdHJpbmd9IElmIHRoZSB1bml0J3MgZGltZW5zaW9uIGRvZXMgbm90IG1hdGNoIHRoYXQgb2YgYW55IG90aGVyXG4gICAqICAgICBiYXNlIHVuaXQsIHRoZSBuYW1lIG9mIHRoZSBuZXdseSBjcmVhdGUgYmFzZSB1bml0LiBPdGhlcndpc2UsIHRoaXMgcHJvcGVydHlcbiAgICogICAgIGhhcyBubyBlZmZlY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zICAgKG9wdGlvbmFsKSBBbiBvYmplY3QgY29udGFpbmluZyBhbnkgb2YgdGhlIGZvbGxvd2luZ1xuICAgKiBwcm9wZXJ0aWVzOlxuICAgKiAgIC0gb3ZlcnJpZGUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyB1bml0IHNob3VsZCBiZSBhbGxvd2VkIHRvIG92ZXJyaWRlIGV4aXN0aW5nXG4gICAqICAgICB1bml0cy5cbiAgICpcbiAgICogQHJldHVybiB7VW5pdH1cbiAgICovXG5cblxuICBVbml0LmNyZWF0ZVVuaXRTaW5nbGUgPSBmdW5jdGlvbiAobmFtZSwgb2JqLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgb2JqID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNyZWF0ZVVuaXRTaW5nbGUgZXhwZWN0cyBmaXJzdCBwYXJhbWV0ZXIgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJ1wiKTtcbiAgICB9IC8vIENoZWNrIGNvbGxpc2lvbnMgd2l0aCBleGlzdGluZyB1bml0c1xuXG5cbiAgICBpZiAoaGFzT3duUHJvcGVydHkoVU5JVFMsIG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiOiBhIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9IC8vIFRPRE86IFZhbGlkYXRlIG5hbWUgZm9yIGNvbGxpc2lvbnMgd2l0aCBvdGhlciBidWlsdC1pbiBmdW5jdGlvbnMgKGxpa2UgYWJzIG9yIGNvcywgZm9yIGV4YW1wbGUpLCBhbmQgZm9yIGFjY2VwdGFibGUgdmFyaWFibGUgbmFtZXMuIEZvciBleGFtcGxlLCAnNDInIGlzIHByb2JhYmx5IG5vdCBhIHZhbGlkIHVuaXQuIE5vciBpcyAnJScsIHNpbmNlIGl0IGlzIGFsc28gYW4gb3BlcmF0b3IuXG5cblxuICAgIGFzc2VydFVuaXROYW1lSXNWYWxpZChuYW1lKTtcbiAgICB2YXIgZGVmVW5pdCA9IG51bGw7IC8vIFRoZSBVbml0IGZyb20gd2hpY2ggdGhlIG5ldyB1bml0IHdpbGwgYmUgY3JlYXRlZC5cblxuICAgIHZhciBhbGlhc2VzID0gW107XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgdmFyIGRlZmluaXRpb247XG4gICAgdmFyIHByZWZpeGVzO1xuICAgIHZhciBiYXNlTmFtZTtcblxuICAgIGlmIChvYmogJiYgb2JqLnR5cGUgPT09ICdVbml0Jykge1xuICAgICAgZGVmVW5pdCA9IG9iai5jbG9uZSgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChvYmogIT09ICcnKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSBvYmo7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgZGVmaW5pdGlvbiA9IG9iai5kZWZpbml0aW9uO1xuICAgICAgcHJlZml4ZXMgPSBvYmoucHJlZml4ZXM7XG4gICAgICBvZmZzZXQgPSBvYmoub2Zmc2V0O1xuICAgICAgYmFzZU5hbWUgPSBvYmouYmFzZU5hbWU7XG5cbiAgICAgIGlmIChvYmouYWxpYXNlcykge1xuICAgICAgICBhbGlhc2VzID0gb2JqLmFsaWFzZXMudmFsdWVPZigpOyAvLyBhbGlhc2VzIGNvdWxkIGJlIGEgTWF0cml4LCBzbyBjb252ZXJ0IHRvIEFycmF5XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiIGZyb20gXCInICsgb2JqLnRvU3RyaW5nKCkgKyAnXCI6IGV4cGVjdGluZyBcInN0cmluZ1wiIG9yIFwiVW5pdFwiIG9yIFwiT2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoYWxpYXNlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGlhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShVTklUUywgYWxpYXNlc1tpXSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgYWxpYXMgXCInICsgYWxpYXNlc1tpXSArICdcIjogYSB1bml0IHdpdGggdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVmaW5pdGlvbiAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ3N0cmluZycgJiYgIWRlZlVuaXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRlZlVuaXQgPSBVbml0LnBhcnNlKGRlZmluaXRpb24sIHtcbiAgICAgICAgICBhbGxvd05vVW5pdHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBleC5tZXNzYWdlID0gJ0NvdWxkIG5vdCBjcmVhdGUgdW5pdCBcIicgKyBuYW1lICsgJ1wiIGZyb20gXCInICsgZGVmaW5pdGlvbiArICdcIjogJyArIGV4Lm1lc3NhZ2U7XG4gICAgICAgIHRocm93IGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGVmaW5pdGlvbiAmJiBkZWZpbml0aW9uLnR5cGUgPT09ICdVbml0Jykge1xuICAgICAgZGVmVW5pdCA9IGRlZmluaXRpb24uY2xvbmUoKTtcbiAgICB9XG5cbiAgICBhbGlhc2VzID0gYWxpYXNlcyB8fCBbXTtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGlmIChwcmVmaXhlcyAmJiBwcmVmaXhlcy50b1VwcGVyQ2FzZSkge1xuICAgICAgcHJlZml4ZXMgPSBQUkVGSVhFU1twcmVmaXhlcy50b1VwcGVyQ2FzZSgpXSB8fCBQUkVGSVhFUy5OT05FO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVmaXhlcyA9IFBSRUZJWEVTLk5PTkU7XG4gICAgfSAvLyBJZiBkZWZVbml0IGlzIG51bGwsIGl0IGlzIGJlY2F1c2UgdGhlIHVzZXIgZGlkIG5vdFxuICAgIC8vIHNwZWNpZnkgYSBkZWZpbnRpb24uIFNvIGNyZWF0ZSBhIG5ldyBiYXNlIGRpbWVuc2lvbi5cblxuXG4gICAgdmFyIG5ld1VuaXQgPSB7fTtcblxuICAgIGlmICghZGVmVW5pdCkge1xuICAgICAgLy8gQWRkIGEgbmV3IGJhc2UgZGltZW5zaW9uXG4gICAgICBiYXNlTmFtZSA9IGJhc2VOYW1lIHx8IG5hbWUgKyAnX1NUVUZGJzsgLy8gZm9vIC0tPiBmb29fU1RVRkYsIG9yIHRoZSBlc3NlbmNlIG9mIGZvb1xuXG4gICAgICBpZiAoQkFTRV9ESU1FTlNJT05TLmluZGV4T2YoYmFzZU5hbWUpID49IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIG5ldyBiYXNlIHVuaXQgXCInICsgbmFtZSArICdcIjogYSBiYXNlIHVuaXQgd2l0aCB0aGF0IG5hbWUgYWxyZWFkeSBleGlzdHMgKGFuZCBjYW5ub3QgYmUgb3ZlcnJpZGRlbiknKTtcbiAgICAgIH1cblxuICAgICAgQkFTRV9ESU1FTlNJT05TLnB1c2goYmFzZU5hbWUpOyAvLyBQdXNoIDAgb250byBleGlzdGluZyBiYXNlIHVuaXRzXG5cbiAgICAgIGZvciAodmFyIGIgaW4gQkFTRV9VTklUUykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywgYikpIHtcbiAgICAgICAgICBCQVNFX1VOSVRTW2JdLmRpbWVuc2lvbnNbQkFTRV9ESU1FTlNJT05TLmxlbmd0aCAtIDFdID0gMDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBBZGQgdGhlIG5ldyBiYXNlIHVuaXRcblxuXG4gICAgICB2YXIgbmV3QmFzZVVuaXQgPSB7XG4gICAgICAgIGRpbWVuc2lvbnM6IFtdXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCBCQVNFX0RJTUVOU0lPTlMubGVuZ3RoOyBfaTYrKykge1xuICAgICAgICBuZXdCYXNlVW5pdC5kaW1lbnNpb25zW19pNl0gPSAwO1xuICAgICAgfVxuXG4gICAgICBuZXdCYXNlVW5pdC5kaW1lbnNpb25zW0JBU0VfRElNRU5TSU9OUy5sZW5ndGggLSAxXSA9IDE7XG4gICAgICBuZXdCYXNlVW5pdC5rZXkgPSBiYXNlTmFtZTtcbiAgICAgIEJBU0VfVU5JVFNbYmFzZU5hbWVdID0gbmV3QmFzZVVuaXQ7XG4gICAgICBuZXdVbml0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgZGltZW5zaW9uczogQkFTRV9VTklUU1tiYXNlTmFtZV0uZGltZW5zaW9ucy5zbGljZSgwKSxcbiAgICAgICAgcHJlZml4ZXM6IHByZWZpeGVzLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgYmFzZTogQkFTRV9VTklUU1tiYXNlTmFtZV1cbiAgICAgIH07XG4gICAgICBjdXJyZW50VW5pdFN5c3RlbVtiYXNlTmFtZV0gPSB7XG4gICAgICAgIHVuaXQ6IG5ld1VuaXQsXG4gICAgICAgIHByZWZpeDogUFJFRklYRVMuTk9ORVsnJ11cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1VuaXQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiBkZWZVbml0LnZhbHVlLFxuICAgICAgICBkaW1lbnNpb25zOiBkZWZVbml0LmRpbWVuc2lvbnMuc2xpY2UoMCksXG4gICAgICAgIHByZWZpeGVzOiBwcmVmaXhlcyxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgIH07IC8vIENyZWF0ZSBhIG5ldyBiYXNlIGlmIG5vIG1hdGNoaW5nIGJhc2UgZXhpc3RzXG5cbiAgICAgIHZhciBhbnlNYXRjaCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBfaTcgaW4gQkFTRV9VTklUUykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkoQkFTRV9VTklUUywgX2k3KSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHRydWU7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IEJBU0VfRElNRU5TSU9OUy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKChuZXdVbml0LmRpbWVuc2lvbnNbal0gfHwgMCkgLSAoQkFTRV9VTklUU1tfaTddLmRpbWVuc2lvbnNbal0gfHwgMCkpID4gMWUtMTIpIHtcbiAgICAgICAgICAgICAgbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBhbnlNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICBuZXdVbml0LmJhc2UgPSBCQVNFX1VOSVRTW19pN107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFhbnlNYXRjaCkge1xuICAgICAgICBiYXNlTmFtZSA9IGJhc2VOYW1lIHx8IG5hbWUgKyAnX1NUVUZGJzsgLy8gZm9vIC0tPiBmb29fU1RVRkYsIG9yIHRoZSBlc3NlbmNlIG9mIGZvb1xuICAgICAgICAvLyBBZGQgdGhlIG5ldyBiYXNlIHVuaXRcblxuICAgICAgICB2YXIgX25ld0Jhc2VVbml0ID0ge1xuICAgICAgICAgIGRpbWVuc2lvbnM6IGRlZlVuaXQuZGltZW5zaW9ucy5zbGljZSgwKVxuICAgICAgICB9O1xuICAgICAgICBfbmV3QmFzZVVuaXQua2V5ID0gYmFzZU5hbWU7XG4gICAgICAgIEJBU0VfVU5JVFNbYmFzZU5hbWVdID0gX25ld0Jhc2VVbml0O1xuICAgICAgICBjdXJyZW50VW5pdFN5c3RlbVtiYXNlTmFtZV0gPSB7XG4gICAgICAgICAgdW5pdDogbmV3VW5pdCxcbiAgICAgICAgICBwcmVmaXg6IFBSRUZJWEVTLk5PTkVbJyddXG4gICAgICAgIH07XG4gICAgICAgIG5ld1VuaXQuYmFzZSA9IEJBU0VfVU5JVFNbYmFzZU5hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIFVuaXQuVU5JVFNbbmFtZV0gPSBuZXdVbml0O1xuXG4gICAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgYWxpYXNlcy5sZW5ndGg7IF9pOCsrKSB7XG4gICAgICB2YXIgYWxpYXNOYW1lID0gYWxpYXNlc1tfaThdO1xuICAgICAgdmFyIF9hbGlhcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBfa2V5NiBpbiBuZXdVbml0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShuZXdVbml0LCBfa2V5NikpIHtcbiAgICAgICAgICBfYWxpYXNbX2tleTZdID0gbmV3VW5pdFtfa2V5Nl07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX2FsaWFzLm5hbWUgPSBhbGlhc05hbWU7XG4gICAgICBVbml0LlVOSVRTW2FsaWFzTmFtZV0gPSBfYWxpYXM7XG4gICAgfSAvLyBkZWxldGUgdGhlIG1lbW9pemF0aW9uIGNhY2hlLCBzaW5jZSBhZGRpbmcgYSBuZXcgdW5pdCB0byB0aGUgYXJyYXlcbiAgICAvLyBpbnZhbGlkYXRlcyBhbGwgb2xkIHJlc3VsdHNcblxuXG4gICAgZGVsZXRlIF9maW5kVW5pdC5jYWNoZTtcbiAgICByZXR1cm4gbmV3IFVuaXQobnVsbCwgbmFtZSk7XG4gIH07XG5cbiAgVW5pdC5kZWxldGVVbml0ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBkZWxldGUgVW5pdC5VTklUU1tuYW1lXTtcbiAgfTsgLy8gZXhwb3NlIGFycmF5cyB3aXRoIHByZWZpeGVzLCBkaW1lbnNpb25zLCB1bml0cywgc3lzdGVtc1xuXG5cbiAgVW5pdC5QUkVGSVhFUyA9IFBSRUZJWEVTO1xuICBVbml0LkJBU0VfRElNRU5TSU9OUyA9IEJBU0VfRElNRU5TSU9OUztcbiAgVW5pdC5CQVNFX1VOSVRTID0gQkFTRV9VTklUUztcbiAgVW5pdC5VTklUX1NZU1RFTVMgPSBVTklUX1NZU1RFTVM7XG4gIFVuaXQuVU5JVFMgPSBVTklUUztcbiAgcmV0dXJuIFVuaXQ7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWVcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbnZhciBuYW1lID0gJ3VuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnVW5pdCddOyAvLyBUaGlzIGZ1bmN0aW9uIGlzIG5hbWVkIGNyZWF0ZVVuaXRGdW5jdGlvbiB0byBwcmV2ZW50IGEgbmFtaW5nIGNvbmZsaWN0IHdpdGggY3JlYXRlVW5pdFxuXG5leHBvcnQgdmFyIGNyZWF0ZVVuaXRGdW5jdGlvbiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIFVuaXRcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHVuaXQuIERlcGVuZGluZyBvbiB0aGUgcGFzc2VkIGFyZ3VtZW50cywgdGhlIGZ1bmN0aW9uXG4gICAqIHdpbGwgY3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgbWF0aC5Vbml0IG9iamVjdC5cbiAgICogV2hlbiBhIG1hdHJpeCBpcyBwcm92aWRlZCwgYWxsIGVsZW1lbnRzIHdpbGwgYmUgY29udmVydGVkIHRvIHVuaXRzLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnVuaXQodW5pdCA6IHN0cmluZylcbiAgICogICAgIG1hdGgudW5pdCh2YWx1ZSA6IG51bWJlciwgdW5pdCA6IHN0cmluZylcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIGNvbnN0IGEgPSBtYXRoLnVuaXQoNSwgJ2NtJykgICAgLy8gcmV0dXJucyBVbml0IDUwIG1tXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLnVuaXQoJzIzIGtnJykgICAgLy8gcmV0dXJucyBVbml0IDIzIGtnXG4gICAqICAgIGEudG8oJ20nKSAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyBVbml0IDAuMDUgbVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgYmlnbnVtYmVyLCBib29sZWFuLCBjb21wbGV4LCBpbmRleCwgbWF0cml4LCBudW1iZXIsIHN0cmluZywgY3JlYXRlVW5pdFxuICAgKlxuICAgKiBAcGFyYW0geyogfCBBcnJheSB8IE1hdHJpeH0gYXJncyAgIEEgbnVtYmVyIGFuZCB1bml0LlxuICAgKiBAcmV0dXJuIHtVbml0IHwgQXJyYXkgfCBNYXRyaXh9ICAgIFRoZSBjcmVhdGVkIHVuaXRcbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgVW5pdDogZnVuY3Rpb24gVW5pdCh4KSB7XG4gICAgICByZXR1cm4geC5jbG9uZSgpO1xuICAgIH0sXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoeCkge1xuICAgICAgaWYgKFVuaXQuaXNWYWx1ZWxlc3NVbml0KHgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pdChudWxsLCB4KTsgLy8gYSBwdXJlIHVuaXRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFVuaXQucGFyc2UoeCwge1xuICAgICAgICBhbGxvd05vVW5pdHM6IHRydWVcbiAgICAgIH0pOyAvLyBhIHVuaXQgd2l0aCB2YWx1ZSwgbGlrZSAnNWNtJ1xuICAgIH0sXG4gICAgJ251bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nJzogZnVuY3Rpb24gbnVtYmVyQmlnTnVtYmVyRnJhY3Rpb25Db21wbGV4U3RyaW5nKHZhbHVlLCB1bml0KSB7XG4gICAgICByZXR1cm4gbmV3IFVuaXQodmFsdWUsIHVuaXQpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgcmV0dXJuIGRlZXBNYXAoeCwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2NyZWF0ZVVuaXQnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnVW5pdCddO1xuZXhwb3J0IHZhciBjcmVhdGVDcmVhdGVVbml0ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgVW5pdFxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdXNlci1kZWZpbmVkIHVuaXQgYW5kIHJlZ2lzdGVyIGl0IHdpdGggdGhlIFVuaXQgdHlwZS5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KHtcbiAgICogICAgICAgYmFzZVVuaXQxOiB7XG4gICAqICAgICAgICAgYWxpYXNlczogW3N0cmluZywgLi4uXVxuICAgKiAgICAgICAgIHByZWZpeGVzOiBvYmplY3RcbiAgICogICAgICAgfSxcbiAgICogICAgICAgdW5pdDI6IHtcbiAgICogICAgICAgICBkZWZpbml0aW9uOiBzdHJpbmcsXG4gICAqICAgICAgICAgYWxpYXNlczogW3N0cmluZywgLi4uXVxuICAgKiAgICAgICAgIHByZWZpeGVzOiBvYmplY3QsXG4gICAqICAgICAgICAgb2Zmc2V0OiBudW1iZXJcbiAgICogICAgICAgfSxcbiAgICogICAgICAgdW5pdDM6IHN0cmluZyAgICAvLyBTaG9ydGN1dFxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIEFub3RoZXIgc2hvcnRjdXQ6XG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoc3RyaW5nLCB1bml0IDogc3RyaW5nLCBbb2JqZWN0XSlcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ2ZvbycpXG4gICAqICAgICBtYXRoLmNyZWF0ZVVuaXQoJ2tub3QnLCB7ZGVmaW5pdGlvbjogJzAuNTE0NDQ0NDQ0IG0vcycsIGFsaWFzZXM6IFsna25vdHMnLCAna3QnLCAna3RzJ119KVxuICAgKiAgICAgbWF0aC5jcmVhdGVVbml0KCdtcGgnLCAnMSBtaWxlL2hvdXInKVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgICAgIFRoZSBuYW1lIG9mIHRoZSBuZXcgdW5pdC4gTXVzdCBiZSB1bmlxdWUuIEV4YW1wbGU6ICdrbm90J1xuICAgKiBAcGFyYW0ge3N0cmluZywgVW5pdH0gZGVmaW5pdGlvbiAgICAgIERlZmluaXRpb24gb2YgdGhlIHVuaXQgaW4gdGVybXMgb2YgZXhpc3RpbmcgdW5pdHMuIEZvciBleGFtcGxlLCAnMC41MTQ0NDQ0NDQgbSAvIHMnLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAgIChvcHRpb25hbCkgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYW55IG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogICAgIC0gYHByZWZpeGVzIHtzdHJpbmd9YCBcIm5vbmVcIiwgXCJzaG9ydFwiLCBcImxvbmdcIiwgXCJiaW5hcnlfc2hvcnRcIiwgb3IgXCJiaW5hcnlfbG9uZ1wiLiBUaGUgZGVmYXVsdCBpcyBcIm5vbmVcIi5cbiAgICogICAgIC0gYGFsaWFzZXMge0FycmF5fWAgQXJyYXkgb2Ygc3RyaW5ncy4gRXhhbXBsZTogWydrbm90cycsICdrdCcsICdrdHMnXVxuICAgKiAgICAgLSBgb2Zmc2V0IHtOdW1lcmljfWAgQW4gb2Zmc2V0IHRvIGFwcGx5IHdoZW4gY29udmVydGluZyBmcm9tIHRoZSB1bml0LiBGb3IgZXhhbXBsZSwgdGhlIG9mZnNldCBmb3IgY2Vsc2l1cyBpcyAyNzMuMTUuIERlZmF1bHQgaXMgMC5cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgICB1bml0XG4gICAqXG4gICAqIEByZXR1cm4ge1VuaXR9IFRoZSBuZXcgdW5pdFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICAvLyBHZW5lcmFsIGZ1bmN0aW9uIHNpZ25hdHVyZS4gRmlyc3QgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIHRoZSBkZWZpbml0aW9uIG9mIGEgbmV3IHVuaXQuIFRoZSBvYmplY3Qga2V5cyBhcmUgdGhlIHVuaXQgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBkZWZpbml0aW9ucy4gVGhlIHZhbHVlcyBjYW4gYmUgb2JqZWN0cywgc3RyaW5ncywgb3IgVW5pdHMuIElmIGEgcHJvcGVydHkgaXMgYW4gZW1wdHkgb2JqZWN0IG9yIGFuIGVtcHR5IHN0cmluZywgYSBuZXcgYmFzZSB1bml0IGlzIGNyZWF0ZWQuIFRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIHRoZSBvcHRpb25zLlxuICAgICdPYmplY3QsIE9iamVjdCc6IGZ1bmN0aW9uIE9iamVjdE9iamVjdChvYmosIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIC8vIFNhbWUgYXMgYWJvdmUgYnV0IHdpdGhvdXQgdGhlIG9wdGlvbnMuXG4gICAgT2JqZWN0OiBmdW5jdGlvbiBPYmplY3Qob2JqKSB7XG4gICAgICByZXR1cm4gVW5pdC5jcmVhdGVVbml0KG9iaiwge30pO1xuICAgIH0sXG4gICAgLy8gU2hvcnRjdXQgbWV0aG9kIGZvciBjcmVhdGluZyBvbmUgdW5pdC5cbiAgICAnc3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0LCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdVbml0U3RyaW5nT2JqZWN0T2JqZWN0KG5hbWUsIGRlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgb2JqW25hbWVdID0gZGVmO1xuICAgICAgcmV0dXJuIFVuaXQuY3JlYXRlVW5pdChvYmosIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgLy8gU2FtZSBhcyBhYm92ZSBidXQgd2l0aG91dCB0aGUgb3B0aW9ucy5cbiAgICAnc3RyaW5nLCBVbml0IHwgc3RyaW5nIHwgT2JqZWN0JzogZnVuY3Rpb24gc3RyaW5nVW5pdFN0cmluZ09iamVjdChuYW1lLCBkZWYpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIG9ialtuYW1lXSA9IGRlZjtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfSxcbiAgICAvLyBXaXRob3V0IGEgZGVmaW5pdGlvbiwgY3JlYXRlcyBhIGJhc2UgdW5pdC5cbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhuYW1lKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBvYmpbbmFtZV0gPSB7fTtcbiAgICAgIHJldHVybiBVbml0LmNyZWF0ZVVuaXQob2JqLCB7fSk7XG4gICAgfVxuICB9KTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0wMSB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTAxLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTA0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMDQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTAgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xMC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBbGdvcml0aG0xMyB9IGZyb20gJy4uLy4uL3R5cGUvbWF0cml4L3V0aWxzL2FsZ29yaXRobTEzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTE0IH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTQuanMnO1xudmFyIG5hbWUgPSAnYWRkJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdhZGRTY2FsYXInLCAnZXF1YWxTY2FsYXInLCAnRGVuc2VNYXRyaXgnLCAnU3BhcnNlTWF0cml4J107XG5leHBvcnQgdmFyIGNyZWF0ZUFkZCA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBhZGRTY2FsYXIsXG4gICAgZXF1YWxTY2FsYXIsXG4gICAgRGVuc2VNYXRyaXgsXG4gICAgU3BhcnNlTWF0cml4XG4gIH0gPSBfcmVmO1xuICB2YXIgYWxnb3JpdGhtMDEgPSBjcmVhdGVBbGdvcml0aG0wMSh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0wNCA9IGNyZWF0ZUFsZ29yaXRobTA0KHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTEwID0gY3JlYXRlQWxnb3JpdGhtMTAoe1xuICAgIHR5cGVkLFxuICAgIERlbnNlTWF0cml4XG4gIH0pO1xuICB2YXIgYWxnb3JpdGhtMTMgPSBjcmVhdGVBbGdvcml0aG0xMyh7XG4gICAgdHlwZWRcbiAgfSk7XG4gIHZhciBhbGdvcml0aG0xNCA9IGNyZWF0ZUFsZ29yaXRobTE0KHtcbiAgICB0eXBlZFxuICB9KTtcbiAgLyoqXG4gICAqIEFkZCB0d28gb3IgbW9yZSB2YWx1ZXMsIGB4ICsgeWAuXG4gICAqIEZvciBtYXRyaWNlcywgdGhlIGZ1bmN0aW9uIGlzIGV2YWx1YXRlZCBlbGVtZW50IHdpc2UuXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5hZGQoeCwgeSlcbiAgICogICAgbWF0aC5hZGQoeCwgeSwgeiwgLi4uKVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5hZGQoMiwgMykgICAgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA1XG4gICAqICAgIG1hdGguYWRkKDIsIDMsIDQpICAgICAgICAgICAgLy8gcmV0dXJucyBudW1iZXIgOVxuICAgKlxuICAgKiAgICBjb25zdCBhID0gbWF0aC5jb21wbGV4KDIsIDMpXG4gICAqICAgIGNvbnN0IGIgPSBtYXRoLmNvbXBsZXgoLTQsIDEpXG4gICAqICAgIG1hdGguYWRkKGEsIGIpICAgICAgICAgICAgICAgLy8gcmV0dXJucyBDb21wbGV4IC0yICsgNGlcbiAgICpcbiAgICogICAgbWF0aC5hZGQoWzEsIDIsIDNdLCA0KSAgICAgICAvLyByZXR1cm5zIEFycmF5IFs1LCA2LCA3XVxuICAgKlxuICAgKiAgICBjb25zdCBjID0gbWF0aC51bml0KCc1IGNtJylcbiAgICogICAgY29uc3QgZCA9IG1hdGgudW5pdCgnMi4xIG1tJylcbiAgICogICAgbWF0aC5hZGQoYywgZCkgICAgICAgICAgICAgICAvLyByZXR1cm5zIFVuaXQgNTIuMSBtbVxuICAgKlxuICAgKiAgICBtYXRoLmFkZChcIjIuM1wiLCBcIjRcIikgICAgICAgICAvLyByZXR1cm5zIG51bWJlciA2LjNcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHN1YnRyYWN0LCBzdW1cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSB4IEZpcnN0IHZhbHVlIHRvIGFkZFxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHkgU2Vjb25kIHZhbHVlIHRvIGFkZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IFN1bSBvZiBgeGAgYW5kIGB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQobmFtZSwgZXh0ZW5kKHtcbiAgICAvLyB3ZSBleHRlbmQgdGhlIHNpZ25hdHVyZXMgb2YgYWRkU2NhbGFyIHdpdGggc2lnbmF0dXJlcyBkZWFsaW5nIHdpdGggbWF0cmljZXNcbiAgICAnRGVuc2VNYXRyaXgsIERlbnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTMoeCwgeSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhTcGFyc2VNYXRyaXgoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTAxKHgsIHksIGFkZFNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgRGVuc2VNYXRyaXgnOiBmdW5jdGlvbiBTcGFyc2VNYXRyaXhEZW5zZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDEoeSwgeCwgYWRkU2NhbGFyLCB0cnVlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeFNwYXJzZU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMDQoeCwgeSwgYWRkU2NhbGFyKTtcbiAgICB9LFxuICAgICdBcnJheSwgQXJyYXknOiBmdW5jdGlvbiBBcnJheUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgbWF0cml4KHkpKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnQXJyYXksIE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKG1hdHJpeCh4KSwgeSk7XG4gICAgfSxcbiAgICAnTWF0cml4LCBBcnJheSc6IGZ1bmN0aW9uIE1hdHJpeEFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiB0aGlzKHgsIG1hdHJpeCh5KSk7XG4gICAgfSxcbiAgICAnRGVuc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIERlbnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh4LCB5LCBhZGRTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdTcGFyc2VNYXRyaXgsIGFueSc6IGZ1bmN0aW9uIFNwYXJzZU1hdHJpeEFueSh4LCB5KSB7XG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTAoeCwgeSwgYWRkU2NhbGFyLCBmYWxzZSk7XG4gICAgfSxcbiAgICAnYW55LCBEZW5zZU1hdHJpeCc6IGZ1bmN0aW9uIGFueURlbnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xNCh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ2FueSwgU3BhcnNlTWF0cml4JzogZnVuY3Rpb24gYW55U3BhcnNlTWF0cml4KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMCh5LCB4LCBhZGRTY2FsYXIsIHRydWUpO1xuICAgIH0sXG4gICAgJ0FycmF5LCBhbnknOiBmdW5jdGlvbiBBcnJheUFueSh4LCB5KSB7XG4gICAgICAvLyB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG4gICAgICByZXR1cm4gYWxnb3JpdGhtMTQobWF0cml4KHgpLCB5LCBhZGRTY2FsYXIsIGZhbHNlKS52YWx1ZU9mKCk7XG4gICAgfSxcbiAgICAnYW55LCBBcnJheSc6IGZ1bmN0aW9uIGFueUFycmF5KHgsIHkpIHtcbiAgICAgIC8vIHVzZSBtYXRyaXggaW1wbGVtZW50YXRpb25cbiAgICAgIHJldHVybiBhbGdvcml0aG0xNChtYXRyaXgoeSksIHgsIGFkZFNjYWxhciwgdHJ1ZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgYW55JzogYWRkU2NhbGFyLFxuICAgICdhbnksIGFueSwgLi4uYW55JzogZnVuY3Rpb24gYW55QW55QW55KHgsIHksIHJlc3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzKHgsIHkpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcyhyZXN1bHQsIHJlc3RbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwgYWRkU2NhbGFyLnNpZ25hdHVyZXMpKTtcbn0pOyIsImltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGlzTWF0cml4IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xudmFyIG5hbWUgPSAnZG90JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ2FkZFNjYWxhcicsICdtdWx0aXBseVNjYWxhcicsICdjb25qJywgJ3NpemUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRG90ID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIGNvbmosXG4gICAgc2l6ZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjdG9ycy4gVGhlIGRvdCBwcm9kdWN0IG9mXG4gICAqIGBBID0gW2ExLCBhMiwgLi4uLCBhbl1gIGFuZCBgQiA9IFtiMSwgYjIsIC4uLiwgYm5dYCBpcyBkZWZpbmVkIGFzOlxuICAgKlxuICAgKiAgICBkb3QoQSwgQikgPSBjb25qKGExKSAqIGIxICsgY29uaihhMikgKiBiMiArIC4uLiArIGNvbmooYW4pICogYm5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRvdCh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kb3QoWzIsIDQsIDFdLCBbMiwgMiwgM10pICAgICAgIC8vIHJldHVybnMgbnVtYmVyIDE1XG4gICAqICAgIG1hdGgubXVsdGlwbHkoWzIsIDQsIDFdLCBbMiwgMiwgM10pICAvLyByZXR1cm5zIG51bWJlciAxNVxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgbXVsdGlwbHksIGNyb3NzXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5IHwgTWF0cml4fSB4ICAgICBGaXJzdCB2ZWN0b3JcbiAgICogQHBhcmFtICB7QXJyYXkgfCBNYXRyaXh9IHkgICAgIFNlY29uZCB2ZWN0b3JcbiAgICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgIFJldHVybnMgdGhlIGRvdCBwcm9kdWN0IG9mIGB4YCBhbmQgYHlgXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgICdBcnJheSB8IERlbnNlTWF0cml4LCBBcnJheSB8IERlbnNlTWF0cml4JzogX2RlbnNlRG90LFxuICAgICdTcGFyc2VNYXRyaXgsIFNwYXJzZU1hdHJpeCc6IF9zcGFyc2VEb3RcbiAgfSk7XG5cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlRGltKHgsIHkpIHtcbiAgICB2YXIgeFNpemUgPSBfc2l6ZSh4KTtcblxuICAgIHZhciB5U2l6ZSA9IF9zaXplKHkpO1xuXG4gICAgdmFyIHhMZW4sIHlMZW47XG5cbiAgICBpZiAoeFNpemUubGVuZ3RoID09PSAxKSB7XG4gICAgICB4TGVuID0geFNpemVbMF07XG4gICAgfSBlbHNlIGlmICh4U2l6ZS5sZW5ndGggPT09IDIgJiYgeFNpemVbMV0gPT09IDEpIHtcbiAgICAgIHhMZW4gPSB4U2l6ZVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0V4cGVjdGVkIGEgY29sdW1uIHZlY3RvciwgaW5zdGVhZCBnb3QgYSBtYXRyaXggb2Ygc2l6ZSAoJyArIHhTaXplLmpvaW4oJywgJykgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh5U2l6ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHlMZW4gPSB5U2l6ZVswXTtcbiAgICB9IGVsc2UgaWYgKHlTaXplLmxlbmd0aCA9PT0gMiAmJiB5U2l6ZVsxXSA9PT0gMSkge1xuICAgICAgeUxlbiA9IHlTaXplWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRXhwZWN0ZWQgYSBjb2x1bW4gdmVjdG9yLCBpbnN0ZWFkIGdvdCBhIG1hdHJpeCBvZiBzaXplICgnICsgeVNpemUuam9pbignLCAnKSArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHhMZW4gIT09IHlMZW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdWZWN0b3JzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGggKCcgKyB4TGVuICsgJyAhPSAnICsgeUxlbiArICcpJyk7XG4gICAgaWYgKHhMZW4gPT09IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCBvZiBlbXB0eSB2ZWN0b3JzJyk7XG4gICAgcmV0dXJuIHhMZW47XG4gIH1cblxuICBmdW5jdGlvbiBfZGVuc2VEb3QoYSwgYikge1xuICAgIHZhciBOID0gX3ZhbGlkYXRlRGltKGEsIGIpO1xuXG4gICAgdmFyIGFkYXRhID0gaXNNYXRyaXgoYSkgPyBhLl9kYXRhIDogYTtcbiAgICB2YXIgYWR0ID0gaXNNYXRyaXgoYSkgPyBhLl9kYXRhdHlwZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgYmRhdGEgPSBpc01hdHJpeChiKSA/IGIuX2RhdGEgOiBiO1xuICAgIHZhciBiZHQgPSBpc01hdHJpeChiKSA/IGIuX2RhdGF0eXBlIDogdW5kZWZpbmVkOyAvLyBhcmUgdGhlc2UgMi1kaW1lbnNpb25hbCBjb2x1bW4gdmVjdG9ycz8gKGFzIG9wcG9zZWQgdG8gMS1kaW1lbnNpb25hbCB2ZWN0b3JzKVxuXG4gICAgdmFyIGFJc0NvbHVtbiA9IF9zaXplKGEpLmxlbmd0aCA9PT0gMjtcbiAgICB2YXIgYklzQ29sdW1uID0gX3NpemUoYikubGVuZ3RoID09PSAyO1xuICAgIHZhciBhZGQgPSBhZGRTY2FsYXI7XG4gICAgdmFyIG11bCA9IG11bHRpcGx5U2NhbGFyOyAvLyBwcm9jZXNzIGRhdGEgdHlwZXNcblxuICAgIGlmIChhZHQgJiYgYmR0ICYmIGFkdCA9PT0gYmR0ICYmIHR5cGVvZiBhZHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgZHQgPSBhZHQ7IC8vIGZpbmQgc2lnbmF0dXJlcyB0aGF0IG1hdGNoZXMgKGR0LCBkdClcblxuICAgICAgYWRkID0gdHlwZWQuZmluZChhZGRTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICAgIG11bCA9IHR5cGVkLmZpbmQobXVsdGlwbHlTY2FsYXIsIFtkdCwgZHRdKTtcbiAgICB9IC8vIGJvdGggdmVjdG9ycyAxLWRpbWVuc2lvbmFsXG5cblxuICAgIGlmICghYUlzQ29sdW1uICYmICFiSXNDb2x1bW4pIHtcbiAgICAgIHZhciBjID0gbXVsKGNvbmooYWRhdGFbMF0pLCBiZGF0YVswXSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgTjsgaSsrKSB7XG4gICAgICAgIGMgPSBhZGQoYywgbXVsKGNvbmooYWRhdGFbaV0pLCBiZGF0YVtpXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYztcbiAgICB9IC8vIGEgaXMgMS1kaW0sIGIgaXMgY29sdW1uXG5cblxuICAgIGlmICghYUlzQ29sdW1uICYmIGJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jID0gbXVsKGNvbmooYWRhdGFbMF0pLCBiZGF0YVswXVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBOOyBfaSsrKSB7XG4gICAgICAgIF9jID0gYWRkKF9jLCBtdWwoY29uaihhZGF0YVtfaV0pLCBiZGF0YVtfaV1bMF0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jO1xuICAgIH0gLy8gYSBpcyBjb2x1bW4sIGIgaXMgMS1kaW1cblxuXG4gICAgaWYgKGFJc0NvbHVtbiAmJiAhYklzQ29sdW1uKSB7XG4gICAgICB2YXIgX2MyID0gbXVsKGNvbmooYWRhdGFbMF1bMF0pLCBiZGF0YVswXSk7XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IE47IF9pMisrKSB7XG4gICAgICAgIF9jMiA9IGFkZChfYzIsIG11bChjb25qKGFkYXRhW19pMl1bMF0pLCBiZGF0YVtfaTJdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfYzI7XG4gICAgfSAvLyBib3RoIHZlY3RvcnMgYXJlIGNvbHVtblxuXG5cbiAgICBpZiAoYUlzQ29sdW1uICYmIGJJc0NvbHVtbikge1xuICAgICAgdmFyIF9jMyA9IG11bChjb25qKGFkYXRhWzBdWzBdKSwgYmRhdGFbMF1bMF0pO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAxOyBfaTMgPCBOOyBfaTMrKykge1xuICAgICAgICBfYzMgPSBhZGQoX2MzLCBtdWwoY29uaihhZGF0YVtfaTNdWzBdKSwgYmRhdGFbX2kzXVswXSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2MzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zcGFyc2VEb3QoeCwgeSkge1xuICAgIF92YWxpZGF0ZURpbSh4LCB5KTtcblxuICAgIHZhciB4aW5kZXggPSB4Ll9pbmRleDtcbiAgICB2YXIgeHZhbHVlcyA9IHguX3ZhbHVlcztcbiAgICB2YXIgeWluZGV4ID0geS5faW5kZXg7XG4gICAgdmFyIHl2YWx1ZXMgPSB5Ll92YWx1ZXM7IC8vIFRPRE8gb3B0aW1pemUgYWRkICYgbXVsIHVzaW5nIGRhdGF0eXBlXG5cbiAgICB2YXIgYyA9IDA7XG4gICAgdmFyIGFkZCA9IGFkZFNjYWxhcjtcbiAgICB2YXIgbXVsID0gbXVsdGlwbHlTY2FsYXI7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBqID0gMDtcblxuICAgIHdoaWxlIChpIDwgeGluZGV4Lmxlbmd0aCAmJiBqIDwgeWluZGV4Lmxlbmd0aCkge1xuICAgICAgdmFyIEkgPSB4aW5kZXhbaV07XG4gICAgICB2YXIgSiA9IHlpbmRleFtqXTtcblxuICAgICAgaWYgKEkgPCBKKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChJID4gSikge1xuICAgICAgICBqKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoSSA9PT0gSikge1xuICAgICAgICBjID0gYWRkKGMsIG11bCh4dmFsdWVzW2ldLCB5dmFsdWVzW2pdKSk7XG4gICAgICAgIGkrKztcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9IC8vIFRPRE8gcmVtb3ZlIHRoaXMgb25jZSAjMTc3MSBpcyBmaXhlZFxuXG5cbiAgZnVuY3Rpb24gX3NpemUoeCkge1xuICAgIHJldHVybiBpc01hdHJpeCh4KSA/IHguc2l6ZSgpIDogc2l6ZSh4KTtcbiAgfVxufSk7IiwiLy8gUmVzZXJ2ZWQga2V5d29yZHMgbm90IGFsbG93ZWQgdG8gdXNlIGluIHRoZSBwYXJzZXJcbmV4cG9ydCB2YXIga2V5d29yZHMgPSB7XG4gIGVuZDogdHJ1ZVxufTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBrZXl3b3JkcyB9IGZyb20gJy4uL2tleXdvcmRzLmpzJztcbmltcG9ydCB7IGRlZXBTdHJpY3RFcXVhbCwgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoV2l0aFRyYW5zZm9ybSddO1xuZXhwb3J0IHZhciBjcmVhdGVOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aFdpdGhUcmFuc2Zvcm1cbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIE5vZGVcbiAgICovXG4gIGZ1bmN0aW9uIE5vZGUoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXZhbHVhdGUgdGhlIG5vZGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gIFNjb3BlIHRvIHJlYWQvd3JpdGUgdmFyaWFibGVzXG4gICAqIEByZXR1cm4geyp9ICAgICAgICAgICAgICBSZXR1cm5zIHRoZSByZXN1bHRcbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIChzY29wZSkge1xuICAgIHJldHVybiB0aGlzLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gIH07XG5cbiAgTm9kZS5wcm90b3R5cGUudHlwZSA9ICdOb2RlJztcbiAgTm9kZS5wcm90b3R5cGUuaXNOb2RlID0gdHJ1ZTtcbiAgTm9kZS5wcm90b3R5cGUuY29tbWVudCA9ICcnO1xuICAvKipcbiAgICogQ29tcGlsZSB0aGUgbm9kZSBpbnRvIGFuIG9wdGltaXplZCwgZXZhdWF0YWJsZSBKYXZhU2NyaXB0IGZ1bmN0aW9uXG4gICAqIEByZXR1cm4ge3tldmFsdWF0ZTogZnVuY3Rpb24oW09iamVjdF0pfX0gb2JqZWN0XG4gICAqICAgICAgICAgICAgICAgIFJldHVybnMgYW4gb2JqZWN0IHdpdGggYSBmdW5jdGlvbiAnZXZhbHVhdGUnLFxuICAgKiAgICAgICAgICAgICAgICB3aGljaCBjYW4gYmUgaW52b2tlZCBhcyBleHByLmV2YWx1YXRlKFtzY29wZTogT2JqZWN0XSksXG4gICAqICAgICAgICAgICAgICAgIHdoZXJlIHNjb3BlIGlzIGFuIG9wdGlvbmFsIG9iamVjdCB3aXRoXG4gICAqICAgICAgICAgICAgICAgIHZhcmlhYmxlcy5cbiAgICovXG5cbiAgTm9kZS5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXhwciA9IHRoaXMuX2NvbXBpbGUobWF0aFdpdGhUcmFuc2Zvcm0sIHt9KTtcblxuICAgIHZhciBhcmdzID0ge307XG4gICAgdmFyIGNvbnRleHQgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gZXZhbHVhdGUoc2NvcGUpIHtcbiAgICAgIHZhciBzID0gc2NvcGUgfHwge307XG5cbiAgICAgIF92YWxpZGF0ZVNjb3BlKHMpO1xuXG4gICAgICByZXR1cm4gZXhwcihzLCBhcmdzLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXZhbHVhdGVcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgX2NvbXBpbGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHR5cGUgJyArIHRoaXMudHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBydW4gZm9yRWFjaCBvbiBhIE5vZGUgaW50ZXJmYWNlJyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7T3BlcmF0b3JOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBydW4gbWFwIG9uIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHdoZXRoZXIgYW4gb2JqZWN0IGlzIGEgTm9kZSwgZm9yIHVzZSB3aXRoIG1hcFxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHJldHVybnMge05vZGV9IFJldHVybnMgdGhlIGlucHV0IGlmIGl0J3MgYSBub2RlLCBlbHNlIHRocm93cyBhbiBFcnJvclxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX2lmTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKCFpc05vZGUobm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbGxiYWNrIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGEgTm9kZScpO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICAvKipcbiAgICogUmVjdXJzaXZlbHkgdHJhdmVyc2UgYWxsIG5vZGVzIGluIGEgbm9kZSB0cmVlLiBFeGVjdXRlcyBnaXZlbiBjYWxsYmFjayBmb3JcbiAgICogdGhpcyBub2RlIGFuZCBlYWNoIG9mIGl0cyBjaGlsZCBub2Rlcy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqICAgICAgICAgIEEgY2FsbGJhY2sgY2FsbGVkIGZvciBldmVyeSBub2RlIGluIHRoZSBub2RlIHRyZWUuXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudHJhdmVyc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBleGVjdXRlIGNhbGxiYWNrIGZvciBpdHNlbGZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBjYWxsYmFjayh0aGlzLCBudWxsLCBudWxsKTsgLy8gcmVjdXJzaXZlbHkgdHJhdmVyc2Ugb3ZlciBhbGwgY2hpbGRzIG9mIGEgbm9kZVxuXG4gICAgZnVuY3Rpb24gX3RyYXZlcnNlKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICBub2RlLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBwYXRoLCBwYXJlbnQpIHtcbiAgICAgICAgY2FsbGJhY2soY2hpbGQsIHBhdGgsIHBhcmVudCk7XG5cbiAgICAgICAgX3RyYXZlcnNlKGNoaWxkLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdHJhdmVyc2UodGhpcywgY2FsbGJhY2spO1xuICB9O1xuICAvKipcbiAgICogUmVjdXJzaXZlbHkgdHJhbnNmb3JtIGEgbm9kZSB0cmVlIHZpYSBhIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRvIHJlcGxhY2UgYWxsIG5vZGVzIG9mIHR5cGUgU3ltYm9sTm9kZSBoYXZpbmcgbmFtZSAneCcgd2l0aCBhXG4gICAqIENvbnN0YW50Tm9kZSB3aXRoIHZhbHVlIDI6XG4gICAqXG4gICAqICAgICBjb25zdCByZXMgPSBOb2RlLnRyYW5zZm9ybShmdW5jdGlvbiAobm9kZSwgcGF0aCwgcGFyZW50KSB7XG4gICAqICAgICAgIGlmIChub2RlICYmIG5vZGUuaXNTeW1ib2xOb2RlKSAmJiAobm9kZS5uYW1lID09PSAneCcpKSB7XG4gICAqICAgICAgICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUoMilcbiAgICogICAgICAgfVxuICAgKiAgICAgICBlbHNlIHtcbiAgICogICAgICAgICByZXR1cm4gbm9kZVxuICAgKiAgICAgICB9XG4gICAqICAgICB9KVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5vZGU6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqICAgICAgICAgIEEgbWFwcGluZyBmdW5jdGlvbiBhY2NlcHRpbmcgYSBub2RlLCBhbmQgcmV0dXJuaW5nXG4gICAqICAgICAgICAgIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBub2RlIG9yIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiAgICAgICAgICBTaWduYXR1cmU6IGNhbGxiYWNrKG5vZGU6IE5vZGUsIGluZGV4OiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlXG4gICAqIEByZXR1cm4ge05vZGV9IFJldHVybnMgdGhlIG9yaWdpbmFsIG5vZGUgb3IgaXRzIHJlcGxhY2VtZW50XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZnVuY3Rpb24gX3RyYW5zZm9ybShjaGlsZCwgcGF0aCwgcGFyZW50KSB7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSBjYWxsYmFjayhjaGlsZCwgcGF0aCwgcGFyZW50KTtcblxuICAgICAgaWYgKHJlcGxhY2VtZW50ICE9PSBjaGlsZCkge1xuICAgICAgICAvLyBzdG9wIGl0ZXJhdGluZyB3aGVuIHRoZSBub2RlIGlzIHJlcGxhY2VkXG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkLm1hcChfdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RyYW5zZm9ybSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfTtcbiAgLyoqXG4gICAqIEZpbmQgYW55IG5vZGUgaW4gdGhlIG5vZGUgdHJlZSBtYXRjaGluZyBnaXZlbiBmaWx0ZXIgZnVuY3Rpb24uIEZvciBleGFtcGxlLCB0b1xuICAgKiBmaW5kIGFsbCBub2RlcyBvZiB0eXBlIFN5bWJvbE5vZGUgaGF2aW5nIG5hbWUgJ3gnOlxuICAgKlxuICAgKiAgICAgY29uc3QgcmVzdWx0cyA9IE5vZGUuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAqICAgICAgIHJldHVybiAobm9kZSAmJiBub2RlLmlzU3ltYm9sTm9kZSkgJiYgKG5vZGUubmFtZSA9PT0gJ3gnKVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihub2RlOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiAgICAgICAgICAgIEEgdGVzdCBmdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSB3aGVuIGEgbm9kZSBtYXRjaGVzLCBhbmQgZmFsc2VcbiAgICogICAgICAgICAgICBvdGhlcndpc2UuIEZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICogICAgICAgICAgICBjYWxsYmFjayhub2RlOiBOb2RlLCBpbmRleDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpIDogYm9vbGVhblxuICAgKiBAcmV0dXJuIHtOb2RlW119IG5vZGVzICAgICAgIEFuIGFycmF5IHdpdGggbm9kZXMgbWF0Y2hpbmcgZ2l2ZW4gZmlsdGVyIGNyaXRlcmlhXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIG5vZGVzID0gW107XG4gICAgdGhpcy50cmF2ZXJzZShmdW5jdGlvbiAobm9kZSwgcGF0aCwgcGFyZW50KSB7XG4gICAgICBpZiAoY2FsbGJhY2sobm9kZSwgcGF0aCwgcGFyZW50KSkge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBub2RlcztcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNoYWxsb3cgY2xvbmUgb2YgdGhpcyBub2RlXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIG9mIHRoZSBOb2RlIGltcGxlbWVudGF0aW9uc1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNsb25lIGEgTm9kZSBpbnRlcmZhY2UnKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRlZXAgY2xvbmUgb2YgdGhpcyBub2RlXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuY2xvbmVEZWVwID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuY2xvbmVEZWVwKCk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBEZWVwIGNvbXBhcmUgdGhpcyBub2RlIHdpdGggYW5vdGhlciBub2RlLlxuICAgKiBAcGFyYW0ge05vZGV9IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGJvdGggbm9kZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kXG4gICAqICAgICAgICAgICAgICAgICAgIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIChhcyBkbyB0aGVpciBjaGlsZHMpXG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyID8gZGVlcFN0cmljdEVxdWFsKHRoaXMsIG90aGVyKSA6IGZhbHNlO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIGdldCBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxuICAgKiB7XG4gICAqICAgIGhhbmRsZXI6IC8vVGhpcyBjYW4gYmUgYSBjYWxsYmFjayBmdW5jdGlvbiBvZiB0aGUgZm9ybVxuICAgKiAgICAgICAgICAgICAvLyBcImZ1bmN0aW9uIGNhbGxiYWNrKG5vZGUsIG9wdGlvbnMpXCJvclxuICAgKiAgICAgICAgICAgICAvLyBhIG1hcCB0aGF0IG1hcHMgZnVuY3Rpb24gbmFtZXMgKHVzZWQgaW4gRnVuY3Rpb25Ob2RlcylcbiAgICogICAgICAgICAgICAgLy8gdG8gY2FsbGJhY2tzXG4gICAqICAgIHBhcmVudGhlc2lzOiBcImtlZXBcIiAvL3RoZSBwYXJlbnRoZXNpcyBvcHRpb24gKFRoaXMgaXMgb3B0aW9uYWwpXG4gICAqIH1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3RvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBCb3RoIC50b0pTT04oKSBhbmQgdGhlIHN0YXRpYyAuZnJvbUpTT04oanNvbikgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IGFsbFxuICAgKiBpbXBsZW1lbnRhdGlvbnMgb2YgTm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXJpYWxpemUgb2JqZWN0OiB0b0pTT04gbm90IGltcGxlbWVudGVkIGJ5ICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb24uICh3cmFwcGVyIGZ1bmN0aW9uKVxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBnZXQgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICoge1xuICAgKiAgICBoYW5kbGVyOiAvL1RoaXMgY2FuIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gb2YgdGhlIGZvcm1cbiAgICogICAgICAgICAgICAgLy8gXCJmdW5jdGlvbiBjYWxsYmFjayhub2RlLCBvcHRpb25zKVwiIG9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBjdXN0b21TdHJpbmc7XG5cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBjdXN0b21TdHJpbmcgPSBvcHRpb25zLmhhbmRsZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qgb3IgZnVuY3Rpb24gZXhwZWN0ZWQgYXMgY2FsbGJhY2snKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVN0cmluZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHJpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIHN0cmluZyBvdXRwdXQuXG4gICAqIFRoaXMgaGFzIHRvIGJlIGltcGxlbWVudGVkIGJ5IGV2ZXJ5IE5vZGVcbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBvZiB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbnNcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ190b1N0cmluZyBub3QgaW1wbGVtZW50ZWQgZm9yICcgKyB0aGlzLnR5cGUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uLiAod3JhcHBlciBmdW5jdGlvbilcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gZ2V0IGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAqIHtcbiAgICogICAgaGFuZGxlcjogLy9UaGlzIGNhbiBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIHRoZSBmb3JtXG4gICAqICAgICAgICAgICAgIC8vIFwiZnVuY3Rpb24gY2FsbGJhY2sobm9kZSwgb3B0aW9ucylcIm9yXG4gICAqICAgICAgICAgICAgIC8vIGEgbWFwIHRoYXQgbWFwcyBmdW5jdGlvbiBuYW1lcyAodXNlZCBpbiBGdW5jdGlvbk5vZGVzKVxuICAgKiAgICAgICAgICAgICAvLyB0byBjYWxsYmFja3NcbiAgICogICAgcGFyZW50aGVzaXM6IFwia2VlcFwiIC8vdGhlIHBhcmVudGhlc2lzIG9wdGlvbiAoVGhpcyBpcyBvcHRpb25hbClcbiAgICogfVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBOb2RlLnByb3RvdHlwZS50b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVRleDtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb3B0aW9ucy5oYW5kbGVyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGN1c3RvbVRleCA9IG9wdGlvbnMuaGFuZGxlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBvciBmdW5jdGlvbiBleHBlY3RlZCBhcyBjYWxsYmFjaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdG9UZXgob3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgTGFUZVggb3V0cHV0LlxuICAgKiBUaGlzIGhhcyB0byBiZSBpbXBsZW1lbnRlZCBieSBldmVyeSBOb2RlXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggb2YgdGhlIE5vZGUgaW1wbGVtZW50YXRpb25zXG4gICAgdGhyb3cgbmV3IEVycm9yKCdfdG9UZXggbm90IGltcGxlbWVudGVkIGZvciAnICsgdGhpcy50eXBlKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBjb250ZW50IG9mIHRoZSBjdXJyZW50IE5vZGUuXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICoqL1xuXG5cbiAgTm9kZS5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBzeW1ib2wgbmFtZXMgb2YgYSBzY29wZS5cbiAgICogVGhyb3dzIGFuIGVycm9yIHdoZW4gdGhlIHNjb3BlIGNvbnRhaW5zIGFuIGlsbGVnYWwgc3ltYm9sLlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2NvcGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBfdmFsaWRhdGVTY29wZShzY29wZSkge1xuICAgIGZvciAodmFyIHN5bWJvbCBpbiBzY29wZSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHNjb3BlLCBzeW1ib2wpKSB7XG4gICAgICAgIGlmIChzeW1ib2wgaW4ga2V5d29yZHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Njb3BlIGNvbnRhaW5zIGFuIGlsbGVnYWwgc3ltYm9sLCBcIicgKyBzeW1ib2wgKyAnXCIgaXMgYSByZXNlcnZlZCBrZXl3b3JkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBJbmRleEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3IvSW5kZXhFcnJvci5qcyc7XG4vKipcbiAqIFRyYW5zZm9ybSB6ZXJvLWJhc2VkIGluZGljZXMgdG8gb25lLWJhc2VkIGluZGljZXMgaW4gZXJyb3JzXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEByZXR1cm5zIHtFcnJvciB8IEluZGV4RXJyb3J9IFJldHVybnMgdGhlIHRyYW5zZm9ybWVkIGVycm9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtKGVycikge1xuICBpZiAoZXJyICYmIGVyci5pc0luZGV4RXJyb3IpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4RXJyb3IoZXJyLmluZGV4ICsgMSwgZXJyLm1pbiArIDEsIGVyci5tYXggIT09IHVuZGVmaW5lZCA/IGVyci5tYXggKyAxIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59IiwiaW1wb3J0IHsgZXJyb3JUcmFuc2Zvcm0gfSBmcm9tICcuLi8uLi90cmFuc2Zvcm0vdXRpbHMvZXJyb3JUcmFuc2Zvcm0uanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzRmFjdG9yeShfcmVmKSB7XG4gIHZhciB7XG4gICAgc3Vic2V0XG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBwYXJ0IG9mIGFuIG9iamVjdDpcbiAgICpcbiAgICogLSBSZXRyaWV2ZSBhIHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gICAqIC0gUmV0cmlldmUgYSBwYXJ0IG9mIGEgc3RyaW5nXG4gICAqIC0gUmV0cmlldmUgYSBtYXRyaXggc3Vic2V0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgQXJyYXkgfCBNYXRyaXggfCBzdHJpbmd9IG9iamVjdFxuICAgKiBAcGFyYW0ge0luZGV4fSBpbmRleFxuICAgKiBAcmV0dXJuIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gUmV0dXJucyB0aGUgc3Vic2V0XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gYWNjZXNzKG9iamVjdCwgaW5kZXgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5zdWJzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gTWF0cml4XG4gICAgICAgIHJldHVybiBvYmplY3Quc3Vic2V0KGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVE9ETzogbW92ZSBnZXRTdHJpbmdTdWJzZXQgaW50byBhIHNlcGFyYXRlIHV0aWwgZmlsZSwgdXNlIHRoYXRcbiAgICAgICAgcmV0dXJuIHN1YnNldChvYmplY3QsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKCFpbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgYSBudW1lcmljIGluZGV4IGFzIG9iamVjdCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldFNhZmVQcm9wZXJ0eShvYmplY3QsIGluZGV4LmdldE9iamVjdFByb3BlcnR5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFwcGx5IGluZGV4OiB1bnN1cHBvcnRlZCB0eXBlIG9mIG9iamVjdCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyb3JUcmFuc2Zvcm0oZXJyKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQXJyYXlOb2RlLCBpc0NvbnN0YW50Tm9kZSwgaXNGdW5jdGlvbk5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzT2JqZWN0Tm9kZSwgaXNQYXJlbnRoZXNpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgYWNjZXNzRmFjdG9yeSB9IGZyb20gJy4vdXRpbHMvYWNjZXNzLmpzJztcbnZhciBuYW1lID0gJ0FjY2Vzc29yTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzdWJzZXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVBY2Nlc3Nvck5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcbiAgdmFyIGFjY2VzcyA9IGFjY2Vzc0ZhY3Rvcnkoe1xuICAgIHN1YnNldFxuICB9KTtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBY2Nlc3Nvck5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEFjY2VzcyBhbiBvYmplY3QgcHJvcGVydHkgb3IgZ2V0IGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG9iamVjdCAgICAgICAgICAgICAgICAgVGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJldHJpZXZlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIHByb3BlcnR5IG9yIHN1YnNldC5cbiAgICogQHBhcmFtIHtJbmRleE5vZGV9IGluZGV4ICAgICAgICAgICAgIEluZGV4Tm9kZSBjb250YWluaW5nIHJhbmdlc1xuICAgKi9cblxuICBmdW5jdGlvbiBBY2Nlc3Nvck5vZGUob2JqZWN0LCBpbmRleCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBY2Nlc3Nvck5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKG9iamVjdCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm9iamVjdFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0luZGV4Tm9kZShpbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZGV4Tm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiaW5kZXhcIicpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0IHx8IG51bGw7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4OyAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbmRleC5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmluZGV4LmdldE9iamVjdFByb3BlcnR5KCkgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3QubmFtZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFzc2lnbiBhIG5ldyBuYW1lLCBuYW1lIGlzIHJlYWQtb25seScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUudHlwZSA9ICdBY2Nlc3Nvck5vZGUnO1xuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLmlzQWNjZXNzb3JOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxJbmRleCA9IHRoaXMuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgaWYgKHRoaXMuaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICB2YXIgcHJvcCA9IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQWNjZXNzb3JOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBnZXRTYWZlUHJvcGVydHkoZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCksIHByb3ApO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBY2Nlc3Nvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IGV2YWxPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB2YXIgaW5kZXggPSBldmFsSW5kZXgoc2NvcGUsIGFyZ3MsIG9iamVjdCk7IC8vIHdlIHBhc3Mgb2JqZWN0IGhlcmUgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgcmV0dXJuIGFjY2VzcyhvYmplY3QsIGluZGV4KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFjY2Vzc29yTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHRoaXMub2JqZWN0LCAnb2JqZWN0JywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5pbmRleCwgJ2luZGV4JywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQWNjZXNzb3JOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtBY2Nlc3Nvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKSkpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtBY2Nlc3Nvck5vZGV9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZSh0aGlzLm9iamVjdCwgdGhpcy5pbmRleCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICcoJyArIG9iamVjdCArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvSFRNTChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcy5vYmplY3QpKSB7XG4gICAgICBvYmplY3QgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBvYmplY3QgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIHRoaXMuaW5kZXgudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMub2JqZWN0LnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKG5lZWRQYXJlbnRoZXNpcyh0aGlzLm9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9ICdcXFxcbGVmdChcXCcgKyBvYmplY3QgKyBcXCdcXFxccmlnaHQpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgdGhpcy5pbmRleC50b1RleChvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBY2Nlc3Nvck5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQWNjZXNzb3JOb2RlJyxcbiAgICAgIG9iamVjdDogdGhpcy5vYmplY3QsXG4gICAgICBpbmRleDogdGhpcy5pbmRleFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBY2Nlc3Nvck5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFjY2Vzc29yTm9kZVwiLCBvYmplY3Q6IC4uLiwgaW5kZXg6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtBY2Nlc3Nvck5vZGV9XG4gICAqL1xuXG5cbiAgQWNjZXNzb3JOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFjY2Vzc29yTm9kZShqc29uLm9iamVjdCwganNvbi5pbmRleCk7XG4gIH07XG4gIC8qKlxuICAgKiBBcmUgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlKSB7XG4gICAgLy8gVE9ETzogbWF5YmUgbWFrZSBhIG1ldGhvZCBvbiB0aGUgbm9kZXMgd2hpY2ggdGVsbHMgd2hldGhlciB0aGV5IG5lZWQgcGFyZW50aGVzaXM/XG4gICAgcmV0dXJuICEoaXNBY2Nlc3Nvck5vZGUobm9kZSkgfHwgaXNBcnJheU5vZGUobm9kZSkgfHwgaXNDb25zdGFudE5vZGUobm9kZSkgfHwgaXNGdW5jdGlvbk5vZGUobm9kZSkgfHwgaXNPYmplY3ROb2RlKG5vZGUpIHx8IGlzUGFyZW50aGVzaXNOb2RlKG5vZGUpIHx8IGlzU3ltYm9sTm9kZShub2RlKSk7XG4gIH1cblxuICByZXR1cm4gQWNjZXNzb3JOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0FycmF5Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUFycmF5Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBBcnJheU5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGFuIDEtZGltZW5zaW9uYWwgYXJyYXkgd2l0aCBpdGVtc1xuICAgKiBAcGFyYW0ge05vZGVbXX0gW2l0ZW1zXSAgIDEgZGltZW5zaW9uYWwgYXJyYXkgd2l0aCBpdGVtc1xuICAgKi9cbiAgZnVuY3Rpb24gQXJyYXlOb2RlKGl0ZW1zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFycmF5Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zIHx8IFtdOyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuaXRlbXMpIHx8ICF0aGlzLml0ZW1zLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICBBcnJheU5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50eXBlID0gJ0FycmF5Tm9kZSc7XG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuaXNBcnJheU5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBBcnJheU5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxJdGVtcyA9IG1hcCh0aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuICAgIHZhciBhc01hdHJpeCA9IG1hdGguY29uZmlnLm1hdHJpeCAhPT0gJ0FycmF5JztcblxuICAgIGlmIChhc01hdHJpeCkge1xuICAgICAgdmFyIG1hdHJpeCA9IG1hdGgubWF0cml4O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBcnJheU5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG1hdHJpeChtYXAoZXZhbEl0ZW1zLCBmdW5jdGlvbiAoZXZhbEl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEl0ZW0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFycmF5Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbWFwKGV2YWxJdGVtcywgZnVuY3Rpb24gKGV2YWxJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGV2YWxJdGVtKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgIGNhbGxiYWNrKG5vZGUsICdpdGVtc1snICsgaSArICddJywgdGhpcyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFycmF5Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QXJyYXlOb2RlfSBSZXR1cm5zIGEgdHJhbnNmb3JtZWQgY29weSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZW1zW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaXRlbXNbaV0sICdpdGVtc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQXJyYXlOb2RlKGl0ZW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7QXJyYXlOb2RlfVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUodGhpcy5pdGVtcy5zbGljZSgwKSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuICdbJyArIGl0ZW1zLmpvaW4oJywgJykgKyAnXSc7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQXJyYXlOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0FycmF5Tm9kZScsXG4gICAgICBpdGVtczogdGhpcy5pdGVtc1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBcnJheU5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkFycmF5Tm9kZVwiLCBpdGVtczogWy4uLl19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QXJyYXlOb2RlfVxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUoanNvbi5pdGVtcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBBcnJheU5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPls8L3NwYW4+JyArIGl0ZW1zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPl08L3NwYW4+JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEFycmF5Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcyA9ICdcXFxcYmVnaW57Ym1hdHJpeH0nO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKG5vZGUuaXRlbXMpIHtcbiAgICAgICAgcyArPSBub2RlLml0ZW1zLm1hcChmdW5jdGlvbiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS50b1RleChvcHRpb25zKTtcbiAgICAgICAgfSkuam9pbignJicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyArPSBub2RlLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgfSAvLyBuZXcgbGluZVxuXG5cbiAgICAgIHMgKz0gJ1xcXFxcXFxcJztcbiAgICB9KTtcbiAgICBzICs9ICdcXFxcZW5ke2JtYXRyaXh9JztcbiAgICByZXR1cm4gcztcbiAgfTtcblxuICByZXR1cm4gQXJyYXlOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIi8vIGxpc3Qgb2YgaWRlbnRpZmllcnMgb2Ygbm9kZXMgaW4gb3JkZXIgb2YgdGhlaXIgcHJlY2VkZW5jZVxuLy8gYWxzbyBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBsZWZ0L3JpZ2h0IGFzc29jaWF0aXZpdHlcbi8vIGFuZCB3aGljaCBvdGhlciBvcGVyYXRvciB0aGUgb3BlcmF0b3IgaXMgYXNzb2NpYXRpdmUgd2l0aFxuLy8gRXhhbXBsZTpcbi8vIGFkZGl0aW9uIGlzIGFzc29jaWF0aXZlIHdpdGggYWRkaXRpb24gYW5kIHN1YnRyYWN0aW9uLCBiZWNhdXNlOlxuLy8gKGErYikrYz1hKyhiK2MpXG4vLyAoYStiKS1jPWErKGItYylcbi8vXG4vLyBwb3N0Zml4IG9wZXJhdG9ycyBhcmUgbGVmdCBhc3NvY2lhdGl2ZSwgcHJlZml4IG9wZXJhdG9yc1xuLy8gYXJlIHJpZ2h0IGFzc29jaWF0aXZlXG4vL1xuLy8gSXQncyBhbHNvIHBvc3NpYmxlIHRvIHNldCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4vLyBsYXRleFBhcmVuczogaWYgc2V0IHRvIGZhbHNlLCB0aGlzIG5vZGUgZG9lc24ndCBuZWVkIHRvIGJlIGVuY2xvc2VkXG4vLyAgICAgICAgICAgICAgaW4gcGFyZW50aGVzZXMgd2hlbiB1c2luZyBMYVRlWFxuLy8gbGF0ZXhMZWZ0UGFyZW5zOiBpZiBzZXQgdG8gZmFsc2UsIHRoaXMgIU9wZXJhdG9yTm9kZSdzIVxuLy8gICAgICAgICAgICAgICAgICBsZWZ0IGFyZ3VtZW50IGRvZXNuJ3QgbmVlZCB0byBiZSBlbmNsb3NlZFxuLy8gICAgICAgICAgICAgICAgICBpbiBwYXJlbnRoZXNlc1xuLy8gbGF0ZXhSaWdodFBhcmVuczogdGhlIHNhbWUgZm9yIHRoZSByaWdodCBhcmd1bWVudFxuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi91dGlscy9vYmplY3QuanMnO1xuZXhwb3J0IHZhciBwcm9wZXJ0aWVzID0gW3tcbiAgLy8gYXNzaWdubWVudFxuICBBc3NpZ25tZW50Tm9kZToge30sXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGU6IHt9XG59LCB7XG4gIC8vIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25cbiAgQ29uZGl0aW9uYWxOb2RlOiB7XG4gICAgbGF0ZXhMZWZ0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFBhcmVuczogZmFsc2UgLy8gY29uZGl0aW9uYWxzIGRvbid0IG5lZWQgcGFyZW50aGVzZXMgaW4gTGFUZVggYmVjYXVzZVxuICAgIC8vIHRoZXkgYXJlIDIgZGltZW5zaW9uYWxcblxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgb3JcbiAgJ09wZXJhdG9yTm9kZTpvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGxvZ2ljYWwgeG9yXG4gICdPcGVyYXRvck5vZGU6eG9yJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbG9naWNhbCBhbmRcbiAgJ09wZXJhdG9yTm9kZTphbmQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIG9yXG4gICdPcGVyYXRvck5vZGU6Yml0T3InOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBiaXR3aXNlIHhvclxuICAnT3BlcmF0b3JOb2RlOmJpdFhvcic6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHdpc2UgYW5kXG4gICdPcGVyYXRvck5vZGU6Yml0QW5kJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gcmVsYXRpb25hbCBvcGVyYXRvcnNcbiAgJ09wZXJhdG9yTm9kZTplcXVhbCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnVuZXF1YWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpzbWFsbGVyJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bGFyZ2VyJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6c21hbGxlckVxJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6bGFyZ2VyRXEnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgUmVsYXRpb25hbE5vZGU6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIGJpdHNoaWZ0IG9wZXJhdG9yc1xuICAnT3BlcmF0b3JOb2RlOmxlZnRTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnJpZ2h0TG9nU2hpZnQnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyB1bml0IGNvbnZlcnNpb25cbiAgJ09wZXJhdG9yTm9kZTp0byc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCcsXG4gICAgYXNzb2NpYXRpdmVXaXRoOiBbXVxuICB9XG59LCB7XG4gIC8vIHJhbmdlXG4gIFJhbmdlTm9kZToge31cbn0sIHtcbiAgLy8gYWRkaXRpb24sIHN1YnRyYWN0aW9uXG4gICdPcGVyYXRvck5vZGU6YWRkJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOmFkZCcsICdPcGVyYXRvck5vZGU6c3VidHJhY3QnXVxuICB9LFxuICAnT3BlcmF0b3JOb2RlOnN1YnRyYWN0Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdXG4gIH1cbn0sIHtcbiAgLy8gbXVsdGlwbHksIGRpdmlkZSwgbW9kdWx1c1xuICAnT3BlcmF0b3JOb2RlOm11bHRpcGx5Jzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdsZWZ0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFsnT3BlcmF0b3JOb2RlOm11bHRpcGx5JywgJ09wZXJhdG9yTm9kZTpkaXZpZGUnLCAnT3BlcmF0b3I6ZG90TXVsdGlwbHknLCAnT3BlcmF0b3I6ZG90RGl2aWRlJ11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW10sXG4gICAgbGF0ZXhMZWZ0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFJpZ2h0UGFyZW5zOiBmYWxzZSxcbiAgICBsYXRleFBhcmVuczogZmFsc2UgLy8gZnJhY3Rpb25zIGRvbid0IHJlcXVpcmUgcGFyZW50aGVzZXMgYmVjYXVzZVxuICAgIC8vIHRoZXkncmUgMiBkaW1lbnNpb25hbCwgc28gcGFyZW5zIGFyZW4ndCBuZWVkZWRcbiAgICAvLyBpbiBMYVRlWFxuXG4gIH0sXG4gICdPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHknOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogWydPcGVyYXRvck5vZGU6bXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRpdmlkZScsICdPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHknLCAnT3BlcmF0b3JOb2RlOmRvRGl2aWRlJ11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpkb3REaXZpZGUnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTptb2QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyB1bmFyeSBwcmVmaXggb3BlcmF0b3JzXG4gICdPcGVyYXRvck5vZGU6dW5hcnlQbHVzJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTp1bmFyeU1pbnVzJzoge1xuICAgIGFzc29jaWF0aXZpdHk6ICdyaWdodCdcbiAgfSxcbiAgJ09wZXJhdG9yTm9kZTpiaXROb3QnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0J1xuICB9LFxuICAnT3BlcmF0b3JOb2RlOm5vdCc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnXG4gIH1cbn0sIHtcbiAgLy8gZXhwb25lbnRpYXRpb25cbiAgJ09wZXJhdG9yTm9kZTpwb3cnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ3JpZ2h0JyxcbiAgICBhc3NvY2lhdGl2ZVdpdGg6IFtdLFxuICAgIGxhdGV4UmlnaHRQYXJlbnM6IGZhbHNlIC8vIHRoZSBleHBvbmVudCBkb2Vzbid0IG5lZWQgcGFyZW50aGVzZXMgaW5cbiAgICAvLyBMYVRlWCBiZWNhdXNlIGl0J3MgMiBkaW1lbnNpb25hbFxuICAgIC8vIChpdCdzIG9uIHRvcClcblxuICB9LFxuICAnT3BlcmF0b3JOb2RlOmRvdFBvdyc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAncmlnaHQnLFxuICAgIGFzc29jaWF0aXZlV2l0aDogW11cbiAgfVxufSwge1xuICAvLyBmYWN0b3JpYWxcbiAgJ09wZXJhdG9yTm9kZTpmYWN0b3JpYWwnOiB7XG4gICAgYXNzb2NpYXRpdml0eTogJ2xlZnQnXG4gIH1cbn0sIHtcbiAgLy8gbWF0cml4IHRyYW5zcG9zZVxuICAnT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSc6IHtcbiAgICBhc3NvY2lhdGl2aXR5OiAnbGVmdCdcbiAgfVxufV07XG4vKipcbiAqIEdldCB0aGUgcHJlY2VkZW5jZSBvZiBhIE5vZGUuXG4gKiBIaWdoZXIgbnVtYmVyIGZvciBoaWdoZXIgcHJlY2VkZW5jZSwgc3RhcnRpbmcgd2l0aCAwLlxuICogUmV0dXJucyBudWxsIGlmIHRoZSBwcmVjZWRlbmNlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IF9ub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge251bWJlciB8IG51bGx9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZWNlZGVuY2UoX25vZGUsIHBhcmVudGhlc2lzKSB7XG4gIHZhciBub2RlID0gX25vZGU7XG5cbiAgaWYgKHBhcmVudGhlc2lzICE9PSAna2VlcCcpIHtcbiAgICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICBub2RlID0gX25vZGUuZ2V0Q29udGVudCgpO1xuICB9XG5cbiAgdmFyIGlkZW50aWZpZXIgPSBub2RlLmdldElkZW50aWZpZXIoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaWRlbnRpZmllciBpbiBwcm9wZXJ0aWVzW2ldKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogR2V0IHRoZSBhc3NvY2lhdGl2aXR5IG9mIGFuIG9wZXJhdG9yIChsZWZ0IG9yIHJpZ2h0KS5cbiAqIFJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyAnbGVmdCcgb3IgJ3JpZ2h0JyBvciBudWxsIGlmXG4gKiB0aGUgYXNzb2NpYXRpdml0eSBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IF9ub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAqIEByZXR1cm4ge3N0cmluZ3xudWxsfVxuICogQHRocm93cyB7RXJyb3J9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFzc29jaWF0aXZpdHkoX25vZGUsIHBhcmVudGhlc2lzKSB7XG4gIHZhciBub2RlID0gX25vZGU7XG5cbiAgaWYgKHBhcmVudGhlc2lzICE9PSAna2VlcCcpIHtcbiAgICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgICBub2RlID0gX25vZGUuZ2V0Q29udGVudCgpO1xuICB9XG5cbiAgdmFyIGlkZW50aWZpZXIgPSBub2RlLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGluZGV4ID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG5cbiAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgLy8gbm9kZSBpc24ndCBpbiB0aGUgbGlzdFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpbmRleF1baWRlbnRpZmllcl07XG5cbiAgaWYgKGhhc093blByb3BlcnR5KHByb3BlcnR5LCAnYXNzb2NpYXRpdml0eScpKSB7XG4gICAgaWYgKHByb3BlcnR5LmFzc29jaWF0aXZpdHkgPT09ICdsZWZ0Jykge1xuICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdml0eSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfSAvLyBhc3NvY2lhdGl2aXR5IGlzIGludmFsaWRcblxuXG4gICAgdGhyb3cgRXJyb3IoJ1xcJycgKyBpZGVudGlmaWVyICsgJ1xcJyBoYXMgdGhlIGludmFsaWQgYXNzb2NpYXRpdml0eSBcXCcnICsgcHJvcGVydHkuYXNzb2NpYXRpdml0eSArICdcXCcuJyk7XG4gIH0gLy8gYXNzb2NpYXRpdml0eSBpcyB1bmRlZmluZWRcblxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhbiBvcGVyYXRvciBpcyBhc3NvY2lhdGl2ZSB3aXRoIGFub3RoZXIgb3BlcmF0b3IuXG4gKiBSZXR1cm5zIGVpdGhlciB0cnVlIG9yIGZhbHNlIG9yIG51bGwgaWYgbm90IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlQVxuICogQHBhcmFtIHtOb2RlfSBub2RlQlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudGhlc2lzXG4gKiBAcmV0dXJuIHtib29sZWFuIHwgbnVsbH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBc3NvY2lhdGl2ZVdpdGgobm9kZUEsIG5vZGVCLCBwYXJlbnRoZXNpcykge1xuICAvLyBQYXJlbnRoZXNpc05vZGVzIGFyZSBvbmx5IGlnbm9yZWQgd2hlbiBub3QgaW4gJ2tlZXAnIG1vZGVcbiAgdmFyIGEgPSBwYXJlbnRoZXNpcyAhPT0gJ2tlZXAnID8gbm9kZUEuZ2V0Q29udGVudCgpIDogbm9kZUE7XG4gIHZhciBiID0gcGFyZW50aGVzaXMgIT09ICdrZWVwJyA/IG5vZGVBLmdldENvbnRlbnQoKSA6IG5vZGVCO1xuICB2YXIgaWRlbnRpZmllckEgPSBhLmdldElkZW50aWZpZXIoKTtcbiAgdmFyIGlkZW50aWZpZXJCID0gYi5nZXRJZGVudGlmaWVyKCk7XG4gIHZhciBpbmRleCA9IGdldFByZWNlZGVuY2UoYSwgcGFyZW50aGVzaXMpO1xuXG4gIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgIC8vIG5vZGUgaXNuJ3QgaW4gdGhlIGxpc3RcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaW5kZXhdW2lkZW50aWZpZXJBXTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkocHJvcGVydHksICdhc3NvY2lhdGl2ZVdpdGgnKSAmJiBwcm9wZXJ0eS5hc3NvY2lhdGl2ZVdpdGggaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJvcGVydHkuYXNzb2NpYXRpdmVXaXRoW2ldID09PSBpZGVudGlmaWVyQikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gYXNzb2NpYXRpdmVXaXRoIGlzIG5vdCBkZWZpbmVkXG5cblxuICByZXR1cm4gbnVsbDtcbn0iLCJpbXBvcnQgeyBpc0FjY2Vzc29yTm9kZSwgaXNJbmRleE5vZGUsIGlzTm9kZSwgaXNTeW1ib2xOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5LCBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGFjY2Vzc0ZhY3RvcnkgfSBmcm9tICcuL3V0aWxzL2FjY2Vzcy5qcyc7XG5pbXBvcnQgeyBhc3NpZ25GYWN0b3J5IH0gZnJvbSAnLi91dGlscy9hc3NpZ24uanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG52YXIgbmFtZSA9ICdBc3NpZ25tZW50Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydzdWJzZXQnLCAnP21hdHJpeCcsIC8vIEZJWE1FOiBzaG91bGQgbm90IGJlIG5lZWRlZCBhdCBhbGwsIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHN1YnNldFxuJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQXNzaWdubWVudE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG4gIHZhciBhY2Nlc3MgPSBhY2Nlc3NGYWN0b3J5KHtcbiAgICBzdWJzZXRcbiAgfSk7XG4gIHZhciBhc3NpZ24gPSBhc3NpZ25GYWN0b3J5KHtcbiAgICBzdWJzZXQsXG4gICAgbWF0cml4XG4gIH0pO1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEFzc2lnbm1lbnROb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKlxuICAgKiBEZWZpbmUgYSBzeW1ib2wsIGxpa2UgYGE9My4yYCwgdXBkYXRlIGEgcHJvcGVydHkgbGlrZSBgYS5iPTMuMmAsIG9yXG4gICAqIHJlcGxhY2UgYSBzdWJzZXQgb2YgYSBtYXRyaXggbGlrZSBgQVsyLDJdPTQyYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbmV3IEFzc2lnbm1lbnROb2RlKHN5bWJvbCwgdmFsdWUpXG4gICAqICAgICBuZXcgQXNzaWdubWVudE5vZGUob2JqZWN0LCBpbmRleCwgdmFsdWUpXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IENvbnN0YW50Tm9kZSgyKSkgICAgICAgICAgICAgICAgICAgICAgIC8vIGE9MlxuICAgKiAgICBuZXcgQXNzaWdubWVudE5vZGUobmV3IFN5bWJvbE5vZGUoJ2EnKSwgbmV3IEluZGV4Tm9kZSgnYicpLCBuZXcgQ29uc3RhbnROb2RlKDIpKSAgIC8vIGEuYj0yXG4gICAqICAgIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZSgnYScpLCBuZXcgSW5kZXhOb2RlKDEsIDIpLCBuZXcgQ29uc3RhbnROb2RlKDMpKSAgLy8gYVsxLDJdPTNcbiAgICpcbiAgICogQHBhcmFtIHtTeW1ib2xOb2RlIHwgQWNjZXNzb3JOb2RlfSBvYmplY3QgIE9iamVjdCBvbiB3aGljaCB0byBhc3NpZ24gYSB2YWx1ZVxuICAgKiBAcGFyYW0ge0luZGV4Tm9kZX0gW2luZGV4PW51bGxdICAgICAgICAgICAgSW5kZXgsIHByb3BlcnR5IG5hbWUgb3IgbWF0cml4XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleC4gT3B0aW9uYWwuIElmIG5vdCBwcm92aWRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGBvYmplY3RgIGlzIGEgU3ltYm9sTm9kZSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBwcm9wZXJ0eSBpcyBhc3NpZ25lZCB0byB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbCBzY29wZS5cbiAgICogQHBhcmFtIHtOb2RlfSB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB2YWx1ZSB0byBiZSBhc3NpZ25lZFxuICAgKi9cblxuICBmdW5jdGlvbiBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBc3NpZ25tZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5pbmRleCA9IHZhbHVlID8gaW5kZXggOiBudWxsO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCBpbmRleDsgLy8gdmFsaWRhdGUgaW5wdXRcblxuICAgIGlmICghaXNTeW1ib2xOb2RlKG9iamVjdCkgJiYgIWlzQWNjZXNzb3JOb2RlKG9iamVjdCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbE5vZGUgb3IgQWNjZXNzb3JOb2RlIGV4cGVjdGVkIGFzIFwib2JqZWN0XCInKTtcbiAgICB9XG5cbiAgICBpZiAoaXNTeW1ib2xOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5hbWUgPT09ICdlbmQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gdG8gc3ltYm9sIFwiZW5kXCInKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbmRleCAmJiAhaXNJbmRleE5vZGUodGhpcy5pbmRleCkpIHtcbiAgICAgIC8vIGluZGV4IGlzIG9wdGlvbmFsXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmRleE5vZGUgZXhwZWN0ZWQgYXMgXCJpbmRleFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc05vZGUodGhpcy52YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgYXMgXCJ2YWx1ZVwiJyk7XG4gICAgfSAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSA/IHRoaXMuaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9iamVjdC5uYW1lIHx8ICcnO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXNzaWduIGEgbmV3IG5hbWUsIG5hbWUgaXMgcmVhZC1vbmx5Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdBc3NpZ25tZW50Tm9kZSc7XG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5pc0Fzc2lnbm1lbnROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxPYmplY3QgPSB0aGlzLm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpIDogbnVsbDtcblxuICAgIHZhciBldmFsVmFsdWUgPSB0aGlzLnZhbHVlLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHZhciBuYW1lID0gdGhpcy5vYmplY3QubmFtZTtcblxuICAgIGlmICghdGhpcy5pbmRleCkge1xuICAgICAgLy8gYXBwbHkgYSB2YXJpYWJsZSB0byB0aGUgc2NvcGUsIGZvciBleGFtcGxlIGBhPTJgXG4gICAgICBpZiAoIWlzU3ltYm9sTm9kZSh0aGlzLm9iamVjdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sTm9kZSBleHBlY3RlZCBhcyBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLmluZGV4LmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgLy8gYXBwbHkgYW4gb2JqZWN0IHByb3BlcnR5IGZvciBleGFtcGxlIGBhLmI9MmBcbiAgICAgIHZhciBwcm9wID0gdGhpcy5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxBc3NpZ25tZW50Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBwcm9wLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNTeW1ib2xOb2RlKHRoaXMub2JqZWN0KSkge1xuICAgICAgLy8gdXBkYXRlIGEgbWF0cml4IHN1YnNldCwgZm9yIGV4YW1wbGUgYGFbMl09M2BcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gZXZhbE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV2YWxWYWx1ZShzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6ICB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgIHNldFNhZmVQcm9wZXJ0eShzY29wZSwgbmFtZSwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaXNBY2Nlc3Nvck5vZGUobm9kZS5vYmplY3QpID09PSB0cnVlXG4gICAgICAvLyB1cGRhdGUgYSBtYXRyaXggc3Vic2V0LCBmb3IgZXhhbXBsZSBgYS5iWzJdPTNgXG4gICAgICAvLyB3ZSB3aWxsIG5vdCB1c2UgdGhlIGNvbXBpbGUgZnVuY3Rpb24gb2YgdGhlIEFjY2Vzc29yTm9kZSwgYnV0IGNvbXBpbGUgaXRcbiAgICAgIC8vIG91cnNlbHZlcyBoZXJlIGFzIHdlIG5lZWQgdGhlIHBhcmVudCBvYmplY3Qgb2YgdGhlIEFjY2Vzc29yTm9kZTpcbiAgICAgIC8vIHdlZSBuZWVkIHRvIGFwcGx5IHRoZSB1cGRhdGVkIG9iamVjdCB0byBwYXJlbnQgb2JqZWN0XG4gICAgICB2YXIgZXZhbFBhcmVudE9iamVjdCA9IHRoaXMub2JqZWN0Lm9iamVjdC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgIGlmICh0aGlzLm9iamVjdC5pbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgdmFyIHBhcmVudFByb3AgPSB0aGlzLm9iamVjdC5pbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEFzc2lnbm1lbnROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGV2YWxQYXJlbnRPYmplY3Qoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHZhciBjaGlsZE9iamVjdCA9IGdldFNhZmVQcm9wZXJ0eShwYXJlbnQsIHBhcmVudFByb3ApO1xuICAgICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6IHdlIHBhc3MgY2hpbGRPYmplY3QgaW5zdGVhZCBvZiBjb250ZXh0XG5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsVmFsdWUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgIHNldFNhZmVQcm9wZXJ0eShwYXJlbnQsIHBhcmVudFByb3AsIGFzc2lnbihjaGlsZE9iamVjdCwgaW5kZXgsIHZhbHVlKSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgc29tZSBwYXJhbWV0ZXJzIHVzZSB0aGUgJ2VuZCcgcGFyYW1ldGVyLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGUgc2l6ZVxuICAgICAgICB2YXIgZXZhbFBhcmVudEluZGV4ID0gdGhpcy5vYmplY3QuaW5kZXguX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gZXZhbFBhcmVudE9iamVjdChzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gZXZhbFBhcmVudEluZGV4KHNjb3BlLCBhcmdzLCBwYXJlbnQpOyAvLyBJbXBvcnRhbnQ6IHdlIHBhc3MgcGFyZW50IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIGNoaWxkT2JqZWN0ID0gYWNjZXNzKHBhcmVudCwgcGFyZW50SW5kZXgpO1xuICAgICAgICAgIHZhciBpbmRleCA9IGV2YWxJbmRleChzY29wZSwgYXJncywgY2hpbGRPYmplY3QpOyAvLyBJbXBvcnRhbnQ6ICB3ZSBwYXNzIGNoaWxkT2JqZWN0IGluc3RlYWQgb2YgY29udGV4dFxuXG4gICAgICAgICAgdmFyIHZhbHVlID0gZXZhbFZhbHVlKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgICBhc3NpZ24ocGFyZW50LCBwYXJlbnRJbmRleCwgYXNzaWduKGNoaWxkT2JqZWN0LCBpbmRleCwgdmFsdWUpKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmluZGV4KSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmluZGV4LCAnaW5kZXgnLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjYWxsYmFjayh0aGlzLnZhbHVlLCAndmFsdWUnLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBBc3NpZ25tZW50Tm9kZSBoYXZpbmcgaXQncyBjaGlsZHMgYmUgdGhlIHJlc3VsdHMgb2YgY2FsbGluZ1xuICAgKiB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGVhY2ggb2YgdGhlIGNoaWxkcyBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7QXNzaWdubWVudE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5vYmplY3QsICdvYmplY3QnLCB0aGlzKSk7XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuaW5kZXgsICdpbmRleCcsIHRoaXMpKSA6IG51bGw7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy52YWx1ZSwgJ3ZhbHVlJywgdGhpcykpO1xuXG4gICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShvYmplY3QsIGluZGV4LCB2YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Fzc2lnbm1lbnROb2RlfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKHRoaXMub2JqZWN0LCB0aGlzLmluZGV4LCB0aGlzLnZhbHVlKTtcbiAgfTtcbiAgLypcbiAgICogSXMgcGFyZW50aGVzaXMgbmVlZGVkP1xuICAgKiBAcGFyYW0ge25vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJlbnRoZXNpcz0na2VlcCddXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmVlZFBhcmVudGhlc2lzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgaWYgKCFwYXJlbnRoZXNpcykge1xuICAgICAgcGFyZW50aGVzaXMgPSAna2VlcCc7XG4gICAgfVxuXG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgZXhwclByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUudmFsdWUsIHBhcmVudGhlc2lzKTtcbiAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGV4cHJQcmVjZWRlbmNlICE9PSBudWxsICYmIGV4cHJQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b1N0cmluZyhvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gJygnICsgdmFsdWUgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJyA9ICcgKyB2YWx1ZTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBBc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdBc3NpZ25tZW50Tm9kZScsXG4gICAgICBvYmplY3Q6IHRoaXMub2JqZWN0LFxuICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBBc3NpZ25tZW50Tm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQXNzaWdubWVudE5vZGVcIiwgb2JqZWN0OiAuLi4sIGluZGV4OiAuLi4sIHZhbHVlOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7QXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgQXNzaWdubWVudE5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQXNzaWdubWVudE5vZGUoanNvbi5vYmplY3QsIGpzb24uaW5kZXgsIGpzb24udmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCA/IHRoaXMuaW5kZXgudG9IVE1MKG9wdGlvbnMpIDogJyc7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZS50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgdmFsdWUgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmFudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdCArIGluZGV4ICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC12YXJpYWJsZS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+PTwvc3Bhbj4nICsgdmFsdWU7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLm9iamVjdC50b1RleChvcHRpb25zKTtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ID8gdGhpcy5pbmRleC50b1RleChvcHRpb25zKSA6ICcnO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUudG9UZXgob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcykpIHtcbiAgICAgIHZhbHVlID0gXCJcXFxcbGVmdChcIi5jb25jYXQodmFsdWUsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0ICsgaW5kZXggKyAnOj0nICsgdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIEFzc2lnbm1lbnROb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGVycm9yVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtL3V0aWxzL2Vycm9yVHJhbnNmb3JtLmpzJztcbmltcG9ydCB7IHNldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkZhY3RvcnkoX3JlZikge1xuICB2YXIge1xuICAgIHN1YnNldCxcbiAgICBtYXRyaXhcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgcGFydCBvZiBhbiBvYmplY3Q6XG4gICAqXG4gICAqIC0gQXNzaWduIGEgcHJvcGVydHkgdG8gYW4gb2JqZWN0XG4gICAqIC0gUmVwbGFjZSBhIHBhcnQgb2YgYSBzdHJpbmdcbiAgICogLSBSZXBsYWNlIGEgbWF0cml4IHN1YnNldFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdCB8IEFycmF5IHwgTWF0cml4IHwgc3RyaW5nfSBvYmplY3RcbiAgICogQHBhcmFtIHtJbmRleH0gaW5kZXhcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3QgfCBBcnJheSB8IE1hdHJpeCB8IHN0cmluZ30gUmV0dXJucyB0aGUgb3JpZ2luYWwgb2JqZWN0XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgaW4gY2FzZSBvZiBhIHN0cmluZ1xuICAgKi9cbiAgLy8gVE9ETzogY2hhbmdlIGFzc2lnbiB0byByZXR1cm4gdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhlIG9iamVjdFxuICByZXR1cm4gZnVuY3Rpb24gYXNzaWduKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgLy8gd2UgdXNlIG1hdHJpeC5zdWJzZXQgaGVyZSBpbnN0ZWFkIG9mIHRoZSBmdW5jdGlvbiBzdWJzZXQgYmVjYXVzZSB3ZSBtdXN0IG5vdCBjbG9uZSB0aGUgY29udGVudHNcbiAgICAgICAgcmV0dXJuIG1hdHJpeChvYmplY3QpLnN1YnNldChpbmRleCwgdmFsdWUpLnZhbHVlT2YoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3Quc3Vic2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE1hdHJpeFxuICAgICAgICByZXR1cm4gb2JqZWN0LnN1YnNldChpbmRleCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIHNldFN0cmluZ1N1YnNldCBpbnRvIGEgc2VwYXJhdGUgdXRpbCBmaWxlLCB1c2UgdGhhdFxuICAgICAgICByZXR1cm4gc3Vic2V0KG9iamVjdCwgaW5kZXgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKCFpbmRleC5pc09iamVjdFByb3BlcnR5KCkpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBhcHBseSBhIG51bWVyaWMgaW5kZXggYXMgb2JqZWN0IHByb3BlcnR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTYWZlUHJvcGVydHkob2JqZWN0LCBpbmRleC5nZXRPYmplY3RQcm9wZXJ0eSgpLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYXBwbHkgaW5kZXg6IHVuc3VwcG9ydGVkIHR5cGUgb2Ygb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnJvclRyYW5zZm9ybShlcnIpO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmb3JFYWNoLCBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdCbG9ja05vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnUmVzdWx0U2V0JywgJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQmxvY2tOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgUmVzdWx0U2V0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBCbG9ja05vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEhvbGRzIGEgc2V0IHdpdGggYmxvY2tzXG4gICAqIEBwYXJhbSB7QXJyYXkuPHtub2RlOiBOb2RlfSB8IHtub2RlOiBOb2RlLCB2aXNpYmxlOiBib29sZWFufT59IGJsb2Nrc1xuICAgKiAgICAgICAgICAgIEFuIGFycmF5IHdpdGggYmxvY2tzLCB3aGVyZSBhIGJsb2NrIGlzIGNvbnN0cnVjdGVkIGFzIGFuIE9iamVjdFxuICAgKiAgICAgICAgICAgIHdpdGggcHJvcGVydGllcyBibG9jaywgd2hpY2ggaXMgYSBOb2RlLCBhbmQgdmlzaWJsZSwgd2hpY2ggaXNcbiAgICogICAgICAgICAgICBhIGJvb2xlYW4uIFRoZSBwcm9wZXJ0eSB2aXNpYmxlIGlzIG9wdGlvbmFsIGFuZCBpcyB0cnVlIGJ5IGRlZmF1bHRcbiAgICovXG4gIGZ1bmN0aW9uIEJsb2NrTm9kZShibG9ja3MpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQmxvY2tOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0LCBjb3B5IGJsb2Nrc1xuXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYmxvY2tzKSkgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBleHBlY3RlZCcpO1xuICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzLm1hcChmdW5jdGlvbiAoYmxvY2spIHtcbiAgICAgIHZhciBub2RlID0gYmxvY2sgJiYgYmxvY2subm9kZTtcbiAgICAgIHZhciB2aXNpYmxlID0gYmxvY2sgJiYgYmxvY2sudmlzaWJsZSAhPT0gdW5kZWZpbmVkID8gYmxvY2sudmlzaWJsZSA6IHRydWU7XG4gICAgICBpZiAoIWlzTm9kZShub2RlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgXCJub2RlXCIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICAgIGlmICh0eXBlb2YgdmlzaWJsZSAhPT0gJ2Jvb2xlYW4nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9wZXJ0eSBcInZpc2libGVcIiBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBCbG9ja05vZGUucHJvdG90eXBlLnR5cGUgPSAnQmxvY2tOb2RlJztcbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5pc0Jsb2NrTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEJsb2NrcyA9IG1hcCh0aGlzLmJsb2NrcywgZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBldmFsdWF0ZTogYmxvY2subm9kZS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyksXG4gICAgICAgIHZpc2libGU6IGJsb2NrLnZpc2libGVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxCbG9ja05vZGVzKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yRWFjaChldmFsQmxvY2tzLCBmdW5jdGlvbiBldmFsQmxvY2tOb2RlKGJsb2NrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBibG9jay5ldmFsdWF0ZShzY29wZSwgYXJncywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKGJsb2NrLnZpc2libGUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFJlc3VsdFNldChyZXN1bHRzKTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBibG9ja3Mgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmJsb2Nrc1tpXS5ub2RlLCAnYmxvY2tzWycgKyBpICsgJ10ubm9kZScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBCbG9ja05vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Jsb2NrTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBibG9ja3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBibG9jayA9IHRoaXMuYmxvY2tzW2ldO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayhibG9jay5ub2RlLCAnYmxvY2tzWycgKyBpICsgJ10ubm9kZScsIHRoaXMpKTtcblxuICAgICAgYmxvY2tzW2ldID0ge1xuICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Jsb2NrTm9kZX1cbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBibG9ja3MgPSB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlOiBibG9jay5ub2RlLFxuICAgICAgICB2aXNpYmxlOiBibG9jay52aXNpYmxlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9TdHJpbmcob3B0aW9ucykgKyAocGFyYW0udmlzaWJsZSA/ICcnIDogJzsnKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBCbG9ja05vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQmxvY2tOb2RlJyxcbiAgICAgIGJsb2NrczogdGhpcy5ibG9ja3NcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gQmxvY2tOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJCbG9ja05vZGVcIiwgYmxvY2tzOiBbe25vZGU6IC4uLiwgdmlzaWJsZTogZmFsc2V9LCAuLi5dfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Jsb2NrTm9kZX1cbiAgICovXG5cblxuICBCbG9ja05vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGpzb24uYmxvY2tzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIEJsb2NrTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtLm5vZGUudG9IVE1MKG9wdGlvbnMpICsgKHBhcmFtLnZpc2libGUgPyAnJyA6ICc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+Ozwvc3Bhbj4nKTtcbiAgICB9KS5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+PGJyIC8+PC9zcGFuPicpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQmxvY2tOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0ubm9kZS50b1RleChvcHRpb25zKSArIChwYXJhbS52aXNpYmxlID8gJycgOiAnOycpO1xuICAgIH0pLmpvaW4oJ1xcXFw7XFxcXDtcXG4nKTtcbiAgfTtcblxuICByZXR1cm4gQmxvY2tOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzQmlnTnVtYmVyLCBpc0NvbXBsZXgsIGlzTm9kZSwgaXNVbml0LCB0eXBlT2YgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBnZXRQcmVjZWRlbmNlIH0gZnJvbSAnLi4vb3BlcmF0b3JzLmpzJztcbnZhciBuYW1lID0gJ0NvbmRpdGlvbmFsTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUNvbmRpdGlvbmFsTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEEgbGF6eSBldmFsdWF0aW5nIGNvbmRpdGlvbmFsIG9wZXJhdG9yOiAnY29uZGl0aW9uID8gdHJ1ZUV4cHIgOiBmYWxzZUV4cHInXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gY29uZGl0aW9uICAgQ29uZGl0aW9uLCBtdXN0IHJlc3VsdCBpbiBhIGJvb2xlYW5cbiAgICogQHBhcmFtIHtOb2RlfSB0cnVlRXhwciAgICBFeHByZXNzaW9uIGV2YWx1YXRlZCB3aGVuIGNvbmRpdGlvbiBpcyB0cnVlXG4gICAqIEBwYXJhbSB7Tm9kZX0gZmFsc2VFeHByICAgRXhwcmVzc2lvbiBldmFsdWF0ZWQgd2hlbiBjb25kaXRpb24gaXMgdHJ1ZVxuICAgKlxuICAgKiBAY29uc3RydWN0b3IgQ29uZGl0aW9uYWxOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29uZGl0aW9uYWxOb2RlKGNvbmRpdGlvbiwgdHJ1ZUV4cHIsIGZhbHNlRXhwcikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25kaXRpb25hbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghaXNOb2RlKGNvbmRpdGlvbikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBjb25kaXRpb24gbXVzdCBiZSBhIE5vZGUnKTtcbiAgICBpZiAoIWlzTm9kZSh0cnVlRXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciB0cnVlRXhwciBtdXN0IGJlIGEgTm9kZScpO1xuICAgIGlmICghaXNOb2RlKGZhbHNlRXhwcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlciBmYWxzZUV4cHIgbXVzdCBiZSBhIE5vZGUnKTtcbiAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB0aGlzLnRydWVFeHByID0gdHJ1ZUV4cHI7XG4gICAgdGhpcy5mYWxzZUV4cHIgPSBmYWxzZUV4cHI7XG4gIH1cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50eXBlID0gJ0NvbmRpdGlvbmFsTm9kZSc7XG4gIENvbmRpdGlvbmFsTm9kZS5wcm90b3R5cGUuaXNDb25kaXRpb25hbE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIGV2YWxDb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbFRydWVFeHByID0gdGhpcy50cnVlRXhwci5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICB2YXIgZXZhbEZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQ29uZGl0aW9uYWxOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGVzdENvbmRpdGlvbihldmFsQ29uZGl0aW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSkgPyBldmFsVHJ1ZUV4cHIoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIDogZXZhbEZhbHNlRXhwcihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmNvbmRpdGlvbiwgJ2NvbmRpdGlvbicsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMudHJ1ZUV4cHIsICd0cnVlRXhwcicsIHRoaXMpO1xuICAgIGNhbGxiYWNrKHRoaXMuZmFsc2VFeHByLCAnZmFsc2VFeHByJywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQ29uZGl0aW9uYWxOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtDb25kaXRpb25hbE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5jb25kaXRpb24sICdjb25kaXRpb24nLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLnRydWVFeHByLCAndHJ1ZUV4cHInLCB0aGlzKSksIHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmZhbHNlRXhwciwgJ2ZhbHNlRXhwcicsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0NvbmRpdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxOb2RlKHRoaXMuY29uZGl0aW9uLCB0aGlzLnRydWVFeHByLCB0aGlzLmZhbHNlRXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMsIHBhcmVudGhlc2lzKTsgLy8gRW5jbG9zZSBBcmd1bWVudHMgaW4gcGFyZW50aGVzZXMgaWYgdGhleSBhcmUgYW4gT3BlcmF0b3JOb2RlXG4gICAgLy8gb3IgaGF2ZSBsb3dlciBvciBlcXVhbCBwcmVjZWRlbmNlXG4gICAgLy8gTk9URTogZW5jbG9zaW5nIGFsbCBPcGVyYXRvck5vZGVzIGluIHBhcmVudGhlc2VzIGlzIGEgZGVjaXNpb25cbiAgICAvLyBwdXJlbHkgYmFzZWQgb24gYWVzdGhldGljcyBhbmQgcmVhZGFiaWxpdHlcblxuICAgIHZhciBjb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi50b1N0cmluZyhvcHRpb25zKTtcbiAgICB2YXIgY29uZGl0aW9uUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5jb25kaXRpb24sIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5jb25kaXRpb24udHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgY29uZGl0aW9uUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBjb25kaXRpb25QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGNvbmRpdGlvbiA9ICcoJyArIGNvbmRpdGlvbiArICcpJztcbiAgICB9XG5cbiAgICB2YXIgdHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciB0cnVlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy50cnVlRXhwciwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCB0aGlzLnRydWVFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IHRydWVQcmVjZWRlbmNlICE9PSBudWxsICYmIHRydWVQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIHRydWVFeHByID0gJygnICsgdHJ1ZUV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgdmFyIGZhbHNlRXhwciA9IHRoaXMuZmFsc2VFeHByLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHZhciBmYWxzZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMuZmFsc2VFeHByLCBwYXJlbnRoZXNpcyk7XG5cbiAgICBpZiAocGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHRoaXMuZmFsc2VFeHByLnR5cGUgPT09ICdPcGVyYXRvck5vZGUnIHx8IGZhbHNlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBmYWxzZVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSkge1xuICAgICAgZmFsc2VFeHByID0gJygnICsgZmFsc2VFeHByICsgJyknO1xuICAgIH1cblxuICAgIHJldHVybiBjb25kaXRpb24gKyAnID8gJyArIHRydWVFeHByICsgJyA6ICcgKyBmYWxzZUV4cHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ0NvbmRpdGlvbmFsTm9kZScsXG4gICAgICBjb25kaXRpb246IHRoaXMuY29uZGl0aW9uLFxuICAgICAgdHJ1ZUV4cHI6IHRoaXMudHJ1ZUV4cHIsXG4gICAgICBmYWxzZUV4cHI6IHRoaXMuZmFsc2VFeHByXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIENvbmRpdGlvbmFsTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiQ29uZGl0aW9uYWxOb2RlXCIsIFwiY29uZGl0aW9uXCI6IC4uLiwgXCJ0cnVlRXhwclwiOiAuLi4sIFwiZmFsc2VFeHByXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtDb25kaXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsTm9kZShqc29uLmNvbmRpdGlvbiwganNvbi50cnVlRXhwciwganNvbi5mYWxzZUV4cHIpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25kaXRpb25hbE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpOyAvLyBFbmNsb3NlIEFyZ3VtZW50cyBpbiBwYXJlbnRoZXNlcyBpZiB0aGV5IGFyZSBhbiBPcGVyYXRvck5vZGVcbiAgICAvLyBvciBoYXZlIGxvd2VyIG9yIGVxdWFsIHByZWNlZGVuY2VcbiAgICAvLyBOT1RFOiBlbmNsb3NpbmcgYWxsIE9wZXJhdG9yTm9kZXMgaW4gcGFyZW50aGVzZXMgaXMgYSBkZWNpc2lvblxuICAgIC8vIHB1cmVseSBiYXNlZCBvbiBhZXN0aGV0aWNzIGFuZCByZWFkYWJpbGl0eVxuXG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgY29uZGl0aW9uUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5jb25kaXRpb24sIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5jb25kaXRpb24udHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgY29uZGl0aW9uUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBjb25kaXRpb25QcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgIGNvbmRpdGlvbiA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGNvbmRpdGlvbiArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICB2YXIgdHJ1ZUV4cHIgPSB0aGlzLnRydWVFeHByLnRvSFRNTChvcHRpb25zKTtcbiAgICB2YXIgdHJ1ZVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHRoaXMudHJ1ZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy50cnVlRXhwci50eXBlID09PSAnT3BlcmF0b3JOb2RlJyB8fCB0cnVlUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiB0cnVlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICB0cnVlRXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHRydWVFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHZhciBmYWxzZUV4cHIgPSB0aGlzLmZhbHNlRXhwci50b0hUTUwob3B0aW9ucyk7XG4gICAgdmFyIGZhbHNlUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcy5mYWxzZUV4cHIsIHBhcmVudGhlc2lzKTtcblxuICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgdGhpcy5mYWxzZUV4cHIudHlwZSA9PT0gJ09wZXJhdG9yTm9kZScgfHwgZmFsc2VQcmVjZWRlbmNlICE9PSBudWxsICYmIGZhbHNlUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlKSB7XG4gICAgICBmYWxzZUV4cHIgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBmYWxzZUV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbiArICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1jb25kaXRpb25hbC1vcGVyYXRvclwiPj88L3NwYW4+JyArIHRydWVFeHByICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWNvbmRpdGlvbmFsLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgZmFsc2VFeHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uZGl0aW9uYWxOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiAnXFxcXGJlZ2lue2Nhc2VzfSB7JyArIHRoaXMudHJ1ZUV4cHIudG9UZXgob3B0aW9ucykgKyAnfSwgJlxcXFxxdWFke1xcXFx0ZXh0e2lmIH1cXFxcOycgKyB0aGlzLmNvbmRpdGlvbi50b1RleChvcHRpb25zKSArICd9XFxcXFxcXFx7JyArIHRoaXMuZmFsc2VFeHByLnRvVGV4KG9wdGlvbnMpICsgJ30sICZcXFxccXVhZHtcXFxcdGV4dHtvdGhlcndpc2V9fVxcXFxlbmR7Y2FzZXN9JztcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIGNvbmRpdGlvbiBpcyBtZXRcbiAgICogQHBhcmFtIHsqfSBjb25kaXRpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgY29uZGl0aW9uIGlzIHRydWUgb3Igbm9uLXplcm8sIGVsc2UgZmFsc2VcbiAgICovXG5cblxuICBmdW5jdGlvbiB0ZXN0Q29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgIGlmICh0eXBlb2YgY29uZGl0aW9uID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgY29uZGl0aW9uID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGNvbmRpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiAhIWNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICBpZiAoaXNCaWdOdW1iZXIoY29uZGl0aW9uKSkge1xuICAgICAgICByZXR1cm4gIWNvbmRpdGlvbi5pc1plcm8oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tcGxleChjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhIShjb25kaXRpb24ucmUgfHwgY29uZGl0aW9uLmltKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzVW5pdChjb25kaXRpb24pKSB7XG4gICAgICAgIHJldHVybiAhIWNvbmRpdGlvbi52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9uID09PSBudWxsIHx8IGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgdHlwZSBvZiBjb25kaXRpb24gXCInICsgdHlwZU9mKGNvbmRpdGlvbikgKyAnXCInKTtcbiAgfVxuXG4gIHJldHVybiBDb25kaXRpb25hbE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIE1hcCB0aGUgY2hhcmFjdGVycyB0byBlc2NhcGUgdG8gdGhlaXIgZXNjYXBlZCB2YWx1ZXMuIFRoZSBsaXN0IGlzIGRlcml2ZWRcbi8vIGZyb20gaHR0cDovL3d3dy5jZXNwZWRlcy5vcmcvYmxvZy84NS9ob3ctdG8tZXNjYXBlLWxhdGV4LXNwZWNpYWwtY2hhcmFjdGVyc1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgZGVmYXVsdEVzY2FwZXMgPSB7XG4gIFwie1wiOiBcIlxcXFx7XCIsXG4gIFwifVwiOiBcIlxcXFx9XCIsXG4gIFwiXFxcXFwiOiBcIlxcXFx0ZXh0YmFja3NsYXNoe31cIixcbiAgXCIjXCI6IFwiXFxcXCNcIixcbiAgJDogXCJcXFxcJFwiLFxuICBcIiVcIjogXCJcXFxcJVwiLFxuICBcIiZcIjogXCJcXFxcJlwiLFxuICBcIl5cIjogXCJcXFxcdGV4dGFzY2lpY2lyY3Vte31cIixcbiAgXzogXCJcXFxcX1wiLFxuICBcIn5cIjogXCJcXFxcdGV4dGFzY2lpdGlsZGV7fVwiXG59O1xudmFyIGZvcm1hdEVzY2FwZXMgPSB7XG4gIFwiXFx1MjAxM1wiOiBcIlxcXFwtLVwiLFxuICBcIlxcdTIwMTRcIjogXCJcXFxcLS0tXCIsXG4gIFwiIFwiOiBcIn5cIixcbiAgXCJcXHRcIjogXCJcXFxccXF1YWR7fVwiLFxuICBcIlxcclxcblwiOiBcIlxcXFxuZXdsaW5le31cIixcbiAgXCJcXG5cIjogXCJcXFxcbmV3bGluZXt9XCJcbn07XG5cbnZhciBkZWZhdWx0RXNjYXBlTWFwRm4gPSBmdW5jdGlvbiBkZWZhdWx0RXNjYXBlTWFwRm4oZGVmYXVsdEVzY2FwZXMsIGZvcm1hdEVzY2FwZXMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0RXNjYXBlcywgZm9ybWF0RXNjYXBlcyk7XG59O1xuXG4vKipcbiAqIEVzY2FwZSBhIHN0cmluZyB0byBiZSB1c2VkIGluIExhVGVYIGRvY3VtZW50cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgdGhlIHN0cmluZyB0byBiZSBlc2NhcGVkLlxuICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMucHJlc2VydmVGb3JtYXR0aW5nIHdoZXRoZXIgZm9ybWF0dGluZyBlc2NhcGVzIHNob3VsZFxuICogIGJlIHBlcmZvcm1lZCAoZGVmYXVsdDogZmFsc2UpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyYW1zLmVzY2FwZU1hcEZuIHRoZSBmdW5jdGlvbiB0byBtb2RpZnkgdGhlIGVzY2FwZSBtYXBzLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgZXNjYXBlZCBzdHJpbmcsIHJlYWR5IHRvIGJlIHVzZWQgaW4gTGFUZVguXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBfcmVmJHByZXNlcnZlRm9ybWF0dGkgPSBfcmVmLnByZXNlcnZlRm9ybWF0dGluZyxcbiAgICAgIHByZXNlcnZlRm9ybWF0dGluZyA9IF9yZWYkcHJlc2VydmVGb3JtYXR0aSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHByZXNlcnZlRm9ybWF0dGksXG4gICAgICBfcmVmJGVzY2FwZU1hcEZuID0gX3JlZi5lc2NhcGVNYXBGbixcbiAgICAgIGVzY2FwZU1hcEZuID0gX3JlZiRlc2NhcGVNYXBGbiA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEVzY2FwZU1hcEZuIDogX3JlZiRlc2NhcGVNYXBGbjtcblxuICB2YXIgcnVubmluZ1N0ciA9IFN0cmluZyhzdHIpO1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICB2YXIgZXNjYXBlcyA9IGVzY2FwZU1hcEZuKF9leHRlbmRzKHt9LCBkZWZhdWx0RXNjYXBlcyksIHByZXNlcnZlRm9ybWF0dGluZyA/IF9leHRlbmRzKHt9LCBmb3JtYXRFc2NhcGVzKSA6IHt9KTtcbiAgdmFyIGVzY2FwZUtleXMgPSBPYmplY3Qua2V5cyhlc2NhcGVzKTsgLy8gYXMgaXQgaXMgcmV1c2VkIGxhdGVyIG9uXG5cbiAgLy8gQWxnb3JpdGhtOiBHbyB0aHJvdWdoIHRoZSBzdHJpbmcgY2hhcmFjdGVyIGJ5IGNoYXJhY3RlciwgaWYgaXQgbWF0Y2hlc1xuICAvLyB3aXRoIG9uZSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoZW4gd2UnbGwgcmVwbGFjZSBpdCB3aXRoIHRoZSBlc2NhcGVkXG4gIC8vIHZlcnNpb24uXG5cbiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgdmFyIHNwZWNpYWxDaGFyRm91bmQgPSBmYWxzZTtcbiAgICBlc2NhcGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgIGlmIChzcGVjaWFsQ2hhckZvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChydW5uaW5nU3RyLmxlbmd0aCA+PSBrZXkubGVuZ3RoICYmIHJ1bm5pbmdTdHIuc2xpY2UoMCwga2V5Lmxlbmd0aCkgPT09IGtleSkge1xuICAgICAgICByZXN1bHQgKz0gZXNjYXBlc1tlc2NhcGVLZXlzW2luZGV4XV07XG4gICAgICAgIHJ1bm5pbmdTdHIgPSBydW5uaW5nU3RyLnNsaWNlKGtleS5sZW5ndGgsIHJ1bm5pbmdTdHIubGVuZ3RoKTtcbiAgICAgICAgc3BlY2lhbENoYXJGb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFzcGVjaWFsQ2hhckZvdW5kKSB7XG4gICAgICByZXN1bHQgKz0gcnVubmluZ1N0ci5zbGljZSgwLCAxKTtcbiAgICAgIHJ1bm5pbmdTdHIgPSBydW5uaW5nU3RyLnNsaWNlKDEsIHJ1bm5pbmdTdHIubGVuZ3RoKTtcbiAgICB9XG4gIH07XG5cbiAgd2hpbGUgKHJ1bm5pbmdTdHIpIHtcbiAgICBfbG9vcCgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyIsIi8qIGVzbGludCBuby10ZW1wbGF0ZS1jdXJseS1pbi1zdHJpbmc6IFwib2ZmXCIgKi9cbmltcG9ydCBlc2NhcGVMYXRleExpYiBmcm9tICdlc2NhcGUtbGF0ZXgnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuL29iamVjdC5qcyc7XG5leHBvcnQgdmFyIGxhdGV4U3ltYm9scyA9IHtcbiAgLy8gR1JFRUsgTEVUVEVSU1xuICBBbHBoYTogJ0EnLFxuICBhbHBoYTogJ1xcXFxhbHBoYScsXG4gIEJldGE6ICdCJyxcbiAgYmV0YTogJ1xcXFxiZXRhJyxcbiAgR2FtbWE6ICdcXFxcR2FtbWEnLFxuICBnYW1tYTogJ1xcXFxnYW1tYScsXG4gIERlbHRhOiAnXFxcXERlbHRhJyxcbiAgZGVsdGE6ICdcXFxcZGVsdGEnLFxuICBFcHNpbG9uOiAnRScsXG4gIGVwc2lsb246ICdcXFxcZXBzaWxvbicsXG4gIHZhcmVwc2lsb246ICdcXFxcdmFyZXBzaWxvbicsXG4gIFpldGE6ICdaJyxcbiAgemV0YTogJ1xcXFx6ZXRhJyxcbiAgRXRhOiAnSCcsXG4gIGV0YTogJ1xcXFxldGEnLFxuICBUaGV0YTogJ1xcXFxUaGV0YScsXG4gIHRoZXRhOiAnXFxcXHRoZXRhJyxcbiAgdmFydGhldGE6ICdcXFxcdmFydGhldGEnLFxuICBJb3RhOiAnSScsXG4gIGlvdGE6ICdcXFxcaW90YScsXG4gIEthcHBhOiAnSycsXG4gIGthcHBhOiAnXFxcXGthcHBhJyxcbiAgdmFya2FwcGE6ICdcXFxcdmFya2FwcGEnLFxuICBMYW1iZGE6ICdcXFxcTGFtYmRhJyxcbiAgbGFtYmRhOiAnXFxcXGxhbWJkYScsXG4gIE11OiAnTScsXG4gIG11OiAnXFxcXG11JyxcbiAgTnU6ICdOJyxcbiAgbnU6ICdcXFxcbnUnLFxuICBYaTogJ1xcXFxYaScsXG4gIHhpOiAnXFxcXHhpJyxcbiAgT21pY3JvbjogJ08nLFxuICBvbWljcm9uOiAnbycsXG4gIFBpOiAnXFxcXFBpJyxcbiAgcGk6ICdcXFxccGknLFxuICB2YXJwaTogJ1xcXFx2YXJwaScsXG4gIFJobzogJ1AnLFxuICByaG86ICdcXFxccmhvJyxcbiAgdmFycmhvOiAnXFxcXHZhcnJobycsXG4gIFNpZ21hOiAnXFxcXFNpZ21hJyxcbiAgc2lnbWE6ICdcXFxcc2lnbWEnLFxuICB2YXJzaWdtYTogJ1xcXFx2YXJzaWdtYScsXG4gIFRhdTogJ1QnLFxuICB0YXU6ICdcXFxcdGF1JyxcbiAgVXBzaWxvbjogJ1xcXFxVcHNpbG9uJyxcbiAgdXBzaWxvbjogJ1xcXFx1cHNpbG9uJyxcbiAgUGhpOiAnXFxcXFBoaScsXG4gIHBoaTogJ1xcXFxwaGknLFxuICB2YXJwaGk6ICdcXFxcdmFycGhpJyxcbiAgQ2hpOiAnWCcsXG4gIGNoaTogJ1xcXFxjaGknLFxuICBQc2k6ICdcXFxcUHNpJyxcbiAgcHNpOiAnXFxcXHBzaScsXG4gIE9tZWdhOiAnXFxcXE9tZWdhJyxcbiAgb21lZ2E6ICdcXFxcb21lZ2EnLFxuICAvLyBsb2dpY1xuICB0cnVlOiAnXFxcXG1hdGhybXtUcnVlfScsXG4gIGZhbHNlOiAnXFxcXG1hdGhybXtGYWxzZX0nLFxuICAvLyBvdGhlclxuICBpOiAnaScsXG4gIC8vIFRPRE8gdXNlIFxcaSA/P1xuICBpbmY6ICdcXFxcaW5mdHknLFxuICBJbmY6ICdcXFxcaW5mdHknLFxuICBpbmZpbml0eTogJ1xcXFxpbmZ0eScsXG4gIEluZmluaXR5OiAnXFxcXGluZnR5JyxcbiAgb286ICdcXFxcaW5mdHknLFxuICBsaW06ICdcXFxcbGltJyxcbiAgdW5kZWZpbmVkOiAnXFxcXG1hdGhiZns/fSdcbn07XG5leHBvcnQgdmFyIGxhdGV4T3BlcmF0b3JzID0ge1xuICB0cmFuc3Bvc2U6ICdeXFxcXHRvcCcsXG4gIGN0cmFuc3Bvc2U6ICdeSCcsXG4gIGZhY3RvcmlhbDogJyEnLFxuICBwb3c6ICdeJyxcbiAgZG90UG93OiAnLl5cXFxcd2VkZ2UnLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgdW5hcnlQbHVzOiAnKycsXG4gIHVuYXJ5TWludXM6ICctJyxcbiAgYml0Tm90OiAnXFxcXH4nLFxuICAvLyBUT0RPIGZpbmQgaWRlYWwgc29sdXRpb25cbiAgbm90OiAnXFxcXG5lZycsXG4gIG11bHRpcGx5OiAnXFxcXGNkb3QnLFxuICBkaXZpZGU6ICdcXFxcZnJhYycsXG4gIC8vIFRPRE8gaG93IHRvIGhhbmRsZSB0aGF0IHByb3Blcmx5P1xuICBkb3RNdWx0aXBseTogJy5cXFxcY2RvdCcsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBkb3REaXZpZGU6ICcuOicsXG4gIC8vIFRPRE8gZmluZCBpZGVhbCBzb2x1dGlvblxuICBtb2Q6ICdcXFxcbW9kJyxcbiAgYWRkOiAnKycsXG4gIHN1YnRyYWN0OiAnLScsXG4gIHRvOiAnXFxcXHJpZ2h0YXJyb3cnLFxuICBsZWZ0U2hpZnQ6ICc8PCcsXG4gIHJpZ2h0QXJpdGhTaGlmdDogJz4+JyxcbiAgcmlnaHRMb2dTaGlmdDogJz4+PicsXG4gIGVxdWFsOiAnPScsXG4gIHVuZXF1YWw6ICdcXFxcbmVxJyxcbiAgc21hbGxlcjogJzwnLFxuICBsYXJnZXI6ICc+JyxcbiAgc21hbGxlckVxOiAnXFxcXGxlcScsXG4gIGxhcmdlckVxOiAnXFxcXGdlcScsXG4gIGJpdEFuZDogJ1xcXFwmJyxcbiAgYml0WG9yOiAnXFxcXHVuZGVybGluZXt8fScsXG4gIGJpdE9yOiAnfCcsXG4gIGFuZDogJ1xcXFx3ZWRnZScsXG4gIHhvcjogJ1xcXFx2ZWViYXInLFxuICBvcjogJ1xcXFx2ZWUnXG59O1xuZXhwb3J0IHZhciBsYXRleEZ1bmN0aW9ucyA9IHtcbiAgLy8gYXJpdGhtZXRpY1xuICBhYnM6IHtcbiAgICAxOiAnXFxcXGxlZnR8JHthcmdzWzBdfVxcXFxyaWdodHwnXG4gIH0sXG4gIGFkZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5hZGQsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgY2JydDoge1xuICAgIDE6ICdcXFxcc3FydFszXXske2FyZ3NbMF19fSdcbiAgfSxcbiAgY2VpbDoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsY2VpbCR7YXJnc1swXX1cXFxccmlnaHRcXFxccmNlaWwnXG4gIH0sXG4gIGN1YmU6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleMydcbiAgfSxcbiAgZGl2aWRlOiB7XG4gICAgMjogJ1xcXFxmcmFjeyR7YXJnc1swXX19eyR7YXJnc1sxXX19J1xuICB9LFxuICBkb3REaXZpZGU6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZG90RGl2aWRlLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGRvdE11bHRpcGx5OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmRvdE11bHRpcGx5LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGRvdFBvdzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5kb3RQb3csIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgZXhwOiB7XG4gICAgMTogJ1xcXFxleHBcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZXhwbTE6IFwiXFxcXGxlZnQoZVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwieyR7YXJnc1swXX19LTFcXFxccmlnaHQpXCIpLFxuICBmaXg6IHtcbiAgICAxOiAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBmbG9vcjoge1xuICAgIDE6ICdcXFxcbGVmdFxcXFxsZmxvb3Ike2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJmbG9vcidcbiAgfSxcbiAgZ2NkOiAnXFxcXGdjZFxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgaHlwb3Q6ICdcXFxcaHlwb3RcXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KScsXG4gIGxvZzoge1xuICAgIDE6ICdcXFxcbG5cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsb2dfeyR7YXJnc1sxXX19XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGxvZzEwOiB7XG4gICAgMTogJ1xcXFxsb2dfezEwfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBsb2cxcDoge1xuICAgIDE6ICdcXFxcbG5cXFxcbGVmdCgke2FyZ3NbMF19KzFcXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxvZ197JHthcmdzWzFdfX1cXFxcbGVmdCgke2FyZ3NbMF19KzFcXFxccmlnaHQpJ1xuICB9LFxuICBsb2cyOiAnXFxcXGxvZ197Mn1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gIG1vZDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5tb2QsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbXVsdGlwbHk6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubXVsdGlwbHksIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbm9ybToge1xuICAgIDE6ICdcXFxcbGVmdFxcXFx8JHthcmdzWzBdfVxcXFxyaWdodFxcXFx8JyxcbiAgICAyOiB1bmRlZmluZWQgLy8gdXNlIGRlZmF1bHQgdGVtcGxhdGVcblxuICB9LFxuICBudGhSb290OiB7XG4gICAgMjogJ1xcXFxzcXJ0WyR7YXJnc1sxXX1deyR7YXJnc1swXX19J1xuICB9LFxuICBudGhSb290czoge1xuICAgIDI6ICdcXFxce3kgOiAkeV57YXJnc1sxXX0gPSB7JHthcmdzWzBdfX1cXFxcfSdcbiAgfSxcbiAgcG93OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5wb3csIFwieyR7YXJnc1sxXX19XCIpXG4gIH0sXG4gIHJvdW5kOiB7XG4gICAgMTogJ1xcXFxsZWZ0XFxcXGxmbG9vciR7YXJnc1swXX1cXFxccmlnaHRcXFxccmNlaWwnLFxuICAgIDI6IHVuZGVmaW5lZCAvLyB1c2UgZGVmYXVsdCB0ZW1wbGF0ZVxuXG4gIH0sXG4gIHNpZ246IHtcbiAgICAxOiAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzcXJ0OiB7XG4gICAgMTogJ1xcXFxzcXJ0eyR7YXJnc1swXX19J1xuICB9LFxuICBzcXVhcmU6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCleMidcbiAgfSxcbiAgc3VidHJhY3Q6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc3VidHJhY3QsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5hcnlNaW51czoge1xuICAgIDE6IFwiXCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnVuYXJ5TWludXMsIFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgdW5hcnlQbHVzOiB7XG4gICAgMTogXCJcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5hcnlQbHVzLCBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIC8vIGJpdHdpc2VcbiAgYml0QW5kOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdEFuZCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBiaXROb3Q6IHtcbiAgICAxOiBsYXRleE9wZXJhdG9ycy5iaXROb3QgKyAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGJpdE9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmJpdE9yLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGJpdFhvcjoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5iaXRYb3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgbGVmdFNoaWZ0OiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxlZnRTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICByaWdodEFyaXRoU2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucmlnaHRBcml0aFNoaWZ0LCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHJpZ2h0TG9nU2hpZnQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucmlnaHRMb2dTaGlmdCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBjb21iaW5hdG9yaWNzXG4gIGJlbGxOdW1iZXJzOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Qn1feyR7YXJnc1swXX19J1xuICB9LFxuICBjYXRhbGFuOiB7XG4gICAgMTogJ1xcXFxtYXRocm17Q31feyR7YXJnc1swXX19J1xuICB9LFxuICBzdGlybGluZ1MyOiB7XG4gICAgMjogJ1xcXFxtYXRocm17U31cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gY29tcGxleFxuICBhcmc6IHtcbiAgICAxOiAnXFxcXGFyZ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb25qOiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXionXG4gIH0sXG4gIGltOiB7XG4gICAgMTogJ1xcXFxJbVxcXFxsZWZ0XFxcXGxicmFjZSR7YXJnc1swXX1cXFxccmlnaHRcXFxccmJyYWNlJ1xuICB9LFxuICByZToge1xuICAgIDE6ICdcXFxcUmVcXFxcbGVmdFxcXFxsYnJhY2Uke2FyZ3NbMF19XFxcXHJpZ2h0XFxcXHJicmFjZSdcbiAgfSxcbiAgLy8gbG9naWNhbFxuICBhbmQ6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuYW5kLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIG5vdDoge1xuICAgIDE6IGxhdGV4T3BlcmF0b3JzLm5vdCArICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgb3I6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMub3IsIFwiJHthcmdzWzFdfVxcXFxyaWdodClcIilcbiAgfSxcbiAgeG9yOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLnhvciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBtYXRyaXhcbiAgY3Jvc3M6IHtcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcXFxcdGltZXNcXFxcbGVmdCgke2FyZ3NbMV19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3RyYW5zcG9zZToge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuY3RyYW5zcG9zZSlcbiAgfSxcbiAgZGV0OiB7XG4gICAgMTogJ1xcXFxkZXRcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgZG90OiB7XG4gICAgMjogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxcY2RvdCR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9LFxuICBleHBtOiB7XG4gICAgMTogJ1xcXFxleHBcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgaW52OiB7XG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpXnstMX0nXG4gIH0sXG4gIHNxcnRtOiB7XG4gICAgMTogXCJ7JHthcmdzWzBdfX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMucG93LCBcIntcXFxcZnJhY3sxfXsyfX1cIilcbiAgfSxcbiAgdHJhY2U6IHtcbiAgICAxOiAnXFxcXG1hdGhybXt0cn1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgdHJhbnNwb3NlOiB7XG4gICAgMTogXCJcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy50cmFuc3Bvc2UpXG4gIH0sXG4gIC8vIHByb2JhYmlsaXR5XG4gIGNvbWJpbmF0aW9uczoge1xuICAgIDI6ICdcXFxcYmlub217JHthcmdzWzBdfX17JHthcmdzWzFdfX0nXG4gIH0sXG4gIGNvbWJpbmF0aW9uc1dpdGhSZXA6IHtcbiAgICAyOiAnXFxcXGxlZnQoXFxcXCFcXFxcIXtcXFxcYmlub217JHthcmdzWzBdfX17JHthcmdzWzFdfX19XFxcXCFcXFxcIVxcXFxyaWdodCknXG4gIH0sXG4gIGZhY3RvcmlhbDoge1xuICAgIDE6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodClcIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuZmFjdG9yaWFsKVxuICB9LFxuICBnYW1tYToge1xuICAgIDE6ICdcXFxcR2FtbWFcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gcmVsYXRpb25hbFxuICBlcXVhbDoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy5lcXVhbCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBsYXJnZXI6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMubGFyZ2VyLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIGxhcmdlckVxOiB7XG4gICAgMjogXCJcXFxcbGVmdCgke2FyZ3NbMF19XCIuY29uY2F0KGxhdGV4T3BlcmF0b3JzLmxhcmdlckVxLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHNtYWxsZXI6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc21hbGxlciwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICBzbWFsbGVyRXE6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMuc21hbGxlckVxLCBcIiR7YXJnc1sxXX1cXFxccmlnaHQpXCIpXG4gIH0sXG4gIHVuZXF1YWw6IHtcbiAgICAyOiBcIlxcXFxsZWZ0KCR7YXJnc1swXX1cIi5jb25jYXQobGF0ZXhPcGVyYXRvcnMudW5lcXVhbCwgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyBzcGVjaWFsXG4gIGVyZjoge1xuICAgIDE6ICdlcmZcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gc3RhdGlzdGljc1xuICBtYXg6ICdcXFxcbWF4XFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICBtaW46ICdcXFxcbWluXFxcXGxlZnQoJHthcmdzfVxcXFxyaWdodCknLFxuICB2YXJpYW5jZTogJ1xcXFxtYXRocm17VmFyfVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJyxcbiAgLy8gdHJpZ29ub21ldHJ5XG4gIGFjb3M6IHtcbiAgICAxOiAnXFxcXGNvc157LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFjb3NoOiB7XG4gICAgMTogJ1xcXFxjb3NoXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvdDoge1xuICAgIDE6ICdcXFxcY290XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYWNvdGg6IHtcbiAgICAxOiAnXFxcXGNvdGheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY3NjOiB7XG4gICAgMTogJ1xcXFxjc2Neey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBhY3NjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte2NzY2h9XnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNlYzoge1xuICAgIDE6ICdcXFxcc2VjXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXNlY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtzZWNofV57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzaW46IHtcbiAgICAxOiAnXFxcXHNpbl57LTF9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGFzaW5oOiB7XG4gICAgMTogJ1xcXFxzaW5oXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbjoge1xuICAgIDE6ICdcXFxcdGFuXnstMX1cXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbjI6IHtcbiAgICAyOiAnXFxcXG1hdGhybXthdGFuMn1cXFxcbGVmdCgke2FyZ3N9XFxcXHJpZ2h0KSdcbiAgfSxcbiAgYXRhbmg6IHtcbiAgICAxOiAnXFxcXHRhbmheey0xfVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3M6IHtcbiAgICAxOiAnXFxcXGNvc1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBjb3NoOiB7XG4gICAgMTogJ1xcXFxjb3NoXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvdDoge1xuICAgIDE6ICdcXFxcY290XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvdGg6IHtcbiAgICAxOiAnXFxcXGNvdGhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3NjOiB7XG4gICAgMTogJ1xcXFxjc2NcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgY3NjaDoge1xuICAgIDE6ICdcXFxcbWF0aHJte2NzY2h9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNlYzoge1xuICAgIDE6ICdcXFxcc2VjXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNlY2g6IHtcbiAgICAxOiAnXFxcXG1hdGhybXtzZWNofVxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzaW46IHtcbiAgICAxOiAnXFxcXHNpblxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJ1xuICB9LFxuICBzaW5oOiB7XG4gICAgMTogJ1xcXFxzaW5oXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRhbjoge1xuICAgIDE6ICdcXFxcdGFuXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHRhbmg6IHtcbiAgICAxOiAnXFxcXHRhbmhcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSdcbiAgfSxcbiAgLy8gdW5pdFxuICB0bzoge1xuICAgIDI6IFwiXFxcXGxlZnQoJHthcmdzWzBdfVwiLmNvbmNhdChsYXRleE9wZXJhdG9ycy50bywgXCIke2FyZ3NbMV19XFxcXHJpZ2h0KVwiKVxuICB9LFxuICAvLyB1dGlsc1xuICBudW1lcmljOiBmdW5jdGlvbiBudW1lcmljKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAvLyBOb3Qgc3VyZSBpZiB0aGlzIGlzIHN0cmljdGx5IHJpZ2h0IGJ1dCBzaG91bGQgd29yayBjb3JyZWN0bHkgZm9yIHRoZSB2YXN0IG1ham9yaXR5IG9mIHVzZSBjYXNlcy5cbiAgICByZXR1cm4gbm9kZS5hcmdzWzBdLnRvVGV4KCk7XG4gIH0sXG4gIC8vIHR5cGVcbiAgbnVtYmVyOiB7XG4gICAgMDogJzAnLFxuICAgIDE6ICdcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KScsXG4gICAgMjogJ1xcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJHthcmdzWzFdfVxcXFxyaWdodCknXG4gIH0sXG4gIHN0cmluZzoge1xuICAgIDA6ICdcXFxcbWF0aHR0e1wiXCJ9JyxcbiAgICAxOiAnXFxcXG1hdGhybXtzdHJpbmd9XFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGJpZ251bWJlcjoge1xuICAgIDA6ICcwJyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIGNvbXBsZXg6IHtcbiAgICAwOiAnMCcsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiBcIlxcXFxsZWZ0KFxcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpK1wiLmNvbmNhdChsYXRleFN5bWJvbHMuaSwgXCJcXFxcY2RvdFxcXFxsZWZ0KCR7YXJnc1sxXX1cXFxccmlnaHQpXFxcXHJpZ2h0KVwiKVxuICB9LFxuICBtYXRyaXg6IHtcbiAgICAwOiAnXFxcXGJlZ2lue2JtYXRyaXh9XFxcXGVuZHtibWF0cml4fScsXG4gICAgMTogJ1xcXFxsZWZ0KCR7YXJnc1swXX1cXFxccmlnaHQpJyxcbiAgICAyOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHNwYXJzZToge1xuICAgIDA6ICdcXFxcYmVnaW57YnNwYXJzZX1cXFxcZW5ke2JzcGFyc2V9JyxcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknXG4gIH0sXG4gIHVuaXQ6IHtcbiAgICAxOiAnXFxcXGxlZnQoJHthcmdzWzBdfVxcXFxyaWdodCknLFxuICAgIDI6ICdcXFxcbGVmdChcXFxcbGVmdCgke2FyZ3NbMF19XFxcXHJpZ2h0KSR7YXJnc1sxXX1cXFxccmlnaHQpJ1xuICB9XG59O1xuZXhwb3J0IHZhciBkZWZhdWx0VGVtcGxhdGUgPSAnXFxcXG1hdGhybXske25hbWV9fVxcXFxsZWZ0KCR7YXJnc31cXFxccmlnaHQpJztcbnZhciBsYXRleFVuaXRzID0ge1xuICBkZWc6ICdeXFxcXGNpcmMnXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUxhdGV4KHN0cmluZykge1xuICByZXR1cm4gZXNjYXBlTGF0ZXhMaWIoc3RyaW5nLCB7XG4gICAgcHJlc2VydmVGb3JtYXR0aW5nOiB0cnVlXG4gIH0pO1xufSAvLyBAcGFyYW0ge3N0cmluZ30gbmFtZVxuLy8gQHBhcmFtIHtib29sZWFufSBpc1VuaXRcblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3ltYm9sKG5hbWUsIGlzVW5pdCkge1xuICBpc1VuaXQgPSB0eXBlb2YgaXNVbml0ID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogaXNVbml0O1xuXG4gIGlmIChpc1VuaXQpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkobGF0ZXhVbml0cywgbmFtZSkpIHtcbiAgICAgIHJldHVybiBsYXRleFVuaXRzW25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgZXNjYXBlTGF0ZXgobmFtZSkgKyAnfSc7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkobGF0ZXhTeW1ib2xzLCBuYW1lKSkge1xuICAgIHJldHVybiBsYXRleFN5bWJvbHNbbmFtZV07XG4gIH1cblxuICByZXR1cm4gZXNjYXBlTGF0ZXgobmFtZSk7XG59IiwiaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IHR5cGVPZiB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZUxhdGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnQ29uc3RhbnROb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlQ29uc3RhbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBDb25zdGFudE5vZGUgaG9sZHMgYSBjb25zdGFudCB2YWx1ZSBsaWtlIGEgbnVtYmVyIG9yIHN0cmluZy5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqXG4gICAqICAgICBuZXcgQ29uc3RhbnROb2RlKDIuMylcbiAgICogICAgIG5ldyBDb25zdGFudE5vZGUoJ2hlbGxvJylcbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAgICBWYWx1ZSBjYW4gYmUgYW55IHR5cGUgKG51bWJlciwgQmlnTnVtYmVyLCBzdHJpbmcsIC4uLilcbiAgICogQGNvbnN0cnVjdG9yIENvbnN0YW50Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG4gIGZ1bmN0aW9uIENvbnN0YW50Tm9kZSh2YWx1ZSkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb25zdGFudE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnR5cGUgPSAnQ29uc3RhbnROb2RlJztcbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5pc0NvbnN0YW50Tm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIHJldHVybiBmdW5jdGlvbiBldmFsQ29uc3RhbnROb2RlKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7Ly8gbm90aGluZyB0byBkbywgd2UgZG9uJ3QgaGF2ZSBjaGlsZHNcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBDb25zdGFudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKSA6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtDb25zdGFudE5vZGV9IFJldHVybnMgYSBjbG9uZSBvZiB0aGUgbm9kZVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7Q29uc3RhbnROb2RlfVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUodGhpcy52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgQ29uc3RhbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBmb3JtYXQodGhpcy52YWx1ZSwgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl90b1N0cmluZyhvcHRpb25zKTtcblxuICAgIHN3aXRjaCAodHlwZU9mKHRoaXMudmFsdWUpKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnQmlnTnVtYmVyJzpcbiAgICAgIGNhc2UgJ0ZyYWN0aW9uJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtbnVtYmVyXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zdHJpbmdcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1ib29sZWFuXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuXG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtbnVsbC1zeW1ib2xcIj4nICsgdmFsdWUgKyAnPC9zcGFuPic7XG5cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXVuZGVmaW5lZFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnQ29uc3RhbnROb2RlJyxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgQ29uc3RhbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJTeW1ib2xOb2RlXCIsIHZhbHVlOiAyLjN9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7Q29uc3RhbnROb2RlfVxuICAgKi9cblxuXG4gIENvbnN0YW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdGFudE5vZGUoanNvbi52YWx1ZSk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBDb25zdGFudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fdG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBzd2l0Y2ggKHR5cGVPZih0aGlzLnZhbHVlKSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuICdcXFxcbWF0aHR0eycgKyBlc2NhcGVMYXRleCh2YWx1ZSkgKyAnfSc7XG5cbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdCaWdOdW1iZXInOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFpc0Zpbml0ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudmFsdWVPZigpIDwgMCA/ICctXFxcXGluZnR5JyA6ICdcXFxcaW5mdHknO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbmRleCA9IHZhbHVlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZScpO1xuXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCBpbmRleCkgKyAnXFxcXGNkb3QxMF57JyArIHZhbHVlLnN1YnN0cmluZyhpbmRleCArIDEpICsgJ30nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG5cbiAgICAgIGNhc2UgJ0ZyYWN0aW9uJzpcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudG9MYXRleCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDb25zdGFudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsga2V5d29yZHMgfSBmcm9tICcuLi9rZXl3b3Jkcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZm9yRWFjaCwgam9pbiB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IHRvU3ltYm9sIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGF0ZXguanMnO1xuaW1wb3J0IHsgZ2V0UHJlY2VkZW5jZSB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBzZXRTYWZlUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9jdXN0b21zLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEZ1bmN0aW9uQXNzaWdubWVudE5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEZ1bmN0aW9uIGFzc2lnbm1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICAgICAgIEZ1bmN0aW9uIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmdbXSB8IEFycmF5Ljx7bmFtZTogc3RyaW5nLCB0eXBlOiBzdHJpbmd9Pn0gcGFyYW1zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheSB3aXRoIGZ1bmN0aW9uIHBhcmFtZXRlciBuYW1lcywgb3IgYW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5IHdpdGggb2JqZWN0cyBjb250YWluaW5nIHRoZSBuYW1lXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgdHlwZSBvZiB0aGUgcGFyYW1ldGVyXG4gICAqIEBwYXJhbSB7Tm9kZX0gZXhwciAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gZXhwcmVzc2lvblxuICAgKi9cbiAgZnVuY3Rpb24gRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZShuYW1lLCBwYXJhbXMsIGV4cHIpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm5hbWVcIicpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBjb250YWluaW5nIHN0cmluZ3Mgb3Igb2JqZWN0cyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwicGFyYW1zXCInKTtcbiAgICBpZiAoIWlzTm9kZShleHByKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiZXhwclwiJyk7XG4gICAgaWYgKG5hbWUgaW4ga2V5d29yZHMpIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBmdW5jdGlvbiBuYW1lLCBcIicgKyBuYW1lICsgJ1wiIGlzIGEgcmVzZXJ2ZWQga2V5d29yZCcpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtICYmIHBhcmFtLm5hbWUgfHwgcGFyYW07XG4gICAgfSk7XG4gICAgdGhpcy50eXBlcyA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICByZXR1cm4gcGFyYW0gJiYgcGFyYW0udHlwZSB8fCAnYW55JztcbiAgICB9KTtcbiAgICB0aGlzLmV4cHIgPSBleHByO1xuICB9XG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS50eXBlID0gJ0Z1bmN0aW9uQXNzaWdubWVudE5vZGUnO1xuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5pc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUgPSB0cnVlO1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHZhciBjaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG4gICAgZm9yRWFjaCh0aGlzLnBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICBjaGlsZEFyZ05hbWVzW3BhcmFtXSA9IHRydWU7XG4gICAgfSk7IC8vIGNvbXBpbGUgdGhlIGZ1bmN0aW9uIGV4cHJlc3Npb24gd2l0aCB0aGUgY2hpbGQgYXJnc1xuXG4gICAgdmFyIGV2YWxFeHByID0gdGhpcy5leHByLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpO1xuXG4gICAgdmFyIG5hbWUgPSB0aGlzLm5hbWU7XG4gICAgdmFyIHBhcmFtcyA9IHRoaXMucGFyYW1zO1xuICAgIHZhciBzaWduYXR1cmUgPSBqb2luKHRoaXMudHlwZXMsICcsJyk7XG4gICAgdmFyIHN5bnRheCA9IG5hbWUgKyAnKCcgKyBqb2luKHRoaXMucGFyYW1zLCAnLCAnKSArICcpJztcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uQXNzaWdubWVudE5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgIHZhciBzaWduYXR1cmVzID0ge307XG5cbiAgICAgIHNpZ25hdHVyZXNbc2lnbmF0dXJlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoaWxkQXJncyA9IE9iamVjdC5jcmVhdGUoYXJncyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjaGlsZEFyZ3NbcGFyYW1zW2ldXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmFsRXhwcihzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBmbiA9IHR5cGVkKG5hbWUsIHNpZ25hdHVyZXMpO1xuICAgICAgZm4uc3ludGF4ID0gc3ludGF4O1xuICAgICAgc2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lLCBmbik7XG4gICAgICByZXR1cm4gZm47XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5leHByLCAnZXhwcicsIHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIGV4cHIgPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5leHByLCAnZXhwcicsIHRoaXMpKTtcblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSh0aGlzLm5hbWUsIHRoaXMucGFyYW1zLnNsaWNlKDApLCBleHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7RnVuY3Rpb25Bc3NpZ25tZW50Tm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5uYW1lLCB0aGlzLnBhcmFtcy5zbGljZSgwKSwgdGhpcy5leHByKTtcbiAgfTtcbiAgLyoqXG4gICAqIElzIHBhcmVudGhlc2lzIG5lZWRlZD9cbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRoZXNpc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG5lZWRQYXJlbnRoZXNpcyhub2RlLCBwYXJlbnRoZXNpcykge1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIGV4cHJQcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShub2RlLmV4cHIsIHBhcmVudGhlc2lzKTtcbiAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IGV4cHJQcmVjZWRlbmNlICE9PSBudWxsICYmIGV4cHJQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2U7XG4gIH1cbiAgLyoqXG4gICAqIGdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBGdW5jdGlvbkFzc2lnbm1lbnROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIGV4cHIgPSB0aGlzLmV4cHIudG9TdHJpbmcob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9ICcoJyArIGV4cHIgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubmFtZSArICcoJyArIHRoaXMucGFyYW1zLmpvaW4oJywgJykgKyAnKSA9ICcgKyBleHByO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHlwZXMgPSB0aGlzLnR5cGVzO1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdGdW5jdGlvbkFzc2lnbm1lbnROb2RlJyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBwYXJhbSxcbiAgICAgICAgICB0eXBlOiB0eXBlc1tpbmRleF1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgZXhwcjogdGhpcy5leHByXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIkZ1bmN0aW9uQXNzaWdubWVudE5vZGVcIiwgbmFtZTogLi4uLCBwYXJhbXM6IC4uLiwgZXhwcjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Z1bmN0aW9uQXNzaWdubWVudE5vZGV9XG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKGpzb24ubmFtZSwganNvbi5wYXJhbXMsIGpzb24uZXhwcik7XG4gIH07XG4gIC8qKlxuICAgKiBnZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXJhbXMucHVzaCgnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLXBhcmFtZXRlclwiPicgKyBlc2NhcGUodGhpcy5wYXJhbXNbaV0pICsgJzwvc3Bhbj4nKTtcbiAgICB9XG5cbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b0hUTUwob3B0aW9ucyk7XG5cbiAgICBpZiAobmVlZFBhcmVudGhlc2lzKHRoaXMsIHBhcmVudGhlc2lzKSkge1xuICAgICAgZXhwciA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGV4cHIgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMubmFtZSkgKyAnPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBwYXJhbXMuam9pbignPHNwYW4gY2xhc3M9XCJtYXRoLXNlcGFyYXRvclwiPiw8L3NwYW4+JykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC12YXJpYWJsZS1hc3NpZ25tZW50LW9wZXJhdG9yIG1hdGgtYmluYXJ5LW9wZXJhdG9yXCI+PTwvc3Bhbj4nICsgZXhwcjtcbiAgfTtcbiAgLyoqXG4gICAqIGdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwci50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChuZWVkUGFyZW50aGVzaXModGhpcywgcGFyZW50aGVzaXMpKSB7XG4gICAgICBleHByID0gXCJcXFxcbGVmdChcIi5jb25jYXQoZXhwciwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgdGhpcy5uYW1lICsgJ31cXFxcbGVmdCgnICsgdGhpcy5wYXJhbXMubWFwKHRvU3ltYm9sKS5qb2luKCcsJykgKyAnXFxcXHJpZ2h0KTo9JyArIGV4cHI7XG4gIH07XG5cbiAgcmV0dXJuIEZ1bmN0aW9uQXNzaWdubWVudE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNCaWdOdW1iZXIsIGlzQ29uc3RhbnROb2RlLCBpc05vZGUsIGlzUmFuZ2VOb2RlLCBpc1N5bWJvbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBlc2NhcGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZ2V0U2FmZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG52YXIgbmFtZSA9ICdJbmRleE5vZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsnUmFuZ2UnLCAnTm9kZScsICdzaXplJ107XG5leHBvcnQgdmFyIGNyZWF0ZUluZGV4Tm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIFJhbmdlLFxuICAgIE5vZGUsXG4gICAgc2l6ZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEluZGV4Tm9kZVxuICAgKiBAZXh0ZW5kcyBOb2RlXG4gICAqXG4gICAqIERlc2NyaWJlcyBhIHN1YnNldCBvZiBhIG1hdHJpeCBvciBhbiBvYmplY3QgcHJvcGVydHkuXG4gICAqIENhbm5vdCBiZSB1c2VkIG9uIGl0cyBvd24sIG5lZWRzIHRvIGJlIHVzZWQgd2l0aGluIGFuIEFjY2Vzc29yTm9kZSBvclxuICAgKiBBc3NpZ25tZW50Tm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlW119IGRpbWVuc2lvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbZG90Tm90YXRpb249ZmFsc2VdICBPcHRpb25hbCBwcm9wZXJ0eSBkZXNjcmliaW5nIHdoZXRoZXJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGluZGV4IHdhcyB3cml0dGVuIHVzaW5nIGRvdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uIGxpa2UgYGEuYmAsIG9yIHVzaW5nIGJyYWNrZXRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RhdGlvbiBsaWtlIGBhW1wiYlwiXWAgKGRlZmF1bHQpLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZWQgdG8gc3RyaW5naWZ5IGFuIEluZGV4Tm9kZS5cbiAgICovXG4gIGZ1bmN0aW9uIEluZGV4Tm9kZShkaW1lbnNpb25zLCBkb3ROb3RhdGlvbikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBJbmRleE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgdGhpcy5kb3ROb3RhdGlvbiA9IGRvdE5vdGF0aW9uIHx8IGZhbHNlOyAvLyB2YWxpZGF0ZSBpbnB1dFxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRpbWVuc2lvbnMpIHx8ICFkaW1lbnNpb25zLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImRpbWVuc2lvbnNcIicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRvdE5vdGF0aW9uICYmICF0aGlzLmlzT2JqZWN0UHJvcGVydHkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb3ROb3RhdGlvbiBvbmx5IGFwcGxpY2FibGUgZm9yIG9iamVjdCBwcm9wZXJ0aWVzJyk7XG4gICAgfVxuICB9XG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdJbmRleE5vZGUnO1xuICBJbmRleE5vZGUucHJvdG90eXBlLmlzSW5kZXhOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIC8vIFRPRE86IGltcGxlbWVudCBzdXBwb3J0IGZvciBiaWdudW1iZXIgKGN1cnJlbnRseSBiaWdudW1iZXJzIGFyZSBzaWxlbnRseVxuICAgIC8vICAgICAgIHJlZHVjZWQgdG8gbnVtYmVycyB3aGVuIGNoYW5naW5nIHRoZSB2YWx1ZSB0byB6ZXJvLWJhc2VkKVxuICAgIC8vIFRPRE86IE9wdGltaXphdGlvbjogd2hlbiB0aGUgcmFuZ2UgdmFsdWVzIGFyZSBDb25zdGFudE5vZGVzLFxuICAgIC8vICAgICAgIHdlIGNhbiBiZWZvcmVoYW5kIHJlc29sdmUgdGhlIHplcm8tYmFzZWQgdmFsdWVcbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIGEgc2ltcGxlIG9iamVjdCBwcm9wZXJ0eVxuICAgIHZhciBldmFsRGltZW5zaW9ucyA9IG1hcCh0aGlzLmRpbWVuc2lvbnMsIGZ1bmN0aW9uIChyYW5nZSwgaSkge1xuICAgICAgaWYgKGlzUmFuZ2VOb2RlKHJhbmdlKSkge1xuICAgICAgICBpZiAocmFuZ2UubmVlZHNFbmQoKSkge1xuICAgICAgICAgIC8vIGNyZWF0ZSBhIHJhbmdlIGNvbnRhaW5pbmcgZW5kIChsaWtlICc0OmVuZCcpXG4gICAgICAgICAgdmFyIGNoaWxkQXJnTmFtZXMgPSBPYmplY3QuY3JlYXRlKGFyZ05hbWVzKTtcbiAgICAgICAgICBjaGlsZEFyZ05hbWVzLmVuZCA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgZXZhbFN0YXJ0ID0gcmFuZ2Uuc3RhcnQuX2NvbXBpbGUobWF0aCwgY2hpbGRBcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgZXZhbEVuZCA9IHJhbmdlLmVuZC5fY29tcGlsZShtYXRoLCBjaGlsZEFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBldmFsU3RlcCA9IHJhbmdlLnN0ZXAgPyByYW5nZS5zdGVwLl9jb21waWxlKG1hdGgsIGNoaWxkQXJnTmFtZXMpIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbERpbWVuc2lvbihzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaXplKGNvbnRleHQpLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHZhciBjaGlsZEFyZ3MgPSBPYmplY3QuY3JlYXRlKGFyZ3MpO1xuICAgICAgICAgICAgY2hpbGRBcmdzLmVuZCA9IHNbaV07XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpLCBldmFsRW5kKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpLCBldmFsU3RlcChzY29wZSwgY2hpbGRBcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjcmVhdGUgcmFuZ2VcbiAgICAgICAgICB2YXIgX2V2YWxTdGFydCA9IHJhbmdlLnN0YXJ0Ll9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgICAgIHZhciBfZXZhbEVuZCA9IHJhbmdlLmVuZC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICAgICAgICB2YXIgX2V2YWxTdGVwID0gcmFuZ2Uuc3RlcCA/IHJhbmdlLnN0ZXAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUmFuZ2UoX2V2YWxTdGFydChzY29wZSwgYXJncywgY29udGV4dCksIF9ldmFsRW5kKHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgX2V2YWxTdGVwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1N5bWJvbE5vZGUocmFuZ2UpICYmIHJhbmdlLm5hbWUgPT09ICdlbmQnKSB7XG4gICAgICAgIC8vIFN5bWJvbE5vZGUgJ2VuZCdcbiAgICAgICAgdmFyIF9jaGlsZEFyZ05hbWVzID0gT2JqZWN0LmNyZWF0ZShhcmdOYW1lcyk7XG5cbiAgICAgICAgX2NoaWxkQXJnTmFtZXMuZW5kID0gdHJ1ZTtcblxuICAgICAgICB2YXIgZXZhbFJhbmdlID0gcmFuZ2UuX2NvbXBpbGUobWF0aCwgX2NoaWxkQXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIHMgPSBzaXplKGNvbnRleHQpLnZhbHVlT2YoKTtcbiAgICAgICAgICB2YXIgY2hpbGRBcmdzID0gT2JqZWN0LmNyZWF0ZShhcmdzKTtcbiAgICAgICAgICBjaGlsZEFyZ3MuZW5kID0gc1tpXTtcbiAgICAgICAgICByZXR1cm4gZXZhbFJhbmdlKHNjb3BlLCBjaGlsZEFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ29uc3RhbnROb2RlXG4gICAgICAgIHZhciBfZXZhbFJhbmdlID0gcmFuZ2UuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIF9ldmFsUmFuZ2Uoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBpbmRleCA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCAnaW5kZXgnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEluZGV4Tm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBtYXAoZXZhbERpbWVuc2lvbnMsIGZ1bmN0aW9uIChldmFsRGltZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBldmFsRGltZW5zaW9uKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZGV4KC4uLmRpbWVuc2lvbnMpO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuZGltZW5zaW9uc1tpXSwgJ2RpbWVuc2lvbnNbJyArIGkgKyAnXScsIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBJbmRleE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge0luZGV4Tm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBkaW1lbnNpb25zID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZGltZW5zaW9uc1tpXSA9IHRoaXMuX2lmTm9kZShjYWxsYmFjayh0aGlzLmRpbWVuc2lvbnNbaV0sICdkaW1lbnNpb25zWycgKyBpICsgJ10nLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBJbmRleE5vZGUoZGltZW5zaW9ucywgdGhpcy5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0luZGV4Tm9kZX1cbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgSW5kZXhOb2RlKHRoaXMuZGltZW5zaW9ucy5zbGljZSgwKSwgdGhpcy5kb3ROb3RhdGlvbik7XG4gIH07XG4gIC8qKlxuICAgKiBUZXN0IHdoZXRoZXIgdGhpcyBJbmRleE5vZGUgY29udGFpbnMgYSBzaW5nbGUgcHJvcGVydHkgbmFtZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuaXNPYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zLmxlbmd0aCA9PT0gMSAmJiBpc0NvbnN0YW50Tm9kZSh0aGlzLmRpbWVuc2lvbnNbMF0pICYmIHR5cGVvZiB0aGlzLmRpbWVuc2lvbnNbMF0udmFsdWUgPT09ICdzdHJpbmcnO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBpZiBJbmRleE5vZGUgY29udGFpbnMgYSBwcm9wZXJ0eS5cbiAgICogSWYgbm90LCByZXR1cm5zIG51bGwuXG4gICAqIEByZXR1cm4ge3N0cmluZyB8IG51bGx9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLnByb3RvdHlwZS5nZXRPYmplY3RQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc09iamVjdFByb3BlcnR5KCkgPyB0aGlzLmRpbWVuc2lvbnNbMF0udmFsdWUgOiBudWxsO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAvLyBmb3JtYXQgdGhlIHBhcmFtZXRlcnMgbGlrZSBcIlsxLCAwOjVdXCJcbiAgICByZXR1cm4gdGhpcy5kb3ROb3RhdGlvbiA/ICcuJyArIHRoaXMuZ2V0T2JqZWN0UHJvcGVydHkoKSA6ICdbJyArIHRoaXMuZGltZW5zaW9ucy5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIEluZGV4Tm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdJbmRleE5vZGUnLFxuICAgICAgZGltZW5zaW9uczogdGhpcy5kaW1lbnNpb25zLFxuICAgICAgZG90Tm90YXRpb246IHRoaXMuZG90Tm90YXRpb25cbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYW4gSW5kZXhOb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJJbmRleE5vZGVcIiwgZGltZW5zaW9uczogWy4uLl0sIGRvdE5vdGF0aW9uOiBmYWxzZX1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtJbmRleE5vZGV9XG4gICAqL1xuXG5cbiAgSW5kZXhOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEluZGV4Tm9kZShqc29uLmRpbWVuc2lvbnMsIGpzb24uZG90Tm90YXRpb24pO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gZm9ybWF0IHRoZSBwYXJhbWV0ZXJzIGxpa2UgXCJbMSwgMDo1XVwiXG4gICAgdmFyIGRpbWVuc2lvbnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkaW1lbnNpb25zW2ldID0gdGhpcy5kaW1lbnNpb25zW2ldLnRvSFRNTCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRvdE5vdGF0aW9uKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWFjY2Vzc29yLW9wZXJhdG9yXCI+Ljwvc3Bhbj4nICsgJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1wcm9wZXJ0eVwiPicgKyBlc2NhcGUodGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpKSArICc8L3NwYW4+JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1zcXVhcmUtcGFyZW50aGVzaXNcIj5bPC9zcGFuPicgKyBkaW1lbnNpb25zLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXNxdWFyZS1wYXJlbnRoZXNpc1wiPl08L3NwYW4+JztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBJbmRleE5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgcmV0dXJuIHJhbmdlLnRvVGV4KG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmRvdE5vdGF0aW9uID8gJy4nICsgdGhpcy5nZXRPYmplY3RQcm9wZXJ0eSgpICsgJycgOiAnX3snICsgZGltZW5zaW9ucy5qb2luKCcsJykgKyAnfSc7XG4gIH07IC8vIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBSYW5nZSBmcm9tIHN0YXJ0LCBzdGVwIGFuZCBlbmRcblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKGlzQmlnTnVtYmVyKHN0YXJ0KSA/IHN0YXJ0LnRvTnVtYmVyKCkgOiBzdGFydCwgaXNCaWdOdW1iZXIoZW5kKSA/IGVuZC50b051bWJlcigpIDogZW5kLCBpc0JpZ051bWJlcihzdGVwKSA/IHN0ZXAudG9OdW1iZXIoKSA6IHN0ZXApO1xuICB9XG5cbiAgcmV0dXJuIEluZGV4Tm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUgfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBlc2NhcGUsIHN0cmluZ2lmeSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBpc1NhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuLi8uLi91dGlscy9vYmplY3QuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnT2JqZWN0Tm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZU9iamVjdE5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBOb2RlXG4gIH0gPSBfcmVmO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgT2JqZWN0Tm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogSG9sZHMgYW4gb2JqZWN0IHdpdGgga2V5cy92YWx1ZXNcbiAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgTm9kZT59IFtwcm9wZXJ0aWVzXSAgIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlyc1xuICAgKi9cbiAgZnVuY3Rpb24gT2JqZWN0Tm9kZShwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9iamVjdE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307IC8vIHZhbGlkYXRlIGlucHV0XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgaWYgKCEodHlwZW9mIHByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB8fCAhT2JqZWN0LmtleXMocHJvcGVydGllcykuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gaXNOb2RlKHByb3BlcnRpZXNba2V5XSk7XG4gICAgICB9KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlID0gbmV3IE5vZGUoKTtcbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUudHlwZSA9ICdPYmplY3ROb2RlJztcbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuaXNPYmplY3ROb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgZXZhbEVudHJpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgLy8gd2Ugc3RyaW5naWZ5L3BhcnNlIHRoZSBrZXkgaGVyZSB0byByZXNvbHZlIHVuaWNvZGUgY2hhcmFjdGVycyxcbiAgICAgICAgLy8gc28geW91IGNhbm5vdCBjcmVhdGUgYSBrZXkgbGlrZSB7XCJjb1xcXFx1MDA2RXN0cnVjdG9yXCI6IG51bGx9XG4gICAgICAgIHZhciBzdHJpbmdpZmllZEtleSA9IHN0cmluZ2lmeShrZXkpO1xuICAgICAgICB2YXIgcGFyc2VkS2V5ID0gSlNPTi5wYXJzZShzdHJpbmdpZmllZEtleSk7XG5cbiAgICAgICAgaWYgKCFpc1NhZmVQcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIHBhcnNlZEtleSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBwcm9wZXJ0eSBcIicgKyBwYXJzZWRLZXkgKyAnXCInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2YWxFbnRyaWVzW3BhcnNlZEtleV0gPSB0aGlzLnByb3BlcnRpZXNba2V5XS5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPYmplY3ROb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgb2JqID0ge307XG5cbiAgICAgIGZvciAodmFyIF9rZXkgaW4gZXZhbEVudHJpZXMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGV2YWxFbnRyaWVzLCBfa2V5KSkge1xuICAgICAgICAgIG9ialtfa2V5XSA9IGV2YWxFbnRyaWVzW19rZXldKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5wcm9wZXJ0aWVzW2tleV0sICdwcm9wZXJ0aWVzWycgKyBzdHJpbmdpZnkoa2V5KSArICddJywgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9iamVjdE5vZGUgaGF2aW5nIGl0J3MgY2hpbGRzIGJlIHRoZSByZXN1bHRzIG9mIGNhbGxpbmdcbiAgICogdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIG9mIHRoZSBjaGlsZHMgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKTogTm9kZX0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge09iamVjdE5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgcHJvcGVydGllc1trZXldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMucHJvcGVydGllc1trZXldLCAncHJvcGVydGllc1snICsgc3RyaW5naWZ5KGtleSkgKyAnXScsIHRoaXMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUocHJvcGVydGllcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge09iamVjdE5vZGV9XG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgcHJvcGVydGllc1trZXldID0gdGhpcy5wcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBlbnRyaWVzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkodGhpcy5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgIGVudHJpZXMucHVzaChzdHJpbmdpZnkoa2V5KSArICc6ICcgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b1N0cmluZyhvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICd7JyArIGVudHJpZXMuam9pbignLCAnKSArICd9JztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ09iamVjdE5vZGUnLFxuICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIE9wZXJhdG9yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiT2JqZWN0Tm9kZVwiLCBcInByb3BlcnRpZXNcIjogey4uLn19YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7T2JqZWN0Tm9kZX1cbiAgICovXG5cblxuICBPYmplY3ROb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdE5vZGUoanNvbi5wcm9wZXJ0aWVzKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBIVE1MIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIE9iamVjdE5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIGtleSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKCc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtcHJvcGVydHlcIj4nICsgZXNjYXBlKGtleSkgKyAnPC9zcGFuPicgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtYXNzaWdubWVudC1vcGVyYXRvciBtYXRoLXByb3BlcnR5LWFzc2lnbm1lbnQtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3JcIj46PC9zcGFuPicgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b0hUTUwob3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtY3VybHktcGFyZW50aGVzaXNcIj57PC9zcGFuPicgKyBlbnRyaWVzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1zZXBhcmF0b3JcIj4sPC9zcGFuPicpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLWN1cmx5LXBhcmVudGhlc2lzXCI+fTwvc3Bhbj4nO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgT2JqZWN0Tm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZW50cmllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KHRoaXMucHJvcGVydGllcywga2V5KSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goJ1xcXFxtYXRoYmZ7JyArIGtleSArICc6fSAmICcgKyB0aGlzLnByb3BlcnRpZXNba2V5XS50b1RleChvcHRpb25zKSArICdcXFxcXFxcXCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlxcXFxsZWZ0XFxcXHtcXFxcYmVnaW57YXJyYXl9e2xsfVwiLmNvbmNhdChlbnRyaWVzLmpvaW4oJ1xcbicpLCBcIlxcXFxlbmR7YXJyYXl9XFxcXHJpZ2h0XFxcXH1cIik7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdE5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiaW1wb3J0IHsgaXNOb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSwgaXNTYWZlTWV0aG9kIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tcy5qcyc7XG5pbXBvcnQgeyBnZXRBc3NvY2lhdGl2aXR5LCBnZXRQcmVjZWRlbmNlLCBpc0Fzc29jaWF0aXZlV2l0aCwgcHJvcGVydGllcyB9IGZyb20gJy4uL29wZXJhdG9ycy5qcyc7XG5pbXBvcnQgeyBsYXRleE9wZXJhdG9ycyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ09wZXJhdG9yTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZU9wZXJhdG9yTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBPcGVyYXRvck5vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEFuIG9wZXJhdG9yIHdpdGggdHdvIGFyZ3VtZW50cywgbGlrZSAyKzNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wICAgICAgICAgICBPcGVyYXRvciBuYW1lLCBmb3IgZXhhbXBsZSAnKydcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZuICAgICAgICAgICBGdW5jdGlvbiBuYW1lLCBmb3IgZXhhbXBsZSAnYWRkJ1xuICAgKiBAcGFyYW0ge05vZGVbXX0gYXJncyAgICAgICAgIE9wZXJhdG9yIGFyZ3VtZW50c1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbXBsaWNpdF0gIElzIHRoaXMgYW4gaW1wbGljaXQgbXVsdGlwbGljYXRpb24/XG4gICAqL1xuICBmdW5jdGlvbiBPcGVyYXRvck5vZGUob3AsIGZuLCBhcmdzLCBpbXBsaWNpdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPcGVyYXRvck5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH0gLy8gdmFsaWRhdGUgaW5wdXRcblxuXG4gICAgaWYgKHR5cGVvZiBvcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3N0cmluZyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwib3BcIicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImZuXCInKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJncykgfHwgIWFyZ3MuZXZlcnkoaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJyYXkgY29udGFpbmluZyBOb2RlcyBleHBlY3RlZCBmb3IgcGFyYW1ldGVyIFwiYXJnc1wiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pbXBsaWNpdCA9IGltcGxpY2l0ID09PSB0cnVlO1xuICAgIHRoaXMub3AgPSBvcDtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy5hcmdzID0gYXJncyB8fCBbXTtcbiAgfVxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnR5cGUgPSAnT3BlcmF0b3JOb2RlJztcbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5pc09wZXJhdG9yTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICAvLyB2YWxpZGF0ZSBmblxuICAgIGlmICh0eXBlb2YgdGhpcy5mbiAhPT0gJ3N0cmluZycgfHwgIWlzU2FmZU1ldGhvZChtYXRoLCB0aGlzLmZuKSkge1xuICAgICAgaWYgKCFtYXRoW3RoaXMuZm5dKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gJyArIHRoaXMuZm4gKyAnIG1pc3NpbmcgaW4gcHJvdmlkZWQgbmFtZXNwYWNlIFwibWF0aFwiJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0byBmdW5jdGlvbiBcIicgKyB0aGlzLmZuICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGZuID0gZ2V0U2FmZVByb3BlcnR5KG1hdGgsIHRoaXMuZm4pO1xuICAgIHZhciBldmFsQXJncyA9IG1hcCh0aGlzLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmcuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICAgIH0pO1xuXG4gICAgaWYgKGV2YWxBcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGV2YWxBcmcwID0gZXZhbEFyZ3NbMF07XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4oZXZhbEFyZzAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChldmFsQXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHZhciBfZXZhbEFyZyA9IGV2YWxBcmdzWzBdO1xuICAgICAgdmFyIGV2YWxBcmcxID0gZXZhbEFyZ3NbMV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbE9wZXJhdG9yTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZm4oX2V2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpLCBldmFsQXJnMShzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxPcGVyYXRvck5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICByZXR1cm4gZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZSBjaGlsZCBub2RlcyBvZiB0aGlzIG5vZGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihjaGlsZDogTm9kZSwgcGF0aDogc3RyaW5nLCBwYXJlbnQ6IE5vZGUpfSBjYWxsYmFja1xuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT3BlcmF0b3JOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtPcGVyYXRvck5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5hcmdzW2ldLCAnYXJnc1snICsgaSArICddJywgdGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKHRoaXMub3AsIHRoaXMuZm4sIGFyZ3MsIHRoaXMuaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtPcGVyYXRvck5vZGV9XG4gICAqL1xuXG5cbiAgT3BlcmF0b3JOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZSh0aGlzLm9wLCB0aGlzLmZuLCB0aGlzLmFyZ3Muc2xpY2UoMCksIHRoaXMuaW1wbGljaXQpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGlzIGlzIGFuIHVuYXJ5IE9wZXJhdG9yTm9kZTpcbiAgICogaGFzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBsaWtlIGAtYWAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGFuIHVuYXJ5IG9wZXJhdG9yIG5vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzVW5hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJncy5sZW5ndGggPT09IDE7XG4gIH07XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgaXMgYSBiaW5hcnkgT3BlcmF0b3JOb2RlOlxuICAgKiBoYXMgZXhhY3RseSB0d28gYXJndW1lbnRzLCBsaWtlIGBhICsgYmAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIGEgYmluYXJ5IG9wZXJhdG9yIG5vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLmlzQmluYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFyZ3MubGVuZ3RoID09PSAyO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlIHdoaWNoIHBhcmVudGhlc2VzIGFyZSBuZWNlc3NhcnkuIEdldHMgYW4gT3BlcmF0b3JOb2RlXG4gICAqICh3aGljaCBpcyB0aGUgcm9vdCBvZiB0aGUgdHJlZSkgYW5kIGFuIEFycmF5IG9mIE5vZGVzXG4gICAqICh0aGlzLmFyZ3MpIGFuZCByZXR1cm5zIGFuIGFycmF5IHdoZXJlICd0cnVlJyBtZWFucyB0aGF0IGFuIGFyZ3VtZW50XG4gICAqIGhhcyB0byBiZSBlbmNsb3NlZCBpbiBwYXJlbnRoZXNlcyB3aGVyZWFzICdmYWxzZScgbWVhbnMgdGhlIG9wcG9zaXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge09wZXJhdG9yTm9kZX0gcm9vdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAgICogQHBhcmFtIHtOb2RlW119IGFyZ3NcbiAgICogQHBhcmFtIHtib29sZWFufSBsYXRleFxuICAgKiBAcmV0dXJuIHtib29sZWFuW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMocm9vdCwgcGFyZW50aGVzaXMsIGltcGxpY2l0LCBhcmdzLCBsYXRleCkge1xuICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIHJvb3QgT3BlcmF0b3JOb2RlXG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHJvb3QsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgYXNzb2NpYXRpdml0eSA9IGdldEFzc29jaWF0aXZpdHkocm9vdCwgcGFyZW50aGVzaXMpO1xuXG4gICAgaWYgKHBhcmVudGhlc2lzID09PSAnYWxsJyB8fCBhcmdzLmxlbmd0aCA+IDIgJiYgcm9vdC5nZXRJZGVudGlmaWVyKCkgIT09ICdPcGVyYXRvck5vZGU6YWRkJyAmJiByb290LmdldElkZW50aWZpZXIoKSAhPT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpIHtcbiAgICAgIHJldHVybiBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHN3aXRjaCAoYXJnLmdldENvbnRlbnQoKS50eXBlKSB7XG4gICAgICAgICAgLy8gTm9kZXMgdGhhdCBkb24ndCBuZWVkIGV4dHJhIHBhcmVudGhlc2VzXG4gICAgICAgICAgY2FzZSAnQXJyYXlOb2RlJzpcbiAgICAgICAgICBjYXNlICdDb25zdGFudE5vZGUnOlxuICAgICAgICAgIGNhc2UgJ1N5bWJvbE5vZGUnOlxuICAgICAgICAgIGNhc2UgJ1BhcmVudGhlc2lzTm9kZSc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG5cbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgICAge1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIG9wZXJhbmRcbiAgICAgICAgICB2YXIgb3BlcmFuZFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMF0sIHBhcmVudGhlc2lzKTsgLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXMgZm9yIExhVGVYLCB3aGVyZSBzb21lIG9mIHRoZSBwYXJlbnRoZXNlcyBhcmVuJ3QgbmVlZGVkXG5cbiAgICAgICAgICBpZiAobGF0ZXggJiYgb3BlcmFuZFByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBvcGVyYW5kSWRlbnRpZmllcjtcbiAgICAgICAgICAgIHZhciByb290SWRlbnRpZmllcjtcblxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgICAgICAgb3BlcmFuZElkZW50aWZpZXIgPSBhcmdzWzBdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcm9vdElkZW50aWZpZXIgPSByb290LmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpcyBOb2RlcyB3aGVuIG5vdCBpbiAna2VlcCcgbW9kZVxuICAgICAgICAgICAgICBvcGVyYW5kSWRlbnRpZmllciA9IGFyZ3NbMF0uZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgcm9vdElkZW50aWZpZXIgPSByb290LmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW3Jvb3RJZGVudGlmaWVyXS5sYXRleExlZnRQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IFtmYWxzZV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllc1tvcGVyYW5kUHJlY2VkZW5jZV1bb3BlcmFuZElkZW50aWZpZXJdLmxhdGV4UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3BlcmFuZFByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBvcGVyYW5kIGhhcyBubyBkZWZpbmVkIHByZWNlZGVuY2UsIG5vIHBhcmVucyBhcmUgbmVlZGVkXG4gICAgICAgICAgICByZXN1bHQgPSBbZmFsc2VdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9wZXJhbmRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBvcGVyYW5kcyBwcmVjZWRlbmNlIGlzIGxvd2VyLCBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgcmVzdWx0ID0gW3RydWVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSAvLyBvdGhlcndpc2UsIG5vIHBhcmVucyBuZWVkZWRcblxuXG4gICAgICAgICAgcmVzdWx0ID0gW2ZhbHNlXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICAvLyBiaW5hcnkgb3BlcmF0b3JzXG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGhzUGFyZW5zOyAvLyBsZWZ0IGhhbmQgc2lkZSBuZWVkcyBwYXJlbnRoZXNpcz9cbiAgICAgICAgICAvLyBwcmVjZWRlbmNlIG9mIHRoZSBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIGxoc1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMF0sIHBhcmVudGhlc2lzKTsgLy8gaXMgdGhlIHJvb3Qgbm9kZSBhc3NvY2lhdGl2ZSB3aXRoIHRoZSBsZWZ0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIGFzc29jV2l0aExocyA9IGlzQXNzb2NpYXRpdmVXaXRoKHJvb3QsIGFyZ3NbMF0sIHBhcmVudGhlc2lzKTtcblxuICAgICAgICAgIGlmIChsaHNQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgbGVmdCBoYW5kIHNpZGUgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uTm9kZSBmb3IgZXhhbXBsZVxuICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaHNQcmVjZWRlbmNlID09PSBwcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09ICdyaWdodCcgJiYgIWFzc29jV2l0aExocykge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcXVhbCBwcmVjZWRlbmNlLCBpZiB0aGUgcm9vdCBub2RlIGlzIGxlZnQgYXNzb2NpYXRpdmVcbiAgICAgICAgICAgIC8vIHBhcmVucyBhcmUgKipuZXZlcioqIG5lY2Vzc2FyeSBmb3IgdGhlIGxlZnQgaGFuZCBzaWRlLlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgcmlnaHQgYXNzb2NpYXRpdmUgaG93ZXZlciwgcGFyZW5zIGFyZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGlmIHRoZSByb290IG5vZGUgaXNuJ3QgYXNzb2NpYXRpdmUgd2l0aCB0aGUgbGVmdCBoYW5kIHNpZGVcbiAgICAgICAgICAgIGxoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaHNQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgbGhzUGFyZW5zID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJoc1BhcmVuczsgLy8gcmlnaHQgaGFuZCBzaWRlIG5lZWRzIHBhcmVudGhlc2lzP1xuICAgICAgICAgIC8vIHByZWNlZGVuY2Ugb2YgdGhlIHJpZ2h0IGhhbmQgc2lkZVxuXG4gICAgICAgICAgdmFyIHJoc1ByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKGFyZ3NbMV0sIHBhcmVudGhlc2lzKTsgLy8gaXMgdGhlIHJvb3Qgbm9kZSBhc3NvY2lhdGl2ZSB3aXRoIHRoZSByaWdodCBoYW5kIHNpZGU/XG5cbiAgICAgICAgICB2YXIgYXNzb2NXaXRoUmhzID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnc1sxXSwgcGFyZW50aGVzaXMpO1xuXG4gICAgICAgICAgaWYgKHJoc1ByZWNlZGVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSByaWdodCBoYW5kIHNpZGUgaGFzIG5vIGRlZmluZWQgcHJlY2VkZW5jZSwgbm8gcGFyZW5zIGFyZSBuZWVkZWRcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uTm9kZSBmb3IgZXhhbXBsZVxuICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChyaHNQcmVjZWRlbmNlID09PSBwcmVjZWRlbmNlICYmIGFzc29jaWF0aXZpdHkgPT09ICdsZWZ0JyAmJiAhYXNzb2NXaXRoUmhzKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVxdWFsIHByZWNlZGVuY2UsIGlmIHRoZSByb290IG5vZGUgaXMgcmlnaHQgYXNzb2NpYXRpdmVcbiAgICAgICAgICAgIC8vIHBhcmVucyBhcmUgKipuZXZlcioqIG5lY2Vzc2FyeSBmb3IgdGhlIHJpZ2h0IGhhbmQgc2lkZS5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIGxlZnQgYXNzb2NpYXRpdmUgaG93ZXZlciwgcGFyZW5zIGFyZSBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGlmIHRoZSByb290IG5vZGUgaXNuJ3QgYXNzb2NpYXRpdmUgd2l0aCB0aGUgcmlnaHQgaGFuZCBzaWRlXG4gICAgICAgICAgICByaHNQYXJlbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmhzUHJlY2VkZW5jZSA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgIH0gLy8gaGFuZGxlIHNwZWNpYWwgY2FzZXMgZm9yIExhVGVYLCB3aGVyZSBzb21lIG9mIHRoZSBwYXJlbnRoZXNlcyBhcmVuJ3QgbmVlZGVkXG5cblxuICAgICAgICAgIGlmIChsYXRleCkge1xuICAgICAgICAgICAgdmFyIF9yb290SWRlbnRpZmllcjtcblxuICAgICAgICAgICAgdmFyIGxoc0lkZW50aWZpZXI7XG4gICAgICAgICAgICB2YXIgcmhzSWRlbnRpZmllcjtcblxuICAgICAgICAgICAgaWYgKHBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgICAgICAgICAgX3Jvb3RJZGVudGlmaWVyID0gcm9vdC5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICAgIGxoc0lkZW50aWZpZXIgPSByb290LmFyZ3NbMF0uZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzFdLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElnbm9yZSBQYXJlbnRoZXNpc05vZGVzIHdoZW4gbm90IGluICdrZWVwJyBtb2RlXG4gICAgICAgICAgICAgIF9yb290SWRlbnRpZmllciA9IHJvb3QuZ2V0Q29udGVudCgpLmdldElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgbGhzSWRlbnRpZmllciA9IHJvb3QuYXJnc1swXS5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICByaHNJZGVudGlmaWVyID0gcm9vdC5hcmdzWzFdLmdldENvbnRlbnQoKS5nZXRJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaHNQcmVjZWRlbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW3ByZWNlZGVuY2VdW19yb290SWRlbnRpZmllcl0ubGF0ZXhMZWZ0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbbGhzUHJlY2VkZW5jZV1bbGhzSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJoc1ByZWNlZGVuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcHJlY2VkZW5jZV1bX3Jvb3RJZGVudGlmaWVyXS5sYXRleFJpZ2h0UGFyZW5zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJoc1BhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXNbcmhzUHJlY2VkZW5jZV1bcmhzSWRlbnRpZmllcl0ubGF0ZXhQYXJlbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmhzUGFyZW5zID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXN1bHQgPSBbbGhzUGFyZW5zLCByaHNQYXJlbnNdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocm9vdC5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCByb290LmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgICAgICB2YXIgYXJnUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UoYXJnLCBwYXJlbnRoZXNpcyk7XG4gICAgICAgICAgICB2YXIgYXNzb2NXaXRoQXJnID0gaXNBc3NvY2lhdGl2ZVdpdGgocm9vdCwgYXJnLCBwYXJlbnRoZXNpcyk7XG4gICAgICAgICAgICB2YXIgYXJnQXNzb2NpYXRpdml0eSA9IGdldEFzc29jaWF0aXZpdHkoYXJnLCBwYXJlbnRoZXNpcyk7XG5cbiAgICAgICAgICAgIGlmIChhcmdQcmVjZWRlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBhcmd1bWVudCBoYXMgbm8gZGVmaW5lZCBwcmVjZWRlbmNlLCBubyBwYXJlbnMgYXJlIG5lZWRlZFxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByZWNlZGVuY2UgPT09IGFyZ1ByZWNlZGVuY2UgJiYgYXNzb2NpYXRpdml0eSA9PT0gYXJnQXNzb2NpYXRpdml0eSAmJiAhYXNzb2NXaXRoQXJnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfSAvLyBoYW5kbGVzIGFuIGVkZ2UgY2FzZSBvZiAnYXV0bycgcGFyZW50aGVzZXMgd2l0aCBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBvZiBDb25zdGFudE5vZGVcbiAgICAvLyBJbiB0aGF0IGNhc2UgcHJpbnQgcGFyZW50aGVzZXMgZm9yIFBhcmVudGhlc2lzTm9kZXMgZXZlbiB0aG91Z2ggdGhleSBub3JtYWxseSB3b3VsZG4ndCBiZVxuICAgIC8vIHByaW50ZWQuXG5cblxuICAgIGlmIChhcmdzLmxlbmd0aCA+PSAyICYmIHJvb3QuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiByb290LmltcGxpY2l0ICYmIHBhcmVudGhlc2lzID09PSAnYXV0bycgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgcmVzdWx0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgdmFyIGlzUGFyZW50aGVzaXNOb2RlID0gYXJnLmdldElkZW50aWZpZXIoKSA9PT0gJ1BhcmVudGhlc2lzTm9kZSc7XG5cbiAgICAgICAgaWYgKHJlc3VsdFtpbmRleF0gfHwgaXNQYXJlbnRoZXNpc05vZGUpIHtcbiAgICAgICAgICAvLyBwdXQgaW4gcGFyZW50aGVzaXM/XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBpbXBsaWNpdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbXBsaWNpdCA/IG9wdGlvbnMuaW1wbGljaXQgOiAnaGlkZSc7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzLCBpbXBsaWNpdCwgYXJncywgZmFsc2UpO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB1bmFyeSBvcGVyYXRvcnNcbiAgICAgIHZhciBhc3NvYyA9IGdldEFzc29jaWF0aXZpdHkodGhpcywgcGFyZW50aGVzaXMpO1xuICAgICAgdmFyIG9wZXJhbmQgPSBhcmdzWzBdLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zWzBdKSB7XG4gICAgICAgIG9wZXJhbmQgPSAnKCcgKyBvcGVyYW5kICsgJyknO1xuICAgICAgfSAvLyBmb3IgZXhhbXBsZSBmb3IgXCJub3RcIiwgd2Ugd2FudCBhIHNwYWNlIGJldHdlZW4gb3BlcmFuZCBhbmQgYXJndW1lbnRcblxuXG4gICAgICB2YXIgb3BJc05hbWVkID0gL1thLXpBLVpdKy8udGVzdCh0aGlzLm9wKTtcblxuICAgICAgaWYgKGFzc29jID09PSAncmlnaHQnKSB7XG4gICAgICAgIC8vIHByZWZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gdGhpcy5vcCArIChvcElzTmFtZWQgPyAnICcgOiAnJykgKyBvcGVyYW5kO1xuICAgICAgfSBlbHNlIGlmIChhc3NvYyA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIC8vIHBvc3RmaXhcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyAob3BJc05hbWVkID8gJyAnIDogJycpICsgdGhpcy5vcDtcbiAgICAgIH0gLy8gZmFsbCBiYWNrIHRvIHBvc3RmaXhcblxuXG4gICAgICByZXR1cm4gb3BlcmFuZCArIHRoaXMub3A7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF0udG9TdHJpbmcob3B0aW9ucyk7IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICAvLyBsZWZ0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgbGhzID0gJygnICsgbGhzICsgJyknO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIC8vIHJpZ2h0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgcmhzID0gJygnICsgcmhzICsgJyknO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gbGhzICsgJyAnICsgcmhzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzICsgJyAnICsgdGhpcy5vcCArICcgJyArIHJocztcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICB2YXIgc3RyaW5naWZpZWRBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIGFyZyA9ICcoJyArIGFyZyArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuaW1wbGljaXQgJiYgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIGltcGxpY2l0ID09PSAnaGlkZScpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHJpbmdpZmllZEFyZ3Muam9pbignICcgKyB0aGlzLm9wICsgJyAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmFsbGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgIHJldHVybiB0aGlzLmZuICsgJygnICsgdGhpcy5hcmdzLmpvaW4oJywgJykgKyAnKSc7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdPcGVyYXRvck5vZGUnLFxuICAgICAgb3A6IHRoaXMub3AsXG4gICAgICBmbjogdGhpcy5mbixcbiAgICAgIGFyZ3M6IHRoaXMuYXJncyxcbiAgICAgIGltcGxpY2l0OiB0aGlzLmltcGxpY2l0XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIE9wZXJhdG9yTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiT3BlcmF0b3JOb2RlXCIsIFwib3BcIjogXCIrXCIsIFwiZm5cIjogXCJhZGRcIiwgXCJhcmdzXCI6IFsuLi5dLCBcImltcGxpY2l0XCI6IGZhbHNlfWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge09wZXJhdG9yTm9kZX1cbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JOb2RlKGpzb24ub3AsIGpzb24uZm4sIGpzb24uYXJncywganNvbi5pbXBsaWNpdCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIGZhbHNlKTtcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b0hUTUwob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgb3BlcmFuZCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIG9wZXJhbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmIChhc3NvYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAvLyBwcmVmaXggb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC11bmFyeS1vcGVyYXRvciBtYXRoLWxlZnRoYW5kLXVuYXJ5LW9wZXJhdG9yXCI+JyArIGVzY2FwZSh0aGlzLm9wKSArICc8L3NwYW4+JyArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwb3N0Zml4IHdoZW4gYXNzb2MgPT09ICdsZWZ0JyBvciB1bmRlZmluZWRcbiAgICAgICAgcmV0dXJuIG9wZXJhbmQgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLW9wZXJhdG9yIG1hdGgtdW5hcnktb3BlcmF0b3IgbWF0aC1yaWdodGhhbmQtdW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKHRoaXMub3ApICsgJzwvc3Bhbj4nO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIGJpbmFyeSBvcGVyYXRvZXNcbiAgICAgIHZhciBsaHMgPSBhcmdzWzBdLnRvSFRNTChvcHRpb25zKTsgLy8gbGVmdCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJocyA9IGFyZ3NbMV0udG9IVE1MKG9wdGlvbnMpOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICAvLyBsZWZ0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgbGhzID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW5zWzFdKSB7XG4gICAgICAgIC8vIHJpZ2h0IGhhbmQgc2lkZSBpbiBwYXJlbnRoZXNpcz9cbiAgICAgICAgcmhzID0gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcmhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScgJiYgaW1wbGljaXQgPT09ICdoaWRlJykge1xuICAgICAgICByZXR1cm4gbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWltcGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPjwvc3Bhbj4nICsgcmhzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzICsgJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicgKyByaHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdHJpbmdpZmllZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICBhcmcgPSBhcmcudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChwYXJlbnNbaW5kZXhdKSB7XG4gICAgICAgICAgLy8gcHV0IGluIHBhcmVudGhlc2lzP1xuICAgICAgICAgIGFyZyA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGFyZyArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMiAmJiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6YWRkJyB8fCB0aGlzLmdldElkZW50aWZpZXIoKSA9PT0gJ09wZXJhdG9yTm9kZTptdWx0aXBseScpKSB7XG4gICAgICAgIGlmICh0aGlzLmltcGxpY2l0ICYmIHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JyAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1pbXBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj48L3NwYW4+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBcmdzLmpvaW4oJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLWJpbmFyeS1vcGVyYXRvciBtYXRoLWV4cGxpY2l0LWJpbmFyeS1vcGVyYXRvclwiPicgKyBlc2NhcGUodGhpcy5vcCkgKyAnPC9zcGFuPicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gZm9ybWF0dGluZyBhcyBhIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtZnVuY3Rpb25cIj4nICsgZXNjYXBlKHRoaXMuZm4pICsgJzwvc3Bhbj48c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIHN0cmluZ2lmaWVkQXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBPcGVyYXRvck5vZGUucHJvdG90eXBlLl90b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgaW1wbGljaXQgPSBvcHRpb25zICYmIG9wdGlvbnMuaW1wbGljaXQgPyBvcHRpb25zLmltcGxpY2l0IDogJ2hpZGUnO1xuICAgIHZhciBhcmdzID0gdGhpcy5hcmdzO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcywgaW1wbGljaXQsIGFyZ3MsIHRydWUpO1xuICAgIHZhciBvcCA9IGxhdGV4T3BlcmF0b3JzW3RoaXMuZm5dO1xuICAgIG9wID0gdHlwZW9mIG9wID09PSAndW5kZWZpbmVkJyA/IHRoaXMub3AgOiBvcDsgLy8gZmFsbCBiYWNrIHRvIHVzaW5nIHRoaXMub3BcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gdW5hcnkgb3BlcmF0b3JzXG4gICAgICB2YXIgYXNzb2MgPSBnZXRBc3NvY2lhdGl2aXR5KHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICAgIHZhciBvcGVyYW5kID0gYXJnc1swXS50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1swXSkge1xuICAgICAgICBvcGVyYW5kID0gXCJcXFxcbGVmdChcIi5jb25jYXQob3BlcmFuZCwgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXNzb2MgPT09ICdyaWdodCcpIHtcbiAgICAgICAgLy8gcHJlZml4IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBvcCArIG9wZXJhbmQ7XG4gICAgICB9IGVsc2UgaWYgKGFzc29jID09PSAnbGVmdCcpIHtcbiAgICAgICAgLy8gcG9zdGZpeCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gb3BlcmFuZCArIG9wO1xuICAgICAgfSAvLyBmYWxsIGJhY2sgdG8gcG9zdGZpeFxuXG5cbiAgICAgIHJldHVybiBvcGVyYW5kICsgb3A7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgLy8gYmluYXJ5IG9wZXJhdG9yc1xuICAgICAgdmFyIGxocyA9IGFyZ3NbMF07IC8vIGxlZnQgaGFuZCBzaWRlXG5cbiAgICAgIHZhciBsaHNUZXggPSBsaHMudG9UZXgob3B0aW9ucyk7XG5cbiAgICAgIGlmIChwYXJlbnNbMF0pIHtcbiAgICAgICAgbGhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQobGhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciByaHMgPSBhcmdzWzFdOyAvLyByaWdodCBoYW5kIHNpZGVcblxuICAgICAgdmFyIHJoc1RleCA9IHJocy50b1RleChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVuc1sxXSkge1xuICAgICAgICByaHNUZXggPSBcIlxcXFxsZWZ0KFwiLmNvbmNhdChyaHNUZXgsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH0gLy8gaGFuZGxlIHNvbWUgZXhjZXB0aW9ucyAoZHVlIHRvIHRoZSB3YXkgTGFUZVggd29ya3MpXG5cblxuICAgICAgdmFyIGxoc0lkZW50aWZpZXI7XG5cbiAgICAgIGlmIChwYXJlbnRoZXNpcyA9PT0gJ2tlZXAnKSB7XG4gICAgICAgIGxoc0lkZW50aWZpZXIgPSBsaHMuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWdub3JlIFBhcmVudGhlc2lzTm9kZXMgaWYgaW4gJ2tlZXAnIG1vZGVcbiAgICAgICAgbGhzSWRlbnRpZmllciA9IGxocy5nZXRDb250ZW50KCkuZ2V0SWRlbnRpZmllcigpO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHRoaXMuZ2V0SWRlbnRpZmllcigpKSB7XG4gICAgICAgIGNhc2UgJ09wZXJhdG9yTm9kZTpkaXZpZGUnOlxuICAgICAgICAgIC8vIG9wIGNvbnRhaW5zICdcXFxcZnJhYycgYXQgdGhpcyBwb2ludFxuICAgICAgICAgIHJldHVybiBvcCArICd7JyArIGxoc1RleCArICd9JyArICd7JyArIHJoc1RleCArICd9JztcblxuICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6cG93JzpcbiAgICAgICAgICBsaHNUZXggPSAneycgKyBsaHNUZXggKyAnfSc7XG4gICAgICAgICAgcmhzVGV4ID0gJ3snICsgcmhzVGV4ICsgJ30nO1xuXG4gICAgICAgICAgc3dpdGNoIChsaHNJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBjYXNlICdDb25kaXRpb25hbE5vZGUnOiAvL1xuXG4gICAgICAgICAgICBjYXNlICdPcGVyYXRvck5vZGU6ZGl2aWRlJzpcbiAgICAgICAgICAgICAgbGhzVGV4ID0gXCJcXFxcbGVmdChcIi5jb25jYXQobGhzVGV4LCBcIlxcXFxyaWdodClcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnT3BlcmF0b3JOb2RlOm11bHRpcGx5JzpcbiAgICAgICAgICBpZiAodGhpcy5pbXBsaWNpdCAmJiBpbXBsaWNpdCA9PT0gJ2hpZGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbGhzVGV4ICsgJ34nICsgcmhzVGV4O1xuICAgICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGhzVGV4ICsgb3AgKyByaHNUZXg7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDIgJiYgKHRoaXMuZ2V0SWRlbnRpZmllcigpID09PSAnT3BlcmF0b3JOb2RlOmFkZCcgfHwgdGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknKSkge1xuICAgICAgdmFyIHRleGlmaWVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcsIGluZGV4KSB7XG4gICAgICAgIGFyZyA9IGFyZy50b1RleChvcHRpb25zKTtcblxuICAgICAgICBpZiAocGFyZW5zW2luZGV4XSkge1xuICAgICAgICAgIGFyZyA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGFyZywgXCJcXFxccmlnaHQpXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5nZXRJZGVudGlmaWVyKCkgPT09ICdPcGVyYXRvck5vZGU6bXVsdGlwbHknICYmIHRoaXMuaW1wbGljaXQpIHtcbiAgICAgICAgcmV0dXJuIHRleGlmaWVkQXJncy5qb2luKCd+Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXhpZmllZEFyZ3Muam9pbihvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGwgYmFjayB0byBmb3JtYXR0aW5nIGFzIGEgZnVuY3Rpb24gY2FsbFxuICAgICAgLy8gYXMgdGhpcyBpcyBhIGZhbGxiYWNrLCBpdCBkb2Vzbid0IHVzZVxuICAgICAgLy8gZmFuY3kgZnVuY3Rpb24gbmFtZXNcbiAgICAgIHJldHVybiAnXFxcXG1hdGhybXsnICsgdGhpcy5mbiArICd9XFxcXGxlZnQoJyArIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIGFyZy50b1RleChvcHRpb25zKTtcbiAgICAgIH0pLmpvaW4oJywnKSArICdcXFxccmlnaHQpJztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIE9wZXJhdG9yTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlICsgJzonICsgdGhpcy5mbjtcbiAgfTtcblxuICByZXR1cm4gT3BlcmF0b3JOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ1BhcmVudGhlc2lzTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVBhcmVudGhlc2lzTm9kZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvciBQYXJlbnRoZXNpc05vZGVcbiAgICogQGV4dGVuZHMge05vZGV9XG4gICAqIEEgcGFyZW50aGVzaXMgbm9kZSBkZXNjcmliZXMgbWFudWFsIHBhcmVudGhlc2lzIGZyb20gdGhlIHVzZXIgaW5wdXRcbiAgICogQHBhcmFtIHtOb2RlfSBjb250ZW50XG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gUGFyZW50aGVzaXNOb2RlKGNvbnRlbnQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFyZW50aGVzaXNOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0XG5cblxuICAgIGlmICghaXNOb2RlKGNvbnRlbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkIGZvciBwYXJhbWV0ZXIgXCJjb250ZW50XCInKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUudHlwZSA9ICdQYXJlbnRoZXNpc05vZGUnO1xuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmlzUGFyZW50aGVzaXNOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uIChtYXRoLCBhcmdOYW1lcykge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHRoZSBjb250ZW50IG9mIHRoZSBjdXJyZW50IE5vZGUuXG4gICAqIEByZXR1cm4ge05vZGV9IGNvbnRlbnRcbiAgICogQG92ZXJyaWRlXG4gICAqKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmdldENvbnRlbnQoKTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmNvbnRlbnQsICdjb250ZW50JywgdGhpcyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUGFyZW50aGVzaXNOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UGFyZW50aGVzaXNOb2RlfSBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBjb250ZW50ID0gY2FsbGJhY2sodGhpcy5jb250ZW50LCAnY29udGVudCcsIHRoaXMpO1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKGNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBub2RlLCBhIHNoYWxsb3cgY29weVxuICAgKiBAcmV0dXJuIHtQYXJlbnRoZXNpc05vZGV9XG4gICAqL1xuXG5cbiAgUGFyZW50aGVzaXNOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFBhcmVudGhlc2lzTm9kZSh0aGlzLmNvbnRlbnQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiAnKCcgKyB0aGlzLmNvbnRlbnQudG9TdHJpbmcob3B0aW9ucykgKyAnKSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50b1N0cmluZyhvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnUGFyZW50aGVzaXNOb2RlJyxcbiAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudFxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbiBQYXJlbnRoZXNpc05vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlBhcmVudGhlc2lzTm9kZVwiLCBcImNvbnRlbnRcIjogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge1BhcmVudGhlc2lzTm9kZX1cbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgUGFyZW50aGVzaXNOb2RlKGpzb24uY29udGVudCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBQYXJlbnRoZXNpc05vZGUucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMgJiYgIW9wdGlvbnMucGFyZW50aGVzaXMgfHwgb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID09PSAna2VlcCcpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyB0aGlzLmNvbnRlbnQudG9IVE1MKG9wdGlvbnMpICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9IVE1MKG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IExhVGVYIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFBhcmVudGhlc2lzTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJlbnRoZXNpcyB8fCBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPT09ICdrZWVwJykge1xuICAgICAgcmV0dXJuIFwiXFxcXGxlZnQoXCIuY29uY2F0KHRoaXMuY29udGVudC50b1RleChvcHRpb25zKSwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9UZXgob3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIFBhcmVudGhlc2lzTm9kZTtcbn0sIHtcbiAgaXNDbGFzczogdHJ1ZSxcbiAgaXNOb2RlOiB0cnVlXG59KTsiLCJpbXBvcnQgeyBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xudmFyIG5hbWUgPSAnUmFuZ2VOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ05vZGUnXTtcbmV4cG9ydCB2YXIgY3JlYXRlUmFuZ2VOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIFJhbmdlTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogY3JlYXRlIGEgcmFuZ2VcbiAgICogQHBhcmFtIHtOb2RlfSBzdGFydCAgaW5jbHVkZWQgbG93ZXItYm91bmRcbiAgICogQHBhcmFtIHtOb2RlfSBlbmQgICAgaW5jbHVkZWQgdXBwZXItYm91bmRcbiAgICogQHBhcmFtIHtOb2RlfSBbc3RlcF0gb3B0aW9uYWwgc3RlcFxuICAgKi9cbiAgZnVuY3Rpb24gUmFuZ2VOb2RlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2VOb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9IC8vIHZhbGlkYXRlIGlucHV0c1xuXG5cbiAgICBpZiAoIWlzTm9kZShzdGFydCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQnKTtcbiAgICBpZiAoIWlzTm9kZShlbmQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb2RlIGV4cGVjdGVkJyk7XG4gICAgaWYgKHN0ZXAgJiYgIWlzTm9kZShzdGVwKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTm9kZSBleHBlY3RlZCcpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMnKTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7IC8vIGluY2x1ZGVkIGxvd2VyLWJvdW5kXG5cbiAgICB0aGlzLmVuZCA9IGVuZDsgLy8gaW5jbHVkZWQgdXBwZXItYm91bmRcblxuICAgIHRoaXMuc3RlcCA9IHN0ZXAgfHwgbnVsbDsgLy8gb3B0aW9uYWwgc3RlcFxuICB9XG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudHlwZSA9ICdSYW5nZU5vZGUnO1xuICBSYW5nZU5vZGUucHJvdG90eXBlLmlzUmFuZ2VOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhlIFJhbmdlTm9kZSBuZWVkcyB0aGUgYGVuZGAgc3ltYm9sIHRvIGJlIGRlZmluZWQuXG4gICAqIFRoaXMgZW5kIGlzIHRoZSBzaXplIG9mIHRoZSBNYXRyaXggaW4gY3VycmVudCBkaW1lbnNpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUubmVlZHNFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZmluZCBhbGwgYGVuZGAgc3ltYm9scyBpbiB0aGlzIFJhbmdlTm9kZVxuICAgIHZhciBlbmRTeW1ib2xzID0gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBpc1N5bWJvbE5vZGUobm9kZSkgJiYgbm9kZS5uYW1lID09PSAnZW5kJztcbiAgICB9KTtcbiAgICByZXR1cm4gZW5kU3ltYm9scy5sZW5ndGggPiAwO1xuICB9O1xuICAvKipcbiAgICogQ29tcGlsZSBhIG5vZGUgaW50byBhIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gICAqIFRoaXMgYmFzaWNhbGx5IHByZS1jYWxjdWxhdGVzIGFzIG11Y2ggYXMgcG9zc2libGUgYW5kIG9ubHkgbGVhdmVzIG9wZW5cbiAgICogY2FsY3VsYXRpb25zIHdoaWNoIGRlcGVuZCBvbiBhIGR5bmFtaWMgc2NvcGUgd2l0aCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRoICAgICBNYXRoLmpzIG5hbWVzcGFjZSB3aXRoIGZ1bmN0aW9ucyBhbmQgY29uc3RhbnRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXJnTmFtZXMgQW4gb2JqZWN0IHdpdGggYXJndW1lbnQgbmFtZXMgYXMga2V5IGFuZCBgdHJ1ZWBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFzIHZhbHVlLiBVc2VkIGluIHRoZSBTeW1ib2xOb2RlIHRvIG9wdGltaXplXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYXJndW1lbnRzIGZyb20gdXNlciBhc3NpZ25lZCBmdW5jdGlvbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIChzZWUgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSkgb3Igc3BlY2lhbCBzeW1ib2xzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlIGBlbmRgIChzZWUgSW5kZXhOb2RlKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYW4gYmUgY2FsbGVkIGxpa2U6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgZXZhbE5vZGUoc2NvcGU6IE9iamVjdCwgYXJnczogT2JqZWN0LCBjb250ZXh0OiAqKVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICB2YXIgcmFuZ2UgPSBtYXRoLnJhbmdlO1xuXG4gICAgdmFyIGV2YWxTdGFydCA9IHRoaXMuc3RhcnQuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgdmFyIGV2YWxFbmQgPSB0aGlzLmVuZC5fY29tcGlsZShtYXRoLCBhcmdOYW1lcyk7XG5cbiAgICBpZiAodGhpcy5zdGVwKSB7XG4gICAgICB2YXIgZXZhbFN0ZXAgPSB0aGlzLnN0ZXAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJhbmdlTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxTdGVwKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJhbmdlTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmFuZ2UoZXZhbFN0YXJ0KHNjb3BlLCBhcmdzLCBjb250ZXh0KSwgZXZhbEVuZChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGVhY2ggb2YgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSl9IGNhbGxiYWNrXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodGhpcy5zdGFydCwgJ3N0YXJ0JywgdGhpcyk7XG4gICAgY2FsbGJhY2sodGhpcy5lbmQsICdlbmQnLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuc3RlcCwgJ3N0ZXAnLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUmFuZ2VOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtSYW5nZU5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlTm9kZSh0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5zdGFydCwgJ3N0YXJ0JywgdGhpcykpLCB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5lbmQsICdlbmQnLCB0aGlzKSksIHRoaXMuc3RlcCAmJiB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5zdGVwLCAnc3RlcCcsIHRoaXMpKSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge1JhbmdlTm9kZX1cbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmFuZ2VOb2RlKHRoaXMuc3RhcnQsIHRoaXMuZW5kLCB0aGlzLnN0ZXAgJiYgdGhpcy5zdGVwKTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgbmVjZXNzYXJ5IHBhcmVudGhlc2VzXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50aGVzaXNcbiAgICogQHJldHVybiB7T2JqZWN0fSBwYXJlbnRoZXNlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKG5vZGUsIHBhcmVudGhlc2lzKSB7XG4gICAgdmFyIHByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgcGFyZW5zID0ge307XG4gICAgdmFyIHN0YXJ0UHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5zdGFydCwgcGFyZW50aGVzaXMpO1xuICAgIHBhcmVucy5zdGFydCA9IHN0YXJ0UHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBzdGFydFByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSB8fCBwYXJlbnRoZXNpcyA9PT0gJ2FsbCc7XG5cbiAgICBpZiAobm9kZS5zdGVwKSB7XG4gICAgICB2YXIgc3RlcFByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKG5vZGUuc3RlcCwgcGFyZW50aGVzaXMpO1xuICAgICAgcGFyZW5zLnN0ZXAgPSBzdGVwUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBzdGVwUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlIHx8IHBhcmVudGhlc2lzID09PSAnYWxsJztcbiAgICB9XG5cbiAgICB2YXIgZW5kUHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2Uobm9kZS5lbmQsIHBhcmVudGhlc2lzKTtcbiAgICBwYXJlbnMuZW5kID0gZW5kUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBlbmRQcmVjZWRlbmNlIDw9IHByZWNlZGVuY2UgfHwgcGFyZW50aGVzaXMgPT09ICdhbGwnO1xuICAgIHJldHVybiBwYXJlbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSYW5nZU5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcGFyZW5zID0gY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXModGhpcywgcGFyZW50aGVzaXMpOyAvLyBmb3JtYXQgc3RyaW5nIGFzIHN0YXJ0OnN0ZXA6c3RvcFxuXG4gICAgdmFyIHN0cjtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RhcnQgPSAnKCcgKyBzdGFydCArICcpJztcbiAgICB9XG5cbiAgICBzdHIgPSBzdGFydDtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvU3RyaW5nKG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9ICcoJyArIHN0ZXAgKyAnKSc7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSAnOicgKyBzdGVwO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSB0aGlzLmVuZC50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuZW5kKSB7XG4gICAgICBlbmQgPSAnKCcgKyBlbmQgKyAnKSc7XG4gICAgfVxuXG4gICAgc3RyICs9ICc6JyArIGVuZDtcbiAgICByZXR1cm4gc3RyO1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdSYW5nZU5vZGUnLFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICBlbmQ6IHRoaXMuZW5kLFxuICAgICAgc3RlcDogdGhpcy5zdGVwXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIFJhbmdlTm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uICBBbiBvYmplY3Qgc3RydWN0dXJlZCBsaWtlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBge1wibWF0aGpzXCI6IFwiUmFuZ2VOb2RlXCIsIFwic3RhcnRcIjogLi4uLCBcImVuZFwiOiAuLi4sIFwic3RlcFwiOiAuLi59YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7UmFuZ2VOb2RlfVxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZU5vZGUoanNvbi5zdGFydCwganNvbi5lbmQsIGpzb24uc3RlcCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIFJhbmdlTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwYXJlbnMgPSBjYWxjdWxhdGVOZWNlc3NhcnlQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnRoZXNpcyk7IC8vIGZvcm1hdCBzdHJpbmcgYXMgc3RhcnQ6c3RlcDpzdG9wXG5cbiAgICB2YXIgc3RyO1xuICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnQudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5zdGFydCkge1xuICAgICAgc3RhcnQgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdGFydCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICBzdHIgPSBzdGFydDtcblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvSFRNTChvcHRpb25zKTtcblxuICAgICAgaWYgKHBhcmVucy5zdGVwKSB7XG4gICAgICAgIHN0ZXAgPSAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4oPC9zcGFuPicgKyBzdGVwICsgJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KTwvc3Bhbj4nO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXJhbmdlLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgc3RlcDtcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gdGhpcy5lbmQudG9IVE1MKG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9ICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPig8L3NwYW4+JyArIGVuZCArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyZW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgICB9XG5cbiAgICBzdHIgKz0gJzxzcGFuIGNsYXNzPVwibWF0aC1vcGVyYXRvciBtYXRoLXJhbmdlLW9wZXJhdG9yXCI+Ojwvc3Bhbj4nICsgZW5kO1xuICAgIHJldHVybiBzdHI7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtcyB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmFuZ2VOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBwYXJlbnRoZXNpcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJlbnRoZXNpcyA/IG9wdGlvbnMucGFyZW50aGVzaXMgOiAna2VlcCc7XG4gICAgdmFyIHBhcmVucyA9IGNhbGN1bGF0ZU5lY2Vzc2FyeVBhcmVudGhlc2VzKHRoaXMsIHBhcmVudGhlc2lzKTtcbiAgICB2YXIgc3RyID0gdGhpcy5zdGFydC50b1RleChvcHRpb25zKTtcblxuICAgIGlmIChwYXJlbnMuc3RhcnQpIHtcbiAgICAgIHN0ciA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHN0ciwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0ZXApIHtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgICBpZiAocGFyZW5zLnN0ZXApIHtcbiAgICAgICAgc3RlcCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KHN0ZXAsIFwiXFxcXHJpZ2h0KVwiKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9ICc6JyArIHN0ZXA7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IHRoaXMuZW5kLnRvVGV4KG9wdGlvbnMpO1xuXG4gICAgaWYgKHBhcmVucy5lbmQpIHtcbiAgICAgIGVuZCA9IFwiXFxcXGxlZnQoXCIuY29uY2F0KGVuZCwgXCJcXFxccmlnaHQpXCIpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOicgKyBlbmQ7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2VOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImltcG9ydCB7IGdldFByZWNlZGVuY2UgfSBmcm9tICcuLi9vcGVyYXRvcnMuanMnO1xuaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgbGF0ZXhPcGVyYXRvcnMgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdSZWxhdGlvbmFsTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydOb2RlJ107XG5leHBvcnQgdmFyIGNyZWF0ZVJlbGF0aW9uYWxOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQSBub2RlIHJlcHJlc2VudGluZyBhIGNoYWluZWQgY29uZGl0aW9uYWwgZXhwcmVzc2lvbiwgc3VjaCBhcyAneCA+IHkgPiB6J1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBjb25kaXRpb25hbHMgICBBbiBhcnJheSBvZiBjb25kaXRpb25hbCBvcGVyYXRvcnMgdXNlZCB0byBjb21wYXJlIHRoZSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBwYXJhbXMgICBUaGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgY29tcGFyZWRcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yIFJlbGF0aW9uYWxOb2RlXG4gICAqIEBleHRlbmRzIHtOb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gUmVsYXRpb25hbE5vZGUoY29uZGl0aW9uYWxzLCBwYXJhbXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVsYXRpb25hbE5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0NvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShjb25kaXRpb25hbHMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgY29uZGl0aW9uYWxzIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignUGFyYW1ldGVyIHBhcmFtcyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgaWYgKGNvbmRpdGlvbmFscy5sZW5ndGggIT09IHBhcmFtcy5sZW5ndGggLSAxKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgcGFyYW1zIG11c3QgY29udGFpbiBleGFjdGx5IG9uZSBtb3JlIGVsZW1lbnQgdGhhbiBwYXJhbWV0ZXIgY29uZGl0aW9uYWxzJyk7XG4gICAgdGhpcy5jb25kaXRpb25hbHMgPSBjb25kaXRpb25hbHM7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudHlwZSA9ICdSZWxhdGlvbmFsTm9kZSc7XG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS5pc1JlbGF0aW9uYWxOb2RlID0gdHJ1ZTtcbiAgLyoqXG4gICAqIENvbXBpbGUgYSBub2RlIGludG8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgKiBUaGlzIGJhc2ljYWxseSBwcmUtY2FsY3VsYXRlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGFuZCBvbmx5IGxlYXZlcyBvcGVuXG4gICAqIGNhbGN1bGF0aW9ucyB3aGljaCBkZXBlbmQgb24gYSBkeW5hbWljIHNjb3BlIHdpdGggdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWF0aCAgICAgTWF0aC5qcyBuYW1lc3BhY2Ugd2l0aCBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFyZ05hbWVzIEFuIG9iamVjdCB3aXRoIGFyZ3VtZW50IG5hbWVzIGFzIGtleSBhbmQgYHRydWVgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBhcyB2YWx1ZS4gVXNlZCBpbiB0aGUgU3ltYm9sTm9kZSB0byBvcHRpbWl6ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFyZ3VtZW50cyBmcm9tIHVzZXIgYXNzaWduZWQgZnVuY3Rpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAoc2VlIEZ1bmN0aW9uQXNzaWdubWVudE5vZGUpIG9yIHNwZWNpYWwgc3ltYm9sc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlrZSBgZW5kYCAoc2VlIEluZGV4Tm9kZSkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCBsaWtlOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWxOb2RlKHNjb3BlOiBPYmplY3QsIGFyZ3M6IE9iamVjdCwgY29udGV4dDogKilcbiAgICovXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjb21waWxlZCA9IHRoaXMucGFyYW1zLm1hcChwID0+IHAuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZXZhbFJlbGF0aW9uYWxOb2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZXZhbExocztcbiAgICAgIHZhciBldmFsUmhzID0gY29tcGlsZWRbMF0oc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGV2YWxMaHMgPSBldmFsUmhzO1xuICAgICAgICBldmFsUmhzID0gY29tcGlsZWRbaSArIDFdKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIGNvbmRGbiA9IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBzZWxmLmNvbmRpdGlvbmFsc1tpXSk7XG5cbiAgICAgICAgaWYgKCFjb25kRm4oZXZhbExocywgZXZhbFJocykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMucGFyYW1zLmZvckVhY2goKG4sIGkpID0+IGNhbGxiYWNrKG4sICdwYXJhbXNbJyArIGkgKyAnXScsIHRoaXMpLCB0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSZWxhdGlvbmFsTm9kZSBoYXZpbmcgaXRzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbmFsTm9kZX0gUmV0dXJucyBhIHRyYW5zZm9ybWVkIGNvcHkgb2YgdGhlIG5vZGVcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZSh0aGlzLmNvbmRpdGlvbmFscy5zbGljZSgpLCB0aGlzLnBhcmFtcy5tYXAoKG4sIGkpID0+IHRoaXMuX2lmTm9kZShjYWxsYmFjayhuLCAncGFyYW1zWycgKyBpICsgJ10nLCB0aGlzKSksIHRoaXMpKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7UmVsYXRpb25hbE5vZGV9XG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgUmVsYXRpb25hbE5vZGUodGhpcy5jb25kaXRpb25hbHMsIHRoaXMucGFyYW1zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqL1xuXG5cbiAgUmVsYXRpb25hbE5vZGUucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHBhcmVudGhlc2lzID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcmVudGhlc2lzID8gb3B0aW9ucy5wYXJlbnRoZXNpcyA6ICdrZWVwJztcbiAgICB2YXIgcHJlY2VkZW5jZSA9IGdldFByZWNlZGVuY2UodGhpcywgcGFyZW50aGVzaXMpO1xuICAgIHZhciBwYXJhbVN0cmluZ3MgPSB0aGlzLnBhcmFtcy5tYXAoZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICB2YXIgcGFyYW1QcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZShwLCBwYXJlbnRoZXNpcyk7XG4gICAgICByZXR1cm4gcGFyZW50aGVzaXMgPT09ICdhbGwnIHx8IHBhcmFtUHJlY2VkZW5jZSAhPT0gbnVsbCAmJiBwYXJhbVByZWNlZGVuY2UgPD0gcHJlY2VkZW5jZSA/ICcoJyArIHAudG9TdHJpbmcob3B0aW9ucykgKyAnKScgOiBwLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH0pO1xuICAgIHZhciBvcGVyYXRvck1hcCA9IHtcbiAgICAgIGVxdWFsOiAnPT0nLFxuICAgICAgdW5lcXVhbDogJyE9JyxcbiAgICAgIHNtYWxsZXI6ICc8JyxcbiAgICAgIGxhcmdlcjogJz4nLFxuICAgICAgc21hbGxlckVxOiAnPD0nLFxuICAgICAgbGFyZ2VyRXE6ICc+PSdcbiAgICB9O1xuICAgIHZhciByZXQgPSBwYXJhbVN0cmluZ3NbMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29uZGl0aW9uYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXQgKz0gJyAnICsgb3BlcmF0b3JNYXBbdGhpcy5jb25kaXRpb25hbHNbaV1dICsgJyAnICsgcGFyYW1TdHJpbmdzW2kgKyAxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICAvKipcbiAgICogR2V0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cblxuXG4gIFJlbGF0aW9uYWxOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGhqczogJ1JlbGF0aW9uYWxOb2RlJyxcbiAgICAgIGNvbmRpdGlvbmFsczogdGhpcy5jb25kaXRpb25hbHMsXG4gICAgICBwYXJhbXM6IHRoaXMucGFyYW1zXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGEgUmVsYXRpb25hbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlJlbGF0aW9uYWxOb2RlXCIsIFwiY29uZGl0aW9uXCI6IC4uLiwgXCJ0cnVlRXhwclwiOiAuLi4sIFwiZmFsc2VFeHByXCI6IC4uLn1gLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgbWF0aGpzIGlzIG9wdGlvbmFsXG4gICAqIEByZXR1cm5zIHtSZWxhdGlvbmFsTm9kZX1cbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbmFsTm9kZShqc29uLmNvbmRpdGlvbmFscywganNvbi5wYXJhbXMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJzxzcGFuIGNsYXNzPVwibWF0aC1wYXJlbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgcC50b0hUTUwob3B0aW9ucykgKyAnPHNwYW4gY2xhc3M9XCJtYXRoLXBhcmVudGhlc2lzIG1hdGgtcm91bmQtcGFyZW50aGVzaXNcIj4pPC9zcGFuPicgOiBwLnRvSFRNTChvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgb3BlcmF0b3JNYXAgPSB7XG4gICAgICBlcXVhbDogJz09JyxcbiAgICAgIHVuZXF1YWw6ICchPScsXG4gICAgICBzbWFsbGVyOiAnPCcsXG4gICAgICBsYXJnZXI6ICc+JyxcbiAgICAgIHNtYWxsZXJFcTogJzw9JyxcbiAgICAgIGxhcmdlckVxOiAnPj0nXG4gICAgfTtcbiAgICB2YXIgcmV0ID0gcGFyYW1TdHJpbmdzWzBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmRpdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0ICs9ICc8c3BhbiBjbGFzcz1cIm1hdGgtb3BlcmF0b3IgbWF0aC1iaW5hcnktb3BlcmF0b3IgbWF0aC1leHBsaWNpdC1iaW5hcnktb3BlcmF0b3JcIj4nICsgZXNjYXBlKG9wZXJhdG9yTWFwW3RoaXMuY29uZGl0aW9uYWxzW2ldXSkgKyAnPC9zcGFuPicgKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgTGFUZVggcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICovXG5cblxuICBSZWxhdGlvbmFsTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyZW50aGVzaXMgPSBvcHRpb25zICYmIG9wdGlvbnMucGFyZW50aGVzaXMgPyBvcHRpb25zLnBhcmVudGhlc2lzIDogJ2tlZXAnO1xuICAgIHZhciBwcmVjZWRlbmNlID0gZ2V0UHJlY2VkZW5jZSh0aGlzLCBwYXJlbnRoZXNpcyk7XG4gICAgdmFyIHBhcmFtU3RyaW5ncyA9IHRoaXMucGFyYW1zLm1hcChmdW5jdGlvbiAocCwgaW5kZXgpIHtcbiAgICAgIHZhciBwYXJhbVByZWNlZGVuY2UgPSBnZXRQcmVjZWRlbmNlKHAsIHBhcmVudGhlc2lzKTtcbiAgICAgIHJldHVybiBwYXJlbnRoZXNpcyA9PT0gJ2FsbCcgfHwgcGFyYW1QcmVjZWRlbmNlICE9PSBudWxsICYmIHBhcmFtUHJlY2VkZW5jZSA8PSBwcmVjZWRlbmNlID8gJ1xcXFxsZWZ0KCcgKyBwLnRvVGV4KG9wdGlvbnMpICsgJ1xccmlnaHQpJyA6IHAudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIHJldCA9IHBhcmFtU3RyaW5nc1swXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25kaXRpb25hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldCArPSBsYXRleE9wZXJhdG9yc1t0aGlzLmNvbmRpdGlvbmFsc1tpXV0gKyBwYXJhbVN0cmluZ3NbaSArIDFdO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgcmV0dXJuIFJlbGF0aW9uYWxOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmltcG9ydCB7IGlzQWNjZXNzb3JOb2RlLCBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUsIGlzSW5kZXhOb2RlLCBpc05vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG5pbXBvcnQgeyBoYXNPd25Qcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi8uLi91dGlscy9hcnJheS5qcyc7XG5pbXBvcnQgeyBnZXRTYWZlUHJvcGVydHksIHZhbGlkYXRlU2FmZU1ldGhvZCB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlLCBsYXRleEZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL3V0aWxzL2xhdGV4LmpzJztcbnZhciBuYW1lID0gJ0Z1bmN0aW9uTm9kZSc7XG52YXIgZGVwZW5kZW5jaWVzID0gWydtYXRoJywgJ05vZGUnLCAnU3ltYm9sTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVGdW5jdGlvbk5vZGUgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICBtYXRoLFxuICAgIE5vZGUsXG4gICAgU3ltYm9sTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yIEZ1bmN0aW9uTm9kZVxuICAgKiBAZXh0ZW5kcyB7Li9Ob2RlfVxuICAgKiBpbnZva2UgYSBsaXN0IHdpdGggYXJndW1lbnRzIG9uIGEgbm9kZVxuICAgKiBAcGFyYW0gey4vTm9kZSB8IHN0cmluZ30gZm4gTm9kZSByZXNvbHZpbmcgd2l0aCBhIGZ1bmN0aW9uIG9uIHdoaWNoIHRvIGludm9rZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGFyZ3VtZW50cywgdHlwaWNhbGx5IGEgU3ltYm9Ob2RlIG9yIEFjY2Vzc29yTm9kZVxuICAgKiBAcGFyYW0gey4vTm9kZVtdfSBhcmdzXG4gICAqL1xuICBmdW5jdGlvbiBGdW5jdGlvbk5vZGUoZm4sIGFyZ3MpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Ob2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3InKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuID09PSAnc3RyaW5nJykge1xuICAgICAgZm4gPSBuZXcgU3ltYm9sTm9kZShmbik7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAoIWlzTm9kZShmbikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vZGUgZXhwZWN0ZWQgYXMgcGFyYW1ldGVyIFwiZm5cIicpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpIHx8ICFhcmdzLmV2ZXJ5KGlzTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5IGNvbnRhaW5pbmcgTm9kZXMgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcImFyZ3NcIicpO1xuICAgIH1cblxuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzIHx8IFtdOyAvLyByZWFkb25seSBwcm9wZXJ0eSBuYW1lXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm4ubmFtZSB8fCAnJztcbiAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhc3NpZ24gYSBuZXcgbmFtZSwgbmFtZSBpcyByZWFkLW9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUgPSBuZXcgTm9kZSgpO1xuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnR5cGUgPSAnRnVuY3Rpb25Ob2RlJztcbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5pc0Z1bmN0aW9uTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX2NvbXBpbGUgPSBmdW5jdGlvbiAobWF0aCwgYXJnTmFtZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25Ob2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdmFsaWQgRnVuY3Rpb25Ob2RlJyk7XG4gICAgfSAvLyBjb21waWxlIGFyZ3VtZW50c1xuXG5cbiAgICB2YXIgZXZhbEFyZ3MgPSBtYXAodGhpcy5hcmdzLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcbiAgICB9KTtcblxuICAgIGlmIChpc1N5bWJvbE5vZGUodGhpcy5mbikpIHtcbiAgICAgIC8vIHdlIGNhbiBzdGF0aWNhbGx5IGRldGVybWluZSB3aGV0aGVyIHRoZSBmdW5jdGlvbiBoYXMgYW4gcmF3QXJncyBwcm9wZXJ0eVxuICAgICAgdmFyIF9uYW1lID0gdGhpcy5mbi5uYW1lO1xuICAgICAgdmFyIGZuID0gX25hbWUgaW4gbWF0aCA/IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBfbmFtZSkgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgaXNSYXcgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4ucmF3QXJncyA9PT0gdHJ1ZTtcblxuICAgICAgaWYgKGlzUmF3KSB7XG4gICAgICAgIC8vIHBhc3MgdW5ldmFsdWF0ZWQgcGFyYW1ldGVycyAobm9kZXMpIHRvIHRoZSBmdW5jdGlvblxuICAgICAgICAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgdmFyIHJhd0FyZ3MgPSB0aGlzLmFyZ3M7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pKHJhd0FyZ3MsIG1hdGgsIF9leHRlbmRzKHt9LCBzY29wZSwgYXJncykpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdmFyIGV2YWxBcmcwID0gZXZhbEFyZ3NbMF07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShldmFsQXJnMChzY29wZSwgYXJncywgY29udGV4dCkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZXZhbEFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdmFyIF9ldmFsQXJnID0gZXZhbEFyZ3NbMF07XG4gICAgICAgICAgdmFyIGV2YWxBcmcxID0gZXZhbEFyZ3NbMV07XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGV2YWxGdW5jdGlvbk5vZGUoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoX25hbWUgaW4gc2NvcGUgPyBnZXRTYWZlUHJvcGVydHkoc2NvcGUsIF9uYW1lKSA6IGZuKShfZXZhbEFyZyhzY29wZSwgYXJncywgY29udGV4dCksIGV2YWxBcmcxKHNjb3BlLCBhcmdzLCBjb250ZXh0KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXZhbEZ1bmN0aW9uTm9kZShzY29wZSwgYXJncywgY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChfbmFtZSBpbiBzY29wZSA/IGdldFNhZmVQcm9wZXJ0eShzY29wZSwgX25hbWUpIDogZm4pLmFwcGx5KG51bGwsIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQWNjZXNzb3JOb2RlKHRoaXMuZm4pICYmIGlzSW5kZXhOb2RlKHRoaXMuZm4uaW5kZXgpICYmIHRoaXMuZm4uaW5kZXguaXNPYmplY3RQcm9wZXJ0eSgpKSB7XG4gICAgICAvLyBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSByaWdodCBjb250ZXh0OiB0aGUgb2JqZWN0IG9mIHRoZSBBY2Nlc3Nvck5vZGVcbiAgICAgIHZhciBldmFsT2JqZWN0ID0gdGhpcy5mbi5vYmplY3QuX2NvbXBpbGUobWF0aCwgYXJnTmFtZXMpO1xuXG4gICAgICB2YXIgcHJvcCA9IHRoaXMuZm4uaW5kZXguZ2V0T2JqZWN0UHJvcGVydHkoKTtcbiAgICAgIHZhciBfcmF3QXJncyA9IHRoaXMuYXJncztcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBldmFsT2JqZWN0KHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgdmFsaWRhdGVTYWZlTWV0aG9kKG9iamVjdCwgcHJvcCk7XG4gICAgICAgIHZhciBpc1JhdyA9IG9iamVjdFtwcm9wXSAmJiBvYmplY3RbcHJvcF0ucmF3QXJncztcbiAgICAgICAgcmV0dXJuIGlzUmF3ID8gb2JqZWN0W3Byb3BdKF9yYXdBcmdzLCBtYXRoLCBfZXh0ZW5kcyh7fSwgc2NvcGUsIGFyZ3MpKSAvLyBcInJhd1wiIGV2YWx1YXRpb25cbiAgICAgICAgOiBvYmplY3RbcHJvcF0uYXBwbHkob2JqZWN0LCBtYXAoZXZhbEFyZ3MsIGZ1bmN0aW9uIChldmFsQXJnKSB7XG4gICAgICAgICAgLy8gXCJyZWd1bGFyXCIgZXZhbHVhdGlvblxuICAgICAgICAgIHJldHVybiBldmFsQXJnKHNjb3BlLCBhcmdzLCBjb250ZXh0KTtcbiAgICAgICAgfSkpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm9kZS5mbi5pc0FjY2Vzc29yTm9kZSAmJiAhbm9kZS5mbi5pbmRleC5pc09iamVjdFByb3BlcnR5KClcbiAgICAgIC8vIHdlIGhhdmUgdG8gZHluYW1pY2FsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGZ1bmN0aW9uIGhhcyBhIHJhd0FyZ3MgcHJvcGVydHlcbiAgICAgIHZhciBldmFsRm4gPSB0aGlzLmZuLl9jb21waWxlKG1hdGgsIGFyZ05hbWVzKTtcblxuICAgICAgdmFyIF9yYXdBcmdzMiA9IHRoaXMuYXJncztcbiAgICAgIHJldHVybiBmdW5jdGlvbiBldmFsRnVuY3Rpb25Ob2RlKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmbiA9IGV2YWxGbihzY29wZSwgYXJncywgY29udGV4dCk7XG4gICAgICAgIHZhciBpc1JhdyA9IGZuICYmIGZuLnJhd0FyZ3M7XG4gICAgICAgIHJldHVybiBpc1JhdyA/IGZuKF9yYXdBcmdzMiwgbWF0aCwgX2V4dGVuZHMoe30sIHNjb3BlLCBhcmdzKSkgLy8gXCJyYXdcIiBldmFsdWF0aW9uXG4gICAgICAgIDogZm4uYXBwbHkoZm4sIG1hcChldmFsQXJncywgZnVuY3Rpb24gKGV2YWxBcmcpIHtcbiAgICAgICAgICAvLyBcInJlZ3VsYXJcIiBldmFsdWF0aW9uXG4gICAgICAgICAgcmV0dXJuIGV2YWxBcmcoc2NvcGUsIGFyZ3MsIGNvbnRleHQpO1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzLmZuLCAnZm4nLCB0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLmFyZ3NbaV0sICdhcmdzWycgKyBpICsgJ10nLCB0aGlzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRnVuY3Rpb25Ob2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSk6IE5vZGV9IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbk5vZGV9IFJldHVybnMgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgZm4gPSB0aGlzLl9pZk5vZGUoY2FsbGJhY2sodGhpcy5mbiwgJ2ZuJywgdGhpcykpO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gdGhpcy5faWZOb2RlKGNhbGxiYWNrKHRoaXMuYXJnc1tpXSwgJ2FyZ3NbJyArIGkgKyAnXScsIHRoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uTm9kZShmbiwgYXJncyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIG5vZGUsIGEgc2hhbGxvdyBjb3B5XG4gICAqIEByZXR1cm4ge0Z1bmN0aW9uTm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKHRoaXMuZm4sIHRoaXMuYXJncy5zbGljZSgwKSk7XG4gIH07IC8vIGJhY2t1cCBOb2RlJ3MgdG9TdHJpbmcgZnVuY3Rpb25cbiAgLy8gQHByaXZhdGVcblxuXG4gIHZhciBub2RlVG9TdHJpbmcgPSBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvU3RyaW5nO1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqIFRoaXMgb3ZlcnJpZGVzIHBhcnRzIG9mIE5vZGUncyB0b1N0cmluZyBmdW5jdGlvbi5cbiAgICogSWYgY2FsbGJhY2sgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgY2FsbGJhY2tzLCBpdFxuICAgKiBjYWxscyB0aGUgY29ycmVjdCBjYWxsYmFjayBmb3IgdGhlIGN1cnJlbnQgbm9kZSxcbiAgICogb3RoZXJ3aXNlIGl0IGZhbGxzIGJhY2sgdG8gY2FsbGluZyBOb2RlJ3MgdG9TdHJpbmdcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gc3RyXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgY3VzdG9tU3RyaW5nO1xuICAgIHZhciBuYW1lID0gdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKTtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdvYmplY3QnICYmIGhhc093blByb3BlcnR5KG9wdGlvbnMuaGFuZGxlciwgbmFtZSkpIHtcbiAgICAgIC8vIGNhbGxiYWNrIGlzIGEgbWFwIG9mIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgICAgY3VzdG9tU3RyaW5nID0gb3B0aW9ucy5oYW5kbGVyW25hbWVdKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tU3RyaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0cmluZztcbiAgICB9IC8vIGZhbGwgYmFjayB0byBOb2RlJ3MgdG9TdHJpbmdcblxuXG4gICAgcmV0dXJuIG5vZGVUb1N0cmluZy5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgZm4gPSBpc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUodGhpcy5mbikgPyAnKCcgKyB0aGlzLmZuLnRvU3RyaW5nKG9wdGlvbnMpICsgJyknIDogdGhpcy5mbi50b1N0cmluZyhvcHRpb25zKTsgLy8gZm9ybWF0IHRoZSBhcmd1bWVudHMgbGlrZSBcImFkZCgyLCA0LjIpXCJcblxuICAgIHJldHVybiBmbiArICcoJyArIGFyZ3Muam9pbignLCAnKSArICcpJztcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0aGpzOiAnRnVuY3Rpb25Ob2RlJyxcbiAgICAgIGZuOiB0aGlzLmZuLFxuICAgICAgYXJnczogdGhpcy5hcmdzXG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIGFuIEFzc2lnbm1lbnROb2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gIEFuIG9iamVjdCBzdHJ1Y3R1cmVkIGxpa2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGB7XCJtYXRoanNcIjogXCJGdW5jdGlvbk5vZGVcIiwgZm46IC4uLiwgYXJnczogLi4ufWAsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXRoanMgaXMgb3B0aW9uYWxcbiAgICogQHJldHVybnMge0Z1bmN0aW9uTm9kZX1cbiAgICovXG5cblxuICBGdW5jdGlvbk5vZGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ob2RlKGpzb24uZm4sIGpzb24uYXJncyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgSFRNTCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy50b0hUTUwob3B0aW9ucyk7XG4gICAgfSk7IC8vIGZvcm1hdCB0aGUgYXJndW1lbnRzIGxpa2UgXCJhZGQoMiwgNC4yKVwiXG5cbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1mdW5jdGlvblwiPicgKyBlc2NhcGUodGhpcy5mbikgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPVwibWF0aC1wYXJhbnRoZXNpcyBtYXRoLXJvdW5kLXBhcmVudGhlc2lzXCI+KDwvc3Bhbj4nICsgYXJncy5qb2luKCc8c3BhbiBjbGFzcz1cIm1hdGgtc2VwYXJhdG9yXCI+LDwvc3Bhbj4nKSArICc8c3BhbiBjbGFzcz1cIm1hdGgtcGFyYW50aGVzaXMgbWF0aC1yb3VuZC1wYXJlbnRoZXNpc1wiPik8L3NwYW4+JztcbiAgfTtcbiAgLypcbiAgICogRXhwYW5kIGEgTGFUZVggdGVtcGxhdGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcHJpdmF0ZVxuICAgKiovXG5cblxuICBmdW5jdGlvbiBleHBhbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZSwgb3B0aW9ucykge1xuICAgIHZhciBsYXRleCA9ICcnOyAvLyBNYXRjaCBldmVyeXRoaW5nIG9mIHRoZSBmb3JtICR7aWRlbnRpZmllcn0gb3IgJHtpZGVudGlmaWVyWzJdfSBvciAkJFxuICAgIC8vIHdoaWxlIHN1Ym1hdGNoaW5nIGlkZW50aWZpZXIgYW5kIDIgKGluIHRoZSBzZWNvbmQgY2FzZSlcblxuICAgIHZhciByZWdleCA9IC9cXCQoPzpcXHsoW2Etel9dW2Etel8wLTldKikoPzpcXFsoWzAtOV0rKVxcXSk/XFx9fFxcJCkvZ2k7XG4gICAgdmFyIGlucHV0UG9zID0gMDsgLy8gcG9zaXRpb24gaW4gdGhlIGlucHV0IHN0cmluZ1xuXG4gICAgdmFyIG1hdGNoO1xuXG4gICAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWModGVtcGxhdGUpKSAhPT0gbnVsbCkge1xuICAgICAgLy8gZ28gdGhyb3VnaCBhbGwgbWF0Y2hlc1xuICAgICAgLy8gYWRkIGV2ZXJ5dGhpbmcgaW4gZnJvbnQgb2YgdGhlIG1hdGNoIHRvIHRoZSBMYVRlWCBzdHJpbmdcbiAgICAgIGxhdGV4ICs9IHRlbXBsYXRlLnN1YnN0cmluZyhpbnB1dFBvcywgbWF0Y2guaW5kZXgpO1xuICAgICAgaW5wdXRQb3MgPSBtYXRjaC5pbmRleDtcblxuICAgICAgaWYgKG1hdGNoWzBdID09PSAnJCQnKSB7XG4gICAgICAgIC8vIGVzY2FwZWQgZG9sbGFyIHNpZ25cbiAgICAgICAgbGF0ZXggKz0gJyQnO1xuICAgICAgICBpbnB1dFBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGVtcGxhdGUgcGFyYW1ldGVyXG4gICAgICAgIGlucHV0UG9zICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gbm9kZVttYXRjaFsxXV07XG5cbiAgICAgICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignVGVtcGxhdGU6IFByb3BlcnR5ICcgKyBtYXRjaFsxXSArICcgZG9lcyBub3QgZXhpc3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2hbMl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIG5vIHNxdWFyZSBicmFja2V0c1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgIGlmIChpc05vZGUocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgbGF0ZXggKz0gcHJvcGVydHkudG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIGFycmF5IG9mIE5vZGVzIGludG8gY29tbWEgc2VwYXJhdGVkIGxpc3RcbiAgICAgICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eS5tYXAoZnVuY3Rpb24gKGFyZywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc05vZGUoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLnRvVGV4KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJ1snICsgaW5kZXggKyAnXSBpcyBub3QgYSBOb2RlLicpO1xuICAgICAgICAgICAgICAgIH0pLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJyBoYXMgdG8gYmUgYSBOb2RlLCBTdHJpbmcgb3IgYXJyYXkgb2YgTm9kZXMnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUZW1wbGF0ZTogJyArIG1hdGNoWzFdICsgJyBoYXMgdG8gYmUgYSBOb2RlLCBTdHJpbmcgb3IgYXJyYXkgb2YgTm9kZXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2l0aCBzcXVhcmUgYnJhY2tldHNcbiAgICAgICAgICBpZiAoaXNOb2RlKHByb3BlcnR5W21hdGNoWzJdXSAmJiBwcm9wZXJ0eVttYXRjaFsyXV0pKSB7XG4gICAgICAgICAgICBsYXRleCArPSBwcm9wZXJ0eVttYXRjaFsyXV0udG9UZXgob3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RlbXBsYXRlOiAnICsgbWF0Y2hbMV0gKyAnWycgKyBtYXRjaFsyXSArICddIGlzIG5vdCBhIE5vZGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGF0ZXggKz0gdGVtcGxhdGUuc2xpY2UoaW5wdXRQb3MpOyAvLyBhcHBlbmQgcmVzdCBvZiB0aGUgdGVtcGxhdGVcblxuICAgIHJldHVybiBsYXRleDtcbiAgfSAvLyBiYWNrdXAgTm9kZSdzIHRvVGV4IGZ1bmN0aW9uXG4gIC8vIEBwcml2YXRlXG5cblxuICB2YXIgbm9kZVRvVGV4ID0gRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1RleDtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvbi4gKHdyYXBwZXIgZnVuY3Rpb24pXG4gICAqIFRoaXMgb3ZlcnJpZGVzIHBhcnRzIG9mIE5vZGUncyB0b1RleCBmdW5jdGlvbi5cbiAgICogSWYgY2FsbGJhY2sgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgY2FsbGJhY2tzLCBpdFxuICAgKiBjYWxscyB0aGUgY29ycmVjdCBjYWxsYmFjayBmb3IgdGhlIGN1cnJlbnQgbm9kZSxcbiAgICogb3RoZXJ3aXNlIGl0IGZhbGxzIGJhY2sgdG8gY2FsbGluZyBOb2RlJ3MgdG9UZXhcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cbiAgRnVuY3Rpb25Ob2RlLnByb3RvdHlwZS50b1RleCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIGN1c3RvbVRleDtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmhhbmRsZXIgPT09ICdvYmplY3QnICYmIGhhc093blByb3BlcnR5KG9wdGlvbnMuaGFuZGxlciwgdGhpcy5uYW1lKSkge1xuICAgICAgLy8gY2FsbGJhY2sgaXMgYSBtYXAgb2YgY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgICBjdXN0b21UZXggPSBvcHRpb25zLmhhbmRsZXJbdGhpcy5uYW1lXSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGN1c3RvbVRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBjdXN0b21UZXg7XG4gICAgfSAvLyBmYWxsIGJhY2sgdG8gTm9kZSdzIHRvVGV4XG5cblxuICAgIHJldHVybiBub2RlVG9UZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuX3RvVGV4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgLy8gZ2V0IExhVGVYIG9mIHRoZSBhcmd1bWVudHNcbiAgICAgIHJldHVybiBhcmcudG9UZXgob3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIGxhdGV4Q29udmVydGVyO1xuXG4gICAgaWYgKGxhdGV4RnVuY3Rpb25zW3RoaXMubmFtZV0pIHtcbiAgICAgIGxhdGV4Q29udmVydGVyID0gbGF0ZXhGdW5jdGlvbnNbdGhpcy5uYW1lXTtcbiAgICB9IC8vIHRvVGV4IHByb3BlcnR5IG9uIHRoZSBmdW5jdGlvbiBpdHNlbGZcblxuXG4gICAgaWYgKG1hdGhbdGhpcy5uYW1lXSAmJiAodHlwZW9mIG1hdGhbdGhpcy5uYW1lXS50b1RleCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbWF0aFt0aGlzLm5hbWVdLnRvVGV4ID09PSAnc3RyaW5nJykpIHtcbiAgICAgIC8vIC50b1RleCBpcyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICBsYXRleENvbnZlcnRlciA9IG1hdGhbdGhpcy5uYW1lXS50b1RleDtcbiAgICB9XG5cbiAgICB2YXIgY3VzdG9tVG9UZXg7XG5cbiAgICBzd2l0Y2ggKHR5cGVvZiBsYXRleENvbnZlcnRlcikge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAvLyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgIGN1c3RvbVRvVGV4ID0gbGF0ZXhDb252ZXJ0ZXIodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAvLyBhIHRlbXBsYXRlIHN0cmluZ1xuICAgICAgICBjdXN0b21Ub1RleCA9IGV4cGFuZFRlbXBsYXRlKGxhdGV4Q29udmVydGVyLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIC8vIGFuIG9iamVjdCB3aXRoIGRpZmZlcmVudCBcImNvbnZlcnRlcnNcIiBmb3IgZGlmZmVyZW50IG51bWJlcnMgb2YgYXJndW1lbnRzXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIGxhdGV4Q29udmVydGVyW2FyZ3MubGVuZ3RoXSkge1xuICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIGN1c3RvbVRvVGV4ID0gbGF0ZXhDb252ZXJ0ZXJbYXJncy5sZW5ndGhdKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgY3VzdG9tVG9UZXggPSBleHBhbmRUZW1wbGF0ZShsYXRleENvbnZlcnRlclthcmdzLmxlbmd0aF0sIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VzdG9tVG9UZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVG9UZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cGFuZFRlbXBsYXRlKGRlZmF1bHRUZW1wbGF0ZSwgdGhpcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIEZ1bmN0aW9uTm9kZS5wcm90b3R5cGUuZ2V0SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlICsgJzonICsgdGhpcy5uYW1lO1xuICB9O1xuXG4gIHJldHVybiBGdW5jdGlvbk5vZGU7XG59LCB7XG4gIGlzQ2xhc3M6IHRydWUsXG4gIGlzTm9kZTogdHJ1ZVxufSk7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgaXNBY2Nlc3Nvck5vZGUsIGlzQ29uc3RhbnROb2RlLCBpc0Z1bmN0aW9uTm9kZSwgaXNPcGVyYXRvck5vZGUsIGlzU3ltYm9sTm9kZSB9IGZyb20gJy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGhhc093blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0LmpzJztcbnZhciBuYW1lID0gJ3BhcnNlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ251bWVyaWMnLCAnY29uZmlnJywgJ0FjY2Vzc29yTm9kZScsICdBcnJheU5vZGUnLCAnQXNzaWdubWVudE5vZGUnLCAnQmxvY2tOb2RlJywgJ0NvbmRpdGlvbmFsTm9kZScsICdDb25zdGFudE5vZGUnLCAnRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZScsICdGdW5jdGlvbk5vZGUnLCAnSW5kZXhOb2RlJywgJ09iamVjdE5vZGUnLCAnT3BlcmF0b3JOb2RlJywgJ1BhcmVudGhlc2lzTm9kZScsICdSYW5nZU5vZGUnLCAnUmVsYXRpb25hbE5vZGUnLCAnU3ltYm9sTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVQYXJzZSA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG51bWVyaWMsXG4gICAgY29uZmlnLFxuICAgIEFjY2Vzc29yTm9kZSxcbiAgICBBcnJheU5vZGUsXG4gICAgQXNzaWdubWVudE5vZGUsXG4gICAgQmxvY2tOb2RlLFxuICAgIENvbmRpdGlvbmFsTm9kZSxcbiAgICBDb25zdGFudE5vZGUsXG4gICAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSxcbiAgICBGdW5jdGlvbk5vZGUsXG4gICAgSW5kZXhOb2RlLFxuICAgIE9iamVjdE5vZGUsXG4gICAgT3BlcmF0b3JOb2RlLFxuICAgIFBhcmVudGhlc2lzTm9kZSxcbiAgICBSYW5nZU5vZGUsXG4gICAgUmVsYXRpb25hbE5vZGUsXG4gICAgU3ltYm9sTm9kZVxuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogUGFyc2UgYW4gZXhwcmVzc2lvbi4gUmV0dXJucyBhIG5vZGUgdHJlZSwgd2hpY2ggY2FuIGJlIGV2YWx1YXRlZCBieVxuICAgKiBpbnZva2luZyBub2RlLmV2YWx1YXRlKCkuXG4gICAqXG4gICAqIE5vdGUgdGhlIGV2YWx1YXRpbmcgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIG1heSBpbnZvbHZlIHNlY3VyaXR5IHJpc2tzLFxuICAgKiBzZWUgW2h0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWxdKGh0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWwpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLnBhcnNlKGV4cHIpXG4gICAqICAgICBtYXRoLnBhcnNlKGV4cHIsIG9wdGlvbnMpXG4gICAqICAgICBtYXRoLnBhcnNlKFtleHByMSwgZXhwcjIsIGV4cHIzLCAuLi5dKVxuICAgKiAgICAgbWF0aC5wYXJzZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSwgb3B0aW9ucylcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogICAgIGNvbnN0IG5vZGUxID0gbWF0aC5wYXJzZSgnc3FydCgzXjIgKyA0XjIpJylcbiAgICogICAgIG5vZGUxLmNvbXBpbGUoKS5ldmFsdWF0ZSgpIC8vIDVcbiAgICpcbiAgICogICAgIGxldCBzY29wZSA9IHthOjMsIGI6NH1cbiAgICogICAgIGNvbnN0IG5vZGUyID0gbWF0aC5wYXJzZSgnYSAqIGInKSAvLyAxMlxuICAgKiAgICAgY29uc3QgY29kZTIgPSBub2RlMi5jb21waWxlKClcbiAgICogICAgIGNvZGUyLmV2YWx1YXRlKHNjb3BlKSAvLyAxMlxuICAgKiAgICAgc2NvcGUuYSA9IDVcbiAgICogICAgIGNvZGUyLmV2YWx1YXRlKHNjb3BlKSAvLyAyMFxuICAgKlxuICAgKiAgICAgY29uc3Qgbm9kZXMgPSBtYXRoLnBhcnNlKFsnYSA9IDMnLCAnYiA9IDQnLCAnYSAqIGInXSlcbiAgICogICAgIG5vZGVzWzJdLmNvbXBpbGUoKS5ldmFsdWF0ZSgpIC8vIDEyXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgZXZhbHVhdGUsIGNvbXBpbGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXSB8IE1hdHJpeH0gZXhwciAgICAgICAgICBFeHByZXNzaW9uIHRvIGJlIHBhcnNlZFxuICAgKiBAcGFyYW0ge3tub2RlczogT2JqZWN0PHN0cmluZywgTm9kZT59fSBbb3B0aW9uc10gIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYG5vZGVzYCBhIHNldCBvZiBjdXN0b20gbm9kZXNcbiAgICogQHJldHVybiB7Tm9kZSB8IE5vZGVbXX0gbm9kZVxuICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICovXG4gIHZhciBwYXJzZSA9IHR5cGVkKG5hbWUsIHtcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhleHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gcGFyc2VTdGFydChleHByZXNzaW9uLCB7fSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBBcnJheU1hdHJpeChleHByZXNzaW9ucykge1xuICAgICAgcmV0dXJuIHBhcnNlTXVsdGlwbGUoZXhwcmVzc2lvbnMsIHt9KTtcbiAgICB9LFxuICAgICdzdHJpbmcsIE9iamVjdCc6IGZ1bmN0aW9uIHN0cmluZ09iamVjdChleHByZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZXh0cmFOb2RlcyA9IG9wdGlvbnMubm9kZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubm9kZXMgOiB7fTtcbiAgICAgIHJldHVybiBwYXJzZVN0YXJ0KGV4cHJlc3Npb24sIGV4dHJhTm9kZXMpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4LCBPYmplY3QnOiBwYXJzZU11bHRpcGxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHBhcnNlTXVsdGlwbGUoZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGV4dHJhTm9kZXMgPSBvcHRpb25zLm5vZGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5vZGVzIDoge307IC8vIHBhcnNlIGFuIGFycmF5IG9yIG1hdHJpeCB3aXRoIGV4cHJlc3Npb25zXG5cbiAgICByZXR1cm4gZGVlcE1hcChleHByZXNzaW9ucywgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCcpO1xuICAgICAgcmV0dXJuIHBhcnNlU3RhcnQoZWxlbSwgZXh0cmFOb2Rlcyk7XG4gICAgfSk7XG4gIH0gLy8gdG9rZW4gdHlwZXMgZW51bWVyYXRpb25cblxuXG4gIHZhciBUT0tFTlRZUEUgPSB7XG4gICAgTlVMTDogMCxcbiAgICBERUxJTUlURVI6IDEsXG4gICAgTlVNQkVSOiAyLFxuICAgIFNZTUJPTDogMyxcbiAgICBVTktOT1dOOiA0XG4gIH07IC8vIG1hcCB3aXRoIGFsbCBkZWxpbWl0ZXJzXG5cbiAgdmFyIERFTElNSVRFUlMgPSB7XG4gICAgJywnOiB0cnVlLFxuICAgICcoJzogdHJ1ZSxcbiAgICAnKSc6IHRydWUsXG4gICAgJ1snOiB0cnVlLFxuICAgICddJzogdHJ1ZSxcbiAgICAneyc6IHRydWUsXG4gICAgJ30nOiB0cnVlLFxuICAgICdcIic6IHRydWUsXG4gICAgJ1xcJyc6IHRydWUsXG4gICAgJzsnOiB0cnVlLFxuICAgICcrJzogdHJ1ZSxcbiAgICAnLSc6IHRydWUsXG4gICAgJyonOiB0cnVlLFxuICAgICcuKic6IHRydWUsXG4gICAgJy8nOiB0cnVlLFxuICAgICcuLyc6IHRydWUsXG4gICAgJyUnOiB0cnVlLFxuICAgICdeJzogdHJ1ZSxcbiAgICAnLl4nOiB0cnVlLFxuICAgICd+JzogdHJ1ZSxcbiAgICAnISc6IHRydWUsXG4gICAgJyYnOiB0cnVlLFxuICAgICd8JzogdHJ1ZSxcbiAgICAnXnwnOiB0cnVlLFxuICAgICc9JzogdHJ1ZSxcbiAgICAnOic6IHRydWUsXG4gICAgJz8nOiB0cnVlLFxuICAgICc9PSc6IHRydWUsXG4gICAgJyE9JzogdHJ1ZSxcbiAgICAnPCc6IHRydWUsXG4gICAgJz4nOiB0cnVlLFxuICAgICc8PSc6IHRydWUsXG4gICAgJz49JzogdHJ1ZSxcbiAgICAnPDwnOiB0cnVlLFxuICAgICc+Pic6IHRydWUsXG4gICAgJz4+Pic6IHRydWVcbiAgfTsgLy8gbWFwIHdpdGggYWxsIG5hbWVkIGRlbGltaXRlcnNcblxuICB2YXIgTkFNRURfREVMSU1JVEVSUyA9IHtcbiAgICBtb2Q6IHRydWUsXG4gICAgdG86IHRydWUsXG4gICAgaW46IHRydWUsXG4gICAgYW5kOiB0cnVlLFxuICAgIHhvcjogdHJ1ZSxcbiAgICBvcjogdHJ1ZSxcbiAgICBub3Q6IHRydWVcbiAgfTtcbiAgdmFyIENPTlNUQU5UUyA9IHtcbiAgICB0cnVlOiB0cnVlLFxuICAgIGZhbHNlOiBmYWxzZSxcbiAgICBudWxsOiBudWxsLFxuICAgIHVuZGVmaW5lZDogdW5kZWZpbmVkXG4gIH07XG4gIHZhciBOVU1FUklDX0NPTlNUQU5UUyA9IFsnTmFOJywgJ0luZmluaXR5J107XG5cbiAgZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHRyYU5vZGVzOiB7fSxcbiAgICAgIC8vIGN1cnJlbnQgZXh0cmEgbm9kZXMsIG11c3QgYmUgY2FyZWZ1bCBub3QgdG8gbXV0YXRlXG4gICAgICBleHByZXNzaW9uOiAnJyxcbiAgICAgIC8vIGN1cnJlbnQgZXhwcmVzc2lvblxuICAgICAgY29tbWVudDogJycsXG4gICAgICAvLyBsYXN0IHBhcnNlZCBjb21tZW50XG4gICAgICBpbmRleDogMCxcbiAgICAgIC8vIGN1cnJlbnQgaW5kZXggaW4gZXhwclxuICAgICAgdG9rZW46ICcnLFxuICAgICAgLy8gY3VycmVudCB0b2tlblxuICAgICAgdG9rZW5UeXBlOiBUT0tFTlRZUEUuTlVMTCxcbiAgICAgIC8vIHR5cGUgb2YgdGhlIHRva2VuXG4gICAgICBuZXN0aW5nTGV2ZWw6IDAsXG4gICAgICAvLyBsZXZlbCBvZiBuZXN0aW5nIGluc2lkZSBwYXJhbWV0ZXJzLCB1c2VkIHRvIGlnbm9yZSBuZXdsaW5lIGNoYXJhY3RlcnNcbiAgICAgIGNvbmRpdGlvbmFsTGV2ZWw6IG51bGwgLy8gd2hlbiBhIGNvbmRpdGlvbmFsIGlzIGJlaW5nIHBhcnNlZCwgdGhlIGxldmVsIG9mIHRoZSBjb25kaXRpb25hbCBpcyBzdG9yZWQgaGVyZVxuXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVmlldyB1cHRvIGBsZW5ndGhgIGNoYXJhY3RlcnMgb2YgdGhlIGV4cHJlc3Npb24gc3RhcnRpbmcgYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MV0gTnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gdmlld1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRTdHJpbmcoc3RhdGUsIGxlbmd0aCkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLnN1YnN0cihzdGF0ZS5pbmRleCwgbGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogVmlldyB0aGUgY3VycmVudCBjaGFyYWN0ZXIuIFJldHVybnMgJycgaWYgZW5kIG9mIGV4cHJlc3Npb24gaXMgcmVhY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3VycmVudENoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBjdXJyZW50U3RyaW5nKHN0YXRlLCAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBuZXh0IGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBUaGUgY2hhcmFjdGVyIGlzIHN0b3JlZCBpbnRvIHRoZSBjaGFyIGMuIElmIHRoZSBlbmQgb2YgdGhlIGV4cHJlc3Npb24gaXNcbiAgICogcmVhY2hlZCwgdGhlIGZ1bmN0aW9uIHB1dHMgYW4gZW1wdHkgc3RyaW5nIGluIGMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmV4dChzdGF0ZSkge1xuICAgIHN0YXRlLmluZGV4Kys7XG4gIH1cbiAgLyoqXG4gICAqIFByZXZpZXcgdGhlIHByZXZpb3VzIGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNOZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcHJldkNoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLmNoYXJBdChzdGF0ZS5pbmRleCAtIDEpO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2aWV3IHRoZSBuZXh0IGNoYXJhY3RlciBmcm9tIHRoZSBleHByZXNzaW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNOZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbmV4dENoYXJhY3RlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5leHByZXNzaW9uLmNoYXJBdChzdGF0ZS5pbmRleCArIDEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbmV4dCB0b2tlbiBpbiB0aGUgY3VycmVudCBzdHJpbmcgZXhwci5cbiAgICogVGhlIHRva2VuIGFuZCB0b2tlbiB0eXBlIGFyZSBhdmFpbGFibGUgYXMgdG9rZW4gYW5kIHRva2VuVHlwZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFRva2VuKHN0YXRlKSB7XG4gICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLk5VTEw7XG4gICAgc3RhdGUudG9rZW4gPSAnJztcbiAgICBzdGF0ZS5jb21tZW50ID0gJyc7IC8vIHNraXAgb3ZlciB3aGl0ZXNwYWNlc1xuICAgIC8vIHNwYWNlLCB0YWIsIGFuZCBuZXdsaW5lIHdoZW4gaW5zaWRlIHBhcmFtZXRlcnNcblxuICAgIHdoaWxlIChwYXJzZS5pc1doaXRlc3BhY2UoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHN0YXRlLm5lc3RpbmdMZXZlbCkpIHtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgIH0gLy8gc2tpcCBjb21tZW50XG5cblxuICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJyMnKSB7XG4gICAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcXG4nICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnJykge1xuICAgICAgICBzdGF0ZS5jb21tZW50ICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cbiAgICB9IC8vIGNoZWNrIGZvciBlbmQgb2YgZXhwcmVzc2lvblxuXG5cbiAgICBpZiAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICcnKSB7XG4gICAgICAvLyB0b2tlbiBpcyBzdGlsbCBlbXB0eVxuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBuZXcgbGluZSBjaGFyYWN0ZXJcblxuXG4gICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxuJyAmJiAhc3RhdGUubmVzdGluZ0xldmVsKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjMSA9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgIHZhciBjMiA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDIpO1xuICAgIHZhciBjMyA9IGN1cnJlbnRTdHJpbmcoc3RhdGUsIDMpO1xuXG4gICAgaWYgKGMzLmxlbmd0aCA9PT0gMyAmJiBERUxJTUlURVJTW2MzXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzM7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDIgY2hhcmFjdGVyc1xuXG5cbiAgICBpZiAoYzIubGVuZ3RoID09PSAyICYmIERFTElNSVRFUlNbYzJdKSB7XG4gICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgc3RhdGUudG9rZW4gPSBjMjtcbiAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgZGVsaW1pdGVycyBjb25zaXN0aW5nIG9mIDEgY2hhcmFjdGVyXG5cblxuICAgIGlmIChERUxJTUlURVJTW2MxXSkge1xuICAgICAgc3RhdGUudG9rZW5UeXBlID0gVE9LRU5UWVBFLkRFTElNSVRFUjtcbiAgICAgIHN0YXRlLnRva2VuID0gYzE7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGNoZWNrIGZvciBhIG51bWJlclxuXG5cbiAgICBpZiAocGFyc2UuaXNEaWdpdERvdChjMSkpIHtcbiAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5OVU1CRVI7IC8vIGNoZWNrIGZvciBiaW5hcnksIG9jdGFsLCBvciBoZXhcblxuICAgICAgdmFyIF9jID0gY3VycmVudFN0cmluZyhzdGF0ZSwgMik7XG5cbiAgICAgIGlmIChfYyA9PT0gJzBiJyB8fCBfYyA9PT0gJzBvJyB8fCBfYyA9PT0gJzB4Jykge1xuICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcblxuICAgICAgICB3aGlsZSAocGFyc2UuaXNIZXhEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gZ2V0IG51bWJlciwgY2FuIGhhdmUgYSBzaW5nbGUgZG90XG5cblxuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLicpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgIGlmICghcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAvLyB0aGlzIGlzIG5vIG51bWJlciwgaXQgaXMganVzdCBhIGRvdCAoY2FuIGJlIGRvdCBub3RhdGlvbilcbiAgICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuREVMSU1JVEVSO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZS5pc0RlY2ltYWxNYXJrKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbiArPSBjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKTtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfSAvLyBjaGVjayBmb3IgZXhwb25lbnRpYWwgbm90YXRpb24gbGlrZSBcIjIuM2UtNFwiLCBcIjEuMjNlNTBcIiBvciBcIjJlKzRcIlxuXG5cbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ0UnIHx8IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnZScpIHtcbiAgICAgICAgaWYgKHBhcnNlLmlzRGlnaXQobmV4dENoYXJhY3RlcihzdGF0ZSkpIHx8IG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLScgfHwgbmV4dENoYXJhY3RlcihzdGF0ZSkgPT09ICcrJykge1xuICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgIG5leHQoc3RhdGUpO1xuXG4gICAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnKycgfHwgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgPT09ICctJykge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB9IC8vIFNjaWVudGlmaWMgbm90YXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBhbiBleHBvbmVudFxuXG5cbiAgICAgICAgICBpZiAoIXBhcnNlLmlzRGlnaXQoY3VycmVudENoYXJhY3RlcihzdGF0ZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aGlsZSAocGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgbmV4dChzdGF0ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcnNlLmlzRGVjaW1hbE1hcmsoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdEaWdpdCBleHBlY3RlZCwgZ290IFwiJyArIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICsgJ1wiJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5leHRDaGFyYWN0ZXIoc3RhdGUpID09PSAnLicpIHtcbiAgICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0RpZ2l0IGV4cGVjdGVkLCBnb3QgXCInICsgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBjaGVjayBmb3IgdmFyaWFibGVzLCBmdW5jdGlvbnMsIG5hbWVkIG9wZXJhdG9yc1xuXG5cbiAgICBpZiAocGFyc2UuaXNBbHBoYShjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSwgcHJldkNoYXJhY3RlcihzdGF0ZSksIG5leHRDaGFyYWN0ZXIoc3RhdGUpKSkge1xuICAgICAgd2hpbGUgKHBhcnNlLmlzQWxwaGEoY3VycmVudENoYXJhY3RlcihzdGF0ZSksIHByZXZDaGFyYWN0ZXIoc3RhdGUpLCBuZXh0Q2hhcmFjdGVyKHN0YXRlKSkgfHwgcGFyc2UuaXNEaWdpdChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSkpIHtcbiAgICAgICAgc3RhdGUudG9rZW4gKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoTkFNRURfREVMSU1JVEVSUywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAgIHN0YXRlLnRva2VuVHlwZSA9IFRPS0VOVFlQRS5ERUxJTUlURVI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuU1lNQk9MO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzb21ldGhpbmcgdW5rbm93biBpcyBmb3VuZCwgd3JvbmcgY2hhcmFjdGVycyAtPiBhIHN5bnRheCBlcnJvclxuXG5cbiAgICBzdGF0ZS50b2tlblR5cGUgPSBUT0tFTlRZUEUuVU5LTk9XTjtcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycpIHtcbiAgICAgIHN0YXRlLnRva2VuICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdTeW50YXggZXJyb3IgaW4gcGFydCBcIicgKyBzdGF0ZS50b2tlbiArICdcIicpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbmV4dCB0b2tlbiBhbmQgc2tpcCBuZXdsaW5lIHRva2Vuc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpIHtcbiAgICBkbyB7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgfSB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdcXG4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG5cbiAgfVxuICAvKipcbiAgICogT3BlbiBwYXJhbWV0ZXJzLlxuICAgKiBOZXcgbGluZSBjaGFyYWN0ZXJzIHdpbGwgYmUgaWdub3JlZCB1bnRpbCBjbG9zZVBhcmFtcyhzdGF0ZSkgaXMgY2FsbGVkXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb3BlblBhcmFtcyhzdGF0ZSkge1xuICAgIHN0YXRlLm5lc3RpbmdMZXZlbCsrO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBwYXJhbWV0ZXJzLlxuICAgKiBOZXcgbGluZSBjaGFyYWN0ZXJzIHdpbGwgbm8gbG9uZ2VyIGJlIGlnbm9yZWRcbiAgICovXG5cblxuICBmdW5jdGlvbiBjbG9zZVBhcmFtcyhzdGF0ZSkge1xuICAgIHN0YXRlLm5lc3RpbmdMZXZlbC0tO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgYGNgIGlzIGEgdmFsaWQgYWxwaGEgY2hhcmFjdGVyOlxuICAgKlxuICAgKiAtIEEgbGF0aW4gbGV0dGVyICh1cHBlciBvciBsb3dlciBjYXNlKSBBc2NpaTogYS16LCBBLVpcbiAgICogLSBBbiB1bmRlcnNjb3JlICAgICAgICAgICAgICAgICAgICAgICAgQXNjaWk6IF9cbiAgICogLSBBIGRvbGxhciBzaWduICAgICAgICAgICAgICAgICAgICAgICAgQXNjaWk6ICRcbiAgICogLSBBIGxhdGluIGxldHRlciB3aXRoIGFjY2VudHMgICAgICAgICAgVW5pY29kZTogXFx1MDBDMCAtIFxcdTAyQUZcbiAgICogLSBBIGdyZWVrIGxldHRlciAgICAgICAgICAgICAgICAgICAgICAgVW5pY29kZTogXFx1MDM3MCAtIFxcdTAzRkZcbiAgICogLSBBIG1hdGhlbWF0aWNhbCBhbHBoYW51bWVyaWMgc3ltYm9sICAgVW5pY29kZTogXFx1ezFENDAwfSAtIFxcdXsxRDdGRn0gZXhjbHVkaW5nIGludmFsaWQgY29kZSBwb2ludHNcbiAgICpcbiAgICogVGhlIHByZXZpb3VzIGFuZCBuZXh0IGNoYXJhY3RlcnMgYXJlIG5lZWRlZCB0byBkZXRlcm1pbmUgd2hldGhlclxuICAgKiB0aGlzIGNoYXJhY3RlciBpcyBwYXJ0IG9mIGEgdW5pY29kZSBzdXJyb2dhdGUgcGFpci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGMgICAgICBDdXJyZW50IGNoYXJhY3RlciBpbiB0aGUgZXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gY1ByZXYgIFByZXZpb3VzIGNoYXJhY3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY05leHQgIE5leHQgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNBbHBoYSA9IGZ1bmN0aW9uIGlzQWxwaGEoYywgY1ByZXYsIGNOZXh0KSB7XG4gICAgcmV0dXJuIHBhcnNlLmlzVmFsaWRMYXRpbk9yR3JlZWsoYykgfHwgcGFyc2UuaXNWYWxpZE1hdGhTeW1ib2woYywgY05leHQpIHx8IHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sKGNQcmV2LCBjKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciBhIGNoYXJhY3RlciBpcyBhIHZhbGlkIGxhdGluLCBncmVlaywgb3IgbGV0dGVyLWxpa2UgY2hhcmFjdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNWYWxpZExhdGluT3JHcmVlayA9IGZ1bmN0aW9uIGlzVmFsaWRMYXRpbk9yR3JlZWsoYykge1xuICAgIHJldHVybiAvXlthLXpBLVpfJFxcdTAwQzAtXFx1MDJBRlxcdTAzNzAtXFx1MDNGRlxcdTIxMDAtXFx1MjE0Rl0kLy50ZXN0KGMpO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHR3byBnaXZlbiAxNiBiaXQgY2hhcmFjdGVycyBmb3JtIGEgc3Vycm9nYXRlIHBhaXIgb2YgYVxuICAgKiB1bmljb2RlIG1hdGggc3ltYm9sLlxuICAgKlxuICAgKiBodHRwczovL3VuaWNvZGUtdGFibGUuY29tL2VuL1xuICAgKiBodHRwczovL3d3dy53aWtpd2FuZC5jb20vZW4vTWF0aGVtYXRpY2FsX29wZXJhdG9yc19hbmRfc3ltYm9sc19pbl9Vbmljb2RlXG4gICAqXG4gICAqIE5vdGU6IEluIEVTNiB3aWxsIGJlIHVuaWNvZGUgYXdhcmU6XG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MDcxMi9qYXZhc2NyaXB0LXVuaWNvZGUtcmVnZXhlc1xuICAgKiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvZXM2LXVuaWNvZGUtcmVnZXhcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhpZ2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvd1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzVmFsaWRNYXRoU3ltYm9sID0gZnVuY3Rpb24gaXNWYWxpZE1hdGhTeW1ib2woaGlnaCwgbG93KSB7XG4gICAgcmV0dXJuIC9eW1xcdUQ4MzVdJC8udGVzdChoaWdoKSAmJiAvXltcXHVEQzAwLVxcdURGRkZdJC8udGVzdChsb3cpICYmIC9eW15cXHVEQzU1XFx1REM5RFxcdURDQTBcXHVEQ0ExXFx1RENBM1xcdURDQTRcXHVEQ0E3XFx1RENBOFxcdURDQURcXHVEQ0JBXFx1RENCQ1xcdURDQzRcXHVERDA2XFx1REQwQlxcdUREMENcXHVERDE1XFx1REQxRFxcdUREM0FcXHVERDNGXFx1REQ0NVxcdURENDctXFx1REQ0OVxcdURENTFcXHVERUE2XFx1REVBN1xcdURGQ0NcXHVERkNEXSQvLnRlc3QobG93KTtcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgZ2l2ZW4gY2hhcmFjdGVyIGMgaXMgYSB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXI6IHNwYWNlLCB0YWIsIG9yIGVudGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXN0aW5nTGV2ZWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBwYXJzZS5pc1doaXRlc3BhY2UgPSBmdW5jdGlvbiBpc1doaXRlc3BhY2UoYywgbmVzdGluZ0xldmVsKSB7XG4gICAgLy8gVE9ETzogYWxzbyB0YWtlICdcXHInIGNhcnJpYWdlIHJldHVybiBhcyBuZXdsaW5lPyBPciBkb2VzIHRoYXQgZ2l2ZSBwcm9ibGVtcyBvbiBtYWM/XG4gICAgcmV0dXJuIGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxuJyAmJiBuZXN0aW5nTGV2ZWwgPiAwO1xuICB9O1xuICAvKipcbiAgICogVGVzdCB3aGV0aGVyIHRoZSBjaGFyYWN0ZXIgYyBpcyBhIGRlY2ltYWwgbWFyayAoZG90KS5cbiAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGl0J3Mgbm90IHRoZSBzdGFydCBvZiBhIGRlbGltaXRlciAnLionLCAnLi8nLCBvciAnLl4nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjTmV4dFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHBhcnNlLmlzRGVjaW1hbE1hcmsgPSBmdW5jdGlvbiBpc0RlY2ltYWxNYXJrKGMsIGNOZXh0KSB7XG4gICAgcmV0dXJuIGMgPT09ICcuJyAmJiBjTmV4dCAhPT0gJy8nICYmIGNOZXh0ICE9PSAnKicgJiYgY05leHQgIT09ICdeJztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgZGlnaXQgb3IgZG90XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEaWdpdERvdCA9IGZ1bmN0aW9uIGlzRGlnaXREb3QoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID09PSAnLic7XG4gIH07XG4gIC8qKlxuICAgKiBjaGVja3MgaWYgdGhlIGdpdmVuIGNoYXIgYyBpcyBhIGRpZ2l0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNEaWdpdCA9IGZ1bmN0aW9uIGlzRGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JztcbiAgfTtcbiAgLyoqXG4gICAqIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2hhciBjIGlzIGEgaGV4IGRpZ2l0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjICAgYSBzdHJpbmcgd2l0aCBvbmUgY2hhcmFjdGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgcGFyc2UuaXNIZXhEaWdpdCA9IGZ1bmN0aW9uIGlzSGV4RGlnaXQoYykge1xuICAgIHJldHVybiBjID49ICcwJyAmJiBjIDw9ICc5JyB8fCBjID49ICdhJyAmJiBjIDw9ICdmJyB8fCBjID49ICdBJyAmJiBjIDw9ICdGJztcbiAgfTtcbiAgLyoqXG4gICAqIFN0YXJ0IG9mIHRoZSBwYXJzZSBsZXZlbHMgYmVsb3csIGluIG9yZGVyIG9mIHByZWNlZGVuY2VcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU3RhcnQoZXhwcmVzc2lvbiwgZXh0cmFOb2Rlcykge1xuICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZSgpO1xuXG4gICAgX2V4dGVuZHMoc3RhdGUsIHtcbiAgICAgIGV4cHJlc3Npb24sXG4gICAgICBleHRyYU5vZGVzXG4gICAgfSk7XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJsb2NrKHN0YXRlKTsgLy8gY2hlY2sgZm9yIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvblxuICAgIC8vIGFuIGV4cHJlc3Npb24gZW5kcyB3aXRoIGEgZW1wdHkgY2hhcmFjdGVyICcnIGFuZCB0b2tlblR5cGUgREVMSU1JVEVSXG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcnKSB7XG4gICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuREVMSU1JVEVSKSB7XG4gICAgICAgIC8vIHVzZXIgZW50ZXJlZCBhIG5vdCBleGlzdGluZyBvcGVyYXRvciBsaWtlIFwiLy9cIlxuICAgICAgICAvLyBUT0RPOiBnaXZlIGhpbnRzIGZvciBhbGlhc2VzLCBmb3IgZXhhbXBsZSB3aXRoIFwiPD5cIiBnaXZlIGFzIGhpbnQgXCIgZGlkIHlvdSBtZWFuICE9PSA/XCJcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3Ioc3RhdGUsICdVbmV4cGVjdGVkIG9wZXJhdG9yICcgKyBzdGF0ZS50b2tlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgcGFydCBcIicgKyBzdGF0ZS50b2tlbiArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIGJsb2NrIHdpdGggZXhwcmVzc2lvbnMuIEV4cHJlc3Npb25zIGNhbiBiZSBzZXBhcmF0ZWQgYnkgYSBuZXdsaW5lXG4gICAqIGNoYXJhY3RlciAnXFxuJywgb3IgYnkgYSBzZW1pY29sb24gJzsnLiBJbiBjYXNlIG9mIGEgc2VtaWNvbG9uLCBubyBvdXRwdXRcbiAgICogb2YgdGhlIHByZWNlZGluZyBsaW5lIGlzIHJldHVybmVkLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCbG9jayhzdGF0ZSkge1xuICAgIHZhciBub2RlO1xuICAgIHZhciBibG9ja3MgPSBbXTtcbiAgICB2YXIgdmlzaWJsZTtcblxuICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJycgJiYgc3RhdGUudG9rZW4gIT09ICdcXG4nICYmIHN0YXRlLnRva2VuICE9PSAnOycpIHtcbiAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgbm9kZS5jb21tZW50ID0gc3RhdGUuY29tbWVudDtcbiAgICB9IC8vIFRPRE86IHNpbXBsaWZ5IHRoaXMgbG9vcFxuXG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdcXG4nIHx8IHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPT09IDAgJiYgbm9kZSkge1xuICAgICAgICB2aXNpYmxlID0gc3RhdGUudG9rZW4gIT09ICc7JztcbiAgICAgICAgYmxvY2tzLnB1c2goe1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcXG4nICYmIHN0YXRlLnRva2VuICE9PSAnOycgJiYgc3RhdGUudG9rZW4gIT09ICcnKSB7XG4gICAgICAgIG5vZGUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgICAgICB2aXNpYmxlID0gc3RhdGUudG9rZW4gIT09ICc7JztcbiAgICAgICAgYmxvY2tzLnB1c2goe1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBuZXcgQmxvY2tOb2RlKGJsb2Nrcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZSh1bmRlZmluZWQpO1xuICAgICAgICBub2RlLmNvbW1lbnQgPSBzdGF0ZS5jb21tZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbm1lbnQgb2YgYSBmdW5jdGlvbiBvciB2YXJpYWJsZSxcbiAgICogLSBjYW4gYmUgYSB2YXJpYWJsZSBsaWtlICdhPTIuMydcbiAgICogLSBvciBhIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHZhcmlhYmxlIGxpa2UgJ21hdHJpeCgyLDM6NSk9WzYsNyw4XSdcbiAgICogLSBkZWZpbmluZyBhIGZ1bmN0aW9uIGxpa2UgJ2YoeCkgPSB4XjInXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpIHtcbiAgICB2YXIgbmFtZSwgYXJncywgdmFsdWUsIHZhbGlkO1xuICAgIHZhciBub2RlID0gcGFyc2VDb25kaXRpb25hbChzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc9Jykge1xuICAgICAgaWYgKGlzU3ltYm9sTm9kZShub2RlKSkge1xuICAgICAgICAvLyBwYXJzZSBhIHZhcmlhYmxlIGFzc2lnbm1lbnQgbGlrZSAnYSA9IDIvMydcbiAgICAgICAgbmFtZSA9IG5vZGUubmFtZTtcbiAgICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50Tm9kZShuZXcgU3ltYm9sTm9kZShuYW1lKSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0FjY2Vzc29yTm9kZShub2RlKSkge1xuICAgICAgICAvLyBwYXJzZSBhIG1hdHJpeCBzdWJzZXQgYXNzaWdubWVudCBsaWtlICdBWzEsMl0gPSA0J1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbm1lbnROb2RlKG5vZGUub2JqZWN0LCBub2RlLmluZGV4LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb25Ob2RlKG5vZGUpICYmIGlzU3ltYm9sTm9kZShub2RlLmZuKSkge1xuICAgICAgICAvLyBwYXJzZSBmdW5jdGlvbiBhc3NpZ25tZW50IGxpa2UgJ2YoeCkgPSB4XjInXG4gICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBuYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICBub2RlLmFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpbmRleCkge1xuICAgICAgICAgIGlmIChpc1N5bWJvbE5vZGUoYXJnKSkge1xuICAgICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmcubmFtZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTtcbiAgICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQXNzaWdubWVudE5vZGUobmFtZSwgYXJncywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnSW52YWxpZCBsZWZ0IGhhbmQgc2lkZSBvZiBhc3NpZ25tZW50IG9wZXJhdG9yID0nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogY29uZGl0aW9uYWwgb3BlcmF0aW9uXG4gICAqXG4gICAqICAgICBjb25kaXRpb24gPyB0cnVlUGFydCA6IGZhbHNlUGFydFxuICAgKlxuICAgKiBOb3RlOiBjb25kaXRpb25hbCBvcGVyYXRvciBpcyByaWdodC1hc3NvY2lhdGl2ZVxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VDb25kaXRpb25hbChzdGF0ZSkge1xuICAgIHZhciBub2RlID0gcGFyc2VMb2dpY2FsT3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnPycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgLy8gc2V0IGEgY29uZGl0aW9uYWwgbGV2ZWwsIHRoZSByYW5nZSBvcGVyYXRvciB3aWxsIGJlIGlnbm9yZWQgYXMgbG9uZ1xuICAgICAgLy8gYXMgY29uZGl0aW9uYWxMZXZlbCA9PT0gc3RhdGUubmVzdGluZ0xldmVsLlxuICAgICAgdmFyIHByZXYgPSBzdGF0ZS5jb25kaXRpb25hbExldmVsO1xuICAgICAgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCA9IHN0YXRlLm5lc3RpbmdMZXZlbDtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgdmFyIGNvbmRpdGlvbiA9IG5vZGU7XG4gICAgICB2YXIgdHJ1ZUV4cHIgPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnOicpIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRmFsc2UgcGFydCBvZiBjb25kaXRpb25hbCBleHByZXNzaW9uIGV4cGVjdGVkJyk7XG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gbnVsbDtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgdmFyIGZhbHNlRXhwciA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7IC8vIE5vdGU6IGNoZWNrIGZvciBjb25kaXRpb25hbCBvcGVyYXRvciBhZ2FpbiwgcmlnaHQgYXNzb2NpYXRpdml0eVxuXG4gICAgICBub2RlID0gbmV3IENvbmRpdGlvbmFsTm9kZShjb25kaXRpb24sIHRydWVFeHByLCBmYWxzZUV4cHIpOyAvLyByZXN0b3JlIHRoZSBwcmV2aW91cyBjb25kaXRpb25hbCBsZXZlbFxuXG4gICAgICBzdGF0ZS5jb25kaXRpb25hbExldmVsID0gcHJldjtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBvciwgJ3ggb3IgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9naWNhbE9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxYb3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnb3InKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ29yJywgJ29yJywgW25vZGUsIHBhcnNlTG9naWNhbFhvcihzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBleGNsdXNpdmUgb3IsICd4IHhvciB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsWG9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUxvZ2ljYWxBbmQoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAneG9yJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCd4b3InLCAneG9yJywgW25vZGUsIHBhcnNlTG9naWNhbEFuZChzdGF0ZSldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogbG9naWNhbCBhbmQsICd4IGFuZCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMb2dpY2FsQW5kKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VPcihzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICdhbmQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ2FuZCcsICdhbmQnLCBbbm9kZSwgcGFyc2VCaXR3aXNlT3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2Ugb3IsICd4IHwgeSdcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQml0d2lzZU9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnfCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZSgnfCcsICdiaXRPcicsIFtub2RlLCBwYXJzZUJpdHdpc2VYb3Ioc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2UgZXhjbHVzaXZlIG9yICh4b3IpLCAneCBefCB5J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VCaXR3aXNlWG9yKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpO1xuXG4gICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnXnwnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJ158JywgJ2JpdFhvcicsIFtub2RlLCBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGJpdHdpc2UgYW5kLCAneCAmIHknXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUJpdHdpc2VBbmQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSA9IHBhcnNlUmVsYXRpb25hbChzdGF0ZSk7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcmJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcmJywgJ2JpdEFuZCcsIFtub2RlLCBwYXJzZVJlbGF0aW9uYWwoc3RhdGUpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIGEgY2hhaW5lZCBjb25kaXRpb25hbCwgbGlrZSAnYSA+IGIgPj0gYydcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUmVsYXRpb25hbChzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbcGFyc2VTaGlmdChzdGF0ZSldO1xuICAgIHZhciBjb25kaXRpb25hbHMgPSBbXTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJz09JzogJ2VxdWFsJyxcbiAgICAgICchPSc6ICd1bmVxdWFsJyxcbiAgICAgICc8JzogJ3NtYWxsZXInLFxuICAgICAgJz4nOiAnbGFyZ2VyJyxcbiAgICAgICc8PSc6ICdzbWFsbGVyRXEnLFxuICAgICAgJz49JzogJ2xhcmdlckVxJ1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgdmFyIGNvbmQgPSB7XG4gICAgICAgIG5hbWU6IHN0YXRlLnRva2VuLFxuICAgICAgICBmbjogb3BlcmF0b3JzW3N0YXRlLnRva2VuXVxuICAgICAgfTtcbiAgICAgIGNvbmRpdGlvbmFscy5wdXNoKGNvbmQpO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMucHVzaChwYXJzZVNoaWZ0KHN0YXRlKSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBwYXJhbXNbMF07XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShjb25kaXRpb25hbHNbMF0ubmFtZSwgY29uZGl0aW9uYWxzWzBdLmZuLCBwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxOb2RlKGNvbmRpdGlvbmFscy5tYXAoYyA9PiBjLmZuKSwgcGFyYW1zKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEJpdHdpc2UgbGVmdCBzaGlmdCwgYml0d2lzZSByaWdodCBhcml0aG1ldGljIHNoaWZ0LCBiaXR3aXNlIHJpZ2h0IGxvZ2ljYWwgc2hpZnRcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2hpZnQoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VDb252ZXJzaW9uKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJzw8JzogJ2xlZnRTaGlmdCcsXG4gICAgICAnPj4nOiAncmlnaHRBcml0aFNoaWZ0JyxcbiAgICAgICc+Pj4nOiAncmlnaHRMb2dTaGlmdCdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuICAgICAgcGFyYW1zID0gW25vZGUsIHBhcnNlQ29udmVyc2lvbihzdGF0ZSldO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGNvbnZlcnNpb24gb3BlcmF0b3JzICd0bycgYW5kICdpbidcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ29udmVyc2lvbihzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZVJhbmdlKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgdG86ICd0bycsXG4gICAgICBpbjogJ3RvJyAvLyBhbGlhcyBvZiAndG8nXG5cbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuXG4gICAgICBpZiAobmFtZSA9PT0gJ2luJyAmJiBzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgICAgLy8gZW5kIG9mIGV4cHJlc3Npb24gLT4gdGhpcyBpcyB0aGUgdW5pdCAnaW4nICgnaW5jaCcpXG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcqJywgJ211bHRpcGx5JywgW25vZGUsIG5ldyBTeW1ib2xOb2RlKCdpbicpXSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvcGVyYXRvciAnYSB0byBiJyBvciAnYSBpbiBiJ1xuICAgICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VSYW5nZShzdGF0ZSldO1xuICAgICAgICBub2RlID0gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgcmFuZ2UsIFwic3RhcnQ6ZW5kXCIsIFwic3RhcnQ6c3RlcDplbmRcIiwgXCI6XCIsIFwic3RhcnQ6XCIsIFwiOmVuZFwiLCBldGNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUmFuZ2Uoc3RhdGUpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICc6Jykge1xuICAgICAgLy8gaW1wbGljaXQgc3RhcnQ9MSAob25lLWJhc2VkKVxuICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4cGxpY2l0IHN0YXJ0XG4gICAgICBub2RlID0gcGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnOicgJiYgc3RhdGUuY29uZGl0aW9uYWxMZXZlbCAhPT0gc3RhdGUubmVzdGluZ0xldmVsKSB7XG4gICAgICAvLyB3ZSBpZ25vcmUgdGhlIHJhbmdlIG9wZXJhdG9yIHdoZW4gYSBjb25kaXRpb25hbCBvcGVyYXRvciBpcyBiZWluZyBwcm9jZXNzZWQgb24gdGhlIHNhbWUgbGV2ZWxcbiAgICAgIHBhcmFtcy5wdXNoKG5vZGUpOyAvLyBwYXJzZSBzdGVwIGFuZCBlbmRcblxuICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnOicgJiYgcGFyYW1zLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgIGdldFRva2VuU2tpcE5ld2xpbmUoc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJyknIHx8IHN0YXRlLnRva2VuID09PSAnXScgfHwgc3RhdGUudG9rZW4gPT09ICcsJyB8fCBzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgICAgICAvLyBpbXBsaWNpdCBlbmRcbiAgICAgICAgICBwYXJhbXMucHVzaChuZXcgU3ltYm9sTm9kZSgnZW5kJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGV4cGxpY2l0IGVuZFxuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQWRkU3VidHJhY3Qoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAvLyBwYXJhbXMgPSBbc3RhcnQsIHN0ZXAsIGVuZF1cbiAgICAgICAgbm9kZSA9IG5ldyBSYW5nZU5vZGUocGFyYW1zWzBdLCBwYXJhbXNbMl0sIHBhcmFtc1sxXSk7IC8vIHN0YXJ0LCBlbmQsIHN0ZXBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGxlbmd0aCA9PT0gMlxuICAgICAgICAvLyBwYXJhbXMgPSBbc3RhcnQsIGVuZF1cbiAgICAgICAgbm9kZSA9IG5ldyBSYW5nZU5vZGUocGFyYW1zWzBdLCBwYXJhbXNbMV0pOyAvLyBzdGFydCwgZW5kXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGFkZCBvciBzdWJ0cmFjdFxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VBZGRTdWJ0cmFjdChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZU11bHRpcGx5RGl2aWRlKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJysnOiAnYWRkJyxcbiAgICAgICctJzogJ3N1YnRyYWN0J1xuICAgIH07XG5cbiAgICB3aGlsZSAoaGFzT3duUHJvcGVydHkob3BlcmF0b3JzLCBzdGF0ZS50b2tlbikpIHtcbiAgICAgIG5hbWUgPSBzdGF0ZS50b2tlbjtcbiAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VNdWx0aXBseURpdmlkZShzdGF0ZSldO1xuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIG11bHRpcGx5LCBkaXZpZGUsIG1vZHVsdXNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlTXVsdGlwbHlEaXZpZGUoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbGFzdCwgbmFtZSwgZm47XG4gICAgbm9kZSA9IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSk7XG4gICAgbGFzdCA9IG5vZGU7XG4gICAgdmFyIG9wZXJhdG9ycyA9IHtcbiAgICAgICcqJzogJ211bHRpcGx5JyxcbiAgICAgICcuKic6ICdkb3RNdWx0aXBseScsXG4gICAgICAnLyc6ICdkaXZpZGUnLFxuICAgICAgJy4vJzogJ2RvdERpdmlkZScsXG4gICAgICAnJSc6ICdtb2QnLFxuICAgICAgbW9kOiAnbW9kJ1xuICAgIH07XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yc1xuICAgICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICAgIGZuID0gb3BlcmF0b3JzW25hbWVdO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgICAgbGFzdCA9IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvbihzdGF0ZSk7XG4gICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBbbm9kZSwgbGFzdF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUltcGxpY2l0TXVsdGlwbGljYXRpb24oc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbGFzdDtcbiAgICBub2RlID0gcGFyc2VSdWxlMihzdGF0ZSk7XG4gICAgbGFzdCA9IG5vZGU7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlbiA9PT0gJ2luJyAmJiBpc0NvbnN0YW50Tm9kZShub2RlKSB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIgJiYgIWlzQ29uc3RhbnROb2RlKGxhc3QpICYmICghaXNPcGVyYXRvck5vZGUobGFzdCkgfHwgbGFzdC5vcCA9PT0gJyEnKSB8fCBzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIC8vIHBhcnNlIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHN5bWJvbDogICAgICBpbXBsaWNpdCBtdWx0aXBsaWNhdGlvbiBsaWtlICcyYScsICcoMiszKWEnLCAnYSBiJ1xuICAgICAgICAvLyBudW1iZXI6ICAgICAgaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnKDIrMykyJ1xuICAgICAgICAvLyBwYXJlbnRoZXNpczogaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAnMigzKzQpJywgJygzKzQpKDErMiknXG4gICAgICAgIGxhc3QgPSBwYXJzZVJ1bGUyKHN0YXRlKTtcbiAgICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUoJyonLCAnbXVsdGlwbHknLCBbbm9kZSwgbGFzdF0sIHRydWVcbiAgICAgICAgLyogaW1wbGljaXQgKi9cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIC8qKlxuICAgKiBJbmZhbW91cyBcInJ1bGUgMlwiIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vam9zZGVqb25nL21hdGhqcy9pc3N1ZXMvNzkyI2lzc3VlY29tbWVudC0zNjEwNjUzNzBcbiAgICogRXhwbGljaXQgZGl2aXNpb24gZ2V0cyBoaWdoZXIgcHJlY2VkZW5jZSB0aGFuIGltcGxpY2l0IG11bHRpcGxpY2F0aW9uXG4gICAqIHdoZW4gdGhlIGRpdmlzaW9uIG1hdGNoZXMgdGhpcyBwYXR0ZXJuOiBbbnVtYmVyXSAvIFtudW1iZXJdIFtzeW1ib2xdXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJ1bGUyKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUgPSBwYXJzZVVuYXJ5KHN0YXRlKTtcbiAgICB2YXIgbGFzdCA9IG5vZGU7XG4gICAgdmFyIHRva2VuU3RhdGVzID0gW107XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gTWF0Y2ggdGhlIFwibnVtYmVyIC9cIiBwYXJ0IG9mIHRoZSBwYXR0ZXJuIFwibnVtYmVyIC8gbnVtYmVyIHN5bWJvbFwiXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcvJyAmJiBpc0NvbnN0YW50Tm9kZShsYXN0KSkge1xuICAgICAgICAvLyBMb29rIGFoZWFkIHRvIHNlZSBpZiB0aGUgbmV4dCB0b2tlbiBpcyBhIG51bWJlclxuICAgICAgICB0b2tlblN0YXRlcy5wdXNoKF9leHRlbmRzKHt9LCBzdGF0ZSkpO1xuICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTsgLy8gTWF0Y2ggdGhlIFwibnVtYmVyIC8gbnVtYmVyXCIgcGFydCBvZiB0aGUgcGF0dGVyblxuXG4gICAgICAgIGlmIChzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5OVU1CRVIpIHtcbiAgICAgICAgICAvLyBMb29rIGFoZWFkIGFnYWluXG4gICAgICAgICAgdG9rZW5TdGF0ZXMucHVzaChfZXh0ZW5kcyh7fSwgc3RhdGUpKTtcbiAgICAgICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTsgLy8gTWF0Y2ggdGhlIFwic3ltYm9sXCIgcGFydCBvZiB0aGUgcGF0dGVybiwgb3IgYSBsZWZ0IHBhcmVudGhlc2lzXG5cbiAgICAgICAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuID09PSAnKCcpIHtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIG1hdGNoZWQgdGhlIHBhdHRlcm4gXCJudW1iZXIgLyBudW1iZXIgc3ltYm9sXCIuXG4gICAgICAgICAgICAvLyBSZXdpbmQgb25jZSBhbmQgYnVpbGQgdGhlIFwibnVtYmVyIC8gbnVtYmVyXCIgbm9kZTsgdGhlIHN5bWJvbCB3aWxsIGJlIGNvbnN1bWVkIGxhdGVyXG4gICAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgICB0b2tlblN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3QgPSBwYXJzZVVuYXJ5KHN0YXRlKTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKCcvJywgJ2RpdmlkZScsIFtub2RlLCBsYXN0XSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vdCBhIG1hdGNoLCBzbyByZXdpbmRcbiAgICAgICAgICAgIHRva2VuU3RhdGVzLnBvcCgpO1xuXG4gICAgICAgICAgICBfZXh0ZW5kcyhzdGF0ZSwgdG9rZW5TdGF0ZXMucG9wKCkpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm90IGEgbWF0Y2gsIHNvIHJld2luZFxuICAgICAgICAgIF9leHRlbmRzKHN0YXRlLCB0b2tlblN0YXRlcy5wb3AoKSk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFVuYXJ5IHBsdXMgYW5kIG1pbnVzLCBhbmQgbG9naWNhbCBhbmQgYml0d2lzZSBub3RcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlVW5hcnkoc3RhdGUpIHtcbiAgICB2YXIgbmFtZSwgcGFyYW1zLCBmbjtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJy0nOiAndW5hcnlNaW51cycsXG4gICAgICAnKyc6ICd1bmFyeVBsdXMnLFxuICAgICAgJ34nOiAnYml0Tm90JyxcbiAgICAgIG5vdDogJ25vdCdcbiAgICB9O1xuXG4gICAgaWYgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBmbiA9IG9wZXJhdG9yc1tzdGF0ZS50b2tlbl07XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlblNraXBOZXdsaW5lKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtwYXJzZVVuYXJ5KHN0YXRlKV07XG4gICAgICByZXR1cm4gbmV3IE9wZXJhdG9yTm9kZShuYW1lLCBmbiwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VQb3coc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwb3dlclxuICAgKiBOb3RlOiBwb3dlciBvcGVyYXRvciBpcyByaWdodCBhc3NvY2lhdGl2ZVxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VQb3coc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgbmFtZSwgZm4sIHBhcmFtcztcbiAgICBub2RlID0gcGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyhzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gPT09ICdeJyB8fCBzdGF0ZS50b2tlbiA9PT0gJy5eJykge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZm4gPSBuYW1lID09PSAnXicgPyAncG93JyA6ICdkb3RQb3cnO1xuICAgICAgZ2V0VG9rZW5Ta2lwTmV3bGluZShzdGF0ZSk7XG4gICAgICBwYXJhbXMgPSBbbm9kZSwgcGFyc2VVbmFyeShzdGF0ZSldOyAvLyBHbyBiYWNrIHRvIHVuYXJ5LCB3ZSBjYW4gaGF2ZSAnMl4tMydcblxuICAgICAgbm9kZSA9IG5ldyBPcGVyYXRvck5vZGUobmFtZSwgZm4sIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIExlZnQgaGFuZCBvcGVyYXRvcnM6IGZhY3RvcmlhbCB4ISwgY3RyYW5zcG9zZSB4J1xuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VMZWZ0SGFuZE9wZXJhdG9ycyhzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lLCBmbiwgcGFyYW1zO1xuICAgIG5vZGUgPSBwYXJzZUN1c3RvbU5vZGVzKHN0YXRlKTtcbiAgICB2YXIgb3BlcmF0b3JzID0ge1xuICAgICAgJyEnOiAnZmFjdG9yaWFsJyxcbiAgICAgICdcXCcnOiAnY3RyYW5zcG9zZSdcbiAgICB9O1xuXG4gICAgd2hpbGUgKGhhc093blByb3BlcnR5KG9wZXJhdG9ycywgc3RhdGUudG9rZW4pKSB7XG4gICAgICBuYW1lID0gc3RhdGUudG9rZW47XG4gICAgICBmbiA9IG9wZXJhdG9yc1tuYW1lXTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIHBhcmFtcyA9IFtub2RlXTtcbiAgICAgIG5vZGUgPSBuZXcgT3BlcmF0b3JOb2RlKG5hbWUsIGZuLCBwYXJhbXMpO1xuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBjdXN0b20gbm9kZSBoYW5kbGVyLiBBIG5vZGUgaGFuZGxlciBjYW4gYmUgdXNlZCB0byBwcm9jZXNzXG4gICAqIG5vZGVzIGluIGEgY3VzdG9tIHdheSwgZm9yIGV4YW1wbGUgZm9yIGhhbmRsaW5nIGEgcGxvdC5cbiAgICpcbiAgICogQSBoYW5kbGVyIG11c3QgYmUgcGFzc2VkIGFzIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgcGFyc2UgZnVuY3Rpb24uXG4gICAqIC0gbXVzdCBleHRlbmQgbWF0aC5Ob2RlXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gX2NvbXBpbGUoZGVmczogT2JqZWN0KSA6IHN0cmluZ1xuICAgKiAtIG11c3QgY29udGFpbiBhIGZ1bmN0aW9uIGZpbmQoZmlsdGVyOiBPYmplY3QpIDogTm9kZVtdXG4gICAqIC0gbXVzdCBjb250YWluIGEgZnVuY3Rpb24gdG9TdHJpbmcoKSA6IHN0cmluZ1xuICAgKiAtIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCBjb250YWluaW5nIGFsbCBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgICAgbm9kZXMgPSB7XG4gICAqICAgICAgICdwbG90JzogUGxvdEhhbmRsZXJcbiAgICogICAgIH1cbiAgICpcbiAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBoYW5kbGVyIGlzIGNhbGxlZCBhczpcbiAgICpcbiAgICogICAgIG5vZGUgPSBuZXcgUGxvdEhhbmRsZXIocGFyYW1zKVxuICAgKlxuICAgKiBUaGUgaGFuZGxlciB3aWxsIGJlIGludm9rZWQgd2hlbiBldmFsdWF0aW5nIGFuIGV4cHJlc3Npb24gbGlrZTpcbiAgICpcbiAgICogICAgIG5vZGUgPSBtYXRoLnBhcnNlKCdwbG90KHNpbih4KSwgeCknLCBub2RlcylcbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQ3VzdG9tTm9kZXMoc3RhdGUpIHtcbiAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MICYmIGhhc093blByb3BlcnR5KHN0YXRlLmV4dHJhTm9kZXMsIHN0YXRlLnRva2VuKSkge1xuICAgICAgdmFyIEN1c3RvbU5vZGUgPSBzdGF0ZS5leHRyYU5vZGVzW3N0YXRlLnRva2VuXTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTsgLy8gcGFyc2UgcGFyYW1ldGVyc1xuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gPT09ICcoJykge1xuICAgICAgICBwYXJhbXMgPSBbXTtcbiAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICcpJykge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUGFyZW50aGVzaXMgKSBleHBlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICB9IC8vIGNyZWF0ZSBhIG5ldyBjdXN0b20gbm9kZVxuICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVmFsaWRhdGVUeXBlc1xuXG5cbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tTm9kZShwYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVN5bWJvbChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIHBhcnNlIHN5bWJvbHM6IGZ1bmN0aW9ucywgdmFyaWFibGVzLCBjb25zdGFudHMsIHVuaXRzXG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVN5bWJvbChzdGF0ZSkge1xuICAgIHZhciBub2RlLCBuYW1lO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLlNZTUJPTCB8fCBzdGF0ZS50b2tlblR5cGUgPT09IFRPS0VOVFlQRS5ERUxJTUlURVIgJiYgc3RhdGUudG9rZW4gaW4gTkFNRURfREVMSU1JVEVSUykge1xuICAgICAgbmFtZSA9IHN0YXRlLnRva2VuO1xuICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoQ09OU1RBTlRTLCBuYW1lKSkge1xuICAgICAgICAvLyB0cnVlLCBmYWxzZSwgbnVsbCwgLi4uXG4gICAgICAgIG5vZGUgPSBuZXcgQ29uc3RhbnROb2RlKENPTlNUQU5UU1tuYW1lXSk7XG4gICAgICB9IGVsc2UgaWYgKE5VTUVSSUNfQ09OU1RBTlRTLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICAgIC8vIE5hTiwgSW5maW5pdHlcbiAgICAgICAgbm9kZSA9IG5ldyBDb25zdGFudE5vZGUobnVtZXJpYyhuYW1lLCAnbnVtYmVyJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5ldyBTeW1ib2xOb2RlKG5hbWUpO1xuICAgICAgfSAvLyBwYXJzZSBmdW5jdGlvbiBwYXJhbWV0ZXJzIGFuZCBtYXRyaXggaW5kZXhcblxuXG4gICAgICBub2RlID0gcGFyc2VBY2Nlc3NvcnMoc3RhdGUsIG5vZGUpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYWNjZXNzb3JzOlxuICAgKiAtIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcm91bmQgYnJhY2tldHMgKC4uLiksIGZvciBleGFtcGxlIHNxcnQoMilcbiAgICogLSBpbmRleCBlbmNsb3NlZCBpbiBzcXVhcmUgYnJhY2tldHMgWy4uLl0sIGZvciBleGFtcGxlIEFbMiwzXVxuICAgKiAtIGRvdCBub3RhdGlvbiBmb3IgcHJvcGVydGllcywgbGlrZSBmb28uYmFyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgICAgTm9kZSBvbiB3aGljaCB0byBhcHBseSB0aGUgcGFyYW1ldGVycy4gSWYgdGhlcmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGFyZSBubyBwYXJhbWV0ZXJzIGluIHRoZSBleHByZXNzaW9uLCB0aGUgbm9kZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgaXRzZWxmIGlzIHJldHVybmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFt0eXBlc10gIEZpbHRlciB0aGUgdHlwZXMgb2Ygbm90YXRpb25zXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbiBiZSBbJygnLCAnWycsICcuJ11cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlLCB0eXBlcykge1xuICAgIHZhciBwYXJhbXM7XG5cbiAgICB3aGlsZSAoKHN0YXRlLnRva2VuID09PSAnKCcgfHwgc3RhdGUudG9rZW4gPT09ICdbJyB8fCBzdGF0ZS50b2tlbiA9PT0gJy4nKSAmJiAoIXR5cGVzIHx8IHR5cGVzLmluZGV4T2Yoc3RhdGUudG9rZW4pICE9PSAtMSkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgcGFyYW1zID0gW107XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAgIGlmIChpc1N5bWJvbE5vZGUobm9kZSkgfHwgaXNBY2Nlc3Nvck5vZGUobm9kZSkpIHtcbiAgICAgICAgICAvLyBmdW5jdGlvbiBpbnZvY2F0aW9uIGxpa2UgZm4oMiwgMykgb3Igb2JqLmZuKDIsIDMpXG4gICAgICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpOyAvLyBwYXJzZSBhIGxpc3Qgd2l0aCBwYXJhbWV0ZXJzXG5cbiAgICAgICAgICAgIHdoaWxlIChzdGF0ZS50b2tlbiA9PT0gJywnKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcnNlQXNzaWdubWVudChzdGF0ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJyknKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzICkgZXhwZWN0ZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgIG5vZGUgPSBuZXcgRnVuY3Rpb25Ob2RlKG5vZGUsIHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaW1wbGljaXQgbXVsdGlwbGljYXRpb24gbGlrZSAoMiszKSg0KzUpIG9yIHNxcnQoMikoMSsyKVxuICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGl0IGhlcmUgYnV0IGxldCBpdCBiZSBoYW5kbGVkIGJ5IHBhcnNlSW1wbGljaXRNdWx0aXBsaWNhdGlvblxuICAgICAgICAgIC8vIHdpdGggY29ycmVjdCBwcmVjZWRlbmNlXG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW4gPT09ICdbJykge1xuICAgICAgICAvLyBpbmRleCBub3RhdGlvbiBsaWtlIHZhcmlhYmxlWzIsIDNdXG4gICAgICAgIG9wZW5QYXJhbXMoc3RhdGUpO1xuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJzZUFzc2lnbm1lbnQoc3RhdGUpKTsgLy8gcGFyc2UgYSBsaXN0IHdpdGggcGFyYW1ldGVyc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gocGFyc2VBc3NpZ25tZW50KHN0YXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1BhcmVudGhlc2lzIF0gZXhwZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICBub2RlID0gbmV3IEFjY2Vzc29yTm9kZShub2RlLCBuZXcgSW5kZXhOb2RlKHBhcmFtcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG90IG5vdGF0aW9uIGxpa2UgdmFyaWFibGUucHJvcFxuICAgICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuVHlwZSAhPT0gVE9LRU5UWVBFLlNZTUJPTCkge1xuICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnUHJvcGVydHkgbmFtZSBleHBlY3RlZCBhZnRlciBkb3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtcy5wdXNoKG5ldyBDb25zdGFudE5vZGUoc3RhdGUudG9rZW4pKTtcbiAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICB2YXIgZG90Tm90YXRpb24gPSB0cnVlO1xuICAgICAgICBub2RlID0gbmV3IEFjY2Vzc29yTm9kZShub2RlLCBuZXcgSW5kZXhOb2RlKHBhcmFtcywgZG90Tm90YXRpb24pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBkb3VibGUgcXVvdGVzIHN0cmluZy5cbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlRG91YmxlUXVvdGVzU3RyaW5nKHN0YXRlKSB7XG4gICAgdmFyIG5vZGUsIHN0cjtcblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1wiJykge1xuICAgICAgc3RyID0gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7IC8vIGNyZWF0ZSBjb25zdGFudFxuXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShzdHIpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmcoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBzdXJyb3VuZGVkIGJ5IGRvdWJsZSBxdW90ZXMgXCIuLi5cIlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSkge1xuICAgIHZhciBzdHIgPSAnJztcblxuICAgIHdoaWxlIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSAhPT0gJycgJiYgY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICdcIicpIHtcbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyKHN0YXRlKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIC8vIGVzY2FwZSBjaGFyYWN0ZXIsIGltbWVkaWF0ZWx5IHByb2Nlc3MgdGhlIG5leHRcbiAgICAgICAgLy8gY2hhcmFjdGVyIHRvIHByZXZlbnQgc3RvcHBpbmcgYXQgYSBuZXh0ICdcXFwiJ1xuICAgICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICAgIG5leHQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gY3VycmVudENoYXJhY3RlcihzdGF0ZSk7XG4gICAgICBuZXh0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICBpZiAoc3RhdGUudG9rZW4gIT09ICdcIicpIHtcbiAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIHN0cmluZyBcIiBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgnXCInICsgc3RyICsgJ1wiJyk7IC8vIHVuZXNjYXBlIGVzY2FwZWQgY2hhcmFjdGVyc1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHNpbmdsZSBxdW90ZXMgc3RyaW5nLlxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmcoc3RhdGUpIHtcbiAgICB2YXIgbm9kZSwgc3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnXFwnJykge1xuICAgICAgc3RyID0gcGFyc2VTaW5nbGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7IC8vIGNyZWF0ZSBjb25zdGFudFxuXG4gICAgICBub2RlID0gbmV3IENvbnN0YW50Tm9kZShzdHIpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VNYXRyaXgoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBzdXJyb3VuZGVkIGJ5IHNpbmdsZSBxdW90ZXMgJy4uLidcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICB3aGlsZSAoY3VycmVudENoYXJhY3RlcihzdGF0ZSkgIT09ICcnICYmIGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpICE9PSAnXFwnJykge1xuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpID09PSAnXFxcXCcpIHtcbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlciwgaW1tZWRpYXRlbHkgcHJvY2VzcyB0aGUgbmV4dFxuICAgICAgICAvLyBjaGFyYWN0ZXIgdG8gcHJldmVudCBzdG9wcGluZyBhdCBhIG5leHQgJ1xcJydcbiAgICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgICBuZXh0KHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGN1cnJlbnRDaGFyYWN0ZXIoc3RhdGUpO1xuICAgICAgbmV4dChzdGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oc3RhdGUpO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXFwnJykge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdFbmQgb2Ygc3RyaW5nIFxcJyBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgnXCInICsgc3RyICsgJ1wiJyk7IC8vIHVuZXNjYXBlIGVzY2FwZWQgY2hhcmFjdGVyc1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSB0aGUgbWF0cml4XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU1hdHJpeChzdGF0ZSkge1xuICAgIHZhciBhcnJheSwgcGFyYW1zLCByb3dzLCBjb2xzO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuID09PSAnWycpIHtcbiAgICAgIC8vIG1hdHJpeCBbLi4uXVxuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG5cbiAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYSBub24tZW1wdHkgbWF0cml4XG4gICAgICAgIHZhciByb3cgPSBwYXJzZVJvdyhzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgICAgICAvLyAyIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgcm93cyA9IDE7XG4gICAgICAgICAgcGFyYW1zID0gW3Jvd107IC8vIHRoZSByb3dzIG9mIHRoZSBtYXRyaXggYXJlIHNlcGFyYXRlZCBieSBkb3QtY29tbWEnc1xuXG4gICAgICAgICAgd2hpbGUgKHN0YXRlLnRva2VuID09PSAnOycpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxuICAgICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpO1xuICAgICAgICAgICAgcGFyYW1zW3Jvd3NdID0gcGFyc2VSb3coc3RhdGUpO1xuICAgICAgICAgICAgcm93cysrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiAhPT0gJ10nKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0VuZCBvZiBtYXRyaXggXSBleHBlY3RlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIGNoZWNrIGlmIHRoZSBudW1iZXIgb2YgY29sdW1ucyBtYXRjaGVzIGluIGFsbCByb3dzXG5cbiAgICAgICAgICBjb2xzID0gcGFyYW1zWzBdLml0ZW1zLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAodmFyIHIgPSAxOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zW3JdLml0ZW1zLmxlbmd0aCAhPT0gY29scykge1xuICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihzdGF0ZSwgJ0NvbHVtbiBkaW1lbnNpb25zIG1pc21hdGNoICcgKyAnKCcgKyBwYXJhbXNbcl0uaXRlbXMubGVuZ3RoICsgJyAhPT0gJyArIGNvbHMgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5Tm9kZShwYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDEgZGltZW5zaW9uYWwgdmVjdG9yXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnXScpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnRW5kIG9mIG1hdHJpeCBdIGV4cGVjdGVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2xvc2VQYXJhbXMoc3RhdGUpO1xuICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICBhcnJheSA9IHJvdztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhbiBlbXB0eSBtYXRyaXggXCJbIF1cIlxuICAgICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgYXJyYXkgPSBuZXcgQXJyYXlOb2RlKFtdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBhcnJheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlT2JqZWN0KHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSBzaW5nbGUgY29tbWEtc2VwYXJhdGVkIHJvdyBmcm9tIGEgbWF0cml4LCBsaWtlICdhLCBiLCBjJ1xuICAgKiBAcmV0dXJuIHtBcnJheU5vZGV9IG5vZGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZVJvdyhzdGF0ZSkge1xuICAgIHZhciBwYXJhbXMgPSBbcGFyc2VBc3NpZ25tZW50KHN0YXRlKV07XG4gICAgdmFyIGxlbiA9IDE7XG5cbiAgICB3aGlsZSAoc3RhdGUudG9rZW4gPT09ICcsJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgICBnZXRUb2tlbihzdGF0ZSk7IC8vIHBhcnNlIGV4cHJlc3Npb25cblxuICAgICAgcGFyYW1zW2xlbl0gPSBwYXJzZUFzc2lnbm1lbnQoc3RhdGUpO1xuICAgICAgbGVuKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBcnJheU5vZGUocGFyYW1zKTtcbiAgfVxuICAvKipcbiAgICogcGFyc2UgYW4gb2JqZWN0LCBlbmNsb3NlZCBpbiBhbmdsZSBicmFja2V0c3suLi59LCBmb3IgZXhhbXBsZSB7dmFsdWU6IDJ9XG4gICAqIEByZXR1cm4ge05vZGV9IG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZU9iamVjdChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ3snKSB7XG4gICAgICBvcGVuUGFyYW1zKHN0YXRlKTtcbiAgICAgIHZhciBrZXk7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgICBkbyB7XG4gICAgICAgIGdldFRva2VuKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICd9Jykge1xuICAgICAgICAgIC8vIHBhcnNlIGtleVxuICAgICAgICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1wiJykge1xuICAgICAgICAgICAga2V5ID0gcGFyc2VEb3VibGVRdW90ZXNTdHJpbmdUb2tlbihzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS50b2tlbiA9PT0gJ1xcJycpIHtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlU2luZ2xlUXVvdGVzU3RyaW5nVG9rZW4oc3RhdGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG9rZW5UeXBlID09PSBUT0tFTlRZUEUuU1lNQk9MIHx8IHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLkRFTElNSVRFUiAmJiBzdGF0ZS50b2tlbiBpbiBOQU1FRF9ERUxJTUlURVJTKSB7XG4gICAgICAgICAgICBrZXkgPSBzdGF0ZS50b2tlbjtcbiAgICAgICAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdTeW1ib2wgb3Igc3RyaW5nIGV4cGVjdGVkIGFzIG9iamVjdCBrZXknKTtcbiAgICAgICAgICB9IC8vIHBhcnNlIGtleS92YWx1ZSBzZXBhcmF0b3JcblxuXG4gICAgICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnOicpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZVN5bnRheEVycm9yKHN0YXRlLCAnQ29sb24gOiBleHBlY3RlZCBhZnRlciBvYmplY3Qga2V5Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0VG9rZW4oc3RhdGUpOyAvLyBwYXJzZSBrZXlcblxuICAgICAgICAgIHByb3BlcnRpZXNba2V5XSA9IHBhcnNlQXNzaWdubWVudChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKHN0YXRlLnRva2VuID09PSAnLCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cblxuXG4gICAgICBpZiAoc3RhdGUudG9rZW4gIT09ICd9Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ0NvbW1hICwgb3IgYnJhY2tldCB9IGV4cGVjdGVkIGFmdGVyIG9iamVjdCB2YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICBjbG9zZVBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICB2YXIgbm9kZSA9IG5ldyBPYmplY3ROb2RlKHByb3BlcnRpZXMpOyAvLyBwYXJzZSBpbmRleCBwYXJhbWV0ZXJzXG5cbiAgICAgIG5vZGUgPSBwYXJzZUFjY2Vzc29ycyhzdGF0ZSwgbm9kZSk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VOdW1iZXIoc3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBwYXJzZSBhIG51bWJlclxuICAgKiBAcmV0dXJuIHtOb2RlfSBub2RlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RhdGUpIHtcbiAgICB2YXIgbnVtYmVyU3RyO1xuXG4gICAgaWYgKHN0YXRlLnRva2VuVHlwZSA9PT0gVE9LRU5UWVBFLk5VTUJFUikge1xuICAgICAgLy8gdGhpcyBpcyBhIG51bWJlclxuICAgICAgbnVtYmVyU3RyID0gc3RhdGUudG9rZW47XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICByZXR1cm4gbmV3IENvbnN0YW50Tm9kZShudW1lcmljKG51bWJlclN0ciwgY29uZmlnLm51bWJlcikpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZVBhcmVudGhlc2VzKHN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogcGFyZW50aGVzZXNcbiAgICogQHJldHVybiB7Tm9kZX0gbm9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHBhcnNlUGFyZW50aGVzZXMoc3RhdGUpIHtcbiAgICB2YXIgbm9kZTsgLy8gY2hlY2sgaWYgaXQgaXMgYSBwYXJlbnRoZXNpemVkIGV4cHJlc3Npb25cblxuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJygnKSB7XG4gICAgICAvLyBwYXJlbnRoZXNlcyAoLi4uKVxuICAgICAgb3BlblBhcmFtcyhzdGF0ZSk7XG4gICAgICBnZXRUb2tlbihzdGF0ZSk7XG4gICAgICBub2RlID0gcGFyc2VBc3NpZ25tZW50KHN0YXRlKTsgLy8gc3RhcnQgYWdhaW5cblxuICAgICAgaWYgKHN0YXRlLnRva2VuICE9PSAnKScpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdQYXJlbnRoZXNpcyApIGV4cGVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlUGFyYW1zKHN0YXRlKTtcbiAgICAgIGdldFRva2VuKHN0YXRlKTtcbiAgICAgIG5vZGUgPSBuZXcgUGFyZW50aGVzaXNOb2RlKG5vZGUpO1xuICAgICAgbm9kZSA9IHBhcnNlQWNjZXNzb3JzKHN0YXRlLCBub2RlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUVuZChzdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEV2YWx1YXRlZCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIG5vdCB5ZXQgZW5kZWQgYnV0IGV4cGVjdGVkIHRvIGVuZFxuICAgKiBAcmV0dXJuIHtOb2RlfSByZXNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBwYXJzZUVuZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS50b2tlbiA9PT0gJycpIHtcbiAgICAgIC8vIHN5bnRheCBlcnJvciBvciB1bmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uXG4gICAgICB0aHJvdyBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgJ1VuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgY3JlYXRlU3ludGF4RXJyb3Ioc3RhdGUsICdWYWx1ZSBleHBlY3RlZCcpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2hvcnRjdXQgZm9yIGdldHRpbmcgdGhlIGN1cnJlbnQgcm93IHZhbHVlIChvbmUgYmFzZWQpXG4gICAqIFJldHVybnMgdGhlIGxpbmUgb2YgdGhlIGN1cnJlbnRseSBoYW5kbGVkIGV4cHJlc3Npb25cbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgLyogVE9ETzogaW1wbGVtZW50IGtlZXBpbmcgdHJhY2sgb24gdGhlIHJvdyBudW1iZXJcbiAgZnVuY3Rpb24gcm93ICgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gICovXG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBjdXJyZW50IGNvbCB2YWx1ZSAob25lIGJhc2VkKVxuICAgKiBSZXR1cm5zIHRoZSBjb2x1bW4gKHBvc2l0aW9uKSB3aGVyZSB0aGUgbGFzdCBzdGF0ZS50b2tlbiBzdGFydHNcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjb2woc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuaW5kZXggLSBzdGF0ZS50b2tlbi5sZW5ndGggKyAxO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZXJyb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge1N5bnRheEVycm9yfSBpbnN0YW50aWF0ZWQgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBjcmVhdGVTeW50YXhFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICAgIHZhciBjID0gY29sKHN0YXRlKTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSArICcgKGNoYXIgJyArIGMgKyAnKScpO1xuICAgIGVycm9yLmNoYXIgPSBjO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGVycm9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICAgKiBAcmV0dXJuIHtFcnJvcn0gaW5zdGFudGlhdGVkIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlRXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgYyA9IGNvbChzdGF0ZSk7XG4gICAgdmFyIGVycm9yID0gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UgKyAnIChjaGFyICcgKyBjICsgJyknKTtcbiAgICBlcnJvci5jaGFyID0gYztcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICByZXR1cm4gcGFyc2U7XG59KTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlQmlnTnVtYmVyQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZUJpZ051bWJlckNsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVDb21wbGV4Q2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBDb21wbGV4RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVDb21wbGV4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZU1hdHJpeENsYXNzIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBjcmVhdGVNYXRyaXhDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVuc2VNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIERlbnNlTWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURlbnNlTWF0cml4Q2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUZyYWN0aW9uQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGcmFjdGlvbkRlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlRnJhY3Rpb25DbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVR5cGVkIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgdHlwZWREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIEZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVUeXBlZFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcXVhbFNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRXF1YWxTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyA9IHtcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVNwYXJzZU1hdHJpeENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU51bWJlciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG51bWJlckRlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU51bWJlclxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRnJhY3Rpb25EZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZyYWN0aW9uQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnJhY3Rpb24gfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBmcmFjdGlvbkRlcGVuZGVuY2llcyA9IHtcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGcmFjdGlvblxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFNwYXJzZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3BhcnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWF0cml4IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbWF0cml4RGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgTWF0cml4RGVwZW5kZW5jaWVzLFxuICBTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNYXRyaXhcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlVW5hcnlNaW51cyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVVbmFyeU1pbnVzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUFicyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGFic0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFic1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBZGRTY2FsYXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVBZGRTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IERlbnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEZW5zZU1hdHJpeENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHplcm9zRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNaZXJvcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUm91bmQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciByb3VuZERlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHplcm9zRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSb3VuZFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlWmVyb3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciB6ZXJvc0RlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVaZXJvc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNdWx0aXBseVNjYWxhciB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTXVsdGlwbHlTY2FsYXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNpemUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzaXplRGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVTaXplXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZG90RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEb3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNdWx0aXBseSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIG11bHRpcGx5RGVwZW5kZW5jaWVzID0ge1xuICBhZGRTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGRvdERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVNdWx0aXBseVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNvbmpEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbmouZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc2l6ZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU2l6ZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb3QgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkb3REZXBlbmRlbmNpZXMgPSB7XG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgY29uakRlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIHNpemVEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVEb3Rcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uaiB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGNvbmpEZXBlbmRlbmNpZXMgPSB7XG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25qXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWRkU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBZGRTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNFcXVhbFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3VidHJhY3QgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzdWJ0cmFjdERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN1YnRyYWN0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTGFyZ2VyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgbGFyZ2VyRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlTGFyZ2VyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBCaWdOdW1iZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0JpZ051bWJlckNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlSWRlbnRpdHkgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpZGVudGl0eURlcGVuZGVuY2llcyA9IHtcbiAgQmlnTnVtYmVyRGVwZW5kZW5jaWVzLFxuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJZGVudGl0eVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYmlnbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdudW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZyYWN0aW9uRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGcmFjdGlvbi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU51bWVyaWMgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBudW1lcmljRGVwZW5kZW5jaWVzID0ge1xuICBiaWdudW1iZXJEZXBlbmRlbmNpZXMsXG4gIGZyYWN0aW9uRGVwZW5kZW5jaWVzLFxuICBudW1iZXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU51bWVyaWNcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IEJpZ051bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmlnTnVtYmVyQ2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQmlnbnVtYmVyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgYmlnbnVtYmVyRGVwZW5kZW5jaWVzID0ge1xuICBCaWdOdW1iZXJEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVCaWdudW1iZXJcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IG51bWVyaWNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc051bWVyaWMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGl2aWRlU2NhbGFyIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzID0ge1xuICBudW1lcmljRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGl2aWRlU2NhbGFyXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzdWJzZXREZXBlbmRlbmNpZXMgPSB7XG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN1YnNldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQmlnTnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNCaWdOdW1iZXJDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBGcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb25DbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ZpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZm9ybWF0RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGb3JtYXQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlzTnVtZXJpY0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzSXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTXVsdGlwbHlTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG51bWJlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTnVtYmVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBwb3dEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1Bvdy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVuaXRDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFVuaXREZXBlbmRlbmNpZXMgPSB7XG4gIEJpZ051bWJlckRlcGVuZGVuY2llcyxcbiAgQ29tcGxleERlcGVuZGVuY2llcyxcbiAgRnJhY3Rpb25EZXBlbmRlbmNpZXMsXG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGVxdWFsRGVwZW5kZW5jaWVzLFxuICBmaXhEZXBlbmRlbmNpZXMsXG4gIGZvcm1hdERlcGVuZGVuY2llcyxcbiAgaXNOdW1lcmljRGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseVNjYWxhckRlcGVuZGVuY2llcyxcbiAgbnVtYmVyRGVwZW5kZW5jaWVzLFxuICBwb3dEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgY3JlYXRlVW5pdENsYXNzXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcXVhbCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGVxdWFsRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUVxdWFsXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBDb21wbGV4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb21wbGV4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNlaWxEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NlaWwuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGZsb29yRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNGbG9vci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRml4IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZml4RGVwZW5kZW5jaWVzID0ge1xuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBjZWlsRGVwZW5kZW5jaWVzLFxuICBmbG9vckRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRml4XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRXF1YWxTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyByb3VuZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUm91bmQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2VpbCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGNlaWxEZXBlbmRlbmNpZXMgPSB7XG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ2VpbFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgcm91bmREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JvdW5kLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZsb29yIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZmxvb3JEZXBlbmRlbmNpZXMgPSB7XG4gIGVxdWFsU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIHJvdW5kRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRmxvb3Jcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRm9ybWF0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZm9ybWF0RGVwZW5kZW5jaWVzID0ge1xuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRm9ybWF0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUlzTnVtZXJpYyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGlzTnVtZXJpY0RlcGVuZGVuY2llcyA9IHtcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUlzTnVtZXJpY1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQ29tcGxleERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQ29tcGxleENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBmcmFjdGlvbkRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnJhY3Rpb24uZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlkZW50aXR5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJZGVudGl0eS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbnVtYmVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1iZXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUG93IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcG93RGVwZW5kZW5jaWVzID0ge1xuICBDb21wbGV4RGVwZW5kZW5jaWVzLFxuICBmcmFjdGlvbkRlcGVuZGVuY2llcyxcbiAgaWRlbnRpdHlEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIG51bWJlckRlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBvd1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgY3JlYXRlTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IFVuaXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuaXRDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ltYm9sTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFN5bWJvbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIFVuaXREZXBlbmRlbmNpZXMsXG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVN5bWJvbE5vZGVcbn07IiwiaW1wb3J0IHsgZXNjYXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nLmpzJztcbmltcG9ydCB7IGdldFNhZmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3V0aWxzL2N1c3RvbXMuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgdG9TeW1ib2wgfSBmcm9tICcuLi8uLi91dGlscy9sYXRleC5qcyc7XG52YXIgbmFtZSA9ICdTeW1ib2xOb2RlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ21hdGgnLCAnP1VuaXQnLCAnTm9kZSddO1xuZXhwb3J0IHZhciBjcmVhdGVTeW1ib2xOb2RlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgbWF0aCxcbiAgICBVbml0LFxuICAgIE5vZGVcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgc29tZSBuYW1lIGlzIGEgdmFsdWVsZXNzIHVuaXQgbGlrZSBcImluY2hcIi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGlzVmFsdWVsZXNzVW5pdChuYW1lKSB7XG4gICAgcmV0dXJuIFVuaXQgPyBVbml0LmlzVmFsdWVsZXNzVW5pdChuYW1lKSA6IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3IgU3ltYm9sTm9kZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICogQSBzeW1ib2wgbm9kZSBjYW4gaG9sZCBhbmQgcmVzb2x2ZSBhIHN5bWJvbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAZXh0ZW5kcyB7Tm9kZX1cbiAgICovXG5cblxuICBmdW5jdGlvbiBTeW1ib2xOb2RlKG5hbWUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3ltYm9sTm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQ29uc3RydWN0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IG9wZXJhdG9yJyk7XG4gICAgfSAvLyB2YWxpZGF0ZSBpbnB1dFxuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdHJpbmcgZXhwZWN0ZWQgZm9yIHBhcmFtZXRlciBcIm5hbWVcIicpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gIH1cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZSA9IG5ldyBOb2RlKCk7XG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLnR5cGUgPSAnU3ltYm9sTm9kZSc7XG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLmlzU3ltYm9sTm9kZSA9IHRydWU7XG4gIC8qKlxuICAgKiBDb21waWxlIGEgbm9kZSBpbnRvIGEgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAgICogVGhpcyBiYXNpY2FsbHkgcHJlLWNhbGN1bGF0ZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgb25seSBsZWF2ZXMgb3BlblxuICAgKiBjYWxjdWxhdGlvbnMgd2hpY2ggZGVwZW5kIG9uIGEgZHluYW1pYyBzY29wZSB3aXRoIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGggICAgIE1hdGguanMgbmFtZXNwYWNlIHdpdGggZnVuY3Rpb25zIGFuZCBjb25zdGFudHMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdOYW1lcyBBbiBvYmplY3Qgd2l0aCBhcmd1bWVudCBuYW1lcyBhcyBrZXkgYW5kIGB0cnVlYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgdmFsdWUuIFVzZWQgaW4gdGhlIFN5bWJvbE5vZGUgdG8gb3B0aW1pemVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhcmd1bWVudHMgZnJvbSB1c2VyIGFzc2lnbmVkIGZ1bmN0aW9uc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlZSBGdW5jdGlvbkFzc2lnbm1lbnROb2RlKSBvciBzcGVjaWFsIHN5bWJvbHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGxpa2UgYGVuZGAgKHNlZSBJbmRleE5vZGUpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgbGlrZTpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBldmFsTm9kZShzY29wZTogT2JqZWN0LCBhcmdzOiBPYmplY3QsIGNvbnRleHQ6ICopXG4gICAqL1xuXG4gIFN5bWJvbE5vZGUucHJvdG90eXBlLl9jb21waWxlID0gZnVuY3Rpb24gKG1hdGgsIGFyZ05hbWVzKSB7XG4gICAgdmFyIG5hbWUgPSB0aGlzLm5hbWU7XG5cbiAgICBpZiAoYXJnTmFtZXNbbmFtZV0gPT09IHRydWUpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBGdW5jdGlvbkFzc2lnbm1lbnQgYXJndW1lbnRcbiAgICAgIC8vIChsaWtlIGFuIHggd2hlbiBpbnNpZGUgdGhlIGV4cHJlc3Npb24gb2YgYSBmdW5jdGlvbiBhc3NpZ25tZW50IGBmKHgpID0gLi4uYClcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbbmFtZV07XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobmFtZSBpbiBtYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lKSA6IGdldFNhZmVQcm9wZXJ0eShtYXRoLCBuYW1lKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpc1VuaXQgPSBpc1ZhbHVlbGVzc1VuaXQobmFtZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIHNjb3BlID8gZ2V0U2FmZVByb3BlcnR5KHNjb3BlLCBuYW1lKSA6IGlzVW5pdCA/IG5ldyBVbml0KG51bGwsIG5hbWUpIDogdW5kZWYobmFtZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBvZiB0aGUgY2hpbGQgbm9kZXMgb2YgdGhpcyBub2RlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY2hpbGQ6IE5vZGUsIHBhdGg6IHN0cmluZywgcGFyZW50OiBOb2RlKX0gY2FsbGJhY2tcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7Ly8gbm90aGluZyB0byBkbywgd2UgZG9uJ3QgaGF2ZSBjaGlsZHNcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBTeW1ib2xOb2RlIGhhdmluZyBpdCdzIGNoaWxkcyBiZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZWFjaCBvZiB0aGUgY2hpbGRzIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGNoaWxkOiBOb2RlLCBwYXRoOiBzdHJpbmcsIHBhcmVudDogTm9kZSkgOiBOb2RlfSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7U3ltYm9sTm9kZX0gUmV0dXJucyBhIGNsb25lIG9mIHRoZSBub2RlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciAnVW5kZWZpbmVkIHN5bWJvbCB7bmFtZX0nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gdW5kZWYobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIHN5bWJvbCAnICsgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGNsb25lIG9mIHRoaXMgbm9kZSwgYSBzaGFsbG93IGNvcHlcbiAgICogQHJldHVybiB7U3ltYm9sTm9kZX1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFN5bWJvbE5vZGUodGhpcy5uYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9O1xuICAvKipcbiAgICogR2V0IEhUTUwgcmVwcmVzZW50YXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7c3RyaW5nfSBzdHJcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgbmFtZSA9IGVzY2FwZSh0aGlzLm5hbWUpO1xuXG4gICAgaWYgKG5hbWUgPT09ICd0cnVlJyB8fCBuYW1lID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC1ib29sZWFuXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnaScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWltYWdpbmFyeS1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdJbmZpbml0eScpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLWluZmluaXR5LXN5bWJvbFwiPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ05hTicpIHtcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJtYXRoLXN5bWJvbCBtYXRoLW5hbi1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdudWxsJykge1xuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sIG1hdGgtbnVsbC1zeW1ib2xcIj4nICsgbmFtZSArICc8L3NwYW4+JztcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwibWF0aC1zeW1ib2wgbWF0aC11bmRlZmluZWQtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gICAgfVxuXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm1hdGgtc3ltYm9sXCI+JyArIG5hbWUgKyAnPC9zcGFuPic7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgU3ltYm9sTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRoanM6ICdTeW1ib2xOb2RlJyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgIH07XG4gIH07XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIFN5bWJvbE5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiAgQW4gb2JqZWN0IHN0cnVjdHVyZWQgbGlrZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYHtcIm1hdGhqc1wiOiBcIlN5bWJvbE5vZGVcIiwgbmFtZTogXCJ4XCJ9YCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIG1hdGhqcyBpcyBvcHRpb25hbFxuICAgKiBAcmV0dXJucyB7U3ltYm9sTm9kZX1cbiAgICovXG5cblxuICBTeW1ib2xOb2RlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IFN5bWJvbE5vZGUoanNvbi5uYW1lKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCBMYVRlWCByZXByZXNlbnRhdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0clxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBTeW1ib2xOb2RlLnByb3RvdHlwZS5fdG9UZXggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpc1VuaXQgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgbWF0aFt0aGlzLm5hbWVdID09PSAndW5kZWZpbmVkJyAmJiBpc1ZhbHVlbGVzc1VuaXQodGhpcy5uYW1lKSkge1xuICAgICAgaXNVbml0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgc3ltYm9sID0gdG9TeW1ib2wodGhpcy5uYW1lLCBpc1VuaXQpO1xuXG4gICAgaWYgKHN5bWJvbFswXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAvLyBubyBzcGFjZSBuZWVkZWQgaWYgdGhlIHN5bWJvbCBzdGFydHMgd2l0aCAnXFwnXG4gICAgICByZXR1cm4gc3ltYm9sO1xuICAgIH0gLy8gdGhlIHNwYWNlIHByZXZlbnRzIHN5bWJvbHMgZnJvbSBicmVha2luZyBzdHVmZiBsaWtlICdcXGNkb3QnIGlmIGl0J3Mgd3JpdHRlbiByaWdodCBiZWZvcmUgdGhlIHN5bWJvbFxuXG5cbiAgICByZXR1cm4gJyAnICsgc3ltYm9sO1xuICB9O1xuXG4gIHJldHVybiBTeW1ib2xOb2RlO1xufSwge1xuICBpc0NsYXNzOiB0cnVlLFxuICBpc05vZGU6IHRydWVcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBwYXJzZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUGFyc2UuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXZhbHVhdGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBldmFsdWF0ZURlcGVuZGVuY2llcyA9IHtcbiAgcGFyc2VEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVFdmFsdWF0ZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgQWNjZXNzb3JOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBY2Nlc3Nvck5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEFycmF5Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQXJyYXlOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEJsb2NrTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQmxvY2tOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0NvbmRpdGlvbmFsTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNDb25zdGFudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZ1bmN0aW9uQXNzaWdubWVudE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0Z1bmN0aW9uQXNzaWdubWVudE5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IEZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRnVuY3Rpb25Ob2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBJbmRleE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0luZGV4Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgT2JqZWN0Tm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzT2JqZWN0Tm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgT3BlcmF0b3JOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNPcGVyYXRvck5vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUGFyZW50aGVzaXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBSYW5nZU5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JhbmdlTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1JlbGF0aW9uYWxOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTeW1ib2xOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBudW1lcmljRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOdW1lcmljLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVBhcnNlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgcGFyc2VEZXBlbmRlbmNpZXMgPSB7XG4gIEFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyxcbiAgQXJyYXlOb2RlRGVwZW5kZW5jaWVzLFxuICBBc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyxcbiAgQmxvY2tOb2RlRGVwZW5kZW5jaWVzLFxuICBDb25kaXRpb25hbE5vZGVEZXBlbmRlbmNpZXMsXG4gIENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyxcbiAgRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyxcbiAgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzLFxuICBJbmRleE5vZGVEZXBlbmRlbmNpZXMsXG4gIE9iamVjdE5vZGVEZXBlbmRlbmNpZXMsXG4gIE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyxcbiAgUGFyZW50aGVzaXNOb2RlRGVwZW5kZW5jaWVzLFxuICBSYW5nZU5vZGVEZXBlbmRlbmNpZXMsXG4gIFJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzLFxuICBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzLFxuICBudW1lcmljRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlUGFyc2Vcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBY2Nlc3Nvck5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBY2Nlc3Nvck5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHN1YnNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQWNjZXNzb3JOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBcnJheU5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBBcnJheU5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUFycmF5Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHN1YnNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3Vic2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVBc3NpZ25tZW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIEFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIHN1YnNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQXNzaWdubWVudE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJlc3VsdFNldERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzUmVzdWx0U2V0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCbG9ja05vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBCbG9ja05vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFJlc3VsdFNldERlcGVuZGVuY2llcyxcbiAgY3JlYXRlQmxvY2tOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBjcmVhdGVSZXN1bHRTZXQgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSZXN1bHRTZXREZXBlbmRlbmNpZXMgPSB7XG4gIGNyZWF0ZVJlc3VsdFNldFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uZGl0aW9uYWxOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVDb25kaXRpb25hbE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUNvbnN0YW50Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIENvbnN0YW50Tm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlQ29uc3RhbnROb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUZ1bmN0aW9uQXNzaWdubWVudE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGdW5jdGlvbkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3ltYm9sTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3ltYm9sTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRnVuY3Rpb25Ob2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgRnVuY3Rpb25Ob2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBTeW1ib2xOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVGdW5jdGlvbk5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IFJhbmdlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNSYW5nZUNsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzaXplRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTaXplLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbmRleE5vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBJbmRleE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIFJhbmdlRGVwZW5kZW5jaWVzLFxuICBzaXplRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJbmRleE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGNyZWF0ZVJhbmdlQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBSYW5nZURlcGVuZGVuY2llcyA9IHtcbiAgY3JlYXRlUmFuZ2VDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0Tm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE9iamVjdE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZU9iamVjdE5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yTm9kZSB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIE9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyA9IHtcbiAgTm9kZURlcGVuZGVuY2llcyxcbiAgY3JlYXRlT3BlcmF0b3JOb2RlXG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBOb2RlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNOb2RlLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQYXJlbnRoZXNpc05vZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBQYXJlbnRoZXNpc05vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVBhcmVudGhlc2lzTm9kZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgTm9kZURlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTm9kZS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmFuZ2VOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmFuZ2VOb2RlRGVwZW5kZW5jaWVzID0ge1xuICBOb2RlRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVSYW5nZU5vZGVcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IE5vZGVEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc05vZGUuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJlbGF0aW9uYWxOb2RlIH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgUmVsYXRpb25hbE5vZGVEZXBlbmRlbmNpZXMgPSB7XG4gIE5vZGVEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZVJlbGF0aW9uYWxOb2RlXG59OyIsImltcG9ydCB7IGRlZXBNYXAgfSBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbnZhciBuYW1lID0gJ2V2YWx1YXRlJztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ3BhcnNlJ107XG5leHBvcnQgdmFyIGNyZWF0ZUV2YWx1YXRlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgcGFyc2VcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlIGFuIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIE5vdGUgdGhlIGV2YWx1YXRpbmcgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIG1heSBpbnZvbHZlIHNlY3VyaXR5IHJpc2tzLFxuICAgKiBzZWUgW2h0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWxdKGh0dHBzOi8vbWF0aGpzLm9yZy9kb2NzL2V4cHJlc3Npb25zL3NlY3VyaXR5Lmh0bWwpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKGV4cHIpXG4gICAqICAgICBtYXRoLmV2YWx1YXRlKGV4cHIsIHNjb3BlKVxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZShbZXhwcjEsIGV4cHIyLCBleHByMywgLi4uXSlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoW2V4cHIxLCBleHByMiwgZXhwcjMsIC4uLl0sIHNjb3BlKVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgICAgbWF0aC5ldmFsdWF0ZSgnKDIrMykvNCcpICAgICAgICAgICAgICAgIC8vIDEuMjVcbiAgICogICAgIG1hdGguZXZhbHVhdGUoJ3NxcnQoM14yICsgNF4yKScpICAgICAgICAvLyA1XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdzcXJ0KC00KScpICAgICAgICAgICAgICAgLy8gMmlcbiAgICogICAgIG1hdGguZXZhbHVhdGUoWydhPTMnLCAnYj00JywgJ2EqYiddKSAgICAvLyBbMywgNCwgMTJdXG4gICAqXG4gICAqICAgICBsZXQgc2NvcGUgPSB7YTozLCBiOjR9XG4gICAqICAgICBtYXRoLmV2YWx1YXRlKCdhICogYicsIHNjb3BlKSAgICAgICAgICAgLy8gMTJcbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHBhcnNlLCBjb21waWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBNYXRyaXh9IGV4cHIgICBUaGUgZXhwcmVzc2lvbiB0byBiZSBldmFsdWF0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gICAgICAgICAgICAgICAgICAgIFNjb3BlIHRvIHJlYWQvd3JpdGUgdmFyaWFibGVzXG4gICAqIEByZXR1cm4geyp9IFRoZSByZXN1bHQgb2YgdGhlIGV4cHJlc3Npb25cbiAgICogQHRocm93cyB7RXJyb3J9XG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGV4cHIpIHtcbiAgICAgIHZhciBzY29wZSA9IHt9O1xuICAgICAgcmV0dXJuIHBhcnNlKGV4cHIpLmNvbXBpbGUoKS5ldmFsdWF0ZShzY29wZSk7XG4gICAgfSxcbiAgICAnc3RyaW5nLCBPYmplY3QnOiBmdW5jdGlvbiBzdHJpbmdPYmplY3QoZXhwciwgc2NvcGUpIHtcbiAgICAgIHJldHVybiBwYXJzZShleHByKS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgIH0sXG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoZXhwcikge1xuICAgICAgdmFyIHNjb3BlID0ge307XG4gICAgICByZXR1cm4gZGVlcE1hcChleHByLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudHJ5KS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgsIE9iamVjdCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4T2JqZWN0KGV4cHIsIHNjb3BlKSB7XG4gICAgICByZXR1cm4gZGVlcE1hcChleHByLCBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudHJ5KS5jb21waWxlKCkuZXZhbHVhdGUoc2NvcGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pOyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBpbnZEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0ludi5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEaXZpZGUgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBkaXZpZGVEZXBlbmRlbmNpZXMgPSB7XG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMsXG4gIGludkRlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICBtdWx0aXBseURlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZURpdmlkZVxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkZXREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RldC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNEaXZpZGVTY2FsYXIuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGlkZW50aXR5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNJZGVudGl0eS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseS5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdHlwZWREZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1R5cGVkLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNVbmFyeU1pbnVzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbnYgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBpbnZEZXBlbmRlbmNpZXMgPSB7XG4gIGFic0RlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBkZXREZXBlbmRlbmNpZXMsXG4gIGRpdmlkZVNjYWxhckRlcGVuZGVuY2llcyxcbiAgaWRlbnRpdHlEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHR5cGVkRGVwZW5kZW5jaWVzLFxuICB1bmFyeU1pbnVzRGVwZW5kZW5jaWVzLFxuICBjcmVhdGVJbnZcbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGx1cERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTHVwLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBtYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc01hdHJpeC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc011bHRpcGx5LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzdWJ0cmFjdERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzU3VidHJhY3QuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHR5cGVkRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNUeXBlZC5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgdW5hcnlNaW51c0RlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVW5hcnlNaW51cy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGV0IH0gZnJvbSAnLi4vLi4vZmFjdG9yaWVzQW55LmpzJztcbmV4cG9ydCB2YXIgZGV0RGVwZW5kZW5jaWVzID0ge1xuICBsdXBEZXBlbmRlbmNpZXMsXG4gIG1hdHJpeERlcGVuZGVuY2llcyxcbiAgbXVsdGlwbHlEZXBlbmRlbmNpZXMsXG4gIHN1YnRyYWN0RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgdW5hcnlNaW51c0RlcGVuZGVuY2llcyxcbiAgY3JlYXRlRGV0XG59OyIsIi8qKlxuICogVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEXG4gKiBET04nVCBNQUtFIENIQU5HRVMgSEVSRVxuICovXG5pbXBvcnQgeyBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRGVuc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTcGFyc2VNYXRyaXhDbGFzcy5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgYWJzRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNBYnMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGFkZFNjYWxhckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzQWRkU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RpdmlkZVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBsYXJnZXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0xhcmdlci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgbWF0cml4RGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNYXRyaXguZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNNdWx0aXBseVNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgc3VidHJhY3REZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1N1YnRyYWN0LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IHVuYXJ5TWludXNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc1VuYXJ5TWludXMuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZUx1cCB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIGx1cERlcGVuZGVuY2llcyA9IHtcbiAgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMsXG4gIFNwYURlcGVuZGVuY2llcyxcbiAgU3BhcnNlTWF0cml4RGVwZW5kZW5jaWVzLFxuICBhYnNEZXBlbmRlbmNpZXMsXG4gIGFkZFNjYWxhckRlcGVuZGVuY2llcyxcbiAgZGl2aWRlU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgbGFyZ2VyRGVwZW5kZW5jaWVzLFxuICBtYXRyaXhEZXBlbmRlbmNpZXMsXG4gIG11bHRpcGx5U2NhbGFyRGVwZW5kZW5jaWVzLFxuICBzdWJ0cmFjdERlcGVuZGVuY2llcyxcbiAgdHlwZWREZXBlbmRlbmNpZXMsXG4gIHVuYXJ5TWludXNEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUx1cFxufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzRmlib25hY2NpSGVhcENsYXNzLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBhZGRTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0FkZFNjYWxhci5nZW5lcmF0ZWQuanMnO1xuaW1wb3J0IHsgZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0VxdWFsU2NhbGFyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTcGFDbGFzcyB9IGZyb20gJy4uLy4uL2ZhY3Rvcmllc0FueS5qcyc7XG5leHBvcnQgdmFyIFNwYURlcGVuZGVuY2llcyA9IHtcbiAgRmlib25hY2NpSGVhcERlcGVuZGVuY2llcyxcbiAgYWRkU2NhbGFyRGVwZW5kZW5jaWVzLFxuICBlcXVhbFNjYWxhckRlcGVuZGVuY2llcyxcbiAgY3JlYXRlU3BhQ2xhc3Ncbn07IiwiLyoqXG4gKiBUSElTIEZJTEUgSVMgQVVUTy1HRU5FUkFURURcbiAqIERPTidUIE1BS0UgQ0hBTkdFUyBIRVJFXG4gKi9cbmltcG9ydCB7IGxhcmdlckRlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTGFyZ2VyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBzbWFsbGVyRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9kZXBlbmRlbmNpZXNTbWFsbGVyLmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVGaWJvbmFjY2lIZWFwQ2xhc3MgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzID0ge1xuICBsYXJnZXJEZXBlbmRlbmNpZXMsXG4gIHNtYWxsZXJEZXBlbmRlbmNpZXMsXG4gIGNyZWF0ZUZpYm9uYWNjaUhlYXBDbGFzc1xufTsiLCIvKipcbiAqIFRISVMgRklMRSBJUyBBVVRPLUdFTkVSQVRFRFxuICogRE9OJ1QgTUFLRSBDSEFOR0VTIEhFUkVcbiAqL1xuaW1wb3J0IHsgRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2RlcGVuZGVuY2llc0RlbnNlTWF0cml4Q2xhc3MuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IG1hdHJpeERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzTWF0cml4LmdlbmVyYXRlZC5qcyc7XG5pbXBvcnQgeyB0eXBlZERlcGVuZGVuY2llcyB9IGZyb20gJy4vZGVwZW5kZW5jaWVzVHlwZWQuZ2VuZXJhdGVkLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNtYWxsZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXNBbnkuanMnO1xuZXhwb3J0IHZhciBzbWFsbGVyRGVwZW5kZW5jaWVzID0ge1xuICBEZW5zZU1hdHJpeERlcGVuZGVuY2llcyxcbiAgbWF0cml4RGVwZW5kZW5jaWVzLFxuICB0eXBlZERlcGVuZGVuY2llcyxcbiAgY3JlYXRlU21hbGxlclxufTsiLCJpbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZmFjdG9yeS5qcyc7XG52YXIgbmFtZSA9ICdsdXAnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2FicycsICdhZGRTY2FsYXInLCAnZGl2aWRlU2NhbGFyJywgJ211bHRpcGx5U2NhbGFyJywgJ3N1YnRyYWN0JywgJ2xhcmdlcicsICdlcXVhbFNjYWxhcicsICd1bmFyeU1pbnVzJywgJ0RlbnNlTWF0cml4JywgJ1NwYXJzZU1hdHJpeCcsICdTcGEnXTtcbmV4cG9ydCB2YXIgY3JlYXRlTHVwID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIGFicyxcbiAgICBhZGRTY2FsYXIsXG4gICAgZGl2aWRlU2NhbGFyLFxuICAgIG11bHRpcGx5U2NhbGFyLFxuICAgIHN1YnRyYWN0LFxuICAgIGxhcmdlcixcbiAgICBlcXVhbFNjYWxhcixcbiAgICB1bmFyeU1pbnVzLFxuICAgIERlbnNlTWF0cml4LFxuICAgIFNwYXJzZU1hdHJpeCxcbiAgICBTcGFcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgTWF0cml4IExVIGRlY29tcG9zaXRpb24gd2l0aCBwYXJ0aWFsIHBpdm90aW5nLiBNYXRyaXggYEFgIGlzIGRlY29tcG9zZWQgaW4gdHdvIG1hdHJpY2VzIChgTGAsIGBVYCkgYW5kIGFcbiAgICogcm93IHBlcm11dGF0aW9uIHZlY3RvciBgcGAgd2hlcmUgYEFbcCw6XSA9IEwgKiBVYFxuICAgKlxuICAgKiBTeW50YXg6XG4gICAqXG4gICAqICAgIG1hdGgubHVwKEEpXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgIGNvbnN0IG0gPSBbWzIsIDFdLCBbMSwgNF1dXG4gICAqICAgIGNvbnN0IHIgPSBtYXRoLmx1cChtKVxuICAgKiAgICAvLyByID0ge1xuICAgKiAgICAvLyAgIEw6IFtbMSwgMF0sIFswLjUsIDFdXSxcbiAgICogICAgLy8gICBVOiBbWzIsIDFdLCBbMCwgMy41XV0sXG4gICAqICAgIC8vICAgUDogWzAsIDFdXG4gICAqICAgIC8vIH1cbiAgICpcbiAgICogU2VlIGFsc286XG4gICAqXG4gICAqICAgIHNsdSwgbHNvbHZlLCBsdXNvbHZlLCB1c29sdmVcbiAgICpcbiAgICogQHBhcmFtIHtNYXRyaXggfCBBcnJheX0gQSAgICBBIHR3byBkaW1lbnNpb25hbCBtYXRyaXggb3IgYXJyYXkgZm9yIHdoaWNoIHRvIGdldCB0aGUgTFVQIGRlY29tcG9zaXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3tMOiBBcnJheSB8IE1hdHJpeCwgVTogQXJyYXkgfCBNYXRyaXgsIFA6IEFycmF5LjxudW1iZXI+fX0gVGhlIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4LCB0aGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXggYW5kIHRoZSBwZXJtdXRhdGlvbiBtYXRyaXguXG4gICAqL1xuICByZXR1cm4gdHlwZWQobmFtZSwge1xuICAgIERlbnNlTWF0cml4OiBmdW5jdGlvbiBEZW5zZU1hdHJpeChtKSB7XG4gICAgICByZXR1cm4gX2RlbnNlTFVQKG0pO1xuICAgIH0sXG4gICAgU3BhcnNlTWF0cml4OiBmdW5jdGlvbiBTcGFyc2VNYXRyaXgobSkge1xuICAgICAgcmV0dXJuIF9zcGFyc2VMVVAobSk7XG4gICAgfSxcbiAgICBBcnJheTogZnVuY3Rpb24gQXJyYXkoYSkge1xuICAgICAgLy8gY3JlYXRlIGRlbnNlIG1hdHJpeCBmcm9tIGFycmF5XG4gICAgICB2YXIgbSA9IG1hdHJpeChhKTsgLy8gbHVwLCB1c2UgbWF0cml4IGltcGxlbWVudGF0aW9uXG5cbiAgICAgIHZhciByID0gX2RlbnNlTFVQKG0pOyAvLyByZXN1bHRcblxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBMOiByLkwudmFsdWVPZigpLFxuICAgICAgICBVOiByLlUudmFsdWVPZigpLFxuICAgICAgICBwOiByLnBcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBfZGVuc2VMVVAobSkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBtLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gbS5fc2l6ZVsxXTsgLy8gbWluaW11bSByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MsIGNvbHVtbnMpOyAvLyBtYXRyaXggYXJyYXksIGNsb25lIG9yaWdpbmFsIGRhdGFcblxuICAgIHZhciBkYXRhID0gY2xvbmUobS5fZGF0YSk7IC8vIGwgbWF0cml4IGFycmF5c1xuXG4gICAgdmFyIGxkYXRhID0gW107XG4gICAgdmFyIGxzaXplID0gW3Jvd3MsIG5dOyAvLyB1IG1hdHJpeCBhcnJheXNcblxuICAgIHZhciB1ZGF0YSA9IFtdO1xuICAgIHZhciB1c2l6ZSA9IFtuLCBjb2x1bW5zXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGs7IC8vIHBlcm11dGF0aW9uIHZlY3RvclxuXG4gICAgdmFyIHAgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgIHBbaV0gPSBpO1xuICAgIH0gLy8gbG9vcCBjb2x1bW5zXG5cblxuICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcbiAgICAgIC8vIHNraXAgZmlyc3QgY29sdW1uIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgLy8gbG9vcCByb3dzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICAgICAgICAvLyBtaW4gaSxqXG4gICAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluKGksIGopOyAvLyB2W2ksIGpdXG5cbiAgICAgICAgICB2YXIgcyA9IDA7IC8vIGxvb3AgdXAgdG8gbWluXG5cbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbWluOyBrKyspIHtcbiAgICAgICAgICAgIC8vIHMgPSBsW2ksIGtdIC0gZGF0YVtrLCBqXVxuICAgICAgICAgICAgcyA9IGFkZFNjYWxhcihzLCBtdWx0aXBseVNjYWxhcihkYXRhW2ldW2tdLCBkYXRhW2tdW2pdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtpXVtqXSA9IHN1YnRyYWN0KGRhdGFbaV1bal0sIHMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIHJvdyB3aXRoIGxhcmdlciB2YWx1ZSBpbiBjdmVjdG9yLCByb3cgPj0galxuXG5cbiAgICAgIHZhciBwaSA9IGo7XG4gICAgICB2YXIgcGFic3YgPSAwO1xuICAgICAgdmFyIHZqaiA9IDA7IC8vIGxvb3Agcm93c1xuXG4gICAgICBmb3IgKGkgPSBqOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGRhdGEgQCBpLCBqXG4gICAgICAgIHZhciB2ID0gZGF0YVtpXVtqXTsgLy8gYWJzb2x1dGUgdmFsdWVcblxuICAgICAgICB2YXIgYWJzdiA9IGFicyh2KTsgLy8gdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHBpdm90ZSB2YWx1ZVxuXG4gICAgICAgIGlmIChsYXJnZXIoYWJzdiwgcGFic3YpKSB7XG4gICAgICAgICAgLy8gc3RvcmUgcm93XG4gICAgICAgICAgcGkgPSBpOyAvLyB1cGRhdGUgbWF4IHZhbHVlXG5cbiAgICAgICAgICBwYWJzdiA9IGFic3Y7IC8vIHZhbHVlIEAgW2osIGpdXG5cbiAgICAgICAgICB2amogPSB2O1xuICAgICAgICB9XG4gICAgICB9IC8vIHN3YXAgcm93cyAoaiA8LT4gcGkpXG5cblxuICAgICAgaWYgKGogIT09IHBpKSB7XG4gICAgICAgIC8vIHN3YXAgdmFsdWVzIGogPC0+IHBpIGluIHBcbiAgICAgICAgcFtqXSA9IFtwW3BpXSwgcFtwaV0gPSBwW2pdXVswXTsgLy8gc3dhcCBqIDwtPiBwaSBpbiBkYXRhXG5cbiAgICAgICAgRGVuc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCBkYXRhKTtcbiAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGlzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgIC8vIGxvb3Agcm93cyAobG93ZXIgdHJpYW5ndWxhciBtYXRyaXgpXG4gICAgICAgIGZvciAoaSA9IGogKyAxOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgLy8gdmFsdWUgQCBpLCBqXG4gICAgICAgICAgdmFyIHZpaiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgICBpZiAoIWVxdWFsU2NhbGFyKHZpaiwgMCkpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBkYXRhXG4gICAgICAgICAgICBkYXRhW2ldW2pdID0gZGl2aWRlU2NhbGFyKGRhdGFbaV1bal0sIHZqaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuICAgICAgLy8gbG9vcCByb3dzXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgcm93IGluIGFycmF5c1xuICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgIC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICBpZiAoaSA8IGNvbHVtbnMpIHtcbiAgICAgICAgICAgIC8vIFVcbiAgICAgICAgICAgIHVkYXRhW2ldID0gW107XG4gICAgICAgICAgfSAvLyBMXG5cblxuICAgICAgICAgIGxkYXRhW2ldID0gW107XG4gICAgICAgIH0gLy8gY2hlY2sgd2UgYXJlIGluIHRoZSB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGkgPCBqKSB7XG4gICAgICAgICAgLy8gY2hlY2sgcm93IGV4aXN0cyBpbiB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeFxuICAgICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgICAgLy8gVVxuICAgICAgICAgICAgdWRhdGFbaV1bal0gPSBkYXRhW2ldW2pdO1xuICAgICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgICBpZiAoaiA8IHJvd3MpIHtcbiAgICAgICAgICAgIC8vIExcbiAgICAgICAgICAgIGxkYXRhW2ldW2pdID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBkaWFnb25hbCB2YWx1ZVxuXG5cbiAgICAgICAgaWYgKGkgPT09IGopIHtcbiAgICAgICAgICAvLyBjaGVjayByb3cgZXhpc3RzIGluIHVwcGVyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgaWYgKGkgPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyBVXG4gICAgICAgICAgICB1ZGF0YVtpXVtqXSA9IGRhdGFbaV1bal07XG4gICAgICAgICAgfSAvLyBjaGVjayBjb2x1bW4gZXhpc3RzIGluIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cblxuICAgICAgICAgIGlmIChqIDwgcm93cykge1xuICAgICAgICAgICAgLy8gTFxuICAgICAgICAgICAgbGRhdGFbaV1bal0gPSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGNoZWNrIHJvdyBleGlzdHMgaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICAgIGlmIChpIDwgY29sdW1ucykge1xuICAgICAgICAgIC8vIFVcbiAgICAgICAgICB1ZGF0YVtpXVtqXSA9IDA7XG4gICAgICAgIH0gLy8gY2hlY2sgY29sdW1uIGV4aXN0cyBpbiBsb3dlciB0cmlhbmd1bGFyIG1hdHJpeFxuXG5cbiAgICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgICAgLy8gTFxuICAgICAgICAgIGxkYXRhW2ldW2pdID0gZGF0YVtpXVtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gbCBtYXRyaXhcblxuXG4gICAgdmFyIGwgPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogbGRhdGEsXG4gICAgICBzaXplOiBsc2l6ZVxuICAgIH0pOyAvLyB1IG1hdHJpeFxuXG4gICAgdmFyIHUgPSBuZXcgRGVuc2VNYXRyaXgoe1xuICAgICAgZGF0YTogdWRhdGEsXG4gICAgICBzaXplOiB1c2l6ZVxuICAgIH0pOyAvLyBwIHZlY3RvclxuXG4gICAgdmFyIHB2ID0gW107XG5cbiAgICBmb3IgKGkgPSAwLCBuID0gcC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHB2W3BbaV1dID0gaTtcbiAgICB9IC8vIHJldHVybiBtYXRyaWNlc1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgTDogbCxcbiAgICAgIFU6IHUsXG4gICAgICBwOiBwdixcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdMOiAnICsgdGhpcy5MLnRvU3RyaW5nKCkgKyAnXFxuVTogJyArIHRoaXMuVS50b1N0cmluZygpICsgJ1xcblA6ICcgKyB0aGlzLnA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zcGFyc2VMVVAobSkge1xuICAgIC8vIHJvd3MgJiBjb2x1bW5zXG4gICAgdmFyIHJvd3MgPSBtLl9zaXplWzBdO1xuICAgIHZhciBjb2x1bW5zID0gbS5fc2l6ZVsxXTsgLy8gbWluaW11bSByb3dzIGFuZCBjb2x1bW5zXG5cbiAgICB2YXIgbiA9IE1hdGgubWluKHJvd3MsIGNvbHVtbnMpOyAvLyBtYXRyaXggYXJyYXlzICh3aWxsIG5vdCBiZSBtb2RpZmllZCwgdGhhbmtzIHRvIHBlcm11dGF0aW9uIHZlY3RvcilcblxuICAgIHZhciB2YWx1ZXMgPSBtLl92YWx1ZXM7XG4gICAgdmFyIGluZGV4ID0gbS5faW5kZXg7XG4gICAgdmFyIHB0ciA9IG0uX3B0cjsgLy8gbCBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgbHZhbHVlcyA9IFtdO1xuICAgIHZhciBsaW5kZXggPSBbXTtcbiAgICB2YXIgbHB0ciA9IFtdO1xuICAgIHZhciBsc2l6ZSA9IFtyb3dzLCBuXTsgLy8gdSBtYXRyaXggYXJyYXlzXG5cbiAgICB2YXIgdXZhbHVlcyA9IFtdO1xuICAgIHZhciB1aW5kZXggPSBbXTtcbiAgICB2YXIgdXB0ciA9IFtdO1xuICAgIHZhciB1c2l6ZSA9IFtuLCBjb2x1bW5zXTsgLy8gdmFyc1xuXG4gICAgdmFyIGksIGosIGs7IC8vIHBlcm11dGF0aW9uIHZlY3RvcnMsIChjdXJyZW50IGluZGV4IC0+IG9yaWdpbmFsIGluZGV4KSBhbmQgKG9yaWdpbmFsIGluZGV4IC0+IGN1cnJlbnQgaW5kZXgpXG5cbiAgICB2YXIgcHZDbyA9IFtdO1xuICAgIHZhciBwdk9jID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICBwdkNvW2ldID0gaTtcbiAgICAgIHB2T2NbaV0gPSBpO1xuICAgIH0gLy8gc3dhcCBpbmRpY2VzIGluIHBlcm11dGF0aW9uIHZlY3RvcnMgKGNvbmRpdGlvbiB4IDwgeSkhXG5cblxuICAgIHZhciBzd2FwSW5kZWNlcyA9IGZ1bmN0aW9uIHN3YXBJbmRlY2VzKHgsIHkpIHtcbiAgICAgIC8vIGZpbmQgcHYgaW5kZWNlcyBnZXR0aW5nIGRhdGEgZnJvbSB4IGFuZCB5XG4gICAgICB2YXIga3ggPSBwdk9jW3hdO1xuICAgICAgdmFyIGt5ID0gcHZPY1t5XTsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciBjdXJyZW50IC0+IG9yaWdpbmFsXG5cbiAgICAgIHB2Q29ba3hdID0geTtcbiAgICAgIHB2Q29ba3ldID0geDsgLy8gdXBkYXRlIHBlcm11dGF0aW9uIHZlY3RvciBvcmlnaW5hbCAtPiBjdXJyZW50XG5cbiAgICAgIHB2T2NbeF0gPSBreTtcbiAgICAgIHB2T2NbeV0gPSBreDtcbiAgICB9OyAvLyBsb29wIGNvbHVtbnNcblxuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICAvLyBzcGFyc2UgYWNjdW11bGF0b3JcbiAgICAgIHZhciBzcGEgPSBuZXcgU3BhKCk7IC8vIGNoZWNrIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4IGhhcyBhIHZhbHVlIEAgY29sdW1uIGpcblxuICAgICAgaWYgKGogPCByb3dzKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBwdHJcbiAgICAgICAgbHB0ci5wdXNoKGx2YWx1ZXMubGVuZ3RoKTsgLy8gZmlyc3QgdmFsdWUgaW4gaiBjb2x1bW4gZm9yIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG5cbiAgICAgICAgbHZhbHVlcy5wdXNoKDEpO1xuICAgICAgICBsaW5kZXgucHVzaChqKTtcbiAgICAgIH0gLy8gdXBkYXRlIHB0clxuXG5cbiAgICAgIHVwdHIucHVzaCh1dmFsdWVzLmxlbmd0aCk7IC8vIGswIDw9IGsgPCBrMSB3aGVyZSBrMCA9IF9wdHJbal0gJiYgazEgPSBfcHRyW2orMV1cblxuICAgICAgdmFyIGswID0gcHRyW2pdO1xuICAgICAgdmFyIGsxID0gcHRyW2ogKyAxXTsgLy8gY29weSBjb2x1bW4gaiBpbnRvIHNwYXJzZSBhY2N1bXVsYXRvclxuXG4gICAgICBmb3IgKGsgPSBrMDsgayA8IGsxOyBrKyspIHtcbiAgICAgICAgLy8gcm93XG4gICAgICAgIGkgPSBpbmRleFtrXTsgLy8gY29weSBjb2x1bW4gdmFsdWVzIGludG8gc3BhcnNlIGFjY3VtdWxhdG9yICh1c2UgcGVybXV0YXRpb24gdmVjdG9yKVxuXG4gICAgICAgIHNwYS5zZXQocHZDb1tpXSwgdmFsdWVzW2tdKTtcbiAgICAgIH0gLy8gc2tpcCBmaXJzdCBjb2x1bW4gaW4gdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcblxuXG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgLy8gbG9vcCByb3dzIGluIGNvbHVtbiBqIChhYm92ZSBkaWFnb25hbClcbiAgICAgICAgc3BhLmZvckVhY2goMCwgaiAtIDEsIGZ1bmN0aW9uIChrLCB2a2opIHtcbiAgICAgICAgICAvLyBsb29wIHJvd3MgaW4gY29sdW1uIGsgKEwpXG4gICAgICAgICAgU3BhcnNlTWF0cml4Ll9mb3JFYWNoUm93KGssIGx2YWx1ZXMsIGxpbmRleCwgbHB0ciwgZnVuY3Rpb24gKGksIHZpaykge1xuICAgICAgICAgICAgLy8gY2hlY2sgcm93IGlzIGJlbG93IGtcbiAgICAgICAgICAgIGlmIChpID4gaykge1xuICAgICAgICAgICAgICAvLyB1cGRhdGUgc3BhIHZhbHVlXG4gICAgICAgICAgICAgIHNwYS5hY2N1bXVsYXRlKGksIHVuYXJ5TWludXMobXVsdGlwbHlTY2FsYXIodmlrLCB2a2opKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyByb3cgd2l0aCBsYXJnZXIgdmFsdWUgaW4gc3BhLCByb3cgPj0galxuXG5cbiAgICAgIHZhciBwaSA9IGo7XG4gICAgICB2YXIgdmpqID0gc3BhLmdldChqKTtcbiAgICAgIHZhciBwYWJzdiA9IGFicyh2amopOyAvLyBsb29wIHZhbHVlcyBpbiBzcGEgKG9yZGVyIGJ5IHJvdywgYmVsb3cgZGlhZ29uYWwpXG5cbiAgICAgIHNwYS5mb3JFYWNoKGogKyAxLCByb3dzIC0gMSwgZnVuY3Rpb24gKHgsIHYpIHtcbiAgICAgICAgLy8gYWJzb2x1dGUgdmFsdWVcbiAgICAgICAgdmFyIGFic3YgPSBhYnModik7IC8vIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBwaXZvdGUgdmFsdWVcblxuICAgICAgICBpZiAobGFyZ2VyKGFic3YsIHBhYnN2KSkge1xuICAgICAgICAgIC8vIHN0b3JlIHJvd1xuICAgICAgICAgIHBpID0geDsgLy8gdXBkYXRlIG1heCB2YWx1ZVxuXG4gICAgICAgICAgcGFic3YgPSBhYnN2OyAvLyB2YWx1ZSBAIFtqLCBqXVxuXG4gICAgICAgICAgdmpqID0gdjtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIHN3YXAgcm93cyAoaiA8LT4gcGkpXG5cbiAgICAgIGlmIChqICE9PSBwaSkge1xuICAgICAgICAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBMXG4gICAgICAgIFNwYXJzZU1hdHJpeC5fc3dhcFJvd3MoaiwgcGksIGxzaXplWzFdLCBsdmFsdWVzLCBsaW5kZXgsIGxwdHIpOyAvLyBzd2FwIHZhbHVlcyBqIDwtPiBwaSBpbiBVXG5cblxuICAgICAgICBTcGFyc2VNYXRyaXguX3N3YXBSb3dzKGosIHBpLCB1c2l6ZVsxXSwgdXZhbHVlcywgdWluZGV4LCB1cHRyKTsgLy8gc3dhcCB2YWx1ZXMgaW4gc3BhXG5cblxuICAgICAgICBzcGEuc3dhcChqLCBwaSk7IC8vIHVwZGF0ZSBwZXJtdXRhdGlvbiB2ZWN0b3IgKHN3YXAgdmFsdWVzIEAgaiwgcGkpXG5cbiAgICAgICAgc3dhcEluZGVjZXMoaiwgcGkpO1xuICAgICAgfSAvLyBsb29wIHZhbHVlcyBpbiBzcGEgKG9yZGVyIGJ5IHJvdylcblxuXG4gICAgICBzcGEuZm9yRWFjaCgwLCByb3dzIC0gMSwgZnVuY3Rpb24gKHgsIHYpIHtcbiAgICAgICAgLy8gY2hlY2sgd2UgYXJlIGFib3ZlIGRpYWdvbmFsXG4gICAgICAgIGlmICh4IDw9IGopIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXhcbiAgICAgICAgICB1dmFsdWVzLnB1c2godik7XG4gICAgICAgICAgdWluZGV4LnB1c2goeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICAgICAgdiA9IGRpdmlkZVNjYWxhcih2LCB2amopOyAvLyBjaGVjayB2YWx1ZSBpcyBub24gemVyb1xuXG4gICAgICAgICAgaWYgKCFlcXVhbFNjYWxhcih2LCAwKSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGxvd2VyIHRyaWFuZ3VsYXIgbWF0cml4XG4gICAgICAgICAgICBsdmFsdWVzLnB1c2godik7XG4gICAgICAgICAgICBsaW5kZXgucHVzaCh4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICBfbG9vcCgpO1xuICAgIH0gLy8gdXBkYXRlIHB0cnNcblxuXG4gICAgdXB0ci5wdXNoKHV2YWx1ZXMubGVuZ3RoKTtcbiAgICBscHRyLnB1c2gobHZhbHVlcy5sZW5ndGgpOyAvLyByZXR1cm4gbWF0cmljZXNcblxuICAgIHJldHVybiB7XG4gICAgICBMOiBuZXcgU3BhcnNlTWF0cml4KHtcbiAgICAgICAgdmFsdWVzOiBsdmFsdWVzLFxuICAgICAgICBpbmRleDogbGluZGV4LFxuICAgICAgICBwdHI6IGxwdHIsXG4gICAgICAgIHNpemU6IGxzaXplXG4gICAgICB9KSxcbiAgICAgIFU6IG5ldyBTcGFyc2VNYXRyaXgoe1xuICAgICAgICB2YWx1ZXM6IHV2YWx1ZXMsXG4gICAgICAgIGluZGV4OiB1aW5kZXgsXG4gICAgICAgIHB0cjogdXB0cixcbiAgICAgICAgc2l6ZTogdXNpemVcbiAgICAgIH0pLFxuICAgICAgcDogcHZDbyxcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdMOiAnICsgdGhpcy5MLnRvU3RyaW5nKCkgKyAnXFxuVTogJyArIHRoaXMuVS50b1N0cmluZygpICsgJ1xcblA6ICcgKyB0aGlzLnA7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgaXNNYXRyaXggfSBmcm9tICcuLi8uLi91dGlscy9pcy5qcyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uL3V0aWxzL29iamVjdC5qcyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmcuanMnO1xuaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xudmFyIG5hbWUgPSAnZGV0JztcbnZhciBkZXBlbmRlbmNpZXMgPSBbJ3R5cGVkJywgJ21hdHJpeCcsICdzdWJ0cmFjdCcsICdtdWx0aXBseScsICd1bmFyeU1pbnVzJywgJ2x1cCddO1xuZXhwb3J0IHZhciBjcmVhdGVEZXQgPSAvKiAjX19QVVJFX18gKi9mYWN0b3J5KG5hbWUsIGRlcGVuZGVuY2llcywgKF9yZWYpID0+IHtcbiAgdmFyIHtcbiAgICB0eXBlZCxcbiAgICBtYXRyaXgsXG4gICAgc3VidHJhY3QsXG4gICAgbXVsdGlwbHksXG4gICAgdW5hcnlNaW51cyxcbiAgICBsdXBcbiAgfSA9IF9yZWY7XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXguXG4gICAqXG4gICAqIFN5bnRheDpcbiAgICpcbiAgICogICAgbWF0aC5kZXQoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIG1hdGguZGV0KFtbMSwgMl0sIFszLCA0XV0pIC8vIHJldHVybnMgLTJcbiAgICpcbiAgICogICAgY29uc3QgQSA9IFtcbiAgICogICAgICBbLTIsIDIsIDNdLFxuICAgKiAgICAgIFstMSwgMSwgM10sXG4gICAqICAgICAgWzIsIDAsIC0xXVxuICAgKiAgICBdXG4gICAqICAgIG1hdGguZGV0KEEpIC8vIHJldHVybnMgNlxuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICpcbiAgICogICAgaW52XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkgfCBNYXRyaXh9IHggIEEgbWF0cml4XG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRldGVybWluYW50IG9mIGB4YFxuICAgKi9cbiAgcmV0dXJuIHR5cGVkKG5hbWUsIHtcbiAgICBhbnk6IGZ1bmN0aW9uIGFueSh4KSB7XG4gICAgICByZXR1cm4gY2xvbmUoeCk7XG4gICAgfSxcbiAgICAnQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBkZXQoeCkge1xuICAgICAgdmFyIHNpemU7XG5cbiAgICAgIGlmIChpc01hdHJpeCh4KSkge1xuICAgICAgICBzaXplID0geC5zaXplKCk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgICAgeCA9IG1hdHJpeCh4KTtcbiAgICAgICAgc2l6ZSA9IHguc2l6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYSBzY2FsYXJcbiAgICAgICAgc2l6ZSA9IFtdO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAvLyBzY2FsYXJcbiAgICAgICAgICByZXR1cm4gY2xvbmUoeCk7XG5cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIHZlY3RvclxuICAgICAgICAgIGlmIChzaXplWzBdID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmUoeC52YWx1ZU9mKClbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gdHdvIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgICB2YXIgcm93cyA9IHNpemVbMF07XG4gICAgICAgICAgICB2YXIgY29scyA9IHNpemVbMV07XG5cbiAgICAgICAgICAgIGlmIChyb3dzID09PSBjb2xzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfZGV0KHguY2xvbmUoKS52YWx1ZU9mKCksIHJvd3MsIGNvbHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBtdWx0aSBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdNYXRyaXggbXVzdCBiZSB0d28gZGltZW5zaW9uYWwgJyArICcoc2l6ZTogJyArIGZvcm1hdChzaXplKSArICcpJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheVtdfSBtYXRyaXggIEEgc3F1YXJlLCB0d28gZGltZW5zaW9uYWwgbWF0cml4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzICAgICBOdW1iZXIgb2Ygcm93cyBvZiB0aGUgbWF0cml4ICh6ZXJvLWJhc2VkKVxuICAgKiBAcGFyYW0ge251bWJlcn0gY29scyAgICAgTnVtYmVyIG9mIGNvbHVtbnMgb2YgdGhlIG1hdHJpeCAoemVyby1iYXNlZClcbiAgICogQHJldHVybnMge251bWJlcn0gZGV0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9kZXQobWF0cml4LCByb3dzLCBjb2xzKSB7XG4gICAgaWYgKHJvd3MgPT09IDEpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAxIHggMSBtYXRyaXhcbiAgICAgIHJldHVybiBjbG9uZShtYXRyaXhbMF1bMF0pO1xuICAgIH0gZWxzZSBpZiAocm93cyA9PT0gMikge1xuICAgICAgLy8gdGhpcyBpcyBhIDIgeCAyIG1hdHJpeFxuICAgICAgLy8gdGhlIGRldGVybWluYW50IG9mIFthMTEsYTEyO2EyMSxhMjJdIGlzIGRldCA9IGExMSphMjItYTIxKmExMlxuICAgICAgcmV0dXJuIHN1YnRyYWN0KG11bHRpcGx5KG1hdHJpeFswXVswXSwgbWF0cml4WzFdWzFdKSwgbXVsdGlwbHkobWF0cml4WzFdWzBdLCBtYXRyaXhbMF1bMV0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29tcHV0ZSB0aGUgTFUgZGVjb21wb3NpdGlvblxuICAgICAgdmFyIGRlY29tcCA9IGx1cChtYXRyaXgpOyAvLyBUaGUgZGV0ZXJtaW5hbnQgaXMgdGhlIHByb2R1Y3Qgb2YgdGhlIGRpYWdvbmFsIGVudHJpZXMgb2YgVSAoYW5kIHRob3NlIG9mIEwsIGJ1dCB0aGV5IGFyZSBhbGwgMSlcblxuICAgICAgdmFyIGRldCA9IGRlY29tcC5VWzBdWzBdO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgcm93czsgX2krKykge1xuICAgICAgICBkZXQgPSBtdWx0aXBseShkZXQsIGRlY29tcC5VW19pXVtfaV0pO1xuICAgICAgfSAvLyBUaGUgZGV0ZXJtaW5hbnQgd2lsbCBiZSBtdWx0aXBsaWVkIGJ5IDEgb3IgLTEgZGVwZW5kaW5nIG9uIHRoZSBwYXJpdHkgb2YgdGhlIHBlcm11dGF0aW9uIG1hdHJpeC5cbiAgICAgIC8vIFRoaXMgY2FuIGJlIGRldGVybWluZWQgYnkgY291bnRpbmcgdGhlIGN5Y2xlcy4gVGhpcyBpcyByb3VnaGx5IGEgbGluZWFyIHRpbWUgYWxnb3JpdGhtLlxuXG5cbiAgICAgIHZhciBldmVuQ3ljbGVzID0gMDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciB2aXNpdGVkID0gW107XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHdoaWxlICh2aXNpdGVkW2ldKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPj0gcm93cykgYnJlYWs7XG4gICAgICAgIHZhciBqID0gaTtcbiAgICAgICAgdmFyIGN5Y2xlTGVuID0gMDtcblxuICAgICAgICB3aGlsZSAoIXZpc2l0ZWRbZGVjb21wLnBbal1dKSB7XG4gICAgICAgICAgdmlzaXRlZFtkZWNvbXAucFtqXV0gPSB0cnVlO1xuICAgICAgICAgIGogPSBkZWNvbXAucFtqXTtcbiAgICAgICAgICBjeWNsZUxlbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN5Y2xlTGVuICUgMiA9PT0gMCkge1xuICAgICAgICAgIGV2ZW5DeWNsZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbkN5Y2xlcyAlIDIgPT09IDAgPyBkZXQgOiB1bmFyeU1pbnVzKGRldCk7XG4gICAgfVxuICB9XG59KTsiLCJpbXBvcnQgeyBpc01hdHJpeCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLmpzJztcbmltcG9ydCB7IGFycmF5U2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCB7IGZhY3RvcnkgfSBmcm9tICcuLi8uLi91dGlscy9mYWN0b3J5LmpzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0cmluZy5qcyc7XG52YXIgbmFtZSA9ICdpbnYnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ2RpdmlkZVNjYWxhcicsICdhZGRTY2FsYXInLCAnbXVsdGlwbHknLCAndW5hcnlNaW51cycsICdkZXQnLCAnaWRlbnRpdHknLCAnYWJzJ107XG5leHBvcnQgdmFyIGNyZWF0ZUludiA9IC8qICNfX1BVUkVfXyAqL2ZhY3RvcnkobmFtZSwgZGVwZW5kZW5jaWVzLCAoX3JlZikgPT4ge1xuICB2YXIge1xuICAgIHR5cGVkLFxuICAgIG1hdHJpeCxcbiAgICBkaXZpZGVTY2FsYXIsXG4gICAgYWRkU2NhbGFyLFxuICAgIG11bHRpcGx5LFxuICAgIHVuYXJ5TWludXMsXG4gICAgZGV0LFxuICAgIGlkZW50aXR5LFxuICAgIGFic1xuICB9ID0gX3JlZjtcblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBpbnZlcnNlIG9mIGEgc3F1YXJlIG1hdHJpeC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICAgbWF0aC5pbnYoeClcbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICBtYXRoLmludihbWzEsIDJdLCBbMywgNF1dKSAgLy8gcmV0dXJucyBbWy0yLCAxXSwgWzEuNSwgLTAuNV1dXG4gICAqICAgICBtYXRoLmludig0KSAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAwLjI1XG4gICAqICAgICAxIC8gNCAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAwLjI1XG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICAgZGV0LCB0cmFuc3Bvc2VcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHggICAgIE1hdHJpeCB0byBiZSBpbnZlcnNlZFxuICAgKiBAcmV0dXJuIHtudW1iZXIgfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IFRoZSBpbnZlcnNlIG9mIGB4YC5cbiAgICovXG4gIHJldHVybiB0eXBlZChuYW1lLCB7XG4gICAgJ0FycmF5IHwgTWF0cml4JzogZnVuY3Rpb24gQXJyYXlNYXRyaXgoeCkge1xuICAgICAgdmFyIHNpemUgPSBpc01hdHJpeCh4KSA/IHguc2l6ZSgpIDogYXJyYXlTaXplKHgpO1xuXG4gICAgICBzd2l0Y2ggKHNpemUubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyB2ZWN0b3JcbiAgICAgICAgICBpZiAoc2l6ZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYXRyaXgoW2RpdmlkZVNjYWxhcigxLCB4LnZhbHVlT2YoKVswXSldKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBbZGl2aWRlU2NhbGFyKDEsIHhbMF0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHNxdWFyZSAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIHR3byBkaW1lbnNpb25hbCBhcnJheVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciByb3dzID0gc2l6ZVswXTtcbiAgICAgICAgICAgIHZhciBjb2xzID0gc2l6ZVsxXTtcblxuICAgICAgICAgICAgaWYgKHJvd3MgPT09IGNvbHMpIHtcbiAgICAgICAgICAgICAgaWYgKGlzTWF0cml4KHgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeChfaW52KHgudmFsdWVPZigpLCByb3dzLCBjb2xzKSwgeC5zdG9yYWdlKCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiBhbiBBcnJheVxuICAgICAgICAgICAgICAgIHJldHVybiBfaW52KHgsIHJvd3MsIGNvbHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF0cml4IG11c3QgYmUgc3F1YXJlICcgKyAnKHNpemU6ICcgKyBmb3JtYXQoc2l6ZSkgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIG11bHRpIGRpbWVuc2lvbmFsIGFycmF5XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ01hdHJpeCBtdXN0IGJlIHR3byBkaW1lbnNpb25hbCAnICsgJyhzaXplOiAnICsgZm9ybWF0KHNpemUpICsgJyknKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFueTogZnVuY3Rpb24gYW55KHgpIHtcbiAgICAgIC8vIHNjYWxhclxuICAgICAgcmV0dXJuIGRpdmlkZVNjYWxhcigxLCB4KTsgLy8gRklYTUU6IGNyZWF0ZSBhIEJpZ051bWJlciBvbmUgd2hlbiBjb25maWd1cmVkIGZvciBiaWdudW1iZXJzXG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgaW52ZXJzZSBvZiBhIHNxdWFyZSBtYXRyaXhcbiAgICogQHBhcmFtIHtBcnJheVtdfSBtYXQgICAgIEEgc3F1YXJlIG1hdHJpeFxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAgICAgTnVtYmVyIG9mIHJvd3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgICAgIE51bWJlciBvZiBjb2x1bW5zLCBtdXN0IGVxdWFsIHJvd3NcbiAgICogQHJldHVybiB7QXJyYXlbXX0gaW52ICAgIEludmVyc2UgbWF0cml4XG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIF9pbnYobWF0LCByb3dzLCBjb2xzKSB7XG4gICAgdmFyIHIsIHMsIGYsIHZhbHVlLCB0ZW1wO1xuXG4gICAgaWYgKHJvd3MgPT09IDEpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSAxIHggMSBtYXRyaXhcbiAgICAgIHZhbHVlID0gbWF0WzBdWzBdO1xuXG4gICAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgaW52ZXJzZSwgZGV0ZXJtaW5hbnQgaXMgemVybycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1tkaXZpZGVTY2FsYXIoMSwgdmFsdWUpXV07XG4gICAgfSBlbHNlIGlmIChyb3dzID09PSAyKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgMiB4IDIgbWF0cml4XG4gICAgICB2YXIgZCA9IGRldChtYXQpO1xuXG4gICAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBpbnZlcnNlLCBkZXRlcm1pbmFudCBpcyB6ZXJvJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbW2RpdmlkZVNjYWxhcihtYXRbMV1bMV0sIGQpLCBkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhtYXRbMF1bMV0pLCBkKV0sIFtkaXZpZGVTY2FsYXIodW5hcnlNaW51cyhtYXRbMV1bMF0pLCBkKSwgZGl2aWRlU2NhbGFyKG1hdFswXVswXSwgZCldXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGhpcyBpcyBhIG1hdHJpeCBvZiAzIHggMyBvciBsYXJnZXJcbiAgICAgIC8vIGNhbGN1bGF0ZSBpbnZlcnNlIHVzaW5nIGdhdXNzLWpvcmRhbiBlbGltaW5hdGlvblxuICAgICAgLy8gICAgICBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HYXVzc2lhbl9lbGltaW5hdGlvblxuICAgICAgLy8gICAgICBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL01hdHJpeEludmVyc2UuaHRtbFxuICAgICAgLy8gICAgICBodHRwOi8vbWF0aC51d3cuZWR1L35tY2ZhcmxhdC9pbnZlcnNlLmh0bVxuICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIG1hdHJpeCAob25seSB0aGUgYXJyYXlzLCBub3Qgb2YgdGhlIGVsZW1lbnRzKVxuICAgICAgdmFyIEEgPSBtYXQuY29uY2F0KCk7XG5cbiAgICAgIGZvciAociA9IDA7IHIgPCByb3dzOyByKyspIHtcbiAgICAgICAgQVtyXSA9IEFbcl0uY29uY2F0KCk7XG4gICAgICB9IC8vIGNyZWF0ZSBhbiBpZGVudGl0eSBtYXRyaXggd2hpY2ggaW4gdGhlIGVuZCB3aWxsIGNvbnRhaW4gdGhlXG4gICAgICAvLyBtYXRyaXggaW52ZXJzZVxuXG5cbiAgICAgIHZhciBCID0gaWRlbnRpdHkocm93cykudmFsdWVPZigpOyAvLyBsb29wIG92ZXIgYWxsIGNvbHVtbnMsIGFuZCBwZXJmb3JtIHJvdyByZWR1Y3Rpb25zXG5cbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgY29sczsgYysrKSB7XG4gICAgICAgIC8vIFBpdm90aW5nOiBTd2FwIHJvdyBjIHdpdGggcm93IHIsIHdoZXJlIHJvdyByIGNvbnRhaW5zIHRoZSBsYXJnZXN0IGVsZW1lbnQgQVtyXVtjXVxuICAgICAgICB2YXIgQUJpZyA9IGFicyhBW2NdW2NdKTtcbiAgICAgICAgdmFyIHJCaWcgPSBjO1xuICAgICAgICByID0gYyArIDE7XG5cbiAgICAgICAgd2hpbGUgKHIgPCByb3dzKSB7XG4gICAgICAgICAgaWYgKGFicyhBW3JdW2NdKSA+IEFCaWcpIHtcbiAgICAgICAgICAgIEFCaWcgPSBhYnMoQVtyXVtjXSk7XG4gICAgICAgICAgICByQmlnID0gcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQUJpZyA9PT0gMCkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGludmVyc2UsIGRldGVybWluYW50IGlzIHplcm8nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHIgPSByQmlnO1xuXG4gICAgICAgIGlmIChyICE9PSBjKSB7XG4gICAgICAgICAgdGVtcCA9IEFbY107XG4gICAgICAgICAgQVtjXSA9IEFbcl07XG4gICAgICAgICAgQVtyXSA9IHRlbXA7XG4gICAgICAgICAgdGVtcCA9IEJbY107XG4gICAgICAgICAgQltjXSA9IEJbcl07XG4gICAgICAgICAgQltyXSA9IHRlbXA7XG4gICAgICAgIH0gLy8gZWxpbWluYXRlIG5vbi16ZXJvIHZhbHVlcyBvbiB0aGUgb3RoZXIgcm93cyBhdCBjb2x1bW4gY1xuXG5cbiAgICAgICAgdmFyIEFjID0gQVtjXTtcbiAgICAgICAgdmFyIEJjID0gQltjXTtcblxuICAgICAgICBmb3IgKHIgPSAwOyByIDwgcm93czsgcisrKSB7XG4gICAgICAgICAgdmFyIEFyID0gQVtyXTtcbiAgICAgICAgICB2YXIgQnIgPSBCW3JdO1xuXG4gICAgICAgICAgaWYgKHIgIT09IGMpIHtcbiAgICAgICAgICAgIC8vIGVsaW1pbmF0ZSB2YWx1ZSBhdCBjb2x1bW4gYyBhbmQgcm93IHJcbiAgICAgICAgICAgIGlmIChBcltjXSAhPT0gMCkge1xuICAgICAgICAgICAgICBmID0gZGl2aWRlU2NhbGFyKHVuYXJ5TWludXMoQXJbY10pLCBBY1tjXSk7IC8vIGFkZCAoZiAqIHJvdyBjKSB0byByb3cgciB0byBlbGltaW5hdGUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgIC8vIGF0IGNvbHVtbiBjXG5cbiAgICAgICAgICAgICAgZm9yIChzID0gYzsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICAgIEFyW3NdID0gYWRkU2NhbGFyKEFyW3NdLCBtdWx0aXBseShmLCBBY1tzXSkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZm9yIChzID0gMDsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICAgIEJyW3NdID0gYWRkU2NhbGFyKEJyW3NdLCBtdWx0aXBseShmLCBCY1tzXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSB2YWx1ZSBhdCBBY2MgdG8gMSxcbiAgICAgICAgICAgIC8vIGRpdmlkZSBlYWNoIHZhbHVlIG9uIHJvdyByIHdpdGggdGhlIHZhbHVlIGF0IEFjY1xuICAgICAgICAgICAgZiA9IEFjW2NdO1xuXG4gICAgICAgICAgICBmb3IgKHMgPSBjOyBzIDwgY29sczsgcysrKSB7XG4gICAgICAgICAgICAgIEFyW3NdID0gZGl2aWRlU2NhbGFyKEFyW3NdLCBmKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChzID0gMDsgcyA8IGNvbHM7IHMrKykge1xuICAgICAgICAgICAgICBCcltzXSA9IGRpdmlkZVNjYWxhcihCcltzXSwgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBCO1xuICAgIH1cbiAgfVxufSk7IiwiaW1wb3J0IHsgZmFjdG9yeSB9IGZyb20gJy4uLy4uL3V0aWxzL2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2JqZWN0LmpzJztcbmltcG9ydCB7IGNyZWF0ZUFsZ29yaXRobTExIH0gZnJvbSAnLi4vLi4vdHlwZS9tYXRyaXgvdXRpbHMvYWxnb3JpdGhtMTEuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWxnb3JpdGhtMTQgfSBmcm9tICcuLi8uLi90eXBlL21hdHJpeC91dGlscy9hbGdvcml0aG0xNC5qcyc7XG52YXIgbmFtZSA9ICdkaXZpZGUnO1xudmFyIGRlcGVuZGVuY2llcyA9IFsndHlwZWQnLCAnbWF0cml4JywgJ211bHRpcGx5JywgJ2VxdWFsU2NhbGFyJywgJ2RpdmlkZVNjYWxhcicsICdpbnYnXTtcbmV4cG9ydCB2YXIgY3JlYXRlRGl2aWRlID0gLyogI19fUFVSRV9fICovZmFjdG9yeShuYW1lLCBkZXBlbmRlbmNpZXMsIChfcmVmKSA9PiB7XG4gIHZhciB7XG4gICAgdHlwZWQsXG4gICAgbWF0cml4LFxuICAgIG11bHRpcGx5LFxuICAgIGVxdWFsU2NhbGFyLFxuICAgIGRpdmlkZVNjYWxhcixcbiAgICBpbnZcbiAgfSA9IF9yZWY7XG4gIHZhciBhbGdvcml0aG0xMSA9IGNyZWF0ZUFsZ29yaXRobTExKHtcbiAgICB0eXBlZCxcbiAgICBlcXVhbFNjYWxhclxuICB9KTtcbiAgdmFyIGFsZ29yaXRobTE0ID0gY3JlYXRlQWxnb3JpdGhtMTQoe1xuICAgIHR5cGVkXG4gIH0pO1xuICAvKipcbiAgICogRGl2aWRlIHR3byB2YWx1ZXMsIGB4IC8geWAuXG4gICAqIFRvIGRpdmlkZSBtYXRyaWNlcywgYHhgIGlzIG11bHRpcGxpZWQgd2l0aCB0aGUgaW52ZXJzZSBvZiBgeWA6IGB4ICogaW52KHkpYC5cbiAgICpcbiAgICogU3ludGF4OlxuICAgKlxuICAgKiAgICBtYXRoLmRpdmlkZSh4LCB5KVxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgbWF0aC5kaXZpZGUoMiwgMykgICAgICAgICAgICAvLyByZXR1cm5zIG51bWJlciAwLjY2NjY2NjY2NjY2NjY2NjZcbiAgICpcbiAgICogICAgY29uc3QgYSA9IG1hdGguY29tcGxleCg1LCAxNClcbiAgICogICAgY29uc3QgYiA9IG1hdGguY29tcGxleCg0LCAxKVxuICAgKiAgICBtYXRoLmRpdmlkZShhLCBiKSAgICAgICAgICAgIC8vIHJldHVybnMgQ29tcGxleCAyICsgM2lcbiAgICpcbiAgICogICAgY29uc3QgYyA9IFtbNywgLTZdLCBbMTMsIC00XV1cbiAgICogICAgY29uc3QgZCA9IFtbMSwgMl0sIFs0LCAzXV1cbiAgICogICAgbWF0aC5kaXZpZGUoYywgZCkgICAgICAgICAgICAvLyByZXR1cm5zIEFycmF5IFtbLTksIDRdLCBbLTExLCA2XV1cbiAgICpcbiAgICogICAgY29uc3QgZSA9IG1hdGgudW5pdCgnMTgga20nKVxuICAgKiAgICBtYXRoLmRpdmlkZShlLCA0LjUpICAgICAgICAgIC8vIHJldHVybnMgVW5pdCA0IGttXG4gICAqXG4gICAqIFNlZSBhbHNvOlxuICAgKlxuICAgKiAgICBtdWx0aXBseVxuICAgKlxuICAgKiBAcGFyYW0gIHtudW1iZXIgfCBCaWdOdW1iZXIgfCBGcmFjdGlvbiB8IENvbXBsZXggfCBVbml0IHwgQXJyYXkgfCBNYXRyaXh9IHggICBOdW1lcmF0b3JcbiAgICogQHBhcmFtICB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgQXJyYXkgfCBNYXRyaXh9IHkgICAgICAgICAgRGVub21pbmF0b3JcbiAgICogQHJldHVybiB7bnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBDb21wbGV4IHwgVW5pdCB8IEFycmF5IHwgTWF0cml4fSAgICAgICAgICAgICAgICAgICAgICBRdW90aWVudCwgYHggLyB5YFxuICAgKi9cblxuICByZXR1cm4gdHlwZWQoJ2RpdmlkZScsIGV4dGVuZCh7XG4gICAgLy8gd2UgZXh0ZW5kIHRoZSBzaWduYXR1cmVzIG9mIGRpdmlkZVNjYWxhciB3aXRoIHNpZ25hdHVyZXMgZGVhbGluZyB3aXRoIG1hdHJpY2VzXG4gICAgJ0FycmF5IHwgTWF0cml4LCBBcnJheSB8IE1hdHJpeCc6IGZ1bmN0aW9uIEFycmF5TWF0cml4QXJyYXlNYXRyaXgoeCwgeSkge1xuICAgICAgLy8gVE9ETzogaW1wbGVtZW50IG1hdHJpeCByaWdodCBkaXZpc2lvbiB1c2luZyBwc2V1ZG8gaW52ZXJzZVxuICAgICAgLy8gaHR0cHM6Ly93d3cubWF0aHdvcmtzLm5sL2hlbHAvbWF0bGFiL3JlZi9tcmRpdmlkZS5odG1sXG4gICAgICAvLyBodHRwczovL3d3dy5nbnUub3JnL3NvZnR3YXJlL29jdGF2ZS9kb2MvaW50ZXJwcmV0ZXIvQXJpdGhtZXRpYy1PcHMuaHRtbFxuICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTIyNjM5MzIvaG93LWRvZXMtZ251LW9jdGF2ZS1tYXRyaXgtZGl2aXNpb24td29yay1nZXR0aW5nLXVuZXhwZWN0ZWQtYmVoYXZpb3VyXG4gICAgICByZXR1cm4gbXVsdGlwbHkoeCwgaW52KHkpKTtcbiAgICB9LFxuICAgICdEZW5zZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gRGVuc2VNYXRyaXhBbnkoeCwgeSkge1xuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KHgsIHksIGRpdmlkZVNjYWxhciwgZmFsc2UpO1xuICAgIH0sXG4gICAgJ1NwYXJzZU1hdHJpeCwgYW55JzogZnVuY3Rpb24gU3BhcnNlTWF0cml4QW55KHgsIHkpIHtcbiAgICAgIHJldHVybiBhbGdvcml0aG0xMSh4LCB5LCBkaXZpZGVTY2FsYXIsIGZhbHNlKTtcbiAgICB9LFxuICAgICdBcnJheSwgYW55JzogZnVuY3Rpb24gQXJyYXlBbnkoeCwgeSkge1xuICAgICAgLy8gdXNlIG1hdHJpeCBpbXBsZW1lbnRhdGlvblxuICAgICAgcmV0dXJuIGFsZ29yaXRobTE0KG1hdHJpeCh4KSwgeSwgZGl2aWRlU2NhbGFyLCBmYWxzZSkudmFsdWVPZigpO1xuICAgIH0sXG4gICAgJ2FueSwgQXJyYXkgfCBNYXRyaXgnOiBmdW5jdGlvbiBhbnlBcnJheU1hdHJpeCh4LCB5KSB7XG4gICAgICByZXR1cm4gbXVsdGlwbHkoeCwgaW52KHkpKTtcbiAgICB9XG4gIH0sIGRpdmlkZVNjYWxhci5zaWduYXR1cmVzKSk7XG59KTsiLCJmdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcbm1vZHVsZS5leHBvcnRzLlRpbnlFbWl0dGVyID0gRTtcbiIsIlxuXG5pbXBvcnQge1ZlY3RvcjMsIE1hdGhVdGlsc30gZnJvbSAnLi9tYXRoLXV0aWxzJ1xuXG5jb25zdCBzY3JhdGNoVmVjdG9yMyA9IG5ldyBWZWN0b3IzXG5cbmV4cG9ydCBjbGFzcyBTcGhlcmljYWxDb29yZGluYXRlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaG9yaXpvbnRhbFJhZGlhbnM6bnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIHZlcnRpY2FsUmFkaWFuczpudW1iZXIgPSAwLFxuICAgICAgICBwdWJsaWMgZGlzdGFuY2U6bnVtYmVyID0gMFxuICAgICl7fVxuXG4gICAgZ2V0IGhvcml6b250YWxEZWdyZWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3Jpem9udGFsUmFkaWFucyAqIE1hdGhVdGlscy5SQUQyREVHXG4gICAgfVxuXG4gICAgc2V0IGhvcml6b250YWxEZWdyZWVzKGg6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbFJhZGlhbnMgPSBoICogTWF0aFV0aWxzLkRFRzJSQURcbiAgICB9XG5cbiAgICBnZXQgdmVydGljYWxEZWdyZWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbFJhZGlhbnMgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgIH1cblxuICAgIHNldCB2ZXJ0aWNhbERlZ3JlZXMoaDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSBoICogTWF0aFV0aWxzLkRFRzJSQURcbiAgICB9XG5cbiAgICBzZXRXaXRoUmFkaWFucyhob3Jpem9udGFsOm51bWJlciwgdmVydGljYWw6bnVtYmVyLCBkaXN0YW5jZTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IGhvcml6b250YWxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSB2ZXJ0aWNhbFxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBzZXRXaXRoRGVncmVlcyhob3Jpem9udGFsOm51bWJlciwgdmVydGljYWw6bnVtYmVyLCBkaXN0YW5jZTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsRGVncmVlcyA9IGhvcml6b250YWxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbERlZ3JlZXMgPSB2ZXJ0aWNhbFxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBmcm9tQ2FydGVzaWFuRGlyZWN0aW9uKGNhcnRlc2lhbjogVmVjdG9yMykge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBzY3JhdGNoVmVjdG9yMy5jb3B5KGNhcnRlc2lhbikubm9ybWFsaXplKClcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFJhZGlhbnMgPSBNYXRoLmFzaW4oZGlyZWN0aW9uLnkpICogTWF0aFV0aWxzLlJBRDJERUdcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsUmFkaWFucyA9IE1hdGguYXRhbjIoZGlyZWN0aW9uLngsIC1kaXJlY3Rpb24ueikgKiBNYXRoVXRpbHMuUkFEMkRFR1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gMFxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGZyb21DYXJ0ZXNpYW5Qb3NpdGlvbihjYXJ0ZXNpYW46IFZlY3RvcjMpIHtcbiAgICAgICAgdGhpcy5mcm9tQ2FydGVzaWFuRGlyZWN0aW9uKGNhcnRlc2lhbilcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IGNhcnRlc2lhbi5sZW5ndGgoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHRvQ2FydGVzaWFuRGlyZWN0aW9uKG91dDogVmVjdG9yMykgeyBcbiAgICAgICAgY29uc3QgdmlzdWFsRWxldmF0aW9uUmFkaWFucyA9IHRoaXMudmVydGljYWxSYWRpYW5zXG4gICAgICAgIGNvbnN0IHZpc3VhbEF6aW11dGhSYWRpYW5zID0gLSBNYXRoLlBJIC0gdGhpcy5ob3Jpem9udGFsUmFkaWFuc1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5zaW4odmlzdWFsRWxldmF0aW9uUmFkaWFucylcbiAgICAgICAgY29uc3QgeCA9IE1hdGguY29zKHZpc3VhbEVsZXZhdGlvblJhZGlhbnMpICogTWF0aC5zaW4odmlzdWFsQXppbXV0aFJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHogPSAtIE1hdGguY29zKHZpc3VhbEVsZXZhdGlvblJhZGlhbnMpICogTWF0aC5jb3ModmlzdWFsQXppbXV0aFJhZGlhbnMpXG4gICAgICAgIHJldHVybiBvdXQuc2V0KHgsIHksIHopLm5vcm1hbGl6ZSgpXG4gICAgfVxuXG4gICAgdG9DYXJ0ZXNpYW5Qb3NpdGlvbihvdXQ6IFZlY3RvcjMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9DYXJ0ZXNpYW5EaXJlY3Rpb24ob3V0KS5tdWx0aXBseVNjYWxhcih0aGlzLmRpc3RhbmNlKVxuICAgIH1cblxufSIsImZ1bmN0aW9uIGlkKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmlkID8gYCMke2VsZW1lbnQuaWR9YCA6ICcnXG59XG5cbmZ1bmN0aW9uIGNsYXNzZXMoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGNsYXNzU2VsZWN0b3IgPSAnJ1xuICBjb25zdCBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdFxuICBmb3IgKGNvbnN0IGMgb2YgY2xhc3NMaXN0KSB7XG4gICAgY2xhc3NTZWxlY3RvciArPSAnLicgKyBjXG4gIH1cbiAgcmV0dXJuIGNsYXNzU2VsZWN0b3Jcbn1cblxuZnVuY3Rpb24gbnRoQ2hpbGQoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgbGV0IGNoaWxkTnVtYmVyID0gMFxuICBjb25zdCBjaGlsZE5vZGVzID0gZWxlbWVudC5wYXJlbnROb2RlIS5jaGlsZE5vZGVzXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZE5vZGVzKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSArK2NoaWxkTnVtYmVyXG4gICAgaWYgKG5vZGUgPT09IGVsZW1lbnQpIHJldHVybiBgOm50aC1jaGlsZCgnJHtjaGlsZE51bWJlcn0nKWBcbiAgfVxufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIGxldCBhdHRyaWJ1dGVzID0gJydcbiAgZm9yIChjb25zdCBhdHRyIG9mIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgIGF0dHJpYnV0ZXMgKz0gYFske2F0dHIubmFtZX09XCIke2F0dHIudmFsdWV9XCJdYFxuICB9XG4gIHJldHVybiBhdHRyaWJ1dGVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRoKGVsOiBIVE1MRWxlbWVudCwgcm9vdE5vZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIDogc3RyaW5nIHtcbiAgY29uc3Qgc2VsZWN0b3IgPSBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgKyBpZChlbCkgKyBjbGFzc2VzKGVsKSArIGF0dHJpYnV0ZXMoZWwpICsgbnRoQ2hpbGQoZWwpXG4gIGNvbnN0IGhhc1BhcmVudCA9IGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSAhPT0gcm9vdE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgYXMgYW55KS50YWdOYW1lXG4gIHJldHVybiBoYXNQYXJlbnQgPyBwYXRoKGVsLnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQsIHJvb3ROb2RlKSArICcgPiAnICsgc2VsZWN0b3IgOiBzZWxlY3RvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzaChlbDogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgY3NzUGF0aCA9IHBhdGgoZWwpXG4gIGNvbnN0IHR5cGUgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZVxuICBjb25zdCBjaGVja2VkID0gKGVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgY29uc3QgdmFsdWUgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcbiAgY29uc3QgdGV4dENvbnRlbnQgPSAoZWwgYXMgSFRNTElucHV0RWxlbWVudCkudGV4dENvbnRlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhcbiAgbm9kZTogTm9kZSxcbiAgZWFjaDogKG5vZGU6IEVsZW1lbnQsIGxldmVsOiBudW1iZXIpID0+IGJvb2xlYW4sXG4gIGJpbmQ/OiBhbnksXG4gIGxldmVsID0gMFxuKSB7XG4gIGxldmVsKytcbiAgZm9yIChsZXQgY2hpbGQ6IE5vZGUgfCBudWxsID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgIGNvbnN0IGVsID0gY2hpbGQgYXMgRWxlbWVudFxuICAgICAgaWYgKGVhY2guY2FsbChiaW5kLCBlbCwgbGV2ZWwpKSB7XG4gICAgICAgIHRyYXZlcnNlQ2hpbGRFbGVtZW50cyhlbCwgZWFjaCwgYmluZCwgbGV2ZWwpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDU1NSdWxlKHNoZWV0OmFueSwgc2VsZWN0b3I6c3RyaW5nLCBydWxlczpzdHJpbmcsIGluZGV4Om51bWJlcikgOiB2b2lkIHtcbiAgaWYgKCdpbnNlcnRSdWxlJyBpbiBzaGVldCkge1xuICAgIHNoZWV0Lmluc2VydFJ1bGUoc2VsZWN0b3IgKyAneycgKyBydWxlcyArICd9JywgaW5kZXgpXG4gIH0gZWxzZSBpZiAoJ2FkZFJ1bGUnIGluIHNoZWV0KSB7XG4gICAgc2hlZXQuYWRkUnVsZShzZWxlY3RvciwgcnVsZXMsIGluZGV4KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCb3VuZHMge1xuICBsZWZ0ID0gMFxuICB0b3AgPSAwXG4gIHdpZHRoID0gMFxuICBoZWlnaHQgPSAwXG4gIGNvcHkocmVjdDogQm91bmRzKSB7XG4gICAgdGhpcy50b3AgPSByZWN0LnRvcFxuICAgIHRoaXMubGVmdCA9IHJlY3QubGVmdFxuICAgIHRoaXMud2lkdGggPSByZWN0LndpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSByZWN0LmhlaWdodFxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkZ2VzIHtcbiAgbGVmdCA9IDBcbiAgdG9wID0gMFxuICByaWdodCA9IDBcbiAgYm90dG9tID0gMFxuICBjb3B5KHJlY3Q6IEVkZ2VzKSB7XG4gICAgdGhpcy50b3AgPSByZWN0LnRvcFxuICAgIHRoaXMubGVmdCA9IHJlY3QubGVmdFxuICAgIHRoaXMucmlnaHQgPSByZWN0LnJpZ2h0XG4gICAgdGhpcy5ib3R0b20gPSByZWN0LmJvdHRvbVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdW5kcyhcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYm91bmRzOiBCb3VuZHMgPSBuZXcgQm91bmRzKCksXG4gIHJlZmVyZW5jZUVsZW1lbnQ/OiBFbGVtZW50XG4pIHtcbiAgY29uc3QgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IVxuICBjb25zdCBkb2NFbCA9IGRvYy5kb2N1bWVudEVsZW1lbnRcbiAgY29uc3QgYm9keSA9IGRvYy5ib2R5XG5cbiAgaWYgKGVsZW1lbnQgPT09IGRvY0VsKSB7XG4gICAgcmV0dXJuIGdldERvY3VtZW50Qm91bmRzKGRvYywgYm91bmRzKVxuICB9XG5cbiAgaWYgKHJlZmVyZW5jZUVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICBib3VuZHMubGVmdCA9IDBcbiAgICBib3VuZHMudG9wID0gMFxuICAgIGJvdW5kcy53aWR0aCA9IChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRXaWR0aFxuICAgIGJvdW5kcy5oZWlnaHQgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0SGVpZ2h0XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkZWZhdWx0VmlldyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCEuZGVmYXVsdFZpZXchXG4gIGxldCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZWxlbWVudCBhcyBIVE1MRWxlbWVudFxuXG4gIGxldCBjb21wdXRlZFN0eWxlXG4gIGxldCBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnQgYXMgSFRNTEVsZW1lbnRcbiAgbGV0IHByZXZDb21wdXRlZFN0eWxlID0gZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClcbiAgbGV0IHRvcCA9IGVsLm9mZnNldFRvcFxuICBsZXQgbGVmdCA9IGVsLm9mZnNldExlZnRcblxuICBpZiAoXG4gICAgb2Zmc2V0UGFyZW50ICYmXG4gICAgcmVmZXJlbmNlRWxlbWVudCAmJlxuICAgIG9mZnNldFBhcmVudC5jb250YWlucyhyZWZlcmVuY2VFbGVtZW50KSAmJlxuICAgIG9mZnNldFBhcmVudCAhPT0gcmVmZXJlbmNlRWxlbWVudFxuICApIHtcbiAgICBnZXRCb3VuZHMocmVmZXJlbmNlRWxlbWVudCwgYm91bmRzLCBvZmZzZXRQYXJlbnQpXG4gICAgbGVmdCAtPSBib3VuZHMubGVmdFxuICAgIHRvcCAtPSBib3VuZHMudG9wXG4gIH1cblxuICB3aGlsZSAoXG4gICAgKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiZcbiAgICBlbCAhPT0gYm9keSAmJlxuICAgIGVsICE9PSBkb2NFbCAmJlxuICAgIGVsICE9PSByZWZlcmVuY2VFbGVtZW50XG4gICkge1xuICAgIGlmIChwcmV2Q29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjb21wdXRlZFN0eWxlID0gZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbClcbiAgICB0b3AgLT0gZWwuc2Nyb2xsVG9wXG4gICAgbGVmdCAtPSBlbC5zY3JvbGxMZWZ0XG5cbiAgICBpZiAoZWwgPT09IG9mZnNldFBhcmVudCkge1xuICAgICAgdG9wICs9IGVsLm9mZnNldFRvcFxuICAgICAgbGVmdCArPSBlbC5vZmZzZXRMZWZ0XG4gICAgICB0b3AgKz0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmJvcmRlclRvcFdpZHRoKSB8fCAwXG4gICAgICBsZWZ0ICs9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpIHx8IDBcbiAgICAgIG9mZnNldFBhcmVudCA9IGVsLm9mZnNldFBhcmVudCBhcyBIVE1MRWxlbWVudFxuICAgIH1cblxuICAgIHByZXZDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZVxuICB9XG5cbiAgLy8gaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAncmVsYXRpdmUnIHx8IHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAvLyAgIGdldERvY3VtZW50Qm91bmRzKGRvYywgYm91bmRzKVxuICAvLyAgIHRvcCArPSBib3VuZHMudG9wXG4gIC8vICAgbGVmdCArPSBib3VuZHMubGVmdFxuICAvLyB9XG5cbiAgaWYgKHByZXZDb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgdG9wICs9IE1hdGgubWF4KGRvY0VsLnNjcm9sbFRvcCwgYm9keS5zY3JvbGxUb3ApXG4gICAgbGVmdCArPSBNYXRoLm1heChkb2NFbC5zY3JvbGxMZWZ0LCBib2R5LnNjcm9sbExlZnQpXG4gIH1cblxuICAvLyBsZXQgZWwgPSBlbGVtZW50XG4gIC8vIGxldCBsZWZ0ID0gZWwub2Zmc2V0TGVmdFxuICAvLyBsZXQgdG9wID0gZWwub2Zmc2V0VG9wXG4gIC8vIGxldCBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnRcbiAgLy8gd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9PSBOb2RlLkRPQ1VNRU5UX05PREUpIHtcbiAgLy8gICBsZWZ0IC09IGVsLnNjcm9sbExlZnRcbiAgLy8gICB0b3AgLT0gZWwuc2Nyb2xsVG9wXG4gIC8vICAgaWYgKGVsID09PSBvZmZzZXRQYXJlbnQpIHtcbiAgLy8gICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpXG4gIC8vICAgICBsZWZ0ICs9IGVsLm9mZnNldExlZnQgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCEpIHx8IDBcbiAgLy8gICAgIHRvcCArPSBlbC5vZmZzZXRUb3AgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoISkgfHwgMFxuICAvLyAgICAgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50XG4gIC8vICAgfVxuICAvLyAgIGVsID0gZWwub2Zmc2V0UGFyZW50IGFzIGFueVxuICAvLyB9XG5cbiAgYm91bmRzLmxlZnQgPSBsZWZ0XG4gIGJvdW5kcy50b3AgPSB0b3BcbiAgYm91bmRzLndpZHRoID0gKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLm9mZnNldFdpZHRoXG4gIGJvdW5kcy5oZWlnaHQgPSAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0SGVpZ2h0XG4gIHJldHVybiBib3VuZHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpbihlbGVtZW50OiBFbGVtZW50LCBtYXJnaW46IEVkZ2VzKSB7XG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgbWFyZ2luLmxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkxlZnQpIHx8IDBcbiAgbWFyZ2luLnJpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5SaWdodCkgfHwgMFxuICBtYXJnaW4udG9wID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Ub3ApIHx8IDBcbiAgbWFyZ2luLmJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luQm90dG9tKSB8fCAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3JkZXIoZWxlbWVudDogRWxlbWVudCwgYm9yZGVyOiBFZGdlcykge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gIGJvcmRlci5sZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpIHx8IDBcbiAgYm9yZGVyLnJpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSB8fCAwXG4gIGJvcmRlci50b3AgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSB8fCAwXG4gIGJvcmRlci5ib3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSB8fCAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWRkaW5nKGVsZW1lbnQ6IEVsZW1lbnQsIHBhZGRpbmc6IEVkZ2VzKSB7XG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgcGFkZGluZy5sZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nTGVmdCkgfHwgMFxuICBwYWRkaW5nLnJpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpIHx8IDBcbiAgcGFkZGluZy50b3AgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApIHx8IDBcbiAgcGFkZGluZy5ib3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdCb3R0b20pIHx8IDBcbn1cblxuLypcbiAqIE9uIHNvbWUgbW9iaWxlIGJyb3dzZXJzLCB0aGUgdmFsdWUgcmVwb3J0ZWQgYnkgd2luZG93LmlubmVySGVpZ2h0XG4gKiBpcyBub3QgdGhlIHRydWUgdmlld3BvcnQgaGVpZ2h0LiBUaGlzIG1ldGhvZCByZXR1cm5zXG4gKiB0aGUgYWN0dWFsIHZpZXdwb3J0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld3BvcnRCb3VuZHMoYm91bmRzOiBCb3VuZHMpIHtcbiAgaWYgKCF2aWV3cG9ydFRlc3Rlci5wYXJlbnROb2RlKSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kKHZpZXdwb3J0VGVzdGVyKVxuICBib3VuZHMubGVmdCA9IHBhZ2VYT2Zmc2V0XG4gIGJvdW5kcy50b3AgPSBwYWdlWU9mZnNldFxuICBib3VuZHMud2lkdGggPSB2aWV3cG9ydFRlc3Rlci5vZmZzZXRXaWR0aFxuICBib3VuZHMuaGVpZ2h0ID0gdmlld3BvcnRUZXN0ZXIub2Zmc2V0SGVpZ2h0XG4gIHJldHVybiBib3VuZHNcbn1cbmNvbnN0IHZpZXdwb3J0VGVzdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbnZpZXdwb3J0VGVzdGVyLmlkID0gJ1ZJRVdQT1JUJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnXG52aWV3cG9ydFRlc3Rlci5zdHlsZS53aWR0aCA9ICcxMDB2dydcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLmhlaWdodCA9ICcxMDB2aCdcbnZpZXdwb3J0VGVzdGVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xudmlld3BvcnRUZXN0ZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRCb3VuZHMoZG9jdW1lbnQ6IERvY3VtZW50LCBib3VuZHM6IEJvdW5kcykge1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHlcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50U3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50RWxlbWVudClcbiAgY29uc3QgYm9keVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShib2R5KVxuICBib3VuZHMudG9wID1cbiAgICBib2R5Lm9mZnNldFRvcCArIHBhcnNlRmxvYXQoZG9jdW1lbnRFbGVtZW50U3R5bGUubWFyZ2luVG9wIGFzICcnKSB8fFxuICAgIDAgKyBwYXJzZUZsb2F0KGJvZHlTdHlsZS5tYXJnaW5Ub3AgYXMgJycpIHx8XG4gICAgMFxuICBib3VuZHMubGVmdCA9XG4gICAgYm9keS5vZmZzZXRMZWZ0ICsgcGFyc2VGbG9hdChkb2N1bWVudEVsZW1lbnRTdHlsZS5tYXJnaW5MZWZ0IGFzICcnKSB8fFxuICAgIDAgKyBwYXJzZUZsb2F0KGJvZHlTdHlsZS5tYXJnaW5MZWZ0IGFzICcnKSB8fFxuICAgIDBcbiAgYm91bmRzLndpZHRoID0gTWF0aC5tYXgoXG4gICAgTWF0aC5tYXgoYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKSxcbiAgICBNYXRoLm1heChib2R5Lm9mZnNldFdpZHRoLCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpLFxuICAgIE1hdGgubWF4KGJvZHkuY2xpZW50V2lkdGgsIGRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcbiAgKVxuICBib3VuZHMuaGVpZ2h0ID0gTWF0aC5tYXgoXG4gICAgTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpLFxuICAgIE1hdGgubWF4KGJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KSxcbiAgICBNYXRoLm1heChib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodClcbiAgKVxuICByZXR1cm4gYm91bmRzXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIERPTShodG1sOnN0cmluZykge1xuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgd3JhcHBlci5pbm5lckhUTUwgPSBodG1sXG4gIGNvbnN0IGVsID0gd3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZCFcbiAgd3JhcHBlci5yZW1vdmVDaGlsZChlbClcbiAgcmV0dXJuIGVsXG59IiwiKGZ1bmN0aW9uKGwpe2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gayhhLGMpe2E9dm9pZCAwPT09YT9cInV0Zi04XCI6YTtjPXZvaWQgMD09PWM/e2ZhdGFsOiExfTpjO2lmKC0xPT09ci5pbmRleE9mKGEudG9Mb3dlckNhc2UoKSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdUZXh0RGVjb2Rlcic6IFRoZSBlbmNvZGluZyBsYWJlbCBwcm92aWRlZCAoJ1wiK2ErXCInKSBpcyBpbnZhbGlkLlwiKTtpZihjLmZhdGFsKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnVGV4dERlY29kZXInOiB0aGUgJ2ZhdGFsJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuXCIpO31mdW5jdGlvbiB0KGEpe3JldHVybiBCdWZmZXIuZnJvbShhLmJ1ZmZlcixhLmJ5dGVPZmZzZXQsYS5ieXRlTGVuZ3RoKS50b1N0cmluZyhcInV0Zi04XCIpfWZ1bmN0aW9uIHUoYSl7dmFyIGM9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbYV0se3R5cGU6XCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIn0pKTtcbnRyeXt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3Q7Zi5vcGVuKFwiR0VUXCIsYywhMSk7Zi5zZW5kKCk7cmV0dXJuIGYucmVzcG9uc2VUZXh0fWNhdGNoKGUpe3JldHVybiBxKGEpfWZpbmFsbHl7VVJMLnJldm9rZU9iamVjdFVSTChjKX19ZnVuY3Rpb24gcShhKXtmb3IodmFyIGM9MCxmPU1hdGgubWluKDY1NTM2LGEubGVuZ3RoKzEpLGU9bmV3IFVpbnQxNkFycmF5KGYpLGg9W10sZD0wOzspe3ZhciBiPWM8YS5sZW5ndGg7aWYoIWJ8fGQ+PWYtMSl7aC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLnN1YmFycmF5KDAsZCkpKTtpZighYilyZXR1cm4gaC5qb2luKFwiXCIpO2E9YS5zdWJhcnJheShjKTtkPWM9MH1iPWFbYysrXTtpZigwPT09KGImMTI4KSllW2QrK109YjtlbHNlIGlmKDE5Mj09PShiJjIyNCkpe3ZhciBnPWFbYysrXSY2MztlW2QrK109KGImMzEpPDw2fGd9ZWxzZSBpZigyMjQ9PT0oYiYyNDApKXtnPWFbYysrXSY2Mzt2YXIgbj1hW2MrK10mNjM7ZVtkKytdPVxuKGImMzEpPDwxMnxnPDw2fG59ZWxzZSBpZigyNDA9PT0oYiYyNDgpKXtnPWFbYysrXSY2MztuPWFbYysrXSY2Mzt2YXIgdj1hW2MrK10mNjM7Yj0oYiY3KTw8MTh8Zzw8MTJ8bjw8Nnx2OzY1NTM1PGImJihiLT02NTUzNixlW2QrK109Yj4+PjEwJjEwMjN8NTUyOTYsYj01NjMyMHxiJjEwMjMpO2VbZCsrXT1ifX19aWYobC5UZXh0RW5jb2RlciYmbC5UZXh0RGVjb2RlcilyZXR1cm4hMTt2YXIgcj1bXCJ1dGYtOFwiLFwidXRmOFwiLFwidW5pY29kZS0xLTEtdXRmLThcIl07T2JqZWN0LmRlZmluZVByb3BlcnR5KG0ucHJvdG90eXBlLFwiZW5jb2RpbmdcIix7dmFsdWU6XCJ1dGYtOFwifSk7bS5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKGEsYyl7Yz12b2lkIDA9PT1jP3tzdHJlYW06ITF9OmM7aWYoYy5zdHJlYW0pdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZW5jb2RlOiB0aGUgJ3N0cmVhbScgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLlwiKTtjPTA7Zm9yKHZhciBmPWEubGVuZ3RoLGU9MCxoPU1hdGgubWF4KDMyLFxuZisoZj4+PjEpKzcpLGQ9bmV3IFVpbnQ4QXJyYXkoaD4+PjM8PDMpO2M8Zjspe3ZhciBiPWEuY2hhckNvZGVBdChjKyspO2lmKDU1Mjk2PD1iJiY1NjMxOT49Yil7aWYoYzxmKXt2YXIgZz1hLmNoYXJDb2RlQXQoYyk7NTYzMjA9PT0oZyY2NDUxMikmJigrK2MsYj0oKGImMTAyMyk8PDEwKSsoZyYxMDIzKSs2NTUzNil9aWYoNTUyOTY8PWImJjU2MzE5Pj1iKWNvbnRpbnVlfWUrND5kLmxlbmd0aCYmKGgrPTgsaCo9MStjL2EubGVuZ3RoKjIsaD1oPj4+Mzw8MyxnPW5ldyBVaW50OEFycmF5KGgpLGcuc2V0KGQpLGQ9Zyk7aWYoMD09PShiJjQyOTQ5NjcxNjgpKWRbZSsrXT1iO2Vsc2V7aWYoMD09PShiJjQyOTQ5NjUyNDgpKWRbZSsrXT1iPj4+NiYzMXwxOTI7ZWxzZSBpZigwPT09KGImNDI5NDkwMTc2MCkpZFtlKytdPWI+Pj4xMiYxNXwyMjQsZFtlKytdPWI+Pj42JjYzfDEyODtlbHNlIGlmKDA9PT0oYiY0MjkyODcwMTQ0KSlkW2UrK109Yj4+PjE4Jjd8MjQwLGRbZSsrXT1iPj4+MTImXG42M3wxMjgsZFtlKytdPWI+Pj42JjYzfDEyODtlbHNlIGNvbnRpbnVlO2RbZSsrXT1iJjYzfDEyOH19cmV0dXJuIGQuc2xpY2U/ZC5zbGljZSgwLGUpOmQuc3ViYXJyYXkoMCxlKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwiZW5jb2RpbmdcIix7dmFsdWU6XCJ1dGYtOFwifSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGsucHJvdG90eXBlLFwiZmF0YWxcIix7dmFsdWU6ITF9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJpZ25vcmVCT01cIix7dmFsdWU6ITF9KTt2YXIgcD1xO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBCdWZmZXImJkJ1ZmZlci5mcm9tP3A9dDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwmJihwPXUpO2sucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbihhLGMpe2M9dm9pZCAwPT09Yz97c3RyZWFtOiExfTpjO2lmKGMuc3RyZWFtKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGRlY29kZTogdGhlICdzdHJlYW0nIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC5cIik7XG5hPWEgaW5zdGFuY2VvZiBVaW50OEFycmF5P2E6YS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShhLmJ1ZmZlcik6bmV3IFVpbnQ4QXJyYXkoYSk7cmV0dXJuIHAoYSl9O2wuVGV4dEVuY29kZXI9bTtsLlRleHREZWNvZGVyPWt9KShcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXMpO1xuIiwiLyoqXG4gKiBBIGRvdWJseSBsaW5rZWQgbGlzdC1iYXNlZCBMZWFzdCBSZWNlbnRseSBVc2VkIChMUlUpIGNhY2hlLiBXaWxsIGtlZXAgbW9zdFxuICogcmVjZW50bHkgdXNlZCBpdGVtcyB3aGlsZSBkaXNjYXJkaW5nIGxlYXN0IHJlY2VudGx5IHVzZWQgaXRlbXMgd2hlbiBpdHMgbGltaXRcbiAqIGlzIHJlYWNoZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlULiBDb3B5cmlnaHQgKGMpIDIwMTAgUmFzbXVzIEFuZGVyc3NvbiA8aHR0cDovL2h1bmNoLnNlLz5cbiAqIFNlZSBSRUFETUUubWQgZm9yIGRldGFpbHMuXG4gKlxuICogSWxsdXN0cmF0aW9uIG9mIHRoZSBkZXNpZ246XG4gKlxuICogICAgICAgZW50cnkgICAgICAgICAgICAgZW50cnkgICAgICAgICAgICAgZW50cnkgICAgICAgICAgICAgZW50cnlcbiAqICAgICAgIF9fX19fXyAgICAgICAgICAgIF9fX19fXyAgICAgICAgICAgIF9fX19fXyAgICAgICAgICAgIF9fX19fX1xuICogICAgICB8IGhlYWQgfC5uZXdlciA9PiB8ICAgICAgfC5uZXdlciA9PiB8ICAgICAgfC5uZXdlciA9PiB8IHRhaWwgfFxuICogICAgICB8ICBBICAgfCAgICAgICAgICB8ICBCICAgfCAgICAgICAgICB8ICBDICAgfCAgICAgICAgICB8ICBEICAgfFxuICogICAgICB8X19fX19ffCA8PSBvbGRlci58X19fX19ffCA8PSBvbGRlci58X19fX19ffCA8PSBvbGRlci58X19fX19ffFxuICpcbiAqICByZW1vdmVkICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgPC0tICA8LS0gIDwtLSAgYWRkZWRcbiAqL1xuKGZ1bmN0aW9uKGcsZil7XG4gIGNvbnN0IGUgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiB0eXBlb2YgZyA9PSAnb2JqZWN0JyA/IGcgOiB7fTtcbiAgZihlKTtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IGRlZmluZSgnbHJ1JywgZSk7IH1cbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblxuY29uc3QgTkVXRVIgPSBTeW1ib2woJ25ld2VyJyk7XG5jb25zdCBPTERFUiA9IFN5bWJvbCgnb2xkZXInKTtcblxuZnVuY3Rpb24gTFJVTWFwKGxpbWl0LCBlbnRyaWVzKSB7XG4gIGlmICh0eXBlb2YgbGltaXQgIT09ICdudW1iZXInKSB7XG4gICAgLy8gY2FsbGVkIGFzIChlbnRyaWVzKVxuICAgIGVudHJpZXMgPSBsaW1pdDtcbiAgICBsaW1pdCA9IDA7XG4gIH1cblxuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLmxpbWl0ID0gbGltaXQ7XG4gIHRoaXMub2xkZXN0ID0gdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2tleW1hcCA9IG5ldyBNYXAoKTtcblxuICBpZiAoZW50cmllcykge1xuICAgIHRoaXMuYXNzaWduKGVudHJpZXMpO1xuICAgIGlmIChsaW1pdCA8IDEpIHtcbiAgICAgIHRoaXMubGltaXQgPSB0aGlzLnNpemU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydHMuTFJVTWFwID0gTFJVTWFwO1xuXG5mdW5jdGlvbiBFbnRyeShrZXksIHZhbHVlKSB7XG4gIHRoaXMua2V5ID0ga2V5O1xuICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIHRoaXNbTkVXRVJdID0gdW5kZWZpbmVkO1xuICB0aGlzW09MREVSXSA9IHVuZGVmaW5lZDtcbn1cblxuXG5MUlVNYXAucHJvdG90eXBlLl9tYXJrRW50cnlBc1VzZWQgPSBmdW5jdGlvbihlbnRyeSkge1xuICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0KSB7XG4gICAgLy8gQWxyZWFkeSB0aGUgbW9zdCByZWNlbmx0eSB1c2VkIGVudHJ5LCBzbyBubyBuZWVkIHRvIHVwZGF0ZSB0aGUgbGlzdFxuICAgIHJldHVybjtcbiAgfVxuICAvLyBIRUFELS0tLS0tLS0tLS0tLS1UQUlMXG4gIC8vICAgPC5vbGRlciAgIC5uZXdlcj5cbiAgLy8gIDwtLS0gYWRkIGRpcmVjdGlvbiAtLVxuICAvLyAgIEEgIEIgIEMgIDxEPiAgRVxuICBpZiAoZW50cnlbTkVXRVJdKSB7XG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdCkge1xuICAgICAgdGhpcy5vbGRlc3QgPSBlbnRyeVtORVdFUl07XG4gICAgfVxuICAgIGVudHJ5W05FV0VSXVtPTERFUl0gPSBlbnRyeVtPTERFUl07IC8vIEMgPC0tIEUuXG4gIH1cbiAgaWYgKGVudHJ5W09MREVSXSkge1xuICAgIGVudHJ5W09MREVSXVtORVdFUl0gPSBlbnRyeVtORVdFUl07IC8vIEMuIC0tPiBFXG4gIH1cbiAgZW50cnlbTkVXRVJdID0gdW5kZWZpbmVkOyAvLyBEIC0teFxuICBlbnRyeVtPTERFUl0gPSB0aGlzLm5ld2VzdDsgLy8gRC4gLS0+IEVcbiAgaWYgKHRoaXMubmV3ZXN0KSB7XG4gICAgdGhpcy5uZXdlc3RbTkVXRVJdID0gZW50cnk7IC8vIEUuIDwtLSBEXG4gIH1cbiAgdGhpcy5uZXdlc3QgPSBlbnRyeTtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuYXNzaWduID0gZnVuY3Rpb24oZW50cmllcykge1xuICBsZXQgZW50cnksIGxpbWl0ID0gdGhpcy5saW1pdCB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICB0aGlzLl9rZXltYXAuY2xlYXIoKTtcbiAgbGV0IGl0ID0gZW50cmllc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIGZvciAobGV0IGl0diA9IGl0Lm5leHQoKTsgIWl0di5kb25lOyBpdHYgPSBpdC5uZXh0KCkpIHtcbiAgICBsZXQgZSA9IG5ldyBFbnRyeShpdHYudmFsdWVbMF0sIGl0di52YWx1ZVsxXSk7XG4gICAgdGhpcy5fa2V5bWFwLnNldChlLmtleSwgZSk7XG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgdGhpcy5vbGRlc3QgPSBlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeVtORVdFUl0gPSBlO1xuICAgICAgZVtPTERFUl0gPSBlbnRyeTtcbiAgICB9XG4gICAgZW50cnkgPSBlO1xuICAgIGlmIChsaW1pdC0tID09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignb3ZlcmZsb3cnKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5uZXdlc3QgPSBlbnRyeTtcbiAgdGhpcy5zaXplID0gdGhpcy5fa2V5bWFwLnNpemU7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAvLyBGaXJzdCwgZmluZCBvdXIgY2FjaGUgZW50cnlcbiAgdmFyIGVudHJ5ID0gdGhpcy5fa2V5bWFwLmdldChrZXkpO1xuICBpZiAoIWVudHJ5KSByZXR1cm47IC8vIE5vdCBjYWNoZWQuIFNvcnJ5LlxuICAvLyBBcyA8a2V5PiB3YXMgZm91bmQgaW4gdGhlIGNhY2hlLCByZWdpc3RlciBpdCBhcyBiZWluZyByZXF1ZXN0ZWQgcmVjZW50bHlcbiAgdGhpcy5fbWFya0VudHJ5QXNVc2VkKGVudHJ5KTtcbiAgcmV0dXJuIGVudHJ5LnZhbHVlO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIHZhciBlbnRyeSA9IHRoaXMuX2tleW1hcC5nZXQoa2V5KTtcblxuICBpZiAoZW50cnkpIHtcbiAgICAvLyB1cGRhdGUgZXhpc3RpbmdcbiAgICBlbnRyeS52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX21hcmtFbnRyeUFzVXNlZChlbnRyeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBuZXcgZW50cnlcbiAgdGhpcy5fa2V5bWFwLnNldChrZXksIChlbnRyeSA9IG5ldyBFbnRyeShrZXksIHZhbHVlKSkpO1xuXG4gIGlmICh0aGlzLm5ld2VzdCkge1xuICAgIC8vIGxpbmsgcHJldmlvdXMgdGFpbCB0byB0aGUgbmV3IHRhaWwgKGVudHJ5KVxuICAgIHRoaXMubmV3ZXN0W05FV0VSXSA9IGVudHJ5O1xuICAgIGVudHJ5W09MREVSXSA9IHRoaXMubmV3ZXN0O1xuICB9IGVsc2Uge1xuICAgIC8vIHdlJ3JlIGZpcnN0IGluIC0tIHlheVxuICAgIHRoaXMub2xkZXN0ID0gZW50cnk7XG4gIH1cblxuICAvLyBhZGQgbmV3IGVudHJ5IHRvIHRoZSBlbmQgb2YgdGhlIGxpbmtlZCBsaXN0IC0tIGl0J3Mgbm93IHRoZSBmcmVzaGVzdCBlbnRyeS5cbiAgdGhpcy5uZXdlc3QgPSBlbnRyeTtcbiAgKyt0aGlzLnNpemU7XG4gIGlmICh0aGlzLnNpemUgPiB0aGlzLmxpbWl0KSB7XG4gICAgLy8gd2UgaGl0IHRoZSBsaW1pdCAtLSByZW1vdmUgdGhlIGhlYWRcbiAgICB0aGlzLnNoaWZ0KCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbigpIHtcbiAgLy8gdG9kbzogaGFuZGxlIHNwZWNpYWwgY2FzZSB3aGVuIGxpbWl0ID09IDFcbiAgdmFyIGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIGlmIChlbnRyeSkge1xuICAgIGlmICh0aGlzLm9sZGVzdFtORVdFUl0pIHtcbiAgICAgIC8vIGFkdmFuY2UgdGhlIGxpc3RcbiAgICAgIHRoaXMub2xkZXN0ID0gdGhpcy5vbGRlc3RbTkVXRVJdO1xuICAgICAgdGhpcy5vbGRlc3RbT0xERVJdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGUgY2FjaGUgaXMgZXhoYXVzdGVkXG4gICAgICB0aGlzLm9sZGVzdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubmV3ZXN0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgbGFzdCBzdHJvbmcgcmVmZXJlbmNlIHRvIDxlbnRyeT4gYW5kIHJlbW92ZSBsaW5rcyBmcm9tIHRoZSBwdXJnZWRcbiAgICAvLyBlbnRyeSBiZWluZyByZXR1cm5lZDpcbiAgICBlbnRyeVtORVdFUl0gPSBlbnRyeVtPTERFUl0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fa2V5bWFwLmRlbGV0ZShlbnRyeS5rZXkpO1xuICAgIC0tdGhpcy5zaXplO1xuICAgIHJldHVybiBbZW50cnkua2V5LCBlbnRyeS52YWx1ZV07XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZvbGxvd2luZyBjb2RlIGlzIG9wdGlvbmFsIGFuZCBjYW4gYmUgcmVtb3ZlZCB3aXRob3V0IGJyZWFraW5nIHRoZSBjb3JlXG4vLyBmdW5jdGlvbmFsaXR5LlxuXG5MUlVNYXAucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihrZXkpIHtcbiAgbGV0IGUgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG4gIHJldHVybiBlID8gZS52YWx1ZSA6IHVuZGVmaW5lZDtcbn07XG5cbkxSVU1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLl9rZXltYXAuaGFzKGtleSk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKGtleSkge1xuICB2YXIgZW50cnkgPSB0aGlzLl9rZXltYXAuZ2V0KGtleSk7XG4gIGlmICghZW50cnkpIHJldHVybjtcbiAgdGhpcy5fa2V5bWFwLmRlbGV0ZShlbnRyeS5rZXkpO1xuICBpZiAoZW50cnlbTkVXRVJdICYmIGVudHJ5W09MREVSXSkge1xuICAgIC8vIHJlbGluayB0aGUgb2xkZXIgZW50cnkgd2l0aCB0aGUgbmV3ZXIgZW50cnlcbiAgICBlbnRyeVtPTERFUl1bTkVXRVJdID0gZW50cnlbTkVXRVJdO1xuICAgIGVudHJ5W05FV0VSXVtPTERFUl0gPSBlbnRyeVtPTERFUl07XG4gIH0gZWxzZSBpZiAoZW50cnlbTkVXRVJdKSB7XG4gICAgLy8gcmVtb3ZlIHRoZSBsaW5rIHRvIHVzXG4gICAgZW50cnlbTkVXRVJdW09MREVSXSA9IHVuZGVmaW5lZDtcbiAgICAvLyBsaW5rIHRoZSBuZXdlciBlbnRyeSB0byBoZWFkXG4gICAgdGhpcy5vbGRlc3QgPSBlbnRyeVtORVdFUl07XG4gIH0gZWxzZSBpZiAoZW50cnlbT0xERVJdKSB7XG4gICAgLy8gcmVtb3ZlIHRoZSBsaW5rIHRvIHVzXG4gICAgZW50cnlbT0xERVJdW05FV0VSXSA9IHVuZGVmaW5lZDtcbiAgICAvLyBsaW5rIHRoZSBuZXdlciBlbnRyeSB0byBoZWFkXG4gICAgdGhpcy5uZXdlc3QgPSBlbnRyeVtPTERFUl07XG4gIH0gZWxzZSB7Ly8gaWYoZW50cnlbT0xERVJdID09PSB1bmRlZmluZWQgJiYgZW50cnkubmV3ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMub2xkZXN0ID0gdGhpcy5uZXdlc3QgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB0aGlzLnNpemUtLTtcbiAgcmV0dXJuIGVudHJ5LnZhbHVlO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAvLyBOb3QgY2xlYXJpbmcgbGlua3Mgc2hvdWxkIGJlIHNhZmUsIGFzIHdlIGRvbid0IGV4cG9zZSBsaXZlIGxpbmtzIHRvIHVzZXJcbiAgdGhpcy5vbGRlc3QgPSB0aGlzLm5ld2VzdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fa2V5bWFwLmNsZWFyKCk7XG59O1xuXG5cbmZ1bmN0aW9uIEVudHJ5SXRlcmF0b3Iob2xkZXN0RW50cnkpIHsgdGhpcy5lbnRyeSA9IG9sZGVzdEVudHJ5OyB9XG5FbnRyeUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9XG5FbnRyeUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBlbnQgPSB0aGlzLmVudHJ5O1xuICBpZiAoZW50KSB7XG4gICAgdGhpcy5lbnRyeSA9IGVudFtORVdFUl07XG4gICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBbZW50LmtleSwgZW50LnZhbHVlXSB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgfVxufTtcblxuXG5mdW5jdGlvbiBLZXlJdGVyYXRvcihvbGRlc3RFbnRyeSkgeyB0aGlzLmVudHJ5ID0gb2xkZXN0RW50cnk7IH1cbktleUl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9XG5LZXlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZW50ID0gdGhpcy5lbnRyeTtcbiAgaWYgKGVudCkge1xuICAgIHRoaXMuZW50cnkgPSBlbnRbTkVXRVJdO1xuICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogZW50LmtleSB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVmFsdWVJdGVyYXRvcihvbGRlc3RFbnRyeSkgeyB0aGlzLmVudHJ5ID0gb2xkZXN0RW50cnk7IH1cblZhbHVlSXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH1cblZhbHVlSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGVudCA9IHRoaXMuZW50cnk7XG4gIGlmIChlbnQpIHtcbiAgICB0aGlzLmVudHJ5ID0gZW50W05FV0VSXTtcbiAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IGVudC52YWx1ZSB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgfVxufTtcblxuXG5MUlVNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBLZXlJdGVyYXRvcih0aGlzLm9sZGVzdCk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFZhbHVlSXRlcmF0b3IodGhpcy5vbGRlc3QpO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuTFJVTWFwLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgRW50cnlJdGVyYXRvcih0aGlzLm9sZGVzdCk7XG59O1xuXG5MUlVNYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihmdW4sIHRoaXNPYmopIHtcbiAgaWYgKHR5cGVvZiB0aGlzT2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHRoaXNPYmogPSB0aGlzO1xuICB9XG4gIGxldCBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICBmdW4uY2FsbCh0aGlzT2JqLCBlbnRyeS52YWx1ZSwgZW50cnkua2V5LCB0aGlzKTtcbiAgICBlbnRyeSA9IGVudHJ5W05FV0VSXTtcbiAgfVxufTtcblxuLyoqIFJldHVybnMgYSBKU09OIChhcnJheSkgcmVwcmVzZW50YXRpb24gKi9cbkxSVU1hcC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzID0gbmV3IEFycmF5KHRoaXMuc2l6ZSksIGkgPSAwLCBlbnRyeSA9IHRoaXMub2xkZXN0O1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICBzW2krK10gPSB7IGtleTogZW50cnkua2V5LCB2YWx1ZTogZW50cnkudmFsdWUgfTtcbiAgICBlbnRyeSA9IGVudHJ5W05FV0VSXTtcbiAgfVxuICByZXR1cm4gcztcbn07XG5cbi8qKiBSZXR1cm5zIGEgU3RyaW5nIHJlcHJlc2VudGF0aW9uICovXG5MUlVNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzID0gJycsIGVudHJ5ID0gdGhpcy5vbGRlc3Q7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHMgKz0gU3RyaW5nKGVudHJ5LmtleSkrJzonK2VudHJ5LnZhbHVlO1xuICAgIGVudHJ5ID0gZW50cnlbTkVXRVJdO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgcyArPSAnIDwgJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHM7XG59O1xuXG59KTtcbiIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIC8vIEhhY2sgdG8gbWFrZSBhbGwgZXhwb3J0cyBvZiB0aGlzIG1vZHVsZSBzaGEyNTYgZnVuY3Rpb24gb2JqZWN0IHByb3BlcnRpZXMuXG4gICAgdmFyIGV4cG9ydHMgPSB7fTtcbiAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIHZhciBzaGEyNTYgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbiAgICBmb3IgKHZhciBrIGluIGV4cG9ydHMpIHtcbiAgICAgICAgc2hhMjU2W2tdID0gZXhwb3J0c1trXTtcbiAgICB9XG4gICAgICAgIFxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gc2hhMjU2O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIHNoYTI1NjsgfSk7IFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3Quc2hhMjU2ID0gc2hhMjU2O1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8vIFNIQS0yNTYgKCsgSE1BQyBhbmQgUEJLREYyKSBmb3IgSmF2YVNjcmlwdC5cbi8vXG4vLyBXcml0dGVuIGluIDIwMTQtMjAxNiBieSBEbWl0cnkgQ2hlc3RueWtoLlxuLy8gUHVibGljIGRvbWFpbiwgbm8gd2FycmFudHkuXG4vL1xuLy8gRnVuY3Rpb25zIChhY2NlcHQgYW5kIHJldHVybiBVaW50OEFycmF5cyk6XG4vL1xuLy8gICBzaGEyNTYobWVzc2FnZSkgLT4gaGFzaFxuLy8gICBzaGEyNTYuaG1hYyhrZXksIG1lc3NhZ2UpIC0+IG1hY1xuLy8gICBzaGEyNTYucGJrZGYyKHBhc3N3b3JkLCBzYWx0LCByb3VuZHMsIGRrTGVuKSAtPiBka1xuLy9cbi8vICBDbGFzc2VzOlxuLy9cbi8vICAgbmV3IHNoYTI1Ni5IYXNoKClcbi8vICAgbmV3IHNoYTI1Ni5ITUFDKGtleSlcbi8vXG5leHBvcnRzLmRpZ2VzdExlbmd0aCA9IDMyO1xuZXhwb3J0cy5ibG9ja1NpemUgPSA2NDtcbi8vIFNIQS0yNTYgY29uc3RhbnRzXG52YXIgSyA9IG5ldyBVaW50MzJBcnJheShbXG4gICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YixcbiAgICAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LCAweGQ4MDdhYTk4LCAweDEyODM1YjAxLFxuICAgIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsXG4gICAgMHhjMTliZjE3NCwgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYyxcbiAgICAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLCAweDk4M2U1MTUyLFxuICAgIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsXG4gICAgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NywgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYyxcbiAgICAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsIDB4ZDE5MmU4MTksXG4gICAgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCwgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCxcbiAgICAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLFxuICAgIDB4NjgyZTZmZjMsIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsXG4gICAgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuXSk7XG5mdW5jdGlvbiBoYXNoQmxvY2tzKHcsIHYsIHAsIHBvcywgbGVuKSB7XG4gICAgdmFyIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIHUsIGksIGosIHQxLCB0MjtcbiAgICB3aGlsZSAobGVuID49IDY0KSB7XG4gICAgICAgIGEgPSB2WzBdO1xuICAgICAgICBiID0gdlsxXTtcbiAgICAgICAgYyA9IHZbMl07XG4gICAgICAgIGQgPSB2WzNdO1xuICAgICAgICBlID0gdls0XTtcbiAgICAgICAgZiA9IHZbNV07XG4gICAgICAgIGcgPSB2WzZdO1xuICAgICAgICBoID0gdls3XTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGogPSBwb3MgKyBpICogNDtcbiAgICAgICAgICAgIHdbaV0gPSAoKChwW2pdICYgMHhmZikgPDwgMjQpIHwgKChwW2ogKyAxXSAmIDB4ZmYpIDw8IDE2KSB8XG4gICAgICAgICAgICAgICAgKChwW2ogKyAyXSAmIDB4ZmYpIDw8IDgpIHwgKHBbaiArIDNdICYgMHhmZikpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDE2OyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgdSA9IHdbaSAtIDJdO1xuICAgICAgICAgICAgdDEgPSAodSA+Pj4gMTcgfCB1IDw8ICgzMiAtIDE3KSkgXiAodSA+Pj4gMTkgfCB1IDw8ICgzMiAtIDE5KSkgXiAodSA+Pj4gMTApO1xuICAgICAgICAgICAgdSA9IHdbaSAtIDE1XTtcbiAgICAgICAgICAgIHQyID0gKHUgPj4+IDcgfCB1IDw8ICgzMiAtIDcpKSBeICh1ID4+PiAxOCB8IHUgPDwgKDMyIC0gMTgpKSBeICh1ID4+PiAzKTtcbiAgICAgICAgICAgIHdbaV0gPSAodDEgKyB3W2kgLSA3XSB8IDApICsgKHQyICsgd1tpIC0gMTZdIHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgIHQxID0gKCgoKChlID4+PiA2IHwgZSA8PCAoMzIgLSA2KSkgXiAoZSA+Pj4gMTEgfCBlIDw8ICgzMiAtIDExKSkgXlxuICAgICAgICAgICAgICAgIChlID4+PiAyNSB8IGUgPDwgKDMyIC0gMjUpKSkgKyAoKGUgJiBmKSBeICh+ZSAmIGcpKSkgfCAwKSArXG4gICAgICAgICAgICAgICAgKChoICsgKChLW2ldICsgd1tpXSkgfCAwKSkgfCAwKSkgfCAwO1xuICAgICAgICAgICAgdDIgPSAoKChhID4+PiAyIHwgYSA8PCAoMzIgLSAyKSkgXiAoYSA+Pj4gMTMgfCBhIDw8ICgzMiAtIDEzKSkgXlxuICAgICAgICAgICAgICAgIChhID4+PiAyMiB8IGEgPDwgKDMyIC0gMjIpKSkgKyAoKGEgJiBiKSBeIChhICYgYykgXiAoYiAmIGMpKSkgfCAwO1xuICAgICAgICAgICAgaCA9IGc7XG4gICAgICAgICAgICBnID0gZjtcbiAgICAgICAgICAgIGYgPSBlO1xuICAgICAgICAgICAgZSA9IChkICsgdDEpIHwgMDtcbiAgICAgICAgICAgIGQgPSBjO1xuICAgICAgICAgICAgYyA9IGI7XG4gICAgICAgICAgICBiID0gYTtcbiAgICAgICAgICAgIGEgPSAodDEgKyB0MikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHZbMF0gKz0gYTtcbiAgICAgICAgdlsxXSArPSBiO1xuICAgICAgICB2WzJdICs9IGM7XG4gICAgICAgIHZbM10gKz0gZDtcbiAgICAgICAgdls0XSArPSBlO1xuICAgICAgICB2WzVdICs9IGY7XG4gICAgICAgIHZbNl0gKz0gZztcbiAgICAgICAgdls3XSArPSBoO1xuICAgICAgICBwb3MgKz0gNjQ7XG4gICAgICAgIGxlbiAtPSA2NDtcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbi8vIEhhc2ggaW1wbGVtZW50cyBTSEEyNTYgaGFzaCBhbGdvcml0aG0uXG52YXIgSGFzaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIYXNoKCkge1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IGV4cG9ydHMuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGV4cG9ydHMuYmxvY2tTaXplO1xuICAgICAgICAvLyBOb3RlOiBJbnQzMkFycmF5IGlzIHVzZWQgaW5zdGVhZCBvZiBVaW50MzJBcnJheSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBJbnQzMkFycmF5KDgpOyAvLyBoYXNoIHN0YXRlXG4gICAgICAgIHRoaXMudGVtcCA9IG5ldyBJbnQzMkFycmF5KDY0KTsgLy8gdGVtcG9yYXJ5IHN0YXRlXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTI4KTsgLy8gYnVmZmVyIGZvciBkYXRhIHRvIGhhc2hcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwOyAvLyBudW1iZXIgb2YgYnl0ZXMgaW4gYnVmZmVyXG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwOyAvLyBudW1iZXIgb2YgdG90YWwgYnl0ZXMgaGFzaGVkXG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhhc2ggd2FzIGZpbmFsaXplZFxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8vIFJlc2V0cyBoYXNoIHN0YXRlIG1ha2luZyBpdCBwb3NzaWJsZVxuICAgIC8vIHRvIHJlLXVzZSB0aGlzIGluc3RhbmNlIHRvIGhhc2ggb3RoZXIgZGF0YS5cbiAgICBIYXNoLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZVswXSA9IDB4NmEwOWU2Njc7XG4gICAgICAgIHRoaXMuc3RhdGVbMV0gPSAweGJiNjdhZTg1O1xuICAgICAgICB0aGlzLnN0YXRlWzJdID0gMHgzYzZlZjM3MjtcbiAgICAgICAgdGhpcy5zdGF0ZVszXSA9IDB4YTU0ZmY1M2E7XG4gICAgICAgIHRoaXMuc3RhdGVbNF0gPSAweDUxMGU1MjdmO1xuICAgICAgICB0aGlzLnN0YXRlWzVdID0gMHg5YjA1Njg4YztcbiAgICAgICAgdGhpcy5zdGF0ZVs2XSA9IDB4MWY4M2Q5YWI7XG4gICAgICAgIHRoaXMuc3RhdGVbN10gPSAweDViZTBjZDE5O1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSAwO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gQ2xlYW5zIGludGVybmFsIGJ1ZmZlcnMgYW5kIHJlLWluaXRpYWxpemVzIGhhc2ggc3RhdGUuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGVtcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50ZW1wW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIGhhc2ggc3RhdGUgd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICAvL1xuICAgIC8vIE9wdGlvbmFsbHksIGxlbmd0aCBvZiB0aGUgZGF0YSBjYW4gYmUgc3BlY2lmaWVkIHRvIGhhc2hcbiAgICAvLyBmZXdlciBieXRlcyB0aGFuIGRhdGEubGVuZ3RoLlxuICAgIC8vXG4gICAgLy8gVGhyb3dzIGVycm9yIHdoZW4gdHJ5aW5nIHRvIHVwZGF0ZSBhbHJlYWR5IGZpbmFsaXplZCBoYXNoOlxuICAgIC8vIGluc3RhbmNlIG11c3QgYmUgcmVzZXQgdG8gdXNlIGl0IGFnYWluLlxuICAgIEhhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBkYXRhTGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID09PSB2b2lkIDApIHsgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoOyB9XG4gICAgICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTSEEyNTY6IGNhbid0IHVwZGF0ZSBiZWNhdXNlIGhhc2ggd2FzIGZpbmlzaGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YVBvcyA9IDA7XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gZGF0YUxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuYnVmZmVyTGVuZ3RoIDwgNjQgJiYgZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXSA9IGRhdGFbZGF0YVBvcysrXTtcbiAgICAgICAgICAgICAgICBkYXRhTGVuZ3RoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPT09IDY0KSB7XG4gICAgICAgICAgICAgICAgaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIHRoaXMuYnVmZmVyLCAwLCA2NCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhTGVuZ3RoID49IDY0KSB7XG4gICAgICAgICAgICBkYXRhUG9zID0gaGFzaEJsb2Nrcyh0aGlzLnRlbXAsIHRoaXMuc3RhdGUsIGRhdGEsIGRhdGFQb3MsIGRhdGFMZW5ndGgpO1xuICAgICAgICAgICAgZGF0YUxlbmd0aCAlPSA2NDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtkYXRhUG9zKytdO1xuICAgICAgICAgICAgZGF0YUxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gRmluYWxpemVzIGhhc2ggc3RhdGUgYW5kIHB1dHMgaGFzaCBpbnRvIG91dC5cbiAgICAvL1xuICAgIC8vIElmIGhhc2ggd2FzIGFscmVhZHkgZmluYWxpemVkLCBwdXRzIHRoZSBzYW1lIHZhbHVlLlxuICAgIEhhc2gucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZXNIYXNoZWQgPSB0aGlzLmJ5dGVzSGFzaGVkO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSB0aGlzLmJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5IaSA9IChieXRlc0hhc2hlZCAvIDB4MjAwMDAwMDApIHwgMDtcbiAgICAgICAgICAgIHZhciBiaXRMZW5MbyA9IGJ5dGVzSGFzaGVkIDw8IDM7XG4gICAgICAgICAgICB2YXIgcGFkTGVuZ3RoID0gKGJ5dGVzSGFzaGVkICUgNjQgPCA1NikgPyA2NCA6IDEyODtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2xlZnRdID0gMHg4MDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsZWZ0ICsgMTsgaSA8IHBhZExlbmd0aCAtIDg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDhdID0gKGJpdExlbkhpID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gN10gPSAoYml0TGVuSGkgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSA2XSA9IChiaXRMZW5IaSA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gNV0gPSAoYml0TGVuSGkgPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW3BhZExlbmd0aCAtIDRdID0gKGJpdExlbkxvID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gM10gPSAoYml0TGVuTG8gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltwYWRMZW5ndGggLSAyXSA9IChiaXRMZW5MbyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbcGFkTGVuZ3RoIC0gMV0gPSAoYml0TGVuTG8gPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIGhhc2hCbG9ja3ModGhpcy50ZW1wLCB0aGlzLnN0YXRlLCB0aGlzLmJ1ZmZlciwgMCwgcGFkTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaSAqIDQgKyAwXSA9ICh0aGlzLnN0YXRlW2ldID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgICAgb3V0W2kgKiA0ICsgMV0gPSAodGhpcy5zdGF0ZVtpXSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDJdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIG91dFtpICogNCArIDNdID0gKHRoaXMuc3RhdGVbaV0gPj4+IDApICYgMHhmZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFJldHVybnMgdGhlIGZpbmFsIGhhc2ggZGlnZXN0LlxuICAgIEhhc2gucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGlnZXN0TGVuZ3RoKTtcbiAgICAgICAgdGhpcy5maW5pc2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uIGZvciB1c2UgaW4gSE1BQyBmb3Igb3B0aW1pemF0aW9uLlxuICAgIEhhc2gucHJvdG90eXBlLl9zYXZlU3RhdGUgPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gdGhpcy5zdGF0ZVtpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIHVzZSBpbiBITUFDIGZvciBvcHRpbWl6YXRpb24uXG4gICAgSGFzaC5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZSA9IGZ1bmN0aW9uIChmcm9tLCBieXRlc0hhc2hlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnl0ZXNIYXNoZWQgPSBieXRlc0hhc2hlZDtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gSGFzaDtcbn0oKSk7XG5leHBvcnRzLkhhc2ggPSBIYXNoO1xuLy8gSE1BQyBpbXBsZW1lbnRzIEhNQUMtU0hBMjU2IG1lc3NhZ2UgYXV0aGVudGljYXRpb24gYWxnb3JpdGhtLlxudmFyIEhNQUMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSE1BQyhrZXkpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBIYXNoKCk7XG4gICAgICAgIHRoaXMub3V0ZXIgPSBuZXcgSGFzaCgpO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IHRoaXMuaW5uZXIuYmxvY2tTaXplO1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IHRoaXMuaW5uZXIuZGlnZXN0TGVuZ3RoO1xuICAgICAgICB2YXIgcGFkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja1NpemUpO1xuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICAobmV3IEhhc2goKSkudXBkYXRlKGtleSkuZmluaXNoKHBhZCkuY2xlYW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFkW2ldID0ga2V5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWRbaV0gXj0gMHgzNjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShwYWQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFkW2ldIF49IDB4MzYgXiAweDVjO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKHBhZCk7XG4gICAgICAgIHRoaXMuaXN0YXRlID0gbmV3IFVpbnQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLm9zdGF0ZSA9IG5ldyBVaW50MzJBcnJheSg4KTtcbiAgICAgICAgdGhpcy5pbm5lci5fc2F2ZVN0YXRlKHRoaXMuaXN0YXRlKTtcbiAgICAgICAgdGhpcy5vdXRlci5fc2F2ZVN0YXRlKHRoaXMub3N0YXRlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZFtpXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJucyBITUFDIHN0YXRlIHRvIHRoZSBzdGF0ZSBpbml0aWFsaXplZCB3aXRoIGtleVxuICAgIC8vIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcnVuIEhNQUMgb3ZlciB0aGUgb3RoZXIgZGF0YSB3aXRoIHRoZSBzYW1lXG4gICAgLy8ga2V5IHdpdGhvdXQgY3JlYXRpbmcgYSBuZXcgaW5zdGFuY2UuXG4gICAgSE1BQy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuX3Jlc3RvcmVTdGF0ZSh0aGlzLmlzdGF0ZSwgdGhpcy5pbm5lci5ibG9ja1NpemUpO1xuICAgICAgICB0aGlzLm91dGVyLl9yZXN0b3JlU3RhdGUodGhpcy5vc3RhdGUsIHRoaXMub3V0ZXIuYmxvY2tTaXplKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBDbGVhbnMgSE1BQyBzdGF0ZS5cbiAgICBITUFDLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmlzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5vc3RhdGVbaV0gPSB0aGlzLmlzdGF0ZVtpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lci5jbGVhbigpO1xuICAgICAgICB0aGlzLm91dGVyLmNsZWFuKCk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGVzIHN0YXRlIHdpdGggcHJvdmlkZWQgZGF0YS5cbiAgICBITUFDLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmlubmVyLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBGaW5hbGl6ZXMgSE1BQyBhbmQgcHV0cyB0aGUgcmVzdWx0IGluIG91dC5cbiAgICBITUFDLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dGVyLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5maW5pc2gob3V0KTtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIudXBkYXRlKG91dCwgdGhpcy5kaWdlc3RMZW5ndGgpLmZpbmlzaChvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGNvZGUuXG4gICAgSE1BQy5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgICB0aGlzLmZpbmlzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEhNQUM7XG59KCkpO1xuZXhwb3J0cy5ITUFDID0gSE1BQztcbi8vIFJldHVybnMgU0hBMjU2IGhhc2ggb2YgZGF0YS5cbmZ1bmN0aW9uIGhhc2goZGF0YSkge1xuICAgIHZhciBoID0gKG5ldyBIYXNoKCkpLnVwZGF0ZShkYXRhKTtcbiAgICB2YXIgZGlnZXN0ID0gaC5kaWdlc3QoKTtcbiAgICBoLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRpZ2VzdDtcbn1cbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG4vLyBGdW5jdGlvbiBoYXNoIGlzIGJvdGggYXZhaWxhYmxlIGFzIG1vZHVsZS5oYXNoIGFuZCBhcyBkZWZhdWx0IGV4cG9ydC5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaGFzaDtcbi8vIFJldHVybnMgSE1BQy1TSEEyNTYgb2YgZGF0YSB1bmRlciB0aGUga2V5LlxuZnVuY3Rpb24gaG1hYyhrZXksIGRhdGEpIHtcbiAgICB2YXIgaCA9IChuZXcgSE1BQyhrZXkpKS51cGRhdGUoZGF0YSk7XG4gICAgdmFyIGRpZ2VzdCA9IGguZGlnZXN0KCk7XG4gICAgaC5jbGVhbigpO1xuICAgIHJldHVybiBkaWdlc3Q7XG59XG5leHBvcnRzLmhtYWMgPSBobWFjO1xuLy8gRmlsbHMgaGtkZiBidWZmZXIgbGlrZSB0aGlzOlxuLy8gVCgxKSA9IEhNQUMtSGFzaChQUkssIFQoMCkgfCBpbmZvIHwgMHgwMSlcbmZ1bmN0aW9uIGZpbGxCdWZmZXIoYnVmZmVyLCBobWFjLCBpbmZvLCBjb3VudGVyKSB7XG4gICAgLy8gQ291bnRlciBpcyBhIGJ5dGUgdmFsdWU6IGNoZWNrIGlmIGl0IG92ZXJmbG93ZWQuXG4gICAgdmFyIG51bSA9IGNvdW50ZXJbMF07XG4gICAgaWYgKG51bSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoa2RmOiBjYW5ub3QgZXhwYW5kIG1vcmVcIik7XG4gICAgfVxuICAgIC8vIFByZXBhcmUgSE1BQyBpbnN0YW5jZSBmb3IgbmV3IGRhdGEgd2l0aCBvbGQga2V5LlxuICAgIGhtYWMucmVzZXQoKTtcbiAgICAvLyBIYXNoIGluIHByZXZpb3VzIG91dHB1dCBpZiBpdCB3YXMgZ2VuZXJhdGVkXG4gICAgLy8gKGkuZS4gY291bnRlciBpcyBncmVhdGVyIHRoYW4gMSkuXG4gICAgaWYgKG51bSA+IDEpIHtcbiAgICAgICAgaG1hYy51cGRhdGUoYnVmZmVyKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiBpbmZvIGlmIGl0IGV4aXN0cy5cbiAgICBpZiAoaW5mbykge1xuICAgICAgICBobWFjLnVwZGF0ZShpbmZvKTtcbiAgICB9XG4gICAgLy8gSGFzaCBpbiB0aGUgY291bnRlci5cbiAgICBobWFjLnVwZGF0ZShjb3VudGVyKTtcbiAgICAvLyBPdXRwdXQgcmVzdWx0IHRvIGJ1ZmZlciBhbmQgY2xlYW4gSE1BQyBpbnN0YW5jZS5cbiAgICBobWFjLmZpbmlzaChidWZmZXIpO1xuICAgIC8vIEluY3JlbWVudCBjb3VudGVyIGluc2lkZSB0eXBlZCBhcnJheSwgdGhpcyB3b3JrcyBwcm9wZXJseS5cbiAgICBjb3VudGVyWzBdKys7XG59XG52YXIgaGtkZlNhbHQgPSBuZXcgVWludDhBcnJheShleHBvcnRzLmRpZ2VzdExlbmd0aCk7IC8vIEZpbGxlZCB3aXRoIHplcm9lcy5cbmZ1bmN0aW9uIGhrZGYoa2V5LCBzYWx0LCBpbmZvLCBsZW5ndGgpIHtcbiAgICBpZiAoc2FsdCA9PT0gdm9pZCAwKSB7IHNhbHQgPSBoa2RmU2FsdDsgfVxuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSAzMjsgfVxuICAgIHZhciBjb3VudGVyID0gbmV3IFVpbnQ4QXJyYXkoWzFdKTtcbiAgICAvLyBIS0RGLUV4dHJhY3QgdXNlcyBzYWx0IGFzIEhNQUMga2V5LCBhbmQga2V5IGFzIGRhdGEuXG4gICAgdmFyIG9rbSA9IGhtYWMoc2FsdCwga2V5KTtcbiAgICAvLyBJbml0aWFsaXplIEhNQUMgZm9yIGV4cGFuZGluZyB3aXRoIGV4dHJhY3RlZCBrZXkuXG4gICAgLy8gRW5zdXJlIG5vIGNvbGxpc2lvbnMgd2l0aCBgaG1hY2AgZnVuY3Rpb24uXG4gICAgdmFyIGhtYWNfID0gbmV3IEhNQUMob2ttKTtcbiAgICAvLyBBbGxvY2F0ZSBidWZmZXIuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGhtYWNfLmRpZ2VzdExlbmd0aCk7XG4gICAgdmFyIGJ1ZnBvcyA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYnVmcG9zID09PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBmaWxsQnVmZmVyKGJ1ZmZlciwgaG1hY18sIGluZm8sIGNvdW50ZXIpO1xuICAgICAgICAgICAgYnVmcG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBvdXRbaV0gPSBidWZmZXJbYnVmcG9zKytdO1xuICAgIH1cbiAgICBobWFjXy5jbGVhbigpO1xuICAgIGJ1ZmZlci5maWxsKDApO1xuICAgIGNvdW50ZXIuZmlsbCgwKTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5oa2RmID0gaGtkZjtcbi8vIERlcml2ZXMgYSBrZXkgZnJvbSBwYXNzd29yZCBhbmQgc2FsdCB1c2luZyBQQktERjItSE1BQy1TSEEyNTZcbi8vIHdpdGggdGhlIGdpdmVuIG51bWJlciBvZiBpdGVyYXRpb25zLlxuLy9cbi8vIFRoZSBudW1iZXIgb2YgYnl0ZXMgcmV0dXJuZWQgaXMgZXF1YWwgdG8gZGtMZW4uXG4vL1xuLy8gKEZvciBiZXR0ZXIgc2VjdXJpdHksIGF2b2lkIGRrTGVuIGdyZWF0ZXIgdGhhbiBoYXNoIGxlbmd0aCAtIDMyIGJ5dGVzKS5cbmZ1bmN0aW9uIHBia2RmMihwYXNzd29yZCwgc2FsdCwgaXRlcmF0aW9ucywgZGtMZW4pIHtcbiAgICB2YXIgcHJmID0gbmV3IEhNQUMocGFzc3dvcmQpO1xuICAgIHZhciBsZW4gPSBwcmYuZGlnZXN0TGVuZ3RoO1xuICAgIHZhciBjdHIgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICB2YXIgdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgdmFyIHUgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIHZhciBkayA9IG5ldyBVaW50OEFycmF5KGRrTGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSAqIGxlbiA8IGRrTGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBpICsgMTtcbiAgICAgICAgY3RyWzBdID0gKGMgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIGN0clsxXSA9IChjID4+PiAxNikgJiAweGZmO1xuICAgICAgICBjdHJbMl0gPSAoYyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICBjdHJbM10gPSAoYyA+Pj4gMCkgJiAweGZmO1xuICAgICAgICBwcmYucmVzZXQoKTtcbiAgICAgICAgcHJmLnVwZGF0ZShzYWx0KTtcbiAgICAgICAgcHJmLnVwZGF0ZShjdHIpO1xuICAgICAgICBwcmYuZmluaXNoKHUpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICB0W2pdID0gdVtqXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA8PSBpdGVyYXRpb25zOyBqKyspIHtcbiAgICAgICAgICAgIHByZi5yZXNldCgpO1xuICAgICAgICAgICAgcHJmLnVwZGF0ZSh1KS5maW5pc2godSk7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgICAgICAgICAgdFtrXSBePSB1W2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuICYmIGkgKiBsZW4gKyBqIDwgZGtMZW47IGorKykge1xuICAgICAgICAgICAgZGtbaSAqIGxlbiArIGpdID0gdFtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRbaV0gPSB1W2ldID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgY3RyW2ldID0gMDtcbiAgICB9XG4gICAgcHJmLmNsZWFuKCk7XG4gICAgcmV0dXJuIGRrO1xufVxuZXhwb3J0cy5wYmtkZjIgPSBwYmtkZjI7XG59KTtcbiIsImltcG9ydCB7V2ViUmVuZGVyZXJ9IGZyb20gJy4vV2ViUmVuZGVyZXInXG5pbXBvcnQgXCJmYXN0LXRleHQtZW5jb2RpbmdcIlxuaW1wb3J0IHtcbiAgYWRkQ1NTUnVsZSxcbiAgdHJhdmVyc2VDaGlsZEVsZW1lbnRzLFxuICBnZXRCb3VuZHMsXG4gIGdldFBhZGRpbmcsXG4gIGdldE1hcmdpbixcbiAgZ2V0Qm9yZGVyLFxuICBCb3VuZHMsXG4gIEVkZ2VzXG59IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTFJVTWFwIH0gZnJvbSAnbHJ1X21hcCdcbmltcG9ydCAqIGFzIHNoYTI1NiBmcm9tICdmYXN0LXNoYTI1NidcblxuZXhwb3J0IHR5cGUgRXZlbnRDYWxsYmFjayA9IChcbiAgZXZlbnQ6XG4gICAgfCAnbGF5ZXJwYWludGVkJ1xuICAgIHwgJ2xheWVycmVzaXplZCdcbiAgICB8ICdsYXllcmNyZWF0ZWQnXG4gICAgfCAnbGF5ZXJtb3ZlZCdcbiAgICB8ICdyZW1vdmFscmVxdWlyZWQnXG4gICAgfCAnaW5wdXRyZXF1aXJlZCcsXG4gIGRhdGE6IHsgdGFyZ2V0OiBFbGVtZW50IH1cbikgPT4gdm9pZFxuXG5leHBvcnQgY2xhc3MgV2ViTGF5ZXIge1xuICBzdGF0aWMgREVGQVVMVF9DQUNIRV9TSVpFID0gNFxuICBwcml2YXRlIHN0YXRpYyBibGFua1JldHJ5Q291bnRzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcFxuICBwcml2YXRlIHN0YXRpYyBjYW52YXNIYXNoZXM6IExSVU1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTFJVTWFwKDEwMDApXG4gIHByaXZhdGUgc3RhdGljIGNhY2hlZENhbnZhc2VzOiBMUlVNYXA8c3RyaW5nLCBIVE1MQ2FudmFzRWxlbWVudD4gPSBuZXcgTFJVTWFwKFdlYkxheWVyLkRFRkFVTFRfQ0FDSEVfU0laRSlcblxuICBpZDpzdHJpbmdcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudDogRWxlbWVudCwgcHVibGljIGV2ZW50Q2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spIHtcbiAgICBXZWJSZW5kZXJlci5sYXllcnMuc2V0KGVsZW1lbnQsIHRoaXMpXG4gICAgdGhpcy5pZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSkgfHwgIFdlYlJlbmRlcmVyLmdlbmVyYXRlRWxlbWVudFVJRCgpXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFLCB0aGlzLmlkKVxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURSwnJylcbiAgICB0aGlzLnBhcmVudExheWVyID0gV2ViUmVuZGVyZXIuZ2V0Q2xvc2VzdExheWVyKHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgIHRoaXMuZXZlbnRDYWxsYmFjaygnbGF5ZXJjcmVhdGVkJywgeyB0YXJnZXQ6IGVsZW1lbnQgfSlcbiAgICBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5saW1pdCA9IFdlYlJlbmRlcmVyLmxheWVycy5zaXplICogV2ViTGF5ZXIuREVGQVVMVF9DQUNIRV9TSVpFXG4gICAgdGhpcy5faGFzaGluZ0NhbnZhcy53aWR0aCA9IDIwXG4gICAgdGhpcy5faGFzaGluZ0NhbnZhcy5oZWlnaHQgPSAyMFxuICB9XG5cbiAgbmVlZHNSZWZyZXNoID0gdHJ1ZVxuICBuZWVkc1JlbW92YWwgPSBmYWxzZVxuXG4gIHBzdWVkb1N0YXRlcyA9IHtcbiAgICBob3ZlcjogZmFsc2UsXG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBmb2N1czogZmFsc2UsXG4gICAgdGFyZ2V0OiBmYWxzZVxuICB9XG5cbiAgc3ZnSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKVxuICBib3VuZHMgPSBuZXcgQm91bmRzKClcbiAgLy8gcHJpdmF0ZSBfcHJldmlvdXNCb3VuZHMgPSBuZXcgQm91bmRzKClcblxuICBwcml2YXRlIHBhZGRpbmcgPSBuZXcgRWRnZXMoKVxuICBwcml2YXRlIG1hcmdpbiA9IG5ldyBFZGdlcygpXG4gIHByaXZhdGUgYm9yZGVyID0gbmV3IEVkZ2VzKClcbiAgcGFyZW50TGF5ZXI/OiBXZWJMYXllclxuICBjaGlsZExheWVycyA9IFtdIGFzIFdlYkxheWVyW11cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuXG4vLyAgIGNzc1RyYW5zZm9ybSA9IG5ldyBNYXRyaXg0KClcblxuICBjYWNoZWRCb3VuZHM6IE1hcDxzdHJpbmcsIEJvdW5kcz4gPSBuZXcgTWFwKClcbiAgY2FjaGVkTWFyZ2luOiBNYXA8c3RyaW5nLCBFZGdlcz4gPSBuZXcgTWFwKClcblxuICBwcml2YXRlIF9keW5hbWljQXR0cmlidXRlcyA9ICcnXG4gIHByaXZhdGUgX3N2Z0RvY3VtZW50ID0gJydcbiAgcHJpdmF0ZSBfcmFzdGVyaXppbmdEb2N1bWVudCA9ICcnXG4gIHByaXZhdGUgX3N2Z1NyYyA9ICcnXG4gIHByaXZhdGUgX2hhc2hpbmdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuXG4gIF9jYW52YXMhOiBIVE1MQ2FudmFzRWxlbWVudFxuXG4gIHNldCBjYW52YXModmFsOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9jYW52YXMgIT09IHZhbCkge1xuICAgICAgdGhpcy5fY2FudmFzID0gdmFsXG4gICAgICBpZiAodGhpcy5ldmVudENhbGxiYWNrKSB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVycGFpbnRlZCcsIHsgdGFyZ2V0OiB0aGlzLmVsZW1lbnQgfSlcbiAgICB9XG4gIH1cblxuICBnZXQgY2FudmFzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYW52YXNcbiAgfVxuXG4gIGdldCBkZXB0aCgpIHtcbiAgICBsZXQgZGVwdGggPSAwXG4gICAgbGV0IGxheWVyID0gdGhpcyBhcyBXZWJMYXllclxuICAgIHdoaWxlIChsYXllci5wYXJlbnRMYXllcikge1xuICAgICAgbGF5ZXIgPSBsYXllci5wYXJlbnRMYXllclxuICAgICAgZGVwdGgrK1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGhcbiAgfVxuXG4gIGdldCByb290TGF5ZXIoKSB7XG4gICAgbGV0IHJvb3RMYXllciA9IHRoaXMgYXMgV2ViTGF5ZXJcbiAgICB3aGlsZSAocm9vdExheWVyLnBhcmVudExheWVyKSByb290TGF5ZXIgPSByb290TGF5ZXIucGFyZW50TGF5ZXJcbiAgICByZXR1cm4gcm9vdExheWVyXG4gIH1cblxuICB0cmF2ZXJzZVBhcmVudExheWVycyhcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyKSA9PiB2b2lkXG4gICkge1xuICAgIGNvbnN0IHBhcmVudExheWVyID0gdGhpcy5wYXJlbnRMYXllclxuICAgIGlmIChwYXJlbnRMYXllcikge1xuICAgICAgcGFyZW50TGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoZWFjaClcbiAgICAgIGVhY2gocGFyZW50TGF5ZXIpXG4gICAgfVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnMoZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZCkge1xuICAgIGVhY2godGhpcylcbiAgICB0aGlzLnRyYXZlcnNlQ2hpbGRMYXllcnMoZWFjaClcbiAgfVxuXG4gIHRyYXZlcnNlQ2hpbGRMYXllcnMoXG4gICAgZWFjaDogKGxheWVyOiBXZWJMYXllcikgPT4gdm9pZFxuICApIHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRMYXllcnMpIHtcbiAgICAgIGNoaWxkLnRyYXZlcnNlTGF5ZXJzKGVhY2gpXG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICBnZXRCb3VuZHModGhpcy5lbGVtZW50LCB0aGlzLmJvdW5kcywgdGhpcy5wYXJlbnRMYXllciAmJiB0aGlzLnBhcmVudExheWVyLmVsZW1lbnQpXG4gICAgdGhpcy5uZWVkc1JlZnJlc2ggPSBmYWxzZVxuICAgIHRoaXMuX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzKClcbiAgICBXZWJSZW5kZXJlci5hZGRUb1NlcmlhbGl6ZVF1ZXVlKHRoaXMpXG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVQYXJlbnRBbmRDaGlsZExheWVycygpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50XG4gICAgY29uc3QgY2hpbGRMYXllcnMgPSB0aGlzLmNoaWxkTGF5ZXJzXG4gICAgY29uc3Qgb2xkQ2hpbGRMYXllcnMgPSBjaGlsZExheWVycy5zbGljZSgpXG5cbiAgICBjb25zdCBwcmV2aW91c1BhcmVudExheWVyID0gdGhpcy5wYXJlbnRMYXllclxuICAgIHRoaXMucGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIodGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgaWYgKHByZXZpb3VzUGFyZW50TGF5ZXIgIT09IHRoaXMucGFyZW50TGF5ZXIpIHtcbiAgICAgIHRoaXMucGFyZW50TGF5ZXIgJiYgdGhpcy5wYXJlbnRMYXllci5jaGlsZExheWVycy5wdXNoKHRoaXMpXG4gICAgICB0aGlzLmV2ZW50Q2FsbGJhY2soJ2xheWVybW92ZWQnLCB7IHRhcmdldDogZWxlbWVudCB9KVxuICAgIH1cblxuICAgIGNoaWxkTGF5ZXJzLmxlbmd0aCA9IDBcbiAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMoZWxlbWVudCwgdGhpcy5fdHJ5Q29udmVydEVsZW1lbnRUb1dlYkxheWVyLCB0aGlzKVxuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBvbGRDaGlsZExheWVycykge1xuICAgICAgY29uc3QgcGFyZW50TGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoY2hpbGQuZWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgICAgaWYgKCFwYXJlbnRMYXllcikge1xuICAgICAgICBjaGlsZC5uZWVkc1JlbW92YWwgPSB0cnVlXG4gICAgICAgIGNoaWxkTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfdHJ5Q29udmVydEVsZW1lbnRUb1dlYkxheWVyKG46IE5vZGUpIHtcbiAgICBpZiAodGhpcy5uZWVkc1JlbW92YWwpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IGVsID0gbiBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWwpXG4gICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFKVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLkVMRU1FTlRfVUlEX0FUVFJJQlVURSwgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbGVtZW50VUlEKCkpXG4gICAgfVxuICAgIGNvbnN0IGlzTGF5ZXIgPSBlbC5oYXNBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFKVxuICAgIGlmIChpc0xheWVyIHx8IGVsLm5vZGVOYW1lID09PSAnVklERU8nIHx8IHN0eWxlcy50cmFuc2Zvcm0gIT09ICdub25lJykge1xuICAgICAgbGV0IGNoaWxkID0gV2ViUmVuZGVyZXIubGF5ZXJzLmdldChlbClcbiAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgY2hpbGQgPSBuZXcgV2ViTGF5ZXIoZWwsIHRoaXMuZXZlbnRDYWxsYmFjaylcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hpbGRMYXllcnMucHVzaChjaGlsZClcbiAgICAgIHJldHVybiBmYWxzZSAvLyBzdG9wIHRyYXZlcnNpbmcgdGhpcyBzdWJ0cmVlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyBzZXJpYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1ZJREVPJykgcmV0dXJuXG5cbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmJvdW5kc1xuXG4gICAgaWYgKHdpZHRoICogaGVpZ2h0ID4gMCkge1xuICAgICAgZ2V0UGFkZGluZyh0aGlzLmVsZW1lbnQsIHRoaXMucGFkZGluZylcbiAgICAgIGdldE1hcmdpbih0aGlzLmVsZW1lbnQsIHRoaXMubWFyZ2luKVxuICAgICAgZ2V0Qm9yZGVyKHRoaXMuZWxlbWVudCwgdGhpcy5ib3JkZXIpXG4gICAgICAvLyBhZGQgbWFyZ2lucyBhbmQgYm9yZGVyXG4gICAgICB3aWR0aCArPSBNYXRoLm1heCh0aGlzLm1hcmdpbi5sZWZ0LCAwKSArIE1hdGgubWF4KHRoaXMubWFyZ2luLnJpZ2h0LCAwKS8vICsgMC41XG4gICAgICBoZWlnaHQgKz0gTWF0aC5tYXgodGhpcy5tYXJnaW4udG9wLCAwKSArIE1hdGgubWF4KHRoaXMubWFyZ2luLmJvdHRvbSwgMClcbiAgICAgIC8vIHdpZHRoICs9IE1hdGgubWF4KHRoaXMuYm9yZGVyLmxlZnQsMCkgKyBNYXRoLm1heCh0aGlzLmJvcmRlci5yaWdodCwwKVxuICAgICAgLy8gaGVpZ2h0ICs9IE1hdGgubWF4KHRoaXMuYm9yZGVyLnRvcCwwKSArIE1hdGgubWF4KHRoaXMuYm9yZGVyLmJvdHRvbSwwKVxuXG4gICAgICAvLyBjcmVhdGUgc3ZnIG1hcmt1cFxuICAgICAgY29uc3QgZWxlbWVudEF0dHJpYnV0ZSA9IFdlYlJlbmRlcmVyLmF0dHJpYnV0ZUhUTUwoV2ViUmVuZGVyZXIuRUxFTUVOVF9VSURfQVRUUklCVVRFLCcnK3RoaXMuaWQpXG4gICAgICBjb25zdCBsYXllckVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IG5lZWRzSW5saW5lQmxvY2sgPSBnZXRDb21wdXRlZFN0eWxlKGxheWVyRWxlbWVudCkuZGlzcGxheSA9PT0gJ2lubGluZSdcbiAgICAgIFdlYlJlbmRlcmVyLnVwZGF0ZUlucHV0QXR0cmlidXRlcyhsYXllckVsZW1lbnQpXG4gICAgICBjb25zdCBsYXllckhUTUwgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVyXG4gICAgICAgIC5zZXJpYWxpemVUb1N0cmluZyhsYXllckVsZW1lbnQpXG4gICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgIGVsZW1lbnRBdHRyaWJ1dGUsXG4gICAgICAgICAgICBgJHtlbGVtZW50QXR0cmlidXRlfSAke1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9PVwiXCIgYCArXG4gICAgICAgICAgICBgJHtuZWVkc0lubGluZUJsb2NrID8gYCR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ30gYCArXG4gICAgICAgICAgICBXZWJSZW5kZXJlci5nZXRQc3VlZG9BdHRyaWJ1dGVzKHRoaXMucHN1ZWRvU3RhdGVzKVxuICAgICAgICApXG4gICAgICBjb25zdCBwYXJlbnRzSFRNTCA9IHRoaXMuX2dldFBhcmVudHNIVE1MKGxheWVyRWxlbWVudClcbiAgICAgIHBhcmVudHNIVE1MWzBdID0gcGFyZW50c0hUTUxbMF0ucmVwbGFjZShcbiAgICAgICAgJ2h0bWwnLFxuICAgICAgICAnaHRtbCAnICsgV2ViUmVuZGVyZXIuUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSArICc9XCJcIiAnXG4gICAgICApXG5cbiAgICAgIGNvbnN0IFtzdmdDU1NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBXZWJSZW5kZXJlci5nZXRFbWJlZGRlZENTUyh0aGlzLmVsZW1lbnQpLFxuICAgICAgICBXZWJSZW5kZXJlci5lbWJlZEV4dGVybmFsUmVzb3VyY2VzKHRoaXMuZWxlbWVudClcbiAgICAgIF0pXG4gICAgICBjb25zdCBkb2NTdHJpbmcgPVxuICAgICAgICAnPHN2ZyB3aWR0aD1cIicgK1xuICAgICAgICB3aWR0aCArXG4gICAgICAgICdcIiBoZWlnaHQ9XCInICtcbiAgICAgICAgaGVpZ2h0ICtcbiAgICAgICAgJ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZGVmcz48c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+PCFbQ0RBVEFbYVtocmVmXXtjb2xvcjojMDAwMEVFO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7fScgK1xuICAgICAgICBzdmdDU1Muam9pbignJykgK1xuICAgICAgICAnXV0+PC9zdHlsZT48L2RlZnM+PGZvcmVpZ25PYmplY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiJyArXG4gICAgICAgIHdpZHRoICtcbiAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xuICAgICAgICBoZWlnaHQgK1xuICAgICAgICAnXCI+JyArXG4gICAgICAgIHBhcmVudHNIVE1MWzBdICtcbiAgICAgICAgbGF5ZXJIVE1MICtcbiAgICAgICAgcGFyZW50c0hUTUxbMV0gK1xuICAgICAgICAnPC9mb3JlaWduT2JqZWN0Pjwvc3ZnPidcbiAgICAgIGNvbnN0IHN2Z0RvYyA9IHRoaXMuX3N2Z0RvY3VtZW50ID0gZG9jU3RyaW5nXG4gICAgICAvLyBjb25zdCBzdmdTcmMgPSAodGhpcy5fc3ZnU3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCcgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jU3RyaW5nKSlcblxuICAgICAgLy8gY2hlY2sgZm9yIGV4aXN0aW5nIGNhbnZhc1xuICAgICAgY29uc3QgY2FudmFzSGFzaCA9IFdlYkxheWVyLmNhbnZhc0hhc2hlcy5nZXQoc3ZnRG9jKVxuICAgICAgaWYgKGNhbnZhc0hhc2ggJiYgV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuaGFzKGNhbnZhc0hhc2gpKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuZ2V0KGNhbnZhc0hhc2gpIVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gcmFzdGVyaXplIHRoZSBzdmcgZG9jdW1lbnQgaWYgbm8gZXhpc3RpbmcgY2FudmFzIG1hdGNoZXNcbiAgICAgIHRoaXMuY2FjaGVkQm91bmRzLnNldChzdmdEb2MsIG5ldyBCb3VuZHMoKS5jb3B5KHRoaXMuYm91bmRzKSlcbiAgICAgIHRoaXMuY2FjaGVkTWFyZ2luLnNldChzdmdEb2MsIG5ldyBFZGdlcygpLmNvcHkodGhpcy5tYXJnaW4pKVxuICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SYXN0ZXJpemVRdWV1ZSh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJhc3Rlcml6ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnN2Z0ltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgV2ViUmVuZGVyZXIuYWRkVG9SZW5kZXJRdWV1ZSh0aGlzKVxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Jhc3Rlcml6aW5nRG9jdW1lbnQgPSB0aGlzLl9zdmdEb2N1bWVudFxuICAgICAgdGhpcy5zdmdJbWFnZS5zcmMgPSAodGhpcy5fc3ZnU3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCcgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5fc3ZnRG9jdW1lbnQpKVxuICAgICAgaWYgKHRoaXMuc3ZnSW1hZ2UuY29tcGxldGUgJiYgdGhpcy5zdmdJbWFnZS5jdXJyZW50U3JjID09PSB0aGlzLnN2Z0ltYWdlLnNyYykge1xuICAgICAgICBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpXG4gICAgICAgIHRoaXMuc3ZnSW1hZ2Uub25sb2FkID0gbnVsbFxuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHN2Z0RvYyA9IHRoaXMuX3Jhc3Rlcml6aW5nRG9jdW1lbnRcbiAgICAvLyBjb25zdCBzcmMgPSB0aGlzLnN2Z0ltYWdlLmN1cnJlbnRTcmNcbiAgICBpZiAoIXRoaXMuY2FjaGVkQm91bmRzLmhhcyhzdmdEb2MpIHx8ICF0aGlzLmNhY2hlZE1hcmdpbi5oYXMoc3ZnRG9jKSkge1xuICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0cnVlXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3ZnSW1hZ2UuY29tcGxldGUpIHtcbiAgICAgIFdlYlJlbmRlcmVyLmFkZFRvUmVuZGVyUXVldWUodGhpcylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuY2FjaGVkQm91bmRzLmdldChzdmdEb2MpIVxuICAgIGxldCB7IGxlZnQsIHRvcCB9ID0gdGhpcy5jYWNoZWRNYXJnaW4uZ2V0KHN2Z0RvYykhXG5cbiAgICBjb25zdCBoYXNoaW5nQ2FudmFzID0gdGhpcy5faGFzaGluZ0NhbnZhc1xuICAgIGxldCBodyA9IGhhc2hpbmdDYW52YXMud2lkdGhcbiAgICBsZXQgaGggPSBoYXNoaW5nQ2FudmFzLmhlaWdodFxuICAgIGNvbnN0IGhjdHggPSBoYXNoaW5nQ2FudmFzLmdldENvbnRleHQoJzJkJykhXG4gICAgaGN0eC5jbGVhclJlY3QoMCwgMCwgaHcsIGhoKVxuICAgIGhjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBoY3R4LmRyYXdJbWFnZSh0aGlzLnN2Z0ltYWdlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIDAsIDAsIGh3LCBoaClcbiAgICBjb25zdCBoYXNoRGF0YSA9IGhjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGh3LCBoaCkuZGF0YVxuICAgIGNvbnN0IG5ld0hhc2ggPVxuICAgICAgV2ViUmVuZGVyZXIuYXJyYXlCdWZmZXJUb0Jhc2U2NChzaGEyNTYuaGFzaChuZXcgVWludDhBcnJheShoYXNoRGF0YSkpKSArXG4gICAgICAnP3c9JyArXG4gICAgICB3aWR0aCArXG4gICAgICAnO2g9JyArXG4gICAgICBoZWlnaHRcbiAgICBXZWJMYXllci5jYW52YXNIYXNoZXMuc2V0KHN2Z0RvYywgbmV3SGFzaClcblxuICAgIGNvbnN0IGJsYW5rUmV0cnlDb3VudCA9IFdlYkxheWVyLmJsYW5rUmV0cnlDb3VudHMuZ2V0KHN2Z0RvYyl8fDBcbiAgICBpZiAoV2ViUmVuZGVyZXIuaXNCbGFua0ltYWdlKGhhc2hEYXRhKSAmJiBibGFua1JldHJ5Q291bnQgPCAxMCkge1xuICAgICAgV2ViTGF5ZXIuYmxhbmtSZXRyeUNvdW50cy5zZXQoc3ZnRG9jLGJsYW5rUmV0cnlDb3VudCsxKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiBXZWJSZW5kZXJlci5hZGRUb1JlbmRlclF1ZXVlKHRoaXMpLCA1MDApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoV2ViTGF5ZXIuY2FjaGVkQ2FudmFzZXMuaGFzKG5ld0hhc2gpKSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLmdldChuZXdIYXNoKSFcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBpeGVsUmF0aW8gPVxuICAgICAgdGhpcy5waXhlbFJhdGlvIHx8XG4gICAgICBwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoV2ViUmVuZGVyZXIuUElYRUxfUkFUSU9fQVRUUklCVVRFKSEpIHx8XG4gICAgICB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb1xuICAgIGNvbnN0IG5ld0NhbnZhcyA9XG4gICAgICBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5zaXplID09PSBXZWJMYXllci5jYWNoZWRDYW52YXNlcy5saW1pdFxuICAgICAgICA/IFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLnNoaWZ0KCkhWzFdXG4gICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICBsZXQgdyA9IChuZXdDYW52YXMud2lkdGggPSB3aWR0aCAqIHBpeGVsUmF0aW8pXG4gICAgbGV0IGggPSAobmV3Q2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHBpeGVsUmF0aW8pXG4gICAgY29uc3QgY3R4ID0gbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykhXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKVxuICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5zdmdJbWFnZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3LCBoKVxuICAgIFdlYkxheWVyLmNhY2hlZENhbnZhc2VzLnNldChuZXdIYXNoLCBuZXdDYW52YXMpXG4gICAgdGhpcy5jYW52YXMgPSBuZXdDYW52YXNcbiAgfVxuXG4gIC8vIEdldCBhbGwgcGFyZW50cyBvZiB0aGUgZW1iZWRlZCBodG1sIGFzIHRoZXNlIGNhbiBlZmZlY3QgdGhlIHJlc3VsdGluZyBzdHlsZXNcbiAgcHJpdmF0ZSBfZ2V0UGFyZW50c0hUTUwoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGNvbnN0IG9wZW5zID0gW11cbiAgICBjb25zdCBjbG9zZXMgPSBbXVxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQhXG4gICAgaWYgKCFwYXJlbnQpIHBhcmVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgIGRvIHtcbiAgICAgIGxldCB0YWcgPSBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICBsZXQgYXR0cmlidXRlcyA9ICcgJ1xuICAgICAgZm9yIChjb25zdCBhIG9mIHBhcmVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChhLm5hbWUgPT09ICdzdHlsZScpIGNvbnRpbnVlXG4gICAgICAgIGF0dHJpYnV0ZXMgKz0gYCR7YS5uYW1lfT1cIiR7YS52YWx1ZX1cIiBgXG4gICAgICB9XG4gICAgICBjb25zdCBvcGVuID1cbiAgICAgICAgJzwnICtcbiAgICAgICAgdGFnICtcbiAgICAgICAgKHRhZyA9PT0gJ2h0bWwnXG4gICAgICAgICAgPyBgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIHN0eWxlPVwiLS14LXdpZHRoOiR7XG4gICAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRofXB4Oy0teC1oZWlnaHQ6JHt0aGlzLmJvdW5kcy5oZWlnaHR9cHg7LS14LWlubGluZS10b3A6JHtcbiAgICAgICAgICAgICAgdGhpcy5ib3JkZXIudG9wICsgdGhpcy5tYXJnaW4udG9wICsgdGhpcy5wYWRkaW5nLnRvcH1weFwiIGBcbiAgICAgICAgICA6ICcnKSArXG4gICAgICAgIGF0dHJpYnV0ZXMgK1xuICAgICAgICBgJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX09XCJcIiBgICtcbiAgICAgICAgLy8gV2ViUmVuZGVyZXIuZ2V0UHN1ZWRvQXR0cmlidXRlcyhwYXJlbnQpICtcbiAgICAgICAgJyA+J1xuICAgICAgb3BlbnMudW5zaGlmdChvcGVuKVxuICAgICAgY29uc3QgY2xvc2UgPSAnPC8nICsgdGFnICsgJz4nXG4gICAgICBjbG9zZXMucHVzaChjbG9zZSlcbiAgICAgIGlmICh0YWcgPT0gJ2h0bWwnKSBicmVha1xuICAgIH0gd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCEpKVxuICAgIHJldHVybiBbb3BlbnMuam9pbignJyksIGNsb3Nlcy5qb2luKCcnKV1cbiAgfVxufSIsInZhciByZXNpemVPYnNlcnZlcnMgPSBbXTtcbmV4cG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiIsInZhciBtc2cgPSAnUmVzaXplT2JzZXJ2ZXIgbG9vcCBjb21wbGV0ZWQgd2l0aCB1bmRlbGl2ZXJlZCBub3RpZmljYXRpb25zLic7XG52YXIgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnQ7XG4gICAgaWYgKHR5cGVvZiBFcnJvckV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50ID0gbmV3IEVycm9yRXZlbnQoJ2Vycm9yJywge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdlcnJvcicsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn07XG5leHBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH07XG4iLCJleHBvcnQgdmFyIGZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTsgfTtcbiIsInZhciB0cmlnZ2VyO1xudmFyIGNhbGxiYWNrcyA9IFtdO1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrcy5zcGxpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKCk7IH0pOyB9O1xudmFyIHF1ZXVlTWljcm9UYXNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0cmlnZ2VyKSB7XG4gICAgICAgIHZhciB0b2dnbGVfMSA9IDA7XG4gICAgICAgIHZhciBlbF8xID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB2YXIgY29uZmlnID0geyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH07XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeSgpOyB9KS5vYnNlcnZlKGVsXzEsIGNvbmZpZyk7XG4gICAgICAgIHRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7IGVsXzEudGV4dENvbnRlbnQgPSBcIlwiICsgKHRvZ2dsZV8xID8gdG9nZ2xlXzEtLSA6IHRvZ2dsZV8xKyspOyB9O1xuICAgIH1cbiAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgdHJpZ2dlcigpO1xufTtcbmV4cG9ydCB7IHF1ZXVlTWljcm9UYXNrIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJTaXplID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNpemUoaW5saW5lU2l6ZSwgYmxvY2tTaXplKSB7XG4gICAgICAgIHRoaXMuaW5saW5lU2l6ZSA9IGlubGluZVNpemU7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgICAgICBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlclNpemU7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH07XG4iLCJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgRE9NUmVjdFJlYWRPbmx5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBET01SZWN0UmVhZE9ubHkoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMueTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoO1xuICAgICAgICByZXR1cm4gZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICBET01SZWN0UmVhZE9ubHkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgeCA9IF9hLngsIHkgPSBfYS55LCB0b3AgPSBfYS50b3AsIHJpZ2h0ID0gX2EucmlnaHQsIGJvdHRvbSA9IF9hLmJvdHRvbSwgbGVmdCA9IF9hLmxlZnQsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSwgdG9wOiB0b3AsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnQsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9O1xuICAgIERPTVJlY3RSZWFkT25seS5mcm9tUmVjdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBET01SZWN0UmVhZE9ubHkocmVjdGFuZ2xlLngsIHJlY3RhbmdsZS55LCByZWN0YW5nbGUud2lkdGgsIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERPTVJlY3RSZWFkT25seTtcbn0oKSk7XG5leHBvcnQgeyBET01SZWN0UmVhZE9ubHkgfTtcbiIsInZhciBpc1NWRyA9IGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgJ2dldEJCb3gnIGluIHRhcmdldDsgfTtcbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoaXNTVkcodGFyZ2V0KSkge1xuICAgICAgICB2YXIgX2EgPSB0YXJnZXQuZ2V0QkJveCgpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAhd2lkdGggJiYgIWhlaWdodDtcbiAgICB9XG4gICAgdmFyIF9iID0gdGFyZ2V0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQ7XG4gICAgcmV0dXJuICEob2Zmc2V0V2lkdGggfHwgb2Zmc2V0SGVpZ2h0IHx8IHRhcmdldC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59O1xudmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgc2NvcGUgPSAoX2IgPSAoX2EgPSBvYmopID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVmYXVsdFZpZXc7XG4gICAgcmV0dXJuICEhKHNjb3BlICYmIG9iaiBpbnN0YW5jZW9mIHNjb3BlLkVsZW1lbnQpO1xufTtcbnZhciBpc1JlcGxhY2VkRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldC50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcbiAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdWSURFTyc6XG4gICAgICAgIGNhc2UgJ0FVRElPJzpcbiAgICAgICAgY2FzZSAnRU1CRUQnOlxuICAgICAgICBjYXNlICdPQkpFQ1QnOlxuICAgICAgICBjYXNlICdDQU5WQVMnOlxuICAgICAgICBjYXNlICdJRlJBTUUnOlxuICAgICAgICBjYXNlICdJTUcnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgeyBpc1NWRywgaXNIaWRkZW4sIGlzRWxlbWVudCwgaXNSZXBsYWNlZEVsZW1lbnQgfTtcbiIsImV4cG9ydCB2YXIgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIiwiaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZXMgfSBmcm9tICcuL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZSc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJFbnRyeSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJveGVzID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0KTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY29udGVudFJlY3QgPSBib3hlcy5jb250ZW50UmVjdDtcbiAgICAgICAgdGhpcy5ib3JkZXJCb3hTaXplID0gZnJlZXplKFtib3hlcy5ib3JkZXJCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuY29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmNvbnRlbnRCb3hTaXplXSk7XG4gICAgICAgIHRoaXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH07XG4iLCJpbXBvcnQgeyBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xudmFyIGNhbGN1bGF0ZURlcHRoRm9yTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKGlzSGlkZGVuKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgZGVwdGggKz0gMTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aDtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9jYWxjdWxhdGVCb3hTaXplJztcbnZhciBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNoYWxsb3dlc3REZXB0aCA9IEluZmluaXR5O1xuICAgIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgaWYgKHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG90LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGVwdGggPSBjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICBvdC5sYXN0UmVwb3J0ZWRTaXplID0gY2FsY3VsYXRlQm94U2l6ZShvdC50YXJnZXQsIG90Lm9ic2VydmVkQm94KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXREZXB0aCA8IHNoYWxsb3dlc3REZXB0aCkge1xuICAgICAgICAgICAgICAgIHNoYWxsb3dlc3REZXB0aCA9IHRhcmdldERlcHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gcmVzaXplT2JzZXJ2ZXJDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJvLmNhbGxiYWNrLmNhbGwocm8ub2JzZXJ2ZXIsIGVudHJpZXMsIHJvLm9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9KTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNhbGxiYWNrc18xID0gY2FsbGJhY2tzOyBfaSA8IGNhbGxiYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMVtfaV07XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFsbG93ZXN0RGVwdGg7XG59O1xuZXhwb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH0gZnJvbSAnLi9jYWxjdWxhdGVEZXB0aEZvck5vZGUnO1xudmFyIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggPSBmdW5jdGlvbiAoZGVwdGgpIHtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5zcGxpY2UoMCwgcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8ub2JzZXJ2YXRpb25UYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgaWYgKG90LmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCkgPiBkZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICByby5hY3RpdmVUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH07XG4iLCJpbXBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfSBmcm9tICcuLi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3InO1xuaW1wb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9IGZyb20gJy4uL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCc7XG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIHdoaWxlIChoYXNBY3RpdmVPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpO1xuICAgICAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB9XG4gICAgaWYgKGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCA+IDA7XG59O1xuZXhwb3J0IHsgcHJvY2VzcyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH07XG4iLCJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIiwiaW1wb3J0IHsgcXVldWVNaWNyb1Rhc2sgfSBmcm9tICcuL3F1ZXVlTWljcm9UYXNrJztcbnZhciBxdWV1ZVJlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgcXVldWVNaWNyb1Rhc2soZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9O1xuIiwiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIiwidmFyIFJlc2l6ZU9ic2VydmVyRGV0YWlsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuc2tpcHBlZFRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvblRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckRldGFpbDtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9O1xuIiwiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iLCJpbXBvcnQge0V2ZW50Q2FsbGJhY2ssIFdlYkxheWVyfSBmcm9tICcuL1dlYkxheWVyJ1xuaW1wb3J0IHsgYWRkQ1NTUnVsZSB9IGZyb20gJy4vZG9tLXV0aWxzJ1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdHJpeDQnXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciBhcyBQb2x5ZmlsbCB9IGZyb20gJ0BqdWdnbGUvcmVzaXplLW9ic2VydmVyJ1xuY29uc3QgUmVzaXplT2JzZXJ2ZXI6dHlwZW9mIFBvbHlmaWxsID0gKHNlbGYgYXMgYW55KS5SZXNpemVPYnNlcnZlciB8fCBQb2x5ZmlsbFxuXG5cbnR5cGUgUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZSA9IGFueVxudHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrT3B0aW9ucyA9IHtcbiAgdGltZW91dDogbnVtYmVyXG59XG5leHBvcnQgdHlwZSBSZXF1ZXN0SWRsZUNhbGxiYWNrRGVhZGxpbmUgPSB7XG4gIHJlYWRvbmx5IGRpZFRpbWVvdXQ6IGJvb2xlYW5cbiAgdGltZVJlbWFpbmluZzogKCkgPT4gbnVtYmVyXG59XG5cbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFjayAoXG4gIGNhbGxiYWNrOiAoZGVhZGxpbmU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSkgPT4gdm9pZCxcbiAgb3B0cz86IFJlcXVlc3RJZGxlQ2FsbGJhY2tPcHRpb25zXG4pIDogUmVxdWVzdElkbGVDYWxsYmFja0hhbmRsZVxuXG5kZWNsYXJlIGZ1bmN0aW9uIGNhbmNlbElkbGVDYWxsYmFjayhoYW5kbGU6IFJlcXVlc3RJZGxlQ2FsbGJhY2tIYW5kbGUpIDogdm9pZFxuXG5cbmZ1bmN0aW9uIGVuc3VyZUVsZW1lbnRJc0luRG9jdW1lbnQoZWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnQge1xuICBjb25zdCBkb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudCFcbiAgY29uc3Qgcm9vdCA9IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSBhcyBTaGFkb3dSb290XG4gIGlmIChkb2N1bWVudC5jb250YWlucyhlbGVtZW50KSB8fCBkb2N1bWVudC5jb250YWlucyhyb290Py5ob3N0KSkge1xuICAgIHJldHVybiBlbGVtZW50XG4gIH1cbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ob3N0IGFzIEhUTUxFbGVtZW50fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjb250YWluZXIuc2V0QXR0cmlidXRlKFdlYlJlbmRlcmVyLlJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFLCAnJylcbiAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICBjb250YWluZXIuc3R5bGUudG9wID0gJy0xMDAwMDBweCdcbiAgY29udGFpbmVyLnN0eWxlWydjb250YWluJyBhcyBhbnldID0gJ3N0cmljdCdcbiAgLy8gY29uc3QgY29udGFpbmVyU2hhZG93ID0gY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSlcbiAgLy8gY29udGFpbmVyU2hhZG93LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gIGlmICghcm9vdC5ob3N0KSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpXG4gIHJldHVybiBlbGVtZW50XG59XG5cbmNvbnN0IHNjcmF0Y2hNYXQxID0gbmV3IE1hdHJpeDQoKVxuY29uc3Qgc2NyYXRjaE1hdDIgPSBuZXcgTWF0cml4NCgpXG5jb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpXG5jb25zdCBtaWNyb3Rhc2sgPSBQcm9taXNlLnJlc29sdmUoKVxuXG5leHBvcnQgY2xhc3MgV2ViUmVuZGVyZXIge1xuICBzdGF0aWMgQVRUUklCVVRFX1BSRUZJWCA9ICd4cidcbiAgc3RhdGljIGdldCBFTEVNRU5UX1VJRF9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXVpZCcgfVxuICBzdGF0aWMgZ2V0IEhPVkVSX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctaG92ZXInfVxuICBzdGF0aWMgZ2V0IEFDVElWRV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWFjdGl2ZSd9XG4gIHN0YXRpYyBnZXQgRk9DVVNfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1mb2N1cyd9XG4gIHN0YXRpYyBnZXQgVEFSR0VUX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctdGFyZ2V0J31cbiAgc3RhdGljIGdldCBMQVlFUl9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLWxheWVyJ31cbiAgc3RhdGljIGdldCBQSVhFTF9SQVRJT19BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXBpeGVsLXJhdGlvJyB9XG5cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmcnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURSgpIHsgcmV0dXJuIHRoaXMuQVRUUklCVVRFX1BSRUZJWCArICctcmVuZGVyaW5nLXBhcmVudCcgfVxuICBzdGF0aWMgZ2V0IFJFTkRFUklOR19DT05UQUlORVJfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctY29udGFpbmVyJyB9XG4gIHN0YXRpYyBnZXQgUkVOREVSSU5HX0lOTElORV9BVFRSSUJVVEUoKSB7IHJldHVybiB0aGlzLkFUVFJJQlVURV9QUkVGSVggKyAnLXJlbmRlcmluZy1pbmxpbmUnIH1cbiAgc3RhdGljIGdldCBSRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFKCkgeyByZXR1cm4gdGhpcy5BVFRSSUJVVEVfUFJFRklYICsgJy1yZW5kZXJpbmctZG9jdW1lbnQnIH1cblxuICBwcml2YXRlIHN0YXRpYyBfbmV4dFVJRCA9IDBcbiAgc3RhdGljIGdlbmVyYXRlRWxlbWVudFVJRCgpIHsgcmV0dXJuICcnICsgKHRoaXMuX25leHRVSUQgKyspIH1cblxuICBzdGF0aWMgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKClcblxuICBzdGF0aWMgcm9vdExheWVyczogTWFwPEVsZW1lbnQsIFdlYkxheWVyPiA9IG5ldyBNYXAoKVxuICBzdGF0aWMgbGF5ZXJzOiBNYXA8RWxlbWVudCwgV2ViTGF5ZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgc3RhdGljIG11dGF0aW9uT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgTXV0YXRpb25PYnNlcnZlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBzdGF0aWMgcmVzaXplT2JzZXJ2ZXJzOiBNYXA8RWxlbWVudCwgUG9seWZpbGw+ID0gbmV3IE1hcCgpXG4gIHN0YXRpYyBzZXJpYWxpemVRdWV1ZSA9IFtdIGFzIFdlYkxheWVyW11cbiAgc3RhdGljIHJhc3Rlcml6ZVF1ZXVlID0gW10gYXMgV2ViTGF5ZXJbXVxuICBzdGF0aWMgcmVuZGVyUXVldWUgPSBbXSBhcyBXZWJMYXllcltdXG5cbiAgLy8gc3RhdGljIHJlYWRvbmx5IHZpcnR1YWxIb3ZlckVsZW1lbnRzID0gbmV3IFNldDxFbGVtZW50PigpXG4gIHN0YXRpYyByZWFkb25seSBmb2N1c0VsZW1lbnQ6SFRNTEVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgZWxlbWVudCBpcyByZWFkeSB0byByZWNlaXZlIGlucHV0XG4gIHN0YXRpYyByZWFkb25seSBhY3RpdmVFbGVtZW50OkVsZW1lbnR8bnVsbCA9IG51bGwgLy8gaS5lLiwgYnV0dG9uIGVsZW1lbnQgaXMgYmVpbmcgXCJwcmVzc2VkIGRvd25cIlxuICBzdGF0aWMgcmVhZG9ubHkgdGFyZ2V0RWxlbWVudDpFbGVtZW50fG51bGwgPSBudWxsIC8vIGkuZS4sIHRoZSBlbGVtZW50IHdob3NlIElEIG1hdGNoZXMgdGhlIHVybCAjaGFzaFxuXG4gIC8vIHN0YXRpYyBjb250YWluc0hvdmVyKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gICBmb3IgKGNvbnN0IHQgb2YgdGhpcy52aXJ0dWFsSG92ZXJFbGVtZW50cykge1xuICAvLyAgICAgaWYgKGVsZW1lbnQuY29udGFpbnModCkpIHJldHVybiB0cnVlXG4gIC8vICAgfVxuICAvLyAgIHJldHVybiBmYWxzZVxuICAvLyB9XG5cbiAgc3RhdGljIGdldFBzdWVkb0F0dHJpYnV0ZXMoc3RhdGVzOiB0eXBlb2YgV2ViTGF5ZXIucHJvdG90eXBlLnBzdWVkb1N0YXRlcykge1xuICAgIHJldHVybiAoXG4gICAgICBgJHtzdGF0ZXMuaG92ZXIgPyBgJHt0aGlzLkhPVkVSX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAgICAgYCR7c3RhdGVzLmZvY3VzID8gYCR7dGhpcy5GT0NVU19BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy5hY3RpdmUgPyBgJHt0aGlzLkFDVElWRV9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gICtcbiAgICAgIGAke3N0YXRlcy50YXJnZXQgPyBgJHt0aGlzLlRBUkdFVF9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gXG4gICAgKVxuICB9XG5cbiAgc3RhdGljIHJvb3ROb2RlT2JzZXJ2ZXJzID0gbmV3IE1hcDxEb2N1bWVudHxTaGFkb3dSb290LCBNdXRhdGlvbk9ic2VydmVyPigpXG4gIC8vIHN0YXRpYyBkb2N1bWVudE9ic2VydmVyIDogTXV0YXRpb25PYnNlcnZlclxuICAvLyBzdGF0aWMgX2RpZEluaXQgPSBmYWxzZVxuXG4gIHN0YXRpYyBpbml0Um9vdE5vZGVPYnNlcnZhdGlvbihlbGVtZW50OkVsZW1lbnQpIHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudFxuICAgIGNvbnN0IHJvb3ROb2RlID0gZWxlbWVudC5nZXRSb290Tm9kZSgpIGFzIFNoYWRvd1Jvb3R8RG9jdW1lbnRcbiAgICBjb25zdCBzdHlsZVJvb3QgPSAnaGVhZCcgaW4gcm9vdE5vZGUgPyByb290Tm9kZS5oZWFkIDogcm9vdE5vZGVcbiAgICBpZiAodGhpcy5yb290Tm9kZU9ic2VydmVycy5nZXQocm9vdE5vZGUpKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICBzdHlsZVJvb3QuYXBwZW5kKHN0eWxlKVxuICAgIGNvbnN0IHNoZWV0ID0gc3R5bGUuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldFxuICAgIGxldCBpID0gMFxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfRE9DVU1FTlRfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX0FUVFJJQlVURX1dLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV0gKmAsXG4gICAgICAndmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSwgWyR7XG4gICAgICAgIFdlYlJlbmRlcmVyLlJFTkRFUklOR19BVFRSSUJVVEV9XSBbJHtXZWJSZW5kZXJlci5MQVlFUl9BVFRSSUJVVEV9XSAqYCxcbiAgICAgICd2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDsnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfQVRUUklCVVRFfV1gLFxuICAgICAgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAwICFpbXBvcnRhbnQ7IGxlZnQ6IDAgIWltcG9ydGFudDsgZmxvYXQ6IG5vbmU7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgbWluLXdpZHRoOnZhcigtLXgtd2lkdGgpOyBtaW4taGVpZ2h0OnZhcigtLXgtaGVpZ2h0KTsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG4gICAgYWRkQ1NTUnVsZShcbiAgICAgIHNoZWV0LFxuICAgICAgYFske1dlYlJlbmRlcmVyLlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFfV1gLFxuICAgICAgJ3RvcDogdmFyKC0teC1pbmxpbmUtdG9wKSAhaW1wb3J0YW50OyB3aWR0aDphdXRvICFpbXBvcnRhbnQnLFxuICAgICAgaSsrXG4gICAgKVxuICAgIGFkZENTU1J1bGUoXG4gICAgICBzaGVldCxcbiAgICAgIGBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dYCxcbiAgICAgICd0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsgbGVmdDogMCAhaW1wb3J0YW50OyB0b3A6IDAgIWltcG9ydGFudDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IGJvcmRlcjowICFpbXBvcnRhbnQ7IGJvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50OyBoZWlnaHQ6MTAwJSAhaW1wb3J0YW50OyBwYWRkaW5nOjAgIWltcG9ydGFudDsgcG9zaXRpb246c3RhdGljICFpbXBvcnRhbnQ7IGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwKSBub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50JyxcbiAgICAgIGkrK1xuICAgIClcbiAgICBhZGRDU1NSdWxlKFxuICAgICAgc2hlZXQsXG4gICAgICBgWyR7V2ViUmVuZGVyZXIuUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEV9XTo6YmVmb3JlLCBbJHtXZWJSZW5kZXJlci5SRU5ERVJJTkdfUEFSRU5UX0FUVFJJQlVURX1dOjphZnRlcmAsXG4gICAgICAnY29udGVudDpub25lICFpbXBvcnRhbnQ7IGJveC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50OycsXG4gICAgICBpKytcbiAgICApXG5cbiAgICBpZiAocm9vdE5vZGUgPT09IGRvY3VtZW50KSB7XG4gICAgICBsZXQgcHJldmlvdXNIYXNoID0gJydcbiAgICAgIGNvbnN0IG9uSGFzaENoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByZXZpb3VzSGFzaCAhPSB3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSgpXG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3Iod2luZG93LmxvY2F0aW9uLmhhc2gpXG4gICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzSGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoXG4gICAgICB9XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSwgZmFsc2UpXG4gICAgICBvbkhhc2hDaGFuZ2UoKVxuICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gZXZ0LnRhcmdldFxuICAgICAgfSwgZmFsc2UpXG4gIFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGV2dCkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZm9jdXNFbGVtZW50ID0gbnVsbFxuICAgICAgfSwgZmFsc2UpXG4gICAgICBcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE5lZWRzUmVmcmVzaE9uQWxsTGF5ZXJzKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlLGxdIG9mIHRoaXMubGF5ZXJzKSBsLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBzZXROZWVkc1JlZnJlc2hPblN0eWxlTG9hZCA9IChub2RlOk5vZGUpID0+IHtcbiAgICAgIHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKVxuICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2Yobm9kZU5hbWUpICE9PSAtMSlcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycylcbiAgICB9XG5cbiAgICBjb25zdCBTVFlMRV9OT0RFUyA9IFtcIlNUWUxFXCIsIFwiTElOS1wiXTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKFNUWUxFX05PREVTLmluZGV4T2YobS50YXJnZXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICAgICAgc2V0TmVlZHNSZWZyZXNoT25BbGxMYXllcnMoKVxuICAgICAgICAgIHRoaXMuZW1iZWRkZWRDU1MuZ2V0KGRvY3VtZW50KT8uZGVsZXRlKG0udGFyZ2V0IGFzIEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG0uYWRkZWROb2Rlcykgc2V0TmVlZHNSZWZyZXNoT25TdHlsZUxvYWQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMucm9vdE5vZGVPYnNlcnZlcnMuc2V0KHJvb3ROb2RlLCBvYnNlcnZlcilcbiAgfVxuXG4gIHN0YXRpYyBhZGRUb1NlcmlhbGl6ZVF1ZXVlKGxheWVyOiBXZWJMYXllcikge1xuICAgIGlmICh0aGlzLnNlcmlhbGl6ZVF1ZXVlLmluZGV4T2YobGF5ZXIpID09PSAtMSkgdGhpcy5zZXJpYWxpemVRdWV1ZS5wdXNoKGxheWVyKVxuICB9XG5cbiAgc3RhdGljIGFkZFRvUmFzdGVyaXplUXVldWUobGF5ZXI6IFdlYkxheWVyKSB7XG4gICAgaWYgKHRoaXMucmFzdGVyaXplUXVldWUuaW5kZXhPZihsYXllcikgPT09IC0xKSB0aGlzLnJhc3Rlcml6ZVF1ZXVlLnB1c2gobGF5ZXIpXG4gIH1cblxuICBzdGF0aWMgYWRkVG9SZW5kZXJRdWV1ZShsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJRdWV1ZS5pbmRleE9mKGxheWVyKSA9PT0gLTEpIHRoaXMucmVuZGVyUXVldWUucHVzaChsYXllcilcbiAgfVxuXG4gIHN0YXRpYyBUQVNLX0FTWU5DX01BWF9DT1VOVCA9IDIgLy8gc2luY2UgcmFzdGVyaXphdGlvbiBpcyBhc3luYywgbGltaXQgc2ltdWx0YW5lb3VzIHJhc3Rlcml6YXRpb25zXG4gIHN0YXRpYyBUQVNLX1NZTkNfTUFYX1RJTUUgPSAyMDBcbiAgc3RhdGljIHJhc3Rlcml6ZVRhc2tDb3VudCA9IDBcbiAgcHJpdmF0ZSBzdGF0aWMgX3J1blRhc2tzKCkge1xuICAgIFdlYlJlbmRlcmVyLnRhc2tzUGVuZGluZyA9IGZhbHNlXG4gICAgY29uc3Qgc2VyaWFsaXplUXVldWUgPSBXZWJSZW5kZXJlci5zZXJpYWxpemVRdWV1ZVxuICAgIGNvbnN0IHJhc3Rlcml6ZVF1ZXVlID0gV2ViUmVuZGVyZXIucmFzdGVyaXplUXVldWVcbiAgICBjb25zdCByZW5kZXJRdWV1ZSA9IFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlXG4gICAgY29uc3QgbWF4U3luY1RpbWUgPSBXZWJSZW5kZXJlci5UQVNLX1NZTkNfTUFYX1RJTUUgLyAyXG4gICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgd2hpbGUgKHJlbmRlclF1ZXVlLmxlbmd0aCAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heFN5bmNUaW1lKSB7XG4gICAgICByZW5kZXJRdWV1ZS5zaGlmdCgpIS5yZW5kZXIoKVxuICAgIH1cbiAgICBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIHdoaWxlIChzZXJpYWxpemVRdWV1ZS5sZW5ndGggJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUgPCBtYXhTeW5jVGltZSkge1xuICAgICAgc2VyaWFsaXplUXVldWUuc2hpZnQoKSEuc2VyaWFsaXplKClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmFzdGVyaXplUXVldWUubGVuZ3RoICYmXG4gICAgICBXZWJSZW5kZXJlci5yYXN0ZXJpemVUYXNrQ291bnQgPCBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVFxuICAgICkge1xuICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50KytcbiAgICAgIHJhc3Rlcml6ZVF1ZXVlXG4gICAgICAgIC5zaGlmdCgpIVxuICAgICAgICAucmFzdGVyaXplKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVRhc2tDb3VudC0tXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRhc2tzUGVuZGluZyA9IGZhbHNlXG4gIFxuICBzdGF0aWMgc2NoZWR1bGVUYXNrc0lmTmVlZGVkKCkge1xuICAgIGlmICh0aGlzLnRhc2tzUGVuZGluZyB8fFxuICAgICAgICAoV2ViUmVuZGVyZXIuc2VyaWFsaXplUXVldWUubGVuZ3RoID09PSAwICYmXG4gICAgICAgIFdlYlJlbmRlcmVyLnJlbmRlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiBcbiAgICAgICAgKFdlYlJlbmRlcmVyLnJhc3Rlcml6ZVF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBcbiAgICAgICAgV2ViUmVuZGVyZXIucmFzdGVyaXplVGFza0NvdW50ID09PSBXZWJSZW5kZXJlci5UQVNLX0FTWU5DX01BWF9DT1VOVCkpKSByZXR1cm5cbiAgICB0aGlzLnRhc2tzUGVuZGluZyA9IHRydWVcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZUlkbGUoV2ViUmVuZGVyZXIuX3J1blRhc2tzKVxuICB9XG5cbiAgc3RhdGljIHNjaGVkdWxlSWRsZShjYjooZGVhZGxpbmU/OlJlcXVlc3RJZGxlQ2FsbGJhY2tEZWFkbGluZSk9PmFueSkge1xuICAgIC8vIGlmIChcInJlcXVlc3RJZGxlQ2FsbGJhY2tcIiBpbiBzZWxmKSB7XG4gICAgLy8gICByZXF1ZXN0SWRsZUNhbGxiYWNrKGNiKVxuICAgIC8vIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGNiLDEpXG4gICAgLy8gfVxuICB9XG5cbiAgc3RhdGljIHNldExheWVyTmVlZHNSZWZyZXNoKGxheWVyOiBXZWJMYXllcikge1xuICAgIGxheWVyLm5lZWRzUmVmcmVzaCA9IHRydWVcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVMYXllclRyZWUoZWxlbWVudDogRWxlbWVudCwgZXZlbnRDYWxsYmFjazogRXZlbnRDYWxsYmFjaykge1xuICAgIGlmIChXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoZWxlbWVudCkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Egcm9vdCBXZWJMYXllciBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgYWxyZWFkeSBleGlzdHMnKVxuXG4gICAgZW5zdXJlRWxlbWVudElzSW5Eb2N1bWVudChlbGVtZW50KVxuICAgIFdlYlJlbmRlcmVyLmluaXRSb290Tm9kZU9ic2VydmF0aW9uKGVsZW1lbnQpXG5cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKFdlYlJlbmRlcmVyLl9oYW5kbGVNdXRhdGlvbnMpXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5zZXQoZWxlbWVudCwgb2JzZXJ2ZXIpXG4gICAgdGhpcy5zdGFydE11dGF0aW9uT2JzZXJ2ZXIoZWxlbWVudClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlY29yZHMgPT4ge1xuICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0Q2xvc2VzdExheWVyKHJlY29yZC50YXJnZXQpIVxuICAgICAgICBsYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgICAgICAgbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcnMuc2V0KGVsZW1lbnQsIHJlc2l6ZU9ic2VydmVyKVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuXG4gICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIoZWxlbWVudCwgZXZlbnRDYWxsYmFjaylcbiAgICB0aGlzLnJvb3RMYXllcnMuc2V0KGVsZW1lbnQsIGxheWVyKVxuICAgIHJldHVybiBsYXllclxuICB9XG5cbiAgc3RhdGljIGRpc3Bvc2VMYXllcihsYXllcjogV2ViTGF5ZXIpIHtcbiAgICBpZiAodGhpcy5yb290TGF5ZXJzLmhhcyhsYXllci5lbGVtZW50KSkge1xuICAgICAgdGhpcy5yb290TGF5ZXJzLmRlbGV0ZShsYXllci5lbGVtZW50KVxuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJzLmdldChsYXllci5lbGVtZW50KSFcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gdGhpcy5yZXNpemVPYnNlcnZlcnMuZ2V0KGxheWVyLmVsZW1lbnQpIVxuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVycy5kZWxldGUobGF5ZXIuZWxlbWVudClcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl90cmlnZ2VyUmVmcmVzaCwgeyBjYXB0dXJlOiB0cnVlIH0pXG4gICAgICBsYXllci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fdHJpZ2dlclJlZnJlc2gsIHsgY2FwdHVyZTogdHJ1ZSB9KVxuICAgICAgbGF5ZXIuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICAgIGxheWVyLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMuX3RyaWdnZXJSZWZyZXNoLCB7IGNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2xvc2VzdExheWVyKGVsZW1lbnQ6IEVsZW1lbnR8bnVsbCk6IFdlYkxheWVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBjbG9zZXN0TGF5ZXJFbGVtZW50ID1cbiAgICAgIGVsZW1lbnQgJiYgKGVsZW1lbnQuY2xvc2VzdChgWyR7V2ViUmVuZGVyZXIuTEFZRVJfQVRUUklCVVRFfV1gKSBhcyBIVE1MRWxlbWVudClcbiAgICByZXR1cm4gdGhpcy5sYXllcnMuZ2V0KGNsb3Nlc3RMYXllckVsZW1lbnQhKVxuICB9XG5cbiAgc3RhdGljIGdldENTU1RyYW5zZm9ybUZvckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgb3V0ID0gbmV3IE1hdHJpeDQoKSkge1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgICB2YXIgdHJhbnNmb3JtY3NzID0gc3R5bGVzWyd0cmFuc2Zvcm0nXVxuICAgIGlmICh0cmFuc2Zvcm1jc3MuaW5kZXhPZignbWF0cml4KCcpID09IDApIHtcbiAgICAgIG91dC5pZGVudGl0eSgpXG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtY3NzXG4gICAgICAgIC5zdWJzdHJpbmcoNywgdHJhbnNmb3JtY3NzLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZWxlbWVudHNbMF0gPSBtYXRbMF1cbiAgICAgIG91dC5lbGVtZW50c1sxXSA9IG1hdFsxXVxuICAgICAgb3V0LmVsZW1lbnRzWzRdID0gbWF0WzJdXG4gICAgICBvdXQuZWxlbWVudHNbNV0gPSBtYXRbM11cbiAgICAgIG91dC5lbGVtZW50c1sxMl0gPSBtYXRbNF1cbiAgICAgIG91dC5lbGVtZW50c1sxM10gPSBtYXRbNV1cbiAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybWNzcy5pbmRleE9mKCdtYXRyaXgzZCgnKSA9PSAwKSB7XG4gICAgICB2YXIgbWF0ID0gdHJhbnNmb3JtY3NzXG4gICAgICAgIC5zdWJzdHJpbmcoOSwgdHJhbnNmb3JtY3NzLmxlbmd0aCAtIDEpXG4gICAgICAgIC5zcGxpdCgnLCAnKVxuICAgICAgICAubWFwKHBhcnNlRmxvYXQpXG4gICAgICBvdXQuZnJvbUFycmF5KG1hdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG91dC5pZGVudGl0eSgpXG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmNzcyA9IHN0eWxlcy50cmFuc2Zvcm1PcmlnaW4uc3BsaXQoJyAnKS5tYXAocGFyc2VGbG9hdClcblxuICAgIHZhciBveCA9IG9yaWdpbmNzc1swXVxuICAgIHZhciBveSA9IG9yaWdpbmNzc1sxXVxuICAgIHZhciBveiA9IG9yaWdpbmNzc1syXSB8fCAwXG5cbiAgICB2YXIgVDEgPSBzY3JhdGNoTWF0MS5pZGVudGl0eSgpLm1ha2VUcmFuc2xhdGlvbigtb3gsIC1veSwgLW96KVxuICAgIHZhciBUMiA9IHNjcmF0Y2hNYXQyLmlkZW50aXR5KCkubWFrZVRyYW5zbGF0aW9uKG94LCBveSwgb3opXG5cbiAgICByZXR1cm4gb3V0LnByZW11bHRpcGx5KFQyKS5tdWx0aXBseShUMSlcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlbWJlZEV4dGVybmFsUmVzb3VyY2VzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKVxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgY29uc3QgbGluayA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCAnaHJlZicpXG4gICAgICBpZiAobGluaykge1xuICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgIFdlYlJlbmRlcmVyLmdldERhdGFVUkwobGluaykudGhlbihkYXRhVVJMID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCAnaHJlZicpXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsIGRhdGFVUkwpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTEltYWdlRWxlbWVudFxuICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSAnSU1HJyAmJiBpbWdFbGVtZW50LnNyYy5zdWJzdHIoMCwgNCkgIT0gJ2RhdGEnKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgV2ViUmVuZGVyZXIuZ2V0RGF0YVVSTChpbWdFbGVtZW50LnNyYykudGhlbihkYXRhVVJMID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCBkYXRhVVJMKVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3N0eWxlJykpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3R5bGUnKSB8fCAnJ1xuICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgIFdlYlJlbmRlcmVyLmdlbmVyYXRlRW1iZWRkZWRDU1Mod2luZG93LmxvY2F0aW9uLmhyZWYsIHN0eWxlKS50aGVuKGNzcyA9PiB7XG4gICAgICAgICAgICBpZiAoc3R5bGUgIT0gY3NzKSBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjc3MpXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdHlsZXMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJylcbiAgICBmb3IgKGNvbnN0IHN0eWxlIG9mIHN0eWxlcykge1xuICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgV2ViUmVuZGVyZXIuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgc3R5bGUuaW5uZXJIVE1MKS50aGVuKGNzcyA9PiB7XG4gICAgICAgICAgaWYgKHN0eWxlLmlubmVySFRNTCAhPSBjc3MpIHN0eWxlLmlubmVySFRNTCA9IGNzc1xuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gIH1cblxuICBzdGF0aWMgcGF1c2VNdXRhdGlvbk9ic2VydmVycygpIHtcbiAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVycyA9IFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzLnZhbHVlcygpXG4gICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9uT2JzZXJ2ZXJzKSB7XG4gICAgICBXZWJSZW5kZXJlci5faGFuZGxlTXV0YXRpb25zKG0udGFrZVJlY29yZHMoKSlcbiAgICAgIG0uZGlzY29ubmVjdCgpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlc3VtZU11dGF0aW9uT2JzZXJ2ZXJzKCkge1xuICAgIGZvciAoY29uc3QgW2VdIG9mIFdlYlJlbmRlcmVyLm11dGF0aW9uT2JzZXJ2ZXJzKSB7XG4gICAgICB0aGlzLnN0YXJ0TXV0YXRpb25PYnNlcnZlcihlKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHN0YXJ0TXV0YXRpb25PYnNlcnZlcihlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBXZWJSZW5kZXJlci5tdXRhdGlvbk9ic2VydmVycy5nZXQoZWxlbWVudCkhXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfaGFuZGxlTXV0YXRpb25zID0gKHJlY29yZHM6IE11dGF0aW9uUmVjb3JkW10pID0+IHtcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICdhdHRyaWJ1dGVzJykge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSByZWNvcmQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKHJlY29yZC5hdHRyaWJ1dGVOYW1lISkgPT09IHJlY29yZC5vbGRWYWx1ZSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHJlY29yZC50YXJnZXQgYXMgQ2hhcmFjdGVyRGF0YVxuICAgICAgICBpZiAodGFyZ2V0LmRhdGEgPT09IHJlY29yZC5vbGRWYWx1ZSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9XG4gICAgICAgIHJlY29yZC50YXJnZXQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgPyAocmVjb3JkLnRhcmdldCBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICA6IHJlY29yZC50YXJnZXQucGFyZW50RWxlbWVudFxuICAgICAgaWYgKCF0YXJnZXQpIGNvbnRpbnVlXG4gICAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcih0YXJnZXQpXG4gICAgICBpZiAoIWxheWVyKSBjb250aW51ZVxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnYXR0cmlidXRlcycgJiYgcmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgY29uc3Qgb2xkQ2xhc3NlcyA9IHJlY29yZC5vbGRWYWx1ZSA/IHJlY29yZC5vbGRWYWx1ZSA6ICcnXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDbGFzc2VzID0gKHJlY29yZC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTmFtZVxuICAgICAgICBpZiAob2xkQ2xhc3NlcyA9PT0gY3VycmVudENsYXNzZXMpIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICAvLyBsYXllci50cmF2ZXJzZVBhcmVudExheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaCkgLy8gbWF5IGJlIG5lZWRlZCB0byBzdXBwb3J0IDpmb2N1cy13aXRoaW4oKSBhbmQgZnV0dXJlIDpoYXMoKSBzZWxlY3RvciBzdXBwb3J0XG4gICAgICBsYXllci5wYXJlbnRMYXllclxuICAgICAgICA/IGxheWVyLnBhcmVudExheWVyLnRyYXZlcnNlQ2hpbGRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgICAgIDogbGF5ZXIudHJhdmVyc2VMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3RyaWdnZXJSZWZyZXNoID0gYXN5bmMgKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgbGF5ZXIgPSBXZWJSZW5kZXJlci5nZXRDbG9zZXN0TGF5ZXIoZS50YXJnZXQgYXMgYW55KSFcbiAgICAvLyBXZWJSZW5kZXJlci51cGRhdGVJbnB1dEF0dHJpYnV0ZXMoZS50YXJnZXQgYXMgYW55KVxuICAgIGlmIChsYXllcikge1xuICAgICAgLy8gbGF5ZXIudHJhdmVyc2VQYXJlbnRMYXllcnMoV2ViUmVuZGVyZXIuc2V0TGF5ZXJOZWVkc1JlZnJlc2gpIC8vIG1heSBiZSBuZWVkZWQgdG8gc3VwcG9ydCA6Zm9jdXMtd2l0aGluKCkgYW5kIGZ1dHVyZSA6aGFzKCkgc2VsZWN0b3Igc3VwcG9ydFxuICAgICAgbGF5ZXIucGFyZW50TGF5ZXJcbiAgICAgICAgPyBsYXllci5wYXJlbnRMYXllci50cmF2ZXJzZUNoaWxkTGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKVxuICAgICAgICA6IGxheWVyLnRyYXZlcnNlTGF5ZXJzKFdlYlJlbmRlcmVyLnNldExheWVyTmVlZHNSZWZyZXNoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIF9hZGREeW5hbWljUHNldWRvQ2xhc3NSdWxlcyhkb2M6RG9jdW1lbnR8U2hhZG93Um9vdCkge1xuICAgIGNvbnN0IHNoZWV0cyA9IGRvYy5zdHlsZVNoZWV0c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hlZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzaGVldCA9IHNoZWV0c1tpXSBhcyBDU1NTdHlsZVNoZWV0XG4gICAgICAgIGNvbnN0IHJ1bGVzID0gc2hlZXQuY3NzUnVsZXNcbiAgICAgICAgaWYgKCFydWxlcykgY29udGludWVcbiAgICAgICAgY29uc3QgbmV3UnVsZXMgPSBbXVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOmhvdmVyJykgPiAtMSkge1xuICAgICAgICAgICAgbmV3UnVsZXMucHVzaChydWxlc1tqXS5jc3NUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCgnOmhvdmVyJywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLkhPVkVSX0FUVFJJQlVURX1dYCkpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChydWxlc1tqXS5jc3NUZXh0LmluZGV4T2YoJzphY3RpdmUnKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKFxuICAgICAgICAgICAgICBydWxlc1tqXS5jc3NUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCgnOmFjdGl2ZScsICdnJyksIGBbJHtXZWJSZW5kZXJlci5BQ1RJVkVfQVRUUklCVVRFfV1gKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocnVsZXNbal0uY3NzVGV4dC5pbmRleE9mKCc6Zm9jdXMnKSA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5wdXNoKHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6Zm9jdXMnLCAnZycpLCBgWyR7V2ViUmVuZGVyZXIuRk9DVVNfQVRUUklCVVRFfV1gKSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJ1bGVzW2pdLmNzc1RleHQuaW5kZXhPZignOnRhcmdldCcpID4gLTEpIHtcbiAgICAgICAgICAgIG5ld1J1bGVzLnB1c2goXG4gICAgICAgICAgICAgIHJ1bGVzW2pdLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKCc6dGFyZ2V0JywgJ2cnKSwgYFske1dlYlJlbmRlcmVyLlRBUkdFVF9BVFRSSUJVVEV9XWApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpZHggPSBuZXdSdWxlcy5pbmRleE9mKHJ1bGVzW2pdLmNzc1RleHQpXG4gICAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICBuZXdSdWxlcy5zcGxpY2UoaWR4LCAxKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld1J1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShuZXdSdWxlc1tqXSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXJyYXlCdWZmZXJUb0Jhc2U2NChieXRlczpVaW50OEFycmF5KSB7XG4gICAgdmFyIGJpbmFyeSA9ICcnXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmJ5dGVMZW5ndGhcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5idG9hKGJpbmFyeSlcbiAgfVxuXG4gIHN0YXRpYyBhdHRyaWJ1dGVDU1MobmFtZTpzdHJpbmcsIHZhbHVlPzpzdHJpbmcpIHtcbiAgICByZXR1cm4gdmFsdWUgPyBgWyR7bmFtZX1dPSR7dmFsdWV9YCA6IGBbJHtuYW1lfV1gXG4gIH1cblxuICBzdGF0aWMgYXR0cmlidXRlSFRNTChuYW1lOnN0cmluZywgdmFsdWU/OnN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IGAke25hbWV9PVwiJHt2YWx1ZX1cImAgOiBgJHtuYW1lfT1cIlwiYFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdlbmVyYXRlRW1iZWRkZWRDU1ModXJsOnN0cmluZywgY3NzOnN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IGZvdW5kXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXVxuXG4gICAgLy8gQWRkIGNsYXNzZXMgZm9yIHBzdWVkby1jbGFzc2VzXG4gICAgY3NzID0gY3NzLnJlcGxhY2UobmV3IFJlZ0V4cCgnOmhvdmVyJywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5IT1ZFUl9BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzphY3RpdmUnLCAnZycpLCB0aGlzLmF0dHJpYnV0ZUNTUyh0aGlzLkFDVElWRV9BVFRSSUJVVEUpKVxuICAgIGNzcyA9IGNzcy5yZXBsYWNlKG5ldyBSZWdFeHAoJzpmb2N1cycsICdnJyksIHRoaXMuYXR0cmlidXRlQ1NTKHRoaXMuRk9DVVNfQVRUUklCVVRFKSlcbiAgICBjc3MgPSBjc3MucmVwbGFjZShuZXcgUmVnRXhwKCc6dGFyZ2V0JywgJ2cnKSwgdGhpcy5hdHRyaWJ1dGVDU1ModGhpcy5UQVJHRVRfQVRUUklCVVRFKSlcblxuICAgIC8vIFJlcGxhY2UgYWxsIHVybHMgaW4gdGhlIGNzc1xuICAgIGNvbnN0IHJlZ0V4ID0gUmVnRXhwKC91cmxcXCgoPyFbJ1wiXT8oPzpkYXRhKTopWydcIl0/KFteJ1wiXFwpXSopWydcIl0/XFwpL2dpKVxuICAgIHdoaWxlICgoZm91bmQgPSByZWdFeC5leGVjKGNzcykpKSB7XG4gICAgICBjb25zdCByZXNvdXJjZVVSTCA9IGZvdW5kWzFdXG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICB0aGlzLmdldERhdGFVUkwobmV3IFVSTChyZXNvdXJjZVVSTCwgdXJsKS5ocmVmKS50aGVuKGRhdGFVUkwgPT4ge1xuICAgICAgICAgIGNzcyA9IGNzcy5yZXBsYWNlKHJlc291cmNlVVJMLCBkYXRhVVJMKVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgIHJldHVybiBjc3NcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRVUkwodXJsOnN0cmluZyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWZcbiAgICByZXR1cm4gbmV3IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+KHJlc29sdmUgPT4ge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG5cbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInXG5cbiAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoeGhyKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh4aHIpXG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZW1iZWRkZWRDU1MgPSBuZXcgTWFwPFNoYWRvd1Jvb3R8RG9jdW1lbnQsIE1hcDxFbGVtZW50LCBQcm9taXNlPHN0cmluZz4+PigpXG5cbiAgc3RhdGljIGFzeW5jIGdldEVtYmVkZGVkQ1NTKGVsOkVsZW1lbnQpIHtcbiAgICBjb25zdCByb290Tm9kZSA9IGVsLmdldFJvb3ROb2RlKCkgYXMgU2hhZG93Um9vdHxEb2N1bWVudFxuICAgIGNvbnN0IGVtYmVkZGVkID0gdGhpcy5lbWJlZGRlZENTUy5nZXQocm9vdE5vZGUpIHx8IG5ldyBNYXA8RWxlbWVudCwgUHJvbWlzZTxzdHJpbmc+PigpXG4gICAgdGhpcy5lbWJlZGRlZENTUy5zZXQocm9vdE5vZGUsIGVtYmVkZGVkKVxuXG4gICAgY29uc3Qgc3R5bGVFbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICByb290Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwic3R5bGUsIGxpbmtbdHlwZT0ndGV4dC9jc3MnXSwgbGlua1tyZWw9J3N0eWxlc2hlZXQnXVwiKVxuICAgIClcblxuICAgIGxldCBmb3VuZE5ld1N0eWxlcyA9IGZhbHNlXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHN0eWxlRWxlbWVudHMpIHtcbiAgICAgIGlmICghZW1iZWRkZWQuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgIGZvdW5kTmV3U3R5bGVzID0gdHJ1ZVxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdTVFlMRScpIHtcbiAgICAgICAgICBjb25zdCBzaGVldCA9IChlbGVtZW50IGFzIEhUTUxTdHlsZUVsZW1lbnQpLnNoZWV0IGFzIENTU1N0eWxlU2hlZXRcbiAgICAgICAgICBsZXQgY3NzVGV4dCA9ICcnXG4gICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHNoZWV0LmNzc1J1bGVzKSB7XG4gICAgICAgICAgICBjc3NUZXh0ICs9IHJ1bGUuY3NzVGV4dCArICdcXG4nXG4gICAgICAgICAgfVxuICAgICAgICAgIGVtYmVkZGVkLnNldChlbGVtZW50LCB0aGlzLmdlbmVyYXRlRW1iZWRkZWRDU1Mod2luZG93LmxvY2F0aW9uLmhyZWYsIGNzc1RleHQpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVtYmVkZGVkLnNldChcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICB0aGlzLmdldFVSTChlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpISkudGhlbih4aHIgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXhoci5yZXNwb25zZSkgcmV0dXJuICcnXG4gICAgICAgICAgICAgIHRoaXMuX2FkZER5bmFtaWNQc2V1ZG9DbGFzc1J1bGVzKHJvb3ROb2RlKVxuICAgICAgICAgICAgICB2YXIgY3NzID0gdGV4dERlY29kZXIuZGVjb2RlKHhoci5yZXNwb25zZSlcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFbWJlZGRlZENTUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgY3NzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZvdW5kTmV3U3R5bGVzKSB0aGlzLl9hZGREeW5hbWljUHNldWRvQ2xhc3NSdWxlcyhyb290Tm9kZSlcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoZW1iZWRkZWQudmFsdWVzKCkpXG4gIH1cblxuICAvLyBHZW5lcmF0ZSBhbmQgcmV0dXJucyBhIGRhdGF1cmwgZm9yIHRoZSBnaXZlbiB1cmxcbiAgc3RhdGljIGFzeW5jIGdldERhdGFVUkwodXJsOnN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgeGhyID0gYXdhaXQgdGhpcy5nZXRVUkwodXJsKVxuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSlcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk/LnNwbGl0KCc7JylbMF1cbiAgICBpZiAoY29udGVudFR5cGUgPT0gJ3RleHQvY3NzJykge1xuICAgICAgbGV0IGNzcyA9IHRleHREZWNvZGVyLmRlY29kZShhcnIpXG4gICAgICBjc3MgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRW1iZWRkZWRDU1ModXJsLCBjc3MpXG4gICAgICBjb25zdCBiYXNlNjQgPSB3aW5kb3cuYnRvYShjc3MpXG4gICAgICBpZiAoYmFzZTY0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuICdkYXRhOicgKyBjb250ZW50VHlwZSArICc7YmFzZTY0LCcgKyBiYXNlNjRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2RhdGE6JyArIGNvbnRlbnRUeXBlICsgJztiYXNlNjQsJyArIHRoaXMuYXJyYXlCdWZmZXJUb0Jhc2U2NChhcnIpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZUlucHV0QXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubWF0Y2hlcygnaW5wdXQnKSkgdGhpcy5fdXBkYXRlSW5wdXRBdHRyaWJ1dGUoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KVxuICAgIGZvciAoY29uc3QgZSBvZiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpKSB0aGlzLl91cGRhdGVJbnB1dEF0dHJpYnV0ZShlKVxuICB9XG5cbiAgc3RhdGljIF91cGRhdGVJbnB1dEF0dHJpYnV0ZShpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoaW5wdXRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnY2hlY2tlZCcpKSB7XG4gICAgICBpZiAoIWlucHV0RWxlbWVudC5jaGVja2VkKSBpbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJylcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlucHV0RWxlbWVudC5jaGVja2VkKSBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJycpXG4gICAgfVxuICAgIGlmIChpbnB1dEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpICE9PSBpbnB1dEVsZW1lbnQudmFsdWUpIHtcbiAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgaW5wdXRFbGVtZW50LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIC8vIHN0YXRpYyBnZXRQc3VlZG9BdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gICAvLyBjb25zdCBsYXllciA9IHRoaXMubGF5ZXJzLmdldChlbGVtZW50KVxuICAvLyAgIHJldHVybiAoXG4gIC8vICAgICBgJHt0aGlzLmNvbnRhaW5zSG92ZXIoZWxlbWVudCkgPyBgJHt0aGlzLkhPVkVSX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAvLyAgICAgYCR7ZWxlbWVudC5jb250YWlucyh0aGlzLmZvY3VzRWxlbWVudCkgPyBgJHt0aGlzLkZPQ1VTX0FUVFJJQlVURX09XCJcIiBgIDogJyAnfWAgK1xuICAvLyAgICAgYCR7ZWxlbWVudC5jb250YWlucyh0aGlzLmFjdGl2ZUVsZW1lbnQpID8gYCR7dGhpcy5BQ1RJVkVfQVRUUklCVVRFfT1cIlwiIGAgOiAnICd9YCArXG4gIC8vICAgICBgJHtlbGVtZW50LmNvbnRhaW5zKHRoaXMudGFyZ2V0RWxlbWVudCkgPyBgJHt0aGlzLlRBUkdFVF9BVFRSSUJVVEV9PVwiXCIgYCA6ICcgJ31gXG4gIC8vICAgKVxuICAvLyB9XG5cbiAgc3RhdGljIGlzQmxhbmtJbWFnZShpbWFnZURhdGE6VWludDhDbGFtcGVkQXJyYXkpIHtcbiAgICAgIGNvbnN0IHBpeGVsQnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KGltYWdlRGF0YS5idWZmZXIpXG4gICAgICByZXR1cm4gIXBpeGVsQnVmZmVyLnNvbWUoY29sb3IgPT4gY29sb3IgIT09IDApO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBfVEhSRUUgZnJvbSAndGhyZWUnXG5cbmlmIChzZWxmLlRIUkVFKSB7XG4gIHZhciBUSFJFRSA9IHNlbGYuVEhSRUVcbn0gZWxzZSB7XG4gIHZhciBUSFJFRSA9IF9USFJFRVxufVxuXG5pbXBvcnQgeyBXZWJMYXllcn0gZnJvbSAnLi4vV2ViTGF5ZXInXG5pbXBvcnQgeyBXZWJSZW5kZXJlciB9IGZyb20gJy4uL1dlYlJlbmRlcmVyJ1xuXG5pbXBvcnQge0JvdW5kcywgZ2V0Qm91bmRzLCBnZXRWaWV3cG9ydEJvdW5kcywgdHJhdmVyc2VDaGlsZEVsZW1lbnRzLCBET00gfSBmcm9tICcuLi9kb20tdXRpbHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViTGF5ZXIzRE9wdGlvbnMge1xuICBwaXhlbFJhdGlvPzogbnVtYmVyXG4gIGxheWVyU2VwYXJhdGlvbj86IG51bWJlclxuICBhdXRvUmVmcmVzaD86IGJvb2xlYW5cbiAgb25MYXllckNyZWF0ZT8obGF5ZXI6IFdlYkxheWVyM0RCYXNlKTogdm9pZFxuICBvbkFmdGVyUmFzdGVyaXplPyhsYXllcjogV2ViTGF5ZXIzREJhc2UpOiB2b2lkLFxuICB0ZXh0dXJlRW5jb2Rpbmc/OiBudW1iZXIsXG4gIHJlbmRlck9yZGVyT2Zmc2V0PzogbnVtYmVyXG59XG5cbmV4cG9ydCB7VEhSRUV9XG5cbnR5cGUgSW50ZXJzZWN0aW9uID0gVEhSRUUuSW50ZXJzZWN0aW9uICYge2dyb3VwT3JkZXI6bnVtYmVyfVxuXG5leHBvcnQgdHlwZSBXZWJMYXllckhpdCA9IFJldHVyblR5cGU8dHlwZW9mIFdlYkxheWVyM0QucHJvdG90eXBlLmhpdFRlc3Q+ICYge31cblxuY29uc3Qgc2NyYXRjaFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbmNvbnN0IHNjcmF0Y2hWZWN0b3IyID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kcyA9IG5ldyBCb3VuZHMoKVxuY29uc3Qgc2NyYXRjaEJvdW5kczIgPSBuZXcgQm91bmRzKClcblxuZXhwb3J0IGNsYXNzIFdlYkxheWVyM0RCYXNlIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xuICBwdWJsaWMgZWxlbWVudDpFbGVtZW50XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRPckhUTUw6IEVsZW1lbnR8c3RyaW5nLCBwdWJsaWMgb3B0aW9uczogV2ViTGF5ZXIzRE9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKClcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50ID0gdHlwZW9mIGVsZW1lbnRPckhUTUwgPT09ICdzdHJpbmcnID8gRE9NKGVsZW1lbnRPckhUTUwpIDogZWxlbWVudE9ySFRNTFxuICAgIHRoaXMubmFtZSA9IGVsZW1lbnQuaWRcbiAgICB0aGlzLl93ZWJMYXllciA9IFdlYlJlbmRlcmVyLmdldENsb3Nlc3RMYXllcihlbGVtZW50KSFcblxuICAgIHRoaXMuYWRkKHRoaXMuY29udGVudE1lc2gpXG4gICAgdGhpcy5hZGQodGhpcy5fYm91bmRzTWVzaClcbiAgICB0aGlzLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBcbiAgICB0aGlzLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG5cbiAgICB0aGlzLmNvbnRlbnRNZXNoLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlXG4gICAgdGhpcy5jb250ZW50TWVzaC5tYXRlcmlhbC50b25lTWFwcGVkID0gZmFsc2VcbiAgICB0aGlzLmNvbnRlbnRNZXNoLnZpc2libGUgPSBmYWxzZVxuICAgIHRoaXMuY29udGVudE1lc2hbJ2N1c3RvbURlcHRoTWF0ZXJpYWwnXSA9IHRoaXMuZGVwdGhNYXRlcmlhbFxuXG4gICAgdGhpcy5fYm91bmRzTWVzaC5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZVxuXG4gICAgV2ViTGF5ZXIzRC5sYXllcnNCeUVsZW1lbnQuc2V0KHRoaXMuZWxlbWVudCwgdGhpcylcbiAgICBXZWJMYXllcjNELmxheWVyc0J5TWVzaC5zZXQodGhpcy5jb250ZW50TWVzaCwgdGhpcylcbiAgfVxuXG4gIHByb3RlY3RlZCBfd2ViTGF5ZXIgOiBXZWJMYXllclxuXG4gIHRleHR1cmVzID0gbmV3IE1hcDxIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQsIFRIUkVFLlRleHR1cmU+KClcblxuICBnZXQgY3VycmVudFRleHR1cmUoKSB7XG4gICAgaWYgKHRoaXMuX3dlYkxheWVyLmVsZW1lbnQudGFnTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgY29uc3QgdmlkZW8gPSB0aGlzLl93ZWJMYXllci5lbGVtZW50IGFzIEhUTUxWaWRlb0VsZW1lbnRcbiAgICAgIGxldCB0ID0gdGhpcy50ZXh0dXJlcy5nZXQodmlkZW8pXG4gICAgICBpZiAoIXQpIHtcbiAgICAgICAgdCA9IG5ldyBUSFJFRS5WaWRlb1RleHR1cmUodmlkZW8pXG4gICAgICAgIHQud3JhcFMgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICAgIHQud3JhcFQgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICAgIHQubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nKSB0LmVuY29kaW5nID0gdGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZ1xuICAgICAgICB0aGlzLnRleHR1cmVzLnNldCh2aWRlbywgdClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5fd2ViTGF5ZXIuY2FudmFzXG4gICAgbGV0IHQgPSB0aGlzLnRleHR1cmVzLmdldChjYW52YXMpXG4gICAgaWYgKCF0KSB7XG4gICAgICB0ID0gbmV3IFRIUkVFLlRleHR1cmUoY2FudmFzKVxuICAgICAgdC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgIHQud3JhcFMgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICB0LndyYXBUID0gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZ1xuICAgICAgdC5taW5GaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dHVyZUVuY29kaW5nKSB0LmVuY29kaW5nID0gdGhpcy5vcHRpb25zLnRleHR1cmVFbmNvZGluZ1xuICAgICAgdGhpcy50ZXh0dXJlcy5zZXQoY2FudmFzLCB0KVxuICAgIH0gZWxzZSBpZiAodGhpcy50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgIHRoaXMudGV4dHVyZU5lZWRzVXBkYXRlID0gZmFsc2VcbiAgICAgIHQubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0XG4gIH1cblxuICB0ZXh0dXJlTmVlZHNVcGRhdGUgPSBmYWxzZVxuXG4gIC8vIGNvbnRlbnQgPSBuZXcgT2JqZWN0M0QoKVxuICBjb250ZW50TWVzaCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgIFdlYkxheWVyM0QuR0VPTUVUUlksXG4gICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgYWxwaGFUZXN0OiAwLjAwMSxcbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9KVxuICApXG5cbiAgLyoqXG4gICAqIFRoaXMgbm9uLXZpc2libGUgbWVzaCBlbnN1cmVzIHRoYXQgYW4gYWRhcHRlZCBsYXllciByZXRhaW5zXG4gICAqIGl0cyBpbm5lckJvdW5kcywgZXZlbiBpZiB0aGUgY29udGVudCBtZXNoIGlzXG4gICAqIGluZGVwZW5kZW50bHkgYWRhcHRlZC5cbiAgICovXG4gIHByaXZhdGUgX2JvdW5kc01lc2ggPSBuZXcgVEhSRUUuTWVzaChcbiAgICBXZWJMYXllcjNELkdFT01FVFJZLFxuICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjdXJzb3IgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuXG4gIGRlcHRoTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaERlcHRoTWF0ZXJpYWwoe1xuICAgIGRlcHRoUGFja2luZzogVEhSRUUuUkdCQURlcHRoUGFja2luZyxcbiAgICBhbHBoYVRlc3Q6IDAuMDFcbiAgfSlcblxuICBkb21MYXlvdXQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKVxuICBkb21TaXplID0gbmV3IFRIUkVFLlZlY3RvcjMoMSwxLDEpXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaG92ZXIgc3RhdGVcbiAgICovXG4gIGdldCBwc2V1ZG9TdGF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlYkxheWVyLnBzdWVkb1N0YXRlc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXIgZGVwdGggKGRpc3RhbmNlIGZyb20gdGhpcyBsYXllcidzIGVsZW1lbnQgYW5kIHRoZSBwYXJlbnQgbGF5ZXIncyBlbGVtZW50KVxuICAgKi9cbiAgZ2V0IGRlcHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5kZXB0aFxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBnZXQgaW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50V2ViTGF5ZXIgPyB0aGlzLnBhcmVudFdlYkxheWVyLmNoaWxkV2ViTGF5ZXJzLmluZGV4T2YodGhpcykgOiAwXG4gIH1cblxuICBnZXQgbmVlZHNSZWZyZXNoKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5uZWVkc1JlZnJlc2hcbiAgfVxuXG4gIHNldE5lZWRzUmVmcmVzaCgpIHtcbiAgICB0aGlzLl93ZWJMYXllci50cmF2ZXJzZUxheWVycyhXZWJSZW5kZXJlci5zZXRMYXllck5lZWRzUmVmcmVzaClcbiAgfVxuXG4gIC8qKiBJZiB0cnVlLCB0aGlzIGxheWVyIG5lZWRzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2NlbmUgKi9cbiAgZ2V0IG5lZWRzUmVtb3ZhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2ViTGF5ZXIubmVlZHNSZW1vdmFsXG4gIH1cblxuICBnZXQgYm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWJMYXllci5ib3VuZHNcbiAgfVxuXG4gIGdldCBwYXJlbnRXZWJMYXllcigpOiBXZWJMYXllcjNEQmFzZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX3dlYkxheWVyLnBhcmVudExheWVyICYmXG4gICAgICBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQodGhpcy5fd2ViTGF5ZXIucGFyZW50TGF5ZXIuZWxlbWVudClcbiAgICApXG4gIH1cblxuICBjaGlsZFdlYkxheWVyczogV2ViTGF5ZXIzREJhc2VbXSA9IFtdXG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGUgRE9NIGxheW91dCBzaG91bGQgYmUgYXBwbGllZC5cbiAgICpcbiAgICogV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgZG9tIGxheW91dCBzaG91bGQgYWx3YXlzIGJlIGFwcGxpZWQuXG4gICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIHRoZSBkb20gbGF5b3V0IHNob3VsZCBuZXZlciBiZSBhcHBsaWVkLlxuICAgKiBXaGVuIHNldCB0byBgJ2F1dG8nYCwgdGhlIGRvbSBsYXlvdXQgc2hvdWxkIG9ubHkgYmUgYXBwbGllZFxuICAgKiB3aGVuIHRoZSBgcGFyZW50TGF5ZXJgIGlzIHRoZSBzYW1lIGFzIHRoZSBgcGFyZW50YCBvYmplY3QuXG4gICAqXG4gICAqIEl0IGlzIHRoZSByZXNwb25zaWJpbHRpeSBvZiB0aGUgdXBkYXRlIGNhbGxiYWNrXG4gICAqIHRvIGZvbGxvdyB0aGVzZSBydWxlcy5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYGF1dG9gXG4gICAqL1xuICBzaG91bGRBcHBseURPTUxheW91dDogdHJ1ZSB8IGZhbHNlIHwgJ2F1dG8nID0gJ2F1dG8nXG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggZnJvbSBET01cbiAgICovXG4gIHByb3RlY3RlZCByZWZyZXNoKHJlY3Vyc2U9ZmFsc2UpIHtcbiAgICB0aGlzLl93ZWJMYXllci5yZWZyZXNoKClcbiAgICB0aGlzLmNoaWxkV2ViTGF5ZXJzLmxlbmd0aCA9IDBcbiAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5fd2ViTGF5ZXIuY2hpbGRMYXllcnMpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gV2ViTGF5ZXIzRC5nZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50KGMuZWxlbWVudClcbiAgICAgIGlmICghY2hpbGQpIGNvbnRpbnVlXG4gICAgICB0aGlzLmNoaWxkV2ViTGF5ZXJzLnB1c2goY2hpbGQpXG4gICAgICBpZiAocmVjdXJzZSkgY2hpbGQucmVmcmVzaChyZWN1cnNlKVxuICAgIH1cbiAgICB0aGlzLl9yZWZyZXNoVmlkZW9Cb3VuZHMoKVxuICAgIHRoaXMuX3JlZnJlc2hET01MYXlvdXQoKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVMYXlvdXQoKSB7XG4gICAgdGhpcy5wb3NpdGlvbi5jb3B5KHRoaXMuZG9tTGF5b3V0LnBvc2l0aW9uKVxuICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KHRoaXMuZG9tTGF5b3V0LnF1YXRlcm5pb24pXG4gICAgdGhpcy5zY2FsZS5jb3B5KHRoaXMuZG9tTGF5b3V0LnNjYWxlKVxuICAgIC8vIHRoaXMuY29udGVudE1lc2gucG9zaXRpb24uc2V0KDAsMCwwKVxuICAgIHRoaXMuY29udGVudE1lc2guc2NhbGUuY29weSh0aGlzLmRvbVNpemUpXG4gICAgLy8gdGhpcy5fYm91bmRzTWVzaC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5fYm91bmRzTWVzaC5zY2FsZS5jb3B5KHRoaXMuZG9tU2l6ZSlcbiAgICAvLyBoYW5kbGUgbGF5ZXIgdmlzaWJpbHRpeSBvciByZW1vdmFsXG4gICAgY29uc3QgbWVzaCA9IHRoaXMuY29udGVudE1lc2hcbiAgICBjb25zdCBtYXQgPSBtZXNoLm1hdGVyaWFsIGFzIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsXG4gICAgY29uc3QgaXNIaWRkZW4gPSBtYXQub3BhY2l0eSA8IDAuMDA1XG4gICAgaWYgKGlzSGlkZGVuKSBtZXNoLnZpc2libGUgPSBmYWxzZVxuICAgIGVsc2UgaWYgKG1lc2gubWF0ZXJpYWwubWFwKSBtZXNoLnZpc2libGUgPSB0cnVlXG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsICYmIGlzSGlkZGVuKSB7XG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHRoaXMucGFyZW50LnJlbW92ZSh0aGlzKVxuICAgICAgdGhpcy5kaXNwb3NlKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgY29uc3QgbWVzaCA9IHRoaXMuY29udGVudE1lc2hcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jdXJyZW50VGV4dHVyZVxuICAgIGNvbnN0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFxuICAgIGlmICh0ZXh0dXJlLmltYWdlICYmIG1hdGVyaWFsLm1hcCAhPT0gdGV4dHVyZSkge1xuICAgICAgbWF0ZXJpYWwubWFwID0gdGV4dHVyZVxuICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsWydtYXAnXSA9IHRleHR1cmVcbiAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICAgIG1hdGVyaWFsLmRlcHRoV3JpdGUgPSBmYWxzZVxuICAgICAgdGhpcy5yZW5kZXJPcmRlciA9IHRoaXMuZGVwdGggKyB0aGlzLmluZGV4ICogMC4wMDEgKyAodGhpcy5vcHRpb25zLnJlbmRlck9yZGVyT2Zmc2V0IHx8IDApXG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWVcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2RvVXBkYXRlKCkge1xuICAgIHRoaXMudXBkYXRlTGF5b3V0KClcbiAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKVxuICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaCAmJiB0aGlzLm9wdGlvbnMuYXV0b1JlZnJlc2gpIFxuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICBXZWJSZW5kZXJlci5zY2hlZHVsZVRhc2tzSWZOZWVkZWQoKVxuICB9XG5cbiAgdXBkYXRlKHJlY3Vyc2U9ZmFsc2UpIHtcbiAgICBpZiAocmVjdXJzZSkgdGhpcy50cmF2ZXJzZUxheWVyc1ByZU9yZGVyKHRoaXMuX2RvVXBkYXRlKVxuICAgIGVsc2UgdGhpcy5fZG9VcGRhdGUoKVxuICB9XG5cbiAgcXVlcnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKTogV2ViTGF5ZXIzREJhc2UgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChlbGVtZW50KVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB0cmF2ZXJzZUxheWVyQW5jZXN0b3JzKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzREJhc2UpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGFyZW50TGF5ZXIgPSB0aGlzLnBhcmVudFdlYkxheWVyXG4gICAgaWYgKHBhcmVudExheWVyKSB7XG4gICAgICBwYXJlbnRMYXllci50cmF2ZXJzZUxheWVyQW5jZXN0b3JzKGVhY2gpXG4gICAgICBlYWNoLmNhbGwodGhpcywgcGFyZW50TGF5ZXIpXG4gICAgfVxuICB9XG5cbiAgdHJhdmVyc2VMYXllcnNQcmVPcmRlcihcbiAgICBlYWNoOiAobGF5ZXI6IFdlYkxheWVyM0RCYXNlKSA9PiBib29sZWFufHZvaWRcbiAgKSB7XG4gICAgaWYgKGVhY2guY2FsbCh0aGlzLCB0aGlzKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykge1xuICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHRyYXZlcnNlTGF5ZXJzUG9zdE9yZGVyKFxuICAgIGVhY2g6IChsYXllcjogV2ViTGF5ZXIzREJhc2UpID0+IGJvb2xlYW58dm9pZFxuICApIDogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkV2ViTGF5ZXJzKSB7XG4gICAgICBpZiAoY2hpbGQudHJhdmVyc2VMYXllcnNQb3N0T3JkZXIoZWFjaCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIGVhY2guY2FsbCh0aGlzLCB0aGlzKSB8fCB0cnVlXG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLnRleHR1cmVzLnZhbHVlcygpKSB7XG4gICAgICB0LmRpc3Bvc2UoKVxuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRNZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgIHRoaXMuX2JvdW5kc01lc2guZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgV2ViUmVuZGVyZXIuZGlzcG9zZUxheWVyKHRoaXMuX3dlYkxheWVyKVxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZFdlYkxheWVycykgY2hpbGQuZGlzcG9zZSgpXG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoVmlkZW9Cb3VuZHMoKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgY29uc3QgdmlkZW8gPSB0aGlzLmVsZW1lbnQgYXMgSFRNTFZpZGVvRWxlbWVudFxuICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY3VycmVudFRleHR1cmVcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICAgIGNvbnN0IHsgb2JqZWN0Rml0IH0gPSBjb21wdXRlZFN0eWxlXG4gICAgICBjb25zdCB7IHdpZHRoOiB2aWV3V2lkdGgsIGhlaWdodDogdmlld0hlaWdodCB9ID0gdGhpcy5ib3VuZHNcbiAgICAgIGNvbnN0IHsgdmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQgfSA9IHZpZGVvXG4gICAgICBjb25zdCB2aWRlb1JhdGlvID0gdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0XG4gICAgICBjb25zdCB2aWV3UmF0aW8gPSB2aWV3V2lkdGggLyB2aWV3SGVpZ2h0XG4gICAgICB0ZXh0dXJlLmNlbnRlci5zZXQoMC41LCAwLjUpXG4gICAgICBzd2l0Y2ggKG9iamVjdEZpdCkge1xuICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KS5jbGFtcFNjYWxhcigwLCAxKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvbnRhaW4nOlxuICAgICAgICBjYXNlICdzY2FsZS1kb3duJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSlcbiAgICAgICAgICBpZiAodmlld1JhdGlvID4gdmlkZW9SYXRpbykge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJvdW5kcy5oZWlnaHQgKiB2aWRlb1JhdGlvIHx8IDBcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLmxlZnQgKz0gKHRoaXMuYm91bmRzLndpZHRoIC0gd2lkdGgpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMud2lkdGggPSB3aWR0aFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJvdW5kcy53aWR0aCAvIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMudG9wICs9ICh0aGlzLmJvdW5kcy5oZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NvdmVyJzpcbiAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQodmlld1dpZHRoIC8gdmlkZW9XaWR0aCwgdmlld0hlaWdodCAvIHZpZGVvSGVpZ2h0KVxuICAgICAgICAgIGlmICh2aWV3UmF0aW8gPCB2aWRlb1JhdGlvKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRzLmhlaWdodCAqIHZpZGVvUmF0aW8gfHwgMFxuICAgICAgICAgICAgdGhpcy5ib3VuZHMubGVmdCArPSAodGhpcy5ib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYm91bmRzLndpZHRoIC8gdmlkZW9SYXRpbyB8fCAwXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy50b3AgKz0gKHRoaXMuYm91bmRzLmhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2FzZSAnZmlsbCc6XG4gICAgICAgICAgdGV4dHVyZS5yZXBlYXQuc2V0KDEsIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoRE9NTGF5b3V0KCkge1xuXG4gICAgaWYgKHRoaXMubmVlZHNSZW1vdmFsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmRvbUxheW91dC5wb3NpdGlvbi5zZXQoMCwwLDApXG4gICAgdGhpcy5kb21MYXlvdXQuc2NhbGUuc2V0KDEsIDEsIDEpXG4gICAgdGhpcy5kb21MYXlvdXQucXVhdGVybmlvbi5zZXQoMCwgMCwgMCwgMSlcblxuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRzXG4gICAgY29uc3Qgd2lkdGggPSBib3VuZHMud2lkdGhcbiAgICBjb25zdCBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0XG4gICAgY29uc3QgcGl4ZWxTaXplID0gMSAvIFdlYkxheWVyM0QuREVGQVVMVF9QSVhFTFNfUEVSX1VOSVRcblxuICAgIHRoaXMuZG9tU2l6ZS5zZXQoXG4gICAgICBNYXRoLm1heChwaXhlbFNpemUgKiB3aWR0aCwgMTBlLTYpLFxuICAgICAgTWF0aC5tYXgocGl4ZWxTaXplICogaGVpZ2h0LCAxMGUtNiksXG4gICAgICAxXG4gICAgKVxuXG4gICAgaWYgKCFXZWJMYXllcjNELnNob3VsZEFwcGx5RE9NTGF5b3V0KHRoaXMpKSByZXR1cm5cblxuICAgIGNvbnN0IHBhcmVudEJvdW5kcyA9XG4gICAgICB0aGlzLnBhcmVudFdlYkxheWVyIGluc3RhbmNlb2YgV2ViTGF5ZXIzREJhc2VcbiAgICAgICAgPyB0aGlzLnBhcmVudFdlYkxheWVyLmJvdW5kc1xuICAgICAgICA6IGdldFZpZXdwb3J0Qm91bmRzKHNjcmF0Y2hCb3VuZHMpXG4gICAgY29uc3QgcGFyZW50V2lkdGggPSBwYXJlbnRCb3VuZHMud2lkdGhcbiAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSBwYXJlbnRCb3VuZHMuaGVpZ2h0XG5cbiAgICBjb25zdCBsZWZ0RWRnZSA9IC1wYXJlbnRXaWR0aCAvIDIgKyB3aWR0aCAvIDJcbiAgICBjb25zdCB0b3BFZGdlID0gcGFyZW50SGVpZ2h0IC8gMiAtIGhlaWdodCAvIDJcblxuICAgIGNvbnN0IHNlcCA9IHRoaXMub3B0aW9ucy5sYXllclNlcGFyYXRpb24gfHwgV2ViTGF5ZXIzRC5ERUZBVUxUX0xBWUVSX1NFUEFSQVRJT05cbiAgICBcbiAgICB0aGlzLmRvbUxheW91dC5wb3NpdGlvbi5zZXQoXG4gICAgICBwaXhlbFNpemUgKiAobGVmdEVkZ2UgKyBib3VuZHMubGVmdCksXG4gICAgICBwaXhlbFNpemUgKiAodG9wRWRnZSAtIGJvdW5kcy50b3ApLFxuICAgICAgMFxuICAgICAgLy8gdGhpcy5kZXB0aCAqIHNlcCArXG4gICAgICAvLyAgICh0aGlzLnBhcmVudFdlYkxheWVyID8gdGhpcy5wYXJlbnRXZWJMYXllci5pbmRleCAqIHNlcCAqIDAuMDEgOiAwKSArXG4gICAgICAvLyAgIHRoaXMuaW5kZXggKiBzZXAgKiAwLjAwMVxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhIERPTSB0cmVlIGludG8gM0QgbGF5ZXJzLlxuICpcbiAqIFdoZW4gYW4gaW5zdGFuY2UgaXMgY3JlYXRlZCwgYSBgeHItbGF5ZXJgIGlzIHNldCBvbiB0aGVcbiAqIHRoZSBwYXNzZWQgRE9NIGVsZW1lbnQgdG8gbWF0Y2ggdGhpcyBpbnN0YW5jZSdzIE9iamVjdDNEIGlkLlxuICogSWYgdGhlIHBhc3NlZCBET00gZWxlbWVudCBoYXMgYW4gYGlkYCBhdHRyaWJ1dGUsIHRoaXMgaW5zdGFuY2UncyBPYmplY3QzRCBuYW1lXG4gKiB3aWxsIGJlIHNldCB0byBtYXRjaCB0aGUgZWxlbWVudCBpZC5cbiAqXG4gKiBDaGlsZCBXZWJMYXllcjNEIGluc3RhbmNlcyBjYW4gYmUgc3BlY2lmaWVkIHdpdGggYW4gYHhyLWxheWVyYCBhdHRyaWJ1dGUsXG4gKiB3aGljaCB3aWxsIGJlIHNldCB3aGVuIHRoZSBjaGlsZCBXZWJMYXllcjNEIGluc3RhbmNlIGlzIGNyZWF0ZWQgYXV0b21hdGljYWxseS5cbiAqIFRoZSBhdHRyaWJ1dGUgY2FuIGJlIHNwZWNpZmllZCBhZGRlZCBpbiBIVE1MIG9yIGR5bmFtaWNhbGx5OlxuICogIC0gYDxkaXYgeHItbGF5ZXI+PC9kaXY+YFxuICpcbiAqIEFkZGl0aW9uYWxseSwgdGhlIHBpeGVsIHJhdGlvIGNhbiBiZSBhZGp1c3RlZCBvbiBlYWNoIGxheWVyLCBpbmRpdmlkdWFsbHk6XG4gKiAgLSBgPGRpdiB4ci1sYXllciB4ci1waXhlbC1yYXRpbz1cIjAuNVwiPjwvZGl2PmBcbiAqXG4gKiBEZWZhdWx0IGRpbWVuc2lvbnM6IDFweCA9IDAuMDAxIHdvcmxkIGRpbWVuc2lvbnMgPSAxbW0gKGFzc3VtaW5nIG1ldGVycylcbiAqICAgICBlLmcuLCA1MDBweCB3aWR0aCBtZWFucyAwLjVtZXRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkxheWVyM0QgZXh0ZW5kcyBXZWJMYXllcjNEQmFzZSB7XG5cbiAgc3RhdGljIGxheWVyc0J5RWxlbWVudCA9IG5ldyBXZWFrTWFwPEVsZW1lbnQsIFdlYkxheWVyM0RCYXNlPigpXG4gIHN0YXRpYyBsYXllcnNCeU1lc2ggPSBuZXcgV2Vha01hcDxUSFJFRS5NZXNoLCBXZWJMYXllcjNEQmFzZT4oKVxuXG4gIHN0YXRpYyBERUZBVUxUX0xBWUVSX1NFUEFSQVRJT04gPSAwLjAwMVxuICBzdGF0aWMgREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQgPSAxMDAwXG4gIHN0YXRpYyBHRU9NRVRSWSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEsIDIsIDIpIGFzIFRIUkVFLkdlb21ldHJ5XG5cbiAgc3RhdGljIGNvbXB1dGVOYXR1cmFsRGlzdGFuY2UoXG4gICAgcHJvamVjdGlvbjogVEhSRUUuTWF0cml4NCB8IFRIUkVFLkNhbWVyYSxcbiAgICByZW5kZXJlcjogVEhSRUUuV2ViR0xSZW5kZXJlclxuICApIHtcbiAgICBsZXQgcHJvamVjdGlvbk1hdHJpeCA9IHByb2plY3Rpb24gYXMgIFRIUkVFLk1hdHJpeDRcbiAgICBpZiAoKHByb2plY3Rpb24gYXMgVEhSRUUuQ2FtZXJhKS5pc0NhbWVyYSkge1xuICAgICAgcHJvamVjdGlvbk1hdHJpeCA9IChwcm9qZWN0aW9uIGFzIFRIUkVFLkNhbWVyYSkucHJvamVjdGlvbk1hdHJpeFxuICAgIH1cbiAgICBjb25zdCBwaXhlbFJhdGlvID0gcmVuZGVyZXIuZ2V0UGl4ZWxSYXRpbygpXG4gICAgY29uc3Qgd2lkdGhQaXhlbHMgPSByZW5kZXJlci5kb21FbGVtZW50LndpZHRoIC8gcGl4ZWxSYXRpb1xuICAgIGNvbnN0IHdpZHRoID0gV2ViTGF5ZXIzRC5ERUZBVUxUX1BJWEVMU19QRVJfVU5JVCAqIHdpZHRoUGl4ZWxzXG4gICAgY29uc3QgaG9yaXpvbnRhbEZPViA9IGdldEZvdnMocHJvamVjdGlvbk1hdHJpeCkuaG9yaXpvbnRhbFxuICAgIGNvbnN0IG5hdHVyYWxEaXN0YW5jZSA9IHdpZHRoIC8gMiAvIE1hdGgudGFuKGhvcml6b250YWxGT1YgLyAyKVxuICAgIHJldHVybiBuYXR1cmFsRGlzdGFuY2VcbiAgfVxuICBcbiAgc3RhdGljIHNob3VsZEFwcGx5RE9NTGF5b3V0KGxheWVyOiBXZWJMYXllcjNEQmFzZSkge1xuICAgIGNvbnN0IHNob3VsZCA9IGxheWVyLnNob3VsZEFwcGx5RE9NTGF5b3V0XG4gICAgaWYgKChzaG91bGQgYXMgYW55KSA9PT0gJ2Fsd2F5cycgfHwgc2hvdWxkID09PSB0cnVlKSByZXR1cm4gdHJ1ZVxuICAgIGlmICgoc2hvdWxkIGFzIGFueSkgPT09ICduZXZlcicgfHwgc2hvdWxkID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKHNob3VsZCA9PT0gJ2F1dG8nICYmIGxheWVyLnBhcmVudFdlYkxheWVyICYmIGxheWVyLnBhcmVudCA9PT0gbGF5ZXIucGFyZW50V2ViTGF5ZXIpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgcGFyZW50V2ViTGF5ZXIoKSB7XG4gICAgcmV0dXJuIHN1cGVyLnBhcmVudFdlYkxheWVyIVxuICB9XG5cbiAgcHJpdmF0ZSBfaW50ZXJhY3Rpb25SYXlzID0gW10gYXMgQXJyYXk8VEhSRUUuUmF5IHwgVEhSRUUuT2JqZWN0M0Q+XG4gIHByaXZhdGUgX3JheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKVxuICBwcml2YXRlIF9oaXRJbnRlcnNlY3Rpb25zID0gW10gYXMgSW50ZXJzZWN0aW9uW11cblxuICBjb25zdHJ1Y3RvcihlbGVtZW50T3JIVE1MOiBFbGVtZW50fHN0cmluZywgcHVibGljIG9wdGlvbnM6IFdlYkxheWVyM0RPcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihlbGVtZW50T3JIVE1MLCBvcHRpb25zKVxuXG4gICAgdGhpcy5fd2ViTGF5ZXIgPSBXZWJSZW5kZXJlci5jcmVhdGVMYXllclRyZWUodGhpcy5lbGVtZW50LCAoZXZlbnQsIHsgdGFyZ2V0IH0pID0+IHtcbiAgICAgIGlmIChldmVudCA9PT0gJ2xheWVyY3JlYXRlZCcpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGhpcy5lbGVtZW50KSByZXR1cm5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgV2ViTGF5ZXIzREJhc2UodGFyZ2V0LCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIGxheWVyLnBhcmVudFdlYkxheWVyPy5hZGQobGF5ZXIpXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uTGF5ZXJDcmVhdGUobGF5ZXIpXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbGF5ZXJwYWludGVkJykge1xuICAgICAgICBjb25zdCBsYXllciA9IFdlYlJlbmRlcmVyLmxheWVycy5nZXQodGFyZ2V0KSFcbiAgICAgICAgY29uc3QgbGF5ZXIzRCA9IFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChsYXllci5lbGVtZW50KSFcbiAgICAgICAgbGF5ZXIzRC50ZXh0dXJlTmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbGF5ZXJtb3ZlZCcpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQodGFyZ2V0KSFcbiAgICAgICAgbGF5ZXIucGFyZW50V2ViTGF5ZXI/LmFkZChsYXllcilcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmICh0aGlzLm9wdGlvbnMub25MYXllckNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uTGF5ZXJDcmVhdGUodGhpcylcblxuICAgIHRoaXMucmVmcmVzaCh0cnVlKVxuICAgIHRoaXMudXBkYXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgUmF5cyB0byBiZSB1c2VkIGZvciBpbnRlcmFjdGlvbi5cbiAgICogQ2FuIG9ubHkgYmUgc2V0IG9uIGEgcm9vdCBXZWJMYXllcjNEIGluc3RhbmNlLlxuICAgKi9cbiAgZ2V0IGludGVyYWN0aW9uUmF5cygpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3Rpb25SYXlzXG4gIH1cbiAgc2V0IGludGVyYWN0aW9uUmF5cyhyYXlzOiBBcnJheTxUSFJFRS5SYXkgfCBUSFJFRS5PYmplY3QzRD4pIHtcbiAgICB0aGlzLl9pbnRlcmFjdGlvblJheXMgPSByYXlzXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoaXMgbGF5ZXIsIG9wdGlvbmFsbHkgcmVjdXJzaXZlbHlcbiAgICovXG4gIHVwZGF0ZShyZWN1cnNlPWZhbHNlKSB7XG4gICAgdGhpcy5fdXBkYXRlSW50ZXJhY3Rpb25zKClcbiAgICBzdXBlci51cGRhdGUocmVjdXJzZSlcbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpb3VzSG92ZXJMYXllcnMgPSBuZXcgU2V0PFdlYkxheWVyM0RCYXNlPigpXG4gIHByaXZhdGUgX2NvbnRlbnRNZXNoZXMgPSBbXSBhcyBUSFJFRS5NZXNoW11cblxuICBwcml2YXRlIF9wcmVwYXJlSGl0VGVzdCA9IChsYXllcjpXZWJMYXllcjNEQmFzZSkgPT4ge1xuICAgIGlmIChsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIpIHRoaXMuX3ByZXZpb3VzSG92ZXJMYXllcnMuYWRkKGxheWVyKVxuICAgIGxheWVyLmN1cnNvci52aXNpYmxlID0gZmFsc2VcbiAgICBsYXllci5wc2V1ZG9TdGF0ZXMuaG92ZXIgPSBmYWxzZVxuICAgIHRoaXMuX2NvbnRlbnRNZXNoZXMucHVzaChsYXllci5jb250ZW50TWVzaClcbiAgfVxuXG4gIHByaXZhdGUgX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIoaTpJbnRlcnNlY3Rpb24pIHtcbiAgICBsZXQgbyA9IGkub2JqZWN0IGFzIFRIUkVFLkdyb3VwJlRIUkVFLk9iamVjdDNEXG4gICAgd2hpbGUgKG8ucGFyZW50ICYmICFvLmlzR3JvdXApIHtcbiAgICAgIG8gPSBvLnBhcmVudCBhcyBUSFJFRS5Hcm91cCZUSFJFRS5PYmplY3QzRFxuICAgIH1cbiAgICBpLmdyb3VwT3JkZXIgPSBvLnJlbmRlck9yZGVyXG4gIH1cblxuICBwcml2YXRlIF9pbnRlcnNlY3Rpb25Tb3J0KGE6SW50ZXJzZWN0aW9uLGI6SW50ZXJzZWN0aW9uKSB7XG4gICAgaWYgKCBhLmdyb3VwT3JkZXIgIT09IGIuZ3JvdXBPcmRlciApIHtcblx0XHQgIHJldHVybiBiLmdyb3VwT3JkZXIgLSBhLmdyb3VwT3JkZXJcblx0ICB9IGVsc2UgaWYgKCBhLm9iamVjdC5yZW5kZXJPcmRlciAhPT0gYi5vYmplY3QucmVuZGVyT3JkZXIgKSB7XG4gICAgICByZXR1cm4gYi5vYmplY3QucmVuZGVyT3JkZXIgLSBhLm9iamVjdC5yZW5kZXJPcmRlclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2VcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVJbnRlcmFjdGlvbnMoKSB7XG4gICAgLy8gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCB0cnVlKVxuICAgIFxuICAgIGNvbnN0IHByZXZIb3ZlciA9IHRoaXMuX3ByZXZpb3VzSG92ZXJMYXllcnNcbiAgICBwcmV2SG92ZXIuY2xlYXIoKVxuICAgIHRoaXMuX2NvbnRlbnRNZXNoZXMubGVuZ3RoID0gMFxuICAgIHRoaXMudHJhdmVyc2VMYXllcnNQcmVPcmRlcih0aGlzLl9wcmVwYXJlSGl0VGVzdClcblxuICAgIGZvciAoY29uc3QgcmF5IG9mIHRoaXMuX2ludGVyYWN0aW9uUmF5cykge1xuICAgICAgaWYgKHJheSBpbnN0YW5jZW9mIFRIUkVFLlJheSkgdGhpcy5fcmF5Y2FzdGVyLnJheS5jb3B5KHJheSlcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fcmF5Y2FzdGVyLnJheS5zZXQoXG4gICAgICAgICAgcmF5LmdldFdvcmxkUG9zaXRpb24oc2NyYXRjaFZlY3RvciksXG4gICAgICAgICAgcmF5LmdldFdvcmxkRGlyZWN0aW9uKHNjcmF0Y2hWZWN0b3IyKVxuICAgICAgICApXG4gICAgICB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zLmxlbmd0aCA9IDBcbiAgICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLl9jb250ZW50TWVzaGVzLCBmYWxzZSwgdGhpcy5faGl0SW50ZXJzZWN0aW9ucykgYXMgSW50ZXJzZWN0aW9uW11cbiAgICAgIGludGVyc2VjdGlvbnMuZm9yRWFjaCh0aGlzLl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyKVxuICAgICAgaW50ZXJzZWN0aW9ucy5zb3J0KHRoaXMuX2ludGVyc2VjdGlvblNvcnQpXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zWzBdXG4gICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gaW50ZXJzZWN0aW9uLm9iamVjdC5wYXJlbnQgYXMgV2ViTGF5ZXIzREJhc2VcbiAgICAgICAgbGF5ZXIuY3Vyc29yLnBvc2l0aW9uLmNvcHkoaW50ZXJzZWN0aW9uLnBvaW50KVxuICAgICAgICBsYXllci5jdXJzb3IudmlzaWJsZSA9IHRydWVcbiAgICAgICAgbGF5ZXIucHNldWRvU3RhdGVzLmhvdmVyID0gdHJ1ZVxuICAgICAgICBpZiAoIXByZXZIb3Zlci5oYXMobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIuc2V0TmVlZHNSZWZyZXNoKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgcHJldkhvdmVyKSB7XG4gICAgICBpZiAoIWxheWVyLnBzZXVkb1N0YXRlcy5ob3Zlcikge1xuICAgICAgICBsYXllci5zZXROZWVkc1JlZnJlc2goKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRMYXllckZvclF1ZXJ5KHNlbGVjdG9yOiBzdHJpbmcpOiBXZWJMYXllcjNEQmFzZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIVxuICAgIHJldHVybiBXZWJMYXllcjNELmxheWVyc0J5RWxlbWVudC5nZXQoZWxlbWVudClcbiAgfVxuXG4gIHN0YXRpYyBnZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpOiBXZWJMYXllcjNEQmFzZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgY2xvc2VzdExheWVyRWxlbWVudCA9XG4gICAgICBlbGVtZW50ICYmIChlbGVtZW50LmNsb3Nlc3QoYFske1dlYlJlbmRlcmVyLkxBWUVSX0FUVFJJQlVURX1dYCkgYXMgSFRNTEVsZW1lbnQpXG4gICAgcmV0dXJuIFdlYkxheWVyM0QubGF5ZXJzQnlFbGVtZW50LmdldChjbG9zZXN0TGF5ZXJFbGVtZW50KVxuICB9XG5cbiAgaGl0VGVzdChyYXk6IFRIUkVFLlJheSkge1xuICAgIGNvbnN0IHJheWNhc3RlciA9IHRoaXMuX3JheWNhc3RlclxuICAgIGNvbnN0IGludGVyc2VjdGlvbnMgPSB0aGlzLl9oaXRJbnRlcnNlY3Rpb25zXG4gICAgY29uc3QgbWVzaE1hcCA9IFdlYkxheWVyM0QubGF5ZXJzQnlNZXNoXG4gICAgcmF5Y2FzdGVyLnJheS5jb3B5KHJheSlcbiAgICBpbnRlcnNlY3Rpb25zLmxlbmd0aCA9IDBcbiAgICByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0KHRoaXMsIHRydWUsIGludGVyc2VjdGlvbnMpXG4gICAgaW50ZXJzZWN0aW9ucy5mb3JFYWNoKHRoaXMuX2ludGVyc2VjdGlvbkdldEdyb3VwT3JkZXIpXG4gICAgaW50ZXJzZWN0aW9ucy5zb3J0KHRoaXMuX2ludGVyc2VjdGlvblNvcnQpXG4gICAgZm9yIChjb25zdCBpbnRlcnNlY3Rpb24gb2YgaW50ZXJzZWN0aW9ucykge1xuICAgICAgY29uc3QgbGF5ZXIgPSBtZXNoTWFwIS5nZXQoaW50ZXJzZWN0aW9uLm9iamVjdCBhcyBhbnkpXG4gICAgICBpZiAoIWxheWVyKSBjb250aW51ZVxuICAgICAgY29uc3QgbGF5ZXJCb3VuZGluZ1JlY3QgPSBnZXRCb3VuZHMobGF5ZXIuZWxlbWVudCwgc2NyYXRjaEJvdW5kcykhXG4gICAgICBpZiAoIWxheWVyQm91bmRpbmdSZWN0LndpZHRoIHx8ICFsYXllckJvdW5kaW5nUmVjdC5oZWlnaHQpIGNvbnRpbnVlXG4gICAgICBsZXQgdGFyZ2V0ID0gbGF5ZXIuZWxlbWVudCBhcyBIVE1MRWxlbWVudFxuICAgICAgY29uc3QgY2xpZW50WCA9IGludGVyc2VjdGlvbi51diEueCAqIGxheWVyQm91bmRpbmdSZWN0LndpZHRoXG4gICAgICBjb25zdCBjbGllbnRZID0gKDEgLSBpbnRlcnNlY3Rpb24udXYhLnkpICogbGF5ZXJCb3VuZGluZ1JlY3QuaGVpZ2h0XG4gICAgICB0cmF2ZXJzZUNoaWxkRWxlbWVudHMobGF5ZXIuZWxlbWVudCwgZWwgPT4ge1xuICAgICAgICBpZiAoIXRhcmdldC5jb250YWlucyhlbCkpIHJldHVybiBmYWxzZVxuICAgICAgICBjb25zdCBlbGVtZW50Qm91bmRpbmdSZWN0ID0gZ2V0Qm91bmRzKGVsLCBzY3JhdGNoQm91bmRzMikhXG4gICAgICAgIGNvbnN0IG9mZnNldExlZnQgPSBlbGVtZW50Qm91bmRpbmdSZWN0LmxlZnQgLSBsYXllckJvdW5kaW5nUmVjdC5sZWZ0XG4gICAgICAgIGNvbnN0IG9mZnNldFRvcCA9IGVsZW1lbnRCb3VuZGluZ1JlY3QudG9wIC0gbGF5ZXJCb3VuZGluZ1JlY3QudG9wXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZWxlbWVudEJvdW5kaW5nUmVjdFxuICAgICAgICBjb25zdCBvZmZzZXRSaWdodCA9IG9mZnNldExlZnQgKyB3aWR0aFxuICAgICAgICBjb25zdCBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgKyBoZWlnaHRcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNsaWVudFggPiBvZmZzZXRMZWZ0ICYmXG4gICAgICAgICAgY2xpZW50WCA8IG9mZnNldFJpZ2h0ICYmXG4gICAgICAgICAgY2xpZW50WSA+IG9mZnNldFRvcCAmJlxuICAgICAgICAgIGNsaWVudFkgPCBvZmZzZXRCb3R0b21cbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZWwgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZSAvLyBzdG9wIHRyYXZlcnNhbCBkb3duIHRoaXMgcGF0aFxuICAgICAgfSlcbiAgICAgIHJldHVybiB7IGxheWVyLCBpbnRlcnNlY3Rpb24sIHRhcmdldCB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG59XG5cbmNsYXNzIENhbWVyYUZPVnMge1xuICB0b3AgPSAwXG4gIGxlZnQgPSAwXG4gIGJvdHRvbSA9IDBcbiAgcmlnaHQgPSAwXG4gIGhvcml6b250YWwgPSAwXG4gIHZlcnRpY2FsID0gMFxufVxuXG5jb25zdCBfZm92cyA9IG5ldyBDYW1lcmFGT1ZzKClcbmNvbnN0IF9nZXRGb3ZzTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKVxuY29uc3QgX2dldEZvdnNWZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG5jb25zdCBGT1JXQVJEID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpXG5mdW5jdGlvbiBnZXRGb3ZzKHByb2plY3Rpb25NYXRyaXg6IFRIUkVFLk1hdHJpeDQpIHtcbiAgY29uc3Qgb3V0ID0gX2ZvdnNcbiAgY29uc3QgaW52UHJvamVjdGlvbiA9IF9nZXRGb3ZzTWF0cml4LmdldEludmVyc2UocHJvamVjdGlvbk1hdHJpeClcbiAgY29uc3QgdmVjID0gX2dldEZvdnNWZWN0b3JcbiAgb3V0LmxlZnQgPSB2ZWNcbiAgICAuc2V0KC0xLCAwLCAtMSlcbiAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4gICAgLmFuZ2xlVG8oRk9SV0FSRClcbiAgb3V0LnJpZ2h0ID0gdmVjXG4gICAgLnNldCgxLCAwLCAtMSlcbiAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4gICAgLmFuZ2xlVG8oRk9SV0FSRClcbiAgb3V0LnRvcCA9IHZlY1xuICAgIC5zZXQoMCwgMSwgLTEpXG4gICAgLmFwcGx5TWF0cml4NChpbnZQcm9qZWN0aW9uKVxuICAgIC5hbmdsZVRvKEZPUldBUkQpXG4gIG91dC5ib3R0b20gPSB2ZWNcbiAgICAuc2V0KDAsIC0xLCAtMSlcbiAgICAuYXBwbHlNYXRyaXg0KGludlByb2plY3Rpb24pXG4gICAgLmFuZ2xlVG8oRk9SV0FSRClcbiAgb3V0Lmhvcml6b250YWwgPSBvdXQucmlnaHQgKyBvdXQubGVmdFxuICBvdXQudmVydGljYWwgPSBvdXQudG9wICsgb3V0LmJvdHRvbVxuICByZXR1cm4gb3V0XG59XG4iLCJpbXBvcnQge2NyZWF0ZUFwcH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgV2ViTGF5ZXIzRCB9IGZyb20gXCIuLi8uLi9wYWNrYWdlcy9ldGhlcmVhbC9ldGhlcmVhbC5lc1wiO1xuXG5leHBvcnQgY2xhc3MgSHVic0FwcCB7XG4gICAgY29uc3RydWN0b3IgKHdpZHRoLCBoZWlnaHQsIEFwcCwgY3JlYXRlT3B0aW9ucz17fSkge1xuICAgICAgICB0aGlzLmlzSW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc05ldHdvcmtlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudGFrZU93bmVyc2hpcCA9IHRoaXMudGFrZU93bmVyc2hpcFByb3RvLmJpbmQodGhpcylcbiAgICAgICAgdGhpcy5zZXRTaGFyZWREYXRhID0gdGhpcy5zZXRTaGFyZWREYXRhUHJvdG8uYmluZCh0aGlzKVxuXG4gICAgICAgIHRoaXMuaGVhZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgdGhpcy5hcHBEaXYgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIFxuICAgICAgICAvLyB0aGlzLmhlYWREaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIC8vIHRoaXMuaGVhZERpdi5zdHlsZS5sZWZ0ID0gLTEwMDAwKydweCc7XG4gICAgICAgIC8vIHRoaXMuaGVhZERpdi5zdHlsZS50b3AgPSAwKydweCc7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmhlYWREaXYuYXBwZW5kQ2hpbGQodGhpcy5hcHBEaXYpXG4gICAgICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5oZWFkRGl2KVxuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuXG4gICAgICAgIHRoaXMudnVlQXBwID0gY3JlYXRlQXBwKEFwcCwgY3JlYXRlT3B0aW9ucylcbiAgICB9XG5cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy52dWVSb290ID0gdGhpcy52dWVBcHAubW91bnQodGhpcy5hcHBEaXYpO1xuICAgICAgICB0aGlzLndlYkxheWVyM0QgPSBuZXcgV2ViTGF5ZXIzRCh0aGlzLnZ1ZVJvb3QuJGVsLCB7XG4gICAgICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgICAgIG9uTGF5ZXJDcmVhdGU6IChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgeWV0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclJhc3Rlcml6ZShsYXllcikge1xuICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgeWV0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGV4dHVyZUVuY29kaW5nOiBUSFJFRS5zUkdCRW5jb2RpbmcsXG4gICAgICAgICAgICByZW5kZXJPcmRlck9mZnNldDogLTEwMDBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0TmV0d29ya01ldGhvZHModGFrZU93bmVyc2hpcCwgc2V0U2hhcmVkRGF0YSkge1xuICAgICAgICB0aGlzLnRha2VPd25lcnNoaXAgPSB0YWtlT3duZXJzaGlwO1xuICAgICAgICB0aGlzLnNldFNoYXJlZERhdGEgPSBzZXRTaGFyZWREYXRhO1xuICAgIH1cblxuICAgIC8vIGR1bW15IGZ1bmN0aW9ucywganVzdCB0byBhdm9pZCBlcnJvcnMgaWYgdGhleSBnZXQgY2FsbGVkIGJlZm9yZVxuICAgIC8vIG5ldHdvcmtpbmcgaXMgaW5pdGlhbGl6ZWQsIG9yIGNhbGxlZCB3aGVuIG5ldHdvcmtlZCBpcyBmYWxzZVxuICAgIHRha2VPd25lcnNoaXBQcm90bygpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNldFNoYXJlZERhdGFQcm90byhvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gcmVjZWl2ZSBkYXRhIHVwZGF0ZXMuICBzaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzXG4gICAgdXBkYXRlU2hhcmVkRGF0YShkYXRhT2JqZWN0KSB7XG4gICAgICAgIHJhaXNlKFwidXBkYXRlRGF0YSBzaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzXCIpXG4gICAgfVxuXG4gICAgLy8gcmVjZWl2ZSBkYXRhIHVwZGF0ZXMuICBzaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzXG4gICAgZ2V0U2hhcmVkRGF0YShkYXRhT2JqZWN0KSB7XG4gICAgICAgIHJhaXNlKFwiZ2V0U2hhcmVkRGF0YSBzaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzXCIpXG4gICAgfVxuICAgIFxuICAgIHBsYXkoKSB7XG4gICAgICAgIC8vIGlmIHdlIGNhbiBmaWd1cmUgb3V0IGhvdyB0byBwYXVzZSwgdGhlbiByZXN0YXJ0IGhlcmVcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgLy8gcGVyaGFwcyBmaWd1cmUgb3V0IGhvdyB0byBwYXVzZSB0aGUgVnVlIGNvbXBvbmVudD9cbiAgICB9XG4gICAgXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSB0aGUgdnVlIGNvbXBvbmVudCBhbmQgYW55IHJlc291cmNlcywgZXRjLiwgaXQgaGFzXG4gICAgfVxufSIsImltcG9ydCBBcHAgZnJvbSBcIi4vQXBwVGVzdDEudnVlXCI7XG5pbXBvcnQgeyBIdWJzQXBwIH0gZnJvbSBcIi4uL0h1YnNBcHBcIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCdcblxuZXhwb3J0IGNsYXNzIEh1YnNUZXN0MSBleHRlbmRzIEh1YnNBcHAge1xuICAgIGNvbnN0cnVjdG9yICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIEFwcClcbiAgICAgICAgdGhpcy5pc0ludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc05ldHdvcmtlZCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBsZXQgYXBwID0gdGhpczsgLy8gc28gd2UgY2FuIHJlZmVyZW5jZSBpdCBpbiB0aGUgbWV0aG9kcyBiZWxvd1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc3RvcmUgaW5zdGFuY2UuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBjcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICBzdGF0ZTogeyBcbiAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG11dGF0aW9uczoge1xuICAgICAgICAgICAgICAgIHNldENvdW50IChzdGF0ZSwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLmNvdW50ID0gY291bnQ7ICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudCAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwLnRha2VPd25lcnNoaXAoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cgKEpTT04uc3RyaW5naWZ5KGNvbnRleHQuc3RhdGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldENvdW50JywgY29udGV4dC5zdGF0ZS5jb3VudCsxKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cgKEpTT04uc3RyaW5naWZ5KGNvbnRleHQuc3RhdGUpKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuc2V0U2hhcmVkRGF0YShjb250ZXh0LnN0YXRlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmxvZyAoSlNPTi5zdHJpbmdpZnkodGhpcy5zdG9yZS5zdGF0ZSkpXG5cbiAgICAgICAgdGhpcy52dWVBcHAudXNlKHRoaXMuc3RvcmUpXG4gICAgfVxuICAgIFxuICAgIHVwZGF0ZVNoYXJlZERhdGEoZGF0YU9iamVjdCkge1xuICAgICAgICAvLyBuZWVkIHRvIHVwZGF0ZSB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSBzdG9yZSwgYmVjYXVzZSBvdGhlcndpc2VcbiAgICAgICAgLy8gdGhlIGRhdGEgd29uJ3QgZmxvdyB0byB0aGUgY29tcG9uZW50c1xuICAgICAgICB0aGlzLnN0b3JlLmNvbW1pdChcInNldENvdW50XCIsIGRhdGFPYmplY3QuY291bnQpXG4gICAgfVxuXG4gICAgZ2V0U2hhcmVkRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuc3RhdGU7XG4gICAgfVxufVxuXG52YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXBwID0gbmV3IEh1YnNUZXN0MSgyLCAyLjI1KVxuICAgIGFwcC5tb3VudCgpXG4gICAgcmV0dXJuIGFwcFxufVxuXG5leHBvcnQgZGVmYXVsdCBpbml0XG4iLCI8dGVtcGxhdGU+XG4gIDxoMT57eyBtc2cgfX08L2gxPlxuXG4gIDxwPlxuICAgIDxhIGhyZWY9XCJodHRwczovL3ZpdGVqcy5kZXYvZ3VpZGUvZmVhdHVyZXMuaHRtbFwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgVml0ZSBEb2N1bWVudGF0aW9uIGFuZCBUaGVuIFNvbWUhIFxuICAgIDwvYT5cbiAgICB8XG4gICAgPGEgaHJlZj1cImh0dHBzOi8vdjMudnVlanMub3JnL1wiIHRhcmdldD1cIl9ibGFua1wiPlZ1ZSAzIERvY3VtZW50YXRpb248L2E+XG4gIDwvcD5cblxuICA8YnV0dG9uIHhyLWxheWVyIEBjbGljaz1cInN0YXRlLmNvdW50KytcIj5jb3VudCBpczoge3sgc3RhdGUuY291bnQgfX08L2J1dHRvbj5cbiAgPHA+XG4gICAgRWRpdFxuICAgIDxjb2RlPmNvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWU8L2NvZGU+IHRvIHRlc3QgaG90IG1vZHVsZSByZXBsYWNlbWVudCB3aGlsZSBydW5uaW5nIHByb2plY3QgYXMgXCJucG0gcnVuIGRldlwiLlxuICA8L3A+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IHsgZGVmaW5lUHJvcHMsIHJlYWN0aXZlIH0gZnJvbSAndnVlJ1xuXG5kZWZpbmVQcm9wcyh7XG4gIG1zZzogU3RyaW5nXG59KVxuXG5jb25zdCBzdGF0ZSA9IHJlYWN0aXZlKHsgY291bnQ6IDAgfSlcbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuYSB7XG4gIGNvbG9yOiAjNDJiOTgzO1xufVxuXG4qIHtcbiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICBsaW5lLWhlaWdodCA6IG5vcm1hbDtcbn1cblxucCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAxZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xufVxuXG5oMSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwLjY3ZW07XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMC42N2VtO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5idXR0b24ge1xuICAgIC8qIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDMwcHg7ICovXG4gICAgYXBwZWFyYW5jZTogYXV0bztcbiAgICAtd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YiAhaW1wb3J0YW50O1xuICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvO1xuICAgIGNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhibGFjaywgd2hpdGUpO1xuICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gICAgd29yZC1zcGFjaW5nOiBub3JtYWw7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgdGV4dC1pbmRlbnQ6IDBweDtcbiAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMjM5LCAyMzksIDIzOSksIHJnYig1OSwgNTksIDU5KSk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBtYXJnaW46IDBlbTtcbiAgICBmb250OiA0MDAgMTMuMzMzM3B4IEFyaWFsO1xuICAgIHBhZGRpbmc6IDFweCA2cHg7XG4gICAgYm9yZGVyLXdpZHRoOiAycHg7XG4gICAgYm9yZGVyLXN0eWxlOiBvdXRzZXQ7XG4gICAgYm9yZGVyLWNvbG9yOiAtaW50ZXJuYWwtbGlnaHQtZGFyayhyZ2IoMTE4LCAxMTgsIDExOCksIHJnYigxMzMsIDEzMywgMTMzKSk7XG4gICAgYm9yZGVyLWltYWdlOiBpbml0aWFsO1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbn1cblxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBpZD1cInRvcFwiPlxuICAgICAgPGltZyBhbHQ9XCJWdWUgbG9nb1wiIHNyYz1cIi4uLy4uL2Fzc2V0cy9sb2dvLnBuZ1wiIC8+XG4gICAgICA8SGVsbG9Xb3JsZCBtc2c9XCJWdWUgQ29tcG9uZW50IHdpdGggTG9jYWwgQnV0dG9uIENvdW50XCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZSdcblxuLy8gVGhpcyBzdGFydGVyIHRlbXBsYXRlIGlzIHVzaW5nIFZ1ZSAzIGV4cGVyaW1lbnRhbCA8c2NyaXB0IHNldHVwPiBTRkNzXG4vLyBDaGVjayBvdXQgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JmY3MvYmxvYi9zY3JpcHQtc2V0dXAtMi9hY3RpdmUtcmZjcy8wMDAwLXNjcmlwdC1zZXR1cC5tZFxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG4jdG9wIHtcbiAgZm9udC1mYW1pbHk6IEF2ZW5pciwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6ICM1MDMxMmM7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG5cbiAgd2lkdGg6IDUwMHB4OyBoZWlnaHQ6IDUwMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG5cbioge1xuICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xufVxuaW1nIHtcbiAgICBtYXgtd2lkdGg6IG5vbmU7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZTtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgQXBwIGZyb20gXCIuL0FwcFRlc3QyLnZ1ZVwiO1xuaW1wb3J0IHsgSHVic0FwcCB9IGZyb20gXCIuLi9IdWJzQXBwXCI7XG5cbmV4cG9ydCBjbGFzcyBIdWJzVGVzdDIgZXh0ZW5kcyBIdWJzQXBwIHtcbiAgICBjb25zdHJ1Y3RvciAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0LCBBcHApXG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgfVxufVxuXG52YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXBwID0gbmV3IEh1YnNUZXN0MigyLjUsIDIuNSlcbiAgICBhcHAubW91bnQoKVxuICAgIHJldHVybiBhcHBcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdCJdLCJuYW1lcyI6WyJpc09iamVjdCIsImhhc093blByb3BlcnR5IiwiaXNQcm9taXNlIiwidWlkIiwiY29tcHV0ZWQiLCJwIiwiX2NyZWF0ZVZOb2RlIiwiX2hvaXN0ZWRfMSIsIl9ob2lzdGVkXzIiLCJbb2JqZWN0IE9iamVjdF0iLCJ4IiwieSIsImRlZmluZVByb3BlcnR5IiwidGhpcyIsInZhbHVlIiwic2NhbGFyIiwiaW5kZXgiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidiIsInciLCJ3YXJuIiwiYWRkVmVjdG9ycyIsInMiLCJhMiIsImIyIiwic3ViVmVjdG9ycyIsIm11bHRpcGx5U2NhbGFyIiwibSIsImUiLCJlbGVtZW50cyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsIm1pblZhbCIsIm1heFZhbCIsImxlbmd0aCIsImRpdmlkZVNjYWxhciIsImZsb29yIiwiY2VpbCIsInJvdW5kIiwic3FydCIsImFicyIsImF0YW4yIiwiUEkiLCJkaXN0YW5jZVRvU3F1YXJlZCIsImR4IiwiZHkiLCJub3JtYWxpemUiLCJhbHBoYSIsInYxIiwidjIiLCJhcnJheSIsIm9mZnNldCIsImF0dHJpYnV0ZSIsImdldFgiLCJnZXRZIiwiY2VudGVyIiwiYW5nbGUiLCJjMiIsImNvcyIsInNpbiIsInJhbmRvbSIsIl9sdXQiLCJpIiwidG9TdHJpbmciLCJfc2VlZCIsIk1hdGhVdGlscyIsIkRFRzJSQUQiLCJSQUQyREVHIiwiZ2VuZXJhdGVVVUlEIiwiZDAiLCJkMSIsImQyIiwiZDMiLCJ0b1VwcGVyQ2FzZSIsImNsYW1wIiwiZXVjbGlkZWFuTW9kdWxvIiwibiIsIm1hcExpbmVhciIsImExIiwiYjEiLCJsZXJwIiwidCIsInNtb290aHN0ZXAiLCJzbW9vdGhlcnN0ZXAiLCJyYW5kSW50IiwibG93IiwiaGlnaCIsInJhbmRGbG9hdCIsInJhbmRGbG9hdFNwcmVhZCIsInJhbmdlIiwic2VlZGVkUmFuZG9tIiwiZGVnVG9SYWQiLCJkZWdyZWVzIiwicmFkVG9EZWciLCJyYWRpYW5zIiwiaXNQb3dlck9mVHdvIiwiY2VpbFBvd2VyT2ZUd28iLCJwb3ciLCJsb2ciLCJMTjIiLCJmbG9vclBvd2VyT2ZUd28iLCJzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyIiwicSIsIm9yZGVyIiwiY29zMiIsInNpbjIiLCJjMjIiLCJzMiIsImMxMyIsInMxMyIsImMxXzMiLCJzMV8zIiwiYzNfMSIsInMzXzEiLCJzZXQiLCJ6IiwiX3giLCJfeSIsIl96IiwiX3ciLCJxYSIsInFiIiwicW0iLCJjb3B5Iiwic2xlcnAiLCJkc3QiLCJkc3RPZmZzZXQiLCJzcmMwIiwic3JjT2Zmc2V0MCIsInNyYzEiLCJzcmNPZmZzZXQxIiwieDAiLCJ5MCIsInowIiwidzAiLCJ4MSIsInkxIiwiejEiLCJ3MSIsImRpciIsInNxclNpbiIsIk51bWJlciIsIkVQU0lMT04iLCJsZW4iLCJ0RGlyIiwiZiIsIl9vbkNoYW5nZUNhbGxiYWNrIiwicXVhdGVybmlvbiIsImV1bGVyIiwidXBkYXRlIiwiaXNFdWxlciIsIl9vcmRlciIsImMxIiwiYzMiLCJzMSIsInMzIiwiYXhpcyIsImhhbGZBbmdsZSIsInRlIiwibTExIiwibTEyIiwibTEzIiwibTIxIiwibTIyIiwibTIzIiwibTMxIiwibTMyIiwibTMzIiwidHJhY2UiLCJ2RnJvbSIsInZUbyIsInIiLCJkb3QiLCJhY29zIiwic3RlcCIsImFuZ2xlVG8iLCJjb25qdWdhdGUiLCJsIiwibXVsdGlwbHlRdWF0ZXJuaW9ucyIsInFheCIsInFheSIsInFheiIsInFhdyIsInFieCIsInFieSIsInFieiIsInFidyIsImNvc0hhbGZUaGV0YSIsInNxclNpbkhhbGZUaGV0YSIsInNpbkhhbGZUaGV0YSIsImhhbGZUaGV0YSIsInJhdGlvQSIsInJhdGlvQiIsImdldFoiLCJnZXRXIiwiY2FsbGJhY2siLCJtdWx0aXBseVZlY3RvcnMiLCJlcnJvciIsImFwcGx5UXVhdGVybmlvbiIsIl9xdWF0ZXJuaW9uIiwic2V0RnJvbUV1bGVyIiwic2V0RnJvbUF4aXNBbmdsZSIsImFwcGx5TWF0cml4MyIsInF4IiwicXkiLCJxeiIsInF3IiwiaXgiLCJpeSIsIml6IiwiaXciLCJjYW1lcmEiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZEludmVyc2UiLCJwcm9qZWN0aW9uTWF0cml4IiwicHJvamVjdGlvbk1hdHJpeEludmVyc2UiLCJtYXRyaXhXb3JsZCIsImNyb3NzVmVjdG9ycyIsImF4IiwiYXkiLCJheiIsImJ4IiwiYnkiLCJieiIsImRlbm9taW5hdG9yIiwibGVuZ3RoU3EiLCJwbGFuZU5vcm1hbCIsInByb2plY3RPblZlY3RvciIsInN1YiIsIl92ZWN0b3IiLCJub3JtYWwiLCJ0aGV0YSIsImR6Iiwic2V0RnJvbVNwaGVyaWNhbENvb3JkcyIsInJhZGl1cyIsInBoaSIsInNpblBoaVJhZGl1cyIsInNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsInN4Iiwic2V0RnJvbU1hdHJpeENvbHVtbiIsInN5Iiwic3oiLCJmcm9tQXJyYXkiLCJWZWN0b3IzIiwiUXVhdGVybmlvbiIsImFyZ3VtZW50cyIsIm4xMSIsIm4xMiIsIm4xMyIsIm4xNCIsIm4yMSIsIm4yMiIsIm4yMyIsIm4yNCIsIm4zMSIsIm4zMiIsIm4zMyIsIm4zNCIsIm40MSIsIm40MiIsIm40MyIsIm40NCIsIk1hdHJpeDQiLCJtZSIsInhBeGlzIiwieUF4aXMiLCJ6QXhpcyIsInNjYWxlWCIsIl92MSIsInNjYWxlWSIsInNjYWxlWiIsImQiLCJhZSIsImFmIiwiYmUiLCJiZiIsImNlIiwiY2YiLCJkZSIsImRmIiwiYWMiLCJhZCIsImJjIiwiYmQiLCJjb21wb3NlIiwiX3plcm8iLCJfb25lIiwiZXllIiwidGFyZ2V0IiwidXAiLCJtdWx0aXBseU1hdHJpY2VzIiwiYTExIiwiYTEyIiwiYTEzIiwiYTE0IiwiYTIxIiwiYTIyIiwiYTIzIiwiYTI0IiwiYTMxIiwiYTMyIiwiYTMzIiwiYTM0IiwiYTQxIiwiYTQyIiwiYTQzIiwiYTQ0IiwiYjExIiwiYjEyIiwiYjEzIiwiYjE0IiwiYjIxIiwiYjIyIiwiYjIzIiwiYjI0IiwiYjMxIiwiYjMyIiwiYjMzIiwiYjM0IiwiYjQxIiwiYjQyIiwiYjQzIiwiYjQ0IiwidG1wIiwiaXNWZWN0b3IzIiwidGhyb3dPbkRlZ2VuZXJhdGUiLCJ0MTEiLCJ0MTIiLCJ0MTMiLCJ0MTQiLCJkZXQiLCJkZXRJbnYiLCJzY2FsZVhTcSIsInNjYWxlWVNxIiwic2NhbGVaU3EiLCJ0eCIsInR5IiwicG9zaXRpb24iLCJzY2FsZSIsIngyIiwieTIiLCJ6MiIsInh4IiwieHkiLCJ4eiIsInl5IiwieXoiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsImRldGVybWluYW50IiwiaW52U1giLCJpbnZTWSIsImludlNaIiwic2V0RnJvbVJvdGF0aW9uTWF0cml4IiwiX20xIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwibmVhciIsImZhciIsImgiLCJtYXRyaXgiLCJWZWN0b3IyIiwiSW5maW5pdHkiLCJwb2ludHMiLCJtYWtlRW1wdHkiLCJpbCIsImV4cGFuZEJ5UG9pbnQiLCJzaXplMiIsImhhbGZTaXplIiwiYWRkIiwiYm94IiwiaXNFbXB0eSIsInBvaW50IiwidmVjdG9yIiwiYWRkU2NhbGFyIiwiZXF1YWxzIiwibWluWCIsIm1pblkiLCJtaW5aIiwibWF4WCIsIm1heFkiLCJtYXhaIiwiY291bnQiLCJvYmplY3QiLCJleHBhbmRCeU9iamVjdCIsInVwZGF0ZVdvcmxkTWF0cml4IiwiZ2VvbWV0cnkiLCJib3VuZGluZ0JveCIsImNvbXB1dGVCb3VuZGluZ0JveCIsInVuaW9uIiwiX2JveCIsImNoaWxkcmVuIiwic3BoZXJlIiwiY2xhbXBQb2ludCIsInBsYW5lIiwiY29uc3RhbnQiLCJ0cmlhbmdsZSIsImdldENlbnRlciIsIl9jZW50ZXIiLCJhIiwiYiIsImMiLCJfdjAiLCJfdjIiLCJheGVzIiwiX2YwIiwiX2YxIiwiX2YyIiwic2F0Rm9yQXhlcyIsIl9leHRlbnRzIiwiX3RyaWFuZ2xlTm9ybWFsIiwiZ2V0U2l6ZSIsInNldEZyb21Qb2ludHMiLCJfcG9pbnRzIiwidjAiLCJleHRlbnRzIiwiaiIsIl90ZXN0QXhpcyIsInAwIiwicDEiLCJwMiIsIkJveDMiLCJzZXRGcm9tTWF0cml4M0NvbHVtbiIsImciLCJtYXRyaXg0Iiwic2V0RnJvbU1hdHJpeDQiLCJnZXRJbnZlcnNlIiwidHJhbnNwb3NlIiwicm90YXRpb24iLCJjeCIsImN5IiwiTWF0cml4MyIsIk9iamVjdCIsImZyZWV6ZSIsIlJJR0hUIiwiVVAiLCJORUFSIiwiTEVGVCIsIkRPV04iLCJGQVIiLCJfMlBJIiwiVl8wMDEyIiwidHdpc3QiLCJzd2luZyIsInN3aW5nQXhpcyIsIm91dCIsInR3aXN0U2NhbGUiLCJzd2luZ1NjYWxlIiwidHdpc3RNYWduaXR1ZGUiLCJzd2luZ0RpcmVjdGlvbiIsInN3aW5nTWFnbml0dWRlIiwiYXBwbHlBeGlzQW5nbGUiLCJ2ZWMiLCJyb3QiLCJkaXJlY3Rpb24iLCJyb3RBeGlzIiwiZG90UHJvZCIsInByb2plY3Rpb24iLCJCb3gyIiwicmV2ZXJzZWQiLCJlYXNpbmcyIiwibWlycm9yZWQiLCJjcmVhdGVSZXZlcnNlZEVhc2luZyIsImNyZWF0ZU1pcnJvcmVkRWFzaW5nIiwiY3JlYXRlRXhwb0luIiwicG93ZXIiLCJjcmVhdGVCYWNrSW4iLCJjcmVhdGVBbnRpY2lwYXRlRWFzaW5nIiwiYmFja0Vhc2luZyIsImVhc2VJbiIsImVhc2VPdXQiLCJlYXNlSW5PdXQiLCJjaXJjSW4iLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJib3VuY2VPdXQiLCJGTE9BVF8zMl9TVVBQT1JURUQiLCJGbG9hdDMyQXJyYXkiLCJnZXRTbG9wZSIsImNhbGNCZXppZXIiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJzYW1wbGVWYWx1ZXMiLCJBcnJheSIsImdldFRGb3JYIiwiYVgiLCJkaXN0MiIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwiS19TUExJTkVfVEFCTEVfU0laRSIsImFHdWVzc1QiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJjdXJyZW50WCIsImN1cnJlbnRUIiwiYmluYXJ5U3ViZGl2aWRlIiwicHJvdG90eXBlIiwiaXNCaWdOdW1iZXIiLCJnZXRQcm90b3R5cGVPZiIsImlzQ29tcGxleCIsImlzRnJhY3Rpb24iLCJpc1VuaXQiLCJpc0FycmF5IiwiaXNNYXRyaXgiLCJpc0RlbnNlTWF0cml4IiwiaXNTcGFyc2VNYXRyaXgiLCJpc1JhbmdlIiwiaXNJbmRleCIsImlzUmVzdWx0U2V0IiwiaXNIZWxwIiwiRGF0ZSIsIlJlZ0V4cCIsImlzQWNjZXNzb3JOb2RlIiwiaXNOb2RlIiwiaXNBcnJheU5vZGUiLCJpc0Fzc2lnbm1lbnROb2RlIiwiaXNCbG9ja05vZGUiLCJpc0NvbmRpdGlvbmFsTm9kZSIsImlzQ29uc3RhbnROb2RlIiwiaXNGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiaXNGdW5jdGlvbk5vZGUiLCJpc0luZGV4Tm9kZSIsImlzT2JqZWN0Tm9kZSIsImlzT3BlcmF0b3JOb2RlIiwiaXNQYXJlbnRoZXNpc05vZGUiLCJpc1JhbmdlTm9kZSIsImlzU3ltYm9sTm9kZSIsImlzQ2hhaW4iLCJ0eXBlIiwiY2xvbmUiLCJtYXAiLCJ2YWx1ZU9mIiwiVHlwZUVycm9yIiwibWFwT2JqZWN0IiwiY2xvbmUyIiwia2V5IiwicHJvcCIsImRlZXBTdHJpY3RFcXVhbCIsInByb3BlcnR5IiwiY2FsbCIsIl90eXBlcyIsIm5hbWUiLCJ0ZXN0IiwiYW55VHlwZSIsIm9rIiwiX2lnbm9yZSIsIl9jb252ZXJzaW9ucyIsInR5cGVkIiwidHlwZXMiLCJjb252ZXJzaW9ucyIsImlnbm9yZSIsInR5cGVOYW1lIiwiZW50cnkiLCJmaW5kSW5BcnJheSIsImVudHJ5MiIsImhpbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJmbiIsInNpZ25hdHVyZSIsInNpZ25hdHVyZXMiLCJhcnIiLCJzcGxpdCIsInRyaW0iLCJzdHIiLCJqb2luIiwibWF0Y2giLCJmcm9tIiwiZmluZFR5cGVOYW1lIiwiY29udmVyc2lvbiIsInRvIiwiY29udmVydCIsInBhcmFtcyIsInBhcmFtIiwidHlwZU5hbWVzIiwiZ2V0VHlwZU5hbWUiLCJyZXN0UGFyYW0iLCJzbGljZSIsImZpbHRlciIsIm5vdEVtcHR5Iiwibm90SWdub3JlIiwibWF0Y2hpbmdDb252ZXJzaW9ucyIsImZpbHRlckNvbnZlcnNpb25zIiwiZXhhY3RUeXBlcyIsImZpbmRUeXBlQnlOYW1lIiwidHlwZUluZGV4IiwiZmluZFR5cGVJbmRleCIsImNvbnZlcnNpb25JbmRleCIsImNvbnZlcnRpYmxlVHlwZXMiLCJjb25jYXQiLCJwYXJzZWRQYXJhbSIsInBhcnNlUGFyYW0iLCJTeW50YXhFcnJvciIsInNvbWUiLCJpc0ludmFsaWRQYXJhbSIsImxhc3QiLCJ0ZXN0MCIsInRlc3QxIiwidGVzdHMiLCJoYXNSZXN0UGFyYW0iLCJ2YXJJbmRleCIsImluaXRpYWwiLCJjb21waWxlVGVzdCIsImxhc3RUZXN0IiwidGVzdFJlc3RQYXJhbSIsImFyZ3MiLCJleGNsdWRlQ29udmVyc2lvbnMiLCJnZXRQYXJhbUF0SW5kZXgiLCJpc0V4YWN0VHlwZSIsInVuaXEiLCJmbGF0TWFwIiwiZ2V0RXhwZWN0ZWRUeXBlTmFtZXMiLCJuYW1lMiIsImVyciIsImV4cGVjdGVkIiwiX25hbWUiLCJtYXRjaGluZ1NpZ25hdHVyZXMiLCJuZXh0TWF0Y2hpbmdEZWZzIiwibWVyZ2VFeHBlY3RlZFBhcmFtcyIsImFjdHVhbFR5cGUiLCJkYXRhIiwiY2F0ZWdvcnkiLCJhY3R1YWwiLCJsZW5ndGhzIiwiYXBwbHkiLCJtYXhMZW5ndGgiLCJleHBlY3RlZExlbmd0aCIsInBhcmFtMSIsInBhcmFtMiIsImhhc0NvbnZlcnNpb25zIiwiZ2V0TG93ZXN0VHlwZUluZGV4IiwiZ2V0TG93ZXN0Q29udmVyc2lvbkluZGV4Iiwic2lnbmF0dXJlMSIsInNpZ25hdHVyZTIiLCJjb21wYXJlUGFyYW1zIiwibWF0Y2hlcyIsImZvckVhY2giLCJrZXlzIiwiZm5Db252ZXJ0IiwiY29tcGlsZWRDb252ZXJzaW9ucyIsImNvbXBpbGVBcmdDb252ZXJzaW9uIiwibGFzdDIiLCJmblByZXByb2Nlc3MiLCJjb252ZXJzaW9uMCIsImNvbnZlcnNpb24xIiwicHVzaCIsImFyZyIsInNpZ25hdHVyZXNNYXAiLCJzdHJpbmdpZnlQYXJhbXMiLCJpZ25vcmVDb252ZXJzaW9uVHlwZXMiLCJwYXJhbXMyIiwidHlwZUdyb3VwcyIsImZpbHRlcmVkVHlwZXMiLCJ0eXBlR3JvdXAiLCJfc3BsaXRQYXJhbXMiLCJpaSIsImhhc092ZXJsYXAiLCJsZW4xIiwibGVuMiIsInJlc3RQYXJhbTEiLCJyZXN0UGFyYW0yIiwicGFyc2VkU2lnbmF0dXJlcyIsInBhcnNlU2lnbmF0dXJlIiwibm90TnVsbCIsInBhcnNlZFNpZ25hdHVyZSIsImNvbmZsaWN0aW5nU2lnbmF0dXJlIiwiaGFzQ29uZmxpY3RpbmdQYXJhbXMiLCJzcGxpdFBhcmFtcyIsInNvcnQiLCJjb21wYXJlU2lnbmF0dXJlcyIsIm9rMCIsIm9rMSIsIm9rMiIsIm9rMyIsIm9rNCIsIm9rNSIsImFsbE9rIiwiY29tcGlsZVRlc3RzIiwidGVzdDAwIiwibm90T2siLCJ0ZXN0MTAiLCJ0ZXN0MjAiLCJ0ZXN0MzAiLCJ0ZXN0NDAiLCJ0ZXN0NTAiLCJ0ZXN0MDEiLCJ0ZXN0MTEiLCJ0ZXN0MjEiLCJ0ZXN0MzEiLCJ0ZXN0NDEiLCJ0ZXN0NTEiLCJmbnMiLCJjb21waWxlQXJnc1ByZXByb2Nlc3NpbmciLCJmbjAiLCJ1bmRlZiIsImZuMSIsImZuMiIsImZuMyIsImZuNCIsImZuNSIsImxlbjAiLCJsZW4zIiwibGVuNCIsImxlbjUiLCJpU3RhcnQiLCJpRW5kIiwiZ2VuZXJpYyIsImNyZWF0ZUVycm9yIiwiYXJnMCIsImFyZzEiLCJmbjYiLCJjcmVhdGVTaWduYXR1cmVzTWFwIiwic3RhcnQiLCJlbmQiLCJpdGVtIiwiYXJyYXkxIiwiYXJyYXkyIiwiY29udGFpbnMyIiwiZW50cmllcyIsIl9zaWduYXR1cmUiLCJfZm4iLCJjcmVhdGVUeXBlZEZ1bmN0aW9uIiwic3RyaW5nLCBPYmplY3QiLCJnZXROYW1lIiwiLi4uRnVuY3Rpb24iLCJleHRyYWN0U2lnbmF0dXJlcyIsInN0cmluZywgLi4uRnVuY3Rpb24iLCJjcmVhdGUiLCJjcmVhdGUyIiwiZmluZCIsImFkZFR5cGUiLCJiZWZvcmVPYmplY3RUZXN0Iiwic3BsaWNlIiwiYWRkQ29udmVyc2lvbiIsImZhY3RvcnkyIiwiaXNGaW5pdGUiLCJzaWduIiwib3B0aW9ucyIsImlzTmFOIiwicHJlY2lzaW9uIiwibm90YXRpb24iLCJpc051bWJlciIsInRvRml4ZWQiLCJ0b0V4cG9uZW50aWFsIiwiU3RyaW5nIiwicm91bmRlZCIsInJvdW5kRGlnaXRzIiwic3BsaXROdW1iZXIiLCJleHBvbmVudCIsImNvZWZmaWNpZW50cyIsIm5ld0V4cCIsIm1pc3NpbmdaZXJvcyIsImV4cERpZmYiLCJkZWNpbWFsSWR4IiwiZGVjaW1hbHMiLCJkZWNpbWFsVmFsIiwidG9FbmdpbmVlcmluZyIsImxvd2VyRXhwIiwidXBwZXJFeHAiLCJ6ZXJvcyIsInRvUHJlY2lzaW9uIiwicmVwbGFjZSIsImRpZ2l0czIiLCJzaWduMiIsInBhcnNlRmxvYXQiLCJ6ZXJvczIiLCJwYXJzZUludCIsInNwbGl0VmFsdWUiLCJwcCIsImZpcnN0Iiwic2hpZnQiLCJ1bnNoaWZ0IiwicG9wIiwiREJMX0VQU0lMT04iLCJlcHNpbG9uIiwiZGlmZiIsImd0IiwidmFsdWVXaXRob3V0RXhwIiwibXVsIiwidmFsdWVTdHIiLCJpc1plcm8iLCJ0b1NpZ25pZmljYW50RGlnaXRzIiwiZXhwMiIsInRleHQiLCJzZWFyY2giLCJzdWJzdHJpbmciLCJmb3JtYXROdW1iZXIiLCJmb3JtYXRCaWdOdW1iZXIiLCJsb29rc0xpa2VGcmFjdGlvbiIsImZyYWN0aW9uIiwiZm9ybWF0QXJyYXkiLCJpc1N0cmluZyIsInN5bnRheCIsImZvcm1hdCIsImVzY2FwZWQiLCJjaGFyQXQiLCJyZWxhdGlvbiIsIkRpbWVuc2lvbkVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiSW5kZXhFcnJvciIsImRpbSIsImRpbU5leHQiLCJjaGlsZCIsImlzSW50ZWdlciIsImRlZmF1bHRWYWx1ZSIsImVsZW0iLCJvbGRMZW4iLCJuZXdMZW4iLCJtaW5MZW4iLCJzaXplcyIsIm5ld0FycmF5IiwiZmxhdEFycmF5IiwiZmxhdCIsImZsYXR0ZW4iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInByb2R1Y3QiLCJhcnJheVNpemUiLCJ0b3RhbFNpemUiLCJzaXplSW5kZXgiLCJ0bXBBcnJheTIiLCJ0bXBBcnJheSIsIl9yZXNoYXBlIiwiZGltcyIsIm91dGVyIiwiX3Vuc3F1ZWV6ZSIsIm5leHQiLCJzZXBhcmF0b3IiLCJ0eXBlT2YyIiwiaXNBcnJheTIiLCJpdGVtVHlwZSIsImdldEFycmF5RGF0YVR5cGUiLCJkZXBlbmRlbmNpZXMyIiwibWV0YSIsInNjb3BlIiwiZGVwcyIsInByb3BlcnRpZXMyIiwicGlja1NoYWxsb3ciLCJzdHJpcE9wdGlvbmFsTm90YXRpb24iLCJkZXBlbmRlbmN5IiwiaXNPcHRpb25hbERlcGVuZGVuY3kiLCJldmVyeSIsIm1pc3NpbmdEZXBlbmRlbmNpZXMiLCJpc0ZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJhc3NlcnRBbmRDcmVhdGUiLCJSYW5nZUVycm9yIiwiaXNEaW1lbnNpb25FcnJvciIsImlzSW5kZXhFcnJvciIsIl9jcmVhdGVUeXBlZDIiLCJ0eXBlZEZ1bmN0aW9uIiwiY3JlYXRlVHlwZWQiLCJfcmVmIiwiQmlnTnVtYmVyIiwiQ29tcGxleCIsIkRlbnNlTWF0cml4IiwiRnJhY3Rpb24iLCJpc0Jvb2xlYW4iLCJpc0Z1bmN0aW9uIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIkNvbXBsZXgyIiwidG9OdW1iZXIiLCJGcmFjdGlvbjIiLCJpbmV4YWN0IiwicXVhZHJhbnQiLCJjcmVhdGVSZXN1bHRTZXQiLCJSZXN1bHRTZXQiLCJ0b0pTT04iLCJtYXRoanMiLCJmcm9tSlNPTiIsImpzb24iLCJpc0NsYXNzIiwiRVhQX0xJTUlUIiwiTlVNRVJBTFMiLCJMTjEwIiwiREVGQVVMVFMiLCJyb3VuZGluZyIsIm1vZHVsbyIsInRvRXhwTmVnIiwidG9FeHBQb3MiLCJtaW5FIiwibWF4RSIsImNyeXB0byIsImV4dGVybmFsIiwiaW52YWxpZEFyZ3VtZW50IiwiZGVjaW1hbEVycm9yIiwibWF0aGZsb29yIiwibWF0aHBvdyIsImlzQmluYXJ5IiwiaXNIZXgiLCJpc09jdGFsIiwiaXNEZWNpbWFsIiwiQkFTRSIsIkxOMTBfUFJFQ0lTSU9OIiwiUElfUFJFQ0lTSU9OIiwiUCIsImsiLCJ3cyIsImluZGV4T2ZMYXN0V29yZCIsImdldFplcm9TdHJpbmciLCJybSIsInJlcGVhdGluZyIsImRpIiwicmQiLCJiYXNlSW4iLCJiYXNlT3V0IiwiYXJyTCIsInN0ckwiLCJyZXZlcnNlIiwiYWJzb2x1dGVWYWx1ZSIsImZpbmFsaXNlIiwiY29tcGFyZWRUbyIsImNtcCIsInhkTCIsInlkTCIsInhkIiwieWQiLCJ4cyIsInlzIiwiTmFOIiwiY29zaW5lIiwicHIiLCJDdG9yIiwic2QiLCJ0aW55UG93IiwidGF5bG9yU2VyaWVzIiwidGltZXMiLCJjb3MyeCIsIm1pbnVzIiwicGx1cyIsInRvTGVzc1RoYW5IYWxmUGkiLCJuZWciLCJjdWJlUm9vdCIsImNicnQiLCJyZXAiLCJ0MyIsInQzcGx1c3giLCJkaWdpdHNUb1N0cmluZyIsImRpdmlkZSIsImVxIiwiZGVjaW1hbFBsYWNlcyIsImRwIiwiZGl2aWRlZEJ5IiwiZGl2IiwiZGl2aWRlZFRvSW50ZWdlckJ5IiwiZGl2VG9JbnQiLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiZ3RlIiwiaHlwZXJib2xpY0Nvc2luZSIsImNvc2giLCJvbmUiLCJjb3NoMl94IiwiZDgiLCJoeXBlcmJvbGljU2luZSIsInNpbmgiLCJzaW5oMl94IiwiZDUiLCJkMTYiLCJkMjAiLCJoeXBlcmJvbGljVGFuZ2VudCIsInRhbmgiLCJpbnZlcnNlQ29zaW5lIiwiaGFsZlBpIiwiaXNOZWciLCJnZXRQaSIsImFzaW4iLCJpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSIsImFjb3NoIiwibHRlIiwibG4iLCJpbnZlcnNlSHlwZXJib2xpY1NpbmUiLCJhc2luaCIsImludmVyc2VIeXBlcmJvbGljVGFuZ2VudCIsImF0YW5oIiwid3ByIiwieHNkIiwiaW52ZXJzZVNpbmUiLCJhdGFuIiwiaW52ZXJzZVRhbmdlbnQiLCJweCIsImlzSW50IiwiaXNOZWdhdGl2ZSIsImlzUG9zaXRpdmUiLCJpc1BvcyIsImxlc3NUaGFuIiwibHQiLCJsZXNzVGhhbk9yRXF1YWxUbyIsImxvZ2FyaXRobSIsImJhc2UiLCJpc0Jhc2UxMCIsImluZiIsIm51bSIsIm5hdHVyYWxMb2dhcml0aG0iLCJnZXRMbjEwIiwiY2hlY2tSb3VuZGluZ0RpZ2l0cyIsInhlIiwieExUeSIsImdldEJhc2UxMEV4cG9uZW50IiwibW9kIiwibmF0dXJhbEV4cG9uZW50aWFsIiwiZXhwIiwibmVnYXRlZCIsImNhcnJ5IiwiZ2V0UHJlY2lzaW9uIiwic2luZSIsInNpbjJfeCIsInNxdWFyZVJvb3QiLCJ0YW5nZW50IiwidGFuIiwickwiLCJ0b0JpbmFyeSIsInRvU3RyaW5nQmluYXJ5IiwidG9EZWNpbWFsUGxhY2VzIiwidG9EUCIsImZpbml0ZVRvU3RyaW5nIiwidG9GcmFjdGlvbiIsIm1heEQiLCJuMCIsInRvSGV4YWRlY2ltYWwiLCJ0b0hleCIsInRvTmVhcmVzdCIsInRvT2N0YWwiLCJ0b1Bvd2VyIiwieW4iLCJpbnRQb3ciLCJ0b1NEIiwidHJ1bmNhdGVkIiwidHJ1bmMiLCJ0ZW1wIiwiYUwiLCJiTCIsImxvZ0Jhc2UiLCJtb3JlIiwicHJvZCIsInByb2RMIiwicWQiLCJyZW0iLCJyZW1MIiwicmVtMCIsInhpIiwieEwiLCJ5ZDAiLCJ5TCIsIm11bHRpcGx5SW50ZWdlciIsImNvbXBhcmUiLCJpc1RydW5jYXRlZCIsInJvdW5kVXAiLCJ4ZGkiLCJpc0V4cCIsIm5vbkZpbml0ZVRvU3RyaW5nIiwienMiLCJ0cnVuY2F0ZSIsImx0Z3QiLCJndWFyZCIsInBvdzIiLCJzdW0iLCJjMCIsIm51bWVyYXRvciIsImNoYXJDb2RlQXQiLCJpc0h5cGVyYm9saWMiLCJ1IiwicGkiLCJpc09kZCIsImNvbnZlcnRCYXNlIiwib2JqIiwidXNlRGVmYXVsdHMiLCJkZWZhdWx0cyIsInBzIiwiZ2V0UmFuZG9tVmFsdWVzIiwicmFuZG9tQnl0ZXMiLCJEZWNpbWFsIiwibWF4T3JNaW4iLCJVaW50MzJBcnJheSIsIlN5bWJvbCIsImZvciIsInRvU3RyaW5nVGFnIiwiaTIiLCJEZWNpbWFsMiIsInBhcnNlRGVjaW1hbCIsImRpdmlzb3IiLCJpc0Zsb2F0IiwicGFyc2VPdGhlciIsIlJPVU5EX1VQIiwiUk9VTkRfRE9XTiIsIlJPVU5EX0NFSUwiLCJST1VORF9GTE9PUiIsIlJPVU5EX0hBTEZfVVAiLCJST1VORF9IQUxGX0RPV04iLCJST1VORF9IQUxGX0VWRU4iLCJST1VORF9IQUxGX0NFSUwiLCJST1VORF9IQUxGX0ZMT09SIiwiRVVDTElEIiwiY29uZmlnIiwiaXNEZWNpbWFsSW5zdGFuY2UiLCJoeXBvdCIsImxvZzEwIiwibG9nMiIsImNyZWF0ZUJpZ051bWJlckNsYXNzIiwib24iLCJjb25maWcyIiwicm9vdCIsImNvc2gyIiwic2luaDIiLCJwYXJzZXJfZXhpdCIsIl9hMiIsIl9iMiIsInJlIiwiaW0iLCJ0b2tlbnMiLCJwYXJzZSIsImFiczIiLCJsb2giLCJsb2dIeXBvdCIsImV4cG0xIiwibGltaXQiLCJjb3NtMSIsImNvdCIsInNlYyIsImNzYyIsInQxIiwidDIiLCJhY290IiwiYXNlYyIsImFjc2MiLCJjb3RoIiwiY3NjaCIsInNlY2giLCJyZXMiLCJub0lNIiwib25lTWludXMiLCJvbmVQbHVzIiwiYWNvdGgiLCJhY3NjaCIsImFzZWNoIiwiaW52ZXJzZSIsInBsYWNlcyIsInJldCIsInRvVmVjdG9yIiwiaXNJbmZpbml0ZSIsIkUiLCJjcmVhdGVDb21wbGV4Q2xhc3MiLCJ0b1BvbGFyIiwic3RyUmUiLCJzdHJJbSIsImZyb21Qb2xhciIsImhhc0Jhc2UiLCJQMiIsIkludGVybWVkaWF0ZUluaGVyaXRvciIsImVycm9yQ29uc3RydWN0b3IiLCJEaXZpc2lvbkJ5WmVybyIsIkludmFsaWRQYXJhbWV0ZXIiLCJmYWN0b3JzIiwiTSIsIkEiLCJCIiwiQyIsIkQiLCJOIiwiYXNzaWduIiwiZ2NkIiwibGNtIiwiZmFjdG9yaXplIiwic2ltcGxpZnkiLCJlcHMiLCJjb250IiwicmVjIiwiZGl2aXNpYmxlIiwiZXhjbHVkZVdob2xlIiwid2hvbGUiLCJ0b0xhdGV4IiwidG9Db250aW51ZWQiLCJkZWMiLCJjeWNMZW4iLCJjeWNsZUxlbiIsImN5Y09mZiIsInJlbTEiLCJyZW0yIiwibW9kcG93IiwiY3ljbGVTdGFydCIsImNyZWF0ZUZyYWN0aW9uQ2xhc3MiLCJjcmVhdGVSYW5nZUNsYXNzIiwiUmFuZ2UiLCJoYXNTdGFydCIsImhhc0VuZCIsImhhc1N0ZXAiLCJudW1zIiwic2l6ZSIsInRvQXJyYXkiLCJjcmVhdGVNYXRyaXhDbGFzcyIsIk1hdHJpeCIsInN0b3JhZ2UiLCJkYXRhdHlwZSIsInN1YnNldCIsInJlcGxhY2VtZW50IiwiZ2V0IiwicmVzaXplIiwicmVzaGFwZSIsInNraXBaZXJvcyIsImNyZWF0ZURlbnNlTWF0cml4Q2xhc3MiLCJfZGF0YSIsIl9zaXplIiwiX2RhdGF0eXBlIiwicHJlcHJvY2VzcyIsInR5cGVPZiIsImlzU2NhbGFyIiwiX2dldFN1Ym1hdHJpeCIsImRpbWVuc2lvbiIsInN1Ym1hdHJpeCIsInNTaXplIiwiaVNpemUiLCJ1bnNxdWVlemUiLCJkYXRhSW5kZXgiLCJzdWJJbmRleCIsIm5ld1NpemUiLCJjaGFuZ2VkIiwiY3JlYXRlRGVuc2VNYXRyaXgiLCJnZXREYXRhVHlwZSIsIl9nZXQiLCJfc2V0IiwiaW5kZXhJIiwiaXNDb2xsZWN0aW9uIiwic2l6ZUFycmF5IiwiX3Jlc2l6ZTIiLCJyZWN1cnNlMiIsInJlY3Vyc2UiLCJkaWFnb25hbCIsImtTdXBlciIsImtTdWIiLCJyb3dzIiwiY29sdW1ucyIsIl92YWx1ZSIsIm1zIiwic3dhcFJvd3MiLCJfc3dhcFJvd3MiLCJ2aSIsImRlZXBNYXAiLCJuMSIsIm4yIiwiYWJzTnVtYmVyIiwiYWRkTnVtYmVyIiwibXVsdGlwbHlOdW1iZXIiLCJ1bmFyeU1pbnVzTnVtYmVyIiwiY2VpbE51bWJlciIsIm1vZE51bWJlciIsInBvd051bWJlciIsInJvdW5kTnVtYmVyIiwiY3JlYXRlSXNOdW1lcmljIiwibnVtYmVyIHwgQmlnTnVtYmVyIHwgRnJhY3Rpb24gfCBib29sZWFuIiwiQ29tcGxleCB8IFVuaXQgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIHwgTm9kZSIsIkFycmF5IHwgTWF0cml4IiwiY3JlYXRlRXF1YWxTY2FsYXIiLCJib29sZWFuLCBib29sZWFuIiwibnVtYmVyLCBudW1iZXIiLCJuZWFybHlFcXVhbCIsIkJpZ051bWJlciwgQmlnTnVtYmVyIiwiYmlnTmVhcmx5RXF1YWwiLCJGcmFjdGlvbiwgRnJhY3Rpb24iLCJDb21wbGV4LCBDb21wbGV4IiwiY29tcGxleEVxdWFscyIsIlVuaXQsIFVuaXQiLCJlcXVhbEJhc2UiLCJmYWN0b3J5IiwiX3JlZjIiLCJjcmVhdGVTcGFyc2VNYXRyaXhDbGFzcyIsImVxdWFsU2NhbGFyIiwiU3BhcnNlTWF0cml4Iiwic291cmNlIiwiX3ZhbHVlcyIsIl9pbmRleCIsIl9wdHIiLCJwdHIiLCJ2YWx1ZXMiLCJ6ZXJvIiwicm93IiwiaWR4Iiwia2siLCJtdmFsdWVzIiwibWluZGV4IiwibXB0ciIsInB2IiwidmFsdWVzMiIsImlucyIsImswIiwiazEiLCJjcmVhdGVTcGFyc2VNYXRyaXgiLCJkZW5zaXR5IiwiX2dldHN1YnNldCIsIl9zZXRzdWJzZXQiLCJfZ2V0VmFsdWVJbmRleCIsImNvbEluZGV4Iiwicm93SW5kZXgiLCJfaSIsInIxIiwiX2kyIiwiX2kzIiwiX2oiLCJtaW5Sb3ciLCJtYXhSb3ciLCJtaW5Db2x1bW4iLCJtYXhDb2x1bW4iLCJpbnZva2UiLCJfayIsIl9pNSIsIl9tYXAiLCJfazIiLCJfaTciLCJfdG9BcnJheSIsIl9mb3JFYWNoUm93Iiwia3giLCJreSIsInZ4IiwidnkiLCJjcmVhdGVOdW1iZXIiLCJudW1iZXIiLCJzdHJpbmciLCJpbmNsdWRlcyIsIlVuaXQiLCJudWxsIiwiVW5pdCwgc3RyaW5nIHwgVW5pdCIsInVuaXQiLCJ2YWx1ZWxlc3NVbml0IiwiY3JlYXRlQmlnbnVtYmVyIiwiY3JlYXRlRnJhY3Rpb24iLCJjcmVhdGVNYXRyaXgiLCJfY3JlYXRlIiwiZm9ybWF0MiIsInN0cmluZywgc3RyaW5nIiwiQXJyYXkgfCBNYXRyaXgsIHN0cmluZyIsIkFycmF5IHwgTWF0cml4LCBzdHJpbmcsIHN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVVbmFyeU1pbnVzIiwiY3JlYXRlQWJzIiwiY3JlYXRlQWRkU2NhbGFyIiwiZml4UHJlZml4IiwiY3JlYXRlQWxnb3JpdGhtMTEiLCJhdmFsdWVzIiwiYWluZGV4IiwiYXB0ciIsImFzaXplIiwiYWR0IiwiZHQiLCJjdmFsdWVzIiwiY2luZGV4IiwiY3B0ciIsImNyZWF0ZUFsZ29yaXRobTE0IiwiYWRhdGEiLCJjZGF0YSIsIl9pdGVyYXRlIiwibGV2ZWwiLCJhdiIsImJ2IiwiY3YiLCJjcmVhdGVDZWlsIiwiYWxnb3JpdGhtMTEiLCJhbGdvcml0aG0xNCIsInJvdW5kMiIsInJlc3VsdCIsIkNvbXBsZXgsIG51bWJlciIsIkZyYWN0aW9uLCBudW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIiwiU3BhcnNlTWF0cml4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJEZW5zZU1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwibnVtYmVyIHwgQ29tcGxleCB8IEJpZ051bWJlciwgQXJyYXkiLCJjcmVhdGVGaXgiLCJfQ29tcGxleCIsImZsb29yMiIsImNlaWwyIiwibnVtYmVyLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJDb21wbGV4LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsIkZyYWN0aW9uLCBudW1iZXIgfCBCaWdOdW1iZXIiLCJBcnJheSB8IE1hdHJpeCwgbnVtYmVyIHwgQmlnTnVtYmVyIiwiY3JlYXRlRmxvb3IiLCJjcmVhdGVBbGdvcml0aG0wMSIsImRlbnNlTWF0cml4Iiwic3BhcnNlTWF0cml4IiwiYnZhbHVlcyIsImJpbmRleCIsImJwdHIiLCJic2l6ZSIsImJkdCIsIm1hcmsiLCJjcmVhdGVBbGdvcml0aG0wNCIsInhhIiwieGIiLCJ3YSIsIndiIiwiY3JlYXRlQWxnb3JpdGhtMTAiLCJjcmVhdGVBbGdvcml0aG0xMyIsImJkYXRhIiwiY3NpemUiLCJjcmVhdGVBbGdvcml0aG0wMiIsImNpaiIsImNyZWF0ZUFsZ29yaXRobTAzIiwiY3JlYXRlQWxnb3JpdGhtMDUiLCJ3YWkiLCJ3YmkiLCJ2YyIsImNyZWF0ZUFsZ29yaXRobTEyIiwiYWxnb3JpdGhtMDIiLCJhbGdvcml0aG0wMyIsImFsZ29yaXRobTA1IiwiYWxnb3JpdGhtMTIiLCJhbGdvcml0aG0xMyIsIlNwYXJzZU1hdHJpeCwgU3BhcnNlTWF0cml4IiwiU3BhcnNlTWF0cml4LCBEZW5zZU1hdHJpeCIsIkRlbnNlTWF0cml4LCBTcGFyc2VNYXRyaXgiLCJEZW5zZU1hdHJpeCwgRGVuc2VNYXRyaXgiLCJBcnJheSwgQXJyYXkiLCJBcnJheSwgTWF0cml4IiwiTWF0cml4LCBBcnJheSIsIlNwYXJzZU1hdHJpeCwgYW55IiwiRGVuc2VNYXRyaXgsIGFueSIsImFueSwgU3BhcnNlTWF0cml4IiwiYW55LCBEZW5zZU1hdHJpeCIsIkFycmF5LCBhbnkiLCJhbnksIEFycmF5IiwiY3JlYXRlTXVsdGlwbHlTY2FsYXIiLCJudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciB8IENvbXBsZXgsIFVuaXQiLCJfbm9ybWFsaXplIiwiVW5pdCwgbnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIgfCBDb21wbGV4IiwibXVsdGlwbHkiLCJjcmVhdGVNdWx0aXBseSIsInNpemUxIiwiYWxlbmd0aCIsImJjb2x1bW5zIiwibWYiLCJfbXVsdGlwbHlWZWN0b3JEZW5zZU1hdHJpeCIsIl9tdWx0aXBseU1hdHJpeFZlY3RvciIsImFyb3dzIiwiYWNvbHVtbnMiLCJicm93cyIsImliIiwidmJpIiwia2EwIiwia2ExIiwia2EiLCJpYSIsImljIiwiX211bHRpcGx5TWF0cml4TWF0cml4IiwiamIiLCJrYjAiLCJrYjEiLCJrYiIsInZiaWoiLCJleHRlbmQiLCJNYXRyaXgsIE1hdHJpeCIsInhzaXplIiwieXNpemUiLCJfbXVsdGlwbHlWZWN0b3JWZWN0b3IiLCJfbXVsdGlwbHlWZWN0b3JNYXRyaXgiLCJhbnksIGFueSIsImFueSwgYW55LCAuLi5hbnkiLCJyZXN0IiwiY3JlYXRlU3VidHJhY3QiLCJ1bmFyeU1pbnVzIiwiYWxnb3JpdGhtMDEiLCJhbGdvcml0aG0xMCIsImNyZWF0ZUFsZ29yaXRobTA3IiwidmEiLCJ2YiIsImNyZWF0ZUNvbmoiLCJxdWV1ZSIsIm1hcDIiLCJkZWwiLCJpZCIsIm9sZEluZGV4IiwiaGl0IiwibnVJbmRleCIsImRlbGV0ZSIsImNsZWFyIiwiaGFzaGVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJoYXNoZXIyIiwibWVtb2l6ZTIiLCJjYWNoZSIsIk1hcCIsImxydSIsImxydVF1ZXVlIiwiaGFzaCIsImhhcyIsIm5ld1ZhbCIsImNyZWF0ZUlkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyIiwiX2lkZW50aXR5IiwibnVtYmVyIHwgQmlnTnVtYmVyLCBzdHJpbmciLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciIsImNvbHMiLCJudW1iZXIgfCBCaWdOdW1iZXIsIG51bWJlciB8IEJpZ051bWJlciwgc3RyaW5nIiwiX2lkZW50aXR5VmVjdG9yIiwiQXJyYXksIHN0cmluZyIsIk1hdHJpeCwgc3RyaW5nIiwiQmlnIiwibWluaW11bSIsIkFyZ3VtZW50c0Vycm9yIiwiaXNBcmd1bWVudHNFcnJvciIsImNyZWF0ZVNpemUiLCJudW1iZXIgfCBDb21wbGV4IHwgQmlnTnVtYmVyIHwgVW5pdCB8IGJvb2xlYW4gfCBudWxsIiwibm9NYXRyaXgiLCJpc1BsYWluT2JqZWN0IiwiaXNTYWZlUHJvcGVydHkiLCJpc1NhZmVNZXRob2QiLCJzYWZlTmF0aXZlUHJvcGVydGllcyIsIkZ1bmN0aW9uIiwibWV0aG9kIiwic2FmZU5hdGl2ZU1ldGhvZHMiLCJ0b0xvY2FsZVN0cmluZyIsImNyZWF0ZVN1YnNldCIsIkFycmF5LCBJbmRleCIsIk1hdHJpeCwgSW5kZXgiLCJPYmplY3QsIEluZGV4IiwiX2dldE9iamVjdFByb3BlcnR5Iiwic3RyaW5nLCBJbmRleCIsIl9nZXRTdWJzdHJpbmciLCJBcnJheSwgSW5kZXgsIGFueSIsIkFycmF5LCBJbmRleCwgYW55LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnkiLCJNYXRyaXgsIEluZGV4LCBhbnksIGFueSIsInN0cmluZywgSW5kZXgsIHN0cmluZyIsIl9zZXRTdWJzdHJpbmciLCJzdHJpbmcsIEluZGV4LCBzdHJpbmcsIHN0cmluZyIsIk9iamVjdCwgSW5kZXgsIGFueSIsIl9zZXRPYmplY3RQcm9wZXJ0eSIsInN0ckxlbiIsInN1YnN0ciIsImNoYXJzIiwiX2xlbiIsImdldFNhZmVQcm9wZXJ0eSIsInVwZGF0ZWQiLCJjcmVhdGVaZXJvcyIsIl96ZXJvcyIsIi4uLm51bWJlciB8IEJpZ051bWJlciB8IHN0cmluZyIsImhhc0JpZ051bWJlcnMiLCJjcmVhdGVGb3JtYXQiLCJhbnkiLCJmb3JtYXRTdHJpbmciLCJhbnksIE9iamVjdCB8IGZ1bmN0aW9uIHwgbnVtYmVyIiwiY3JlYXRlTnVtZXJpYyIsIl9udW1iZXIiLCJiaWdudW1iZXIiLCJ2YWxpZElucHV0VHlwZXMiLCJ2YWxpZE91dHB1dFR5cGVzIiwibm9CaWdudW1iZXIiLCJmcmFjdGlvbjIiLCJub0ZyYWN0aW9uIiwib3V0cHV0VHlwZSIsImlucHV0VHlwZSIsImNyZWF0ZURpdmlkZVNjYWxhciIsIm51bWVyaWMiLCJVbml0LCBudW1iZXIgfCBGcmFjdGlvbiB8IEJpZ051bWJlciIsIm51bWVyaWMyIiwibnVtYmVyIHwgRnJhY3Rpb24gfCBCaWdOdW1iZXIsIFVuaXQiLCJjcmVhdGVQb3ciLCJpZGVudGl0eSIsIl9wb3ciLCJwcmVkaWN0YWJsZSIsIkFycmF5LCBudW1iZXIiLCJfcG93QXJyYXkiLCJBcnJheSwgQmlnTnVtYmVyIiwiTWF0cml4LCBudW1iZXIiLCJfcG93TWF0cml4IiwiTWF0cml4LCBCaWdOdW1iZXIiLCJVbml0LCBudW1iZXIgfCBCaWdOdW1iZXIiLCJ5RnJhYyIsInlOdW0iLCJleCIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiTk9fSU5UIiwiY3JlYXRlUm91bmQiLCJfb2JqZWN0U3ByZWFkIiwicm91bmROdW1iZXJTaWduYXR1cmVzIiwiQ29tcGxleCwgQmlnTnVtYmVyIiwiX24iLCJudW1iZXIsIEJpZ051bWJlciIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIFNwYXJzZU1hdHJpeCIsIm51bWJlciB8IENvbXBsZXggfCBCaWdOdW1iZXIsIERlbnNlTWF0cml4IiwiQXJyYXksIG51bWJlciB8IEJpZ051bWJlciIsImNyZWF0ZUVxdWFsIiwiYWxnb3JpdGhtMDciLCJjcmVhdGVTbWFsbGVyIiwiY3JlYXRlTGFyZ2VyIiwiY3JlYXRlRmlib25hY2NpSGVhcENsYXNzIiwic21hbGxlciIsImxhcmdlciIsIm9uZU92ZXJMb2dQaGkiLCJGaWJvbmFjY2lIZWFwIiwiX21pbmltdW0iLCJub2RlIiwicGFyZW50IiwiZGVncmVlIiwiaXNGaWJvbmFjY2lIZWFwIiwiaW5zZXJ0IiwiZXh0cmFjdE1pbmltdW0iLCJudW1iZXJPZkNoaWxkcmVuIiwidGVtcFJpZ2h0IiwiYXJyYXlTaXplMiIsIm51bVJvb3RzIiwiX2ZpbmRNaW5pbXVtTm9kZSIsInJlbW92ZSIsIl9kZWNyZWFzZUtleSIsIl9saW5rTm9kZXMiLCJjcmVhdGVTcGFDbGFzcyIsIlNwYSIsIl9oZWFwIiwiaXNTcGEiLCJhY2N1bXVsYXRlIiwiaGVhcCIsIm5vZGVzIiwic3dhcCIsIm5vZGVpIiwibm9kZWoiLCJtZW1vaXplIiwiY3JlYXRlQmlnTnVtYmVyUGkiLCJjcmVhdGVVbml0Q2xhc3MiLCJzdWJ0cmFjdCIsImZpeCIsImVxdWFsIiwiaXNOdW1lcmljIiwiX0JpZ051bWJlciIsIl9GcmFjdGlvbiIsInVuaXRzIiwiZGltZW5zaW9ucyIsIlVOSVRfTk9ORSIsInByZWZpeCIsIlBSRUZJWEVTIiwiTk9ORSIsIkJBU0VfRElNRU5TSU9OUyIsInNraXBBdXRvbWF0aWNTaW1wbGlmaWNhdGlvbiIsIm51bWJlcjIiLCJpc0RpZ2l0IiwidGVudGF0aXZlTnVtYmVyIiwidGVudGF0aXZlSW5kZXgiLCJ1bml0TmFtZSIsImlzVmFsaWRBbHBoYSIsImZpcnN0QyIsInRvRmluZCIsInVuaXQyIiwicG93ZXJNdWx0aXBsaWVyQ3VycmVudCIsImV4cGVjdGluZ1VuaXQiLCJwYXJzZU51bWJlciIsInBhcnNlQ2hhcmFjdGVyIiwicG93ZXJNdWx0aXBsaWVyU3RhY2siLCJwb3dlck11bHRpcGxpZXJTdGFja1Byb2R1Y3QiLCJ1U3RyIiwib2xkQyIsInBhcnNlVW5pdCIsIl9maW5kVW5pdCIsImJhc2VEaW0iLCJhdXRvIiwiYWxsb3dOb1VuaXRzIiwiX2lzRGVyaXZlZCIsInVuaXRWYWx1ZSIsInVuaXRPZmZzZXQiLCJ1bml0UG93ZXIiLCJ1bml0UHJlZml4VmFsdWUiLCJfZ2V0TnVtYmVyQ29udmVydGVyIiwiX2Rlbm9ybWFsaXplIiwicHJlZml4VmFsdWUiLCJVTklUUyIsInByZWZpeGVzIiwiZW5kc1dpdGgiLCJfdW5pdCIsInByZWZpeExlbiIsInByZWZpeE5hbWUiLCJfcHJlZml4IiwiQkFTRV9VTklUUyIsImlzVmFsdWVsZXNzVW5pdCIsIm90aGVyIiwiaW52ZXJ0ZWQiLCJ2YWxUaGlzIiwidmFsT3RoZXIiLCJnZXROdW1lcmljSWZVbml0bGVzcyIsIlciLCJ0b051bWVyaWMiLCJmb3JtYXRVbml0cyIsIm1hdGNoaW5nQmFzZSIsIm1hdGNoaW5nVW5pdCIsInByb3Bvc2VkVW5pdExpc3QiLCJrZXkyIiwiY3VycmVudFVuaXRTeXN0ZW0iLCJtaXNzaW5nQmFzZURpbSIsInRvU0kiLCJVTklUX1NZU1RFTVMiLCJzaSIsInN0ck51bSIsInN0ckRlbiIsIm5OdW0iLCJuRGVuIiwiX2k0Iiwic2ltcCIsImlzSW1hZ2luYXJ5IiwiVkFSIiwiVkEiLCJfYmVzdFByZWZpeCIsInVuaXRTdHIiLCJhYnNWYWx1ZSIsImFic1VuaXRWYWx1ZSIsImJlc3RQcmVmaXgiLCJiZXN0RGlmZiIsInNjaWVudGlmaWMiLCJzcGxpdFVuaXQiLCJwYXJ0cyIsInhOdW1lcmljIiwieFJvdW5kZWQiLCJ0ZXN0U3VtIiwiU0hPUlQiLCJkYSIsIkciLCJUIiwiWiIsIlkiLCJMT05HIiwiZGVjYSIsImhlY3RvIiwia2lsbyIsIm1lZ2EiLCJnaWdhIiwidGVyYSIsInBldGEiLCJleGEiLCJ6ZXR0YSIsInlvdHRhIiwiZGVjaSIsImNlbnRpIiwibWlsbGkiLCJtaWNybyIsIm5hbm8iLCJwaWNvIiwiZmVtdG8iLCJhdHRvIiwiemVwdG8iLCJ5b2N0byIsIlNRVUFSRUQiLCJDVUJJQyIsIkJJTkFSWV9TSE9SVF9TSSIsIkJJTkFSWV9TSE9SVF9JRUMiLCJLaSIsIk1pIiwiR2kiLCJUaSIsIlBpIiwiRWkiLCJaaSIsIllpIiwiQklOQVJZX0xPTkdfU0kiLCJCSU5BUllfTE9OR19JRUMiLCJraWJpIiwibWViaSIsImdpYmkiLCJ0ZWJpIiwicGViaSIsImV4aSIsInplYmkiLCJ5b2JpIiwiQlRVIiwiTU0iLCJTSE9SVExPTkciLCJfZXh0ZW5kcyIsIkJJTkFSWV9TSE9SVCIsIkJJTkFSWV9MT05HIiwiTUFTUyIsIkxFTkdUSCIsIlRJTUUiLCJDVVJSRU5UIiwiVEVNUEVSQVRVUkUiLCJMVU1JTk9VU19JTlRFTlNJVFkiLCJBTU9VTlRfT0ZfU1VCU1RBTkNFIiwiRk9SQ0UiLCJTVVJGQUNFIiwiVk9MVU1FIiwiRU5FUkdZIiwiUE9XRVIiLCJQUkVTU1VSRSIsIkVMRUNUUklDX0NIQVJHRSIsIkVMRUNUUklDX0NBUEFDSVRBTkNFIiwiRUxFQ1RSSUNfUE9URU5USUFMIiwiRUxFQ1RSSUNfUkVTSVNUQU5DRSIsIkVMRUNUUklDX0lORFVDVEFOQ0UiLCJFTEVDVFJJQ19DT05EVUNUQU5DRSIsIk1BR05FVElDX0ZMVVgiLCJNQUdORVRJQ19GTFVYX0RFTlNJVFkiLCJGUkVRVUVOQ1kiLCJBTkdMRSIsIkJJVCIsIm1ldGVyIiwiaW5jaCIsImZvb3QiLCJ5YXJkIiwibWlsZSIsImxpbmsiLCJyb2QiLCJjaGFpbiIsImFuZ3N0cm9tIiwiaW4iLCJmdCIsIm1pIiwibGkiLCJjaCIsIm1pbCIsIm0yIiwic3FpbiIsInNxZnQiLCJzcXlkIiwic3FtaSIsInNxcmQiLCJzcWNoIiwic3FtaWwiLCJhY3JlIiwiaGVjdGFyZSIsIm0zIiwiTCIsImxpdHJlIiwiY3VpbiIsImN1ZnQiLCJjdXlkIiwidGVhc3Bvb24iLCJ0YWJsZXNwb29uIiwiZHJvcCIsImd0dCIsIm1pbmltIiwiZmx1aWRkcmFtIiwiZmx1aWRvdW5jZSIsImdpbGwiLCJjYyIsImN1cCIsInBpbnQiLCJxdWFydCIsImdhbGxvbiIsImJlZXJiYXJyZWwiLCJvaWxiYXJyZWwiLCJob2dzaGVhZCIsImZsZHIiLCJmbG96IiwiZ2kiLCJjcCIsInB0IiwicXQiLCJnYWwiLCJiYmwiLCJvYmwiLCJncmFtIiwidG9uIiwidG9ubmUiLCJncmFpbiIsImRyYW0iLCJvdW5jZSIsInBvdW5kbWFzcyIsImh1bmRyZWR3ZWlnaHQiLCJzdGljayIsInN0b25lIiwiZ3IiLCJkciIsIm96IiwibGJtIiwiY3d0Iiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsImRheSIsIndlZWsiLCJtb250aCIsInllYXIiLCJkZWNhZGUiLCJjZW50dXJ5IiwibWlsbGVubml1bSIsImhlcnR6IiwicmVjaXByb2NhbCIsIkh6IiwicmFkIiwicmFkaWFuIiwiZGVnIiwiZ3JhZCIsImdyYWRpYW4iLCJjeWNsZSIsImFyY3NlYyIsImFyY21pbiIsImFtcGVyZSIsIksiLCJkZWdDIiwiZGVnRiIsImRlZ1IiLCJrZWx2aW4iLCJjZWxzaXVzIiwiZmFocmVuaGVpdCIsInJhbmtpbmUiLCJtb2wiLCJtb2xlIiwiY2QiLCJjYW5kZWxhIiwibmV3dG9uIiwiZHluIiwiZHluZSIsImxiZiIsInBvdW5kZm9yY2UiLCJraXAiLCJraWxvZ3JhbWZvcmNlIiwiSiIsImpvdWxlIiwiZXJnIiwiV2giLCJlViIsImVsZWN0cm9udm9sdCIsIndhdHQiLCJocCIsIkkiLCJQYSIsInBzaSIsImF0bSIsImJhciIsInRvcnIiLCJtbUhnIiwibW1IMk8iLCJjbUgyTyIsImNvdWxvbWIiLCJmYXJhZCIsIkYiLCJ2b2x0IiwiViIsIm9obSIsImhlbnJ5IiwiSCIsInNpZW1lbnMiLCJTIiwid2ViZXIiLCJXYiIsInRlc2xhIiwiYml0cyIsImJ5dGVzIiwiQUxJQVNFUyIsIm1ldGVycyIsImluY2hlcyIsImZlZXQiLCJ5YXJkcyIsIm1pbGVzIiwibGlua3MiLCJyb2RzIiwiY2hhaW5zIiwiYW5nc3Ryb21zIiwibGl0cmVzIiwibGl0ZXIiLCJsaXRlcnMiLCJ0ZWFzcG9vbnMiLCJ0YWJsZXNwb29ucyIsIm1pbmltcyIsImZsdWlkZHJhbXMiLCJmbHVpZG91bmNlcyIsImdpbGxzIiwiY3VwcyIsInBpbnRzIiwicXVhcnRzIiwiZ2FsbG9ucyIsImJlZXJiYXJyZWxzIiwib2lsYmFycmVscyIsImhvZ3NoZWFkcyIsImd0dHMiLCJncmFtcyIsInRvbnMiLCJ0b25uZXMiLCJncmFpbnMiLCJkcmFtcyIsIm91bmNlcyIsInBvdW5kbWFzc2VzIiwiaHVuZHJlZHdlaWdodHMiLCJzdGlja3MiLCJsYiIsImxicyIsImtpcHMiLCJrZ2YiLCJhY3JlcyIsImhlY3RhcmVzIiwic3FmZWV0Iiwic3F5YXJkIiwic3FtaWxlIiwic3FtaWxlcyIsIm1taGciLCJtbWgybyIsImNtaDJvIiwic2Vjb25kcyIsInNlY3MiLCJtaW51dGVzIiwibWlucyIsImhvdXJzIiwiaHIiLCJocnMiLCJkYXlzIiwid2Vla3MiLCJtb250aHMiLCJ5ZWFycyIsImRlY2FkZXMiLCJjZW50dXJpZXMiLCJtaWxsZW5uaWEiLCJncmFkaWFucyIsImN5Y2xlcyIsImFyY3NlY29uZCIsImFyY3NlY29uZHMiLCJhcmNtaW51dGUiLCJhcmNtaW51dGVzIiwiQlRVcyIsIndhdHRzIiwiam91bGVzIiwiYW1wZXJlcyIsImNvdWxvbWJzIiwidm9sdHMiLCJvaG1zIiwiZmFyYWRzIiwid2ViZXJzIiwidGVzbGFzIiwiZWxlY3Ryb252b2x0cyIsIm1vbGVzIiwiYml0IiwiYnl0ZSIsImNvbmZpZzMiLCJjcmVhdGVQaSIsImNncyIsInVzIiwiX2tleTIiLCJzZXRVbml0U3lzdGVtIiwiZ2V0VW5pdFN5c3RlbSIsIl9rZXkiLCJ0eXBlQ29udmVydGVycyIsIl9uYW1lMiIsIl91bml0MiIsImFsaWFzIiwiX2tleTMiLCJjcmVhdGVVbml0Iiwib3ZlcnJpZGUiLCJfa2V5NCIsImRlbGV0ZVVuaXQiLCJhbGlhc2VzIiwibGFzdFVuaXQiLCJfa2V5NSIsImNyZWF0ZVVuaXRTaW5nbGUiLCJkZWZpbml0aW9uIiwiYmFzZU5hbWUiLCJkZWZVbml0IiwibmV3VW5pdCIsImFueU1hdGNoIiwiX25ld0Jhc2VVbml0IiwibmV3QmFzZVVuaXQiLCJfaTYiLCJfaTgiLCJhbGlhc05hbWUiLCJfYWxpYXMiLCJfa2V5NiIsIm51bWJlciB8IEJpZ051bWJlciB8IEZyYWN0aW9uIHwgQ29tcGxleCwgc3RyaW5nIiwiT2JqZWN0LCBPYmplY3QiLCJzdHJpbmcsIFVuaXQgfCBzdHJpbmcgfCBPYmplY3QsIE9iamVjdCIsImRlZiIsInN0cmluZywgVW5pdCB8IHN0cmluZyB8IE9iamVjdCIsImFsZ29yaXRobTA0IiwiY3JlYXRlRG90IiwiY29uaiIsIkFycmF5IHwgRGVuc2VNYXRyaXgsIEFycmF5IHwgRGVuc2VNYXRyaXgiLCJfdmFsaWRhdGVEaW0iLCJhSXNDb2x1bW4iLCJiSXNDb2x1bW4iLCJhZGQyIiwibXVsMiIsIl9jMiIsIl9jMjIiLCJfYzMiLCJ4aW5kZXgiLCJ4dmFsdWVzIiwieWluZGV4IiwieXZhbHVlcyIsInhMZW4iLCJ5TGVuIiwieFNpemUiLCJ5U2l6ZSIsImtleXdvcmRzIiwiY3JlYXRlTm9kZSIsIm1hdGhXaXRoVHJhbnNmb3JtIiwiTm9kZTIiLCJldmFsdWF0ZSIsImNvbXBpbGUiLCJjb21tZW50IiwiZXhwciIsIl9jb21waWxlIiwic3ltYm9sIiwibWF0aCIsImFyZ05hbWVzIiwiX2lmTm9kZSIsInRyYXZlcnNlIiwiY2FsbGJhY2syIiwicGF0aCIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJjbG9uZURlZXAiLCJjdXN0b21TdHJpbmciLCJoYW5kbGVyIiwiX3RvU3RyaW5nIiwidG9IVE1MIiwidG9UZXgiLCJjdXN0b21UZXgiLCJfdG9UZXgiLCJnZXRJZGVudGlmaWVyIiwiZ2V0Q29udGVudCIsImlzT2JqZWN0UHJvcGVydHkiLCJnZXRPYmplY3RQcm9wZXJ0eSIsImVycm9yVHJhbnNmb3JtIiwiY3JlYXRlQWNjZXNzb3JOb2RlIiwiTm9kZSIsImFjY2VzcyIsImFjY2Vzc0ZhY3RvcnkiLCJBY2Nlc3Nvck5vZGUiLCJiaW5kIiwiZXZhbE9iamVjdCIsImV2YWxJbmRleCIsImNvbnRleHQiLCJuZWVkUGFyZW50aGVzaXMiLCJjcmVhdGVBcnJheU5vZGUiLCJpdGVtcyIsIkFycmF5Tm9kZSIsImV2YWxJdGVtcyIsImV2YWxJdGVtIiwiY2hpbGROb2RlIiwicHJvcGVydGllcyIsIkFzc2lnbm1lbnROb2RlIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZSIsIkNvbmRpdGlvbmFsTm9kZSIsImxhdGV4TGVmdFBhcmVucyIsImxhdGV4UmlnaHRQYXJlbnMiLCJsYXRleFBhcmVucyIsIk9wZXJhdG9yTm9kZTpvciIsImFzc29jaWF0aXZpdHkiLCJhc3NvY2lhdGl2ZVdpdGgiLCJPcGVyYXRvck5vZGU6eG9yIiwiT3BlcmF0b3JOb2RlOmFuZCIsIk9wZXJhdG9yTm9kZTpiaXRPciIsIk9wZXJhdG9yTm9kZTpiaXRYb3IiLCJPcGVyYXRvck5vZGU6Yml0QW5kIiwiT3BlcmF0b3JOb2RlOmVxdWFsIiwiT3BlcmF0b3JOb2RlOnVuZXF1YWwiLCJPcGVyYXRvck5vZGU6c21hbGxlciIsIk9wZXJhdG9yTm9kZTpsYXJnZXIiLCJPcGVyYXRvck5vZGU6c21hbGxlckVxIiwiT3BlcmF0b3JOb2RlOmxhcmdlckVxIiwiUmVsYXRpb25hbE5vZGUiLCJPcGVyYXRvck5vZGU6bGVmdFNoaWZ0IiwiT3BlcmF0b3JOb2RlOnJpZ2h0QXJpdGhTaGlmdCIsIk9wZXJhdG9yTm9kZTpyaWdodExvZ1NoaWZ0IiwiT3BlcmF0b3JOb2RlOnRvIiwiUmFuZ2VOb2RlIiwiT3BlcmF0b3JOb2RlOmFkZCIsIk9wZXJhdG9yTm9kZTpzdWJ0cmFjdCIsIk9wZXJhdG9yTm9kZTptdWx0aXBseSIsIk9wZXJhdG9yTm9kZTpkaXZpZGUiLCJPcGVyYXRvck5vZGU6ZG90TXVsdGlwbHkiLCJPcGVyYXRvck5vZGU6ZG90RGl2aWRlIiwiT3BlcmF0b3JOb2RlOm1vZCIsIk9wZXJhdG9yTm9kZTp1bmFyeVBsdXMiLCJPcGVyYXRvck5vZGU6dW5hcnlNaW51cyIsIk9wZXJhdG9yTm9kZTpiaXROb3QiLCJPcGVyYXRvck5vZGU6bm90IiwiT3BlcmF0b3JOb2RlOnBvdyIsIk9wZXJhdG9yTm9kZTpkb3RQb3ciLCJPcGVyYXRvck5vZGU6ZmFjdG9yaWFsIiwiT3BlcmF0b3JOb2RlOnRyYW5zcG9zZSIsIl9ub2RlIiwicGFyZW50aGVzaXMiLCJpZGVudGlmaWVyIiwiZ2V0UHJlY2VkZW5jZSIsIm5vZGVBIiwibm9kZUIiLCJpZGVudGlmaWVyQSIsImlkZW50aWZpZXJCIiwiY3JlYXRlQXNzaWdubWVudE5vZGUiLCJhc3NpZ25GYWN0b3J5IiwicHJlY2VkZW5jZSIsImV4cHJQcmVjZWRlbmNlIiwiZXZhbFZhbHVlIiwic2V0U2FmZVByb3BlcnR5IiwiY2hpbGRPYmplY3QiLCJldmFsUGFyZW50T2JqZWN0IiwicGFyZW50UHJvcCIsImV2YWxQYXJlbnRJbmRleCIsInBhcmVudEluZGV4IiwiY3JlYXRlQmxvY2tOb2RlIiwiYmxvY2tzIiwiQmxvY2tOb2RlIiwiYmxvY2siLCJ2aXNpYmxlIiwiZXZhbEJsb2NrcyIsInJlc3VsdHMiLCJjcmVhdGVDb25kaXRpb25hbE5vZGUiLCJjb25kaXRpb24iLCJ0cnVlRXhwciIsImZhbHNlRXhwciIsImV2YWxDb25kaXRpb24iLCJldmFsVHJ1ZUV4cHIiLCJldmFsRmFsc2VFeHByIiwidGVzdENvbmRpdGlvbiIsImNvbmRpdGlvblByZWNlZGVuY2UiLCJ0cnVlUHJlY2VkZW5jZSIsImZhbHNlUHJlY2VkZW5jZSIsImRlZmF1bHRFc2NhcGVzIiwieyIsIn0iLCJcXCIsIiMiLCIkIiwiJSIsIiYiLCJeIiwiXyIsIn4iLCJmb3JtYXRFc2NhcGVzIiwi4oCTIiwi4oCUIiwiICIsIlx0IiwiXHJcbiIsIlxuIiwiZGVmYXVsdEVzY2FwZU1hcEZuIiwiZGVmYXVsdEVzY2FwZXMyIiwiZm9ybWF0RXNjYXBlczIiLCJsYXRleFN5bWJvbHMiLCJBbHBoYSIsIkJldGEiLCJiZXRhIiwiR2FtbWEiLCJnYW1tYSIsIkRlbHRhIiwiZGVsdGEiLCJFcHNpbG9uIiwidmFyZXBzaWxvbiIsIlpldGEiLCJ6ZXRhIiwiRXRhIiwiZXRhIiwiVGhldGEiLCJ2YXJ0aGV0YSIsIklvdGEiLCJpb3RhIiwiS2FwcGEiLCJrYXBwYSIsInZhcmthcHBhIiwiTGFtYmRhIiwibGFtYmRhIiwiTXUiLCJtdSIsIk51IiwibnUiLCJYaSIsIk9taWNyb24iLCJvbWljcm9uIiwidmFycGkiLCJSaG8iLCJyaG8iLCJ2YXJyaG8iLCJTaWdtYSIsInNpZ21hIiwidmFyc2lnbWEiLCJUYXUiLCJ0YXUiLCJVcHNpbG9uIiwidXBzaWxvbiIsIlBoaSIsInZhcnBoaSIsIkNoaSIsImNoaSIsIlBzaSIsIk9tZWdhIiwib21lZ2EiLCJ0cnVlIiwiZmFsc2UiLCJJbmYiLCJpbmZpbml0eSIsIm9vIiwibGltIiwidW5kZWZpbmVkIiwibGF0ZXhPcGVyYXRvcnMiLCJjdHJhbnNwb3NlIiwiZmFjdG9yaWFsIiwiZG90UG93IiwidW5hcnlQbHVzIiwiYml0Tm90Iiwibm90IiwiZG90TXVsdGlwbHkiLCJkb3REaXZpZGUiLCJsZWZ0U2hpZnQiLCJyaWdodEFyaXRoU2hpZnQiLCJyaWdodExvZ1NoaWZ0IiwidW5lcXVhbCIsInNtYWxsZXJFcSIsImxhcmdlckVxIiwiYml0QW5kIiwiYml0WG9yIiwiYml0T3IiLCJhbmQiLCJ4b3IiLCJvciIsImxhdGV4RnVuY3Rpb25zIiwiMSIsIjIiLCJjdWJlIiwibG9nMXAiLCJub3JtIiwibnRoUm9vdCIsIm50aFJvb3RzIiwic3F1YXJlIiwiYmVsbE51bWJlcnMiLCJjYXRhbGFuIiwic3RpcmxpbmdTMiIsImNyb3NzIiwiZXhwbSIsImludiIsInNxcnRtIiwiY29tYmluYXRpb25zIiwiY29tYmluYXRpb25zV2l0aFJlcCIsImVyZiIsInZhcmlhbmNlIiwiMCIsImNvbXBsZXgiLCJzcGFyc2UiLCJsYXRleFVuaXRzIiwiX3JlZiRwcmVzZXJ2ZUZvcm1hdHRpIiwicHJlc2VydmVGb3JtYXR0aW5nIiwiX3JlZiRlc2NhcGVNYXBGbiIsImVzY2FwZU1hcEZuIiwicnVubmluZ1N0ciIsImVzY2FwZXMiLCJlc2NhcGVLZXlzIiwiX2xvb3AiLCJzcGVjaWFsQ2hhckZvdW5kIiwiZXNjYXBlTGF0ZXhMaWIiLCJpc1VuaXQyIiwiZXNjYXBlTGF0ZXgiLCJjcmVhdGVDb25zdGFudE5vZGUiLCJDb25zdGFudE5vZGUiLCJjcmVhdGVGdW5jdGlvbkFzc2lnbm1lbnROb2RlIiwiY2hpbGRBcmdOYW1lcyIsImV2YWxFeHByIiwiY2hpbGRBcmdzIiwiZXNjYXBlIiwidG9TeW1ib2wiLCJjcmVhdGVJbmRleE5vZGUiLCJkb3ROb3RhdGlvbiIsIkluZGV4Tm9kZSIsImV2YWxEaW1lbnNpb25zIiwibmVlZHNFbmQiLCJldmFsU3RhcnQiLCJldmFsRW5kIiwiZXZhbFN0ZXAiLCJjcmVhdGVSYW5nZSIsIl9ldmFsU3RhcnQiLCJfZXZhbEVuZCIsIl9ldmFsU3RlcCIsIl9jaGlsZEFyZ05hbWVzIiwiZXZhbFJhbmdlIiwiX2V2YWxSYW5nZSIsImV2YWxEaW1lbnNpb24iLCJjcmVhdGVPYmplY3ROb2RlIiwiT2JqZWN0Tm9kZSIsImV2YWxFbnRyaWVzIiwic3RyaW5naWZpZWRLZXkiLCJwYXJzZWRLZXkiLCJjcmVhdGVPcGVyYXRvck5vZGUiLCJvcCIsImltcGxpY2l0IiwiT3BlcmF0b3JOb2RlIiwibGF0ZXgiLCJnZXRBc3NvY2lhdGl2aXR5Iiwib3BlcmFuZFByZWNlZGVuY2UiLCJvcGVyYW5kSWRlbnRpZmllciIsInJvb3RJZGVudGlmaWVyIiwibGhzUGFyZW5zIiwicmhzUGFyZW5zIiwibGhzUHJlY2VkZW5jZSIsImFzc29jV2l0aExocyIsImlzQXNzb2NpYXRpdmVXaXRoIiwiX3Jvb3RJZGVudGlmaWVyIiwibGhzSWRlbnRpZmllciIsInJoc0lkZW50aWZpZXIiLCJyaHNQcmVjZWRlbmNlIiwiYXNzb2NXaXRoUmhzIiwiYXJnUHJlY2VkZW5jZSIsImFzc29jV2l0aEFyZyIsImFyZ0Fzc29jaWF0aXZpdHkiLCJpc1BhcmVudGhlc2lzTm9kZTIiLCJldmFsQXJncyIsImV2YWxBcmcwIiwiX2V2YWxBcmciLCJldmFsQXJnMSIsImV2YWxBcmciLCJpc1VuYXJ5IiwicGFyZW5zIiwiY2FsY3VsYXRlTmVjZXNzYXJ5UGFyZW50aGVzZXMiLCJhc3NvYyIsIm9wZXJhbmQiLCJvcElzTmFtZWQiLCJsaHMiLCJyaHMiLCJzdHJpbmdpZmllZEFyZ3MiLCJsaHNUZXgiLCJyaHNUZXgiLCJ0ZXhpZmllZEFyZ3MiLCJjcmVhdGVQYXJlbnRoZXNpc05vZGUiLCJjb250ZW50IiwiUGFyZW50aGVzaXNOb2RlIiwiY3JlYXRlUmFuZ2VOb2RlIiwic3RhcnRQcmVjZWRlbmNlIiwic3RlcFByZWNlZGVuY2UiLCJlbmRQcmVjZWRlbmNlIiwiY3JlYXRlUmVsYXRpb25hbE5vZGUiLCJjb25kaXRpb25hbHMiLCJpc1JlbGF0aW9uYWxOb2RlIiwic2VsZjIiLCJjb21waWxlZCIsImV2YWxMaHMiLCJldmFsUmhzIiwiY29uZEZuIiwicGFyYW1TdHJpbmdzIiwicGFyYW1QcmVjZWRlbmNlIiwib3BlcmF0b3JNYXAiLCJCaWdOdW1iZXJEZXBlbmRlbmNpZXMiLCJDb21wbGV4RGVwZW5kZW5jaWVzIiwiTWF0cml4RGVwZW5kZW5jaWVzIiwiRGVuc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJGcmFjdGlvbkRlcGVuZGVuY2llcyIsInR5cGVkRGVwZW5kZW5jaWVzIiwiZXF1YWxTY2FsYXJEZXBlbmRlbmNpZXMiLCJTcGFyc2VNYXRyaXhEZXBlbmRlbmNpZXMiLCJudW1iZXJEZXBlbmRlbmNpZXMiLCJmcmFjdGlvbkRlcGVuZGVuY2llcyIsIm1hdHJpeERlcGVuZGVuY2llcyIsInVuYXJ5TWludXNEZXBlbmRlbmNpZXMiLCJhYnNEZXBlbmRlbmNpZXMiLCJhZGRTY2FsYXJEZXBlbmRlbmNpZXMiLCJyb3VuZERlcGVuZGVuY2llcyIsInplcm9zRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlTY2FsYXJEZXBlbmRlbmNpZXMiLCJzaXplRGVwZW5kZW5jaWVzIiwibXVsdGlwbHlEZXBlbmRlbmNpZXMiLCJkb3REZXBlbmRlbmNpZXMiLCJjb25qRGVwZW5kZW5jaWVzIiwic3VidHJhY3REZXBlbmRlbmNpZXMiLCJsYXJnZXJEZXBlbmRlbmNpZXMiLCJpZGVudGl0eURlcGVuZGVuY2llcyIsIm51bWVyaWNEZXBlbmRlbmNpZXMiLCJiaWdudW1iZXJEZXBlbmRlbmNpZXMiLCJkaXZpZGVTY2FsYXJEZXBlbmRlbmNpZXMiLCJzdWJzZXREZXBlbmRlbmNpZXMiLCJVbml0RGVwZW5kZW5jaWVzIiwiZXF1YWxEZXBlbmRlbmNpZXMiLCJmaXhEZXBlbmRlbmNpZXMiLCJjZWlsRGVwZW5kZW5jaWVzIiwiZmxvb3JEZXBlbmRlbmNpZXMiLCJmb3JtYXREZXBlbmRlbmNpZXMiLCJpc051bWVyaWNEZXBlbmRlbmNpZXMiLCJwb3dEZXBlbmRlbmNpZXMiLCJOb2RlRGVwZW5kZW5jaWVzIiwiU3ltYm9sTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZVN5bWJvbE5vZGUiLCJTeW1ib2xOb2RlIiwibWF0aDIiLCJwYXJzZURlcGVuZGVuY2llcyIsIkFjY2Vzc29yTm9kZURlcGVuZGVuY2llcyIsIkFycmF5Tm9kZURlcGVuZGVuY2llcyIsIkFzc2lnbm1lbnROb2RlRGVwZW5kZW5jaWVzIiwiQmxvY2tOb2RlRGVwZW5kZW5jaWVzIiwiUmVzdWx0U2V0RGVwZW5kZW5jaWVzIiwiQ29uZGl0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiQ29uc3RhbnROb2RlRGVwZW5kZW5jaWVzIiwiRnVuY3Rpb25Bc3NpZ25tZW50Tm9kZURlcGVuZGVuY2llcyIsIkZ1bmN0aW9uTm9kZURlcGVuZGVuY2llcyIsImNyZWF0ZUZ1bmN0aW9uTm9kZSIsIkZ1bmN0aW9uTm9kZSIsInJhd0FyZ3MiLCJfcmF3QXJncyIsImV2YWxGbiIsIl9yYXdBcmdzMiIsIm5vZGVUb1N0cmluZyIsInRlbXBsYXRlIiwicmVnZXgiLCJpbnB1dFBvcyIsImV4ZWMiLCJSZWZlcmVuY2VFcnJvciIsIm5vZGVUb1RleCIsImxhdGV4Q29udmVydGVyIiwiY3VzdG9tVG9UZXgiLCJleHBhbmRUZW1wbGF0ZSIsIkluZGV4Tm9kZURlcGVuZGVuY2llcyIsIlJhbmdlRGVwZW5kZW5jaWVzIiwiT2JqZWN0Tm9kZURlcGVuZGVuY2llcyIsIk9wZXJhdG9yTm9kZURlcGVuZGVuY2llcyIsIlBhcmVudGhlc2lzTm9kZURlcGVuZGVuY2llcyIsIlJhbmdlTm9kZURlcGVuZGVuY2llcyIsIlJlbGF0aW9uYWxOb2RlRGVwZW5kZW5jaWVzIiwiY3JlYXRlUGFyc2UiLCJleHByZXNzaW9uIiwicGFyc2VTdGFydCIsImV4cHJlc3Npb25zIiwicGFyc2VNdWx0aXBsZSIsIkFycmF5IHwgTWF0cml4LCBPYmplY3QiLCJleHRyYU5vZGVzIiwiVE9LRU5UWVBFIiwiREVMSU1JVEVSUyIsIiwiLCIoIiwiKSIsIlsiLCJdIiwiXCIiLCInIiwiOyIsIisiLCItIiwiKiIsIi4qIiwiLyIsIi4vIiwiLl4iLCIhIiwifCIsIl58IiwiPSIsIjoiLCI/IiwiPT0iLCIhPSIsIjwiLCI+IiwiPD0iLCI+PSIsIjw8IiwiPj4iLCI+Pj4iLCJOQU1FRF9ERUxJTUlURVJTIiwiQ09OU1RBTlRTIiwiTlVNRVJJQ19DT05TVEFOVFMiLCJzdGF0ZSIsImN1cnJlbnRTdHJpbmciLCJ0b2tlblR5cGUiLCJ0b2tlbiIsImlzV2hpdGVzcGFjZSIsImN1cnJlbnRDaGFyYWN0ZXIiLCJuZXN0aW5nTGV2ZWwiLCJpc0RpZ2l0RG90IiwiaXNIZXhEaWdpdCIsImlzRGVjaW1hbE1hcmsiLCJuZXh0Q2hhcmFjdGVyIiwiY3JlYXRlU3ludGF4RXJyb3IiLCJpc0FscGhhIiwicHJldkNoYXJhY3RlciIsImNvbmRpdGlvbmFsTGV2ZWwiLCJwYXJzZUFzc2lnbm1lbnQiLCJwYXJzZUJsb2NrIiwidmFsaWQiLCJwYXJzZUxvZ2ljYWxYb3IiLCJwYXJzZUxvZ2ljYWxPciIsInBhcnNlQ29uZGl0aW9uYWwiLCJwYXJzZUxvZ2ljYWxBbmQiLCJwYXJzZUJpdHdpc2VPciIsInBhcnNlQml0d2lzZVhvciIsInBhcnNlQml0d2lzZUFuZCIsInBhcnNlUmVsYXRpb25hbCIsInBhcnNlU2hpZnQiLCJvcGVyYXRvcnMiLCJjb25kIiwicGFyc2VDb252ZXJzaW9uIiwicGFyc2VSYW5nZSIsInBhcnNlQWRkU3VidHJhY3QiLCJwYXJzZU11bHRpcGx5RGl2aWRlIiwicGFyc2VJbXBsaWNpdE11bHRpcGxpY2F0aW9uIiwicGFyc2VSdWxlMiIsInBhcnNlVW5hcnkiLCJ0b2tlblN0YXRlcyIsIkN1c3RvbU5vZGUiLCJwYXJzZUFjY2Vzc29ycyIsInBhcnNlRG91YmxlUXVvdGVzU3RyaW5nVG9rZW4iLCJwYXJzZVNpbmdsZVF1b3Rlc1N0cmluZ1Rva2VuIiwicGFyc2VSb3ciLCJudW1iZXJTdHIiLCJwYXJzZUVuZCIsInBhcnNlUGFyZW50aGVzZXMiLCJwYXJzZU9iamVjdCIsInBhcnNlTWF0cml4IiwicGFyc2VTaW5nbGVRdW90ZXNTdHJpbmciLCJwYXJzZURvdWJsZVF1b3Rlc1N0cmluZyIsInBhcnNlU3ltYm9sIiwicGFyc2VDdXN0b21Ob2RlcyIsInBhcnNlTGVmdEhhbmRPcGVyYXRvcnMiLCJwYXJzZVBvdyIsImNvbCIsImNoYXIiLCJjUHJldiIsImNOZXh0IiwiaXNWYWxpZExhdGluT3JHcmVlayIsImlzVmFsaWRNYXRoU3ltYm9sIiwiY3JlYXRlRXZhbHVhdGUiLCJpbnZEZXBlbmRlbmNpZXMiLCJkZXREZXBlbmRlbmNpZXMiLCJsdXBEZXBlbmRlbmNpZXMiLCJTcGFEZXBlbmRlbmNpZXMiLCJGaWJvbmFjY2lIZWFwRGVwZW5kZW5jaWVzIiwic21hbGxlckRlcGVuZGVuY2llcyIsImNyZWF0ZUx1cCIsIl9kZW5zZUxVUCIsImx2YWx1ZXMiLCJsaW5kZXgiLCJscHRyIiwibHNpemUiLCJ1dmFsdWVzIiwidWluZGV4IiwidXB0ciIsInVzaXplIiwicHZDbyIsInB2T2MiLCJzd2FwSW5kZWNlcyIsInNwYSIsImsyIiwidmtqIiwidmlrIiwidmpqIiwicGFic3YiLCJhYnN2IiwiVSIsIl9zcGFyc2VMVVAiLCJsZGF0YSIsInVkYXRhIiwidmlqIiwiY3JlYXRlRGV0IiwibHVwIiwibWF0cml4MiIsImRlY29tcCIsImV2ZW5DeWNsZXMiLCJ2aXNpdGVkIiwiX2RldCIsImNyZWF0ZUludiIsIl9pbnYiLCJtYXQiLCJBQmlnIiwickJpZyIsIkFjIiwiQmMiLCJBciIsIkJyIiwiY3JlYXRlRGl2aWRlIiwiQXJyYXkgfCBNYXRyaXgsIEFycmF5IHwgTWF0cml4IiwiYW55LCBBcnJheSB8IE1hdHJpeCIsImN0eCIsIm9uY2UiLCJvZmYiLCJsaXN0ZW5lciIsImVtaXQiLCJldnRBcnIiLCJldnRzIiwibGl2ZUV2ZW50cyIsInRpbnlFbWl0dGVyTW9kdWxlIiwiZWFjaCIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwiZWwiLCJzaGVldCIsInNlbGVjdG9yIiwicnVsZXMiLCJpbnNlcnRSdWxlIiwiYWRkUnVsZSIsImZhdGFsIiwiVWludDE2QXJyYXkiLCJmcm9tQ2hhckNvZGUiLCJzdWJhcnJheSIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJlbmNvZGUiLCJzdHJlYW0iLCJVaW50OEFycmF5IiwiQnVmZmVyIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInJlc3BvbnNlVGV4dCIsInJldm9rZU9iamVjdFVSTCIsImRlY29kZSIsIkFycmF5QnVmZmVyIiwid2luZG93IiwiZ2xvYmFsIiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZWxlbWVudCIsImJvdW5kcyIsIkJvdW5kcyIsInJlZmVyZW5jZUVsZW1lbnQiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZG9jRWwiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5IiwiZG9jdW1lbnQyIiwiZG9jdW1lbnRFbGVtZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiYm9keVN0eWxlIiwib2Zmc2V0VG9wIiwibWFyZ2luVG9wIiwib2Zmc2V0TGVmdCIsIm1hcmdpbkxlZnQiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJnZXREb2N1bWVudEJvdW5kcyIsImRlZmF1bHRWaWV3IiwiY29tcHV0ZWRTdHlsZSIsIm9mZnNldFBhcmVudCIsInByZXZDb21wdXRlZFN0eWxlIiwiY29udGFpbnMiLCJwYXJlbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwidmlld3BvcnRUZXN0ZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sIiwid3JhcHBlciIsImlubmVySFRNTCIsImZpcnN0RWxlbWVudENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJwb2ludGVyRXZlbnRzIiwiZXhwb3J0czIiLCJORVdFUiIsIk9MREVSIiwib2xkZXN0IiwibmV3ZXN0IiwiX2tleW1hcCIsIm9sZGVzdEVudHJ5IiwiTFJVTWFwIiwiX21hcmtFbnRyeUFzVXNlZCIsIk1BWF9WQUxVRSIsIml0IiwiaXRlcmF0b3IiLCJpdHYiLCJkb25lIiwiRW50cnkiLCJlbnQiLCJLZXlJdGVyYXRvciIsIlZhbHVlSXRlcmF0b3IiLCJFbnRyeUl0ZXJhdG9yIiwiZnVuIiwidGhpc09iaiIsImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGlnZXN0TGVuZ3RoIiwiYmxvY2tTaXplIiwicG9zIiwiSGFzaCIsIkludDMyQXJyYXkiLCJidWZmZXJMZW5ndGgiLCJieXRlc0hhc2hlZCIsImZpbmlzaGVkIiwicmVzZXQiLCJjbGVhbiIsImRhdGFMZW5ndGgiLCJkYXRhUG9zIiwiaGFzaEJsb2NrcyIsImZpbmlzaCIsImJpdExlbkhpIiwiYml0TGVuTG8iLCJwYWRMZW5ndGgiLCJkaWdlc3QiLCJfc2F2ZVN0YXRlIiwiX3Jlc3RvcmVTdGF0ZSIsIkhhc2gyIiwiSE1BQyIsImlubmVyIiwicGFkIiwiaXN0YXRlIiwib3N0YXRlIiwiSE1BQzIiLCJobWFjMiIsImluZm8iLCJjb3VudGVyIiwiaG1hYyIsImhrZGZTYWx0Iiwic2FsdCIsIm9rbSIsImhtYWNfIiwiYnVmcG9zIiwiZmlsbCIsInBhc3N3b3JkIiwiaXRlcmF0aW9ucyIsImRrTGVuIiwicHJmIiwiY3RyIiwiZGsiLCJoa2RmIiwicGJrZGYyIiwic2hhMjU2MiIsImV2ZW50Q2FsbGJhY2siLCJob3ZlciIsImFjdGl2ZSIsImZvY3VzIiwiSW1hZ2UiLCJFZGdlcyIsImxheWVycyIsImdldEF0dHJpYnV0ZSIsIldlYlJlbmRlcmVyIiwiRUxFTUVOVF9VSURfQVRUUklCVVRFIiwiZ2VuZXJhdGVFbGVtZW50VUlEIiwic2V0QXR0cmlidXRlIiwiTEFZRVJfQVRUUklCVVRFIiwicGFyZW50TGF5ZXIiLCJnZXRDbG9zZXN0TGF5ZXIiLCJjYWNoZWRDYW52YXNlcyIsIl9XZWJMYXllciIsIkRFRkFVTFRfQ0FDSEVfU0laRSIsIl9oYXNoaW5nQ2FudmFzIiwidmFsIiwiX2NhbnZhcyIsImRlcHRoIiwibGF5ZXIiLCJyb290TGF5ZXIiLCJ0cmF2ZXJzZVBhcmVudExheWVycyIsInRyYXZlcnNlQ2hpbGRMYXllcnMiLCJjaGlsZExheWVycyIsInRyYXZlcnNlTGF5ZXJzIiwibmVlZHNSZWZyZXNoIiwiX3VwZGF0ZVBhcmVudEFuZENoaWxkTGF5ZXJzIiwiYWRkVG9TZXJpYWxpemVRdWV1ZSIsIm9sZENoaWxkTGF5ZXJzIiwicHJldmlvdXNQYXJlbnRMYXllciIsIl90cnlDb252ZXJ0RWxlbWVudFRvV2ViTGF5ZXIiLCJuZWVkc1JlbW92YWwiLCJzdHlsZXMiLCJoYXNBdHRyaWJ1dGUiLCJub2RlTmFtZSIsInBhZGRpbmciLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJib3JkZXIiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJlbGVtZW50QXR0cmlidXRlIiwiYXR0cmlidXRlSFRNTCIsImxheWVyRWxlbWVudCIsIm5lZWRzSW5saW5lQmxvY2siLCJkaXNwbGF5IiwidXBkYXRlSW5wdXRBdHRyaWJ1dGVzIiwibGF5ZXJIVE1MIiwic2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiUkVOREVSSU5HX0FUVFJJQlVURSIsIlJFTkRFUklOR19JTkxJTkVfQVRUUklCVVRFIiwiZ2V0UHN1ZWRvQXR0cmlidXRlcyIsInBzdWVkb1N0YXRlcyIsInBhcmVudHNIVE1MIiwiX2dldFBhcmVudHNIVE1MIiwiUkVOREVSSU5HX0RPQ1VNRU5UX0FUVFJJQlVURSIsInN2Z0NTUyIsIlByb21pc2UiLCJhbGwiLCJnZXRFbWJlZGRlZENTUyIsImVtYmVkRXh0ZXJuYWxSZXNvdXJjZXMiLCJkb2NTdHJpbmciLCJzdmdEb2MiLCJfc3ZnRG9jdW1lbnQiLCJjYW52YXNIYXNoIiwiY2FudmFzSGFzaGVzIiwiY2FudmFzIiwiY2FjaGVkQm91bmRzIiwiY2FjaGVkTWFyZ2luIiwiYWRkVG9SYXN0ZXJpemVRdWV1ZSIsInN2Z0ltYWdlIiwib25sb2FkIiwiYWRkVG9SZW5kZXJRdWV1ZSIsIl9yYXN0ZXJpemluZ0RvY3VtZW50Iiwic3JjIiwiX3N2Z1NyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbXBsZXRlIiwiY3VycmVudFNyYyIsImhhc2hpbmdDYW52YXMiLCJodyIsImhoIiwiaGN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJoYXNoRGF0YSIsImdldEltYWdlRGF0YSIsIm5ld0hhc2giLCJhcnJheUJ1ZmZlclRvQmFzZTY0Iiwic2hhMjU2Lmhhc2giLCJibGFua1JldHJ5Q291bnQiLCJibGFua1JldHJ5Q291bnRzIiwiaXNCbGFua0ltYWdlIiwicGl4ZWxSYXRpbyIsIlBJWEVMX1JBVElPX0FUVFJJQlVURSIsImRldmljZVBpeGVsUmF0aW8iLCJuZXdDYW52YXMiLCJvcGVucyIsImNsb3NlcyIsInRhZyIsInRhZ05hbWUiLCJhdHRyaWJ1dGVzIiwiUkVOREVSSU5HX1BBUkVOVF9BVFRSSUJVVEUiLCJjbG9zZSIsIldlYkxheWVyIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zMiIsInJlc2l6ZU9ic2VydmVycyIsIm1zZyIsInRyaWdnZXIiLCJSZXNpemVPYnNlcnZlclNpemUiLCJpbmxpbmVTaXplIiwiRE9NUmVjdFJlYWRPbmx5IiwiZnJvbVJlY3QiLCJyZWN0YW5nbGUiLCJET01SZWN0UmVhZE9ubHkyIiwiaXNTVkciLCJTVkdFbGVtZW50IiwiaXNIaWRkZW4iLCJnZXRCQm94IiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VsZW1lbnQiLCJFbGVtZW50IiwiV2Vha01hcCIsInNjcm9sbFJlZ2V4cCIsInZlcnRpY2FsUmVnZXhwIiwiSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJwYXJzZURpbWVuc2lvbiIsInBpeGVsIiwic3dpdGNoU2l6ZXMiLCJ6ZXJvQm94ZXMiLCJkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplIiwiYm9yZGVyQm94U2l6ZSIsImNvbnRlbnRCb3hTaXplIiwiY29udGVudFJlY3QiLCJjYWxjdWxhdGVCb3hTaXplcyIsImZvcmNlUmVjYWxjdWxhdGlvbiIsImNzIiwic3ZnIiwib3duZXJTVkdFbGVtZW50IiwicmVtb3ZlUGFkZGluZyIsImJveFNpemluZyIsIndyaXRpbmdNb2RlIiwiY2FuU2Nyb2xsVmVydGljYWxseSIsIm92ZXJmbG93WSIsImNhblNjcm9sbEhvcml6b250YWxseSIsIm92ZXJmbG93WCIsImJvcmRlclRvcCIsImJvcmRlclJpZ2h0IiwiYm9yZGVyQm90dG9tIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJob3Jpem9udGFsQm9yZGVyQXJlYSIsInZlcnRpY2FsQm9yZGVyQXJlYSIsImhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MiLCJ2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyIsIndpZHRoUmVkdWN0aW9uIiwiaGVpZ2h0UmVkdWN0aW9uIiwiY29udGVudFdpZHRoIiwiY29udGVudEhlaWdodCIsImJvcmRlckJveFdpZHRoIiwiYm9yZGVyQm94SGVpZ2h0IiwiYm94ZXMiLCJjYWxjdWxhdGVCb3hTaXplIiwib2JzZXJ2ZWRCb3giLCJERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1giLCJCT1JERVJfQk9YIiwiUmVzaXplT2JzZXJ2ZXJFbnRyeSIsImNhbGN1bGF0ZURlcHRoRm9yTm9kZSIsInBhcmVudE5vZGUiLCJicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMiLCJzaGFsbG93ZXN0RGVwdGgiLCJjYWxsYmFja3MyIiwicm8iLCJhY3RpdmVUYXJnZXRzIiwib3QiLCJ0YXJnZXREZXB0aCIsImxhc3RSZXBvcnRlZFNpemUiLCJvYnNlcnZlciIsImNhbGxiYWNrc18xIiwiZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCIsInNraXBwZWRUYXJnZXRzIiwib2JzZXJ2YXRpb25UYXJnZXRzIiwiaXNBY3RpdmUiLCJwcm9jZXNzIiwiZXZlbnQiLCJFcnJvckV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FsbGJhY2tzIiwicXVldWVNaWNyb1Rhc2siLCJ0b2dnbGVfMSIsImVsXzEiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYjIiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsInRleHRDb250ZW50Iiwid2F0Y2hpbmciLCJvYnNlcnZlckNvbmZpZyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJldmVudHMiLCJ0aW1lIiwidGltZW91dCIsIm5vdyIsInNjaGVkdWxlZCIsInNjaGVkdWxlciIsIl90aGlzIiwic3RvcHBlZCIsInNjaGVkdWxlIiwicnVuIiwidW50aWwiLCJlbGVtZW50c0hhdmVSZXNpemVkIiwic3RvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNjaGVkdWxlcjIiLCJ1cGRhdGVDb3VudCIsIlJlc2l6ZU9ic2VydmF0aW9uIiwiQ09OVEVOVF9CT1giLCJpc1JlcGxhY2VkRWxlbWVudCIsIlJlc2l6ZU9ic2VydmF0aW9uMiIsIlJlc2l6ZU9ic2VydmVyRGV0YWlsIiwicmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlck1hcCIsImdldE9ic2VydmF0aW9uSW5kZXgiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0IiwiZGV0YWlsIiwiZmlyc3RPYnNlcnZhdGlvbiIsInVub2JzZXJ2ZSIsImxhc3RPYnNlcnZhdGlvbiIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjIiLCJSZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyMiIsInNlbGYiLCJQb2x5ZmlsbCIsInNjcmF0Y2hNYXQxIiwic2NyYXRjaE1hdDIiLCJ0ZXh0RGVjb2RlciIsIkFUVFJJQlVURV9QUkVGSVgiLCJfbmV4dFVJRCIsInN0YXRlcyIsIkhPVkVSX0FUVFJJQlVURSIsIkZPQ1VTX0FUVFJJQlVURSIsIkFDVElWRV9BVFRSSUJVVEUiLCJUQVJHRVRfQVRUUklCVVRFIiwicm9vdE5vZGUiLCJnZXRSb290Tm9kZSIsInN0eWxlUm9vdCIsImhlYWQiLCJyb290Tm9kZU9ic2VydmVycyIsImFwcGVuZCIsIl9XZWJSZW5kZXJlciIsInByZXZpb3VzSGFzaCIsIm9uSGFzaENoYW5nZSIsImxvY2F0aW9uIiwidGFyZ2V0RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJldnQiLCJmb2N1c0VsZW1lbnQiLCJzZXROZWVkc1JlZnJlc2hPbkFsbExheWVycyIsInNldE5lZWRzUmVmcmVzaE9uU3R5bGVMb2FkIiwiU1RZTEVfTk9ERVMiLCJtdXRhdGlvbnMiLCJlbWJlZGRlZENTUyIsImFkZGVkTm9kZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsInNlcmlhbGl6ZVF1ZXVlIiwicmFzdGVyaXplUXVldWUiLCJyZW5kZXJRdWV1ZSIsInRhc2tzUGVuZGluZyIsIm1heFN5bmNUaW1lIiwiVEFTS19TWU5DX01BWF9USU1FIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJyZW5kZXIiLCJzZXJpYWxpemUiLCJyYXN0ZXJpemVUYXNrQ291bnQiLCJUQVNLX0FTWU5DX01BWF9DT1VOVCIsInJhc3Rlcml6ZSIsInRoZW4iLCJzY2hlZHVsZUlkbGUiLCJfcnVuVGFza3MiLCJob3N0IiwiY29udGFpbmVyIiwiUkVOREVSSU5HX0NPTlRBSU5FUl9BVFRSSUJVVEUiLCJhcHBlbmRDaGlsZCIsImluaXRSb290Tm9kZU9ic2VydmF0aW9uIiwiX2hhbmRsZU11dGF0aW9ucyIsIm11dGF0aW9uT2JzZXJ2ZXJzIiwic3RhcnRNdXRhdGlvbk9ic2VydmVyIiwicmVjb3JkIiwicmVjb3JkcyIsImxheWVyMiIsInNldExheWVyTmVlZHNSZWZyZXNoIiwiX3RyaWdnZXJSZWZyZXNoIiwiY2FwdHVyZSIsInJvb3RMYXllcnMiLCJjbG9zZXN0TGF5ZXJFbGVtZW50IiwiY2xvc2VzdCIsInRyYW5zZm9ybWNzcyIsIm9yaWdpbmNzcyIsInRyYW5zZm9ybU9yaWdpbiIsIm94Iiwib3kiLCJUMSIsIm1ha2VUcmFuc2xhdGlvbiIsIlQyIiwicHJlbXVsdGlwbHkiLCJwcm9taXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50MiIsImdldEF0dHJpYnV0ZU5TIiwiZ2V0RGF0YVVSTCIsInJlbW92ZUF0dHJpYnV0ZU5TIiwiZGF0YVVSTCIsImltZ0VsZW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJnZW5lcmF0ZUVtYmVkZGVkQ1NTIiwiaHJlZiIsImNzcyIsInRha2VSZWNvcmRzIiwic2hlZXRzIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsIm5ld1J1bGVzIiwiY3NzVGV4dCIsImJpbmFyeSIsImJ0b2EiLCJ1cmwiLCJmb3VuZCIsImF0dHJpYnV0ZUNTUyIsInJlZ0V4IiwicmVzb3VyY2VVUkwiLCJ4aHIiLCJyZXNwb25zZVR5cGUiLCJvbmVycm9yIiwiZW1iZWRkZWQiLCJzdHlsZUVsZW1lbnRzIiwiZm91bmROZXdTdHlsZXMiLCJydWxlIiwiZ2V0VVJMIiwicmVzcG9uc2UiLCJfYWRkRHluYW1pY1BzZXVkb0NsYXNzUnVsZXMiLCJjb250ZW50VHlwZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiYmFzZTY0IiwiX3VwZGF0ZUlucHV0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnB1dEVsZW1lbnQiLCJjaGVja2VkIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1hZ2VEYXRhIiwiY29sb3IiLCJYTUxTZXJpYWxpemVyIiwiYWN0aXZlRWxlbWVudCIsImF0dHJpYnV0ZU5hbWUiLCJvbGRWYWx1ZSIsImNsYXNzTmFtZSIsImFzeW5jIiwiVEhSRUUiLCJfVEhSRUUiLCJzY3JhdGNoVmVjdG9yIiwic2NyYXRjaFZlY3RvcjIiLCJzY3JhdGNoQm91bmRzIiwic2NyYXRjaEJvdW5kczIiLCJHcm91cCIsImVsZW1lbnRPckhUTUwiLCJNZXNoIiwiV2ViTGF5ZXIzRCIsIkdFT01FVFJZIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsImFscGhhVGVzdCIsIm9wYWNpdHkiLCJPYmplY3QzRCIsIk1lc2hEZXB0aE1hdGVyaWFsIiwiZGVwdGhQYWNraW5nIiwiUkdCQURlcHRoUGFja2luZyIsIkRPTSIsIl93ZWJMYXllciIsImNvbnRlbnRNZXNoIiwiX2JvdW5kc01lc2giLCJjdXJzb3IiLCJtYXRyaXhBdXRvVXBkYXRlIiwibWF0ZXJpYWwiLCJ0b25lTWFwcGVkIiwiZGVwdGhNYXRlcmlhbCIsImxheWVyc0J5RWxlbWVudCIsImxheWVyc0J5TWVzaCIsInZpZGVvIiwidGV4dHVyZXMiLCJWaWRlb1RleHR1cmUiLCJ3cmFwUyIsIkNsYW1wVG9FZGdlV3JhcHBpbmciLCJ3cmFwVCIsIm1pbkZpbHRlciIsIkxpbmVhckZpbHRlciIsInRleHR1cmVFbmNvZGluZyIsImVuY29kaW5nIiwidGV4dHVyZU5lZWRzVXBkYXRlIiwibmVlZHNVcGRhdGUiLCJUZXh0dXJlIiwicGFyZW50V2ViTGF5ZXIiLCJjaGlsZFdlYkxheWVycyIsInJlZnJlc2giLCJnZXRDbG9zZXN0TGF5ZXJGb3JFbGVtZW50IiwiX3JlZnJlc2hWaWRlb0JvdW5kcyIsIl9yZWZyZXNoRE9NTGF5b3V0IiwiZG9tTGF5b3V0IiwiZG9tU2l6ZSIsIm1lc2giLCJpc0hpZGRlbjIiLCJkaXNwb3NlIiwidGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiaW1hZ2UiLCJkZXB0aFdyaXRlIiwicmVuZGVyT3JkZXIiLCJyZW5kZXJPcmRlck9mZnNldCIsInVwZGF0ZUxheW91dCIsInVwZGF0ZUNvbnRlbnQiLCJhdXRvUmVmcmVzaCIsInNjaGVkdWxlVGFza3NJZk5lZWRlZCIsInRyYXZlcnNlTGF5ZXJzUHJlT3JkZXIiLCJfZG9VcGRhdGUiLCJ0cmF2ZXJzZUxheWVyQW5jZXN0b3JzIiwidHJhdmVyc2VMYXllcnNQb3N0T3JkZXIiLCJkaXNwb3NlTGF5ZXIiLCJvYmplY3RGaXQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwidmlkZW9SYXRpbyIsInZpZXdSYXRpbyIsInJlcGVhdCIsImNsYW1wU2NhbGFyIiwicGl4ZWxTaXplIiwiREVGQVVMVF9QSVhFTFNfUEVSX1VOSVQiLCJzaG91bGRBcHBseURPTUxheW91dCIsInBhcmVudEJvdW5kcyIsIldlYkxheWVyM0RCYXNlIiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImdldFZpZXdwb3J0Qm91bmRzIiwibGVmdEVkZ2UiLCJ0b3BFZGdlIiwibGF5ZXJTZXBhcmF0aW9uIiwiREVGQVVMVF9MQVlFUl9TRVBBUkFUSU9OIiwiUmF5Y2FzdGVyIiwiU2V0IiwicHNldWRvU3RhdGVzIiwiX3ByZXZpb3VzSG92ZXJMYXllcnMiLCJfY29udGVudE1lc2hlcyIsImNyZWF0ZUxheWVyVHJlZSIsIm9uTGF5ZXJDcmVhdGUiLCJfV2ViTGF5ZXIzRCIsInJlbmRlcmVyIiwiaXNDYW1lcmEiLCJnZXRQaXhlbFJhdGlvIiwid2lkdGhQaXhlbHMiLCJkb21FbGVtZW50IiwiaG9yaXpvbnRhbEZPViIsIl9mb3ZzIiwiaW52UHJvamVjdGlvbiIsIl9nZXRGb3ZzTWF0cml4IiwiX2dldEZvdnNWZWN0b3IiLCJGT1JXQVJEIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiZ2V0Rm92cyIsInNob3VsZCIsInN1cGVyIiwiX2ludGVyYWN0aW9uUmF5cyIsInJheXMiLCJfdXBkYXRlSW50ZXJhY3Rpb25zIiwibyIsImlzR3JvdXAiLCJncm91cE9yZGVyIiwiZGlzdGFuY2UiLCJwcmV2SG92ZXIiLCJfcHJlcGFyZUhpdFRlc3QiLCJyYXkiLCJSYXkiLCJfcmF5Y2FzdGVyIiwiZ2V0V29ybGRQb3NpdGlvbiIsImdldFdvcmxkRGlyZWN0aW9uIiwiX2hpdEludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0T2JqZWN0cyIsIl9pbnRlcnNlY3Rpb25HZXRHcm91cE9yZGVyIiwiX2ludGVyc2VjdGlvblNvcnQiLCJpbnRlcnNlY3Rpb24iLCJzZXROZWVkc1JlZnJlc2giLCJyYXljYXN0ZXIiLCJtZXNoTWFwIiwiaW50ZXJzZWN0T2JqZWN0IiwibGF5ZXJCb3VuZGluZ1JlY3QiLCJnZXRCb3VuZHMiLCJjbGllbnRYIiwidXYiLCJjbGllbnRZIiwiZWxlbWVudEJvdW5kaW5n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
