var vueComponents=function(e,t){"use strict";function n(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const r=n("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function s(e){return!!e||""===e}function i(e){if(E(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=R(r)?l(r):i(r);if(s)for(const e in s)t[e]=s[e]}return t}return R(e)||C(e)?e:void 0}const o=/;(?![^(]*\))/g,a=/:(.+)/;function l(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(a);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function c(e){let t="";if(R(e))t=e;else if(E(e))for(let n=0;n<e.length;n++){const r=c(e[n]);r&&(t+=r+" ")}else if(C(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const u=e=>R(e)?e:null==e?"":E(e)||C(e)&&(e.toString===O||!k(e.toString))?JSON.stringify(e,d,2):String(e),d=(e,t)=>t&&t.__v_isRef?d(e,t.value):T(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()]}:!C(t)||E(t)||B(t)?t:String(t),h={},f=[],p=()=>{},m=()=>!1,g=/^on[^a-z]/,y=e=>g.test(e),v=e=>e.startsWith("onUpdate:"),b=Object.assign,w=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_=Object.prototype.hasOwnProperty,x=(e,t)=>_.call(e,t),E=Array.isArray,T=e=>"[object Map]"===M(e),S=e=>"[object Set]"===M(e),k=e=>"function"==typeof e,R=e=>"string"==typeof e,A=e=>"symbol"==typeof e,C=e=>null!==e&&"object"==typeof e,P=e=>C(e)&&k(e.then)&&k(e.catch),O=Object.prototype.toString,M=e=>O.call(e),B=e=>"[object Object]"===M(e),L=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,I=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},U=/-(\w)/g,F=D((e=>e.replace(U,((e,t)=>t?t.toUpperCase():"")))),j=/\B([A-Z])/g,N=D((e=>e.replace(j,"-$1").toLowerCase())),V=D((e=>e.charAt(0).toUpperCase()+e.slice(1))),K=D((e=>e?`on${V(e)}`:"")),z=(e,t)=>!Object.is(e,t),W=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},q=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $;const H=()=>$||($="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});let X;class Y{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&X&&(this.parent=X,this.index=(X.scopes||(X.scopes=[])).push(this)-1)}run(e){if(this.active)try{return X=this,e()}finally{X=this.parent}}on(){X=this}off(){X=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const Q=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Z=e=>(e.w&ne)>0,J=e=>(e.n&ne)>0,ee=new WeakMap;let te=0,ne=1;let re;const se=Symbol(""),ie=Symbol("");class oe{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=X){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=re,t=le;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=re,re=this,le=!0,ne=1<<++te,te<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ne})(this):ae(this),this.fn()}finally{te<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Z(s)&&!J(s)?s.delete(e):t[n++]=s,s.w&=~ne,s.n&=~ne}t.length=n}})(this),ne=1<<--te,re=this.parent,le=t,this.parent=void 0}}stop(){this.active&&(ae(this),this.onStop&&this.onStop(),this.active=!1)}}function ae(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let le=!0;const ce=[];function ue(){ce.push(le),le=!1}function de(){const e=ce.pop();le=void 0===e||e}function he(e,t,n){if(le&&re){let t=ee.get(e);t||ee.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=Q()),fe(r)}}function fe(e,t){let n=!1;te<=30?J(e)||(e.n|=ne,n=!Z(e)):n=!e.has(re),n&&(e.add(re),re.deps.push(e))}function pe(e,t,n,r,s,i){const o=ee.get(e);if(!o)return;let a=[];if("clear"===t)a=[...o.values()];else if("length"===n&&E(e))o.forEach(((e,t)=>{("length"===t||t>=r)&&a.push(e)}));else switch(void 0!==n&&a.push(o.get(n)),t){case"add":E(e)?L(n)&&a.push(o.get("length")):(a.push(o.get(se)),T(e)&&a.push(o.get(ie)));break;case"delete":E(e)||(a.push(o.get(se)),T(e)&&a.push(o.get(ie)));break;case"set":T(e)&&a.push(o.get(se))}if(1===a.length)a[0]&&me(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);me(Q(e))}}function me(e,t){for(const t of E(e)?e:[...e])(t!==re||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ge=n("__proto__,__v_isRef,__isVue"),ye=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(A)),ve=Ee(),be=Ee(!1,!0),we=Ee(!0),_e=xe();function xe(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=at(this);for(let e=0,t=this.length;e<t;e++)he(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(at)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ue();const n=at(this)[t].apply(this,e);return de(),n}})),e}function Ee(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&s===(e?t?Ze:Qe:t?Ye:Xe).get(n))return n;const i=E(n);if(!e&&i&&x(_e,r))return Reflect.get(_e,r,s);const o=Reflect.get(n,r,s);if(A(r)?ye.has(r):ge(r))return o;if(e||he(n,0,r),t)return o;if(dt(o)){return!i||!L(r)?o.value:o}return C(o)?e?tt(o):et(o):o}}function Te(e=!1){return function(t,n,r,s){let i=t[n];if(st(i)&&dt(i)&&!dt(r))return!1;if(!e&&!st(r)&&(it(r)||(r=at(r),i=at(i)),!E(t)&&dt(i)&&!dt(r)))return i.value=r,!0;const o=E(t)&&L(n)?Number(n)<t.length:x(t,n),a=Reflect.set(t,n,r,s);return t===at(s)&&(o?z(r,i)&&pe(t,"set",n,r):pe(t,"add",n,r)),a}}const Se={get:ve,set:Te(),deleteProperty:function(e,t){const n=x(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&pe(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return A(t)&&ye.has(t)||he(e,0,t),n},ownKeys:function(e){return he(e,0,E(e)?"length":se),Reflect.ownKeys(e)}},ke={get:we,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Re=b({},Se,{get:be,set:Te(!0)}),Ae=e=>e,Ce=e=>Reflect.getPrototypeOf(e);function Pe(e,t,n=!1,r=!1){const s=at(e=e.__v_raw),i=at(t);t!==i&&!n&&he(s,0,t),!n&&he(s,0,i);const{has:o}=Ce(s),a=r?Ae:n?ut:ct;return o.call(s,t)?a(e.get(t)):o.call(s,i)?a(e.get(i)):void(e!==s&&e.get(t))}function Oe(e,t=!1){const n=this.__v_raw,r=at(n),s=at(e);return e!==s&&!t&&he(r,0,e),!t&&he(r,0,s),e===s?n.has(e):n.has(e)||n.has(s)}function Me(e,t=!1){return e=e.__v_raw,!t&&he(at(e),0,se),Reflect.get(e,"size",e)}function Be(e){e=at(e);const t=at(this);return Ce(t).has.call(t,e)||(t.add(e),pe(t,"add",e,e)),this}function Le(e,t){t=at(t);const n=at(this),{has:r,get:s}=Ce(n);let i=r.call(n,e);i||(e=at(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?z(t,o)&&pe(n,"set",e,t):pe(n,"add",e,t),this}function Ie(e){const t=at(this),{has:n,get:r}=Ce(t);let s=n.call(t,e);s||(e=at(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&pe(t,"delete",e,void 0),i}function De(){const e=at(this),t=0!==e.size,n=e.clear();return t&&pe(e,"clear",void 0,void 0),n}function Ue(e,t){return function(n,r){const s=this,i=s.__v_raw,o=at(i),a=t?Ae:e?ut:ct;return!e&&he(o,0,se),i.forEach(((e,t)=>n.call(r,a(e),a(t),s)))}}function Fe(e,t,n){return function(...r){const s=this.__v_raw,i=at(s),o=T(i),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=s[e](...r),u=n?Ae:t?ut:ct;return!t&&he(i,0,l?ie:se),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function je(e){return function(...t){return"delete"!==e&&this}}function Ne(){const e={get(e){return Pe(this,e)},get size(){return Me(this)},has:Oe,add:Be,set:Le,delete:Ie,clear:De,forEach:Ue(!1,!1)},t={get(e){return Pe(this,e,!1,!0)},get size(){return Me(this)},has:Oe,add:Be,set:Le,delete:Ie,clear:De,forEach:Ue(!1,!0)},n={get(e){return Pe(this,e,!0)},get size(){return Me(this,!0)},has(e){return Oe.call(this,e,!0)},add:je("add"),set:je("set"),delete:je("delete"),clear:je("clear"),forEach:Ue(!0,!1)},r={get(e){return Pe(this,e,!0,!0)},get size(){return Me(this,!0)},has(e){return Oe.call(this,e,!0)},add:je("add"),set:je("set"),delete:je("delete"),clear:je("clear"),forEach:Ue(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=Fe(s,!1,!1),n[s]=Fe(s,!0,!1),t[s]=Fe(s,!1,!0),r[s]=Fe(s,!0,!0)})),[e,n,t,r]}const[Ve,Ke,ze,We]=Ne();function qe(e,t){const n=t?e?We:ze:e?Ke:Ve;return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(x(n,r)&&r in t?n:t,r,s)}const Ge={get:qe(!1,!1)},$e={get:qe(!1,!0)},He={get:qe(!0,!1)},Xe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ze=new WeakMap;function Je(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>M(e).slice(8,-1))(e))}function et(e){return st(e)?e:nt(e,!1,Se,Ge,Xe)}function tt(e){return nt(e,!0,ke,He,Qe)}function nt(e,t,n,r,s){if(!C(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Je(e);if(0===o)return e;const a=new Proxy(e,2===o?r:n);return s.set(e,a),a}function rt(e){return st(e)?rt(e.__v_raw):!(!e||!e.__v_isReactive)}function st(e){return!(!e||!e.__v_isReadonly)}function it(e){return!(!e||!e.__v_isShallow)}function ot(e){return rt(e)||st(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function lt(e){return q(e,"__v_skip",!0),e}const ct=e=>C(e)?et(e):e,ut=e=>C(e)?tt(e):e;function dt(e){return!(!e||!0!==e.__v_isRef)}function ht(e){return dt(e)?e.value:e}const ft={get:(e,t,n)=>ht(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return dt(s)&&!dt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function pt(e){return rt(e)?e:new Proxy(e,ft)}class mt{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new oe(e,(()=>{var e;this._dirty||(this._dirty=!0,(e=at(e=this)).dep&&me(e.dep))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=at(this);var t;return t=e,le&&re&&fe((t=at(t)).dep||(t.dep=Q())),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function gt(e,t,n,r){let s;try{s=r?e(...r):e()}catch(e){vt(e,t,n)}return s}function yt(e,t,n,r){if(k(e)){const s=gt(e,t,n,r);return s&&P(s)&&s.catch((e=>{vt(e,t,n)})),s}const s=[];for(let i=0;i<e.length;i++)s.push(yt(e[i],t,n,r));return s}function vt(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const s=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,i))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void gt(o,null,10,[e,s,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}Promise.resolve();let bt=!1,wt=!1;const _t=[];let xt=0;const Et=[];let Tt=null,St=0;const kt=[];let Rt=null,At=0;const Ct=Promise.resolve();let Pt=null,Ot=null;function Mt(e){const t=Pt||Ct;return e?t.then(this?e.bind(this):e):t}function Bt(e){_t.length&&_t.includes(e,bt&&e.allowRecurse?xt+1:xt)||e===Ot||(null==e.id?_t.push(e):_t.splice(function(e){let t=xt+1,n=_t.length;for(;t<n;){const r=t+n>>>1;Ft(_t[r])<e?t=r+1:n=r}return t}(e.id),0,e),Lt())}function Lt(){bt||wt||(wt=!0,Pt=Ct.then(jt))}function It(e,t,n,r){E(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Lt()}function Dt(e,t=null){if(Et.length){for(Ot=t,Tt=[...new Set(Et)],Et.length=0,St=0;St<Tt.length;St++)Tt[St]();Tt=null,St=0,Ot=null,Dt(e,t)}}function Ut(e){if(kt.length){const e=[...new Set(kt)];if(kt.length=0,Rt)return void Rt.push(...e);for(Rt=e,Rt.sort(((e,t)=>Ft(e)-Ft(t))),At=0;At<Rt.length;At++)Rt[At]();Rt=null,At=0}}const Ft=e=>null==e.id?1/0:e.id;function jt(e){wt=!1,bt=!0,Dt(e),_t.sort(((e,t)=>Ft(e)-Ft(t)));try{for(xt=0;xt<_t.length;xt++){const e=_t[xt];e&&!1!==e.active&&gt(e,null,14)}}finally{xt=0,_t.length=0,Ut(),bt=!1,Pt=null,(_t.length||Et.length||kt.length)&&jt(e)}}let Nt,Vt=[],Kt=!1;function zt(e,...t){Nt?Nt.emit(e,...t):Kt||Vt.push({event:e,args:t})}function Wt(e,t){var n,r;if(Nt=e,Nt)Nt.enabled=!0,Vt.forEach((({event:e,args:t})=>Nt.emit(e,...t))),Vt=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Wt(e,t)})),setTimeout((()=>{Nt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Kt=!0,Vt=[])}),3e3)}else Kt=!0,Vt=[]}const qt=Ht("component:added"),Gt=Ht("component:updated"),$t=Ht("component:removed");function Ht(e){return t=>{zt(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function Xt(e,t,...n){const r=e.vnode.props||h;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:i}=r[e]||h;i?s=n.map((e=>e.trim())):t&&(s=n.map(G))}let a;__VUE_PROD_DEVTOOLS__&&function(e,t,n){zt("component:emit",e.appContext.app,e,t,n)}(e,t,s);let l=r[a=K(t)]||r[a=K(F(t))];!l&&i&&(l=r[a=K(N(t))]),l&&yt(l,e,6,s);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,yt(c,e,6,s)}}function Yt(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const i=e.emits;let o={},a=!1;if(__VUE_OPTIONS_API__&&!k(e)){const r=e=>{const n=Yt(e,t,!0);n&&(a=!0,b(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||a?(E(i)?i.forEach((e=>o[e]=null)):b(o,i),r.set(e,o),o):(r.set(e,null),null)}function Qt(e,t){return!(!e||!y(t))&&(t=t.slice(2).replace(/Once$/,""),x(e,t[0].toLowerCase()+t.slice(1))||x(e,N(t))||x(e,t))}let Zt=null,Jt=null;function en(e){const t=Zt;return Zt=e,Jt=e&&e.type.__scopeId||null,t}function tn(e){Jt=e}function nn(){Jt=null}function rn(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=e;let g,y;const b=en(e);try{if(4&n.shapeFlag){const e=s||r;g=Vr(u.call(e,e,d,i,f,h,p)),y=l}else{const e=t;0,g=Vr(e.length>1?e(i,{attrs:l,slots:a,emit:c}):e(i,null)),y=t.props?l:sn(l)}}catch(t){Tr.length=0,vt(t,e,1),g=Dr(xr)}let w=g;if(y&&!1!==m){const e=Object.keys(y),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(v)&&(y=on(y,o)),w=Ur(w,y))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),g=w,en(b),g}const sn=e=>{let t;for(const n in e)("class"===n||"style"===n||y(n))&&((t||(t={}))[n]=e[n]);return t},on=(e,t)=>{const n={};for(const r in e)v(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function an(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Qt(n,i))return!0}return!1}function ln(e,t,n=!1){const r=Yr||Zt;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&k(t)?t.call(r.proxy):t}}const cn={};function un(e,t,n){return dn(e,t,n)}function dn(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=h){const a=Yr;let l,c,u=!1,d=!1;if(dt(e)?(l=()=>e.value,u=it(e)):rt(e)?(l=()=>e,r=!0):E(e)?(d=!0,u=e.some(rt),l=()=>e.map((e=>dt(e)?e.value:rt(e)?pn(e):k(e)?gt(e,a,2):void 0))):l=k(e)?t?()=>gt(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),yt(e,a,3,[f])}:p,t&&r){const e=l;l=()=>pn(e())}let f=e=>{c=v.onStop=()=>{gt(e,a,4)}};if(ts)return f=p,t?n&&yt(t,a,3,[l(),d?[]:void 0,f]):l(),p;let m=d?[]:cn;const g=()=>{if(v.active)if(t){const e=v.run();(r||u||(d?e.some(((e,t)=>z(e,m[t]))):z(e,m)))&&(c&&c(),yt(t,a,3,[e,m===cn?void 0:m,f]),m=e)}else v.run()};let y;g.allowRecurse=!!t,y="sync"===s?g:"post"===s?()=>mr(g,a&&a.suspense):()=>{!a||a.isMounted?function(e){It(e,Tt,Et,St)}(g):g()};const v=new oe(l,y);return t?n?g():m=v.run():"post"===s?mr(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&w(a.scope.effects,v)}}function hn(e,t,n){const r=this.proxy,s=R(e)?e.includes(".")?fn(r,e):()=>r[e]:e.bind(r,r);let i;k(t)?i=t:(i=t.handler,n=t);const o=Yr;Zr(this);const a=dn(s,i.bind(r),n);return o?Zr(o):Jr(),a}function fn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function pn(e,t){if(!C(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),dt(e))pn(e.value,t);else if(E(e))for(let n=0;n<e.length;n++)pn(e[n],t);else if(S(e)||T(e))e.forEach((e=>{pn(e,t)}));else if(B(e))for(const n in e)pn(e[n],t);return e}const mn=[Function,Array];Boolean,Boolean;function gn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function yn(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=t,b=String(e.key),w=gn(n,e),_=(e,t)=>{e&&yt(e,r,9,t)},x={mode:i,persisted:o,beforeEnter(t){let r=a;if(!n.isMounted){if(!s)return;r=m||a}t._leaveCb&&t._leaveCb(!0);const i=w[b];i&&Or(e,i)&&i.el._leaveCb&&i.el._leaveCb(),_(r,[t])},enter(e){let t=l,r=c,i=u;if(!n.isMounted){if(!s)return;t=g||l,r=y||c,i=v||u}let o=!1;const a=e._enterCb=t=>{o||(o=!0,_(t?i:r,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();_(d,[t]);let i=!1;const o=t._leaveCb=n=>{i||(i=!0,r(),_(n?p:f,[t]),t._leaveCb=void 0,w[s]===e&&delete w[s])};w[s]=e,h?(h(t,o),h.length<=1&&o()):o()},clone:e=>yn(e,t,n,r)};return x}function vn(e){if(En(e))return(e=Ur(e)).children=null,e}function bn(e){return En(e)?e.children?e.children[0]:void 0:e}function wn(e,t){6&e.shapeFlag&&e.component?wn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _n(e,t=!1){let n=[],r=0;for(let s=0;s<e.length;s++){const i=e[s];i.type===wr?(128&i.patchFlag&&r++,n=n.concat(_n(i.children,t))):(t||i.type!==xr)&&n.push(i)}if(r>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}const xn=e=>!!e.type.__asyncLoader,En=e=>e.type.__isKeepAlive;function Tn(e,t){kn(e,"a",t)}function Sn(e,t){kn(e,"da",t)}function kn(e,t,n=Yr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(An(t,r,n),n){let e=n.parent;for(;e&&e.parent;)En(e.parent.vnode)&&Rn(r,t,n,e),e=e.parent}}function Rn(e,t,n,r){const s=An(t,e,r,!0);In((()=>{w(r[t],s)}),n)}function An(e,t,n=Yr,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ue(),Zr(n);const s=yt(t,n,e,r);return Jr(),de(),s});return r?s.unshift(i):s.push(i),i}}const Cn=e=>(t,n=Yr)=>(!ts||"sp"===e)&&An(e,t,n),Pn=Cn("bm"),On=Cn("m"),Mn=Cn("bu"),Bn=Cn("u"),Ln=Cn("bum"),In=Cn("um"),Dn=Cn("sp"),Un=Cn("rtg"),Fn=Cn("rtc");function jn(e,t=Yr){An("ec",e,t)}let Nn=!0;function Vn(e){const t=Wn(e),n=e.proxy,r=e.ctx;Nn=!1,t.beforeCreate&&Kn(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:_,render:x,renderTracked:T,renderTriggered:S,errorCaptured:R,serverPrefetch:A,expose:P,inheritAttrs:O,components:M,directives:B,filters:L}=t;if(c&&function(e,t,n=p,r=!1){E(e)&&(e=Hn(e));for(const n in e){const s=e[n];let i;i=C(s)?"default"in s?ln(s.from||n,s.default,!0):ln(s.from||n):ln(s),dt(i)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(c,r,null,e.appContext.config.unwrapInjectedRef),o)for(const e in o){const t=o[e];k(t)&&(r[e]=t.bind(n))}if(s){const t=s.call(n,n);C(t)&&(e.data=et(t))}if(Nn=!0,i)for(const e in i){const t=i[e],s=k(t)?t.bind(n,n):k(t.get)?t.get.bind(n,n):p,o=!k(t)&&k(t.set)?t.set.bind(n):p,a=is({get:s,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(a)for(const e in a)zn(a[e],r,n,e);if(l){const e=k(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Yr){let n=Yr.provides;const r=Yr.parent&&Yr.parent.provides;r===n&&(n=Yr.provides=Object.create(r)),n[e]=t}}(t,e[t])}))}function I(e,t){E(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&Kn(u,e,"c"),I(Pn,d),I(On,h),I(Mn,f),I(Bn,m),I(Tn,g),I(Sn,y),I(jn,R),I(Fn,T),I(Un,S),I(Ln,b),I(In,_),I(Dn,A),E(P))if(P.length){const t=e.exposed||(e.exposed={});P.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===p&&(e.render=x),null!=O&&(e.inheritAttrs=O),M&&(e.components=M),B&&(e.directives=B)}function Kn(e,t,n){yt(E(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function zn(e,t,n,r){const s=r.includes(".")?fn(n,r):()=>n[r];if(R(e)){const n=t[e];k(n)&&un(s,n)}else if(k(e))un(s,e.bind(n));else if(C(e))if(E(e))e.forEach((e=>zn(e,t,n,r)));else{const r=k(e.handler)?e.handler.bind(n):t[e.handler];k(r)&&un(s,r,e)}}function Wn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:s.length||n||r?(l={},s.length&&s.forEach((e=>qn(l,e,o,!0))),qn(l,t,o)):l=t,i.set(t,l),l}function qn(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&qn(e,i,n,!0),s&&s.forEach((t=>qn(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=Gn[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Gn={data:$n,props:Yn,emits:Yn,methods:Yn,computed:Yn,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:Yn,directives:Yn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=b(Object.create(null),e);for(const r in t)n[r]=Xn(e[r],t[r]);return n},provide:$n,inject:function(e,t){return Yn(Hn(e),Hn(t))}};function $n(e,t){return t?e?function(){return b(k(e)?e.call(this,this):e,k(t)?t.call(this,this):t)}:t:e}function Hn(e){if(E(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function Yn(e,t){return e?b(b(Object.create(null),e),t):t}function Qn(e,t,n,r=!1){const s={},i={};q(i,Mr,1),e.propsDefaults=Object.create(null),Zn(e,t,s,i);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=r?s:function(e){return nt(e,!1,Re,$e,Ye)}(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Zn(e,t,n,r){const[s,i]=e.propsOptions;let o,a=!1;if(t)for(let l in t){if(I(l))continue;const c=t[l];let u;s&&x(s,u=F(l))?i&&i.includes(u)?(o||(o={}))[u]=c:n[u]=c:Qt(e.emitsOptions,l)||l in r&&c===r[l]||(r[l]=c,a=!0)}if(i){const t=at(n),r=o||h;for(let o=0;o<i.length;o++){const a=i[o];n[a]=Jn(s,t,a,r[a],e,!x(r,a))}}return a}function Jn(e,t,n,r,s,i){const o=e[n];if(null!=o){const e=x(o,"default");if(e&&void 0===r){const e=o.default;if(o.type!==Function&&k(e)){const{propsDefaults:i}=s;n in i?r=i[n]:(Zr(s),r=i[n]=e.call(null,t),Jr())}else r=e}o[0]&&(i&&!e?r=!1:!o[1]||""!==r&&r!==N(n)||(r=!0))}return r}function er(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(__VUE_OPTIONS_API__&&!k(e)){const r=e=>{l=!0;const[n,r]=er(e,t,!0);b(o,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!l)return r.set(e,f),f;if(E(i))for(let e=0;e<i.length;e++){const t=F(i[e]);tr(t)&&(o[t]=h)}else if(i)for(const e in i){const t=F(e);if(tr(t)){const n=i[e],r=o[t]=E(n)||k(n)?{type:n}:n;if(r){const e=sr(Boolean,r.type),n=sr(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||x(r,"default"))&&a.push(t)}}}const c=[o,a];return r.set(e,c),c}function tr(e){return"$"!==e[0]}function nr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function rr(e,t){return nr(e)===nr(t)}function sr(e,t){return E(t)?t.findIndex((t=>rr(t,e))):k(t)&&rr(t,e)?0:-1}const ir=e=>"_"===e[0]||"$stable"===e,or=e=>E(e)?e.map(Vr):[Vr(e)],ar=(e,t,n)=>{const r=function(e,t=Zt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Ar(-1);const s=en(t),i=e(...n);return en(s),r._d&&Ar(1),__VUE_PROD_DEVTOOLS__&&Gt(t),i};return r._n=!0,r._c=!0,r._d=!0,r}(((...e)=>or(t(...e))),n);return r._c=!1,r},lr=(e,t,n)=>{const r=e._ctx;for(const n in e){if(ir(n))continue;const s=e[n];if(k(s))t[n]=ar(0,s,r);else if(null!=s){const e=or(s);t[n]=()=>e}}},cr=(e,t)=>{const n=or(t);e.slots.default=()=>n};function ur(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ue(),yt(l,n,8,[e.el,a,e,t]),de())}}function dr(){return{app:null,config:{isNativeTag:m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hr=0;function fr(e,t){return function(n,r=null){null==r||C(r)||(r=null);const s=dr(),i=new Set;let o=!1;const a=s.app={_uid:hr++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:os,get config(){return s.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&k(e.install)?(i.add(e),e.install(a,...t)):k(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(__VUE_OPTIONS_API__&&(s.mixins.includes(e)||s.mixins.push(e)),a),component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(i,l,c){if(!o){const u=Dr(n,r);return u.appContext=s,l&&t?t(u,i):e(u,i,c),o=!0,a._container=i,i.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&(a._instance=u.component,function(e,t){zt("app:init",e,t,{Fragment:wr,Text:_r,Comment:xr,Static:Er})}(a,os)),ss(u.component)||u.component.proxy}},unmount(){o&&(e(null,a._container),__VUE_PROD_DEVTOOLS__&&(a._instance=null,function(e){zt("app:unmount",e)}(a)),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a)};return a}}function pr(e,t,n,r,s=!1){if(E(e))return void e.forEach(((e,i)=>pr(e,t&&(E(t)?t[i]:t),n,r,s)));if(xn(r)&&!s)return;const i=4&r.shapeFlag?ss(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===h?a.refs={}:a.refs,d=a.setupState;if(null!=c&&c!==l&&(R(c)?(u[c]=null,x(d,c)&&(d[c]=null)):dt(c)&&(c.value=null)),k(l))gt(l,a,12,[o,u]);else{const t=R(l),r=dt(l);if(t||r){const r=()=>{if(e.f){const n=t?u[l]:l.value;s?E(n)&&w(n,i):E(n)?n.includes(i)||n.push(i):t?u[l]=[i]:(l.value=[i],e.k&&(u[e.k]=l.value))}else t?(u[l]=o,x(d,l)&&(d[l]=o)):dt(l)&&(l.value=o,e.k&&(u[e.k]=o))};o?(r.id=-1,mr(r,n)):r()}}}const mr=function(e,t){t&&t.pendingBranch?E(e)?t.effects.push(...e):t.effects.push(e):It(e,Rt,kt,At)};function gr(e){return function(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(H().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(H().__VUE_PROD_DEVTOOLS__=!1);const n=H();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Wt(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:m,setScopeId:g=p,cloneNode:y,insertStaticContent:v}=e,w=(e,t,n,r=null,s=null,i=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Or(e,t)&&(r=re(e),Z(e,s,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case _r:_(e,t,n,r);break;case xr:E(e,t,n,r);break;case Er:null==e&&T(t,n,r,o);break;case wr:D(e,t,n,r,s,i,o,a,l);break;default:1&d?R(e,t,n,r,s,i,o,a,l):6&d?U(e,t,n,r,s,i,o,a,l):(64&d||128&d)&&c.process(e,t,n,r,s,i,o,a,l,ie)}null!=u&&s&&pr(u,e&&e.ref,i,t||e,!t)},_=(e,t,n,s)=>{if(null==e)r(t.el=a(t.children),n,s);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},E=(e,t,n,s)=>{null==e?r(t.el=l(t.children||""),n,s):t.el=e.el},T=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,s)=>{let i;for(;e&&e!==t;)i=m(e),r(e,n,s),e=i;r(t,n,s)},k=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)},R=(e,t,n,r,s,i,o,a,l)=>{o=o||"svg"===t.type,null==e?A(t,n,r,s,i,o,a,l):M(e,t,s,i,o,a,l)},A=(e,t,n,s,a,l,c,d)=>{let h,f;const{type:p,props:m,shapeFlag:g,transition:v,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==y&&-1===b)h=e.el=y(e.el);else{if(h=e.el=o(e.type,l,m&&m.is,m),8&g?u(h,e.children):16&g&&O(e.children,h,null,s,a,l&&"foreignObject"!==p,c,d),w&&ur(e,null,s,"created"),m){for(const t in m)"value"===t||I(t)||i(h,t,null,m[t],l,e.children,s,a,ne);"value"in m&&i(h,"value",null,m.value),(f=m.onVnodeBeforeMount)&&Wr(f,s,e)}C(h,e,e.scopeId,c,s)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:s,enumerable:!1})),w&&ur(e,null,s,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(h),r(h,t,n),((f=m&&m.onVnodeMounted)||_||w)&&mr((()=>{f&&Wr(f,s,e),_&&v.enter(h),w&&ur(e,null,s,"mounted")}),a)},C=(e,t,n,r,s)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(s){if(t===s.subTree){const t=s.vnode;C(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},O=(e,t,n,r,s,i,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Kr(e[c]):Vr(e[c]);w(null,l,t,n,r,s,i,o,a)}},M=(e,t,n,r,s,o,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||h,m=t.props||h;let g;n&&yr(n,!1),(g=m.onVnodeBeforeUpdate)&&Wr(g,n,t,e),f&&ur(t,e,n,"beforeUpdate"),n&&yr(n,!0);const y=s&&"foreignObject"!==t.type;if(d?B(e.dynamicChildren,d,l,n,r,y,o):a||G(e,t,l,null,n,r,y,o,!1),c>0){if(16&c)L(l,t,p,m,n,r,s);else if(2&c&&p.class!==m.class&&i(l,"class",null,m.class,s),4&c&&i(l,"style",p.style,m.style,s),8&c){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const a=o[t],c=p[a],u=m[a];u===c&&"value"!==a||i(l,a,c,u,s,e.children,n,r,ne)}}1&c&&e.children!==t.children&&u(l,t.children)}else a||null!=d||L(l,t,p,m,n,r,s);((g=m.onVnodeUpdated)||f)&&mr((()=>{g&&Wr(g,n,t,e),f&&ur(t,e,n,"updated")}),r)},B=(e,t,n,r,s,i,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===wr||!Or(l,c)||70&l.shapeFlag)?d(l.el):n;w(l,c,u,null,r,s,i,o,!0)}},L=(e,t,n,r,s,o,a)=>{if(n!==r){for(const l in r){if(I(l))continue;const c=r[l],u=n[l];c!==u&&"value"!==l&&i(e,l,u,c,a,t.children,s,o,ne)}if(n!==h)for(const l in n)I(l)||l in r||i(e,l,n[l],null,a,t.children,s,o,ne);"value"in r&&i(e,"value",n.value,r.value)}},D=(e,t,n,s,i,o,l,c,u)=>{const d=t.el=e?e.el:a(""),h=t.anchor=e?e.anchor:a("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(r(d,n,s),r(h,n,s),O(t.children,n,h,i,o,l,c,u)):f>0&&64&f&&p&&e.dynamicChildren?(B(e.dynamicChildren,p,n,i,o,l,c),(null!=t.key||i&&t===i.subTree)&&vr(e,t,!0)):G(e,t,n,h,i,o,l,c,u)},U=(e,t,n,r,s,i,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,n,r,o,l):j(t,n,r,s,i,o,l):V(e,t,l)},j=(e,t,n,r,s,i,o)=>{const a=e.component=function(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Hr,i={uid:Xr++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:er(r,s),emitsOptions:Yt(r,s),emit:null,emitted:null,propsDefaults:h,inheritAttrs:r.inheritAttrs,ctx:h,data:h,props:h,attrs:h,slots:h,refs:h,setupState:h,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Xt.bind(null,i),e.ce&&e.ce(i);return i}(e,r,s);if(En(e)&&(a.ctx.renderer=ie),function(e,t=!1){ts=t;const{props:n,children:r}=e.vnode,s=es(e);Qn(e,n,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=at(t),q(t,"_",n)):lr(t,e.slots={})}else e.slots={},t&&cr(e,t);q(e.slots,Mr,1)})(e,r);const i=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lt(new Proxy(e.ctx,$r));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(he(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Zr(e),ue();const s=gt(r,e,0,[e.props,n]);if(de(),Jr(),P(s)){if(s.then(Jr,Jr),t)return s.then((n=>{ns(e,n,t)})).catch((t=>{vt(t,e,0)}));e.asyncDep=s}else ns(e,s,t)}else rs(e,t)}(e,t):void 0;ts=!1}(a),a.asyncDep){if(s&&s.registerDep(a,K),!e.el){const e=a.subTree=Dr(xr);E(null,e,t,n)}}else K(a,e,t,n,s,i,o)},V=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||r!==o&&(r?!o||an(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?an(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!Qt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,t,n);r.next=t,function(e){const t=_t.indexOf(e);t>xt&&_t.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},K=(e,t,n,r,s,i,o)=>{const a=()=>{if(e.isMounted){let t,{next:n,bu:r,u:a,parent:l,vnode:c}=e,u=n;yr(e,!1),n?(n.el=c.el,z(e,n,o)):n=c,r&&W(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Wr(t,l,n,c),yr(e,!0);const h=rn(e),f=e.subTree;e.subTree=h,w(f,h,d(f.el),re(f),e,s,i),n.el=h.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,h.el),a&&mr(a,s),(t=n.props&&n.props.onVnodeUpdated)&&mr((()=>Wr(t,l,n,c)),s),__VUE_PROD_DEVTOOLS__&&Gt(e)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:d}=e,h=xn(t);if(yr(e,!1),c&&W(c),!h&&(o=l&&l.onVnodeBeforeMount)&&Wr(o,d,t),yr(e,!0),a&&le){const n=()=>{e.subTree=rn(e),le(a,e.subTree,e,s,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const o=e.subTree=rn(e);w(null,o,n,r,e,s,i),t.el=o.el}if(u&&mr(u,s),!h&&(o=l&&l.onVnodeMounted)){const e=t;mr((()=>Wr(o,d,e)),s)}256&t.shapeFlag&&e.a&&mr(e.a,s),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&qt(e),t=n=r=null}},l=e.effect=new oe(a,(()=>Bt(e.update)),e.scope),c=e.update=l.run.bind(l);c.id=e.uid,yr(e,!0),c()},z=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=at(s),[l]=e.propsOptions;let c=!1;if(!(r||o>0)||16&o){let r;Zn(e,t,s,i)&&(c=!0);for(const i in a)t&&(x(t,i)||(r=N(i))!==i&&x(t,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(s[i]=Jn(l,a,i,void 0,e,!0)):delete s[i]);if(i!==a)for(const e in i)t&&x(t,e)||(delete i[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];const u=t[o];if(l)if(x(i,o))u!==i[o]&&(i[o]=u,c=!0);else{const t=F(o);s[t]=Jn(l,a,t,u,e,!1)}else u!==i[o]&&(i[o]=u,c=!0)}}c&&pe(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=h;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(b(s,t),n||1!==e||delete s._):(i=!t.$stable,lr(t,s)),o=t}else t&&(cr(e,t),o={default:1});if(i)for(const e in s)ir(e)||e in o||delete s[e]})(e,t.children,n),ue(),Dt(void 0,e.update),de()},G=(e,t,n,r,s,i,o,a,l=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void X(c,h,n,r,s,i,o,a,l);if(256&f)return void $(c,h,n,r,s,i,o,a,l)}8&p?(16&d&&ne(c,s,i),h!==c&&u(n,h)):16&d?16&p?X(c,h,n,r,s,i,o,a,l):ne(c,s,i,!0):(8&d&&u(n,""),16&p&&O(h,n,r,s,i,o,a,l))},$=(e,t,n,r,s,i,o,a,l)=>{t=t||f;const c=(e=e||f).length,u=t.length,d=Math.min(c,u);let h;for(h=0;h<d;h++){const r=t[h]=l?Kr(t[h]):Vr(t[h]);w(e[h],r,n,null,s,i,o,a,l)}c>u?ne(e,s,i,!0,!1,d):O(t,n,r,s,i,o,a,l,d)},X=(e,t,n,r,s,i,o,a,l)=>{let c=0;const u=t.length;let d=e.length-1,h=u-1;for(;c<=d&&c<=h;){const r=e[c],u=t[c]=l?Kr(t[c]):Vr(t[c]);if(!Or(r,u))break;w(r,u,n,null,s,i,o,a,l),c++}for(;c<=d&&c<=h;){const r=e[d],c=t[h]=l?Kr(t[h]):Vr(t[h]);if(!Or(r,c))break;w(r,c,n,null,s,i,o,a,l),d--,h--}if(c>d){if(c<=h){const e=h+1,d=e<u?t[e].el:r;for(;c<=h;)w(null,t[c]=l?Kr(t[c]):Vr(t[c]),n,d,s,i,o,a,l),c++}}else if(c>h)for(;c<=d;)Z(e[c],s,i,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=h;c++){const e=t[c]=l?Kr(t[c]):Vr(t[c]);null!=e.key&&g.set(e.key,c)}let y,v=0;const b=h-m+1;let _=!1,x=0;const E=new Array(b);for(c=0;c<b;c++)E[c]=0;for(c=p;c<=d;c++){const r=e[c];if(v>=b){Z(r,s,i,!0);continue}let u;if(null!=r.key)u=g.get(r.key);else for(y=m;y<=h;y++)if(0===E[y-m]&&Or(r,t[y])){u=y;break}void 0===u?Z(r,s,i,!0):(E[u-m]=c+1,u>=x?x=u:_=!0,w(r,t[u],n,null,s,i,o,a,l),v++)}const T=_?function(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,o=n[i-1];for(;i-- >0;)n[i]=o,o=t[o];return n}(E):f;for(y=T.length-1,c=b-1;c>=0;c--){const e=m+c,d=t[e],h=e+1<u?t[e+1].el:r;0===E[c]?w(null,d,n,h,s,i,o,a,l):_&&(y<0||c!==T[y]?Q(d,n,h,2):y--)}}},Q=(e,t,n,s,i=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Q(e.component.subTree,t,n,s);if(128&u)return void e.suspense.move(t,n,s);if(64&u)return void a.move(e,t,n,ie);if(a===wr){r(o,t,n);for(let e=0;e<c.length;e++)Q(c[e],t,n,s);return void r(e.anchor,t,n)}if(a===Er)return void S(e,t,n);if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(o),r(o,t,n),mr((()=>l.enter(o)),i);else{const{leave:e,delayLeave:s,afterLeave:i}=l,a=()=>r(o,t,n),c=()=>{e(o,(()=>{a(),i&&i()}))};s?s(o,a,c):c()}else r(o,t,n)},Z=(e,t,n,r=!1,s=!1)=>{const{type:i,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=a&&pr(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,p=!xn(e);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&Wr(m,t,e),6&u)te(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&ur(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,s,ie,r):c&&(i!==wr||d>0&&64&d)?ne(c,t,n,!1,!0):(i===wr&&384&d||!s&&16&u)&&ne(l,t,n),r&&J(e)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&mr((()=>{m&&Wr(m,t,e),f&&ur(e,null,t,"unmounted")}),n)},J=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===wr)return void ee(n,r);if(t===Er)return void k(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},ee=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},te=(e,t,n)=>{const{bum:r,scope:s,update:i,subTree:o,um:a}=e;r&&W(r),s.stop(),i&&(i.active=!1,Z(o,e,t,n)),a&&mr(a,t),mr((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&$t(e)},ne=(e,t,n,r=!1,s=!1,i=0)=>{for(let o=i;o<e.length;o++)Z(e[o],t,n,r,s)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),se=(e,t,n)=>{null==e?t._vnode&&Z(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),Ut(),t._vnode=e},ie={p:w,um:Z,m:Q,r:J,mt:j,mc:O,pc:G,pbc:B,n:re,o:e};let ae,le;t&&([ae,le]=t(ie));return{render:se,hydrate:ae,createApp:fr(se,ae)}}(e)}function yr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function vr(e,t,n=!1){const r=e.children,s=t.children;if(E(r)&&E(s))for(let e=0;e<r.length;e++){const t=r[e];let i=s[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=s[e]=Kr(s[e]),i.el=t.el),n||vr(t,i))}}const br=Symbol(),wr=Symbol(void 0),_r=Symbol(void 0),xr=Symbol(void 0),Er=Symbol(void 0),Tr=[];let Sr=null;function kr(e=!1){Tr.push(Sr=e?null:[])}let Rr=1;function Ar(e){Rr+=e}function Cr(e){return e.dynamicChildren=Rr>0?Sr||f:null,Tr.pop(),Sr=Tr[Tr.length-1]||null,Rr>0&&Sr&&Sr.push(e),e}function Pr(e,t,n,r,s,i){return Cr(Ir(e,t,n,r,s,i,!0))}function Or(e,t){return e.type===t.type&&e.key===t.key}const Mr="__vInternal",Br=({key:e})=>null!=e?e:null,Lr=({ref:e,ref_key:t,ref_for:n})=>null!=e?R(e)||dt(e)||k(e)?{i:Zt,r:e,k:t,f:!!n}:e:null;function Ir(e,t=null,n=null,r=0,s=null,i=(e===wr?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Br(t),ref:t&&Lr(t),scopeId:Jt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(zr(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=R(n)?8:16),Rr>0&&!o&&Sr&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Sr.push(l),l}const Dr=function(e,t=null,n=null,r=0,s=null,o=!1){e&&e!==br||(e=xr);if(a=e,a&&!0===a.__v_isVNode){const r=Ur(e,t,!0);return n&&zr(r,n),r}var a;(function(e){return k(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=function(e){return e?ot(e)||Mr in e?b({},e):e:null}(t);let{class:e,style:n}=t;e&&!R(e)&&(t.class=c(e)),C(n)&&(ot(n)&&!E(n)&&(n=b({},n)),t.style=i(n))}const l=R(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:C(e)?4:k(e)?2:0;return Ir(e,t,n,r,s,l,o,!0)};function Ur(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?function(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=c([t.class,r.class]));else if("style"===e)t.style=i([t.style,r.style]);else if(y(e)){const n=t[e],s=r[e];!s||n===s||E(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Br(l),ref:t&&t.ref?n&&s?E(s)?s.concat(Lr(t)):[s,Lr(t)]:Lr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wr?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ur(e.ssContent),ssFallback:e.ssFallback&&Ur(e.ssFallback),el:e.el,anchor:e.anchor}}function Fr(e=" ",t=0){return Dr(_r,null,e,t)}function jr(e,t){const n=Dr(Er,null,e);return n.staticCount=t,n}function Nr(e="",t=!1){return t?(kr(),function(e,t,n,r,s){return Cr(Dr(e,t,n,r,s,!0))}(xr,null,e)):Dr(xr,null,e)}function Vr(e){return null==e||"boolean"==typeof e?Dr(xr):E(e)?Dr(wr,null,e.slice()):"object"==typeof e?Kr(e):Dr(_r,null,String(e))}function Kr(e){return null===e.el||e.memo?e:Ur(e)}function zr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(E(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),zr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Mr in t?3===r&&Zt&&(1===Zt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Zt}}else k(t)?(t={default:t,_ctx:Zt},n=32):(t=String(t),64&r?(n=16,t=[Fr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wr(e,t,n,r=null){yt(e,t,7,[n,r])}const qr=e=>e?es(e)?ss(e)||e.proxy:qr(e.parent):null,Gr=b(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qr(e.parent),$root:e=>qr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Wn(e):e.type,$forceUpdate:e=>()=>Bt(e.update),$nextTick:e=>Mt.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?hn.bind(e):p}),$r={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=o[t];if(void 0!==a)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==h&&x(r,t))return o[t]=1,r[t];if(s!==h&&x(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&x(c,t))return o[t]=3,i[t];if(n!==h&&x(n,t))return o[t]=4,n[t];__VUE_OPTIONS_API__&&!Nn||(o[t]=0)}}const u=Gr[t];let d,f;return u?("$attrs"===t&&he(e,0,t),u(e)):(d=a.__cssModules)&&(d=d[t])?d:n!==h&&x(n,t)?(o[t]=4,n[t]):(f=l.config.globalProperties,x(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==h&&x(s,t)?(s[t]=n,!0):r!==h&&x(r,t)?(r[t]=n,!0):!x(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==h&&x(e,o)||t!==h&&x(t,o)||(a=i[0])&&x(a,o)||x(r,o)||x(Gr,o)||x(s.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?this.set(e,t,n.get(),null):null!=n.value&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Hr=dr();let Xr=0;let Yr=null;const Qr=()=>Yr||Zt,Zr=e=>{Yr=e,e.scope.on()},Jr=()=>{Yr&&Yr.scope.off(),Yr=null};function es(e){return 4&e.vnode.shapeFlag}let ts=!1;function ns(e,t,n){k(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:C(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=pt(t)),rs(e,n)}function rs(e,t,n){const r=e.type;e.render||(e.render=r.render||p),__VUE_OPTIONS_API__&&(Zr(e),ue(),Vn(e),de(),Jr())}function ss(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pt(lt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Gr?Gr[n](e):void 0}))}const is=(e,t)=>function(e,t,n=!1){let r,s;const i=k(e);return i?(r=e,s=p):(r=e.get,s=e.set),new mt(r,s,i||!s,n)}(e,0,ts),os="3.2.31",as="undefined"!=typeof document?document:null,ls=as&&as.createElement("template"),cs={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?as.createElementNS("http://www.w3.org/2000/svg",e):as.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&s.setAttribute("multiple",r.multiple),s},createText:e=>as.createTextNode(e),createComment:e=>as.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>as.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==i&&(s=s.nextSibling););else{ls.innerHTML=r?`<svg>${e}</svg>`:e;const s=ls.content;if(r){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const us=/\s*!important$/;function ds(e,t,n){if(E(n))n.forEach((n=>ds(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=fs[t];if(n)return n;let r=F(t);if("filter"!==r&&r in e)return fs[t]=r;r=V(r);for(let n=0;n<hs.length;n++){const s=hs[n]+r;if(s in e)return fs[t]=s}return t}(e,t);us.test(n)?e.setProperty(N(r),n.replace(us,""),"important"):e[r]=n}}const hs=["Webkit","Moz","ms"],fs={};const ps="http://www.w3.org/1999/xlink";let ms=Date.now,gs=!1;if("undefined"!=typeof window){ms()>document.createEvent("Event").timeStamp&&(ms=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);gs=!!(e&&Number(e[1])<=53)}let ys=0;const vs=Promise.resolve(),bs=()=>{ys=0};function ws(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[n,a]=function(e){let t;if(_s.test(e)){let n;for(t={};n=e.match(_s);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[N(e.slice(2)),t]}(t);if(r){const o=i[t]=function(e,t){const n=e=>{const r=e.timeStamp||ms();(gs||r>=n.attached-1)&&yt(function(e,t){if(E(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>ys||(vs.then(bs),ys=ms()))(),n}(r,s);!function(e,t,n,r){e.addEventListener(t,n,r)}(e,n,o,a)}else o&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,o,a),i[t]=void 0)}}const _s=/(?:Once|Passive|Capture)$/;const xs=/^on[a-z]/;Boolean;const Es=b({patchProp:(e,t,n,i,o=!1,a,l,c,u)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,o):"style"===t?function(e,t,n){const r=e.style,s=R(n);if(n&&!s){for(const e in n)ds(r,e,n[e]);if(t&&!R(t))for(const e in t)null==n[e]&&ds(r,e,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}(e,n,i):y(t)?v(t)||ws(e,t,0,i,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&xs.test(t)&&k(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(xs.test(t)&&R(n))return!1;return t in e}(e,t,i,o))?function(e,t,n,r,i,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const r=typeof e[t];if("boolean"===r)return void(e[t]=s(n));if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=n}catch(e){}}(e,t,i,a,l,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ps,t.slice(6,t.length)):e.setAttributeNS(ps,t,n);else{const i=r(t);null==n||i&&!s(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}(e,t,i,o))}},cs);let Ts;const Ss=(...e)=>{const t=(Ts||(Ts=gr(Es))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(R(e)){return document.querySelector(e)}return e}(e);if(!r)return;const s=t._component;k(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};var ks="https://williamcaseylucas.github.io/vue-apps/dist/1a6ace377133f14a.png";const Rs={"xr-layer":"",class:"fade"},As=(e=>(tn("data-v-06a9f319"),e=e(),nn(),e))((()=>Ir("p",null," Here's some more text just to make things not blank. ",-1)));var Cs={props:{msg:String},setup(e){const t=ln("shared");return(n,r)=>(kr(),Pr(wr,null,[Ir("h1",Rs,u(e.msg),1),As,Ir("button",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>ht(t).increment&&ht(t).increment(...e))},"count is: "+u(ht(t).state.count),1)],64))},__scopeId:"data-v-06a9f319"};const Ps={id:"room"},Os=Ir("img",{"xr-layer":"",alt:"Vue logo",src:ks},null,-1);var Ms={setup(e){let t=ln("params");var n=t&&t.mesg?t.mesg:"Networked Vue Component with Shared Button Count";return(e,t)=>(kr(),Pr("div",Ps,[Os,Dr(Cs,{msg:ht(n)},null,8,["msg"]),Nr(' <SomeText msg="Networked Vue Component with Shared Button Count" /> ')]))}};function Bs(e,t,n,r=0){r++;for(let s=(e=e.shadowRoot||e).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const e=s.assignedElements?.({flatten:!0});if(e)for(const i of e)t.call(n,i,r)&&Bs(s,t,n,r);t.call(n,s,r)&&Bs(s,t,n,r)}}class Ls{left=0;top=0;width=0;height=0;copy(e){return this.top=e.top,this.left=e.left,this.width=e.width,this.height=e.height,this}}class Is{left=0;top=0;right=0;bottom=0;copy(e){return this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this}}function Ds(e,t=new Ls,n){const r=e.ownerDocument,s=r.documentElement,i=r.body;if(e===s)return function(e,t){const n=e.documentElement,r=e.body,s=getComputedStyle(n),i=getComputedStyle(r);return t.top=r.offsetTop+parseFloat(s.marginTop)||0+parseFloat(i.marginTop)||0,t.left=r.offsetLeft+parseFloat(s.marginLeft)||0+parseFloat(i.marginLeft)||0,t.width=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),t.height=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight)),t}(r,t);if(n===e)return t.left=0,t.top=0,t.width=e.offsetWidth,void(t.height=e.offsetHeight);const o=e.ownerDocument.defaultView;let a,l=e,c=l.offsetParent,u=o.getComputedStyle(l,null),d=l.offsetTop,h=l.offsetLeft;for(c&&n&&(c.contains(n)||c.contains(n.getRootNode().host))&&c!==n&&(Ds(n,t,c),h-=t.left,d-=t.top);(l=l.parentElement)&&l!==i&&l!==s&&l!==n&&"fixed"!==u.position;)a=o.getComputedStyle(l,null),d-=l.scrollTop,h-=l.scrollLeft,l===c&&(d+=l.offsetTop,h+=l.offsetLeft,d+=parseFloat(a.borderTopWidth)||0,h+=parseFloat(a.borderLeftWidth)||0,c=l.offsetParent),u=a;return"fixed"===u.position&&(d+=Math.max(s.scrollTop,i.scrollTop),h+=Math.max(s.scrollLeft,i.scrollLeft)),t.left=h,t.top=d,t.width=e.offsetWidth,t.height=e.offsetHeight,t}const Us=document.createElement("div");Us.id="VIEWPORT",Us.style.position="fixed",Us.style.width="100vw",Us.style.height="100vh",Us.style.visibility="hidden",Us.style.pointerEvents="none";class Fs{manager;element;eventCallback;isMediaElement=!1;isVideoElement=!1;constructor(e,t,n){if(this.manager=e,this.element=t,this.eventCallback=n,!e)throw new Error("WebLayerManager must be initialized");Ai.layers.set(t,this),t.setAttribute(Ai.LAYER_ATTRIBUTE,""),this.parentLayer=Ai.getClosestLayer(this.element,!1),this.isVideoElement="VIDEO"===t.nodeName,this.isMediaElement=this.isVideoElement||"IMG"===t.nodeName||"CANVAS"===t.nodeName,this.eventCallback("layercreated",{target:t})}desiredPseudoState={hover:!1,active:!1,focus:!1,target:!1};needsRefresh=!0;setNeedsRefresh(e=!1){if(this.needsRefresh=!0,e)for(const t of this.childLayers)t.setNeedsRefresh(e)}needsRemoval=!1;parentLayer;childLayers=[];pixelRatio;allStateHashes=new Set;previousDOMStateKey;desiredDOMStateKey;currentDOMStateKey;get previousDOMState(){return this.previousDOMStateKey?this.manager.getLayerState(this.previousDOMStateKey):void 0}get desiredDOMState(){return this.desiredDOMStateKey?this.manager.getLayerState(this.desiredDOMStateKey):void 0}get currentDOMState(){return this.currentDOMStateKey?this.manager.getLayerState(this.currentDOMStateKey):void 0}domMetrics={bounds:new Ls,padding:new Is,margin:new Is,border:new Is};get depth(){let e=0,t=this;for(;t.parentLayer;)t=t.parentLayer,e++;return e}get rootLayer(){let e=this;for(;e.parentLayer;)e=e.parentLayer;return e}traverseParentLayers(e){const t=this.parentLayer;t&&(t.traverseParentLayers(e),e(t))}traverseLayers(e){e(this),this.traverseChildLayers(e)}traverseChildLayers(e){for(const t of this.childLayers)t.traverseLayers(e)}update(){if(this.desiredDOMStateKey!==this.currentDOMStateKey){const e=this.desiredDOMState;e&&(this.isMediaElement||e.texture.url||e.fullWidth*e.fullHeight==0)&&(this.currentDOMStateKey=this.desiredDOMStateKey)}const e=this.previousDOMState,t=this.currentDOMState;e?.texture.url!==t?.texture.url&&this.eventCallback("layerpainted",{target:this.element}),this.previousDOMStateKey=this.currentDOMStateKey}async refresh(){this.needsRefresh=!1,this._updateParentAndChildLayers();const e=await this.manager.addToSerializeQueue(this);e.needsRasterize&&"string"==typeof e.stateKey&&e.svgUrl&&await this.manager.addToRasterizeQueue(e.stateKey,e.svgUrl)}_updateParentAndChildLayers(){const e=this.element,t=this.childLayers,n=t.slice(),r=this.parentLayer;this.parentLayer=Ai.getClosestLayer(this.element,!1),r!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:e})),t.length=0,Bs(e,this._tryConvertElementToWebLayer,this);for(const e of n){Ai.getClosestLayer(e.element,!1)||(e.needsRemoval=!0,t.push(e))}}_tryConvertElementToWebLayer(e){if(this.needsRemoval)return!1;const t=e,n=getComputedStyle(t);if(t.hasAttribute(Ai.LAYER_ATTRIBUTE)||"VIDEO"===t.nodeName||"none"!==n.transform){let e=Ai.layers.get(t);return e||(e=new Fs(this.manager,t,this.eventCallback)),this.childLayers.push(e),!1}return!0}}var js,Ns=[],Vs="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(js||(js={}));var Ks,zs=function(e){return Object.freeze(e)},Ws=function(e,t){this.inlineSize=e,this.blockSize=t,zs(this)},qs=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,zs(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Gs=function(e){return e instanceof SVGElement&&"getBBox"in e},$s=function(e){if(Gs(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},Hs=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},Xs="undefined"!=typeof window?window:{},Ys=new WeakMap,Qs=/auto|scroll/,Zs=/^tb|vertical/,Js=/msie|trident/i.test(Xs.navigator&&Xs.navigator.userAgent),ei=function(e){return parseFloat(e||"0")},ti=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Ws((n?t:e)||0,(n?e:t)||0)},ni=zs({devicePixelContentBoxSize:ti(),borderBoxSize:ti(),contentBoxSize:ti(),contentRect:new qs(0,0,0,0)}),ri=function(e,t){if(void 0===t&&(t=!1),Ys.has(e)&&!t)return Ys.get(e);if($s(e))return Ys.set(e,ni),ni;var n=getComputedStyle(e),r=Gs(e)&&e.ownerSVGElement&&e.getBBox(),s=!Js&&"border-box"===n.boxSizing,i=Zs.test(n.writingMode||""),o=!r&&Qs.test(n.overflowY||""),a=!r&&Qs.test(n.overflowX||""),l=r?0:ei(n.paddingTop),c=r?0:ei(n.paddingRight),u=r?0:ei(n.paddingBottom),d=r?0:ei(n.paddingLeft),h=r?0:ei(n.borderTopWidth),f=r?0:ei(n.borderRightWidth),p=r?0:ei(n.borderBottomWidth),m=d+c,g=l+u,y=(r?0:ei(n.borderLeftWidth))+f,v=h+p,b=a?e.offsetHeight-v-e.clientHeight:0,w=o?e.offsetWidth-y-e.clientWidth:0,_=s?m+y:0,x=s?g+v:0,E=r?r.width:ei(n.width)-_-w,T=r?r.height:ei(n.height)-x-b,S=E+m+w+y,k=T+g+b+v,R=zs({devicePixelContentBoxSize:ti(Math.round(E*devicePixelRatio),Math.round(T*devicePixelRatio),i),borderBoxSize:ti(S,k,i),contentBoxSize:ti(E,T,i),contentRect:new qs(d,l,E,T)});return Ys.set(e,R),R},si=function(e,t,n){var r=ri(e,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case js.DEVICE_PIXEL_CONTENT_BOX:return o;case js.BORDER_BOX:return s;default:return i}},ii=function(e){var t=ri(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=zs([t.borderBoxSize]),this.contentBoxSize=zs([t.contentBoxSize]),this.devicePixelContentBoxSize=zs([t.devicePixelContentBoxSize])},oi=function(e){if($s(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},ai=function(){var e=1/0,t=[];Ns.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new ii(t.target),s=oi(t.target);r.push(n),t.lastReportedSize=si(t.target,t.observedBox),s<e&&(e=s)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},li=function(e){Ns.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(oi(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},ci=function(){var e,t=0;for(li(t);Ns.some((function(e){return e.activeTargets.length>0}));)t=ai(),li(t);return Ns.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Vs}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Vs),window.dispatchEvent(e)),t>0},ui=[],di=function(e){if(!Ks){var t=0,n=document.createTextNode("");new MutationObserver((function(){return ui.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Ks=function(){n.textContent=""+(t?t--:t++)}}ui.push(e),Ks()},hi=0,fi={attributes:!0,characterData:!0,childList:!0,subtree:!0},pi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],mi=function(e){return void 0===e&&(e=0),Date.now()+e},gi=!1,yi=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!gi){gi=!0;var n,r=mi(e);n=function(){var n=!1;try{n=ci()}finally{if(gi=!1,e=r-mi(),!hi)return;n?t.run(1e3):e>0?t.run(e):t.start()}},di((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,fi)};document.body?t():Xs.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),pi.forEach((function(t){return Xs.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),pi.forEach((function(t){return Xs.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),vi=function(e){!hi&&e>0&&yi.start(),!(hi+=e)&&yi.stop()},bi=function(){function e(e,t){this.target=e,this.observedBox=t||js.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=si(this.target,this.observedBox,!0);return function(e){return!Gs(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),wi=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},_i=new WeakMap,xi=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Ei=function(){function e(){}return e.connect=function(e,t){var n=new wi(e,t);_i.set(e,n)},e.observe=function(e,t,n){var r=_i.get(e),s=0===r.observationTargets.length;xi(r.observationTargets,t)<0&&(s&&Ns.push(r),r.observationTargets.push(new bi(t,n&&n.box)),vi(1),yi.schedule())},e.unobserve=function(e,t){var n=_i.get(e),r=xi(n.observationTargets,t),s=1===n.observationTargets.length;r>=0&&(s&&Ns.splice(Ns.indexOf(n),1),n.observationTargets.splice(r,1),vi(-1))},e.disconnect=function(e){var t=this,n=_i.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Ti=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ei.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hs(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ei.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hs(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ei.unobserve(this,e)},e.prototype.disconnect=function(){Ei.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Si=self.ResizeObserver||Ti;const ki=new t.Matrix4,Ri=new t.Matrix4;class Ai{static ATTRIBUTE_PREFIX="xr";static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static serializer=new XMLSerializer;static getPsuedoAttributes(e){return(e.hover?`${this.HOVER_ATTRIBUTE}="" `:" ")+(e.focus?`${this.FOCUS_ATTRIBUTE}="" `:" ")+(e.active?`${this.ACTIVE_ATTRIBUTE}="" `:" ")+(e.target?`${this.TARGET_ATTRIBUTE}="" `:" ")}static rootLayers=new Map;static layers=new Map;static focusElement=null;static activeElement=null;static targetElement=null;static mutationObservers=new Map;static resizeObservers=new Map;static rootNodeObservers=new Map;static containerStyleElement;static initRootNodeObservation(e){const t=e.ownerDocument,n=e.getRootNode(),r="head"in n?n.head:n;if(this.rootNodeObservers.get(n))return;if(!this.containerStyleElement){const e=this.containerStyleElement=t.createElement("style");t.head.appendChild(e),e.innerHTML=`\n        [${Ai.RENDERING_CONTAINER_ATTRIBUTE}] {\n          all: initial;\n          position: fixed;\n          width: 100%;\n          height: 100%;\n          top: 0px;\n        }\n      `}const s=`\n    [${Ai.RENDERING_DOCUMENT_ATTRIBUTE}] * {\n      transform: none !important;\n    }\n\n    [${Ai.RENDERING_ATTRIBUTE}], [${Ai.RENDERING_ATTRIBUTE}] * {\n      visibility: visible !important;\n      /* the following is a hack for Safari; \n      without some kind of css filter active, \n      any box-shadow effect will fail to rasterize properly */\n      filter: opacity(1);\n    }\n    \n    [${Ai.RENDERING_ATTRIBUTE}] [${Ai.LAYER_ATTRIBUTE}], [${Ai.RENDERING_ATTRIBUTE}] [${Ai.LAYER_ATTRIBUTE}] * {\n      visibility: hidden !important;\n    }\n\n    [${Ai.RENDERING_ATTRIBUTE}] {\n      position: relative !important;\n      top: 0 !important;\n      left: 0 !important;\n      float: left !important; /* prevent margin-collapse in SVG foreign-element for Webkit */\n      box-sizing:border-box;\n      min-width:var(--x-width);\n      min-height:var(--x-height);\n    }\n    \n    [${Ai.RENDERING_INLINE_ATTRIBUTE}] {\n      top: var(--x-inline-top) !important;\n      width:auto !important;\n    }\n\n    [${Ai.RENDERING_PARENT_ATTRIBUTE}] {\n      transform: none !important;\n      left: 0 !important;\n      top: 0 !important;\n      margin: 0 !important;\n      border:0 !important;\n      border-radius:0 !important;\n      width: 100% !important;\n      height:100% !important;\n      padding:0 !important;\n      visibility:hidden !important;\n      filter:none !important;\n    }\n    \n    [${Ai.RENDERING_PARENT_ATTRIBUTE}]::before, [${Ai.RENDERING_PARENT_ATTRIBUTE}]::after {\n      content:none !important;\n      box-shadow:none !important;\n    }\n    `,i=t.createElement("style");if(i.textContent=s,r.append(i),n===t){let e="";const t=()=>{if(e!=window.location.hash&&window.location.hash)try{this.targetElement=n.querySelector(window.location.hash)}catch{}e=window.location.hash};window.addEventListener("hashchange",t,!1),t(),window.addEventListener("focusin",(e=>{this.focusElement=e.target}),!1),window.addEventListener("focusout",(e=>{this.focusElement=null}),!1),window.addEventListener("load",(e=>{o()}))}const o=()=>{for(const[e,t]of this.layers)t.needsRefresh=!0},a=e=>{var t=e.nodeName.toUpperCase();-1!==l.indexOf(t)&&e.addEventListener("load",o)},l=["STYLE","LINK"],c=new MutationObserver((e=>{for(const t of e){-1!==l.indexOf(t.target.nodeName.toUpperCase())&&o();for(const e of t.addedNodes)a(e)}}));c.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(n,c)}static setLayerNeedsRefresh(e){e.needsRefresh=!0}static createLayerTree(e,t,n){if(Ai.getClosestLayer(e))throw new Error("A root WebLayer for the given element already exists");const r=function(e,t){if(document.contains(e))return e;const n=document.createElement("div");return n.id=e.id+"-container",n.setAttribute(Ai.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.visibility="hidden",n.style.pointerEvents="none",n.style.touchAction="none",n.attachShadow({mode:"open"}).appendChild(e),document.documentElement.appendChild(n),n}(e);Ai.initRootNodeObservation(e);const s=new MutationObserver(Ai._handleMutations);this.mutationObservers.set(e,s),this.startMutationObserver(e);const i=new Si((e=>{for(const t of e){const e=this.getClosestLayer(t.target);e.traverseLayers(Ai.setLayerNeedsRefresh),e.traverseParentLayers(Ai.setLayerNeedsRefresh)}}));i.observe(e),this.resizeObservers.set(e,i),e.addEventListener("input",this._triggerRefresh,{capture:!0}),e.addEventListener("keydown",this._triggerRefresh,{capture:!0}),e.addEventListener("submit",this._triggerRefresh,{capture:!0}),e.addEventListener("change",this._triggerRefresh,{capture:!0}),e.addEventListener("focus",this._triggerRefresh,{capture:!0}),e.addEventListener("blur",this._triggerRefresh,{capture:!0}),e.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const o=new Fs(t.manager,e,n);return this.rootLayers.set(e,o),r}static disposeLayer(e){if(this.rootLayers.has(e.element)){this.rootLayers.delete(e.element);this.mutationObservers.get(e.element).disconnect(),this.mutationObservers.delete(e.element);this.resizeObservers.get(e.element).disconnect(),this.resizeObservers.delete(e.element),e.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0})}}static getClosestLayer(e,t=!0){const n=(t?e:e.parentElement)?.closest(`[${Ai.LAYER_ATTRIBUTE}]`);if(!n){const n=e?.getRootNode().host;if(n)return this.getClosestLayer(n,t)}return this.layers.get(n)}static parseCSSTransform(e,n,r,s,i=new t.Matrix4){const o=e.transform,a=e.transformOrigin;if(0==o.indexOf("matrix(")){i.identity();var l=o.substring(7,o.length-1).split(", ").map(parseFloat);i.elements[0]=l[0],i.elements[1]=l[1],i.elements[4]=l[2],i.elements[5]=l[3],i.elements[12]=l[4],i.elements[13]=l[5]}else{if(0!=o.indexOf("matrix3d("))return null;l=o.substring(9,o.length-1).split(", ").map(parseFloat);i.fromArray(l)}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=s,i.elements[13]*=-1*s;var c=a.split(" ").map(parseFloat),u=(c[0]-n/2)*s,d=(c[1]-r/2)*s*-1,h=c[2]||0,f=ki.identity().makeTranslation(-u,-d,-h),p=Ri.identity().makeTranslation(u,d,h);for(const e of i.elements)if(isNaN(e))return null;return i.premultiply(p).multiply(f)}static pauseMutationObservers(){const e=Ai.mutationObservers.values();for(const t of e)Ai._handleMutations(t.takeRecords()),t.disconnect()}static resumeMutationObservers(){for(const[e]of Ai.mutationObservers)this.startMutationObserver(e)}static startMutationObserver(e){Ai.mutationObservers.get(e).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0})}static _handleMutations=e=>{for(const t of e){if("attributes"===t.type){if(t.target.getAttribute(t.attributeName)===t.oldValue)continue}if("characterData"===t.type){const e=t.target;if(e.data===t.oldValue)continue;if("style"===e.parentElement?.tagName.toLowerCase()){const t=e.parentElement,n=t.getRootNode();this.embeddedStyles.get(n)?.delete(t)}}const e=t.target.nodeType===Node.ELEMENT_NODE?t.target:t.target.parentElement;if(!e)continue;const n=Ai.getClosestLayer(e);if(n){if("attributes"===t.type&&"class"===t.attributeName){if((t.oldValue?t.oldValue:"")===t.target.className)continue}n.parentLayer?n.parentLayer.traverseChildLayers(Ai.setLayerNeedsRefresh):n.traverseLayers(Ai.setLayerNeedsRefresh)}}};static _triggerRefresh=async e=>{const t=Ai.getClosestLayer(e.target);t&&(t.parentLayer?t.parentLayer.traverseChildLayers(Ai.setLayerNeedsRefresh):t.traverseLayers(Ai.setLayerNeedsRefresh))};static arrayBufferToBase64(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return window.btoa(t)}static attributeCSS(e,t){return t?`[${e}]=${t}`:`[${e}]`}static attributeHTML(e,t){return t?`${e}="${t}"`:`${e}=""`}static async generateEmbeddedCSS(e,t){let n;const r=[];t=(t=(t=(t=t.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const s=RegExp(/(@import.*?["']([^"']+)["'].*?|url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\))/gi);for(;n=s.exec(t);){const s=!!n[2]?"type/css":void 0,i=n[2]||n[3];r.push(this.getDataURL(new URL(i,e).href,s).then((e=>{t=t.replace(i,e)})))}return await Promise.all(r),t}static embeddedStyles=new Map;static fontStyles=new Map;static async getAllEmbeddedStyles(e){const t=e.getRootNode(),n=this.embeddedStyles.get(t)||new Map;this.embeddedStyles.set(t,n);const r=Array.from(t.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']")),s=e.getRootNode()instanceof ShadowRoot;for(const e of r)n.has(e)||n.set(e,new Promise((t=>{if("style"===e.tagName.toLowerCase())t(e.textContent||"");else{const n=e;t(this.getEmbeddedCSS(n.href))}})).then((e=>{const t=RegExp(/@font-face[^{]*{([^{}]|{[^{}]*})*}/gi),r=e.match(t);if(s&&r)for(const e of r){if(this.fontStyles.has(e))continue;const t=document.createElement("style");t.innerHTML=r.reduce(((e,t)=>t+"\n\n"+e),""),document.head.appendChild(t),this.fontStyles.set(e,t),n.set(t,Promise.resolve(""))}return this.generateEmbeddedCSS(window.location.href,e)})));return Promise.all(n.values())}static deleteEmbeddedStyle(e){const t=e.getRootNode();this.embeddedStyles.get(t)?.delete(e)}static dataURLMap=new Map;static async getDataURL(e,t){if(e.startsWith("data"))return e;if(this.dataURLMap.has(e))return this.dataURLMap.get(e);const n=new Promise((async n=>{const r=await fetch(e,t?{headers:{accept:t}}:void 0),s=r.headers.get("content-type");if("text/css"==s){const t=await this.generateEmbeddedCSS(e,await r.text());this.embeddedCSSMap.set(e,t),n("data:"+s+";base64,"+window.btoa(t))}else{const e=new Uint8Array(await r.arrayBuffer());n("data:"+s+";base64,"+this.arrayBufferToBase64(e))}}));return this.dataURLMap.set(e,n),n}static embeddedCSSMap=new Map;static async getEmbeddedCSS(e){if(this.embeddedCSSMap.has(e))return this.embeddedCSSMap.get(e);const t=await fetch(e,{headers:{accept:"text/css"}}),n=await this.generateEmbeddedCSS(e,await t.text());return this.embeddedCSSMap.set(e,n),this.embeddedCSSMap.get(e)}static updateInputAttributes(e){e.matches("input")&&this._updateInputAttribute(e);for(const t of e.getElementsByTagName("input"))this._updateInputAttribute(t)}static _updateInputAttribute(e){e.hasAttribute("checked")?e.checked||e.removeAttribute("checked"):e.checked&&e.setAttribute("checked",""),e.getAttribute("value")!==e.value&&e.setAttribute("value",e.value)}static isBlankImage(e){return!new Uint32Array(e.buffer).some((e=>0!==e))}}const Ci=Symbol("ON_BEFORE_UPDATE"),Pi=new t.Vector3,Oi=new t.Matrix4;class Mi extends t.Object3D{element;container;static GEOMETRY=new t.PlaneGeometry(1,1,2,2);static FLIPPED_GEOMETRY=function(e){const t=e.attributes.uv;for(let e=0;e<t.count;e++)t.setY(e,1-t.getY(e));return e}(new t.PlaneGeometry(1,1,2,2));static shouldApplyDOMLayout(e){const t=e.shouldApplyDOMLayout;return"always"===t||!0===t||"never"!==t&&!1!==t&&!("auto"!==t||!e.parentWebLayer||e.parent!==e.parentWebLayer)}_camera;constructor(e,n){super(),this.element=e,this.container=n,this.name=e.id,this._webLayer=Ai.getClosestLayer(e),e.layer=this;const r=this._webLayer.isMediaElement?Mi.GEOMETRY:Mi.FLIPPED_GEOMETRY;this.contentMesh=new t.Mesh(r,new t.MeshBasicMaterial({side:t.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1,toneMapped:!1})),this._boundsMesh=new t.Mesh(r,new t.MeshBasicMaterial({visible:!1})),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(e,t,n)=>{this._camera=n},this._boundsMesh.matrixAutoUpdate=!0,this.container.options.manager.layersByElement.set(this.element,this),this.container.options.manager.layersByMesh.set(this.contentMesh,this)}_webLayer;_localZ=0;_viewZ=0;_renderZ=0;_mediaSrc;_mediaTexture;textures=new Set;_previousTexture;get allStateHashes(){return this._webLayer.allStateHashes}get domState(){return this._webLayer.currentDOMState}get texture(){const e=this.container.manager;if(this._webLayer.isMediaElement){const n=this.element;let r=this._mediaTexture;return(!r||r.image&&n.src!==r.image.src)&&(r&&r.dispose(),r=this._webLayer.isVideoElement?new t.VideoTexture(n):(new t.TextureLoader).load(n.src),r.wrapS=t.ClampToEdgeWrapping,r.wrapT=t.ClampToEdgeWrapping,r.minFilter=t.LinearFilter,e.textureEncoding&&(r.encoding=e.textureEncoding),this._mediaTexture=r),r}const n=this._webLayer.currentDOMState?.texture.url;let r=n?e.getTexture(n,this):void 0;return r&&this.textures.add(r),r}contentMesh;_boundsMesh;cursor=new t.Object3D;depthMaterial=new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking,alphaTest:.001});domLayout=new t.Object3D;domSize=new t.Vector3(1,1,1);get desiredPseudoStates(){return this._webLayer.desiredPseudoState}get pseudoStates(){return this._webLayer.currentDOMState?.pseudo}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(e=!0){this._webLayer.setNeedsRefresh(e)}get needsRemoval(){return this._webLayer.needsRemoval}bounds=new Ls;margin=new Is;get parentWebLayer(){return this._webLayer.parentLayer&&this.container.manager.layersByElement.get(this._webLayer.parentLayer.element)}childWebLayers=[];shouldApplyDOMLayout="auto";async refresh(e=!1){const t=[];t.push(this._webLayer.refresh()),this.childWebLayers.length=0;for(const n of this._webLayer.childLayers){const r=this.container.manager.layersByElement.get(Ai.getClosestLayer(n.element)?.element);r&&(this.childWebLayers.push(r),e&&t.push(r.refresh(e)))}return Promise.all(t).then((()=>{}))}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(Pi.setFromMatrixPosition(this.matrix).z+Pi.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Pi).applyMatrix4(this._camera.matrixWorldInverse).z);let e=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=e:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.container.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index)}}updateContent(){const e=this.contentMesh,t=this.texture,n=e.material;if(t&&n.map!==t){const e=this.contentMesh.scale,r=Math.abs(e.x*this.scale.x/e.y*this.scale.y),s=this.domSize.x/this.domSize.y;Math.abs(s-r)<1e3&&(n.map=t,this.depthMaterial.map=t,n.needsUpdate=!0,this.depthMaterial.needsUpdate=!0)}n.transparent=!0;const r=e.material,s=r.opacity<.005;s?e.visible=!1:r.map&&(e.visible=!0),this.needsRemoval&&s&&(this.parent&&this.parent.remove(this),this.dispose()),this._refreshMediaBounds()}[Ci](){}_doUpdate(){this[Ci](),this.updateContent(),this.updateLayout(),Mi.shouldApplyDOMLayout(this)&&(this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale)),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.container.options.autoRefresh&&this.refresh(),this._previousTexture!==this.texture&&(this.texture&&this.container.manager.renderer.initTexture(this.texture),this._previousTexture=this.texture,this.container.options.onLayerPaint?.(this)),this._webLayer.update(),this.container.manager.scheduleTasksIfNeeded()}update(e=!1){e?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate()}querySelector(e){const t=this.element.querySelector(e)||this.element.shadowRoot?.querySelector(e);if(t)return this.container.manager.layersByElement.get(t)}traverseLayerAncestors(e){const t=this.parentWebLayer;t&&(t.traverseLayerAncestors(e),e.call(this,t))}traverseLayersPreOrder(e){if(!1===e.call(this,this))return!1;for(const t of this.childWebLayers)if(!1===t.traverseLayersPreOrder(e))return!1;return!0}traverseLayersPostOrder(e){for(const t of this.childWebLayers)if(!1===t.traverseLayersPostOrder(e))return!1;return e.call(this,this)||!0}dispose(){Ai.disposeLayer(this._webLayer),this.container.manager.disposeLayer(this);for(const e of this.childWebLayers)e.dispose()}_refreshMediaBounds(){if(this._webLayer.isMediaElement){const e=this._webLayer.isVideoElement,t=this.domState;if(!t)return;const n=this.element,r=this.texture,s=getComputedStyle(this.element),{objectFit:i}=s,{width:o,height:a}=this.bounds.copy(t.bounds),l=e?n.videoWidth:n.naturalWidth,c=e?n.videoHeight:n.naturalHeight,u=l/c,d=o/a;switch(r.center.set(.5,.5),i){case"none":r.repeat.set(o/l,a/c).clampScalar(0,1);break;case"contain":case"scale-down":if(r.repeat.set(1,1),d>u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;case"cover":if(r.repeat.set(o/l,a/c),d<u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;default:r.repeat.set(1,1)}t.bounds.copy(this.bounds)}}_updateDOMLayout(){if(this.needsRemoval)return;const e=this._webLayer.currentDOMState;if(!e)return;const{bounds:t,margin:n}=e,r=this._webLayer.isMediaElement;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const s=this.bounds.copy(t),i=this.margin.copy(n),o=s.width,a=s.height,l=r?0:i.left,c=r?0:i.right,u=r?0:i.top,d=o+l+c,h=a+u+(r?0:i.bottom),f=1/this.container.manager.pixelsPerUnit;this.domSize.set(Math.max(f*d,1e-5),Math.max(f*h,1e-5),1);const p=this.parentWebLayer;if(!p)return;const m=p.bounds,g=p.margin,y=m.width+g.left+g.right,v=m.height+g.bottom+g.top,b=-y/2+g.left,w=v/2-g.top;this.domLayout.position.set(f*(b+d/2+s.left-l),f*(w-h/2-s.top+u),0);const _=getComputedStyle(this.element),x=_.transform;if(x&&"none"!==x){const e=Ai.parseCSSTransform(_,s.width,s.height,f,Oi);e&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(e),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale))}}}class Bi{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Li=new WeakMap;let Ii=0;class Di extends t.Loader{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Bi,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}init(){if(!this.transcoderPending){const e=new t.FileLoader(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const n=e.loadAsync("basis_transcoder.js"),r=new t.FileLoader(this.manager);r.setPath(this.transcoderPath),r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=r.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,s]).then((([e,t])=>{const n=Di.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify(Di.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Di.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Di.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=t,this.workerPool.setWorkerCreator((()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e}))})),Ii>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Ii++}return this.transcoderPending}load(e,n,r,s){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new t.FileLoader(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const o=new t.CompressedTexture;return i.load(e,(e=>{if(Li.has(e)){return Li.get(e).promise.then(n).catch(s)}this._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,n&&n(o)})).catch(s)}),r,s),o}_createTextureFrom(e){const{mipmaps:n,width:r,height:s,format:i,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=e;if("error"===o)return Promise.reject(a);const u=new t.CompressedTexture(n,r,s,i,t.UnsignedByteType);return u.minFilter=1===n.length?t.LinearFilter:t.LinearMipmapLinearFilter,u.magFilter=t.LinearFilter,u.generateMipmaps=!1,u.needsUpdate=!0,u.encoding=2===l?t.sRGBEncoding:t.LinearEncoding,u.premultiplyAlpha=!!(1&c),u}_createTexture(e,t={}){const n=t,r=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:n},e))).then((e=>this._createTextureFrom(e.data)));return Li.set(e[0],{promise:r}),r}dispose(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),Ii--,this}}Di.BasisFormat={ETC1S:0,UASTC_4x4:1},Di.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Di.EngineFormat={RGBAFormat:t.RGBAFormat,RGBA_ASTC_4x4_Format:t.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:t.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:t.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:t.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:t.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:t.RGB_ETC1_Format,RGB_ETC2_Format:t.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:t.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:t.RGB_S3TC_DXT1_Format},Di.BasisWorker=function(){let e,t,n;const r=_EngineFormat,s=_TranscoderFormat,i=_BasisFormat;self.addEventListener("message",(function(o){const u=o.data;switch(u.type){case"init":e=u.config,d=u.transcoderBinary,t=new Promise((e=>{n={wasmBinary:d,onRuntimeInitialized:e},BASIS(n)})).then((()=>{n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((()=>{try{const{width:t,height:o,hasAlpha:d,mipmaps:h,format:f,dfdTransferFn:p,dfdFlags:m}=function(t){const o=new n.KTX2File(new Uint8Array(t));function u(){o.close(),o.delete()}if(!o.isValid())throw u(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const d=o.isUASTC()?i.UASTC_4x4:i.ETC1S,h=o.getWidth(),f=o.getHeight(),p=o.getLevels(),m=o.getHasAlpha(),g=o.getDFDTransferFunc(),y=o.getDFDFlags(),{transcoderFormat:v,engineFormat:b}=function(t,n,o,u){let d,h;const f=t===i.ETC1S?a:l;for(let r=0;r<f.length;r++){const s=f[r];if(e[s.if]&&(s.basisFormat.includes(t)&&!(u&&s.transcoderFormat.length<2)&&(!s.needsPowerOfTwo||c(n)&&c(o))))return d=s.transcoderFormat[u?1:0],h=s.engineFormat[u?1:0],{transcoderFormat:d,engineFormat:h}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),d=s.RGBA32,h=r.RGBAFormat,{transcoderFormat:d,engineFormat:h}}(d,h,f,m);if(!h||!f||!p)throw u(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw u(),new Error("THREE.KTX2Loader: .startTranscoding failed");const w=[];for(let e=0;e<p;e++){const t=o.getImageLevelInfo(e,0,0),n=t.origWidth,r=t.origHeight,s=new Uint8Array(o.getImageTranscodedSizeInBytes(e,0,0,v));if(!o.transcodeImage(s,e,0,0,v,0,-1,-1))throw u(),new Error("THREE.KTX2Loader: .transcodeImage failed.");w.push({data:s,width:n,height:r})}return u(),{width:h,height:f,hasAlpha:m,mipmaps:w,format:b,dfdTransferFn:g,dfdFlags:y}}(u.buffers[0]),g=[];for(let e=0;e<h.length;++e)g.push(h[e].data.buffer);self.postMessage({type:"transcode",id:u.id,width:t,height:o,hasAlpha:d,mipmaps:h,format:f,dfdTransferFn:p,dfdFlags:m},g)}catch(e){console.error(e),self.postMessage({type:"error",id:u.id,error:e.message})}}))}var d}));const o=[{if:"astcSupported",basisFormat:[i.UASTC_4x4],transcoderFormat:[s.ASTC_4x4,s.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC7_M5,s.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC1,s.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1,s.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.PVRTC1_4_RGB,s.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],a=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function c(e){return e<=2||0==(e&e-1)&&0!==e}};const Ui="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Fi=Object.keys,ji=Array.isArray;function Ni(e,t){return"object"!=typeof t||Fi(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Ui.Promise||(Ui.Promise=Promise);const Vi=Object.getPrototypeOf,Ki={}.hasOwnProperty;function zi(e,t){return Ki.call(e,t)}function Wi(e,t){"function"==typeof t&&(t=t(Vi(e))),("undefined"==typeof Reflect?Fi:Reflect.ownKeys)(t).forEach((n=>{Gi(e,n,t[n])}))}const qi=Object.defineProperty;function Gi(e,t,n,r){qi(e,t,Ni(n&&zi(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function $i(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Gi(e.prototype,"constructor",e),{extend:Wi.bind(null,e.prototype)}}}}const Hi=Object.getOwnPropertyDescriptor;function Xi(e,t){let n;return Hi(e,t)||(n=Vi(e))&&Xi(n,t)}const Yi=[].slice;function Qi(e,t,n){return Yi.call(e,t,n)}function Zi(e,t){return t(e)}function Ji(e){if(!e)throw new Error("Assertion Failed")}function eo(e){Ui.setImmediate?setImmediate(e):setTimeout(e,0)}function to(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function no(e,t){if(zi(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=no(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:no(a,t.substr(o+1))}}function ro(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Ji("string"!=typeof n&&"length"in n);for(var r=0,s=t.length;r<s;++r)ro(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var o=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?ji(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l||(l=e[o]={}),ro(l,a,n)}}else void 0===n?ji(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function so(e){var t={};for(var n in e)zi(e,n)&&(t[n]=e[n]);return t}const io=[].concat;function oo(e){return io.apply([],e)}const ao="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oo([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Ui[e])),lo=ao.map((e=>Ui[e]));to(ao,(e=>[e,!0]));let co=null;function uo(e){co="undefined"!=typeof WeakMap&&new WeakMap;const t=ho(e);return co=null,t}function ho(e){if(!e||"object"!=typeof e)return e;let t=co&&co.get(e);if(t)return t;if(ji(e)){t=[],co&&co.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(ho(e[n]))}else if(lo.indexOf(e.constructor)>=0)t=e;else{const n=Vi(e);for(var s in t=n===Object.prototype?{}:Object.create(n),co&&co.set(e,t),e)zi(e,s)&&(t[s]=ho(e[s]))}return t}const{toString:fo}={};function po(e){return fo.call(e).slice(8,-1)}const mo="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",go="symbol"==typeof mo?function(e){var t;return null!=e&&(t=e[mo])&&t.apply(e)}:function(){return null},yo={};function vo(e){var t,n,r,s;if(1===arguments.length){if(ji(e))return e.slice();if(this===yo&&"string"==typeof e)return[e];if(s=go(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const bo="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var wo="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _o(e,t){wo=e,xo=t}var xo=()=>!0;const Eo=!new Error("").stack;function To(){if(Eo)try{throw To.arguments,new Error}catch(e){return e}return new Error}function So(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(xo).map((e=>"\n"+e)).join("")):""}var ko=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ro=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ko),Ao={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Co(e,t){this._e=To(),this.name=e,this.message=t}function Po(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Oo(e,t,n,r){this._e=To(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Po(e,t)}function Mo(e,t){this._e=To(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Po(e,t)}$i(Co).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+So(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$i(Oo).from(Co),$i(Mo).from(Co);var Bo=Ro.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Lo=Co;var Io=Ro.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=To(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Ao[t]||n,this.inner=null)}return $i(r).from(Lo),e[t]=r,e}),{});Io.Syntax=SyntaxError,Io.Type=TypeError,Io.Range=RangeError;var Do=ko.reduce(((e,t)=>(e[t+"Error"]=Io[t],e)),{});var Uo=Ro.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Io[t]),e)),{});function Fo(){}function jo(e){return e}function No(e,t){return null==e||e===jo?t:function(n){return t(e(n))}}function Vo(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ko(e,t){return e===Fo?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Vo(r,this.onsuccess):r),s&&(this.onerror=this.onerror?Vo(s,this.onerror):s),void 0!==i?i:n}}function zo(e,t){return e===Fo?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Vo(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Vo(r,this.onerror):r)}}function Wo(e,t){return e===Fo?t:function(n){var r=e.apply(this,arguments);Ni(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Vo(s,this.onsuccess):s),i&&(this.onerror=this.onerror?Vo(i,this.onerror):i),void 0===r?void 0===o?void 0:o:Ni(r,o)}}function qo(e,t){return e===Fo?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Go(e,t){return e===Fo?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Uo.ModifyError=Oo,Uo.DexieError=Co,Uo.BulkError=Mo;var $o={};const[Ho,Xo,Yo]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Vi(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Vi(t),e]})(),Qo=Xo&&Xo.then,Zo=Ho&&Ho.constructor,Jo=!!Yo;var ea=!1,ta=Yo?()=>{Yo.then(Ta)}:Ui.setImmediate?setImmediate.bind(null,Ta):Ui.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Ta(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ta,0)},na=function(e,t){da.push([e,t]),sa&&(ta(),sa=!1)},ra=!0,sa=!0,ia=[],oa=[],aa=null,la=jo,ca={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Xa,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Xa(e[0],e[1])}catch(e){}}))}},ua=ca,da=[],ha=0,fa=[];function pa(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fo,this._lib=!1;var t=this._PSD=ua;if(wo&&(this._stackHolder=To(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==$o)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&va(this,this._value))}this._state=null,this._value=null,++t.ref,ya(this,e)}const ma={get:function(){var e=ua,t=La;function n(n,r){var s=!e.global&&(e!==ua||t!==La);const i=s&&!Fa();var o=new pa(((t,o)=>{wa(this,new ga(Ga(n,e,s,i),Ga(r,e,s,i),t,o,e))}));return wo&&Ea(o,this),o}return n.prototype=$o,n},set:function(e){Gi(this,"then",e&&e.prototype===$o?ma:{get:function(){return e},set:ma.set})}};function ga(e,t,n,r,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function ya(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Sa();t&&"function"==typeof t.then?ya(e,((e,n)=>{t instanceof pa?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,ba(e)),n&&ka()}}),va.bind(null,e))}catch(t){va(e,t)}}function va(e,t){if(oa.push(t),null===e._state){var n=e._lib&&Sa();t=la(t),e._state=!1,e._value=t,wo&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((()=>{var n=Xi(t,"stack");t._promise=e,Gi(t,"stack",{get:()=>ea?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){ia.some((t=>t._value===e._value))||ia.push(e)}(e),ba(e),n&&ka()}}function ba(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)wa(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===ha&&(++ha,na((()=>{0==--ha&&Ra()}),[]))}function wa(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ha,na(_a,[n,e,t])}else e._listeners.push(t)}function _a(e,t,n){try{aa=t;var r,s=t._value;t._state?r=e(s):(oa.length&&(oa=[]),r=e(s),-1===oa.indexOf(s)&&function(e){var t=ia.length;for(;t;)if(ia[--t]._value===e._value)return void ia.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{aa=null,0==--ha&&Ra(),--n.psd.ref||n.psd.finalize()}}function xa(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||"Error",i=o.message||o,r=So(o,0)):(s=o,i=""),t.push(s+(i?": "+i:"")+r)}return wo&&((r=So(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&xa(e._prev,t,n)),t}function Ea(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ta(){Sa()&&ka()}function Sa(){var e=ra;return ra=!1,sa=!1,e}function ka(){var e,t,n;do{for(;da.length>0;)for(e=da,da=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(da.length>0);ra=!0,sa=!0}function Ra(){var e=ia;ia=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=fa.slice(0),n=t.length;n;)t[--n]()}function Aa(e){return new pa($o,!1,e)}function Ca(e,t){var n=ua;return function(){var r=Sa(),s=ua;try{return Ka(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Ka(s,!1),r&&ka()}}}Wi(pa.prototype,{then:ma,_then:function(e,t){wa(this,new ga(null,null,e,t,ua))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Aa(e))):this.then(null,(e=>e&&e.name===t?n(e):Aa(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Aa(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ea=!0;var e=xa(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ea=!1}}},timeout:function(e,t){return e<1/0?new pa(((n,r)=>{var s=setTimeout((()=>r(new Io.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Gi(pa.prototype,Symbol.toStringTag,"Dexie.Promise"),ca.env=za(),Wi(pa,{all:function(){var e=vo.apply(null,arguments).map(ja);return new pa((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,i)=>pa.resolve(s).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof pa)return e;if(e&&"function"==typeof e.then)return new pa(((t,n)=>{e.then(t,n)}));var t=new pa($o,!0,e);return Ea(t,aa),t},reject:Aa,race:function(){var e=vo.apply(null,arguments).map(ja);return new pa(((t,n)=>{e.map((e=>pa.resolve(e).then(t,n)))}))},PSD:{get:()=>ua,set:e=>ua=e},totalEchoes:{get:()=>La},newPSD:Da,usePSD:Wa,scheduler:{get:()=>na,set:e=>{na=e}},rejectionMapper:{get:()=>la,set:e=>{la=e}},follow:(e,t)=>new pa(((n,r)=>Da(((t,n)=>{var r=ua;r.unhandleds=[],r.onunhandled=n,r.finalize=Vo((function(){!function(e){function t(){e(),fa.splice(fa.indexOf(t),1)}fa.push(t),++ha,na((()=>{0==--ha&&Ra()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),Zo&&(Zo.allSettled&&Gi(pa,"allSettled",(function(){const e=vo.apply(null,arguments).map(ja);return new pa((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>pa.resolve(e).then((e=>r[s]={status:"fulfilled",value:e}),(e=>r[s]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),Zo.any&&"undefined"!=typeof AggregateError&&Gi(pa,"any",(function(){const e=vo.apply(null,arguments).map(ja);return new pa(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,i)=>pa.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--r||n(new AggregateError(s))}))))}))})));const Pa={awaits:0,echoes:0,id:0};var Oa=0,Ma=[],Ba=0,La=0,Ia=0;function Da(e,t,n,r){var s=ua,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Ia;var o=ca.env;i.env=Jo?{Promise:pa,PromiseProp:{value:pa,configurable:!0,writable:!0},all:pa.all,race:pa.race,allSettled:pa.allSettled,any:pa.any,resolve:pa.resolve,reject:pa.reject,nthen:$a(o.nthen,i),gthen:$a(o.gthen,i)}:{},t&&Ni(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Wa(i,e,n,r);return 0===i.ref&&i.finalize(),a}function Ua(){return Pa.id||(Pa.id=++Oa),++Pa.awaits,Pa.echoes+=100,Pa.id}function Fa(){return!!Pa.awaits&&(0==--Pa.awaits&&(Pa.id=0),Pa.echoes=100*Pa.awaits,!0)}function ja(e){return Pa.echoes&&e&&e.constructor===Zo?(Ua(),e.then((e=>(Fa(),e)),(e=>(Fa(),Ya(e))))):e}function Na(e){++La,Pa.echoes&&0!=--Pa.echoes||(Pa.echoes=Pa.id=0),Ma.push(ua),Ka(e,!0)}function Va(){var e=Ma[Ma.length-1];Ma.pop(),Ka(e,!1)}function Ka(e,t){var n=ua;if((t?!Pa.echoes||Ba++&&e===ua:!Ba||--Ba&&e===ua)||qa(t?Na.bind(null,e):Va),e!==ua&&(ua=e,n===ca&&(ca.env=za()),Jo)){var r=ca.env.Promise,s=e.env;Xo.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(Ui,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function za(){var e=Ui.Promise;return Jo?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ui,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Xo.then,gthen:e.prototype.then}:{}}function Wa(e,t,n,r,s){var i=ua;try{return Ka(e,!0),t(n,r,s)}finally{Ka(i,!1)}}function qa(e){Qo.call(Ho,e)}function Ga(e,t,n,r){return"function"!=typeof e?e:function(){var s=ua;n&&Ua(),Ka(t,!0);try{return e.apply(this,arguments)}finally{Ka(s,!1),r&&qa(Fa)}}}function $a(e,t){return function(n,r){return e.call(this,Ga(n,t),Ga(r,t))}}-1===(""+Qo).indexOf("[native code]")&&(Ua=Fa=Fo);const Ha="unhandledrejection";function Xa(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,s={promise:t,reason:e};if(Ui.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Ha,!0,!0),Ni(r,s)):Ui.CustomEvent&&Ni(r=new CustomEvent(Ha,{detail:s}),s),r&&Ui.dispatchEvent&&(dispatchEvent(r),!Ui.PromiseRejectionEvent&&Ui.onunhandledrejection))try{Ui.onunhandledrejection(r)}catch(e){}wo&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var Ya=pa.reject;function Qa(e,t,n,r){if(e.idbdb&&(e._state.openComplete||ua.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Bo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Qa(e,t,n,r)))):Ya(s)}return s._promise(t,((e,t)=>Da((()=>(ua.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return Ya(new Io.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Ya(new Io.DatabaseClosed);e.open().catch(Fo)}return e._state.dbReadyPromise.then((()=>Qa(e,t,n,r)))}const Za="3.2.1",Ja=String.fromCharCode(65535),el=-1/0,tl="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",nl="String expected.",rl=[],sl="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),il=sl,ol=sl,al=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),ll="__dbnames",cl="readonly",ul="readwrite";function dl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const hl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function fl(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=uo(t))[e],t)}class pl{_trans(e,t,n){const r=this._tx||ua.trans,s=this.name;function i(e,n,r){if(!r.schema[s])throw new Io.NotFound("Table "+s+" not part of transaction");return t(r.idbtrans,r)}const o=Sa();try{return r&&r.db===this.db?r===ua.trans?r._promise(e,i,n):Da((()=>r._promise(e,i,n)),{trans:r,transless:ua.transless||ua}):Qa(this.db,e,[this.name],i)}finally{o&&ka()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ji(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Fi(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==Ja)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&wo&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function i(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[o,a]=t.reduce((([t,n],s)=>{const o=r[s],a=e[s];return[t||o,t||!o?dl(n,o&&o.multi?e=>{const t=no(e,s);return ji(t)&&t.some((e=>i(a,e)))}:e=>i(a,no(e,s))):n]}),[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ji(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(zi(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Ni(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=fl(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?pa.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{ro(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||ji(e))return this.where(":id").equals(e).modify(t);{const n=no(e,this.schema.primKey.keyPath);if(void 0===n)return Ya(new Io.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Fi(t).forEach((n=>{ro(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=fl(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?pa.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{ro(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?pa.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:hl}))).then((e=>e.numFailures?pa.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Io.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Io.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&n?e.map(fl(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new Mo(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Io.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Io.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&n?e.map(fl(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new Mo(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new Mo(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function ml(e){var t={},n=function(n,r){if(r){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(e,r,s){if("object"==typeof e)return o(e);r||(r=qo),s||(s=Fo);var i={subscribers:[],fire:s,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,s)}};return t[e]=n[e]=i,i}function o(e){Fi(e).forEach((function(t){var n=e[t];if(ji(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Io.InvalidArgument("Invalid event config");var r=i(t,jo,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){eo((function(){e.apply(null,t)}))}))}))}}))}}function gl(e,t){return $i(t).from({prototype:e}),t}function yl(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function vl(e,t){e.filter=dl(e.filter,t)}function bl(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>dl(r(),t()):t,e.justLimit=n&&!r}function wl(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Io.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function _l(e,t,n){const r=wl(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function xl(e,t,n,r){const s=e.replayFilter?dl(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},o=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var o=n.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),zi(i,a)||(i[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),El(_l(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return El(_l(e,r,n),dl(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function El(e,t,n,r){var s=r?(e,t,s)=>n(r(e),t,s):n,i=Ca(s);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Fo}),(t=>{e.fail(t),n=Fo}))||i(e.value,e,(e=>n=e)),n()}))}))}function Tl(e,t){try{const n=Sl(e),r=Sl(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(kl(e),kl(t));case"Array":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=Tl(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Sl(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=po(e);return"ArrayBuffer"===n?"binary":n}function kl(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Rl{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ya.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,Ya.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=dl(t.algorithm,e)}_iterate(e,t){return xl(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Ni(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>xl(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(yl(t,!0))return n.count({trans:e,query:{index:wl(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return xl(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&yl(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=wl(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return xl(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,yl(t)?bl(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):bl(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),bl(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return vl(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return vl(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=dl(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&yl(t,!0)&&t.limit>0)return this._read((e=>{var n=wl(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return vl(this._ctx,(function(e){var t=e.primaryKey.toString(),r=zi(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var s=Fi(e),i=s.length;r=function(t){for(var n=!1,r=0;r<i;++r){var o=s[r],a=e[o];no(t,o)!==a&&(ro(t,o,a),n=!0)}return n}}const o=t.table.core,{outbound:a,extractKey:l}=o.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let d=0;const h=[],f=(e,t)=>{const{failures:n,numFailures:r}=t;d+=e-r;for(let e of Fi(n))u.push(n[e])};return this.clone().primaryKeys().then((s=>{const i=u=>{const d=Math.min(c,s.length-u);return o.getMany({trans:n,keys:s.slice(u,u+d),cache:"immutable"}).then((h=>{const p=[],m=[],g=a?[]:null,y=[];for(let e=0;e<d;++e){const t=h[e],n={value:uo(t),primKey:s[u+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(s[u+e]):a||0===Tl(l(t),l(n.value))?(m.push(n.value),a&&g.push(s[u+e])):(y.push(s[u+e]),p.push(n.value)))}const v=yl(t)&&t.limit===1/0&&("function"!=typeof e||e===Al)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&o.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(m.length>0||v&&"object"==typeof e)&&o.mutate({trans:n,type:"put",keys:g,values:m,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>f(m.length,e))))).then((()=>(y.length>0||v&&e===Al)&&o.mutate({trans:n,type:"delete",keys:y,criteria:v}).then((e=>f(y.length,e))))).then((()=>s.length>u+d&&i(u+c)))}))};return i(0).then((()=>{if(u.length>0)throw new Oo("Error modifying one or more objects",u,d,h);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return yl(e)&&(e.isPrimKey&&!ol||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new Oo("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Al)}}const Al=(e,t)=>t.value=null;function Cl(e,t){return e<t?-1:e===t?0:1}function Pl(e,t){return e>t?-1:e===t?0:1}function Ol(e,t,n){var r=e instanceof Ul?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ml(e){return new e.Collection(e,(()=>Dl(""))).limit(0)}function Bl(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var c=t[l];if(c!==r[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[l],c)<0&&(a=l)}return o<r.length&&"next"===i?e+n.substr(e.length):o<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Ll(e,t,n,r){var s,i,o,a,l,c,u,d=n.length;if(!n.every((e=>"string"==typeof e)))return Ol(e,nl);function h(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o="next"===e?Cl:Pl;var t=n.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":r}h("next");var f=new e.Collection(e,(()=>Il(a[0],l[d-1]+r)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,n,r){var s=e.key;if("string"!=typeof s)return!1;var h=i(s);if(t(h,l,p))return!0;for(var f=null,m=p;m<d;++m){var g=Bl(s,h,a[m],l[m],o,c);null===g&&null===f?p=m+1:(null===f||o(f,g)>0)&&(f=g)}return n(null!==f?function(){e.continue(f+u)}:r),!1})),f}function Il(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Dl(e){return{type:1,lower:e,upper:e}}class Ul{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ml(this):new this.Collection(this,(()=>Il(e,t,!n,!r)))}catch(e){return Ol(this,tl)}}equals(e){return null==e?Ol(this,tl):new this.Collection(this,(()=>Dl(e)))}above(e){return null==e?Ol(this,tl):new this.Collection(this,(()=>Il(e,void 0,!0)))}aboveOrEqual(e){return null==e?Ol(this,tl):new this.Collection(this,(()=>Il(e,void 0,!1)))}below(e){return null==e?Ol(this,tl):new this.Collection(this,(()=>Il(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Ol(this,tl):new this.Collection(this,(()=>Il(void 0,e)))}startsWith(e){return"string"!=typeof e?Ol(this,nl):this.between(e,e+Ja,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Ll(this,((e,t)=>0===e.indexOf(t[0])),[e],Ja)}equalsIgnoreCase(e){return Ll(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=vo.apply(yo,arguments);return 0===e.length?Ml(this):Ll(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=vo.apply(yo,arguments);return 0===e.length?Ml(this):Ll(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,Ja)}anyOf(){const e=vo.apply(yo,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Ol(this,tl)}if(0===e.length)return Ml(this);const n=new this.Collection(this,(()=>Il(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return s(i),!1;return 0===t(o,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[el,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=vo.apply(yo,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ol(this,tl)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[el,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return Ml(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Ol(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Io.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=r;function d(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),c.sort(d)}catch(e){return Ol(this,tl)}let h=0;const f=l?e=>r(e,c[h][1])>0:e=>r(e,c[h][1])>=0,p=a?e=>s(e,c[h][0])>0:e=>s(e,c[h][0])>=0;let m=f;const g=new this.Collection(this,(()=>Il(c[0][0],c[c.length-1][1],!a,!l)));return g._ondirectionchange=e=>{"next"===e?(m=f,u=r):(m=p,u=s),c.sort(d)},g._addAlgorithm(((e,t,n)=>{for(var s=e.key;m(s);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(s)||(0===this._cmp(s,c[h][1])||0===this._cmp(s,c[h][0])||t((()=>{u===r?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),g}startsWithAnyOf(){const e=vo.apply(yo,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ml(this):this.inAnyRange(e.map((e=>[e,e+Ja]))):Ol(this,"startsWithAnyOf() only works with strings")}}function Fl(e){return Ca((function(t){return jl(t),e(t.target.error),!1}))}function jl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Nl="storagemutated",Vl="x-storagemutated-1",Kl=ml(null,Nl);class zl{_lock(){return Ji(!ua.global),++this._reculock,1!==this._reculock||ua.global||(ua.lockOwnerFor=this),this}_unlock(){if(Ji(!ua.global),0==--this._reculock)for(ua.global||(ua.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Wa(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&ua.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(Ji(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Io.DatabaseClosed(n);case"MissingAPIError":throw new Io.MissingAPI(n.message,n);default:throw new Io.OpenFailed(n)}if(!this.active)throw new Io.TransactionInactive;return Ji(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ca((t=>{jl(t),this._reject(e.error)})),e.onabort=Ca((t=>{jl(t),this.active&&this._reject(new Io.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Ca((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Kl.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return Ya(new Io.ReadOnly("Transaction is readonly"));if(!this.active)return Ya(new Io.TransactionInactive);if(this._locked())return new pa(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},ua])}));if(n)return Da((()=>{var e=new pa(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new pa(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=pa.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new pa(((e,r)=>{n.then((n=>t._waitingQueue.push(Ca(e.bind(null,n)))),(e=>t._waitingQueue.push(Ca(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Io.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(zi(t,e))return t[e];const n=this.schema[e];if(!n)throw new Io.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Wl(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+ql(t)}}function ql(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Gl(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:to(n,(e=>[e.name,e]))}}let $l=e=>{try{return e.only([[]]),$l=()=>[[]],[[]]}catch(e){return $l=()=>Ja,Ja}};function Hl(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>no(t,e)}(e):t=>no(t,e)}function Xl(e){return[].slice.call(e)}let Yl=0;function Ql(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Zl(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:s,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!i)}const{schema:s,hasGetAll:i}=function(e,t){const n=Xl(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=ji(t),s=null==t,i={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Hl(t)},indexes:Xl(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:s}=e,o={name:t,compound:ji(s),keyPath:s,unique:n,multiEntry:r,extractKey:Hl(s)};return i[Ql(s)]=o,o})),getIndexByKeyPath:e=>i[Ql(e)]};return i[":id"]=o.primaryKey,null!=t&&(i[Ql(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:s,values:i,range:o}){return new Promise(((a,l)=>{a=Ca(a);const c=e.objectStore(t),u=null==c.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=s||i||{length:1};if(s&&i&&s.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let g=0;const y=e=>{++g,jl(e)};if("deleteRange"===n){if(4===o.type)return a({numFailures:g,failures:m,results:[],lastResult:void 0});3===o.type?p.push(f=c.clear()):p.push(f=c.delete(r(o)))}else{const[e,t]=d?u?[i,s]:[i,null]:[s,null];if(d)for(let r=0;r<h;++r)p.push(f=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),f.onerror=y;else for(let t=0;t<h;++t)p.push(f=c[n](e[t])),f.onerror=y}const v=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:g,failures:m,results:"delete"===n?s:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{y(e),v(e)},f.onsuccess=v}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=Ca(r);const i=e.objectStore(t),o=n.length,a=new Array(o);let l,c=0,u=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++u===c&&r(a)},h=Fl(s);for(let e=0;e<o;++e)null!=n[e]&&(l=i.get(n[e]),l._pos=e,l.onsuccess=d,l.onerror=h,++c);0===c&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=Ca(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=Fl(s)})),query:function(e){return n=>new Promise(((s,i)=>{s=Ca(s);const{trans:o,values:a,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:d,range:h}=c,f=o.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=r(h);if(0===l)return s({result:[]});if(e){const e=a?p.getAll(m,u):p.getAllKeys(m,u);e.onsuccess=e=>s({result:e.target.result}),e.onerror=Fl(i)}else{let e=0;const t=a||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===l?s({result:n}):void i.continue()):s({result:n})},t.onerror=Fl(i)}}))}(i),openCursor:function({trans:e,values:n,query:s,reverse:i,unique:o}){return new Promise(((a,l)=>{a=Ca(a);const{index:c,range:u}=s,d=e.objectStore(t),h=c.isPrimaryKey?d:d.index(c.name),f=i?o?"prevunique":"prev":o?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(r(u),f):h.openKeyCursor(r(u),f);p.onerror=Fl(l),p.onsuccess=Ca((t=>{const n=p.result;if(!n)return void a(null);n.___id=++Yl,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Ca(l),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Ca(e),p.onerror=Fl(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=Ca((e=>{p.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=i,a(),t},a(n)}),l)}))},count({query:e,trans:n}){const{index:s,range:i}=e;return new Promise(((e,o)=>{const a=n.objectStore(t),l=s.isPrimaryKey?a:a.index(s.name),c=r(i),u=c?l.count(c):l.count();u.onsuccess=Ca((t=>e(t.target.result))),u.onerror=Fl(o)}))}}}(e))),a={};return o.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:$l(t),schema:s}}function Jl({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Zl(t,n,s),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function ec({_novip:e},t,n,r){n.forEach((n=>{const s=r[n];t.forEach((t=>{const r=Xi(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Gi(t,n,{get(){return this.table(n)},set(e){qi(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function tc({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function nc(e,t){return e._cfg.version-t._cfg.version}function rc(e,t,n,r){const s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(n),i._completion.catch(r);const o=i._reject.bind(i),a=ua.transless||ua;Da((()=>{ua.trans=i,ua.transless=a,0===t?(Fi(s).forEach((e=>{ic(n,e,s[e].primKey,s[e].indexes)})),Jl(e,n),pa.follow((()=>e.on.populate.fire(i))).catch(o)):function({_novip:e},t,n,r){const s=[],i=e._versions;let o=e._dbSchema=ac(e,e.idbdb,r),a=!1;function l(){return s.length?pa.resolve(s.shift()(n.idbtrans)).then(l):pa.resolve()}return i.filter((e=>e._cfg.version>=t)).forEach((i=>{s.push((()=>{const s=o,l=i._cfg.dbschema;lc(e,s,r),lc(e,l,r),o=e._dbSchema=l;const c=sc(s,l);c.add.forEach((e=>{ic(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Io.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>oc(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),oc(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=i._cfg.contentUpgrade;if(u&&i._cfg.version>t){Jl(e,r),n._memoizedTables={},a=!0;let t=so(l);c.del.forEach((e=>{t[e]=s[e]})),tc(e,[e.Transaction.prototype]),ec(e,[e.Transaction.prototype],Fi(t),t),n.schema=t;const i=bo(u);let o;i&&Ua();const d=pa.follow((()=>{if(o=u(n),o&&i){var e=Fa.bind(null,null);o.then(e,e)}}));return o&&"function"==typeof o.then?pa.resolve(o):d.then((()=>o))}})),s.push((t=>{if(!a||!il){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(i._cfg.dbschema,t)}tc(e,[e.Transaction.prototype]),ec(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),l().then((()=>{var e,t;t=r,Fi(e=o).forEach((n=>{t.db.objectStoreNames.contains(n)||ic(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(o)}))}function sc(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!sl)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],s=r[o];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function ic(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>oc(s,e))),s}function oc(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ac(e,t,n){const r={};return Qi(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const i=Wl(ql(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=Wl(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(a)}r[e]=Gl(e,i,o)})),r}function lc({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(let e=0;e<o.indexNames.length;++e){const n=o.indexNames[e],r=o.index(n).keyPath,s="string"==typeof r?r:"["+Qi(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[s];e&&(e.name=n,delete t[i].idxByName[s],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ui.WorkerGlobalScope&&Ui instanceof Ui.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class cc{_parseStoresSpec(e,t){Fi(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Wl(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ji(r),0===t)})),s=r.shift();if(s.multi)throw new Io.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Io.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Io.Schema("Index must have a name and cannot be an empty string")})),t[n]=Gl(n,s,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Ni(this._cfg.storesSource,e):e;const n=t._versions,r={};let s={};return n.forEach((e=>{Ni(r,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(r,s)})),t._dbSchema=s,tc(t,[t._allTables,t,t.Transaction.prototype]),ec(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Fi(s),s),t._storeNames=Fi(s),this}upgrade(e){return this._cfg.contentUpgrade=Go(this._cfg.contentUpgrade||Fo,e),this}}function uc(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Mc(ll,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function dc(e){return e&&"function"==typeof e.databases}function hc(e){return Da((function(){return ua.letThrough=!0,e()}))}function fc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function pc(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?Ya(t.dbOpenError):e));wo&&(t.openCanceller._stackHolder=To()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Io.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,a=!1;return pa.race([r,("undefined"==typeof navigator?pa.resolve():fc()).then((()=>new pa(((r,i)=>{if(s(),!n)throw new Io.MissingAPI;const l=e.name,c=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!c)throw new Io.MissingAPI;c.onerror=Fl(i),c.onblocked=Ca(e._fireOnBlocked),c.onupgradeneeded=Ca((r=>{if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=jl,o.abort(),c.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=Ca((()=>{i(new Io.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{o.onerror=Fl(i);var s=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;a=s<1,e._novip.idbdb=c.result,rc(e,s/10,o,i)}}),i),c.onsuccess=Ca((()=>{o=null;const n=e._novip.idbdb=c.result,s=Qi(n.objectStoreNames);if(s.length>0)try{const r=n.transaction(1===(i=s).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=ac(0,t,n);e._storeNames=Qi(t.objectStoreNames,0),ec(e,[e._allTables],Fi(r),r)}(e,n,r):(lc(e,e._dbSchema,r),function(e,t){const n=sc(ac(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Jl(e,r)}catch(e){}var i;rl.push(e),n.onversionchange=Ca((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Ca((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!dc(e)&&n!==ll&&uc(e,t).put({name:n}).catch(Fo)}(e._deps,l),r()}),i)}))))]).then((()=>(s(),t.onReadyBeingFired=[],pa.resolve(hc((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Go,Fo);return t.onReadyBeingFired=[],pa.resolve(hc((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{o&&o.abort()}catch(e){}return r===t.openCanceller&&e._close(),Ya(n)})).finally((()=>{t.openComplete=!0,i()}))}function mc(e){var t=t=>e.next(t),n=s(t),r=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),i=s.value;return s.done?i:i&&"function"==typeof i.then?i.then(n,r):ji(i)?Promise.all(i).then(n,r):n(i)}}return s(t)()}function gc(e,t,n){var r=arguments.length;if(r<2)throw new Io.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=oo(s);return[e,i,n]}function yc(e,t,n,r,s){return pa.resolve().then((()=>{const i=ua.transless||ua,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Bo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>yc(e,t,n,null,s)))):Ya(r)}const l=bo(s);let c;l&&Ua();const u=pa.follow((()=>{if(c=s.call(o,o),c)if(l){var e=Fa.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=mc(c))}),a);return(c&&"function"==typeof c.then?pa.resolve(c).then((e=>o.active?e:Ya(new Io.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),Ya(e))))}))}function vc(e,t,n){const r=ji(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(e,t,n){const r=Ql(e),a=s[r]=s[r]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...n,isVirtual:c,keyTail:t,keyLength:l,extractKey:Hl(e),unique:!c&&n.unique};if(a.push(u),u.isPrimaryKey||i.push(u),l>1){o(2===l?e[0]:e.slice(0,l-1),t+1,n)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),u}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const e of r.indexes)o(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:vc(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:vc(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const c={...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[Ql(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:i}=t.query.index;if(!s)return n.openCursor(t);return n.openCursor(l(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(vc(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(vc(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return s}(n)))}};return c}}}};function wc(e,t,n,r){return n=n||{},r=r||"",Fi(e).forEach((s=>{if(zi(t,s)){var i=e[s],o=t[s];if("object"==typeof i&&"object"==typeof o&&i&&o){const e=po(i);e!==po(o)?n[r+s]=t[s]:"Object"===e?wc(i,o,n,r+s+"."):i!==o&&(n[r+s]=t[s])}else i!==o&&(n[r+s]=t[s])}else n[r+s]=void 0})),Fi(t).forEach((s=>{zi(e,s)||(n[r+s]=t[s])})),n}const _c={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=ua.trans,{deleting:i,creating:o,updating:a}=s.table(t).hook;switch(e.type){case"add":if(o.fire===Fo)break;return s._promise("readwrite",(()=>l(e)),!0);case"put":if(o.fire===Fo&&a.fire===Fo)break;return s._promise("readwrite",(()=>l(e)),!0);case"delete":if(i.fire===Fo)break;return s._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(i.fire===Fo)break;return s._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=ua.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,s).then((l=>{const c=s.map(((n,s)=>{const c=l[s],u={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(u,n,c,t);else if("add"===e.type||void 0===c){const i=o.fire.call(u,n,e.values[s],t);null==n&&null!=i&&(n=i,e.keys[s]=n,r.outbound||ro(e.values[s],r.keyPath,n))}else{const r=wc(c,e.values[s]),i=a.fire.call(u,r,n,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{zi(t,e)?t[e]=i[e]:ro(t,e,i[e])}))}}return u}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<s.length;++r){const i=n?n[r]:s[r],o=c[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess("put"===e.type&&l[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>l({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function xc(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===Tl(t.keys[s],e[i])&&(r.push(n?uo(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch(e){return null}}const Ec={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=xc(e.keys,e.trans._cache,"clone"===e.cache);return t?pa.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?uo(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Tc(e){return!("from"in e)}const Sc=function(e,t){if(!this){const t=new Sc;return e&&"d"in e&&Ni(t,e),t}Ni(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function kc(e,t,n){const r=Tl(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Tc(e))return Ni(e,{from:t,to:n,d:1});const s=e.l,i=e.r;if(Tl(n,e.from)<0)return s?kc(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Cc(e);if(Tl(t,e.to)>0)return i?kc(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Cc(e);Tl(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Tl(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;s&&!e.l&&Rc(e,s),i&&o&&Rc(e,i)}function Rc(e,t){Tc(t)||function e(t,{from:n,to:r,l:s,r:i}){kc(t,n,r),s&&e(t,s),i&&e(t,i)}(e,t)}function Ac(e){let t=Tc(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Tl(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Tl(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Cc(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const t="r"===s?"l":"r",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=Pc(n)}e.d=Pc(e)}function Pc({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Wi(Sc.prototype,{add(e){return Rc(this,e),this},addKey(e){return kc(this,e,e),this},addKeys(e){return e.forEach((e=>kc(this,e,e))),this},[mo](){return Ac(this)}});const Oc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Sc(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:l}=o,c={...s,mutate:e=>{const o=e.trans,a=o.mutatedParts||(o.mutatedParts={}),l=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new Sc)},c=l(""),u=l(":dels"),{type:d}=e;let[h,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return s.mutate(e).then((e=>{if(ji(h)){"delete"!==d&&(h=e.results),c.addKeys(h);const t=xc(h,p);t||"add"===d||u.addKeys(h),(t||f)&&function(e,t,n,r){function s(t){const s=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const o=e=>t.multiEntry&&ji(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(n||r).forEach(((e,t)=>{const s=n&&i(n[t]),a=r&&i(r[t]);0!==Tl(s,a)&&(null!=s&&o(s),null!=a&&o(a))}))}t.indexes.forEach(s)}(l,i,t,f)}else if(h){const e={from:h.lower,to:h.upper};u.add(e),c.add(e)}else c.add(n),u.add(n),i.indexes.forEach((e=>l(e.name).add(n)));return e}))}},u=({query:{index:t,range:n}})=>{var r,s;return[t,new Sc(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},d={get:e=>[o,new Sc(e.key)],getMany:e=>[o,(new Sc).addKeys(e.keys)],count:u,query:u,openCursor:u};return Fi(d).forEach((e=>{c[e]=function(i){const{subscr:o}=ua;if(o){const c=e=>{const n=`idb://${t}/${r}/${e}`;return o[n]||(o[n]=new Sc)},u=c(""),h=c(":dels"),[f,p]=d[e](i);if(c(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&s.query({...i,values:!1});return s[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(u.addKeys(e),n)));const e=i.values?n.result.map(a):n.result;i.values?u.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return s[e].apply(this,arguments)}})),c}}}};class Mc{constructor(e,t){this._middlewares={},this.verno=0;const n=Mc.dependencies;this._options=t={addons:Mc.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fo,dbReadyPromise:null,cancelOpen:Fo,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new pa((e=>{s.dbReadyResolve=e})),s.openCanceller=new pa(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=ml(this,"populate","blocked","versionchange","close",{ready:[Go,Fo]}),this.on.ready.subscribe=Zi(this.on.ready.subscribe,(e=>(t,n)=>{Mc.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||pa.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,gl(Rl.prototype,(function(e,t){this.db=i;let n=hl,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==jo?a:null}}))),this.Table=function(e){return gl(pl.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:ml(null,{creating:[Ko,Fo],reading:[No,jo],updating:[Wo,Fo],deleting:[zo,Fo]})}))}(this),this.Transaction=function(e){return gl(zl.prototype,(function(t,n,r,s,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=ml(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new pa(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),Ya(e)}))}))}(this),this.Version=function(e){return gl(cc.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return gl(Ul.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new Io.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=$l(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),rl.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(bc),this.use(_c),this.use(Oc),this.use(Ec),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Io.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Io.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(nc),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||ua.letThrough||this._vip)?e():new pa(((e,t)=>{if(this._state.openComplete)return t(new Io.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Io.DatabaseClosed);this.open().catch(Fo)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return pc(this)}_close(){const e=this._state,t=rl.indexOf(this);if(t>=0&&rl.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new pa((t=>{e.dbReadyResolve=t})),e.openCanceller=new pa(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Io.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new pa(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ca((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!dc(e)&&n!==ll&&uc(e,t).delete(n).catch(Fo)}(this._deps,this.name),n()})),e.onerror=Fl(r),e.onblocked=this._fireOnBlocked};if(e)throw new Io.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Fi(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=gc.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=ua.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const s=-1!==e.indexOf("?");let i,o;e=e.replace("!","").replace("?","");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===cl)i=cl;else{if("rw"!=e&&e!=ul)throw new Io.InvalidArgument("Invalid transaction mode: "+e);i=ul}if(r){if(r.mode===cl&&i===ul){if(!s)throw new Io.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new Io.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):Ya(e)}const a=yc.bind(null,this,i,o,r,n);return r?r._promise(i,a,"lock"):ua.trans?Wa(ua.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!zi(this._allTables,e))throw new Io.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Bc="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Lc{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Bc](){return this}}function Ic(e,t){return Fi(t).forEach((n=>{Rc(e[n]||(e[n]=new Sc),t[n])})),e}let Dc;try{Dc={indexedDB:Ui.indexedDB||Ui.mozIndexedDB||Ui.webkitIndexedDB||Ui.msIndexedDB,IDBKeyRange:Ui.IDBKeyRange||Ui.webkitIDBKeyRange}}catch(e){Dc={indexedDB:null,IDBKeyRange:null}}const Uc=Mc;function Fc(e){let t=jc;try{jc=!0,Kl.storagemutated.fire(e)}finally{jc=t}}Wi(Uc,{...Uo,delete:e=>new Uc(e,{addons:[]}).delete(),exists:e=>new Uc(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return dc(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==ll)))):uc(e,t).toCollection().primaryKeys()}(Uc.dependencies).then(e)}catch(e){return Ya(new Io.MissingAPI)}},defineClass:()=>function(e){Ni(this,e)},ignoreTransaction:e=>ua.trans?Wa(ua.transless,e):e(),vip:hc,async:function(e){return function(){try{var t=mc(e.apply(this,arguments));return t&&"function"==typeof t.then?t:pa.resolve(t)}catch(e){return Ya(e)}}},spawn:function(e,t,n){try{var r=mc(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:pa.resolve(r)}catch(e){return Ya(e)}},currentTransaction:{get:()=>ua.trans||null},waitFor:function(e,t){const n=pa.resolve("function"==typeof e?Uc.ignoreTransaction(e):e).timeout(t||6e4);return ua.trans?ua.trans.waitFor(n):n},Promise:pa,debug:{get:()=>wo,set:e=>{_o(e,"dexie"===e?()=>!0:al)}},derive:$i,extend:Ni,props:Wi,override:Zi,Events:ml,on:Kl,liveQuery:function(e){return new Lc((t=>{const n=bo(e);let r=!1,s={},i={};const o={get closed(){return r},unsubscribe:()=>{r=!0,Kl.storagemutated.unsubscribe(u)}};t.start&&t.start(o);let a=!1,l=!1;function c(){return Fi(i).some((e=>s[e]&&function(e,t){const n=Ac(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Ac(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(Tl(a.from,s.to)<=0&&Tl(a.to,s.from)>=0)return!0;Tl(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}(s[e],i[e])))}const u=e=>{Ic(s,e),c()&&d()},d=()=>{if(a||r)return;s={};const h={},f=function(t){n&&Ua();const r=()=>Da(e,{subscr:t,trans:null}),s=ua.trans?Wa(ua.transless,r):r();return n&&s.then(Fa,Fa),s}(h);l||(Kl(Nl,u),l=!0),a=!0,Promise.resolve(f).then((e=>{a=!1,r||(c()?d():(s={},i=h,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),o.unsubscribe()}))};return d(),o}))},extendObservabilitySet:Ic,getByKeyPath:no,setByKeyPath:ro,delByKeyPath:function(e,t){"string"==typeof t?ro(e,t,void 0):"length"in t&&[].map.call(t,(function(t){ro(e,t,void 0)}))},shallowClone:so,deepClone:uo,getObjectDiff:wc,cmp:Tl,asap:eo,minKey:el,addons:[],connections:rl,errnames:Bo,dependencies:Dc,semVer:Za,version:Za.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Uc.maxKey=$l(Uc.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Kl(Nl,(e=>{if(!jc){let t;sl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Vl,!0,!0,e)):t=new CustomEvent(Vl,{detail:e}),jc=!0,dispatchEvent(t),jc=!1}})),addEventListener(Vl,(({detail:e})=>{jc||Fc(e)})));let jc=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Vl);Kl(Nl,(t=>{jc||e.postMessage(t)})),e.onmessage=e=>{e.data&&Fc(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Kl(Nl,(e=>{try{jc||("undefined"!=typeof localStorage&&localStorage.setItem(Vl,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Vl,changedParts:e}))))}catch(e){}})),addEventListener("storage",(e=>{if(e.key===Vl){const t=JSON.parse(e.newValue);t&&Fc(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===Vl&&Fc(e.changedParts)}))}pa.rejectionMapper=function(e,t){if(!e||e instanceof Co||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Do[e.name])return e;var n=new Do[e.name](t||e.message,e);return"stack"in e&&Gi(n,"stack",{get:function(){return this.inner.stack}}),n},_o(wo,al);var Nc=new Blob(['(() => {\n  var __create = Object.create;\n  var __defProp = Object.defineProperty;\n  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n  var __getOwnPropNames = Object.getOwnPropertyNames;\n  var __getProtoOf = Object.getPrototypeOf;\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\n  var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });\n  var __commonJS = (cb, mod) => function __require() {\n    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n  };\n  var __reExport = (target, module, copyDefault, desc) => {\n    if (module && typeof module === "object" || typeof module === "function") {\n      for (let key of __getOwnPropNames(module))\n        if (!__hasOwnProp.call(target, key) && (copyDefault || key !== "default"))\n          __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });\n    }\n    return target;\n  };\n  var __toESM = (module, isNodeMode) => {\n    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", !isNodeMode && module && module.__esModule ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);\n  };\n\n  // (disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node\n  var require_require_utils = __commonJS({\n    "(disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node"() {\n    }\n  });\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/utils/version.js\n  var VERSION = true ? "3.1.4" : "latest";\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message || "loaders.gl assertion failed.");\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js\n  var globals = {\n    self: typeof self !== "undefined" && self,\n    window: typeof window !== "undefined" && window,\n    global: typeof global !== "undefined" && global,\n    document: typeof document !== "undefined" && document\n  };\n  var self_ = globals.self || globals.window || globals.global || {};\n  var window_ = globals.window || globals.self || globals.global || {};\n  var global_ = globals.global || globals.self || globals.window || {};\n  var document_ = globals.document || {};\n  var isBrowser = typeof process !== "object" || String(process) !== "[object process]" || process.browser;\n  var isWorker = typeof importScripts === "function";\n  var isMobile = typeof window !== "undefined" && typeof window.orientation !== "undefined";\n  var matches = typeof process !== "undefined" && process.version && /v([0-9]*)/.exec(process.version);\n  var nodeVersion = matches && parseFloat(matches[1]) || 0;\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js\n  var node = __toESM(require_require_utils());\n  var VERSION2 = true ? "3.1.4" : LATEST;\n  var loadLibraryPromises = {};\n  async function loadLibrary(libraryUrl, moduleName = null, options = {}) {\n    if (moduleName) {\n      libraryUrl = getLibraryUrl(libraryUrl, moduleName, options);\n    }\n    loadLibraryPromises[libraryUrl] = loadLibraryPromises[libraryUrl] || loadLibraryFromFile(libraryUrl);\n    return await loadLibraryPromises[libraryUrl];\n  }\n  function getLibraryUrl(library, moduleName, options) {\n    if (library.startsWith("http")) {\n      return library;\n    }\n    const modules = options.modules || {};\n    if (modules[library]) {\n      return modules[library];\n    }\n    if (!isBrowser) {\n      return "modules/".concat(moduleName, "/dist/libs/").concat(library);\n    }\n    if (options.CDN) {\n      assert(options.CDN.startsWith("http"));\n      return "".concat(options.CDN, "/").concat(moduleName, "@").concat(VERSION2, "/dist/libs/").concat(library);\n    }\n    if (isWorker) {\n      return "../src/libs/".concat(library);\n    }\n    return "modules/".concat(moduleName, "/src/libs/").concat(library);\n  }\n  async function loadLibraryFromFile(libraryUrl) {\n    if (libraryUrl.endsWith("wasm")) {\n      const response2 = await fetch(libraryUrl);\n      return await response2.arrayBuffer();\n    }\n    if (!isBrowser) {\n      try {\n        return node && node.requireFromFile && await node.requireFromFile(libraryUrl);\n      } catch {\n        return null;\n      }\n    }\n    if (isWorker) {\n      return importScripts(libraryUrl);\n    }\n    const response = await fetch(libraryUrl);\n    const scriptSource = await response.text();\n    return loadLibraryFromString(scriptSource, libraryUrl);\n  }\n  function loadLibraryFromString(scriptSource, id) {\n    if (!isBrowser) {\n      return node.requireFromString && node.requireFromString(scriptSource, id);\n    }\n    if (isWorker) {\n      eval.call(global_, scriptSource);\n      return null;\n    }\n    const script = document.createElement("script");\n    script.id = id;\n    try {\n      script.appendChild(document.createTextNode(scriptSource));\n    } catch (e) {\n      script.text = scriptSource;\n    }\n    document.body.appendChild(script);\n    return null;\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/parsers/basis-module-loader.js\n  var VERSION3 = true ? "3.1.4" : "latest";\n  var BASIS_CDN_ENCODER_WASM = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.wasm");\n  var BASIS_CDN_ENCODER_JS = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.js");\n  var loadBasisEncoderPromise;\n  async function loadBasisEncoderModule(options) {\n    const modules = options.modules || {};\n    if (modules.basisEncoder) {\n      return modules.basisEncoder;\n    }\n    loadBasisEncoderPromise = loadBasisEncoderPromise || loadBasisEncoder(options);\n    return await loadBasisEncoderPromise;\n  }\n  async function loadBasisEncoder(options) {\n    let BASIS_ENCODER = null;\n    let wasmBinary = null;\n    [BASIS_ENCODER, wasmBinary] = await Promise.all([await loadLibrary(BASIS_CDN_ENCODER_JS, "textures", options), await loadLibrary(BASIS_CDN_ENCODER_WASM, "textures", options)]);\n    BASIS_ENCODER = BASIS_ENCODER || globalThis.BASIS;\n    return await initializeBasisEncoderModule(BASIS_ENCODER, wasmBinary);\n  }\n  function initializeBasisEncoderModule(BasisEncoderModule, wasmBinary) {\n    const options = {};\n    if (wasmBinary) {\n      options.wasmBinary = wasmBinary;\n    }\n    return new Promise((resolve) => {\n      BasisEncoderModule(options).then((module) => {\n        const {\n          BasisFile,\n          KTX2File,\n          initializeBasis,\n          BasisEncoder\n        } = module;\n        initializeBasis();\n        resolve({\n          BasisFile,\n          KTX2File,\n          BasisEncoder\n        });\n      });\n    });\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/encoders/encode-ktx2-basis-texture.js\n  async function encodeKTX2BasisTexture(image, options = {}) {\n    const {\n      useSRGB = false,\n      qualityLevel = 10,\n      encodeUASTC = false,\n      mipmaps = false\n    } = options;\n    const {\n      BasisEncoder\n    } = await loadBasisEncoderModule(options);\n    const basisEncoder = new BasisEncoder();\n    try {\n      const basisFileData = new Uint8Array(image.width * image.height * 4);\n      basisEncoder.setCreateKTX2File(true);\n      basisEncoder.setKTX2UASTCSupercompression(true);\n      basisEncoder.setKTX2SRGBTransferFunc(true);\n      basisEncoder.setSliceSourceImage(0, image.data, image.width, image.height, false);\n      basisEncoder.setPerceptual(useSRGB);\n      basisEncoder.setMipSRGB(useSRGB);\n      basisEncoder.setQualityLevel(qualityLevel);\n      basisEncoder.setUASTC(encodeUASTC);\n      basisEncoder.setMipGen(mipmaps);\n      const numOutputBytes = basisEncoder.encode(basisFileData);\n      const actualKTX2FileData = basisFileData.subarray(0, numOutputBytes).buffer;\n      return actualKTX2FileData;\n    } catch (error) {\n      console.error("Basis Universal Supercompressed GPU Texture encoder Error: ", error);\n      throw error;\n    } finally {\n      basisEncoder.delete();\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/ktx2-basis-universal-texture-writer.js\n  var KTX2BasisUniversalTextureWriter = {\n    name: "Basis Universal Supercompressed GPU Texture",\n    id: "ktx2-basis-supercompressed-texture",\n    module: "textures",\n    version: VERSION,\n    extensions: ["ktx2"],\n    options: {\n      useSRGB: false,\n      qualityLevel: 10,\n      encodeUASTC: false,\n      mipmaps: false\n    },\n    encode: encodeKTX2BasisTexture\n  };\n\n  // core/textures/KTX2Worker.ts\n  var worker = self;\n  worker.onmessage = async (msg) => {\n    try {\n      const texture = await KTX2BasisUniversalTextureWriter.encode(msg.data, {\n        useSRGB: true,\n        encodeUASTC: true,\n        mipmaps: true\n      });\n      const response = { texture };\n      worker.postMessage(response, [texture]);\n    } catch (err) {\n      worker.postMessage({ error: err.message });\n    }\n  };\n})();\n'],{type:"text/javascript"}),Vc=URL.createObjectURL(Nc);function Kc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function zc(e,t){return" "+e+'="'+Kc(t)+'"'}async function Wc(e,t){let n=[];for(const r of e.childNodes)n.push(qc(r,t));return Promise.all(n).then((e=>e.join("")))}async function qc(e,t){const n=t.replacer?.(t.target,e);if("string"==typeof n)return n;if("#document"===e.nodeName||"#document-fragment"===e.nodeName)return Wc(e,t);if(e.tagName)return async function(e,t){const n=e.tagName.toLowerCase();let r="<"+n;r+=function(e,t){return e.hasAttribute("xmlns")||!t&&e.namespaceURI===e.parentElement.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'}(e,0===t.depth);const s=Wc(e,t);for(const t of e.attributes)"src"===t.name?"IMG"===e.nodeName?r+=zc(t.name,await Ai.getDataURL(t.value)):r+=zc("data-src",t.value):r+=zc(t.name,t.value);return e.childNodes.length>0?(t.depth++,r+=">",r+=await s,r+="</"+n+">",t.depth--):r+="/>",r}(e,t);if("#text"===e.nodeName)return function(e){return(e.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e);if("#comment"===e.nodeName);else if("#cdata-section"===e.nodeName)return function(e){return"<![CDATA["+e.nodeValue+"]]>"}(e);return""}const Gc=(e,t)=>{if(e===t)return;const n=t,r=n.tagName?.toLowerCase();if("style"===r||"link"===r)return"";const s=Ai.layers.get(n);if(s){const e=s.domMetrics.bounds;let t="";const r=`box-sizing:border-box;max-width:${e.width}px;max-height:${e.height}px;min-width:${e.width}px;min-height:${e.height}px;visibility:hidden`;let i=!1;for(const e of s.element.attributes)"src"!==e.name&&("style"==e.name?(t+=zc(e.name,e.value+";"+r),i=!0):t+=zc(e.name,e.value));i||(t+=zc("style",r));const o=n.tagName.toLowerCase();return`<${o} ${t}></${o}>`}};function $c(e){return Hc.test(navigator.userAgent)?`zoom:${e}; `:`transform: scale(${e}); transform-origin: top left; `}const Hc=/^((?!chrome|android).)*safari/i,Xc=new Array(255);for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");Xc[e]=t}function Yc(e){return function(e){const t=e.length;let n="";for(let r=0;r<t;++r)n+=Xc[e[r]];return n}(new Uint8Array(e))}var Qc,Zc,Jc;try{Qc=new TextDecoder}catch(e){}var eu,tu,nu,ru,su,iu=0,ou={},au=0,lu=0,cu=[],uu={useRecords:!1,mapsAsObjects:!0};class du{}const hu=new du;hu.name="MessagePack 0xC1";var fu=!1;class pu{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Zc)return Vu((()=>(Ku(),this?this.unpack(e,t):pu.prototype.unpack.call(uu,e,t))));Jc=t>-1?t:e.length,iu=0,lu=0,tu=null,nu=null,Zc=e;try{su=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(Zc=null,e instanceof Uint8Array)throw t;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof pu){if(ou=this,this.structures)return eu=this.structures,mu();(!eu||eu.length>0)&&(eu=[])}else ou=uu,(!eu||eu.length>0)&&(eu=[]);return mu()}unpackMultiple(e,t){let n,r=0;try{fu=!0;let s=e.length,i=this?this.unpack(e,s):Wu.unpack(e,s);if(!t){for(n=[i];iu<s;)r=iu,n.push(mu());return n}for(t(i);iu<s;)if(r=iu,!1===t(mu()))return}catch(e){throw e.lastPosition=r,e.values=n,e}finally{fu=!1,Ku()}}_mergeStructures(e,t){for(let t=0,n=(e=e||[]).length;t<n;t++){let n=e[t];n&&(n.isShared=!0,t>=32&&(n.highByte=t-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let r=e[n],s=t[n];s&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=s)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function mu(){try{if(!ou.trusted&&!fu){let e=eu.sharedLength||0;e<eu.length&&(eu.length=e)}let e=yu();if(nu&&(iu=nu.postBundlePosition),iu==Jc)eu.restoreStructures&&gu(),eu=null,Zc=null,ru&&(ru=null);else{if(iu>Jc){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}if(!fu)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw eu.restoreStructures&&gu(),Ku(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function gu(){for(let e in eu.restoreStructures)eu[e]=eu.restoreStructures[e];eu.restoreStructures=null}function yu(){let e=Zc[iu++];if(e<160){if(e<128){if(e<64)return e;{let t=eu[63&e]||ou.getStructures&&_u()[63&e];return t?(t.read||(t.read=bu(t,63&e)),t.read()):e}}if(e<144){if(e-=128,ou.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[Du()]=yu();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(yu(),yu());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=yu();return t}}if(e<192){let t=e-160;if(lu>=iu)return tu.slice(iu-au,(iu+=t)-au);if(0==lu&&Jc<140){let e=t<16?Ou(t):Pu(t);if(null!=e)return e}return xu(t)}{let t;switch(e){case 192:return null;case 193:return nu?(t=yu(),t>0?nu[1].slice(nu.position1,nu.position1+=t):nu[0].slice(nu.position0,nu.position0-=t)):hu;case 194:return!1;case 195:return!0;case 196:return Bu(Zc[iu++]);case 197:return t=su.getUint16(iu),iu+=2,Bu(t);case 198:return t=su.getUint32(iu),iu+=4,Bu(t);case 199:return Lu(Zc[iu++]);case 200:return t=su.getUint16(iu),iu+=2,Lu(t);case 201:return t=su.getUint32(iu),iu+=4,Lu(t);case 202:if(t=su.getFloat32(iu),ou.useFloat32>2){let e=zu[(127&Zc[iu])<<1|Zc[iu+1]>>7];return iu+=4,(e*t+(t>0?.5:-.5)>>0)/e}return iu+=4,t;case 203:return t=su.getFloat64(iu),iu+=8,t;case 204:return Zc[iu++];case 205:return t=su.getUint16(iu),iu+=2,t;case 206:return t=su.getUint32(iu),iu+=4,t;case 207:return ou.int64AsNumber?(t=4294967296*su.getUint32(iu),t+=su.getUint32(iu+4)):t=su.getBigUint64(iu),iu+=8,t;case 208:return su.getInt8(iu++);case 209:return t=su.getInt16(iu),iu+=2,t;case 210:return t=su.getInt32(iu),iu+=4,t;case 211:return ou.int64AsNumber?(t=4294967296*su.getInt32(iu),t+=su.getUint32(iu+4)):t=su.getBigInt64(iu),iu+=8,t;case 212:if(t=Zc[iu++],114==t)return Uu(63&Zc[iu++]);{let e=cu[t];if(e)return e.read?(iu++,e.read(yu())):e.noBuffer?(iu++,e()):e(Zc.subarray(iu,++iu));throw new Error("Unknown extension "+t)}case 213:return t=Zc[iu],114==t?(iu++,Uu(63&Zc[iu++],Zc[iu++])):Lu(2);case 214:return Lu(4);case 215:return Lu(8);case 216:return Lu(16);case 217:return t=Zc[iu++],lu>=iu?tu.slice(iu-au,(iu+=t)-au):Eu(t);case 218:return t=su.getUint16(iu),lu>=(iu+=2)?tu.slice(iu-au,(iu+=t)-au):Tu(t);case 219:return t=su.getUint32(iu),lu>=(iu+=4)?tu.slice(iu-au,(iu+=t)-au):Su(t);case 220:return t=su.getUint16(iu),iu+=2,Ru(t);case 221:return t=su.getUint32(iu),iu+=4,Ru(t);case 222:return t=su.getUint16(iu),iu+=2,Au(t);case 223:return t=su.getUint32(iu),iu+=4,Au(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const vu=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function bu(e,t){function n(){if(n.count++>2){let n=e.read=new Function("r","return function(){return {"+e.map((e=>vu.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}}")(yu);return 0===e.highByte&&(e.read=wu(t,e.read)),n()}let r={};for(let t=0,n=e.length;t<n;t++){r[e[t]]=yu()}return r}return n.count=0,0===e.highByte?wu(t,n):n}const wu=(e,t)=>function(){let n=Zc[iu++];if(0===n)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),s=eu[r]||_u()[r];if(!s)throw new Error("Record id is not defined for "+r);return s.read||(s.read=bu(s,e)),s.read()};function _u(){let e=Vu((()=>(Zc=null,ou.getStructures())));return eu=ou._mergeStructures(e,eu)}var xu=ku,Eu=ku,Tu=ku,Su=ku;function ku(e){let t;if(e<16&&(t=Ou(e)))return t;if(e>64&&Qc)return Qc.decode(Zc.subarray(iu,iu+=e));const n=iu+e,r=[];for(t="";iu<n;){const e=Zc[iu++];if(0==(128&e))r.push(e);else if(192==(224&e)){const t=63&Zc[iu++];r.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&Zc[iu++],n=63&Zc[iu++];r.push((31&e)<<12|t<<6|n)}else if(240==(248&e)){let t=(7&e)<<18|(63&Zc[iu++])<<12|(63&Zc[iu++])<<6|63&Zc[iu++];t>65535&&(t-=65536,r.push(t>>>10&1023|55296),t=56320|1023&t),r.push(t)}else r.push(e);r.length>=4096&&(t+=Cu.apply(String,r),r.length=0)}return r.length>0&&(t+=Cu.apply(String,r)),t}function Ru(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=yu();return t}function Au(e){if(ou.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[Du()]=yu();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(yu(),yu());return t}}var Cu=String.fromCharCode;function Pu(e){let t=iu,n=new Array(e);for(let r=0;r<e;r++){const e=Zc[iu++];if((128&e)>0)return void(iu=t);n[r]=e}return Cu.apply(String,n)}function Ou(e){if(e<4){if(e<2){if(0===e)return"";{let e=Zc[iu++];return(128&e)>1?void(iu-=1):Cu(e)}}{let t=Zc[iu++],n=Zc[iu++];if((128&t)>0||(128&n)>0)return void(iu-=2);if(e<3)return Cu(t,n);let r=Zc[iu++];return(128&r)>0?void(iu-=3):Cu(t,n,r)}}{let t=Zc[iu++],n=Zc[iu++],r=Zc[iu++],s=Zc[iu++];if((128&t)>0||(128&n)>0||(128&r)>0||(128&s)>0)return void(iu-=4);if(e<6){if(4===e)return Cu(t,n,r,s);{let e=Zc[iu++];return(128&e)>0?void(iu-=5):Cu(t,n,r,s,e)}}if(e<8){let i=Zc[iu++],o=Zc[iu++];if((128&i)>0||(128&o)>0)return void(iu-=6);if(e<7)return Cu(t,n,r,s,i,o);let a=Zc[iu++];return(128&a)>0?void(iu-=7):Cu(t,n,r,s,i,o,a)}{let i=Zc[iu++],o=Zc[iu++],a=Zc[iu++],l=Zc[iu++];if((128&i)>0||(128&o)>0||(128&a)>0||(128&l)>0)return void(iu-=8);if(e<10){if(8===e)return Cu(t,n,r,s,i,o,a,l);{let e=Zc[iu++];return(128&e)>0?void(iu-=9):Cu(t,n,r,s,i,o,a,l,e)}}if(e<12){let c=Zc[iu++],u=Zc[iu++];if((128&c)>0||(128&u)>0)return void(iu-=10);if(e<11)return Cu(t,n,r,s,i,o,a,l,c,u);let d=Zc[iu++];return(128&d)>0?void(iu-=11):Cu(t,n,r,s,i,o,a,l,c,u,d)}{let c=Zc[iu++],u=Zc[iu++],d=Zc[iu++],h=Zc[iu++];if((128&c)>0||(128&u)>0||(128&d)>0||(128&h)>0)return void(iu-=12);if(e<14){if(12===e)return Cu(t,n,r,s,i,o,a,l,c,u,d,h);{let e=Zc[iu++];return(128&e)>0?void(iu-=13):Cu(t,n,r,s,i,o,a,l,c,u,d,h,e)}}{let f=Zc[iu++],p=Zc[iu++];if((128&f)>0||(128&p)>0)return void(iu-=14);if(e<15)return Cu(t,n,r,s,i,o,a,l,c,u,d,h,f,p);let m=Zc[iu++];return(128&m)>0?void(iu-=15):Cu(t,n,r,s,i,o,a,l,c,u,d,h,f,p,m)}}}}}function Mu(){let e,t=Zc[iu++];if(t<192)e=t-160;else switch(t){case 217:e=Zc[iu++];break;case 218:e=su.getUint16(iu),iu+=2;break;case 219:e=su.getUint32(iu),iu+=4;break;default:throw new Error("Expected string")}return ku(e)}function Bu(e){return ou.copyBuffers?Uint8Array.prototype.slice.call(Zc,iu,iu+=e):Zc.subarray(iu,iu+=e)}function Lu(e){let t=Zc[iu++];if(cu[t])return cu[t](Zc.subarray(iu,iu+=e));throw new Error("Unknown extension type "+t)}var Iu=new Array(4096);function Du(){let e=Zc[iu++];if(!(e>=160&&e<192))return iu--,yu();if(e-=160,lu>=iu)return tu.slice(iu-au,(iu+=e)-au);if(!(0==lu&&Jc<180))return xu(e);let t,n=4095&(e<<5^(e>1?su.getUint16(iu):e>0?Zc[iu]:0)),r=Iu[n],s=iu,i=iu+e-3,o=0;if(r&&r.bytes==e){for(;s<i;){if(t=su.getUint32(s),t!=r[o++]){s=1879048192;break}s+=4}for(i+=3;s<i;)if(t=Zc[s++],t!=r[o++]){s=1879048192;break}if(s===i)return iu=s,r.string;i-=3,s=iu}for(r=[],Iu[n]=r,r.bytes=e;s<i;)t=su.getUint32(s),r.push(t),s+=4;for(i+=3;s<i;)t=Zc[s++],r.push(t);let a=e<16?Ou(e):Pu(e);return r.string=null!=a?a:xu(e)}const Uu=(e,t)=>{var n=yu();let r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let s=eu[e];return s&&s.isShared&&((eu.restoreStructures||(eu.restoreStructures=[]))[e]=s),eu[e]=n,n.read=bu(n,r),n.read()};var Fu="object"==typeof self?self:global;cu[0]=()=>{},cu[0].noBuffer=!0,cu[101]=()=>{let e=yu();return(Fu[e[0]]||Error)(e[1])},cu[105]=e=>{let t=su.getUint32(iu-4);ru||(ru=new Map);let n,r=Zc[iu];n=r>=144&&r<160||220==r||221==r?[]:{};let s={target:n};ru.set(t,s);let i=yu();return s.used?Object.assign(n,i):(s.target=i,i)},cu[112]=e=>{let t=su.getUint32(iu-4),n=ru.get(t);return n.used=!0,n.target},cu[115]=()=>new Set(yu());const ju=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));cu[116]=e=>{let t=e[0],n=ju[t];if(!n)throw new Error("Could not find typed array for code "+t);return new Fu[n](Uint8Array.prototype.slice.call(e,1).buffer)},cu[120]=()=>{let e=yu();return new RegExp(e[0],e[1])};const Nu=[];function Vu(e){let t=Jc,n=iu,r=au,s=lu,i=tu,o=ru,a=nu,l=new Uint8Array(Zc.slice(0,Jc)),c=eu,u=eu.slice(0,eu.length),d=ou,h=fu,f=e();return Jc=t,iu=n,au=r,lu=s,tu=i,ru=o,nu=a,Zc=l,fu=h,(eu=c).splice(0,eu.length,...u),ou=d,su=new DataView(Zc.buffer,Zc.byteOffset,Zc.byteLength),f}function Ku(){Zc=null,ru=null,eu=null}cu[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=iu;return iu+=t-e.length,nu=Nu,(nu=[Mu(),Mu()]).position0=0,nu.position1=0,nu.postBundlePosition=iu,iu=n,yu()},cu[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const zu=new Array(147);for(let e=0;e<256;e++)zu[e]=+("1e"+Math.floor(45.15-.30103*e));var Wu=new pu({useRecords:!1});Wu.unpack,Wu.unpackMultiple,Wu.unpack;let qu,Gu,$u,Hu=new Float32Array(1);new Uint8Array(Hu.buffer,0,4);try{qu=new TextEncoder}catch(e){}const Xu="undefined"!=typeof Buffer,Yu=Xu?Buffer.allocUnsafeSlow:Uint8Array,Qu=Xu?Buffer:Uint8Array,Zu=Xu?4294967296:2144337920;let Ju,ed,td,nd,rd=0,sd=null;const id=/[\u0080-\uFFFF]/,od=Symbol("record-id");class ad extends pu{constructor(e){let t,n,r,s;super(e),this.offset=0;let i=0,o=Qu.prototype.utf8Write?function(e,t,n){return Ju.utf8Write(e,t,n)}:!(!qu||!qu.encodeInto)&&function(e,t){return qu.encodeInto(e,Ju.subarray(t)).written},a=this;e||(e={});let l=e&&e.sequential,c=e.structures||e.saveStructures,u=e.maxSharedStructures;if(null==u&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");let d=e.maxOwnStructures;null==d&&(d=c?32:64),this.structures||0==e.useRecords||(this.structures=[]);let h=u>32||d+u>64,f=u+64,p=u+d+64;if(p>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],g=0,y=0;this.pack=this.encode=function(e,o){if(Ju||(Ju=new Yu(8192),td=new DataView(Ju.buffer,0,8192),rd=0),nd=Ju.length-10,nd-rd<2048?(Ju=new Yu(Ju.length),td=new DataView(Ju.buffer,0,Ju.length),nd=Ju.length-10,rd=0):rd=rd+7&2147483640,t=rd,s=a.structuredClone?new Map:null,a.bundleStrings&&"string"!=typeof e?(sd=[],sd.size=1/0):sd=null,r=a.structures,r){r.uninitialized&&(r=a._mergeStructures(a.getStructures()));let e=r.sharedLength||0;if(e>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let t=0;t<e;t++){let e=r[t];if(!e)continue;let n,s=r.transitions;for(let t=0,r=e.length;t<r;t++){let r=e[t];n=s[r],n||(n=s[r]=Object.create(null)),s=n}s[od]=t+64}i=e}l||(r.nextId=e+64)}n&&(n=!1);try{if(v(e),sd&&dd(t,v),a.offset=rd,s&&s.idsToInsert){rd+=6*s.idsToInsert.length,rd>nd&&w(rd),a.offset=rd;let e=function(e,t){let n,r=6*t.length,s=e.length-r;t.sort(((e,t)=>e.offset>t.offset?1:-1));for(;n=t.pop();){let t=n.offset,i=n.id;e.copyWithin(t+r,t,s),r-=6;let o=t+r;e[o++]=214,e[o++]=105,e[o++]=i>>24,e[o++]=i>>16&255,e[o++]=i>>8&255,e[o++]=255&i,s=t}return e}(Ju.subarray(t,rd),s.idsToInsert);return s=null,e}return o&fd?(Ju.start=t,Ju.end=rd,Ju):Ju.subarray(t,rd)}finally{if(r){y<10&&y++;let s=r.sharedLength||u;if(r.length>s&&(r.length=s),g>1e4)r.transitions=null,y=0,g=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let e=0,t=m.length;e<t;e++)m[e][od]=0;m=[]}if(n&&a.saveStructures){let n=Ju.subarray(t,rd);return!1===a.saveStructures(r,i)?(a._mergeStructures(a.getStructures()),a.pack(e)):(i=s,n)}}o&pd&&(rd=t)}};const v=e=>{rd>nd&&(Ju=w(rd));var n,r=typeof e;if("string"===r){let r,s=e.length;if(sd&&s>=4&&s<4096){if((sd.size+=s)>61440){let e,n=(sd[0]?3*sd[0].length+sd[1].length:0)+10;rd+n>nd&&(Ju=w(rd+n)),sd.position?(Ju[rd]=200,rd+=3,Ju[rd++]=98,e=rd-t,rd+=4,dd(t,v),td.setUint16(e+t-3,rd-t-e)):(Ju[rd++]=214,Ju[rd++]=98,e=rd-t,rd+=4),sd=["",""],sd.size=0,sd.position=e}let n=id.test(e);return sd[n?0:1]+=e,Ju[rd++]=193,void v(n?-s:s)}r=s<32?1:s<256?2:s<65536?3:5;let i=3*s;if(rd+i>nd&&(Ju=w(rd+i)),s<64||!o){let t,i,o,a=rd+r;for(t=0;t<s;t++)i=e.charCodeAt(t),i<128?Ju[a++]=i:i<2048?(Ju[a++]=i>>6|192,Ju[a++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(t+1)))?(i=65536+((1023&i)<<10)+(1023&o),t++,Ju[a++]=i>>18|240,Ju[a++]=i>>12&63|128,Ju[a++]=i>>6&63|128,Ju[a++]=63&i|128):(Ju[a++]=i>>12|224,Ju[a++]=i>>6&63|128,Ju[a++]=63&i|128);n=a-rd-r}else n=o(e,rd+r,i);n<32?Ju[rd++]=160|n:n<256?(r<2&&Ju.copyWithin(rd+2,rd+1,rd+1+n),Ju[rd++]=217,Ju[rd++]=n):n<65536?(r<3&&Ju.copyWithin(rd+3,rd+2,rd+2+n),Ju[rd++]=218,Ju[rd++]=n>>8,Ju[rd++]=255&n):(r<5&&Ju.copyWithin(rd+5,rd+3,rd+3+n),Ju[rd++]=219,td.setUint32(rd,n),rd+=4),rd+=n}else if("number"===r)if(e>>>0===e)e<64?Ju[rd++]=e:e<256?(Ju[rd++]=204,Ju[rd++]=e):e<65536?(Ju[rd++]=205,Ju[rd++]=e>>8,Ju[rd++]=255&e):(Ju[rd++]=206,td.setUint32(rd,e),rd+=4);else if(e>>0===e)e>=-32?Ju[rd++]=256+e:e>=-128?(Ju[rd++]=208,Ju[rd++]=e+256):e>=-32768?(Ju[rd++]=209,td.setInt16(rd,e),rd+=2):(Ju[rd++]=210,td.setInt32(rd,e),rd+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let n;if(Ju[rd++]=202,td.setFloat32(rd,e),t<4||(n=e*zu[(127&Ju[rd])<<1|Ju[rd+1]>>7])>>0===n)return void(rd+=4);rd--}Ju[rd++]=203,td.setFloat64(rd,e),rd+=8}else if("object"===r)if(e){if(s){let n=s.get(e);if(n){if(!n.id){let e=s.idsToInsert||(s.idsToInsert=[]);n.id=e.push(n)}return Ju[rd++]=214,Ju[rd++]=112,td.setUint32(rd,n.id),void(rd+=4)}s.set(e,{offset:rd-t})}let r=e.constructor;if(r===Object)b(e,!0);else if(r===Array){(n=e.length)<16?Ju[rd++]=144|n:n<65536?(Ju[rd++]=220,Ju[rd++]=n>>8,Ju[rd++]=255&n):(Ju[rd++]=221,td.setUint32(rd,n),rd+=4);for(let t=0;t<n;t++)v(e[t])}else if(r===Map){(n=e.size)<16?Ju[rd++]=128|n:n<65536?(Ju[rd++]=222,Ju[rd++]=n>>8,Ju[rd++]=255&n):(Ju[rd++]=223,td.setUint32(rd,n),rd+=4);for(let[t,n]of e)v(t),v(n)}else{for(let t=0,n=Gu.length;t<n;t++){if(e instanceof $u[t]){let n=Gu[t];if(n.write)return n.type&&(Ju[rd++]=212,Ju[rd++]=n.type,Ju[rd++]=0),void v(n.write.call(this,e));let r,s=Ju,i=td,o=rd;Ju=null;try{r=n.pack.call(this,e,(e=>(Ju=s,s=null,rd+=e,rd>nd&&w(rd),{target:Ju,targetView:td,position:rd-e})),v)}finally{s&&(Ju=s,td=i,rd=o,nd=Ju.length-10)}return void(r&&(r.length+rd>nd&&w(r.length+rd),rd=ud(r,Ju,rd,n.type)))}}b(e,!e.hasOwnProperty)}}else Ju[rd++]=192;else if("boolean"===r)Ju[rd++]=e?195:194;else if("bigint"===r){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))Ju[rd++]=211,td.setBigInt64(rd,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)Ju[rd++]=207,td.setBigUint64(rd,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Ju[rd++]=203,td.setFloat64(rd,Number(e))}rd+=8}else if("undefined"===r)this.encodeUndefinedAsNil?Ju[rd++]=192:(Ju[rd++]=212,Ju[rd++]=0,Ju[rd++]=0);else{if("function"!==r)throw new Error("Unknown type: "+r);v(this.writeFunction&&this.writeFunction())}},b=!1===this.useRecords?this.variableMapSize?e=>{let t,n=Object.keys(e),r=n.length;r<16?Ju[rd++]=128|r:r<65536?(Ju[rd++]=222,Ju[rd++]=r>>8,Ju[rd++]=255&r):(Ju[rd++]=223,td.setUint32(rd,r),rd+=4);for(let s=0;s<r;s++)v(t=n[s]),v(e[t])}:(e,n)=>{Ju[rd++]=222;let r=rd-t;rd+=2;let s=0;for(let t in e)(n||e.hasOwnProperty(t))&&(v(t),v(e[t]),s++);Ju[r+++t]=s>>8,Ju[r+t]=255&s}:e.progressiveRecords&&!h?(e,n)=>{let s,i,o=r.transitions||(r.transitions=Object.create(null)),a=rd++-t;for(let l in e)if(n||e.hasOwnProperty(l)){if(s=o[l],s)o=s;else{let n=Object.keys(e),c=o;o=r.transitions;let u=0;for(let e=0,t=n.length;e<t;e++){let t=n[e];s=o[t],s||(s=o[t]=Object.create(null),u++),o=s}a+t+1==rd?(rd--,_(o,n,u)):x(o,n,a,u),i=!0,o=c[l]}v(e[l])}if(!i){let n=o[od];n?Ju[a+t]=n:x(o,Object.keys(e),a,0)}}:(e,t)=>{let n,s=r.transitions||(r.transitions=Object.create(null)),i=0;for(let r in e)(t||e.hasOwnProperty(r))&&(n=s[r],n||(n=s[r]=Object.create(null),i++),s=n);let o=s[od];o?o>=96&&h?(Ju[rd++]=96+(31&(o-=96)),Ju[rd++]=o>>5):Ju[rd++]=o:_(s,s.__keys__||Object.keys(e),i);for(let n in e)(t||e.hasOwnProperty(n))&&v(e[n])},w=e=>{let n;if(e>16777216){if(e-t>Zu)throw new Error("Packed buffer would be larger than maximum buffer size");n=Math.min(Zu,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else n=1+(Math.max(e-t<<2,Ju.length-1)>>12)<<12;let r=new Yu(n);return td=new DataView(r.buffer,0,n),Ju.copy?Ju.copy(r,0,t,e):r.set(Ju.slice(t,e)),rd-=t,t=0,nd=r.length-10,Ju=r},_=(e,t,s)=>{let i=r.nextId;i||(i=64),i<f&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(i=r.nextOwnId,i<p||(i=f),r.nextOwnId=i+1):(i>=p&&(i=f),r.nextId=i+1);let o=t.highByte=i>=96&&h?i-96>>5:-1;e[od]=i,e.__keys__=t,r[i-64]=t,i<f?(t.isShared=!0,r.sharedLength=i-63,n=!0,o>=0?(Ju[rd++]=96+(31&i),Ju[rd++]=o):Ju[rd++]=i):(o>=0?(Ju[rd++]=213,Ju[rd++]=114,Ju[rd++]=96+(31&i),Ju[rd++]=o):(Ju[rd++]=212,Ju[rd++]=114,Ju[rd++]=i),s&&(g+=y*s),m.length>=d&&(m.shift()[od]=0),m.push(e),v(t))},x=(e,n,r,s)=>{let i=Ju,o=rd,a=nd,l=t;Ju=ed,rd=0,t=0,Ju||(ed=Ju=new Yu(8192)),nd=Ju.length-10,_(e,n,s),ed=Ju;let c=rd;if(Ju=i,rd=o,nd=a,t=l,c>1){let e=rd+c-1;e>nd&&w(e);let n=r+t;Ju.copyWithin(n+c,n+1,rd),Ju.set(ed.slice(0,c),n),rd=e}else Ju[r+t]=ed[0]}}useBuffer(e){Ju=e,td=new DataView(Ju.buffer,Ju.byteOffset,Ju.byteLength),rd=0}clearSharedData(){this.structures&&(this.structures=[])}}function ld(e,t,n,r){let s=e.byteLength;if(s+1<256){var{target:i,position:o}=n(4+s);i[o++]=199,i[o++]=s+1}else if(s+1<65536){var{target:i,position:o}=n(5+s);i[o++]=200,i[o++]=s+1>>8,i[o++]=s+1&255}else{var{target:i,position:o,targetView:a}=n(7+s);i[o++]=201,a.setUint32(o,s+1),o+=4}i[o++]=116,i[o++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function cd(e,t){let n=e.byteLength;var r,s;if(n<256){var{target:r,position:s}=t(n+2);r[s++]=196,r[s++]=n}else if(n<65536){var{target:r,position:s}=t(n+3);r[s++]=197,r[s++]=n>>8,r[s++]=255&n}else{var{target:r,position:s,targetView:i}=t(n+5);r[s++]=198,i.setUint32(s,n),s+=4}r.set(e,s)}function ud(e,t,n,r){let s=e.length;switch(s){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:s<256?(t[n++]=199,t[n++]=s):s<65536?(t[n++]=200,t[n++]=s>>8,t[n++]=255&s):(t[n++]=201,t[n++]=s>>24,t[n++]=s>>16&255,t[n++]=s>>8&255,t[n++]=255&s)}return t[n++]=r,t.set(e,n),n+=s}function dd(e,t){td.setUint32(sd.position+e,rd-sd.position-e);let n=sd;sd=null,t(n[0]),t(n[1])}$u=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,du],Gu=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:e,targetView:n,position:s}=t(6);e[s++]=214,e[s++]=255,n.setUint32(s,r)}else if(r>0&&r<17179869184){let{target:n,targetView:s,position:i}=t(10);n[i++]=215,n[i++]=255,s.setUint32(i,4e6*e.getMilliseconds()+(r/1e3/4294967296>>0)),s.setUint32(i+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:e,targetView:r,position:s}=t(3);e[s++]=212,e[s++]=255,e[s++]=255}else{let{target:n,targetView:s,position:i}=t(15);n[i++]=199,n[i++]=12,n[i++]=255,s.setUint32(i,1e6*e.getMilliseconds()),s.setBigInt64(i+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){let r=Array.from(e),{target:s,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(s[i++]=212,s[i++]=115,s[i++]=0),n(r)}},{pack(e,t,n){let{target:r,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(r[s++]=212,r[s++]=101,r[s++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(r[s++]=212,r[s++]=120,r[s++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?ld(e,16,t):cd(Xu?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Qu&&this.structuredClone?ld(e,ju.indexOf(n.name),t):cd(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];let hd=new ad({useRecords:!1});hd.pack,hd.pack;const fd=512,pd=1024;var md={},gd=Uint8Array,yd=Uint16Array,vd=Uint32Array,bd=new gd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wd=new gd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_d=new gd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xd=function(e,t){for(var n=new yd(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new vd(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return[n,s]},Ed=xd(bd,2),Td=Ed[0],Sd=Ed[1];Td[28]=258,Sd[258]=28;for(var kd=xd(wd,0),Rd=kd[0],Ad=kd[1],Cd=new yd(32768),Pd=0;Pd<32768;++Pd){var Od=(43690&Pd)>>>1|(21845&Pd)<<1;Od=(61680&(Od=(52428&Od)>>>2|(13107&Od)<<2))>>>4|(3855&Od)<<4,Cd[Pd]=((65280&Od)>>>8|(255&Od)<<8)>>>1}var Md=function(e,t,n){for(var r=e.length,s=0,i=new yd(t);s<r;++s)e[s]&&++i[e[s]-1];var o,a=new yd(t);for(s=0;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new yd(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],d=a[e[s]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[Cd[d]>>>l]=c}else for(o=new yd(r),s=0;s<r;++s)e[s]&&(o[s]=Cd[a[e[s]-1]++]>>>15-e[s]);return o},Bd=new gd(288);for(Pd=0;Pd<144;++Pd)Bd[Pd]=8;for(Pd=144;Pd<256;++Pd)Bd[Pd]=9;for(Pd=256;Pd<280;++Pd)Bd[Pd]=7;for(Pd=280;Pd<288;++Pd)Bd[Pd]=8;var Ld=new gd(32);for(Pd=0;Pd<32;++Pd)Ld[Pd]=5;var Id=Md(Bd,9,0),Dd=Md(Bd,9,1),Ud=Md(Ld,5,0),Fd=Md(Ld,5,1),jd=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Nd=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Vd=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Kd=function(e){return(e+7)/8|0},zd=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?yd:4==e.BYTES_PER_ELEMENT?vd:gd)(n-t);return r.set(e.subarray(t,n)),r},Wd=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qd=function(e,t,n){var r=new Error(t||Wd[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,qd),!n)throw r;return r},Gd=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new gd(0);var s=!t||n,i=!n||n.i;n||(n={}),t||(t=new gd(3*r));var o=function(e){var n=t.length;if(e>n){var r=new gd(Math.max(2*n,e));r.set(t),t=r}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,h=n.m,f=n.n,p=8*r;do{if(!u){a=Nd(e,l,1);var m=Nd(e,l+1,3);if(l+=3,!m){var g=e[(R=Kd(l)+4)-4]|e[R-3]<<8,y=R+g;if(y>r){i&&qd(0);break}s&&o(c+g),t.set(e.subarray(R,y),c),n.b=c+=g,n.p=l=8*y,n.f=a;continue}if(1==m)u=Dd,d=Fd,h=9,f=5;else if(2==m){var v=Nd(e,l,31)+257,b=Nd(e,l+10,15)+4,w=v+Nd(e,l+5,31)+1;l+=14;for(var _=new gd(w),x=new gd(19),E=0;E<b;++E)x[_d[E]]=Nd(e,l+3*E,7);l+=3*b;var T=jd(x),S=(1<<T)-1,k=Md(x,T,1);for(E=0;E<w;){var R,A=k[Nd(e,l,S)];if(l+=15&A,(R=A>>>4)<16)_[E++]=R;else{var C=0,P=0;for(16==R?(P=3+Nd(e,l,3),l+=2,C=_[E-1]):17==R?(P=3+Nd(e,l,7),l+=3):18==R&&(P=11+Nd(e,l,127),l+=7);P--;)_[E++]=C}}var O=_.subarray(0,v),M=_.subarray(v);h=jd(O),f=jd(M),u=Md(O,h,1),d=Md(M,f,1)}else qd(1);if(l>p){i&&qd(0);break}}s&&o(c+131072);for(var B=(1<<h)-1,L=(1<<f)-1,I=l;;I=l){var D=(C=u[Vd(e,l)&B])>>>4;if((l+=15&C)>p){i&&qd(0);break}if(C||qd(2),D<256)t[c++]=D;else{if(256==D){I=l,u=null;break}var U=D-254;if(D>264){var F=bd[E=D-257];U=Nd(e,l,(1<<F)-1)+Td[E],l+=F}var j=d[Vd(e,l)&L],N=j>>>4;j||qd(3),l+=15&j;M=Rd[N];if(N>3){F=wd[N];M+=Vd(e,l)&(1<<F)-1,l+=F}if(l>p){i&&qd(0);break}s&&o(c+131072);for(var V=c+U;c<V;c+=4)t[c]=t[c-M],t[c+1]=t[c+1-M],t[c+2]=t[c+2-M],t[c+3]=t[c+3-M];c=V}}n.l=u,n.p=I,n.b=c,n.f=a,u&&(a=1,n.m=h,n.d=d,n.n=f)}while(!a);return c==t.length?t:zd(t,0,c)},$d=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Hd=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Xd=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return[nh,0];if(1==s){var o=new gd(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=i[0].s;for(r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var f=new yd(h+1),p=Yd(n[u-1],f,0);if(p>t){r=0;var m=0,g=p-t,y=1<<g;for(i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<s;++r){var v=i[r].s;if(!(f[v]>t))break;m+=y-(1<<p-f[v]),f[v]=t}for(m>>>=g;m>0;){var b=i[r].s;f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var w=i[r].s;f[w]==t&&(--f[w],++m)}p=t}return[new gd(f),p]},Yd=function(e,t,n){return-1==e.s?Math.max(Yd(e.l,t,n+1),Yd(e.r,t,n+1)):t[e.s]=n},Qd=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new yd(++t),r=0,s=e[0],i=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return[n.subarray(0,r),t]},Zd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Jd=function(e,t,n){var r=n.length,s=Kd(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<r;++i)e[s+i+4]=n[i];return 8*(s+4+r)},eh=function(e,t,n,r,s,i,o,a,l,c,u){$d(t,u++,n),++s[256];for(var d=Xd(s,15),h=d[0],f=d[1],p=Xd(i,15),m=p[0],g=p[1],y=Qd(h),v=y[0],b=y[1],w=Qd(m),_=w[0],x=w[1],E=new yd(19),T=0;T<v.length;++T)E[31&v[T]]++;for(T=0;T<_.length;++T)E[31&_[T]]++;for(var S=Xd(E,7),k=S[0],R=S[1],A=19;A>4&&!k[_d[A-1]];--A);var C,P,O,M,B=c+5<<3,L=Zd(s,Bd)+Zd(i,Ld)+o,I=Zd(s,h)+Zd(i,m)+o+14+3*A+Zd(E,k)+(2*E[16]+3*E[17]+7*E[18]);if(B<=L&&B<=I)return Jd(t,u,e.subarray(l,l+c));if($d(t,u,1+(I<L)),u+=2,I<L){C=Md(h,f,0),P=h,O=Md(m,g,0),M=m;var D=Md(k,R,0);$d(t,u,b-257),$d(t,u+5,x-1),$d(t,u+10,A-4),u+=14;for(T=0;T<A;++T)$d(t,u+3*T,k[_d[T]]);u+=3*A;for(var U=[v,_],F=0;F<2;++F){var j=U[F];for(T=0;T<j.length;++T){var N=31&j[T];$d(t,u,D[N]),u+=k[N],N>15&&($d(t,u,j[T]>>>5&127),u+=j[T]>>>12)}}}else C=Id,P=Bd,O=Ud,M=Ld;for(T=0;T<a;++T)if(r[T]>255){N=r[T]>>>18&31;Hd(t,u,C[N+257]),u+=P[N+257],N>7&&($d(t,u,r[T]>>>23&31),u+=bd[N]);var V=31&r[T];Hd(t,u,O[V]),u+=M[V],V>3&&(Hd(t,u,r[T]>>>5&8191),u+=wd[V])}else Hd(t,u,C[r[T]]),u+=P[r[T]];return Hd(t,u,C[256]),u+P[256]},th=new vd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nh=new gd(0),rh=function(e,t,n,r,s,i){var o=e.length,a=new gd(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(l[c>>3]=i),c=Jd(l,c+1,e.subarray(u,d))}else{for(var h=th[t-1],f=h>>>13,p=8191&h,m=(1<<n)-1,g=new yd(32768),y=new yd(m+1),v=Math.ceil(n/3),b=2*v,w=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<b)&m},_=new vd(25e3),x=new yd(288),E=new yd(32),T=0,S=0,k=(u=0,0),R=0,A=0;u<o;++u){var C=w(u),P=32767&u,O=y[C];if(g[P]=O,y[C]=P,R<=u){var M=o-u;if((T>7e3||k>24576)&&M>423){c=eh(e,l,0,_,x,E,S,k,A,u-A,c),k=T=S=0,A=u;for(var B=0;B<286;++B)x[B]=0;for(B=0;B<30;++B)E[B]=0}var L=2,I=0,D=p,U=P-O&32767;if(M>2&&C==w(u-U))for(var F=Math.min(f,M)-1,j=Math.min(32767,u),N=Math.min(258,M);U<=j&&--D&&P!=O;){if(e[u+L]==e[u+L-U]){for(var V=0;V<N&&e[u+V]==e[u+V-U];++V);if(V>L){if(L=V,I=U,V>F)break;var K=Math.min(U,V-2),z=0;for(B=0;B<K;++B){var W=u-U+B+32768&32767,q=W-g[W]+32768&32767;q>z&&(z=q,O=W)}}}U+=(P=O)-(O=g[P])+32768&32767}if(I){_[k++]=268435456|Sd[L]<<18|Ad[I];var G=31&Sd[L],$=31&Ad[I];S+=bd[G]+wd[$],++x[257+G],++E[$],R=u+L,++T}else _[k++]=e[u],++x[e[u]]}}c=eh(e,l,i,_,x,E,S,k,A,u-A,c),!i&&7&c&&(c=Jd(l,c+1,nh))}return zd(a,0,r+Kd(c)+s)},sh=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),ih=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=sh[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},oh=function(e,t,n,r,s){return rh(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!s)},ah=function(e,t,n){for(var r=e(),s=e.toString(),i=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<r.length;++o){var a=r[o],l=i[o];if("function"==typeof a){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(-1!=c.indexOf("[native code]")){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else for(var d in t+=c,a.prototype)t+=";"+l+".prototype."+d+"="+a.prototype[d].toString();else t+=c}else n[l]=a}return[t,n]},lh=[],ch=function(e,t,n,r){var s;if(!lh[n]){for(var i="",o={},a=e.length-1,l=0;l<a;++l)i=(s=ah(e[l],i,o))[0],o=s[1];lh[n]=ah(e[a],i,o)}var c=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}({},lh[n][1]);return function(e,t,n,r,s){var i=new Worker(md[t]||(md[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return i.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var r=new Error(n[0]);r.code=n[1],r.stack=n[2],s(r,null)}else s(null,t)},i.postMessage(n,r),i}(lh[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(c),r)},uh=function(){return[gd,yd,vd,bd,wd,_d,Td,Rd,Dd,Fd,Cd,Wd,Md,jd,Nd,Vd,Kd,zd,qd,Gd,Sh,mh,gh]},dh=function(){return[gd,yd,vd,bd,wd,_d,Sd,Ad,Id,Bd,Ud,Ld,Cd,th,nh,Md,$d,Hd,Xd,Yd,Qd,Zd,Jd,eh,Kd,zd,rh,oh,Th,mh]},hh=function(){return[bh,xh,vh,ih,sh]},fh=function(){return[wh,_h]},ph=function(){return[Eh]},mh=function(e){return postMessage(e,[e.buffer])},gh=function(e){return e&&e.size&&new gd(e.size)},yh=function(e,t,n,r,s,i){var o=ch(n,r,s,(function(e,t){o.terminate(),i(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},vh=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},bh=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&vh(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},wh=function(e){31==e[0]&&139==e[1]&&8==e[2]||qd(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},_h=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},xh=function(e){return 10+(e.filename&&e.filename.length+1||0)},Eh=function(e){(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&qd(6,"invalid zlib data"),32&e[1]&&qd(6,"invalid zlib data: preset dictionaries not supported")};function Th(e,t){return oh(e,t||{},0,0)}function Sh(e,t){return Gd(e,t)}function kh(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&qd(7),yh(e,t,[dh,hh,function(){return[Rh]}],(function(e){return mh(Rh(e.data[0],e.data[1]))}),2,n)}function Rh(e,t){t||(t={});var n=ih(),r=e.length;n.p(e);var s=oh(e,t,xh(t),8),i=s.length;return bh(s,t),vh(s,i-8,n.d()),vh(s,i-4,r),s}function Ah(e,t){return Gd(e.subarray(wh(e),-8),t||new gd(_h(e)))}function Ch(e,t){return Gd((Eh(e),e.subarray(2,-4)),t)}function Ph(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&qd(7),31==e[0]&&139==e[1]&&8==e[2]?function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&qd(7),yh(e,t,[uh,fh,function(){return[Ah]}],(function(e){return mh(Ah(e.data[0]))}),3,n)}(e,t,n):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&qd(7),yh(e,t,[uh],(function(e){return mh(Sh(e.data[0],gh(e.data[1])))}),1,n)}(e,t,n):function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&qd(7),yh(e,t,[uh,ph,function(){return[Ch]}],(function(e){return mh(Ch(e.data[0],gh(e.data[1])))}),5,n)}(e,t,n)}var Oh="undefined"!=typeof TextDecoder&&new TextDecoder;try{Oh.decode(nh,{stream:!0}),1}catch(e){}class Mh extends Mc{states;textures;constructor(e){super(e),this.version(3).stores({states:"&hash",textures:"&hash, timestamp"})}}function Bh(e){return function(e){return 1<<31-Math.clz32(e)}(2*(e-1))}class Lh extends class{WebRenderer=Ai;autosave=!0;autosaveDelay=1e4;_autosaveTimer;constructor(e="ethereal-web-store"){this.store=new Mh(e)}saveStore(){const e=Array.from(this._layerState.entries()).filter((([e,t])=>"string"==typeof e)).map((([e,t])=>({hash:e,textureHash:t.texture.hash}))),t=Array.from(this._unsavedTextureData.values());return this._unsavedTextureData.clear(),this.loadStore({stateData:e,textureData:t})}_packr=new ad({structuredClone:!0});_unpackr=new pu({structuredClone:!0});async importStore(e){const t=await fetch(e),n=await t.arrayBuffer(),r=await new Promise(((e,t)=>{Ph(new Uint8Array(n),{consume:!0},((n,r)=>{if(n)return t(n);e(r)}))})),s=this._unpackr.unpack(r);return this.loadStore(s)}async exportStore(e){const t=e?await this.store.states.bulkGet(e):await this.store.states.toArray(),n=await this.store.textures.bulkGet(t.map((e=>e.textureHash)).filter((e=>"string"==typeof e))),r={stateData:t,textureData:n},s=this._packr.pack(r);return new Promise(((e,t)=>{kh(s,{consume:!0},((n,r)=>{if(n)return t(n);e(new Blob([r.buffer]))}))}))}async loadStore(e){return Promise.all([this.store.states.bulkPut(e.stateData),this.store.textures.bulkPut(e.textureData)])}store;_textureUrls=new Map;_unsavedTextureData=new Map;_layerState=new Map;serializeQueue=[];rasterizeQueue=[];MINIMUM_RENDER_ATTEMPTS=3;canvasPool=[];imagePool=[];textEncoder=new TextEncoder;ktx2Encoder=new class{pool=new class{pool;queue=[];workers=[];workersResolve=[];workerStatus=0;workerCreator;constructor(e=4){this.pool=e}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}(1);constructor(){this.pool.setWorkerCreator((()=>new Worker(Vc)))}async encode(e){const t=await this.pool.postMessage(e,[e.data.buffer]);if(t.data.error)throw new Error(t.data.error);if(!t.data.texture)throw new Error("Encoding failed");return t.data.texture}};useCreateImageBitmap=!1;getLayerState(e){let t=this._layerState.get(e);return t||(t={bounds:new Ls,margin:new Is,padding:new Is,border:new Is,fullWidth:0,fullHeight:0,renderAttempts:0,texture:{hash:void 0,url:void 0,width:32,height:32,pixelRatio:1},pseudo:{hover:!1,active:!1,focus:!1,target:!1}},this._layerState.set(e,t)),t.texture.hash&&(t.texture.url=this.getTextureURL(t.texture.hash)),t}async requestLayerState(e){const t=this.getLayerState(e);if("string"==typeof e&&!t.texture.hash){const n=await this.store.states.get(e);t.texture.hash=n?.textureHash}return t}async updateTexture(e,t){const n=await this.ktx2Encoder.encode(t),r=this._unsavedTextureData.get(e)||{hash:e,renderAttempts:0,timestamp:Date.now(),texture:void 0};this._textureUrls.set(e,URL.createObjectURL(new Blob([n],{type:"image/ktx2"})));const s=await new Promise(((e,t)=>{kh(new Uint8Array(n),{consume:!0},((n,r)=>{if(n)return t(n);e(r)}))}));r.texture=s,this._unsavedTextureData.set(e,r)}_texturesRequested=new Set;async requestTextureData(e){if(!this._texturesRequested.has(e))return this._texturesRequested.add(e),new Promise((async t=>{const n=await this.store.textures.get(e);if(n?.texture&&!this._unsavedTextureData.has(e)){const r=await new Promise(((e,t)=>{Ph(n.texture,{consume:!0},((n,r)=>{if(n)return t(n);e(r)}))}));this._textureUrls.set(e,URL.createObjectURL(new Blob([r.buffer],{type:"image/ktx2"}))),t(void 0)}}))}getTextureURL(e){return this.requestTextureData(e),this._textureUrls.get(e)}tasksPending=!1;serializePendingCount=0;rasterizePendingCount=0;MAX_SERIALIZE_TASK_COUNT=10;MAX_RASTERIZE_TASK_COUNT=10;scheduleTasksIfNeeded(){this.tasksPending||0===this.serializeQueue.length&&0===this.rasterizeQueue.length||(this.tasksPending=!0,setTimeout(this._runTasks,1))}_runTasks=()=>{const e=this.serializeQueue,t=this.rasterizeQueue;for(;e.length>0&&this.serializePendingCount<this.MAX_RASTERIZE_TASK_COUNT;){this.serializePendingCount++;const{layer:t,resolve:n}=e.shift();this.serialize(t).then((e=>{this.serializePendingCount--,n(e)}))}for(;t.length>0&&this.rasterizePendingCount<this.MAX_SERIALIZE_TASK_COUNT;){this.rasterizePendingCount++;const{hash:e,url:n,resolve:r}=t.shift();this.rasterize(e,n).finally((()=>{this.rasterizePendingCount--,r(void 0),this._autosaveTimer&&clearTimeout(this._autosaveTimer),this.autosave&&(this._autosaveTimer=setTimeout((()=>{this.saveStore()}),this.autosaveDelay))}))}this.tasksPending=!1};addToSerializeQueue(e){const t=this.serializeQueue.find((t=>t.layer===e));if(t)return t.promise;let n;const r=new Promise((e=>{n=e}));return this.serializeQueue.push({layer:e,resolve:n,promise:r}),r}async serialize(e){const t=e.element,n=e.domMetrics;Ds(t,n.bounds,e.parentLayer?.element),function(e,t){if(null===e.offsetParent)return void(t.left=t.right=t.top=t.bottom=0);let n=getComputedStyle(e);t.left=parseFloat(n.marginLeft)||0,t.right=parseFloat(n.marginRight)||0,t.top=parseFloat(n.marginTop)||0,t.bottom=parseFloat(n.marginBottom)||0}(t,n.margin),function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.paddingLeft)||0,t.right=parseFloat(n.paddingRight)||0,t.top=parseFloat(n.paddingTop)||0,t.bottom=parseFloat(n.paddingBottom)||0}(t,n.padding),function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.borderLeftWidth)||0,t.right=parseFloat(n.borderRightWidth)||0,t.top=parseFloat(n.borderTopWidth)||0,t.bottom=parseFloat(n.borderBottomWidth)||0}(t,n.border);const{top:r,left:s,width:i,height:o}=n.bounds,{top:a,left:l,bottom:c,right:u}=n.margin,d=i+Math.max(l,0)+Math.max(u,0),h=o+Math.max(a,0)+Math.max(c,0),f=e.pixelRatio||parseFloat(e.element.getAttribute(Ai.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,p=Math.max(Bh(d*f),32),m=Math.max(Bh(h*f),32),g={};let y;if(e.isMediaElement)g.stateKey=t;else{const n=Ai.attributeHTML(Ai.LAYER_ATTRIBUTE,""),r="inline"===getComputedStyle(t).display;Ai.updateInputAttributes(t);const s=function(e,t,n,r){const s=[],i=[],o=e.domMetrics;let a=e.element.parentElement;a||(a=document.documentElement);do{let e=a.tagName.toLowerCase(),l=" ",c="";for(const e of a.attributes){const t=Kc(e.value);"style"!==e.name?l+=`${e.name}="${t}" `:c=t}const u="<"+e+("html"===e?` ${Ai.RENDERING_DOCUMENT_ATTRIBUTE}="" xmlns="http://www.w3.org/1999/xhtml"\n                    style="${$c(r)} --x-width:${o.bounds.width}px; --x-height:${o.bounds.height}px; --x-inline-top:${o.border.top+o.margin.top+o.padding.top}px; ${c} width:${t}px; height:${n}px;" `:` style="${c}" ${Ai.RENDERING_PARENT_ATTRIBUTE}="" `)+l+" >";s.unshift(u);const d="</"+e+">";if(i.push(d),"html"==e)break}while(a=a!==document.documentElement?a.parentElement||document.documentElement:null);return[s.join(""),i.join("")]}(e,d,h,f),i=await Ai.getAllEmbeddedStyles(t);let o=await async function(e,t=Gc){return(await qc(e,{depth:0,target:e,replacer:t})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}(t);o=o.replace(n,`${n} ${Ai.RENDERING_ATTRIBUTE}="" `+(r?`${Ai.RENDERING_INLINE_ATTRIBUTE}="" `:" ")+" "+Ai.getPsuedoAttributes(e.desiredPseudoState)),y='<svg width="'+p+'" height="'+m+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+i.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+d*f+'" height="'+h*f+'">'+s[0]+o+s[1]+"</foreignObject></svg>";const a=Yc(await crypto.subtle.digest("SHA-1",this.textEncoder.encode(y)))+"?w="+d+";h="+h+";tw="+p+";th="+m;g.stateKey=a}const v=await this.requestLayerState(g.stateKey);return v.bounds.left=s,v.bounds.top=r,v.bounds.width=i,v.bounds.height=o,v.margin.left=l,v.margin.top=a,v.margin.right=u,v.margin.bottom=c,v.fullWidth=d,v.fullHeight=h,v.texture.width=p,v.texture.height=m,v.texture.pixelRatio=f,e.desiredDOMStateKey=g.stateKey,"string"==typeof g.stateKey&&e.allStateHashes.add(g.stateKey),g.needsRasterize=!e.isMediaElement&&d*h>0&&!v.texture.hash,g.svgUrl=g.needsRasterize&&y?"data:image/svg+xml;utf8,"+encodeURIComponent(y):void 0,g}async rasterize(e,t){const n=this.getLayerState(e),r=this.imagePool.pop()||new Image;if(await new Promise(((e,s)=>{r.onload=()=>{e()},r.onerror=e=>{s(e)},r.width=n.texture.width,r.height=n.texture.height,r.src=t})),!r.complete||r.currentSrc!==t)throw new Error("Rasterization Failed");await r.decode();const{fullWidth:s,fullHeight:i,texture:o}=n,{width:a,height:l,pixelRatio:c}=o,u=Math.floor(s*c),d=Math.floor(i*c),h=await this.getImageData(r,u,d,30,30),f=Yc(await crypto.subtle.digest("SHA-1",h.data))+"?w="+a+";h="+l,p=n.texture.hash;if(n.texture.hash=f,p!==f&&(n.renderAttempts=0),n.renderAttempts++,n.renderAttempts>this.MINIMUM_RENDER_ATTEMPTS&&n.texture)return;setTimeout((()=>this.addToRasterizeQueue(e,t)),2*(500+1e3*Math.random())^n.renderAttempts);if(this.getTextureURL(f))return;const m=await this.getImageData(r,u,d,a,l);try{await this.updateTexture(f,m)}finally{this.imagePool.push(r)}}async getImageData(e,t,n,r,s){const i=this.canvasPool.pop()||document.createElement("canvas");i.width=r,i.height=s;const o=i.getContext("2d");let a;if(o.imageSmoothingEnabled=!1,o.clearRect(0,0,r,s),this.useCreateImageBitmap){const i=await createImageBitmap(e,0,0,t*devicePixelRatio,n*devicePixelRatio,{resizeWidth:r,resizeHeight:s,resizeQuality:"high"});o.drawImage(i,0,0,t,n,0,0,r,s)}else o.drawImage(e,0,0,t,n,0,0,r,s);try{a=o.getImageData(0,0,r,s)}catch(i){return this.useCreateImageBitmap=!1,this.getImageData(e,t,n,r,s)}return setTimeout((()=>this.canvasPool.push(i)),10),a}addToRasterizeQueue(e,t){const n=this.rasterizeQueue.find((t=>t.hash===e));if(n)return n.promise;let r;const s=new Promise((e=>{r=e}));return this.rasterizeQueue.push({hash:e,url:t,resolve:r,promise:s}),s}}{static DEFAULT_TRANSCODER_PATH="https://unpkg.com/@loaders.gl/textures@3.1.7/dist/libs/";static initialize(e){Lh.instance=new Lh,Lh.instance.renderer=e,Lh.instance.textureLoader.detectSupport(e)}static instance;constructor(){super(),this.textureLoader.setTranscoderPath(Lh.DEFAULT_TRANSCODER_PATH)}renderer;textureEncoding=t.sRGBEncoding;texturesByUrl=new Map;layersUsingTexture=new WeakMap;textureLoader=new Di;layersByElement=new WeakMap;layersByMesh=new WeakMap;pixelsPerUnit=1e3;getTexture(e,t){this._requestTexture(e);const n=this.texturesByUrl.get(e);if(n)return t&&this.layersUsingTexture.get(n)?.add(t),n}_texturePromise=new Map;_requestTexture(e){this._texturePromise.has(e)||new Promise((n=>{this._texturePromise.set(e,n),this.textureLoader.loadAsync(e).then((n=>{n.wrapS=t.ClampToEdgeWrapping,n.wrapT=t.ClampToEdgeWrapping,n.minFilter=t.LinearFilter,n.encoding=this.textureEncoding,this.layersUsingTexture.set(n,new Set),this.texturesByUrl.set(e,n)})).finally((()=>{n(void 0)}))}))}disposeLayer(e){for(const t of e.textures){const n=this.layersUsingTexture.get(t);n.delete(e),0===n.size&&t.dispose()}}}const Ih=new t.Vector3,Dh=new t.Vector3,Uh=new Ls;class Fh extends t.Object3D{containerElement;options;rootLayer;raycaster=new t.Raycaster;_raycaster=this.raycaster;_interactionRays=[];_hitIntersections=[];constructor(e,t={}){super(),t.manager||(t.manager=Lh.instance),this.options=t;const n="string"==typeof e?function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return t.removeChild(n),n}(e):e;this.containerElement=Ai.createLayerTree(n,t,((e,{target:t})=>{if("layercreated"===e){const e=t.layer||new Mi(t,this);t===n?(e[Ci]=()=>this._updateInteractions(),this.rootLayer=e,this.add(e)):e.parentWebLayer?.add(e),this.options.onLayerCreate?.(e)}else if("layermoved"===e){const e=this.options.manager.layersByElement.get(t);e.parentWebLayer?.add(e)}})),this.containerElement.container=this,this.refresh(),this.update()}get manager(){return this.options.manager}get interactionRays(){return this._interactionRays}set interactionRays(e){this._interactionRays=e}async updateUntilReady(){const e=setInterval((()=>{this.update()}),20);this.rootLayer.setNeedsRefresh(!0),await this.rootLayer.refresh(!0),clearInterval(e)}update(){this.rootLayer.update(!0)}refresh(){this.rootLayer.refresh(!0)}querySelector(e){return this.rootLayer.querySelector(e)}get contentMesh(){return this.rootLayer.contentMesh}_previousHoverLayers=new Set;_contentMeshes=[];_prepareHitTest=e=>{e.desiredPseudoStates.hover&&this._previousHoverLayers.add(e),e.cursor.visible=!1,e.desiredPseudoStates.hover=!1,e.contentMesh.visible&&this._contentMeshes.push(e.contentMesh)};_intersectionSort(e,t){const n=e.object.parent,r=t.object.parent;return n.depth!==r.depth?r.depth-n.depth:r.index-n.index}_updateInteractions(){const e=this._previousHoverLayers;e.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const t of this._interactionRays){"isObject3D"in t&&t.isObject3D?this.raycaster.ray.set(t.getWorldPosition(Ih),t.getWorldDirection(Dh).negate()):this.raycaster.ray.copy(t),this._hitIntersections.length=0;const n=this.raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);n.sort(this._intersectionSort);const r=n[0];if(r){const t=r.object.parent;t.cursor.position.copy(r.point),t.cursor.visible=!0,t.desiredPseudoStates.hover=!0,e.has(t)||t.setNeedsRefresh()}}for(const t of e)t.desiredPseudoStates.hover||t.setNeedsRefresh()}hitTest(e){const t=this.raycaster,n=this._hitIntersections,r=this.options.manager.layersByMesh;"isObject3D"in e&&e.isObject3D?this.raycaster.ray.set(e.getWorldPosition(Ih),e.getWorldDirection(Dh).negate()):this.raycaster.ray.copy(e),n.length=0,t.intersectObject(this,!0,n),n.sort(this._intersectionSort);for(const e of n){const t=r.get(e.object);if(!t)continue;const n=t.bounds,s=t.margin,i=n.width+s.left+s.right,o=n.height+s.top+s.bottom;if(i*o==0)continue;let a=t.element;const l=e.uv.x*i-s.left,c=(1-e.uv.y)*o-s.bottom;return Bs(t.element,(e=>{if(!a.contains(e))return!1;const t=Ds(e,Uh),r=t.left-n.left,s=t.top-n.top,{width:i,height:o}=t;return l>r&&l<r+i&&c>s&&c<s+o&&(a=e,!0)})),{layer:t,intersection:e,target:a}}}destroy(){this.containerElement.remove(),this.removeFromParent(),this.rootLayer.dispose()}async downloadCache(e){await this.manager.saveStore();const t=new Set;this.rootLayer.traverseLayersPreOrder((n=>{if(!e||e(n))for(const e of n.allStateHashes)t.add(e)}));!function(e,t){const n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),n.dataset.downloadurl=["application/octet-stream",n.download,n.href].join(":"),n.click()}(await this.manager.exportStore(Array.from(t)),"web."+this.rootLayer.element.id+".cache")}}class jh extends class{takeOwnership;setSharedData;width;height;vueApp;vueRoot;constructor(e,t,n,r={}){this.takeOwnership=this.takeOwnershipProto.bind(this),this.setSharedData=this.setSharedDataProto.bind(this),this.width=t,this.height=n,this.vueApp=Ss(e,r)}takeOwnershipProto(){return!0}setSharedDataProto(e){return!0}}{isEthereal;isInteractive;isNetworked;isStatic;updateTime;raycaster;tempV=new THREE.Vector3;size;webLayer3D;needsUpdate=!1;headDiv;readyPromise=null;static initializeEthereal(){let e=window.APP.scene;Lh.initialize(e.renderer)}static systemTick(e,t){window.APP.scene}constructor(e,t,n,r={},s={}){r.width&&r.height&&r.width>0&&r.height>0?(t=r.width,n=r.height):(r.width&&r.width>0||r.height&&r.height>0)&&(r.width&&r.width>0&&(n=r.width/t*n,t=r.width),r.height&&r.height>0&&(t=r.height/n*n,n=r.height)),super(e,t,n,s),this.isEthereal=!1,this.vueApp.provide("params",r),this.isInteractive=!1,this.isNetworked=!1,this.isStatic=!0,this.updateTime=100,this.raycaster=new THREE.Raycaster,this.size={width:t/1e3,height:n/1e3},this.headDiv=document.createElement("div")}async mount(e){this.isEthereal=!0===e,this.vueRoot=this.vueApp.mount(this.headDiv),this.vueRoot.$el.setAttribute("style","width: "+this.width+"px; height: "+this.height+"px;");let t=document.createElement("link");t.setAttribute("href","https://williamcaseylucas.github.io/vue-apps/dist/hubs.css"),t.setAttribute("rel","stylesheet"),t.setAttribute("crossorigin","anonymous"),this.vueRoot.$el.insertBefore(t,this.vueRoot.$el.firstChild),this.webLayer3D=new Fh(this.vueRoot.$el,{autoRefresh:!0,onLayerCreate:e=>{e.desiredPseudoStates.hover=!0},onLayerPaint:e=>{this.isStatic&&(this.needsUpdate=!0)},renderOrderOffset:0});try{this.readyPromise=this.webLayer3D?.updateUntilReady().then((()=>{this.webLayer3D?.rootLayer.setNeedsRefresh()}))}catch(e){console.error("webLayerUpdate failed. ",e)}}setNetworkMethods(e,t){this.takeOwnership=e,this.setSharedData=t}updateSharedData(e){this.needsUpdate=!0}getSize(){return console.log("div size: {"+this.size.width+", "+this.size.height+"}"),this.size}getSharedData(e){throw new Error("getSharedData should be overridden by subclasses")}clicked(e){if(!this.isInteractive)return;const t=e.object3D,n=this.webLayer3D.getWorldDirection(new THREE.Vector3).negate();this.tempV.copy(t.position),this.tempV.addScaledVector(n,-.1),this.raycaster.ray.set(this.tempV,n);const r=this.webLayer3D.hitTest(this.raycaster.ray);r&&(r.target.click(),r.target.focus(),console.log("hit",r.target,r.layer))}dragStart(e){}dragEnd(e){}play(){}pause(){}destroy(){this.webLayer3D&&this.webLayer3D.destroy(),this.vueApp.unmount()}tick(e){if(this.isEthereal);else{var t=this.needsUpdate;this.needsUpdate=!1,this.isStatic&&this.updateTime<e&&(t=!0,this.updateTime=2e3*Math.random()+1e3),this.isStatic||(this.updateTime=e,t=!0),t&&this.webLayer3D.update()}}}class Nh{_state;state;app;constructor(e){this._state=et({count:0}),this.app=e,this.state=tt(this._state)}increment(){this.app.takeOwnership()&&(this._state.count++,this.app.setSharedData(this.state))}updateSharedData(e){this._state.count=e.count}}class Vh extends jh{shared;constructor(e={}){super(Ms,400,475,e),this.shared=new Nh(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}const Kh={"xr-layer":"",class:"fade"},zh=(e=>(tn("data-v-0b72a6b4"),e=e(),nn(),e))((()=>Ir("p",null,[Ir("a",{"xr-layer":"",href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation and Then Some! "),Ir("a",{"xr-layer":"",href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1)));var Wh={props:{msg:String},setup(e){const t=ln("shared");return(n,r)=>(kr(),Pr(wr,null,[Ir("h1",Kh,u(e.msg),1),zh,Ir("button",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>ht(t).increment&&ht(t).increment(...e))},"count is: "+u(ht(t).state.count),1)],64))},__scopeId:"data-v-0b72a6b4"};const qh=e=>(tn("data-v-214c13a8"),e=e(),nn(),e),Gh={id:"room"},$h=qh((()=>Ir("img",{"xr-layer":"",alt:"Vue logo",src:ks},null,-1))),Hh=[Fr(" Edit code in "),qh((()=>Ir("code",null,"src/apps",-1))),Fr(' to test hot module replacement while running project as "npm run dev". ')];var Xh={setup(e){const t=ln("shared");return(e,n)=>(kr(),Pr("div",null,[Ir("div",Gh,[$h,Dr(Wh,{msg:"Vue Component with Local Button Count"}),Ir("p",{id:"edit",class:c({upclose:ht(t).state.close}),"xr-layer":""},Hh,2)])]))},__scopeId:"data-v-214c13a8"};class Yh{_state;state;app;constructor(e){this._state=et({close:!1}),this.app=e,this.state=tt(this._state)}setClose(e){this._state.close!=e&&(this._state.close=e)}}class Qh extends jh{shared;constructor(e={}){super(Xh,500,500,e),this.isInteractive=!0,this.shared=new Yh(this),this.vueApp.provide("shared",this.shared)}docs;boundsSize=new THREE.Vector3;bounds=new THREE.Box3;async mount(){super.mount(!0),this.docs=this.webLayer3D.querySelector("#edit"),this.docs||console.warn("Vue app needs #edit div")}}const Zh=e=>(tn("data-v-6e9d9acd"),e=e(),nn(),e),Jh={id:"room"},ef={class:"titleStyle"},tf=Zh((()=>Ir("div",null,null,-1))),nf=Fr("Click to swap objects: "),rf=Zh((()=>Ir("div",null,null,-1))),sf={"xr-layer":""},of=Fr("Click to make larger: "),af={"xr-layer":""},lf=Fr("Click to make smaller: ");var cf={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:"Example Control Panel",r=t&&t.parameter2?t.parameter2:"Click the buttons to switch objects or change the color of an object";const s=ln("shared");return(e,t)=>(kr(),Pr("div",null,[Ir("div",Jh,[Ir("div",ef,u(ht(n)),1),Ir("div",null,u(ht(r)),1),tf,Ir("div",null,[nf,Ir("button",{"xr-layer":"",onClick:t[0]||(t[0]=(...e)=>ht(s).nextObject&&ht(s).nextObject(...e))},"Swap Objects")]),Ir("div",null,"Current object is: "+u(ht(s).getName()),1),rf,Ir("div",sf,[of,Ir("span",{class:"fakeButton",onClick:t[1]||(t[1]=(...e)=>ht(s).larger&&ht(s).larger(...e))},"Larger")]),Ir("div",af,[lf,Ir("span",{class:"fakeButton",onClick:t[2]||(t[2]=(...e)=>ht(s).smaller&&ht(s).smaller(...e))},"Smaller")])])]))},__scopeId:"data-v-6e9d9acd"};class uf{_state;state;app;objects;constructor(e){if(this._state=et({object:-1,size:{x:1,y:1,z:1}}),this.app=e,this.state=tt(this._state),this.objects=[],window.AFRAME){let e=window.AFRAME.scenes[0].object3D;for(let t=1;t<11;t++){let n=e.getObjectByName("TestObject"+t);n&&(n.visible=!1,this.objects.push(n))}}this.objects.length>0?(this._state.object=0,this._copyVec3(this.objects[0].scale,this._state.size),this.objects[0].visible=!0):this._state.object=-1}_copyVec3(e,t){t.x=e.x,t.y=e.y,t.z=e.z}_nextObject(){if(-1==this._state.object)return-1;if(this.objects[this._state.object].visible=!1,this._state.object++,this._state.object>=this.objects.length&&(this._state.object=0),this.objects[this._state.object].visible=!0,this._copyVec3(this.objects[this._state.object].scale,this._state.size),window.AFRAME){window.AFRAME.scenes[0].emit("updatePortals")}}_updateSize(e){this._state.object>=0&&(this._copyVec3(e,this._state.size),this.objects[this._state.object].scale.copy(this._state.size),this.objects[this._state.object].updateMatrix())}_larger(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}_smaller(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1/1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}nextObject(){this.app.takeOwnership()&&(this._nextObject(),this.app.setSharedData(this.state))}larger(){this.app.takeOwnership()&&(this._larger(),this.app.setSharedData(this.state))}smaller(){this.app.takeOwnership()&&(this._smaller(),this.app.setSharedData(this.state))}getName(){return this._state.object>=0?this.objects[this._state.object].name:"NO OBJECTS"}updateSharedData(e){this._state.object!=e.object&&(this.objects[this._state.object].visible=!1,this.objects[e.object].visible=!0,this._state.object=e.object),this._updateSize(e.size)}}class df extends jh{shared;constructor(e={}){super(cf,400,225,e),this.shared=new uf(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}var hf={props:{msg:String},setup:e=>(et({count:0}),(t,n)=>(kr(),Pr("h2",null,u(e.msg),1)))};const ff={id:"room",class:"darkwall"};var pf={setup(e){let t=ln("params");var n=t&&t.message?t.message:"PORTAL TITLE";return(e,t)=>(kr(),Pr("div",ff,[Dr(hf,{msg:ht(n)},null,8,["msg"])]))}};class mf extends jh{constructor(e,t,n={}){super(pf,e,t,n)}}var gf={props:{msg:String},setup:e=>(et({count:0}),(t,n)=>(kr(),Pr("h4",null,u(e.msg),1)))};const yf={id:"room",class:"darkwall"};var vf={setup(e){let t=ln("params");var n=t&&t.message?t.message:"PORTAL SUBTITLE";return(e,t)=>(kr(),Pr("div",yf,[Dr(gf,{msg:ht(n)},null,8,["msg"])]))}};class bf extends jh{constructor(e,t,n={}){super(vf,e,t,n)}}const wf={id:"room",class:"darkwall"},_f=Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/38d6d7a1e02fc2f9.png",width:"250"},null,-1),xf=Ir("div",{class:"displaytext"},"AR allows us to extend our physical reality; VR creates for us a different reality.",-1);var Ef={setup:e=>(e,t)=>(kr(),Pr("div",wf,[Dr(hf,{msg:"Reality Media"}),_f,xf]))};class Tf extends jh{constructor(e,t,n={}){super(Ef,e,t,n)}}const Sf={id:"room",class:"darkwall"},kf={class:"spacer"},Rf=Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/7af7b95b35fd7616.jpg",width:"250"},null,-1),Af=Ir("div",{class:"squareoff"}," Each reality medium mediates and remediates. It offers a new representation of the world that we implicitly compare to our experience of the world in itself, but also through other media.",-1),Cf=Ir("p",null,[Ir("a",{href:"https://realitymedia.digital",target:"_blank"}," Start at the reality media site. "),Fr(" | ")],-1);var Pf={setup:e=>(e,t)=>(kr(),Pr("div",Sf,[Ir("div",kf,[Dr(hf,{msg:"AR & VR as reality media"}),Rf,Af]),Cf]))};class Of extends jh{constructor(e,t,n={}){super(Pf,e,t,n),this.isInteractive=!0}}const Mf={id:"room",class:"darkwall"},Bf=Ir("div",{class:"spacer"},[Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/7ab3d86afd48dbfb.jpg",width:"250"}),Ir("div",{class:"squareoff"},"Film became one of the most important reality media of the twentieth century, and in some ways, it is a forerunner of virtual reality.")],-1);var Lf={setup:e=>(e,t)=>(kr(),Pr("div",Mf,[Dr(hf,{msg:"The LaCiotat Effect"}),Bf]))};class If extends jh{constructor(e,t,n={}){super(Lf,e,t,n)}}const Df={id:"room",class:"darkwall"},Uf={class:"spacer"},Ff=Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/91fdfa811e752dc8.jpg",width:"200"},null,-1),jf=Ir("div",{class:"squareoff"},"3-D computer graphics help to construct the visual realities of AR and VR, that is photorealism. The uncanny valley.",-1);var Nf={setup:e=>(e,t)=>(kr(),Pr("div",Df,[Ir("div",Uf,[Dr(hf,{msg:"3-D Graphics & Tracking"}),Ff,jf])]))};class Vf extends jh{constructor(e,t,n={}){super(Nf,e,t,n)}}const Kf={id:"room",class:"darkwall"},zf=Ir("div",{class:"spacer"},[Nr('<img src="../../assets/images/parthenon.png" width="250">'),Ir("div",{class:"squareoff"},"Presence in VR is usually conceived of as forgetting that the medium is there. The idea is that if the user can be enticed into behaving as if she were not aware of all the complex technology, then she feels presence.")],-1);var Wf={setup:e=>(e,t)=>(kr(),Pr("div",Kf,[Dr(hf,{msg:"Presence"}),zf]))};class qf extends jh{constructor(e,t,n={}){super(Wf,e,t,n)}}var Gf="https://williamcaseylucas.github.io/vue-apps/dist/dc05c04546a69e64.png";const $f={id:"room",class:"darkwall"},Hf=Ir("div",{class:"spacer"},[Ir("img",{src:Gf,width:"250"}),Ir("div",{class:"squareoff"},"Reality media applications often function as additions to established genres. Most current AR and VR applications behave like applications or artifacts that we know from earlier media.")],-1);var Xf={setup:e=>(e,t)=>(kr(),Pr("div",$f,[Dr(hf,{msg:"Genres"}),Hf]))};class Yf extends jh{constructor(e,t,n={}){super(Xf,e,t,n)}}const Qf={id:"room",class:"darkwall"},Zf=Ir("div",{class:"spacer"},[Ir("img",{src:Gf,width:"250"}),Ir("div",{class:"squareoff"},"VR will continue to construct special realities, apart from the everyday. VR worlds will continue to be metaphoric worlds.")],-1);var Jf={setup:e=>(e,t)=>(kr(),Pr("div",Qf,[Dr(hf,{msg:"The Future of AR & VR"}),Zf]))};class ep extends jh{constructor(e,t,n={}){super(Jf,e,t,n)}}const tp={id:"room",class:"darkwall"},np=Ir("div",{class:"spacer"},[Ir("div",{class:"squareoff"},"Pervasive, always-on AR applications have the potential to provide companies or government authorities even more information and with more precision than our current mobile applications do, both by aggregating our habits as consumers and by identifying us as individuals.")],-1);var rp={setup:e=>(e,t)=>(kr(),Pr("div",tp,[Dr(hf,{msg:"Privacy and Public Space"}),np]))};class sp extends jh{constructor(e,t,n={}){super(rp,e,t,n)}}const ip={id:"room",class:"darkwall"},op=[Ir("div",{class:"postertitle"},"AR & VR as reality media",-1),Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1)];var ap={setup:e=>(e,t)=>(kr(),Pr("div",ip,op))};class lp extends jh{constructor(e,t,n={}){super(ap,e,t,n)}}const cp={id:"room",class:"darkwall"},up=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var dp={setup:e=>(e,t)=>(kr(),Pr("div",cp,[Dr(hf,{msg:"The History of Reality Media"}),up]))};class hp extends jh{constructor(e,t,n={}){super(dp,e,t,n)}}const fp={id:"room",class:"darkwall"},pp=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var mp={setup:e=>(e,t)=>(kr(),Pr("div",fp,[Dr(hf,{msg:"3-D & Tracking"}),pp]))};class gp extends jh{constructor(e,t,n={}){super(mp,e,t,n)}}const yp={id:"room",class:"darkwall"},vp=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var bp={setup:e=>(e,t)=>(kr(),Pr("div",yp,[Dr(hf,{msg:"Presence"}),vp]))};class wp extends jh{constructor(e,t,n={}){super(bp,e,t,n)}}const _p={id:"room",class:"darkwall"},xp=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Ep={setup:e=>(e,t)=>(kr(),Pr("div",_p,[Dr(hf,{msg:"Genres"}),xp]))};class Tp extends jh{constructor(e,t,n={}){super(Ep,e,t,n)}}const Sp={id:"room",class:"darkwall"},kp=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Rp={setup:e=>(e,t)=>(kr(),Pr("div",Sp,[Dr(hf,{msg:"Future"}),kp]))};class Ap extends jh{constructor(e,t,n={}){super(Rp,e,t,n)}}const Cp={id:"room",class:"darkwall"},Pp=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Op={setup:e=>(e,t)=>(kr(),Pr("div",Cp,[Dr(hf,{msg:"Privacy"}),Pp]))};class Mp extends jh{constructor(e,t,n={}){super(Op,e,t,n)}}const Bp={id:"room",class:"darkwall"},Lp={class:"spacer"},Ip=Ir("img",{"xr-layer":"",width:"400",src:"https://williamcaseylucas.github.io/vue-apps/dist/190994370aebe395.png"},null,-1),Dp=Ir("br",null,null,-1),Up=Ir("br",null,null,-1),Fp=Ir("div",{class:"squareoff"},[Fr(" First person shooter games such as "),Ir("a",{href:"https://www.half-life.com/en/alyx/",target:"_blank"},"HalfLife: Alyx "),Fr(" have long used 3-D graphics to create an immersive experience for millions of players. And for decades, players on computers and game consoles have yearned for true VR so that they could fall through the screen into the worlds on the other side.")],-1);var jp={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Bp,[Ir("div",Lp,[Ip,Dp,Up,Dr(hf,{msg:"HalfLife: Alyx"}),Fp])])]))};class Np extends jh{constructor(e,t,n={}){super(jp,e,t,n),this.isInteractive=!0}}const Vp={id:"room",class:"darkwall"},Kp={class:"spacer"},zp=Ir("a",{target:"_blank",href:"https://pokemongolive.com/en/"},[Ir("img",{width:"400",src:"https://williamcaseylucas.github.io/vue-apps/dist/e7949275bfe5ebc2.png",alt:"Pokemon Go Image"})],-1),Wp=Ir("div",{class:"squareoff"},"Pokemon Go (2016) is perhaps still the best-known AR game. The Pokemon franchise was already decades old, and this was certainly part of the answer for the AR games surprising impact. It was the first Pokemon game on a mobile phone and the first free Pokemon game on any platform. ",-1);var qp={setup:e=>(e,t)=>(kr(),Pr("div",Vp,[Ir("div",Kp,[zp,Dr(hf,{msg:"Pokemon Go"}),Wp])]))};class Gp extends jh{constructor(e,t,n={}){super(qp,e,t,n)}}const $p={id:"room",class:"darkwall"},Hp={class:"spacer"},Xp=Ir("div",{class:"squareoff"},"Beat Saber is a VR rhythm game with a little Star Wars thrown in. The player uses lightsabers to keep the beat. ",-1);var Yp={setup:e=>(e,t)=>(kr(),Pr("div",$p,[Ir("div",Hp,[Dr(hf,{msg:"Beat Saber"}),Xp])]))};class Qp extends jh{constructor(e,t,n={}){super(Yp,e,t,n)}}const Zp={id:"room",class:"darkwall"},Jp={class:"spacer"},em=Ir("a",{target:"_blank",href:"https://www.thewalkingdeadourworld.com/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://williamcaseylucas.github.io/vue-apps/dist/e05bc07842c7d132.png",alt:"Walking Dead Image"})],-1),tm=Ir("div",{class:"squareoff"},"In this AR version of the transmedia franchise GPS is used to determine your location in the world. Your location and the zombies appear in an enhanced Google Maps map on the phone screen. ",-1);var nm={setup:e=>(e,t)=>(kr(),Pr("div",Zp,[Ir("div",Jp,[em,Dr(hf,{msg:"Walking Dead: Our World"}),tm])]))};class rm extends jh{constructor(e,t,n={}){super(nm,e,t,n)}}const sm={id:"room",class:"darkwall"},im={class:"spacer"},om=Ir("div",{class:"squareoff"},"Like video games and 360-degree video, VR art emphasizes immersion as the feature that makes the experience unique, as in a VR work by Christian Lemmerz entitled La Apparizione (2017). ",-1);var am={setup:e=>(e,t)=>(kr(),Pr("div",sm,[Ir("div",im,[Dr(hf,{msg:"La Apparizione"}),om])]))};class lm extends jh{constructor(e,t,n={}){super(am,e,t,n)}}const cm={id:"room",class:"darkwall"},um={class:"spacer"},dm=Ir("div",{class:"squareoff"},'Minecraft VR is a fully immersive, headset version of the sandbox game that already runs on computers, game consoles, and mobile devices. It is called a "sandbox game" because it provides an independent environment in which players can make their own structures and objects out of virtual, LEGO-like blocks. ',-1);var hm={setup:e=>(e,t)=>(kr(),Pr("div",cm,[Ir("div",um,[Dr(hf,{msg:"Minecraft VR"}),dm])]))};class fm extends jh{constructor(e,t,n={}){super(hm,e,t,n)}}const pm={id:"room",class:"darkwall"},mm={class:"spacer headline"};var gm={setup:e=>(e,t)=>(kr(),Pr("div",pm,[Ir("div",mm,[Dr(hf,{msg:"AR & VR GAMES"})])]))};class ym extends jh{constructor(e,t,n={}){super(gm,e,t,n)}}const vm={id:"room",class:"darkwall"},bm={class:"spacer headline"};var wm={setup:e=>(e,t)=>(kr(),Pr("div",vm,[Ir("div",bm,[Dr(hf,{msg:"AR & VR ART"})])]))};class _m extends jh{constructor(e,t,n={}){super(wm,e,t,n)}}const xm=[jr('<div id="room" class="darkwall"><div class="spacer-side"><br><br>\x3c!-- &lt;Title msg=&quot;Aura&quot; /&gt; --\x3e<div class="headline">Aura</div><br><br><div class="squareoff"><p>In 1930s, Walter Benjamin introduced the concept of <em>aura</em> in The Work of Art in the Age of Mechanical Reproduction. Aura is the <em>here and now</em> that work possesses because of its unique history of production and transmissinowon. </p><br><p>AR applications are not perfect reproductive technologies, as some draw on the physical and cultural uniquesness, <em>the here and now</em> of particular places </p></div></div></div>',1)];var Em={setup:e=>(e,t)=>(kr(),Pr("div",null,xm))};class Tm extends jh{constructor(e,t,n={}){super(Em,e,t,n)}}const Sm=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Fr(' "These definitions circle around one core idea: that presence is a kind of absence, '),Ir("span",{class:"keyPoint"},"the absence of mediation."),Fr(" Presence as transportation, immersion, or realism all come down to the user's forgetting that the medium is there.\" ")])])],-1)];var km={setup:e=>(e,t)=>(kr(),Pr("div",null,Sm))};class Rm extends jh{constructor(e,t,n={}){super(km,e,t,n)}}const Am={id:"room",class:"darkwall"},Cm={class:"spacer-side"},Pm=Ir("br",null,null,-1),Om=Ir("br",null,null,-1),Mm=Ir("div",{class:"squareoff"},'"Casa Batll, one of the masterpieces of Antoni Gaud, can be experienced with the mobile AR, which visualizes the reconstructed interior and the design inspirations through 3D animations."',-1);var Bm={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Am,[Ir("div",Cm,[Dr(hf,{msg:"Gaud's Casa Batll with AR"}),Pm,Om,Mm])])]))};class Lm extends jh{constructor(e,t,n={}){super(Bm,e,t,n)}}const Im=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/740518294e513122.jpg",height:"326"})],-1)];var Dm={setup:e=>(e,t)=>(kr(),Pr("div",null,Im))};class Um extends jh{constructor(e,t,n={}){super(Dm,e,t,n)}}const Fm={id:"room",class:"darkwall"},jm={class:"spacer-side"},Nm=Ir("div",{class:"squareoff"},[Ir("br"),Ir("br"),Fr(" The term cybersickness, or visually induced motion sickness, has been coined to describe symptoms including headache, nausea, eye strain, dizziness, fatigue, or even vomiting that may occur during or after exposure to a virtual environment. Cybersickness is visceral evidence that VR is not the medium to end all media. Cybersickness reminds the susceptible user of the medium in a powerful way. Nausea replaces astonishment. ")],-1);var Vm={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Fm,[Ir("div",jm,[Dr(hf,{msg:"Cybersickness and the negation of presence"}),Nm])])]))};class Km extends jh{constructor(e,t,n={}){super(Vm,e,t,n)}}const zm=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/d3e564df2f84bc31.jpg",height:"326"})],-1)];var Wm={setup:e=>(e,t)=>(kr(),Pr("div",null,zm))};class qm extends jh{constructor(e,t,n={}){super(Wm,e,t,n)}}const Gm={id:"room",class:"darkwall"},$m={class:"spacer-side"},Hm=Ir("br",null,null,-1),Xm=Ir("br",null,null,-1),Ym=Ir("br",null,null,-1),Qm=Ir("div",{class:"squareoff"},"Researchers have long pursued the idea of emotional reactions such as empathy as a test of presence. VR is understood as getting us closer to the authentic or the real. But forgetting the medium is not necessary for a sense of presence. Presence can be understood in a more nuanced way as a liminal zone between forgetting and acknowledging VR as a medium. ",-1);var Zm={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Gm,[Ir("div",$m,[Hm,Xm,Dr(hf,{msg:"Presence and Empathy"}),Ym,Qm])])]))};class Jm extends jh{constructor(e,t,n={}){super(Zm,e,t,n)}}const eg=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/25ecf05f66df0777.jpg",height:"475"})])],-1)];var tg={setup:e=>(e,t)=>(kr(),Pr("div",null,eg))};class ng extends jh{constructor(e,t,n={}){super(tg,e,t,n)}}var rg="https://williamcaseylucas.github.io/vue-apps/dist/d1938b14fe1c27f4.png";const sg=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("div",{class:"largerText",style:{"font-weight":"bold","text-align":"left"}},"1. What is Presence?"),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:rg,width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence"),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/aeb1fd379616a132.png",width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var ig={setup:e=>(e,t)=>(kr(),Pr("div",null,sg))};class og extends jh{constructor(e,t,n={}){super(ig,e,t,n)}}const ag=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("div",{style:{"font-size":"2.4rem","font-weight":"bold","text-align":"left"}},"2. Manifestations of Presence"),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/46d7793fa7ab24ad.png",width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:rg,width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var lg={setup:e=>(e,t)=>(kr(),Pr("div",null,ag))};class cg extends jh{constructor(e,t,n={}){super(lg,e,t,n)}}const ug=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("div",{class:"largerText",style:{"font-size":"2.8rem","font-weight":"bold","text-align":"left"}},"3. Aura, Place and Space "),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/f89cb4e350469b14.png",width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),Ir("br"),Ir("br"),Ir("div",{style:{float:"right"}},[Ir("img",{"xr-layer":"",src:rg,width:"50",height:"50"})]),Ir("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence")])],-1)];var dg={setup:e=>(e,t)=>(kr(),Pr("div",null,ug))};class hg extends jh{constructor(e,t,n={}){super(dg,e,t,n)}}const fg={id:"room",class:"darkwall"},pg={class:"spacer-side"},mg=Ir("br",null,null,-1),gg=Ir("br",null,null,-1),yg=Ir("div",{style:{float:"left",margin:"10px"}},[Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/4905757374923259.png",width:"20",height:"20"})],-1),vg=Ir("br",null,null,-1),bg=Ir("br",null,null,-1),wg=Ir("div",{class:"squareoff"},[Fr("360"),Ir("span",null,""),Fr(" film Clouds Over Sidra created by Chris Milk and Gabo Arora shows the life of Syrian refugees in Za'atari camp in Jordan. The camera follows 12-year old Sidra in her everyday life, allowing the users to be present with Sidra. ")],-1),_g=Ir("br",null,null,-1),xg=Ir("blockquote",{class:"squareoff"},"\"When youre inside of the headset . . . you see full 360 degrees, in all directions. And when youre sitting there in her room, watching her, you're not watching it through a television screen, youre not watching it through a window, youre sitting there with her. When you look down, you're sitting on the same ground that shes sitting on. And because of that, you feel her humanity in a deeper way. You empathize with her in a deeper way. (Milk 2015)\"",-1);var Eg={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",fg,[Ir("div",pg,[mg,gg,yg,Dr(hf,{msg:"Ultimate Empathy Machine"}),vg,bg,wg,_g,xg])])]))};class Tg extends jh{constructor(e,t,n={}){super(Eg,e,t,n)}}const Sg=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/883881c7af4ee295.jpg",height:"326"})],-1)];var kg={setup:e=>(e,t)=>(kr(),Pr("div",null,Sg))};class Rg extends jh{constructor(e,t,n={}){super(kg,e,t,n)}}const Ag={id:"room",class:"darkwall"},Cg={class:"spacer-side"},Pg=Ir("br",null,null,-1),Og=Ir("br",null,null,-1),Mg=Ir("div",{style:{float:"right",margin:"10px"}},[Ir("img",{src:"https://williamcaseylucas.github.io/vue-apps/dist/d0da198fc94f906c.png",width:"20",height:"20"})],-1),Bg=Ir("br",null,null,-1),Lg=Ir("br",null,null,-1),Ig=Ir("div",{class:"squareoff"},[Fr("Nonnie de la Pea's "),Ir("span",null,[Ir("a",{href:"https://embed.ted.com/talks/nonny_de_la_pena_the_future_of_news_virtual_reality",class:"alink",target:"_blank"},"Ted Talk")]),Fr(" called 'The future of news?'' introduces a new form of journalism where Virtual Reality technology is used to put audience inside the stories. In her work, she created VR stories about imprisonment in Guantanamo and hunger in Los Angeles to induce empathy in the audience.")],-1);var Dg={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Ag,[Ir("div",Cg,[Pg,Og,Mg,Dr(hf,{msg:"The future of news?"}),Bg,Lg,Ig])])]))};class Ug extends jh{constructor(e,t,n={}){super(Dg,e,t,n),this.isInteractive=!0}}const Fg=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/801aa52e4d0113bc.jpg",height:"326"})],-1)];var jg={setup:e=>(e,t)=>(kr(),Pr("div",null,Fg))};class Ng extends jh{constructor(e,t,n={}){super(jg,e,t,n)}}const Vg=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"postertitle"},"Pit Experiment"),Ir("br"),Ir("div",{style:{float:"right",margin:"0 0 0 15px"}},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/2176dc66f5a02546.png",height:"250"})]),Ir("div",{class:"squareoff"},"The pit experiment is a virtual experiment often used to evaluate the sence of presence. The user is given a task to grab an object on plank and take it to the other side, crossing the pit. ")])],-1)];var Kg={setup:e=>(e,t)=>(kr(),Pr("div",null,Vg))};class zg extends jh{constructor(e,t,n={}){super(Kg,e,t,n)}}const Wg={id:"room",class:"darkwall"},qg={class:"spacer-side"},Gg=Ir("br",null,null,-1),$g=Ir("div",{class:"squareoff"},[Ir("div",{style:{float:"right",margin:"0 0 0 15px"}},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/1099517326626f39.jpg",height:"400"})]),Fr(' This experiment was inspired by the VR "pit" experiment described on the wall to your left. The subjects wore AR headsets instead of VR ones. They could see the room around them, but the pit itself was still virtual. Would the subjects would feel the same measurable anxiety in AR as in VR? The subjects filled out a questionnaire after the experience and indicated that they did have a feeling of presence, but in this case, unlike in the VR experiment, the physiological data (heart rate etc.) did not indicate a response. '),Ir("br"),Ir("br"),Fr(" Gandy, Maribeth, et al. 2010. Experiences with an AR Evaluation Test Bed: Presence, Performance, and Physiological Measurement. In 2010 IEEE International Symposium on Mixed and Augmented Reality, 12736. Seoul, Korea (South): IEEE. https://doi.org/10.1109/ISMAR.2010.5643560. ")],-1);var Hg={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Wg,[Ir("div",qg,[Dr(hf,{msg:"Presence in AR"}),Gg,$g])])]))};class Xg extends jh{constructor(e,t,n={}){super(Hg,e,t,n)}}const Yg=[jr('<div id="room" class="darkwall"><div class="spacer-side"><div class="postertitle">Presence</div><div class="squareoff">Presence is a kind of absence, the absence of mediation. If the users can forget that the medium is there, then they feel presence. <br><br> To look further, Lombard and Ditton&#39;s classification of presence is useful. They grouped definitions of presence into two categories, which are <br><br><div class="keyPoint"> (1) individual perception of the world <br> (2) social interaction and engagement with others</div><br><br> The first category includes presence as transportation, as immersion and as realism. </div><br><br><div class="squareoff" style="font-style:italic;">&quot;VR and AR cannot deceive their users into believing that they are having a non-mediated experience. But that is not necessary for a sense of presence.&quot;</div></div></div>',1)];var Qg={setup:e=>(e,t)=>(kr(),Pr("div",null,Yg))};class Zg extends jh{constructor(e,t,n={}){super(Qg,e,t,n)}}const Jg={id:"room",class:"darkwall"},ey={class:"spacer-side"},ty=Ir("br",null,null,-1),ny=Ir("br",null,null,-1),ry=Ir("br",null,null,-1),sy=Ir("br",null,null,-1),iy=Ir("div",{class:"squareoff"},[Fr("Treehugger: Wawona VR experience transports the users to the red giant Sequoia trees from the Sequoia National Park. It provides a sense of intimacy with the tree - with its bark, with the cells that make up its being. The vividness of the work illustrates "),Ir("em",null,"presence"),Fr(". ")],-1);var oy={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Jg,[Ir("div",ey,[ty,ny,Dr(hf,{msg:"Treehugger: Wawona"}),ry,sy,iy,Nr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))};class ay extends jh{constructor(e,t,n={}){super(oy,e,t,n)}}const ly=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/900c5c33cb50b0df.png",height:"350"}),Ir("br"),Ir("br"),Ir("div",null,'Reality media have always been about presence. The legend of La Ciotat is a myth of presence, which you can explore in the gallery entitled "What are Reality Media?"')],-1)];var cy={setup:e=>(e,t)=>(kr(),Pr("div",null,ly))};class uy extends jh{constructor(e,t,n={}){super(cy,e,t,n)}}const dy=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/89c91ebefe9504d1.png",height:"475"})],-1)];var hy={setup:e=>(e,t)=>(kr(),Pr("div",null,dy))};class fy extends jh{constructor(e,t,n={}){super(hy,e,t,n)}}const py=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("br"),Ir("br"),Nr(' <Title msg="The future of news?" /> '),Ir("div",{class:"squareoff"},"Parthenon model explanation")])],-1)];var my={setup:e=>(e,t)=>(kr(),Pr("div",null,py))};class gy extends jh{constructor(e,t,n={}){super(my,e,t,n)}}const yy=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/495ecc58771c118d.jpg",height:"326"})],-1)];var vy={setup:e=>(e,t)=>(kr(),Pr("div",null,yy))};class by extends jh{constructor(e,t,n={}){super(vy,e,t,n)}}const wy={id:"room",class:"darkwall"},_y={class:"spacer-side"},xy=Ir("br",null,null,-1),Ey=Ir("br",null,null,-1),Ty=Ir("div",{class:"squareoff"},"The Franklin Institute in Philadelphia offered a mobile AR experience for their Terracotta Warrior exhibition. The app allowed visitors to use their smartphones to scan items and view various AR content to learn more about the history behind the clay soldiers.",-1);var Sy={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",wy,[Ir("div",_y,[Dr(hf,{msg:"Terracotta Warriors AR"}),xy,Ey,Ty])])]))};class ky extends jh{constructor(e,t,n={}){super(Sy,e,t,n)}}const Ry={id:"room"},Ay={class:"spacer"},Cy=Ir("br",null,null,-1),Py=Ir("br",null,null,-1),Oy=Ir("br",null,null,-1),My=Ir("br",null,null,-1),By=Ir("div",{class:"squareoff"},[Fr("Measuring the amount of presence or the sense of being there, is one of the few ways to assess the quality of a virtual space. This virtual pit experiment is a space that measures the presence by measuring changes in physiological reactions in users such as changes in heart rate. In this virtual room, feel whether your heart is beating faster or your hands get sweaty as if you are in a real space. "),Ir("br"),Ir("br"),Ir("br"),Fr(" Meehan, M., Insko, B., Whitton, M., & Brooks Jr, F. P. (2002). Physiological measures of presence in stressful virtual environments. Acm transactions on graphics (tog), 21(3), 645-652. "),Ir("br"),Ir("br")],-1);var Ly={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Ry,[Ir("div",Ay,[Cy,Py,Dr(hf,{msg:"Pit Experiment"}),Oy,My,By])])]))};class Iy extends jh{constructor(e,t,n={}){super(Ly,e,t,n)}}const Dy={id:"room"},Uy={class:"spacer"},Fy=Ir("br",null,null,-1),jy=Ir("br",null,null,-1),Ny=Ir("br",null,null,-1),Vy=Ir("br",null,null,-1),Ky=Ir("div",{class:"squareoff"},[Fr("1. Pick up the rubber duck in this room and try to place it in the designated area on the far side of the room. "),Ir("br"),Ir("br"),Fr(" 2. Pick up another rubber duck and drop it on the red and blue target on the floor. "),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Fr(" Head-Mounted Display devices such as Oculus Quests are recommended for this experiment. ")],-1),zy=Ir("br",null,null,-1),Wy=Ir("br",null,null,-1);var qy={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Dy,[Ir("div",Uy,[Fy,jy,Dr(hf,{msg:"Instructions"}),Ny,Vy,Ky,zy,Wy])])]))};class Gy extends jh{constructor(e,t,n={}){super(qy,e,t,n)}}const $y={id:"room",class:"darkwall"},Hy={class:"spacer"},Xy=Ir("br",null,null,-1),Yy=Ir("br",null,null,-1);var Qy={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",$y,[Ir("div",Hy,[Xy,Yy,Dr(hf,{msg:"Very carefully stretch your arms out for balance."})])])]))};class Zy extends jh{constructor(e,t,n={}){super(Qy,e,t,n)}}const Jy={id:"room",class:"darkwall"},ev={class:"spacer"},tv=Ir("br",null,null,-1),nv=Ir("br",null,null,-1);var rv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Jy,[Ir("div",ev,[tv,nv,Dr(hf,{msg:"Does this experiment make you sweat or your heart beat faster?"})])])]))};class sv extends jh{constructor(e,t,n={}){super(rv,e,t,n)}}const iv={id:"room",class:"darkwall"},ov={class:"spacer"},av=Ir("br",null,null,-1),lv=Ir("br",null,null,-1),cv=Ir("div",{class:"squareoff"},[Ir("i",null,"Reality Media"),Fr(" is a project encompassing three writing spaces, three technologies for representing ideas: print, the web, and immersive VR. The printed page is a writing space with a tradition dating back to the fifteenth century (in Europe, much earlier in China). Obviously the web has a far shorter tradition, beginning around 1990. But in the thirty year since Tim Berners-Lee launched the first web server, the web has grown to rival print for many kinds of communication. The technologies for creating 3D graphic spaces in VR (and AR) actually predate the web. But only in the past 10 years have AR and VR become widely available media. The goal of RealityMedia is to demonstrate the potential range of AR and VR as communicative forms. ")],-1);var uv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",iv,[Ir("div",ov,[Dr(hf,{msg:"Welcome to Reality Media!"}),av,lv,cv])])]))};class dv extends jh{constructor(e,t,n={}){super(uv,e,t,n)}}const hv={id:"room",class:"darkwall"},fv={class:"spacer"},pv=Ir("br",null,null,-1),mv=Ir("div",{style:{float:"left","margin-right":"20px"}},[Ir("br"),Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/3fb3b645bd6f6de6.jpg",height:"383"})],-1),gv=jr('<div class="squareoff"><div style="margin-left:30px;">Published by <span><a href="https://mitpress.mit.edu/books/reality-media" class="alink">MIT Press</a></span></div><div class="oblique">By Jay David Bolter, Maria Engberg and Blair MacIntyre</div><br><div class="quote">How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television.</div></div>',1);var yv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",hv,[Ir("div",fv,[Dr(hf,{msg:"Reality Media"}),pv,mv,gv])])]))};class vv extends jh{constructor(e,t,n={}){super(yv,e,t,n),this.isInteractive=!0}}const bv={id:"room",class:"darkwall"},wv={class:"spacer"},_v=Ir("div",{class:"squareoff",style:{width:"380px"}},[Fr("Published by "),Ir("span",null,[Ir("a",{href:"https://mitpress.mit.edu/books/reality-media",class:"alink"},"MIT Press")])],-1),xv=Ir("br",null,null,-1),Ev=Ir("div",{class:"oblique squareoff"},"By Jay David Bolter, Maria Engberg and Blair MacIntyre",-1),Tv=Ir("br",null,null,-1),Sv=Ir("div",{class:"squareoff quote"},'"How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television." ',-1);var kv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",bv,[Ir("div",wv,[Dr(hf,{msg:"Book: Reality Media"}),_v,xv,Ev,Tv,Sv])])]))};class Rv extends jh{constructor(e,t,n={}){super(kv,e,t,n),this.isInteractive=!0}}const Av={id:"room",class:"darkwall"},Cv={class:"spacer"},Pv=Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/ab7985c65467fc96.jpg",height:"212"},null,-1),Ov=Ir("br",null,null,-1),Mv=Ir("br",null,null,-1),Bv=Ir("br",null,null,-1),Lv=Ir("div",{"xr-layer":"",class:"squareoff"},[Ir("em",null,"Realitymedia"),Fr(" is built on top of Mozilla's open-source platform. An extensive guide to using Mozilla Hubs is available "),Ir("a",{href:"https://hubs.mozilla.com/docs/intro-hubs.html",target:"blank",class:"alink"},"in the Hubs user documentation."),Ir("br"),Ir("br"),Fr(" Here are the highlights: "),Ir("br"),Ir("br"),Fr(" Before entering, you are in the room's lobby. From here, you can see and hear what's going on inside the room, but you can only interact with others using text chat. "),Ir("br"),Ir("br")],-1);var Iv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Av,[Ir("div",Cv,[Pv,Ov,Mv,Dr(hf,{msg:"The Hubs Platform"}),Bv,Lv])])]))};class Dv extends jh{constructor(e,t,n={}){super(Iv,e,t,n),this.isInteractive=!0}}const Uv=[jr('<div id="room" class="darkwall"><div class="spacer"><div class="squareoff"><br><br><br><div class="keyPoint">To enter the room:</div><br> - On a desktop or mobile device, follow the prompts to select a name/avatar and enable the mic. <br> - On a VR headset, if you opened the URL on your desktop or smartphone, choose &quot;Enter on Standalone VR&quot; to create a code that makes it easy to open on your standalone headset. Open the browser in your VR headset, navigate to hubs.link and enter the code. <br><br><div class="keyPoint">To navigate in Hubs:</div><br> - On desktop use your WASD or arrow keys to move around. You can also press your right mouse button to teleport to a different location. Rotate your view using the Q and E keys, or hold down your left mouse button and drag. <br> - For VR and mobile controls, see the list of <span><a href="https://hubs.mozilla.com/docs/hubs-controls.html" target="blank" class="alink">Hubs controls.</a></span></div></div></div>',1)];var Fv={setup:e=>(e,t)=>(kr(),Pr("div",null,Uv))};class jv extends jh{constructor(e,t,n={}){super(Fv,e,t,n),this.isInteractive=!0}}const Nv={id:"room",class:"darkwall"},Vv={class:"spacer"},Kv=Ir("br",null,null,-1),zv=Ir("div",{class:"squareoff"}," The figure below indicates how to mute your microphone, take photos, share your screen, create media objects, and so on: ",-1),Wv=Ir("br",null,null,-1),qv=Ir("br",null,null,-1),Gv=Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/b15807fada17de90.jpg",height:"212"},null,-1);var $v={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Nv,[Ir("div",Vv,[Dr(hf,{msg:"Features in Hubs"}),Kv,zv,Wv,qv,Gv])])]))};class Hv extends jh{constructor(e,t,n={}){super($v,e,t,n)}}const Xv={id:"room",class:"darkwall"},Yv={class:"spacer"},Qv=Ir("br",null,null,-1),Zv=Ir("br",null,null,-1);var Jv={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",Xv,[Ir("div",Yv,[Dr(hf,{msg:"Standing on the Audio Pads will start the narration about the room or the sound of the video clip."}),Qv,Zv])])]))};class eb extends jh{constructor(e,t,n={}){super(Jv,e,t,n)}}const tb={id:"room",class:"darkwall"},nb={class:"spacer"},rb=Ir("br",null,null,-1),sb=Ir("div",{class:"squareoff"},[Ir("div",{class:"keyPoint"},"Visit the exhibit with friends"),Fr(" Sharing the URL of the room you are currently in will allow others to join your experience. "),Ir("br"),Ir("br"),Ir("div",{class:"keyPoint"},"Favorite your room"),Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/e7b4a0e2c07730f2.png",height:"212"}),Ir("br"),Fr(" Set your room as a favorite under the 'more' menu. Then, you can easily revisit the room from the list in the 'favorite rooms'. ")],-1);var ib={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",tb,[Ir("div",nb,[Dr(hf,{msg:"Other ways to use the room"}),rb,sb])])]))};class ob extends jh{constructor(e,t,n={}){super(ib,e,t,n)}}const ab=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("br"),Ir("div",{class:"keyPoint"},"Here is a map, which you will also find posted through the galleries"),Ir("br"),Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/74d2e9fda186b0d5.png",height:"400"})])],-1)];var lb={setup:e=>(e,t)=>(kr(),Pr("div",null,ab))};class cb extends jh{constructor(e,t,n={}){super(lb,e,t,n)}}const ub=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("div",{class:"squareoff"},[Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Fr(" Each gallery in this immersive book corresponds to one or more chapters in the printed book and illustrates the themes of the printed chapter(s). (See the map on the far wall for the names/themes of the galleries.) For example, the gallery entitled Presence illustrates both presence and the related concept of aura and how computer scientists as well as filmmakers and designers have tried to evoke these reactions in visitors to their immersive applications. ")])])],-1)];var db={setup:e=>(e,t)=>(kr(),Pr("div",null,ub))};class hb extends jh{constructor(e,t,n={}){super(db,e,t,n)}}const fb={id:"room",class:"darkwall"},pb={class:"spacer"},mb={href:"https://realitymedia.digital/"};var gb={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",fb,[Ir("div",pb,[Ir("a",mb,[Dr(hf,{msg:"Click here to return back to the website"})])])])]))};class yb extends jh{constructor(e,t,n={}){super(gb,e,t,n)}}const vb={id:"room",class:"darkwall"},bb={class:"spacer"},wb=Ir("br",null,null,-1),_b=Ir("br",null,null,-1);var xb={setup:e=>(e,t)=>(kr(),Pr("div",null,[Ir("div",vb,[Ir("div",bb,[wb,_b,Dr(hf,{msg:"Back to the main exhibition"})])])]))};class Eb extends jh{constructor(e,t,n={}){super(xb,e,t,n)}}const Tb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/38c52ab18d2fb9be.jpg"})])],-1)];var Sb={setup:e=>(e,t)=>(kr(),Pr("div",null,Tb))};class kb extends jh{constructor(e,t,n={}){super(Sb,e,t,n)}}const Rb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/ad1619da8b86e952.jpg"})])],-1)];var Ab={setup:e=>(e,t)=>(kr(),Pr("div",null,Rb))};class Cb extends jh{constructor(e,t,n={}){super(Ab,e,t,n)}}const Pb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/bf97de75e3d23199.jpg"})])],-1)];var Ob={setup:e=>(e,t)=>(kr(),Pr("div",null,Pb))};class Mb extends jh{constructor(e,t,n={}){super(Ob,e,t,n)}}const Bb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/19a105959cf918f7.jpg"})])],-1)];var Lb={setup:e=>(e,t)=>(kr(),Pr("div",null,Bb))};class Ib extends jh{constructor(e,t,n={}){super(Lb,e,t,n)}}const Db=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/beb846faed9d3054.jpg"})])],-1)];var Ub={setup:e=>(e,t)=>(kr(),Pr("div",null,Db))};class Fb extends jh{constructor(e,t,n={}){super(Ub,e,t,n)}}const jb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/940850748d9451b6.jpg"})])],-1)];var Nb={setup:e=>(e,t)=>(kr(),Pr("div",null,jb))};class Vb extends jh{constructor(e,t,n={}){super(Nb,e,t,n)}}const Kb=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://williamcaseylucas.github.io/vue-apps/dist/ef9917791d7b00b0.jpg"})])],-1)];var zb={setup:e=>(e,t)=>(kr(),Pr("div",null,Kb))};class Wb extends jh{constructor(e,t,n={}){super(zb,e,t,n)}}const qb={id:"room"},Gb={class:"spacer"},$b=Ir("br",null,null,-1),Hb=Ir("br",null,null,-1),Xb={class:"squareoff"};var Yb={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:"How to Use the Audio Pads",r=t&&t.parameter2?t.parameter2:"start the narrations about the room you are currently in";return(e,t)=>(kr(),Pr("div",null,[Ir("div",qb,[Ir("div",Gb,[Dr(hf,{msg:ht(n)},null,8,["msg"]),$b,Hb,Ir("div",Xb,"Standing on the Audio Pads will "+u(ht(r)),1)])])]))}};class Qb extends jh{constructor(e,t,n={}){super(Yb,e,t,n)}}const Zb={id:"room",class:"darkwall"},Jb={class:"spacer-side"},ew=Ir("br",null,null,-1),tw={class:"squareoff labelTitle"},nw={class:"squareoff"},rw=Ir("br",null,null,-1);var sw={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(kr(),Pr("div",null,[Ir("div",Zb,[Ir("div",Jb,[ew,Nr('<Title v-bind:msg="title" />'),Ir("div",tw,u(ht(n)),1),Ir("div",nw,u(ht(r)),1),rw])])]))}};class iw extends jh{constructor(e,t,n={}){super(sw,e,t,n)}}const ow={id:"room",class:"darkwall"},aw={class:"spacer-side"},lw=Ir("br",null,null,-1),cw={class:"squareoff labelLgTitle"},uw={class:"squareoff labelLgBody"},dw=Ir("br",null,null,-1);var hw={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(kr(),Pr("div",null,[Ir("div",ow,[Ir("div",aw,[lw,Nr('<Title v-bind:msg="title" />'),Ir("div",cw,u(ht(n)),1),Ir("div",uw,u(ht(r)),1),dw])])]))}};class fw extends jh{constructor(e,t,n={}){super(hw,e,t,n)}}const pw={id:"room",class:"darkwall"},mw={class:"spacer-side"},gw=Ir("br",null,null,-1),yw={class:"squareoff titleStyle"},vw=Ir("br",null,null,-1);var bw={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ";return(e,t)=>(kr(),Pr("div",null,[Ir("div",pw,[Ir("div",mw,[gw,Nr('<Title v-bind:msg="title" />'),Ir("div",yw,u(ht(n)),1),vw])])]))}};class ww extends jh{constructor(e,t,n={}){super(bw,e,t,n)}}return e.ARVR_monolith=function(e={}){let t=new kb(600,475,e);return t.mount(),t},e.Absence_Mediation=function(e={}){let t=new Rm(600,475,e);return t.mount(),t},e.Alyx=function(e={}){let t=new Np(600,475,e);return t.mount(),t},e.Apparizione=function(e={}){let t=new lm(600,475,e);return t.mount(),t},e.ArtBanner=function(e={}){let t=new _m(600,475,e);return t.mount(),t},e.AudioPad=function(e={}){let t=new Qb(600,475,e);return t.mount(),t},e.AudioText=function(e={}){let t=new eb(600,475,e);return t.mount(),t},e.Aura=function(e={}){let t=new Tm(600,475,e);return t.mount(),t},e.Back=function(){let e=new yb(600,475);return e.mount(),e},e.BeatSaber=function(e={}){let t=new Qp(600,475,e);return t.mount(),t},e.Center1=function(e={}){let t=new Of(300,475,e);return t.mount(),t},e.Center2=function(e={}){let t=new If(300,475,e);return t.mount(),t},e.Center3=function(e={}){let t=new Vf(300,475,e);return t.mount(),t},e.Center4=function(e={}){let t=new qf(300,475,e);return t.mount(),t},e.Center5=function(e={}){let t=new Yf(300,475,e);return t.mount(),t},e.Center6=function(e={}){let t=new ep(300,475,e);return t.mount(),t},e.Center7=function(e={}){let t=new sp(300,475,e);return t.mount(),t},e.Empathy=function(e={}){let t=new Jm(600,475,e);return t.mount(),t},e.Exit=function(e={}){let t=new Eb(600,475,e);return t.mount(),t},e.Future_monolith=function(e={}){let t=new Wb(600,475,e);return t.mount(),t},e.GamesBanner=function(e={}){let t=new ym(600,475,e);return t.mount(),t},e.Gaudi=function(e={}){let t=new Lm(600,475,e);return t.mount(),t},e.Gaudi_pic=function(e={}){let t=new Um(600,326,e);return t.mount(),t},e.Genres_monolith=function(e={}){let t=new Fb(600,475,e);return t.mount(),t},e.Graphics_monolith=function(e={}){let t=new Mb(600,475,e);return t.mount(),t},e.History_monolith=function(e={}){let t=new Cb(600,475,e);return t.mount(),t},e.HubsFeatures=function(e={}){let t=new Hv(600,475,e);return t.mount(),t},e.HubsPlatform=function(e={}){let t=new Dv(600,500,e);return t.mount(),t},e.HubsPlatform2=function(e={}){let t=new jv(600,475,e);return t.mount(),t},e.Label=function(e={}){let t=new iw(600,475,e);return t.mount(),t},e.Label_lg=function(e={}){let t=new fw(600,475,e);return t.mount(),t},e.Laciotat=function(e={}){let t=new uy(600,475,e);return t.mount(),t},e.Mainmap_black=function(e={}){let t=new ng(600,475,e);return t.mount(),t},e.Map=function(e={}){let t=new Tf(300,475,e);return t.mount(),t},e.Milk=function(e={}){let t=new Tg(600,475,e);return t.mount(),t},e.Milk_pic=function(e={}){let t=new Rg(600,326,e);return t.mount(),t},e.Minecraft=function(e={}){let t=new fm(600,475,e);return t.mount(),t},e.MitPress=function(e={}){let t=new vv(600,475,e);return t.mount(),t},e.MitText=function(e={}){let t=new Rv(600,475,e);return t.mount(),t},e.Monolith1=function(e={}){let t=new lp(300,475,e);return t.mount(),t},e.Monolith2=function(e={}){let t=new hp(300,475,e);return t.mount(),t},e.Monolith3=function(e={}){let t=new gp(300,475,e);return t.mount(),t},e.Monolith4=function(e={}){let t=new wp(300,475,e);return t.mount(),t},e.Monolith5=function(e={}){let t=new Tp(300,475,e);return t.mount(),t},e.Monolith6=function(e={}){let t=new Ap(300,475,e);return t.mount(),t},e.Monolith7=function(e={}){let t=new Mp(300,475,e);return t.mount(),t},e.Nonnie=function(e={}){let t=new Ug(600,475,e);return t.mount(),t},e.Nonnie_pic=function(e={}){let t=new Ng(600,326,e);return t.mount(),t},e.Overview=function(e={}){let t=new hb(600,475,e);return t.mount(),t},e.Parthenon=function(e={}){let t=new gy(600,475,e);return t.mount(),t},e.Pit=function(e={}){let t=new Iy(600,475,e);return t.mount(),t},e.PitInstruction=function(e={}){let t=new Gy(600,475,e);return t.mount(),t},e.Pit_AR=function(e={}){let t=new Xg(600,475,e);return t.mount(),t},e.Pit_Experiment=function(e={}){let t=new zg(600,475,e);return t.mount(),t},e.PlaceandSpace=function(e={}){let t=new fy(600,475,e);return t.mount(),t},e.Pokemon=function(e={}){let t=new Gp(600,475,e);return t.mount(),t},e.PortalSubtitle=function(e={}){let t=new bf(300,100,e);return t.mount(),t},e.PortalTitle=function(e={}){let t=new mf(300,100,e);return t.mount(),t},e.Presence=function(e={}){let t=new Zg(600,475,e);return t.mount(),t},e.Presence_map=function(e={}){let t=new og(600,475,e);return t.mount(),t},e.Presence_map2=function(e={}){let t=new cg(600,475,e);return t.mount(),t},e.Presence_map3=function(e={}){let t=new hg(600,475,e);return t.mount(),t},e.Presence_monolith=function(e={}){let t=new Ib(600,475,e);return t.mount(),t},e.Privacy_monolith=function(e={}){let t=new Vb(600,475,e);return t.mount(),t},e.Sharing=function(e={}){let t=new ob(600,475,e);return t.mount(),t},e.Terracotta=function(e={}){let t=new ky(600,475,e);return t.mount(),t},e.TerracottaPic=function(e={}){let t=new by(600,326,e);return t.mount(),t},e.Title=function(e={}){let t=new ww(600,475,e);return t.mount(),t},e.Treehugger=function(e={}){let t=new ay(600,475,e);return t.mount(),t},e.WalkingDead=function(e={}){let t=new rm(600,475,e);return t.mount(),t},e.Welcome=function(e={}){let t=new dv(600,475,e);return t.mount(),t},e.cybersickness=function(e={}){let t=new Km(600,475,e);return t.mount(),t},e.cybersickness_pic=function(e={}){let t=new qm(600,326,e);return t.mount(),t},e.hubsTest1=function(e={}){let t=new Vh(e);return t.mount(),t},e.hubsTest2=function(e={}){let t=new Qh(e);return t.mount(),t},e.hubsTest3=function(e={}){let t=new df(e);return t.mount(),t},e.initializeEthereal=function(){jh.initializeEthereal()},e.pitSign1=function(e={}){let t=new Zy(600,475,e);return t.mount(),t},e.pitSign2=function(e={}){let t=new sv(600,475,e);return t.mount(),t},e.rotundaMap=function(e={}){let t=new cb(600,475,e);return t.mount(),t},e.systemTick=function(e,t){jh.systemTick(e,t)},Object.defineProperty(e,"__esModule",{value:!0}),e}({},THREE);
